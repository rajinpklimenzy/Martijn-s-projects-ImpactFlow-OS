(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var xg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pb={exports:{}},Op={},mb={exports:{}},vn={};var YS;function aR(){if(YS)return vn;YS=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;function m(q){return q===null||typeof q!="object"?null:(q=h&&q[h]||q["@@iterator"],typeof q=="function"?q:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,v={};function g(q,C,U){this.props=q,this.context=C,this.refs=v,this.updater=U||p}g.prototype.isReactComponent={},g.prototype.setState=function(q,C){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,C,"setState")},g.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function b(){}b.prototype=g.prototype;function w(q,C,U){this.props=q,this.context=C,this.refs=v,this.updater=U||p}var j=w.prototype=new b;j.constructor=w,y(j,g.prototype),j.isPureReactComponent=!0;var N=Array.isArray,S=Object.prototype.hasOwnProperty,P={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function O(q,C,U){var W,B={},K=null,re=null;if(C!=null)for(W in C.ref!==void 0&&(re=C.ref),C.key!==void 0&&(K=""+C.key),C)S.call(C,W)&&!A.hasOwnProperty(W)&&(B[W]=C[W]);var fe=arguments.length-2;if(fe===1)B.children=U;else if(1<fe){for(var ce=Array(fe),he=0;he<fe;he++)ce[he]=arguments[he+2];B.children=ce}if(q&&q.defaultProps)for(W in fe=q.defaultProps,fe)B[W]===void 0&&(B[W]=fe[W]);return{$$typeof:e,type:q,key:K,ref:re,props:B,_owner:P.current}}function M(q,C){return{$$typeof:e,type:q.type,key:C,ref:q.ref,props:q.props,_owner:q._owner}}function F(q){return typeof q=="object"&&q!==null&&q.$$typeof===e}function E(q){var C={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(U){return C[U]})}var T=/\/+/g;function I(q,C){return typeof q=="object"&&q!==null&&q.key!=null?E(""+q.key):C.toString(36)}function z(q,C,U,W,B){var K=typeof q;(K==="undefined"||K==="boolean")&&(q=null);var re=!1;if(q===null)re=!0;else switch(K){case"string":case"number":re=!0;break;case"object":switch(q.$$typeof){case e:case t:re=!0}}if(re)return re=q,B=B(re),q=W===""?"."+I(re,0):W,N(B)?(U="",q!=null&&(U=q.replace(T,"$&/")+"/"),z(B,C,U,"",function(he){return he})):B!=null&&(F(B)&&(B=M(B,U+(!B.key||re&&re.key===B.key?"":(""+B.key).replace(T,"$&/")+"/")+q)),C.push(B)),1;if(re=0,W=W===""?".":W+":",N(q))for(var fe=0;fe<q.length;fe++){K=q[fe];var ce=W+I(K,fe);re+=z(K,C,U,ce,B)}else if(ce=m(q),typeof ce=="function")for(q=ce.call(q),fe=0;!(K=q.next()).done;)K=K.value,ce=W+I(K,fe++),re+=z(K,C,U,ce,B);else if(K==="object")throw C=String(q),Error("Objects are not valid as a React child (found: "+(C==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":C)+"). If you meant to render a collection of children, use an array instead.");return re}function Q(q,C,U){if(q==null)return q;var W=[],B=0;return z(q,W,"","",function(K){return C.call(U,K,B++)}),W}function te(q){if(q._status===-1){var C=q._result;C=C(),C.then(function(U){(q._status===0||q._status===-1)&&(q._status=1,q._result=U)},function(U){(q._status===0||q._status===-1)&&(q._status=2,q._result=U)}),q._status===-1&&(q._status=0,q._result=C)}if(q._status===1)return q._result.default;throw q._result}var J={current:null},ie={transition:null},X={ReactCurrentDispatcher:J,ReactCurrentBatchConfig:ie,ReactCurrentOwner:P};function Z(){throw Error("act(...) is not supported in production builds of React.")}return vn.Children={map:Q,forEach:function(q,C,U){Q(q,function(){C.apply(this,arguments)},U)},count:function(q){var C=0;return Q(q,function(){C++}),C},toArray:function(q){return Q(q,function(C){return C})||[]},only:function(q){if(!F(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},vn.Component=g,vn.Fragment=r,vn.Profiler=a,vn.PureComponent=w,vn.StrictMode=n,vn.Suspense=c,vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,vn.act=Z,vn.cloneElement=function(q,C,U){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var W=y({},q.props),B=q.key,K=q.ref,re=q._owner;if(C!=null){if(C.ref!==void 0&&(K=C.ref,re=P.current),C.key!==void 0&&(B=""+C.key),q.type&&q.type.defaultProps)var fe=q.type.defaultProps;for(ce in C)S.call(C,ce)&&!A.hasOwnProperty(ce)&&(W[ce]=C[ce]===void 0&&fe!==void 0?fe[ce]:C[ce])}var ce=arguments.length-2;if(ce===1)W.children=U;else if(1<ce){fe=Array(ce);for(var he=0;he<ce;he++)fe[he]=arguments[he+2];W.children=fe}return{$$typeof:e,type:q.type,key:B,ref:K,props:W,_owner:re}},vn.createContext=function(q){return q={$$typeof:o,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:s,_context:q},q.Consumer=q},vn.createElement=O,vn.createFactory=function(q){var C=O.bind(null,q);return C.type=q,C},vn.createRef=function(){return{current:null}},vn.forwardRef=function(q){return{$$typeof:l,render:q}},vn.isValidElement=F,vn.lazy=function(q){return{$$typeof:d,_payload:{_status:-1,_result:q},_init:te}},vn.memo=function(q,C){return{$$typeof:u,type:q,compare:C===void 0?null:C}},vn.startTransition=function(q){var C=ie.transition;ie.transition={};try{q()}finally{ie.transition=C}},vn.unstable_act=Z,vn.useCallback=function(q,C){return J.current.useCallback(q,C)},vn.useContext=function(q){return J.current.useContext(q)},vn.useDebugValue=function(){},vn.useDeferredValue=function(q){return J.current.useDeferredValue(q)},vn.useEffect=function(q,C){return J.current.useEffect(q,C)},vn.useId=function(){return J.current.useId()},vn.useImperativeHandle=function(q,C,U){return J.current.useImperativeHandle(q,C,U)},vn.useInsertionEffect=function(q,C){return J.current.useInsertionEffect(q,C)},vn.useLayoutEffect=function(q,C){return J.current.useLayoutEffect(q,C)},vn.useMemo=function(q,C){return J.current.useMemo(q,C)},vn.useReducer=function(q,C,U){return J.current.useReducer(q,C,U)},vn.useRef=function(q){return J.current.useRef(q)},vn.useState=function(q){return J.current.useState(q)},vn.useSyncExternalStore=function(q,C,U){return J.current.useSyncExternalStore(q,C,U)},vn.useTransition=function(){return J.current.useTransition()},vn.version="18.3.1",vn}var JS;function I1(){return JS||(JS=1,mb.exports=aR()),mb.exports}var QS;function iR(){if(QS)return Op;QS=1;var e=I1(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,u){var d,h={},m=null,p=null;u!==void 0&&(m=""+u),c.key!==void 0&&(m=""+c.key),c.ref!==void 0&&(p=c.ref);for(d in c)n.call(c,d)&&!s.hasOwnProperty(d)&&(h[d]=c[d]);if(l&&l.defaultProps)for(d in c=l.defaultProps,c)h[d]===void 0&&(h[d]=c[d]);return{$$typeof:t,type:l,key:m,ref:p,props:h,_owner:a.current}}return Op.Fragment=r,Op.jsx=o,Op.jsxs=o,Op}var ZS;function sR(){return ZS||(ZS=1,pb.exports=iR()),pb.exports}var i=sR(),V=I1();const Qe=oa(V);var gg={},xb={exports:{}},go={},gb={exports:{}},vb={};var e_;function oR(){return e_||(e_=1,(function(e){function t(ie,X){var Z=ie.length;ie.push(X);e:for(;0<Z;){var q=Z-1>>>1,C=ie[q];if(0<a(C,X))ie[q]=X,ie[Z]=C,Z=q;else break e}}function r(ie){return ie.length===0?null:ie[0]}function n(ie){if(ie.length===0)return null;var X=ie[0],Z=ie.pop();if(Z!==X){ie[0]=Z;e:for(var q=0,C=ie.length,U=C>>>1;q<U;){var W=2*(q+1)-1,B=ie[W],K=W+1,re=ie[K];if(0>a(B,Z))K<C&&0>a(re,B)?(ie[q]=re,ie[K]=Z,q=K):(ie[q]=B,ie[W]=Z,q=W);else if(K<C&&0>a(re,Z))ie[q]=re,ie[K]=Z,q=K;else break e}}return X}function a(ie,X){var Z=ie.sortIndex-X.sortIndex;return Z!==0?Z:ie.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,m=3,p=!1,y=!1,v=!1,g=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(ie){for(var X=r(u);X!==null;){if(X.callback===null)n(u);else if(X.startTime<=ie)n(u),X.sortIndex=X.expirationTime,t(c,X);else break;X=r(u)}}function N(ie){if(v=!1,j(ie),!y)if(r(c)!==null)y=!0,te(S);else{var X=r(u);X!==null&&J(N,X.startTime-ie)}}function S(ie,X){y=!1,v&&(v=!1,b(O),O=-1),p=!0;var Z=m;try{for(j(X),h=r(c);h!==null&&(!(h.expirationTime>X)||ie&&!E());){var q=h.callback;if(typeof q=="function"){h.callback=null,m=h.priorityLevel;var C=q(h.expirationTime<=X);X=e.unstable_now(),typeof C=="function"?h.callback=C:h===r(c)&&n(c),j(X)}else n(c);h=r(c)}if(h!==null)var U=!0;else{var W=r(u);W!==null&&J(N,W.startTime-X),U=!1}return U}finally{h=null,m=Z,p=!1}}var P=!1,A=null,O=-1,M=5,F=-1;function E(){return!(e.unstable_now()-F<M)}function T(){if(A!==null){var ie=e.unstable_now();F=ie;var X=!0;try{X=A(!0,ie)}finally{X?I():(P=!1,A=null)}}else P=!1}var I;if(typeof w=="function")I=function(){w(T)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,Q=z.port2;z.port1.onmessage=T,I=function(){Q.postMessage(null)}}else I=function(){g(T,0)};function te(ie){A=ie,P||(P=!0,I())}function J(ie,X){O=g(function(){ie(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ie){ie.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,te(S))},e.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<ie?Math.floor(1e3/ie):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(ie){switch(m){case 1:case 2:case 3:var X=3;break;default:X=m}var Z=m;m=X;try{return ie()}finally{m=Z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ie,X){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var Z=m;m=ie;try{return X()}finally{m=Z}},e.unstable_scheduleCallback=function(ie,X,Z){var q=e.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?q+Z:q):Z=q,ie){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=Z+C,ie={id:d++,callback:X,priorityLevel:ie,startTime:Z,expirationTime:C,sortIndex:-1},Z>q?(ie.sortIndex=Z,t(u,ie),r(c)===null&&ie===r(u)&&(v?(b(O),O=-1):v=!0,J(N,Z-q))):(ie.sortIndex=C,t(c,ie),y||p||(y=!0,te(S))),ie},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(ie){var X=m;return function(){var Z=m;m=X;try{return ie.apply(this,arguments)}finally{m=Z}}}})(vb)),vb}var t_;function lR(){return t_||(t_=1,gb.exports=oR()),gb.exports}var r_;function cR(){if(r_)return go;r_=1;var e=I1(),t=lR();function r(f){for(var x="https://reactjs.org/docs/error-decoder.html?invariant="+f,k=1;k<arguments.length;k++)x+="&args[]="+encodeURIComponent(arguments[k]);return"Minified React error #"+f+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function s(f,x){o(f,x),o(f+"Capture",x)}function o(f,x){for(a[f]=x,f=0;f<x.length;f++)n.add(x[f])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},h={};function m(f){return c.call(h,f)?!0:c.call(d,f)?!1:u.test(f)?h[f]=!0:(d[f]=!0,!1)}function p(f,x,k,D){if(k!==null&&k.type===0)return!1;switch(typeof x){case"function":case"symbol":return!0;case"boolean":return D?!1:k!==null?!k.acceptsBooleans:(f=f.toLowerCase().slice(0,5),f!=="data-"&&f!=="aria-");default:return!1}}function y(f,x,k,D){if(x===null||typeof x>"u"||p(f,x,k,D))return!0;if(D)return!1;if(k!==null)switch(k.type){case 3:return!x;case 4:return x===!1;case 5:return isNaN(x);case 6:return isNaN(x)||1>x}return!1}function v(f,x,k,D,G,se,we){this.acceptsBooleans=x===2||x===3||x===4,this.attributeName=D,this.attributeNamespace=G,this.mustUseProperty=k,this.propertyName=f,this.type=x,this.sanitizeURL=se,this.removeEmptyString=we}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(f){g[f]=new v(f,0,!1,f,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(f){var x=f[0];g[x]=new v(x,1,!1,f[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(f){g[f]=new v(f,2,!1,f.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(f){g[f]=new v(f,2,!1,f,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(f){g[f]=new v(f,3,!1,f.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(f){g[f]=new v(f,3,!0,f,null,!1,!1)}),["capture","download"].forEach(function(f){g[f]=new v(f,4,!1,f,null,!1,!1)}),["cols","rows","size","span"].forEach(function(f){g[f]=new v(f,6,!1,f,null,!1,!1)}),["rowSpan","start"].forEach(function(f){g[f]=new v(f,5,!1,f.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function w(f){return f[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(f){var x=f.replace(b,w);g[x]=new v(x,1,!1,f,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(f){var x=f.replace(b,w);g[x]=new v(x,1,!1,f,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(f){var x=f.replace(b,w);g[x]=new v(x,1,!1,f,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(f){g[f]=new v(f,1,!1,f.toLowerCase(),null,!1,!1)}),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(f){g[f]=new v(f,1,!1,f.toLowerCase(),null,!0,!0)});function j(f,x,k,D){var G=g.hasOwnProperty(x)?g[x]:null;(G!==null?G.type!==0:D||!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(y(x,k,G,D)&&(k=null),D||G===null?m(x)&&(k===null?f.removeAttribute(x):f.setAttribute(x,""+k)):G.mustUseProperty?f[G.propertyName]=k===null?G.type===3?!1:"":k:(x=G.attributeName,D=G.attributeNamespace,k===null?f.removeAttribute(x):(G=G.type,k=G===3||G===4&&k===!0?"":""+k,D?f.setAttributeNS(D,x,k):f.setAttribute(x,k))))}var N=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),P=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),E=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),ie=Symbol.iterator;function X(f){return f===null||typeof f!="object"?null:(f=ie&&f[ie]||f["@@iterator"],typeof f=="function"?f:null)}var Z=Object.assign,q;function C(f){if(q===void 0)try{throw Error()}catch(k){var x=k.stack.trim().match(/\n( *(at )?)/);q=x&&x[1]||""}return`
`+q+f}var U=!1;function W(f,x){if(!f||U)return"";U=!0;var k=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(x)if(x=function(){throw Error()},Object.defineProperty(x.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(x,[])}catch(gt){var D=gt}Reflect.construct(f,[],x)}else{try{x.call()}catch(gt){D=gt}f.call(x.prototype)}else{try{throw Error()}catch(gt){D=gt}f()}}catch(gt){if(gt&&D&&typeof gt.stack=="string"){for(var G=gt.stack.split(`
`),se=D.stack.split(`
`),we=G.length-1,qe=se.length-1;1<=we&&0<=qe&&G[we]!==se[qe];)qe--;for(;1<=we&&0<=qe;we--,qe--)if(G[we]!==se[qe]){if(we!==1||qe!==1)do if(we--,qe--,0>qe||G[we]!==se[qe]){var Ke=`
`+G[we].replace(" at new "," at ");return f.displayName&&Ke.includes("<anonymous>")&&(Ke=Ke.replace("<anonymous>",f.displayName)),Ke}while(1<=we&&0<=qe);break}}}finally{U=!1,Error.prepareStackTrace=k}return(f=f?f.displayName||f.name:"")?C(f):""}function B(f){switch(f.tag){case 5:return C(f.type);case 16:return C("Lazy");case 13:return C("Suspense");case 19:return C("SuspenseList");case 0:case 2:case 15:return f=W(f.type,!1),f;case 11:return f=W(f.type.render,!1),f;case 1:return f=W(f.type,!0),f;default:return""}}function K(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case A:return"Fragment";case P:return"Portal";case M:return"Profiler";case O:return"StrictMode";case I:return"Suspense";case z:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case E:return(f.displayName||"Context")+".Consumer";case F:return(f._context.displayName||"Context")+".Provider";case T:var x=f.render;return f=f.displayName,f||(f=x.displayName||x.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case Q:return x=f.displayName||null,x!==null?x:K(f.type)||"Memo";case te:x=f._payload,f=f._init;try{return K(f(x))}catch{}}return null}function re(f){var x=f.type;switch(f.tag){case 24:return"Cache";case 9:return(x.displayName||"Context")+".Consumer";case 10:return(x._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return f=x.render,f=f.displayName||f.name||"",x.displayName||(f!==""?"ForwardRef("+f+")":"ForwardRef");case 7:return"Fragment";case 5:return x;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return K(x);case 8:return x===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof x=="function")return x.displayName||x.name||null;if(typeof x=="string")return x}return null}function fe(f){switch(typeof f){case"boolean":case"number":case"string":case"undefined":return f;case"object":return f;default:return""}}function ce(f){var x=f.type;return(f=f.nodeName)&&f.toLowerCase()==="input"&&(x==="checkbox"||x==="radio")}function he(f){var x=ce(f)?"checked":"value",k=Object.getOwnPropertyDescriptor(f.constructor.prototype,x),D=""+f[x];if(!f.hasOwnProperty(x)&&typeof k<"u"&&typeof k.get=="function"&&typeof k.set=="function"){var G=k.get,se=k.set;return Object.defineProperty(f,x,{configurable:!0,get:function(){return G.call(this)},set:function(we){D=""+we,se.call(this,we)}}),Object.defineProperty(f,x,{enumerable:k.enumerable}),{getValue:function(){return D},setValue:function(we){D=""+we},stopTracking:function(){f._valueTracker=null,delete f[x]}}}}function Oe(f){f._valueTracker||(f._valueTracker=he(f))}function ee(f){if(!f)return!1;var x=f._valueTracker;if(!x)return!0;var k=x.getValue(),D="";return f&&(D=ce(f)?f.checked?"true":"false":f.value),f=D,f!==k?(x.setValue(f),!0):!1}function De(f){if(f=f||(typeof document<"u"?document:void 0),typeof f>"u")return null;try{return f.activeElement||f.body}catch{return f.body}}function je(f,x){var k=x.checked;return Z({},x,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:k??f._wrapperState.initialChecked})}function oe(f,x){var k=x.defaultValue==null?"":x.defaultValue,D=x.checked!=null?x.checked:x.defaultChecked;k=fe(x.value!=null?x.value:k),f._wrapperState={initialChecked:D,initialValue:k,controlled:x.type==="checkbox"||x.type==="radio"?x.checked!=null:x.value!=null}}function ue(f,x){x=x.checked,x!=null&&j(f,"checked",x,!1)}function _e(f,x){ue(f,x);var k=fe(x.value),D=x.type;if(k!=null)D==="number"?(k===0&&f.value===""||f.value!=k)&&(f.value=""+k):f.value!==""+k&&(f.value=""+k);else if(D==="submit"||D==="reset"){f.removeAttribute("value");return}x.hasOwnProperty("value")?Pe(f,x.type,k):x.hasOwnProperty("defaultValue")&&Pe(f,x.type,fe(x.defaultValue)),x.checked==null&&x.defaultChecked!=null&&(f.defaultChecked=!!x.defaultChecked)}function Se(f,x,k){if(x.hasOwnProperty("value")||x.hasOwnProperty("defaultValue")){var D=x.type;if(!(D!=="submit"&&D!=="reset"||x.value!==void 0&&x.value!==null))return;x=""+f._wrapperState.initialValue,k||x===f.value||(f.value=x),f.defaultValue=x}k=f.name,k!==""&&(f.name=""),f.defaultChecked=!!f._wrapperState.initialChecked,k!==""&&(f.name=k)}function Pe(f,x,k){(x!=="number"||De(f.ownerDocument)!==f)&&(k==null?f.defaultValue=""+f._wrapperState.initialValue:f.defaultValue!==""+k&&(f.defaultValue=""+k))}var pe=Array.isArray;function ae(f,x,k,D){if(f=f.options,x){x={};for(var G=0;G<k.length;G++)x["$"+k[G]]=!0;for(k=0;k<f.length;k++)G=x.hasOwnProperty("$"+f[k].value),f[k].selected!==G&&(f[k].selected=G),G&&D&&(f[k].defaultSelected=!0)}else{for(k=""+fe(k),x=null,G=0;G<f.length;G++){if(f[G].value===k){f[G].selected=!0,D&&(f[G].defaultSelected=!0);return}x!==null||f[G].disabled||(x=f[G])}x!==null&&(x.selected=!0)}}function ye(f,x){if(x.dangerouslySetInnerHTML!=null)throw Error(r(91));return Z({},x,{value:void 0,defaultValue:void 0,children:""+f._wrapperState.initialValue})}function Be(f,x){var k=x.value;if(k==null){if(k=x.children,x=x.defaultValue,k!=null){if(x!=null)throw Error(r(92));if(pe(k)){if(1<k.length)throw Error(r(93));k=k[0]}x=k}x==null&&(x=""),k=x}f._wrapperState={initialValue:fe(k)}}function $e(f,x){var k=fe(x.value),D=fe(x.defaultValue);k!=null&&(k=""+k,k!==f.value&&(f.value=k),x.defaultValue==null&&f.defaultValue!==k&&(f.defaultValue=k)),D!=null&&(f.defaultValue=""+D)}function rt(f){var x=f.textContent;x===f._wrapperState.initialValue&&x!==""&&x!==null&&(f.value=x)}function ft(f){switch(f){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nt(f,x){return f==null||f==="http://www.w3.org/1999/xhtml"?ft(x):f==="http://www.w3.org/2000/svg"&&x==="foreignObject"?"http://www.w3.org/1999/xhtml":f}var Ue,dt=(function(f){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(x,k,D,G){MSApp.execUnsafeLocalFunction(function(){return f(x,k,D,G)})}:f})(function(f,x){if(f.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in f)f.innerHTML=x;else{for(Ue=Ue||document.createElement("div"),Ue.innerHTML="<svg>"+x.valueOf().toString()+"</svg>",x=Ue.firstChild;f.firstChild;)f.removeChild(f.firstChild);for(;x.firstChild;)f.appendChild(x.firstChild)}});function st(f,x){if(x){var k=f.firstChild;if(k&&k===f.lastChild&&k.nodeType===3){k.nodeValue=x;return}}f.textContent=x}var it={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Re=["Webkit","ms","Moz","O"];Object.keys(it).forEach(function(f){Re.forEach(function(x){x=x+f.charAt(0).toUpperCase()+f.substring(1),it[x]=it[f]})});function vt(f,x,k){return x==null||typeof x=="boolean"||x===""?"":k||typeof x!="number"||x===0||it.hasOwnProperty(f)&&it[f]?(""+x).trim():x+"px"}function nt(f,x){f=f.style;for(var k in x)if(x.hasOwnProperty(k)){var D=k.indexOf("--")===0,G=vt(k,x[k],D);k==="float"&&(k="cssFloat"),D?f.setProperty(k,G):f[k]=G}}var Rt=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function er(f,x){if(x){if(Rt[f]&&(x.children!=null||x.dangerouslySetInnerHTML!=null))throw Error(r(137,f));if(x.dangerouslySetInnerHTML!=null){if(x.children!=null)throw Error(r(60));if(typeof x.dangerouslySetInnerHTML!="object"||!("__html"in x.dangerouslySetInnerHTML))throw Error(r(61))}if(x.style!=null&&typeof x.style!="object")throw Error(r(62))}}function ar(f,x){if(f.indexOf("-")===-1)return typeof x.is=="string";switch(f){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $t=null;function Pr(f){return f=f.target||f.srcElement||window,f.correspondingUseElement&&(f=f.correspondingUseElement),f.nodeType===3?f.parentNode:f}var Kt=null,Er=null,nn=null;function fr(f){if(f=hd(f)){if(typeof Kt!="function")throw Error(r(280));var x=f.stateNode;x&&(x=jf(x),Kt(f.stateNode,f.type,x))}}function or(f){Er?nn?nn.push(f):nn=[f]:Er=f}function Tr(){if(Er){var f=Er,x=nn;if(nn=Er=null,fr(f),x)for(f=0;f<x.length;f++)fr(x[f])}}function fn(f,x){return f(x)}function sn(){}var We=!1;function Ct(f,x,k){if(We)return f(x,k);We=!0;try{return fn(f,x,k)}finally{We=!1,(Er!==null||nn!==null)&&(sn(),Tr())}}function At(f,x){var k=f.stateNode;if(k===null)return null;var D=jf(k);if(D===null)return null;k=D[x];e:switch(x){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(D=!D.disabled)||(f=f.type,D=!(f==="button"||f==="input"||f==="select"||f==="textarea")),f=!D;break e;default:f=!1}if(f)return null;if(k&&typeof k!="function")throw Error(r(231,x,typeof k));return k}var ir=!1;if(l)try{var vr={};Object.defineProperty(vr,"passive",{get:function(){ir=!0}}),window.addEventListener("test",vr,vr),window.removeEventListener("test",vr,vr)}catch{ir=!1}function Wr(f,x,k,D,G,se,we,qe,Ke){var gt=Array.prototype.slice.call(arguments,3);try{x.apply(k,gt)}catch(Ht){this.onError(Ht)}}var Br=!1,Hr=null,ne=!1,ge=null,ve={onError:function(f){Br=!0,Hr=f}};function ke(f,x,k,D,G,se,we,qe,Ke){Br=!1,Hr=null,Wr.apply(ve,arguments)}function Ie(f,x,k,D,G,se,we,qe,Ke){if(ke.apply(this,arguments),Br){if(Br){var gt=Hr;Br=!1,Hr=null}else throw Error(r(198));ne||(ne=!0,ge=gt)}}function Te(f){var x=f,k=f;if(f.alternate)for(;x.return;)x=x.return;else{f=x;do x=f,(x.flags&4098)!==0&&(k=x.return),f=x.return;while(f)}return x.tag===3?k:null}function ze(f){if(f.tag===13){var x=f.memoizedState;if(x===null&&(f=f.alternate,f!==null&&(x=f.memoizedState)),x!==null)return x.dehydrated}return null}function et(f){if(Te(f)!==f)throw Error(r(188))}function Ge(f){var x=f.alternate;if(!x){if(x=Te(f),x===null)throw Error(r(188));return x!==f?null:f}for(var k=f,D=x;;){var G=k.return;if(G===null)break;var se=G.alternate;if(se===null){if(D=G.return,D!==null){k=D;continue}break}if(G.child===se.child){for(se=G.child;se;){if(se===k)return et(G),f;if(se===D)return et(G),x;se=se.sibling}throw Error(r(188))}if(k.return!==D.return)k=G,D=se;else{for(var we=!1,qe=G.child;qe;){if(qe===k){we=!0,k=G,D=se;break}if(qe===D){we=!0,D=G,k=se;break}qe=qe.sibling}if(!we){for(qe=se.child;qe;){if(qe===k){we=!0,k=se,D=G;break}if(qe===D){we=!0,D=se,k=G;break}qe=qe.sibling}if(!we)throw Error(r(189))}}if(k.alternate!==D)throw Error(r(190))}if(k.tag!==3)throw Error(r(188));return k.stateNode.current===k?f:x}function Je(f){return f=Ge(f),f!==null?at(f):null}function at(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){var x=at(f);if(x!==null)return x;f=f.sibling}return null}var wt=t.unstable_scheduleCallback,Pt=t.unstable_cancelCallback,It=t.unstable_shouldYield,Lt=t.unstable_requestPaint,Dt=t.unstable_now,kr=t.unstable_getCurrentPriorityLevel,Dr=t.unstable_ImmediatePriority,an=t.unstable_UserBlockingPriority,Nn=t.unstable_NormalPriority,va=t.unstable_LowPriority,Ba=t.unstable_IdlePriority,pa=null,_n=null;function Ta(f){if(_n&&typeof _n.onCommitFiberRoot=="function")try{_n.onCommitFiberRoot(pa,f,void 0,(f.current.flags&128)===128)}catch{}}var gn=Math.clz32?Math.clz32:ht,en=Math.log,Le=Math.LN2;function ht(f){return f>>>=0,f===0?32:31-(en(f)/Le|0)|0}var ct=64,zt=4194304;function Zt(f){switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return f&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return f}}function Gt(f,x){var k=f.pendingLanes;if(k===0)return 0;var D=0,G=f.suspendedLanes,se=f.pingedLanes,we=k&268435455;if(we!==0){var qe=we&~G;qe!==0?D=Zt(qe):(se&=we,se!==0&&(D=Zt(se)))}else we=k&~G,we!==0?D=Zt(we):se!==0&&(D=Zt(se));if(D===0)return 0;if(x!==0&&x!==D&&(x&G)===0&&(G=D&-D,se=x&-x,G>=se||G===16&&(se&4194240)!==0))return x;if((D&4)!==0&&(D|=k&16),x=f.entangledLanes,x!==0)for(f=f.entanglements,x&=D;0<x;)k=31-gn(x),G=1<<k,D|=f[k],x&=~G;return D}function dr(f,x){switch(f){case 1:case 2:case 4:return x+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return x+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tn(f,x){for(var k=f.suspendedLanes,D=f.pingedLanes,G=f.expirationTimes,se=f.pendingLanes;0<se;){var we=31-gn(se),qe=1<<we,Ke=G[we];Ke===-1?((qe&k)===0||(qe&D)!==0)&&(G[we]=dr(qe,x)):Ke<=x&&(f.expiredLanes|=qe),se&=~qe}}function hn(f){return f=f.pendingLanes&-1073741825,f!==0?f:f&1073741824?1073741824:0}function Wt(){var f=ct;return ct<<=1,(ct&4194240)===0&&(ct=64),f}function Xt(f){for(var x=[],k=0;31>k;k++)x.push(f);return x}function yt(f,x,k){f.pendingLanes|=x,x!==536870912&&(f.suspendedLanes=0,f.pingedLanes=0),f=f.eventTimes,x=31-gn(x),f[x]=k}function Ur(f,x){var k=f.pendingLanes&~x;f.pendingLanes=x,f.suspendedLanes=0,f.pingedLanes=0,f.expiredLanes&=x,f.mutableReadLanes&=x,f.entangledLanes&=x,x=f.entanglements;var D=f.eventTimes;for(f=f.expirationTimes;0<k;){var G=31-gn(k),se=1<<G;x[G]=0,D[G]=-1,f[G]=-1,k&=~se}}function xt(f,x){var k=f.entangledLanes|=x;for(f=f.entanglements;k;){var D=31-gn(k),G=1<<D;G&x|f[D]&x&&(f[D]|=x),k&=~G}}var yr=0;function An(f){return f&=-f,1<f?4<f?(f&268435455)!==0?16:536870912:4:1}var On,Jt,Bn,En,Pn,ua=!1,Sr=[],jr=null,Gr=null,pn=null,Ee=new Map,lr=new Map,cr=[],gr="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fr(f,x){switch(f){case"focusin":case"focusout":jr=null;break;case"dragenter":case"dragleave":Gr=null;break;case"mouseover":case"mouseout":pn=null;break;case"pointerover":case"pointerout":Ee.delete(x.pointerId);break;case"gotpointercapture":case"lostpointercapture":lr.delete(x.pointerId)}}function qr(f,x,k,D,G,se){return f===null||f.nativeEvent!==se?(f={blockedOn:x,domEventName:k,eventSystemFlags:D,nativeEvent:se,targetContainers:[G]},x!==null&&(x=hd(x),x!==null&&Jt(x)),f):(f.eventSystemFlags|=D,x=f.targetContainers,G!==null&&x.indexOf(G)===-1&&x.push(G),f)}function In(f,x,k,D,G){switch(x){case"focusin":return jr=qr(jr,f,x,k,D,G),!0;case"dragenter":return Gr=qr(Gr,f,x,k,D,G),!0;case"mouseover":return pn=qr(pn,f,x,k,D,G),!0;case"pointerover":var se=G.pointerId;return Ee.set(se,qr(Ee.get(se)||null,f,x,k,D,G)),!0;case"gotpointercapture":return se=G.pointerId,lr.set(se,qr(lr.get(se)||null,f,x,k,D,G)),!0}return!1}function Dn(f){var x=_c(f.target);if(x!==null){var k=Te(x);if(k!==null){if(x=k.tag,x===13){if(x=ze(k),x!==null){f.blockedOn=x,Pn(f.priority,function(){Bn(k)});return}}else if(x===3&&k.stateNode.current.memoizedState.isDehydrated){f.blockedOn=k.tag===3?k.stateNode.containerInfo:null;return}}}f.blockedOn=null}function Vi(f){if(f.blockedOn!==null)return!1;for(var x=f.targetContainers;0<x.length;){var k=_l(f.domEventName,f.eventSystemFlags,x[0],f.nativeEvent);if(k===null){k=f.nativeEvent;var D=new k.constructor(k.type,k);$t=D,k.target.dispatchEvent(D),$t=null}else return x=hd(k),x!==null&&Jt(x),f.blockedOn=k,!1;x.shift()}return!0}function Zc(f,x,k){Vi(f)&&k.delete(x)}function df(){ua=!1,jr!==null&&Vi(jr)&&(jr=null),Gr!==null&&Vi(Gr)&&(Gr=null),pn!==null&&Vi(pn)&&(pn=null),Ee.forEach(Zc),lr.forEach(Zc)}function Fs(f,x){f.blockedOn===x&&(f.blockedOn=null,ua||(ua=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,df)))}function us(f){function x(G){return Fs(G,f)}if(0<Sr.length){Fs(Sr[0],f);for(var k=1;k<Sr.length;k++){var D=Sr[k];D.blockedOn===f&&(D.blockedOn=null)}}for(jr!==null&&Fs(jr,f),Gr!==null&&Fs(Gr,f),pn!==null&&Fs(pn,f),Ee.forEach(x),lr.forEach(x),k=0;k<cr.length;k++)D=cr[k],D.blockedOn===f&&(D.blockedOn=null);for(;0<cr.length&&(k=cr[0],k.blockedOn===null);)Dn(k),k.blockedOn===null&&cr.shift()}var gi=N.ReactCurrentBatchConfig,gc=!0;function kl(f,x,k,D){var G=yr,se=gi.transition;gi.transition=null;try{yr=1,no(f,x,k,D)}finally{yr=G,gi.transition=se}}function qo(f,x,k,D){var G=yr,se=gi.transition;gi.transition=null;try{yr=4,no(f,x,k,D)}finally{yr=G,gi.transition=se}}function no(f,x,k,D){if(gc){var G=_l(f,x,k,D);if(G===null)bf(f,x,D,Sl,k),Fr(f,D);else if(In(G,f,x,k,D))D.stopPropagation();else if(Fr(f,D),x&4&&-1<gr.indexOf(f)){for(;G!==null;){var se=hd(G);if(se!==null&&On(se),se=_l(f,x,k,D),se===null&&bf(f,x,D,Sl,k),se===G)break;G=se}G!==null&&D.stopPropagation()}else bf(f,x,D,null,k)}}var Sl=null;function _l(f,x,k,D){if(Sl=null,f=Pr(D),f=_c(f),f!==null)if(x=Te(f),x===null)f=null;else if(k=x.tag,k===13){if(f=ze(x),f!==null)return f;f=null}else if(k===3){if(x.stateNode.current.memoizedState.isDehydrated)return x.tag===3?x.stateNode.containerInfo:null;f=null}else x!==f&&(f=null);return Sl=f,null}function Al(f){switch(f){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kr()){case Dr:return 1;case an:return 4;case Nn:case va:return 16;case Ba:return 536870912;default:return 16}default:return 16}}var Ms=null,Ci=null,Gi=null;function ao(){if(Gi)return Gi;var f,x=Ci,k=x.length,D,G="value"in Ms?Ms.value:Ms.textContent,se=G.length;for(f=0;f<k&&x[f]===G[f];f++);var we=k-f;for(D=1;D<=we&&x[k-D]===G[se-D];D++);return Gi=G.slice(f,1<D?1-D:void 0)}function Ja(f){var x=f.keyCode;return"charCode"in f?(f=f.charCode,f===0&&x===13&&(f=13)):f=x,f===10&&(f=13),32<=f||f===13?f:0}function Ti(){return!0}function vc(){return!1}function Oa(f){function x(k,D,G,se,we){this._reactName=k,this._targetInst=G,this.type=D,this.nativeEvent=se,this.target=we,this.currentTarget=null;for(var qe in f)f.hasOwnProperty(qe)&&(k=f[qe],this[qe]=k?k(se):se[qe]);return this.isDefaultPrevented=(se.defaultPrevented!=null?se.defaultPrevented:se.returnValue===!1)?Ti:vc,this.isPropagationStopped=vc,this}return Z(x.prototype,{preventDefault:function(){this.defaultPrevented=!0;var k=this.nativeEvent;k&&(k.preventDefault?k.preventDefault():typeof k.returnValue!="unknown"&&(k.returnValue=!1),this.isDefaultPrevented=Ti)},stopPropagation:function(){var k=this.nativeEvent;k&&(k.stopPropagation?k.stopPropagation():typeof k.cancelBubble!="unknown"&&(k.cancelBubble=!0),this.isPropagationStopped=Ti)},persist:function(){},isPersistent:Ti}),x}var $o={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(f){return f.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zo=Oa($o),ko=Z({},$o,{view:0,detail:0}),El=Oa(ko),Cl,yc,io,Ho=Z({},ko,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:St,button:0,buttons:0,relatedTarget:function(f){return f.relatedTarget===void 0?f.fromElement===f.srcElement?f.toElement:f.fromElement:f.relatedTarget},movementX:function(f){return"movementX"in f?f.movementX:(f!==io&&(io&&f.type==="mousemove"?(Cl=f.screenX-io.screenX,yc=f.screenY-io.screenY):yc=Cl=0,io=f),Cl)},movementY:function(f){return"movementY"in f?f.movementY:yc}}),Tl=Oa(Ho),Ju=Z({},Ho,{dataTransfer:0}),ff=Oa(Ju),Ol=Z({},ko,{relatedTarget:0}),Ki=Oa(Ol),Rs=Z({},$o,{animationName:0,elapsedTime:0,pseudoElement:0}),Wo=Oa(Rs),bc=Z({},$o,{clipboardData:function(f){return"clipboardData"in f?f.clipboardData:window.clipboardData}}),H=Oa(bc),R=Z({},$o,{data:0}),de=Oa(R),xe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Me={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},He={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mt(f){var x=this.nativeEvent;return x.getModifierState?x.getModifierState(f):(f=He[f])?!!x[f]:!1}function St(){return mt}var Qt=Z({},ko,{key:function(f){if(f.key){var x=xe[f.key]||f.key;if(x!=="Unidentified")return x}return f.type==="keypress"?(f=Ja(f),f===13?"Enter":String.fromCharCode(f)):f.type==="keydown"||f.type==="keyup"?Me[f.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:St,charCode:function(f){return f.type==="keypress"?Ja(f):0},keyCode:function(f){return f.type==="keydown"||f.type==="keyup"?f.keyCode:0},which:function(f){return f.type==="keypress"?Ja(f):f.type==="keydown"||f.type==="keyup"?f.keyCode:0}}),hr=Oa(Qt),br=Z({},Ho,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mr=Oa(br),cn=Z({},ko,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:St}),Vn=Oa(cn),ma=Z({},$o,{propertyName:0,elapsedTime:0,pseudoElement:0}),Oi=Oa(ma),ci=Z({},Ho,{deltaX:function(f){return"deltaX"in f?f.deltaX:"wheelDeltaX"in f?-f.wheelDeltaX:0},deltaY:function(f){return"deltaY"in f?f.deltaY:"wheelDeltaY"in f?-f.wheelDeltaY:"wheelDelta"in f?-f.wheelDelta:0},deltaZ:0,deltaMode:0}),So=Oa(ci),Bs=[9,13,27,32],so=l&&"CompositionEvent"in window,wc=null;l&&"documentMode"in document&&(wc=document.documentMode);var hf=l&&"TextEvent"in window&&!wc,Qu=l&&(!so||wc&&8<wc&&11>=wc),eu=" ",Zu=!1;function ed(f,x){switch(f){case"keyup":return Bs.indexOf(x.keyCode)!==-1;case"keydown":return x.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tu(f){return f=f.detail,typeof f=="object"&&"data"in f?f.data:null}var Aa=!1;function td(f,x){switch(f){case"compositionend":return tu(x);case"keypress":return x.which!==32?null:(Zu=!0,eu);case"textInput":return f=x.data,f===eu&&Zu?null:f;default:return null}}function rd(f,x){if(Aa)return f==="compositionend"||!so&&ed(f,x)?(f=ao(),Gi=Ci=Ms=null,Aa=!1,f):null;switch(f){case"paste":return null;case"keypress":if(!(x.ctrlKey||x.altKey||x.metaKey)||x.ctrlKey&&x.altKey){if(x.char&&1<x.char.length)return x.char;if(x.which)return String.fromCharCode(x.which)}return null;case"compositionend":return Qu&&x.locale!=="ko"?null:x.data;default:return null}}var nd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ad(f){var x=f&&f.nodeName&&f.nodeName.toLowerCase();return x==="input"?!!nd[f.type]:x==="textarea"}function Xi(f,x,k,D){or(D),x=T0(x,"onChange"),0<x.length&&(k=new zo("onChange","change",null,k,D),f.push({event:k,listeners:x}))}var ru=null,Pl=null;function A0(f){vf(f,0)}function Yi(f){var x=du(f);if(ee(x))return f}function id(f,x){if(f==="change")return x}var pf=!1;if(l){var sd;if(l){var Vo="oninput"in document;if(!Vo){var Nc=document.createElement("div");Nc.setAttribute("oninput","return;"),Vo=typeof Nc.oninput=="function"}sd=Vo}else sd=!1;pf=sd&&(!document.documentMode||9<document.documentMode)}function Ji(){ru&&(ru.detachEvent("onpropertychange",Pi),Pl=ru=null)}function Pi(f){if(f.propertyName==="value"&&Yi(Pl)){var x=[];Xi(x,Pl,f,Pr(f)),Ct(A0,x)}}function jc(f,x,k){f==="focusin"?(Ji(),ru=x,Pl=k,ru.attachEvent("onpropertychange",Pi)):f==="focusout"&&Ji()}function Il(f){if(f==="selectionchange"||f==="keyup"||f==="keydown")return Yi(Pl)}function Dl(f,x){if(f==="click")return Yi(x)}function od(f,x){if(f==="input"||f==="change")return Yi(x)}function Ll(f,x){return f===x&&(f!==0||1/f===1/x)||f!==f&&x!==x}var Ln=typeof Object.is=="function"?Object.is:Ll;function Fl(f,x){if(Ln(f,x))return!0;if(typeof f!="object"||f===null||typeof x!="object"||x===null)return!1;var k=Object.keys(f),D=Object.keys(x);if(k.length!==D.length)return!1;for(D=0;D<k.length;D++){var G=k[D];if(!c.call(x,G)||!Ln(f[G],x[G]))return!1}return!0}function Ii(f){for(;f&&f.firstChild;)f=f.firstChild;return f}function Us(f,x){var k=Ii(f);f=0;for(var D;k;){if(k.nodeType===3){if(D=f+k.textContent.length,f<=x&&D>=x)return{node:k,offset:x-f};f=D}e:{for(;k;){if(k.nextSibling){k=k.nextSibling;break e}k=k.parentNode}k=void 0}k=Ii(k)}}function nu(f,x){return f&&x?f===x?!0:f&&f.nodeType===3?!1:x&&x.nodeType===3?nu(f,x.parentNode):"contains"in f?f.contains(x):f.compareDocumentPosition?!!(f.compareDocumentPosition(x)&16):!1:!1}function mf(){for(var f=window,x=De();x instanceof f.HTMLIFrameElement;){try{var k=typeof x.contentWindow.location.href=="string"}catch{k=!1}if(k)f=x.contentWindow;else break;x=De(f.document)}return x}function au(f){var x=f&&f.nodeName&&f.nodeName.toLowerCase();return x&&(x==="input"&&(f.type==="text"||f.type==="search"||f.type==="tel"||f.type==="url"||f.type==="password")||x==="textarea"||f.contentEditable==="true")}function iu(f){var x=mf(),k=f.focusedElem,D=f.selectionRange;if(x!==k&&k&&k.ownerDocument&&nu(k.ownerDocument.documentElement,k)){if(D!==null&&au(k)){if(x=D.start,f=D.end,f===void 0&&(f=x),"selectionStart"in k)k.selectionStart=x,k.selectionEnd=Math.min(f,k.value.length);else if(f=(x=k.ownerDocument||document)&&x.defaultView||window,f.getSelection){f=f.getSelection();var G=k.textContent.length,se=Math.min(D.start,G);D=D.end===void 0?se:Math.min(D.end,G),!f.extend&&se>D&&(G=D,D=se,se=G),G=Us(k,se);var we=Us(k,D);G&&we&&(f.rangeCount!==1||f.anchorNode!==G.node||f.anchorOffset!==G.offset||f.focusNode!==we.node||f.focusOffset!==we.offset)&&(x=x.createRange(),x.setStart(G.node,G.offset),f.removeAllRanges(),se>D?(f.addRange(x),f.extend(we.node,we.offset)):(x.setEnd(we.node,we.offset),f.addRange(x)))}}for(x=[],f=k;f=f.parentNode;)f.nodeType===1&&x.push({element:f,left:f.scrollLeft,top:f.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<x.length;k++)f=x[k],f.element.scrollLeft=f.left,f.element.scrollTop=f.top}}var su=l&&"documentMode"in document&&11>=document.documentMode,qs=null,Ml=null,Go=null,Rl=!1;function Bl(f,x,k){var D=k.window===k?k.document:k.nodeType===9?k:k.ownerDocument;Rl||qs==null||qs!==De(D)||(D=qs,"selectionStart"in D&&au(D)?D={start:D.selectionStart,end:D.selectionEnd}:(D=(D.ownerDocument&&D.ownerDocument.defaultView||window).getSelection(),D={anchorNode:D.anchorNode,anchorOffset:D.anchorOffset,focusNode:D.focusNode,focusOffset:D.focusOffset}),Go&&Fl(Go,D)||(Go=D,D=T0(Ml,"onSelect"),0<D.length&&(x=new zo("onSelect","select",null,x,k),f.push({event:x,listeners:D}),x.target=qs)))}function kc(f,x){var k={};return k[f.toLowerCase()]=x.toLowerCase(),k["Webkit"+f]="webkit"+x,k["Moz"+f]="moz"+x,k}var vi={animationend:kc("Animation","AnimationEnd"),animationiteration:kc("Animation","AnimationIteration"),animationstart:kc("Animation","AnimationStart"),transitionend:kc("Transition","TransitionEnd")},ds={},ta={};l&&(ta=document.createElement("div").style,"AnimationEvent"in window||(delete vi.animationend.animation,delete vi.animationiteration.animation,delete vi.animationstart.animation),"TransitionEvent"in window||delete vi.transitionend.transition);function Gn(f){if(ds[f])return ds[f];if(!vi[f])return f;var x=vi[f],k;for(k in x)if(x.hasOwnProperty(k)&&k in ta)return ds[f]=x[k];return f}var Ea=Gn("animationend"),Ua=Gn("animationiteration"),Ko=Gn("animationstart"),ld=Gn("transitionend"),ou=new Map,xf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xo(f,x){ou.set(f,x),s(x,[f])}for(var cd=0;cd<xf.length;cd++){var Qi=xf[cd],oo=Qi.toLowerCase(),E0=Qi[0].toUpperCase()+Qi.slice(1);Xo(oo,"on"+E0)}Xo(Ea,"onAnimationEnd"),Xo(Ua,"onAnimationIteration"),Xo(Ko,"onAnimationStart"),Xo("dblclick","onDoubleClick"),Xo("focusin","onFocus"),Xo("focusout","onBlur"),Xo(ld,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sc));function gf(f,x,k){var D=f.type||"unknown-event";f.currentTarget=k,Ie(D,x,void 0,f),f.currentTarget=null}function vf(f,x){x=(x&4)!==0;for(var k=0;k<f.length;k++){var D=f[k],G=D.event;D=D.listeners;e:{var se=void 0;if(x)for(var we=D.length-1;0<=we;we--){var qe=D[we],Ke=qe.instance,gt=qe.currentTarget;if(qe=qe.listener,Ke!==se&&G.isPropagationStopped())break e;gf(G,qe,gt),se=Ke}else for(we=0;we<D.length;we++){if(qe=D[we],Ke=qe.instance,gt=qe.currentTarget,qe=qe.listener,Ke!==se&&G.isPropagationStopped())break e;gf(G,qe,gt),se=Ke}}}if(ne)throw f=ge,ne=!1,ge=null,f}function ra(f,x){var k=x[hs];k===void 0&&(k=x[hs]=new Set);var D=f+"__bubble";k.has(D)||(yf(x,f,2,!1),k.add(D))}function C0(f,x,k){var D=0;x&&(D|=4),yf(k,f,D,x)}var ud="_reactListening"+Math.random().toString(36).slice(2);function lu(f){if(!f[ud]){f[ud]=!0,n.forEach(function(k){k!=="selectionchange"&&(Fx.has(k)||C0(k,!1,f),C0(k,!0,f))});var x=f.nodeType===9?f:f.ownerDocument;x===null||x[ud]||(x[ud]=!0,C0("selectionchange",!1,x))}}function yf(f,x,k,D){switch(Al(x)){case 1:var G=kl;break;case 4:G=qo;break;default:G=no}k=G.bind(null,x,k,f),G=void 0,!ir||x!=="touchstart"&&x!=="touchmove"&&x!=="wheel"||(G=!0),D?G!==void 0?f.addEventListener(x,k,{capture:!0,passive:G}):f.addEventListener(x,k,!0):G!==void 0?f.addEventListener(x,k,{passive:G}):f.addEventListener(x,k,!1)}function bf(f,x,k,D,G){var se=D;if((x&1)===0&&(x&2)===0&&D!==null)e:for(;;){if(D===null)return;var we=D.tag;if(we===3||we===4){var qe=D.stateNode.containerInfo;if(qe===G||qe.nodeType===8&&qe.parentNode===G)break;if(we===4)for(we=D.return;we!==null;){var Ke=we.tag;if((Ke===3||Ke===4)&&(Ke=we.stateNode.containerInfo,Ke===G||Ke.nodeType===8&&Ke.parentNode===G))return;we=we.return}for(;qe!==null;){if(we=_c(qe),we===null)return;if(Ke=we.tag,Ke===5||Ke===6){D=se=we;continue e}qe=qe.parentNode}}D=D.return}Ct(function(){var gt=se,Ht=Pr(k),Vt=[];e:{var qt=ou.get(f);if(qt!==void 0){var xr=zo,_r=f;switch(f){case"keypress":if(Ja(k)===0)break e;case"keydown":case"keyup":xr=hr;break;case"focusin":_r="focus",xr=Ki;break;case"focusout":_r="blur",xr=Ki;break;case"beforeblur":case"afterblur":xr=Ki;break;case"click":if(k.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xr=Tl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xr=ff;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xr=Vn;break;case Ea:case Ua:case Ko:xr=Wo;break;case ld:xr=Oi;break;case"scroll":xr=El;break;case"wheel":xr=So;break;case"copy":case"cut":case"paste":xr=H;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xr=Mr}var Cr=(x&4)!==0,ti=!Cr&&f==="scroll",ut=Cr?qt!==null?qt+"Capture":null:qt;Cr=[];for(var Ze=gt,pt;Ze!==null;){pt=Ze;var Yt=pt.stateNode;if(pt.tag===5&&Yt!==null&&(pt=Yt,ut!==null&&(Yt=At(Ze,ut),Yt!=null&&Cr.push(wf(Ze,Yt,pt)))),ti)break;Ze=Ze.return}0<Cr.length&&(qt=new xr(qt,_r,null,k,Ht),Vt.push({event:qt,listeners:Cr}))}}if((x&7)===0){e:{if(qt=f==="mouseover"||f==="pointerover",xr=f==="mouseout"||f==="pointerout",qt&&k!==$t&&(_r=k.relatedTarget||k.fromElement)&&(_c(_r)||_r[Di]))break e;if((xr||qt)&&(qt=Ht.window===Ht?Ht:(qt=Ht.ownerDocument)?qt.defaultView||qt.parentWindow:window,xr?(_r=k.relatedTarget||k.toElement,xr=gt,_r=_r?_c(_r):null,_r!==null&&(ti=Te(_r),_r!==ti||_r.tag!==5&&_r.tag!==6)&&(_r=null)):(xr=null,_r=gt),xr!==_r)){if(Cr=Tl,Yt="onMouseLeave",ut="onMouseEnter",Ze="mouse",(f==="pointerout"||f==="pointerover")&&(Cr=Mr,Yt="onPointerLeave",ut="onPointerEnter",Ze="pointer"),ti=xr==null?qt:du(xr),pt=_r==null?qt:du(_r),qt=new Cr(Yt,Ze+"leave",xr,k,Ht),qt.target=ti,qt.relatedTarget=pt,Yt=null,_c(Ht)===gt&&(Cr=new Cr(ut,Ze+"enter",_r,k,Ht),Cr.target=pt,Cr.relatedTarget=ti,Yt=Cr),ti=Yt,xr&&_r)t:{for(Cr=xr,ut=_r,Ze=0,pt=Cr;pt;pt=cu(pt))Ze++;for(pt=0,Yt=ut;Yt;Yt=cu(Yt))pt++;for(;0<Ze-pt;)Cr=cu(Cr),Ze--;for(;0<pt-Ze;)ut=cu(ut),pt--;for(;Ze--;){if(Cr===ut||ut!==null&&Cr===ut.alternate)break t;Cr=cu(Cr),ut=cu(ut)}Cr=null}else Cr=null;xr!==null&&Mx(Vt,qt,xr,Cr,!1),_r!==null&&ti!==null&&Mx(Vt,ti,_r,Cr,!0)}}e:{if(qt=gt?du(gt):window,xr=qt.nodeName&&qt.nodeName.toLowerCase(),xr==="select"||xr==="input"&&qt.type==="file")var Or=id;else if(ad(qt))if(pf)Or=od;else{Or=Il;var $r=jc}else(xr=qt.nodeName)&&xr.toLowerCase()==="input"&&(qt.type==="checkbox"||qt.type==="radio")&&(Or=Dl);if(Or&&(Or=Or(f,gt))){Xi(Vt,Or,k,Ht);break e}$r&&$r(f,qt,gt),f==="focusout"&&($r=qt._wrapperState)&&$r.controlled&&qt.type==="number"&&Pe(qt,"number",qt.value)}switch($r=gt?du(gt):window,f){case"focusin":(ad($r)||$r.contentEditable==="true")&&(qs=$r,Ml=gt,Go=null);break;case"focusout":Go=Ml=qs=null;break;case"mousedown":Rl=!0;break;case"contextmenu":case"mouseup":case"dragend":Rl=!1,Bl(Vt,k,Ht);break;case"selectionchange":if(su)break;case"keydown":case"keyup":Bl(Vt,k,Ht)}var zr;if(so)e:{switch(f){case"compositionstart":var rn="onCompositionStart";break e;case"compositionend":rn="onCompositionEnd";break e;case"compositionupdate":rn="onCompositionUpdate";break e}rn=void 0}else Aa?ed(f,k)&&(rn="onCompositionEnd"):f==="keydown"&&k.keyCode===229&&(rn="onCompositionStart");rn&&(Qu&&k.locale!=="ko"&&(Aa||rn!=="onCompositionStart"?rn==="onCompositionEnd"&&Aa&&(zr=ao()):(Ms=Ht,Ci="value"in Ms?Ms.value:Ms.textContent,Aa=!0)),$r=T0(gt,rn),0<$r.length&&(rn=new de(rn,f,null,k,Ht),Vt.push({event:rn,listeners:$r}),zr?rn.data=zr:(zr=tu(k),zr!==null&&(rn.data=zr)))),(zr=hf?td(f,k):rd(f,k))&&(gt=T0(gt,"onBeforeInput"),0<gt.length&&(Ht=new de("onBeforeInput","beforeinput",null,k,Ht),Vt.push({event:Ht,listeners:gt}),Ht.data=zr))}vf(Vt,x)})}function wf(f,x,k){return{instance:f,listener:x,currentTarget:k}}function T0(f,x){for(var k=x+"Capture",D=[];f!==null;){var G=f,se=G.stateNode;G.tag===5&&se!==null&&(G=se,se=At(f,k),se!=null&&D.unshift(wf(f,se,G)),se=At(f,x),se!=null&&D.push(wf(f,se,G))),f=f.return}return D}function cu(f){if(f===null)return null;do f=f.return;while(f&&f.tag!==5);return f||null}function Mx(f,x,k,D,G){for(var se=x._reactName,we=[];k!==null&&k!==D;){var qe=k,Ke=qe.alternate,gt=qe.stateNode;if(Ke!==null&&Ke===D)break;qe.tag===5&&gt!==null&&(qe=gt,G?(Ke=At(k,se),Ke!=null&&we.unshift(wf(k,Ke,qe))):G||(Ke=At(k,se),Ke!=null&&we.push(wf(k,Ke,qe)))),k=k.return}we.length!==0&&f.push({event:x,listeners:we})}var Ey=/\r\n?/g,Cy=/\u0000|\uFFFD/g;function Rx(f){return(typeof f=="string"?f:""+f).replace(Ey,`
`).replace(Cy,"")}function O0(f,x,k){if(x=Rx(x),Rx(f)!==x&&k)throw Error(r(425))}function dd(){}var Nf=null,uu=null;function pp(f,x){return f==="textarea"||f==="noscript"||typeof x.children=="string"||typeof x.children=="number"||typeof x.dangerouslySetInnerHTML=="object"&&x.dangerouslySetInnerHTML!==null&&x.dangerouslySetInnerHTML.__html!=null}var mp=typeof setTimeout=="function"?setTimeout:void 0,Bx=typeof clearTimeout=="function"?clearTimeout:void 0,Ux=typeof Promise=="function"?Promise:void 0,Ty=typeof queueMicrotask=="function"?queueMicrotask:typeof Ux<"u"?function(f){return Ux.resolve(null).then(f).catch(Oy)}:mp;function Oy(f){setTimeout(function(){throw f})}function xp(f,x){var k=x,D=0;do{var G=k.nextSibling;if(f.removeChild(k),G&&G.nodeType===8)if(k=G.data,k==="/$"){if(D===0){f.removeChild(G),us(x);return}D--}else k!=="$"&&k!=="$?"&&k!=="$!"||D++;k=G}while(k);us(x)}function Zi(f){for(;f!=null;f=f.nextSibling){var x=f.nodeType;if(x===1||x===3)break;if(x===8){if(x=f.data,x==="$"||x==="$!"||x==="$?")break;if(x==="/$")return null}}return f}function lo(f){f=f.previousSibling;for(var x=0;f;){if(f.nodeType===8){var k=f.data;if(k==="$"||k==="$!"||k==="$?"){if(x===0)return f;x--}else k==="/$"&&x++}f=f.previousSibling}return null}var fs=Math.random().toString(36).slice(2),Yo="__reactFiber$"+fs,fd="__reactProps$"+fs,Di="__reactContainer$"+fs,hs="__reactEvents$"+fs,Py="__reactListeners$"+fs,Iy="__reactHandles$"+fs;function _c(f){var x=f[Yo];if(x)return x;for(var k=f.parentNode;k;){if(x=k[Di]||k[Yo]){if(k=x.alternate,x.child!==null||k!==null&&k.child!==null)for(f=lo(f);f!==null;){if(k=f[Yo])return k;f=lo(f)}return x}f=k,k=f.parentNode}return null}function hd(f){return f=f[Yo]||f[Di],!f||f.tag!==5&&f.tag!==6&&f.tag!==13&&f.tag!==3?null:f}function du(f){if(f.tag===5||f.tag===6)return f.stateNode;throw Error(r(33))}function jf(f){return f[fd]||null}var gp=[],Ul=-1;function _o(f){return{current:f}}function Kn(f){0>Ul||(f.current=gp[Ul],gp[Ul]=null,Ul--)}function Jn(f,x){Ul++,gp[Ul]=f.current,f.current=x}var Ac={},yi=_o(Ac),ps=_o(!1),fu=Ac;function pd(f,x){var k=f.type.contextTypes;if(!k)return Ac;var D=f.stateNode;if(D&&D.__reactInternalMemoizedUnmaskedChildContext===x)return D.__reactInternalMemoizedMaskedChildContext;var G={},se;for(se in k)G[se]=x[se];return D&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=x,f.__reactInternalMemoizedMaskedChildContext=G),G}function ms(f){return f=f.childContextTypes,f!=null}function P0(){Kn(ps),Kn(yi)}function qx(f,x,k){if(yi.current!==Ac)throw Error(r(168));Jn(yi,x),Jn(ps,k)}function vp(f,x,k){var D=f.stateNode;if(x=x.childContextTypes,typeof D.getChildContext!="function")return k;D=D.getChildContext();for(var G in D)if(!(G in x))throw Error(r(108,re(f)||"Unknown",G));return Z({},k,D)}function hu(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||Ac,fu=yi.current,Jn(yi,f),Jn(ps,ps.current),!0}function $x(f,x,k){var D=f.stateNode;if(!D)throw Error(r(169));k?(f=vp(f,x,fu),D.__reactInternalMemoizedMergedChildContext=f,Kn(ps),Kn(yi),Jn(yi,f)):Kn(ps),Jn(ps,k)}var ql=null,kf=!1,_=!1;function L(f){ql===null?ql=[f]:ql.push(f)}function Y(f){kf=!0,L(f)}function le(){if(!_&&ql!==null){_=!0;var f=0,x=yr;try{var k=ql;for(yr=1;f<k.length;f++){var D=k[f];do D=D(!0);while(D!==null)}ql=null,kf=!1}catch(G){throw ql!==null&&(ql=ql.slice(f+1)),wt(Dr,le),G}finally{yr=x,_=!1}}return null}var me=[],be=0,Ne=null,Ae=0,Ce=[],Fe=0,Ve=null,ot=1,lt="";function tt(f,x){me[be++]=Ae,me[be++]=Ne,Ne=f,Ae=x}function Ft(f,x,k){Ce[Fe++]=ot,Ce[Fe++]=lt,Ce[Fe++]=Ve,Ve=f;var D=ot;f=lt;var G=32-gn(D)-1;D&=~(1<<G),k+=1;var se=32-gn(x)+G;if(30<se){var we=G-G%5;se=(D&(1<<we)-1).toString(32),D>>=we,G-=we,ot=1<<32-gn(x)+G|k<<G|D,lt=se+f}else ot=1<<se|k<<G|D,lt=f}function bt(f){f.return!==null&&(tt(f,1),Ft(f,1,0))}function Xe(f){for(;f===Ne;)Ne=me[--be],me[be]=null,Ae=me[--be],me[be]=null;for(;f===Ve;)Ve=Ce[--Fe],Ce[Fe]=null,lt=Ce[--Fe],Ce[Fe]=null,ot=Ce[--Fe],Ce[Fe]=null}var Ye=null,kt=null,jt=!1,Et=null;function pr(f,x){var k=rl(5,null,null,0);k.elementType="DELETED",k.stateNode=x,k.return=f,x=f.deletions,x===null?(f.deletions=[k],f.flags|=16):x.push(k)}function sr(f,x){switch(f.tag){case 5:var k=f.type;return x=x.nodeType!==1||k.toLowerCase()!==x.nodeName.toLowerCase()?null:x,x!==null?(f.stateNode=x,Ye=f,kt=Zi(x.firstChild),!0):!1;case 6:return x=f.pendingProps===""||x.nodeType!==3?null:x,x!==null?(f.stateNode=x,Ye=f,kt=null,!0):!1;case 13:return x=x.nodeType!==8?null:x,x!==null?(k=Ve!==null?{id:ot,overflow:lt}:null,f.memoizedState={dehydrated:x,treeContext:k,retryLane:1073741824},k=rl(18,null,null,0),k.stateNode=x,k.return=f,f.child=k,Ye=f,kt=null,!0):!1;default:return!1}}function Lr(f){return(f.mode&1)!==0&&(f.flags&128)===0}function ur(f){if(jt){var x=kt;if(x){var k=x;if(!sr(f,x)){if(Lr(f))throw Error(r(418));x=Zi(k.nextSibling);var D=Ye;x&&sr(f,x)?pr(D,k):(f.flags=f.flags&-4097|2,jt=!1,Ye=f)}}else{if(Lr(f))throw Error(r(418));f.flags=f.flags&-4097|2,jt=!1,Ye=f}}}function Cn(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;Ye=f}function Tn(f){if(f!==Ye)return!1;if(!jt)return Cn(f),jt=!0,!1;var x;if((x=f.tag!==3)&&!(x=f.tag!==5)&&(x=f.type,x=x!=="head"&&x!=="body"&&!pp(f.type,f.memoizedProps)),x&&(x=kt)){if(Lr(f))throw jn(),Error(r(418));for(;x;)pr(f,x),x=Zi(x.nextSibling)}if(Cn(f),f.tag===13){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));e:{for(f=f.nextSibling,x=0;f;){if(f.nodeType===8){var k=f.data;if(k==="/$"){if(x===0){kt=Zi(f.nextSibling);break e}x--}else k!=="$"&&k!=="$!"&&k!=="$?"||x++}f=f.nextSibling}kt=null}}else kt=Ye?Zi(f.stateNode.nextSibling):null;return!0}function jn(){for(var f=kt;f;)f=Zi(f.nextSibling)}function ln(){kt=Ye=null,jt=!1}function Xn(f){Et===null?Et=[f]:Et.push(f)}var Qn=N.ReactCurrentBatchConfig;function Jr(f,x,k){if(f=k.ref,f!==null&&typeof f!="function"&&typeof f!="object"){if(k._owner){if(k=k._owner,k){if(k.tag!==1)throw Error(r(309));var D=k.stateNode}if(!D)throw Error(r(147,f));var G=D,se=""+f;return x!==null&&x.ref!==null&&typeof x.ref=="function"&&x.ref._stringRef===se?x.ref:(x=function(we){var qe=G.refs;we===null?delete qe[se]:qe[se]=we},x._stringRef=se,x)}if(typeof f!="string")throw Error(r(284));if(!k._owner)throw Error(r(290,f))}return f}function ya(f,x){throw f=Object.prototype.toString.call(x),Error(r(31,f==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":f))}function es(f){var x=f._init;return x(f._payload)}function Pa(f){function x(ut,Ze){if(f){var pt=ut.deletions;pt===null?(ut.deletions=[Ze],ut.flags|=16):pt.push(Ze)}}function k(ut,Ze){if(!f)return null;for(;Ze!==null;)x(ut,Ze),Ze=Ze.sibling;return null}function D(ut,Ze){for(ut=new Map;Ze!==null;)Ze.key!==null?ut.set(Ze.key,Ze):ut.set(Ze.index,Ze),Ze=Ze.sibling;return ut}function G(ut,Ze){return ut=_d(ut,Ze),ut.index=0,ut.sibling=null,ut}function se(ut,Ze,pt){return ut.index=pt,f?(pt=ut.alternate,pt!==null?(pt=pt.index,pt<Ze?(ut.flags|=2,Ze):pt):(ut.flags|=2,Ze)):(ut.flags|=1048576,Ze)}function we(ut){return f&&ut.alternate===null&&(ut.flags|=2),ut}function qe(ut,Ze,pt,Yt){return Ze===null||Ze.tag!==6?(Ze=lb(pt,ut.mode,Yt),Ze.return=ut,Ze):(Ze=G(Ze,pt),Ze.return=ut,Ze)}function Ke(ut,Ze,pt,Yt){var Or=pt.type;return Or===A?Ht(ut,Ze,pt.props.children,Yt,pt.key):Ze!==null&&(Ze.elementType===Or||typeof Or=="object"&&Or!==null&&Or.$$typeof===te&&es(Or)===Ze.type)?(Yt=G(Ze,pt.props),Yt.ref=Jr(ut,Ze,pt),Yt.return=ut,Yt):(Yt=lg(pt.type,pt.key,pt.props,null,ut.mode,Yt),Yt.ref=Jr(ut,Ze,pt),Yt.return=ut,Yt)}function gt(ut,Ze,pt,Yt){return Ze===null||Ze.tag!==4||Ze.stateNode.containerInfo!==pt.containerInfo||Ze.stateNode.implementation!==pt.implementation?(Ze=cb(pt,ut.mode,Yt),Ze.return=ut,Ze):(Ze=G(Ze,pt.children||[]),Ze.return=ut,Ze)}function Ht(ut,Ze,pt,Yt,Or){return Ze===null||Ze.tag!==7?(Ze=Pf(pt,ut.mode,Yt,Or),Ze.return=ut,Ze):(Ze=G(Ze,pt),Ze.return=ut,Ze)}function Vt(ut,Ze,pt){if(typeof Ze=="string"&&Ze!==""||typeof Ze=="number")return Ze=lb(""+Ze,ut.mode,pt),Ze.return=ut,Ze;if(typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case S:return pt=lg(Ze.type,Ze.key,Ze.props,null,ut.mode,pt),pt.ref=Jr(ut,null,Ze),pt.return=ut,pt;case P:return Ze=cb(Ze,ut.mode,pt),Ze.return=ut,Ze;case te:var Yt=Ze._init;return Vt(ut,Yt(Ze._payload),pt)}if(pe(Ze)||X(Ze))return Ze=Pf(Ze,ut.mode,pt,null),Ze.return=ut,Ze;ya(ut,Ze)}return null}function qt(ut,Ze,pt,Yt){var Or=Ze!==null?Ze.key:null;if(typeof pt=="string"&&pt!==""||typeof pt=="number")return Or!==null?null:qe(ut,Ze,""+pt,Yt);if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case S:return pt.key===Or?Ke(ut,Ze,pt,Yt):null;case P:return pt.key===Or?gt(ut,Ze,pt,Yt):null;case te:return Or=pt._init,qt(ut,Ze,Or(pt._payload),Yt)}if(pe(pt)||X(pt))return Or!==null?null:Ht(ut,Ze,pt,Yt,null);ya(ut,pt)}return null}function xr(ut,Ze,pt,Yt,Or){if(typeof Yt=="string"&&Yt!==""||typeof Yt=="number")return ut=ut.get(pt)||null,qe(Ze,ut,""+Yt,Or);if(typeof Yt=="object"&&Yt!==null){switch(Yt.$$typeof){case S:return ut=ut.get(Yt.key===null?pt:Yt.key)||null,Ke(Ze,ut,Yt,Or);case P:return ut=ut.get(Yt.key===null?pt:Yt.key)||null,gt(Ze,ut,Yt,Or);case te:var $r=Yt._init;return xr(ut,Ze,pt,$r(Yt._payload),Or)}if(pe(Yt)||X(Yt))return ut=ut.get(pt)||null,Ht(Ze,ut,Yt,Or,null);ya(Ze,Yt)}return null}function _r(ut,Ze,pt,Yt){for(var Or=null,$r=null,zr=Ze,rn=Ze=0,Ri=null;zr!==null&&rn<pt.length;rn++){zr.index>rn?(Ri=zr,zr=null):Ri=zr.sibling;var $n=qt(ut,zr,pt[rn],Yt);if($n===null){zr===null&&(zr=Ri);break}f&&zr&&$n.alternate===null&&x(ut,zr),Ze=se($n,Ze,rn),$r===null?Or=$n:$r.sibling=$n,$r=$n,zr=Ri}if(rn===pt.length)return k(ut,zr),jt&&tt(ut,rn),Or;if(zr===null){for(;rn<pt.length;rn++)zr=Vt(ut,pt[rn],Yt),zr!==null&&(Ze=se(zr,Ze,rn),$r===null?Or=zr:$r.sibling=zr,$r=zr);return jt&&tt(ut,rn),Or}for(zr=D(ut,zr);rn<pt.length;rn++)Ri=xr(zr,ut,rn,pt[rn],Yt),Ri!==null&&(f&&Ri.alternate!==null&&zr.delete(Ri.key===null?rn:Ri.key),Ze=se(Ri,Ze,rn),$r===null?Or=Ri:$r.sibling=Ri,$r=Ri);return f&&zr.forEach(function(Ad){return x(ut,Ad)}),jt&&tt(ut,rn),Or}function Cr(ut,Ze,pt,Yt){var Or=X(pt);if(typeof Or!="function")throw Error(r(150));if(pt=Or.call(pt),pt==null)throw Error(r(151));for(var $r=Or=null,zr=Ze,rn=Ze=0,Ri=null,$n=pt.next();zr!==null&&!$n.done;rn++,$n=pt.next()){zr.index>rn?(Ri=zr,zr=null):Ri=zr.sibling;var Ad=qt(ut,zr,$n.value,Yt);if(Ad===null){zr===null&&(zr=Ri);break}f&&zr&&Ad.alternate===null&&x(ut,zr),Ze=se(Ad,Ze,rn),$r===null?Or=Ad:$r.sibling=Ad,$r=Ad,zr=Ri}if($n.done)return k(ut,zr),jt&&tt(ut,rn),Or;if(zr===null){for(;!$n.done;rn++,$n=pt.next())$n=Vt(ut,$n.value,Yt),$n!==null&&(Ze=se($n,Ze,rn),$r===null?Or=$n:$r.sibling=$n,$r=$n);return jt&&tt(ut,rn),Or}for(zr=D(ut,zr);!$n.done;rn++,$n=pt.next())$n=xr(zr,ut,rn,$n.value,Yt),$n!==null&&(f&&$n.alternate!==null&&zr.delete($n.key===null?rn:$n.key),Ze=se($n,Ze,rn),$r===null?Or=$n:$r.sibling=$n,$r=$n);return f&&zr.forEach(function(nR){return x(ut,nR)}),jt&&tt(ut,rn),Or}function ti(ut,Ze,pt,Yt){if(typeof pt=="object"&&pt!==null&&pt.type===A&&pt.key===null&&(pt=pt.props.children),typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case S:e:{for(var Or=pt.key,$r=Ze;$r!==null;){if($r.key===Or){if(Or=pt.type,Or===A){if($r.tag===7){k(ut,$r.sibling),Ze=G($r,pt.props.children),Ze.return=ut,ut=Ze;break e}}else if($r.elementType===Or||typeof Or=="object"&&Or!==null&&Or.$$typeof===te&&es(Or)===$r.type){k(ut,$r.sibling),Ze=G($r,pt.props),Ze.ref=Jr(ut,$r,pt),Ze.return=ut,ut=Ze;break e}k(ut,$r);break}else x(ut,$r);$r=$r.sibling}pt.type===A?(Ze=Pf(pt.props.children,ut.mode,Yt,pt.key),Ze.return=ut,ut=Ze):(Yt=lg(pt.type,pt.key,pt.props,null,ut.mode,Yt),Yt.ref=Jr(ut,Ze,pt),Yt.return=ut,ut=Yt)}return we(ut);case P:e:{for($r=pt.key;Ze!==null;){if(Ze.key===$r)if(Ze.tag===4&&Ze.stateNode.containerInfo===pt.containerInfo&&Ze.stateNode.implementation===pt.implementation){k(ut,Ze.sibling),Ze=G(Ze,pt.children||[]),Ze.return=ut,ut=Ze;break e}else{k(ut,Ze);break}else x(ut,Ze);Ze=Ze.sibling}Ze=cb(pt,ut.mode,Yt),Ze.return=ut,ut=Ze}return we(ut);case te:return $r=pt._init,ti(ut,Ze,$r(pt._payload),Yt)}if(pe(pt))return _r(ut,Ze,pt,Yt);if(X(pt))return Cr(ut,Ze,pt,Yt);ya(ut,pt)}return typeof pt=="string"&&pt!==""||typeof pt=="number"?(pt=""+pt,Ze!==null&&Ze.tag===6?(k(ut,Ze.sibling),Ze=G(Ze,pt),Ze.return=ut,ut=Ze):(k(ut,Ze),Ze=lb(pt,ut.mode,Yt),Ze.return=ut,ut=Ze),we(ut)):k(ut,Ze)}return ti}var Qa=Pa(!0),Un=Pa(!1),Li=_o(null),Fi=null,ba=null,Za=null;function bi(){Za=ba=Fi=null}function xs(f){var x=Li.current;Kn(Li),f._currentValue=x}function co(f,x,k){for(;f!==null;){var D=f.alternate;if((f.childLanes&x)!==x?(f.childLanes|=x,D!==null&&(D.childLanes|=x)):D!==null&&(D.childLanes&x)!==x&&(D.childLanes|=x),f===k)break;f=f.return}}function wa(f,x){Fi=f,Za=ba=null,f=f.dependencies,f!==null&&f.firstContext!==null&&((f.lanes&x)!==0&&(po=!0),f.firstContext=null)}function qa(f){var x=f._currentValue;if(Za!==f)if(f={context:f,memoizedValue:x,next:null},ba===null){if(Fi===null)throw Error(r(308));ba=f,Fi.dependencies={lanes:0,firstContext:f}}else ba=ba.next=f;return x}var $s=null;function Ec(f){$s===null?$s=[f]:$s.push(f)}function $l(f,x,k,D){var G=x.interleaved;return G===null?(k.next=k,Ec(x)):(k.next=G.next,G.next=k),x.interleaved=k,qn(f,D)}function qn(f,x){f.lanes|=x;var k=f.alternate;for(k!==null&&(k.lanes|=x),k=f,f=f.return;f!==null;)f.childLanes|=x,k=f.alternate,k!==null&&(k.childLanes|=x),k=f,f=f.return;return k.tag===3?k.stateNode:null}var Jo=!1;function I0(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yp(f,x){f=f.updateQueue,x.updateQueue===f&&(x.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function uo(f,x){return{eventTime:f,lane:x,tag:0,payload:null,callback:null,next:null}}function fo(f,x,k){var D=f.updateQueue;if(D===null)return null;if(D=D.shared,(Fn&2)!==0){var G=D.pending;return G===null?x.next=x:(x.next=G.next,G.next=x),D.pending=x,qn(f,k)}return G=D.interleaved,G===null?(x.next=x,Ec(D)):(x.next=G.next,G.next=x),D.interleaved=x,qn(f,k)}function pu(f,x,k){if(x=x.updateQueue,x!==null&&(x=x.shared,(k&4194240)!==0)){var D=x.lanes;D&=f.pendingLanes,k|=D,x.lanes=k,xt(f,k)}}function ho(f,x){var k=f.updateQueue,D=f.alternate;if(D!==null&&(D=D.updateQueue,k===D)){var G=null,se=null;if(k=k.firstBaseUpdate,k!==null){do{var we={eventTime:k.eventTime,lane:k.lane,tag:k.tag,payload:k.payload,callback:k.callback,next:null};se===null?G=se=we:se=se.next=we,k=k.next}while(k!==null);se===null?G=se=x:se=se.next=x}else G=se=x;k={baseState:D.baseState,firstBaseUpdate:G,lastBaseUpdate:se,shared:D.shared,effects:D.effects},f.updateQueue=k;return}f=k.lastBaseUpdate,f===null?k.firstBaseUpdate=x:f.next=x,k.lastBaseUpdate=x}function zl(f,x,k,D){var G=f.updateQueue;Jo=!1;var se=G.firstBaseUpdate,we=G.lastBaseUpdate,qe=G.shared.pending;if(qe!==null){G.shared.pending=null;var Ke=qe,gt=Ke.next;Ke.next=null,we===null?se=gt:we.next=gt,we=Ke;var Ht=f.alternate;Ht!==null&&(Ht=Ht.updateQueue,qe=Ht.lastBaseUpdate,qe!==we&&(qe===null?Ht.firstBaseUpdate=gt:qe.next=gt,Ht.lastBaseUpdate=Ke))}if(se!==null){var Vt=G.baseState;we=0,Ht=gt=Ke=null,qe=se;do{var qt=qe.lane,xr=qe.eventTime;if((D&qt)===qt){Ht!==null&&(Ht=Ht.next={eventTime:xr,lane:0,tag:qe.tag,payload:qe.payload,callback:qe.callback,next:null});e:{var _r=f,Cr=qe;switch(qt=x,xr=k,Cr.tag){case 1:if(_r=Cr.payload,typeof _r=="function"){Vt=_r.call(xr,Vt,qt);break e}Vt=_r;break e;case 3:_r.flags=_r.flags&-65537|128;case 0:if(_r=Cr.payload,qt=typeof _r=="function"?_r.call(xr,Vt,qt):_r,qt==null)break e;Vt=Z({},Vt,qt);break e;case 2:Jo=!0}}qe.callback!==null&&qe.lane!==0&&(f.flags|=64,qt=G.effects,qt===null?G.effects=[qe]:qt.push(qe))}else xr={eventTime:xr,lane:qt,tag:qe.tag,payload:qe.payload,callback:qe.callback,next:null},Ht===null?(gt=Ht=xr,Ke=Vt):Ht=Ht.next=xr,we|=qt;if(qe=qe.next,qe===null){if(qe=G.shared.pending,qe===null)break;qt=qe,qe=qt.next,qt.next=null,G.lastBaseUpdate=qt,G.shared.pending=null}}while(!0);if(Ht===null&&(Ke=Vt),G.baseState=Ke,G.firstBaseUpdate=gt,G.lastBaseUpdate=Ht,x=G.shared.interleaved,x!==null){G=x;do we|=G.lane,G=G.next;while(G!==x)}else se===null&&(G.shared.lanes=0);Ef|=we,f.lanes=we,f.memoizedState=Vt}}function mu(f,x,k){if(f=x.effects,x.effects=null,f!==null)for(x=0;x<f.length;x++){var D=f[x],G=D.callback;if(G!==null){if(D.callback=null,D=k,typeof G!="function")throw Error(r(191,G));G.call(D)}}}var md={},zs=_o(md),xd=_o(md),Cc=_o(md);function Hl(f){if(f===md)throw Error(r(174));return f}function gd(f,x){switch(Jn(Cc,x),Jn(xd,f),Jn(zs,md),f=x.nodeType,f){case 9:case 11:x=(x=x.documentElement)?x.namespaceURI:Nt(null,"");break;default:f=f===8?x.parentNode:x,x=f.namespaceURI||null,f=f.tagName,x=Nt(x,f)}Kn(zs),Jn(zs,x)}function Qo(){Kn(zs),Kn(xd),Kn(Cc)}function zx(f){Hl(Cc.current);var x=Hl(zs.current),k=Nt(x,f.type);x!==k&&(Jn(xd,f),Jn(zs,k))}function bp(f){xd.current===f&&(Kn(zs),Kn(xd))}var da=_o(0);function Ao(f){for(var x=f;x!==null;){if(x.tag===13){var k=x.memoizedState;if(k!==null&&(k=k.dehydrated,k===null||k.data==="$?"||k.data==="$!"))return x}else if(x.tag===19&&x.memoizedProps.revealOrder!==void 0){if((x.flags&128)!==0)return x}else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===f)break;for(;x.sibling===null;){if(x.return===null||x.return===f)return null;x=x.return}x.sibling.return=x.return,x=x.sibling}return null}var wp=[];function Np(){for(var f=0;f<wp.length;f++)wp[f]._workInProgressVersionPrimary=null;wp.length=0}var D0=N.ReactCurrentDispatcher,L0=N.ReactCurrentBatchConfig,Zo=0,xa=null,$a=null,Ia=null,vd=!1,Wl=!1,yd=0,Dy=0;function ei(){throw Error(r(321))}function F0(f,x){if(x===null)return!1;for(var k=0;k<x.length&&k<f.length;k++)if(!Ln(f[k],x[k]))return!1;return!0}function Sf(f,x,k,D,G,se){if(Zo=se,xa=x,x.memoizedState=null,x.updateQueue=null,x.lanes=0,D0.current=f===null||f.memoizedState===null?C9:T9,f=k(D,G),Wl){se=0;do{if(Wl=!1,yd=0,25<=se)throw Error(r(301));se+=1,Ia=$a=null,x.updateQueue=null,D0.current=O9,f=k(D,G)}while(Wl)}if(D0.current=Kx,x=$a!==null&&$a.next!==null,Zo=0,Ia=$a=xa=null,vd=!1,x)throw Error(r(300));return f}function el(){var f=yd!==0;return yd=0,f}function Eo(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ia===null?xa.memoizedState=Ia=f:Ia=Ia.next=f,Ia}function Hs(){if($a===null){var f=xa.alternate;f=f!==null?f.memoizedState:null}else f=$a.next;var x=Ia===null?xa.memoizedState:Ia.next;if(x!==null)Ia=x,$a=f;else{if(f===null)throw Error(r(310));$a=f,f={memoizedState:$a.memoizedState,baseState:$a.baseState,baseQueue:$a.baseQueue,queue:$a.queue,next:null},Ia===null?xa.memoizedState=Ia=f:Ia=Ia.next=f}return Ia}function _f(f,x){return typeof x=="function"?x(f):x}function M0(f){var x=Hs(),k=x.queue;if(k===null)throw Error(r(311));k.lastRenderedReducer=f;var D=$a,G=D.baseQueue,se=k.pending;if(se!==null){if(G!==null){var we=G.next;G.next=se.next,se.next=we}D.baseQueue=G=se,k.pending=null}if(G!==null){se=G.next,D=D.baseState;var qe=we=null,Ke=null,gt=se;do{var Ht=gt.lane;if((Zo&Ht)===Ht)Ke!==null&&(Ke=Ke.next={lane:0,action:gt.action,hasEagerState:gt.hasEagerState,eagerState:gt.eagerState,next:null}),D=gt.hasEagerState?gt.eagerState:f(D,gt.action);else{var Vt={lane:Ht,action:gt.action,hasEagerState:gt.hasEagerState,eagerState:gt.eagerState,next:null};Ke===null?(qe=Ke=Vt,we=D):Ke=Ke.next=Vt,xa.lanes|=Ht,Ef|=Ht}gt=gt.next}while(gt!==null&&gt!==se);Ke===null?we=D:Ke.next=qe,Ln(D,x.memoizedState)||(po=!0),x.memoizedState=D,x.baseState=we,x.baseQueue=Ke,k.lastRenderedState=D}if(f=k.interleaved,f!==null){G=f;do se=G.lane,xa.lanes|=se,Ef|=se,G=G.next;while(G!==f)}else G===null&&(k.lanes=0);return[x.memoizedState,k.dispatch]}function Tc(f){var x=Hs(),k=x.queue;if(k===null)throw Error(r(311));k.lastRenderedReducer=f;var D=k.dispatch,G=k.pending,se=x.memoizedState;if(G!==null){k.pending=null;var we=G=G.next;do se=f(se,we.action),we=we.next;while(we!==G);Ln(se,x.memoizedState)||(po=!0),x.memoizedState=se,x.baseQueue===null&&(x.baseState=se),k.lastRenderedState=se}return[se,D]}function Hx(){}function jp(f,x){var k=xa,D=Hs(),G=x(),se=!Ln(D.memoizedState,G);if(se&&(D.memoizedState=G,po=!0),D=D.queue,U0(Vx.bind(null,k,D,f),[f]),D.getSnapshot!==x||se||Ia!==null&&Ia.memoizedState.tag&1){if(k.flags|=2048,Ws(9,kp.bind(null,k,D,G,x),void 0,null),Mi===null)throw Error(r(349));(Zo&30)!==0||Wx(k,x,G)}return G}function Wx(f,x,k){f.flags|=16384,f={getSnapshot:x,value:k},x=xa.updateQueue,x===null?(x={lastEffect:null,stores:null},xa.updateQueue=x,x.stores=[f]):(k=x.stores,k===null?x.stores=[f]:k.push(f))}function kp(f,x,k,D){x.value=k,x.getSnapshot=D,bd(x)&&R0(f)}function Vx(f,x,k){return k(function(){bd(x)&&R0(f)})}function bd(f){var x=f.getSnapshot;f=f.value;try{var k=x();return!Ln(f,k)}catch{return!0}}function R0(f){var x=qn(f,1);x!==null&&Yl(x,f,1,-1)}function Af(f){var x=Eo();return typeof f=="function"&&(f=f()),x.memoizedState=x.baseState=f,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_f,lastRenderedState:f},x.queue=f,f=f.dispatch=E9.bind(null,xa,f),[x.memoizedState,f]}function Ws(f,x,k,D){return f={tag:f,create:x,destroy:k,deps:D,next:null},x=xa.updateQueue,x===null?(x={lastEffect:null,stores:null},xa.updateQueue=x,x.lastEffect=f.next=f):(k=x.lastEffect,k===null?x.lastEffect=f.next=f:(D=k.next,k.next=f,f.next=D,x.lastEffect=f)),f}function Vl(){return Hs().memoizedState}function Co(f,x,k,D){var G=Eo();xa.flags|=f,G.memoizedState=Ws(1|x,k,void 0,D===void 0?null:D)}function xu(f,x,k,D){var G=Hs();D=D===void 0?null:D;var se=void 0;if($a!==null){var we=$a.memoizedState;if(se=we.destroy,D!==null&&F0(D,we.deps)){G.memoizedState=Ws(x,k,se,D);return}}xa.flags|=f,G.memoizedState=Ws(1|x,k,se,D)}function B0(f,x){return Co(8390656,8,f,x)}function U0(f,x){return xu(2048,8,f,x)}function Gx(f,x){return xu(4,2,f,x)}function q0(f,x){return xu(4,4,f,x)}function $0(f,x){if(typeof x=="function")return f=f(),x(f),function(){x(null)};if(x!=null)return f=f(),x.current=f,function(){x.current=null}}function K3(f,x,k){return k=k!=null?k.concat([f]):null,xu(4,4,$0.bind(null,x,f),k)}function Ly(){}function X3(f,x){var k=Hs();x=x===void 0?null:x;var D=k.memoizedState;return D!==null&&x!==null&&F0(x,D[1])?D[0]:(k.memoizedState=[f,x],f)}function Y3(f,x){var k=Hs();x=x===void 0?null:x;var D=k.memoizedState;return D!==null&&x!==null&&F0(x,D[1])?D[0]:(f=f(),k.memoizedState=[f,x],f)}function J3(f,x,k){return(Zo&21)===0?(f.baseState&&(f.baseState=!1,po=!0),f.memoizedState=k):(Ln(k,x)||(k=Wt(),xa.lanes|=k,Ef|=k,f.baseState=!0),x)}function _9(f,x){var k=yr;yr=k!==0&&4>k?k:4,f(!0);var D=L0.transition;L0.transition={};try{f(!1),x()}finally{yr=k,L0.transition=D}}function Q3(){return Hs().memoizedState}function A9(f,x,k){var D=kd(f);if(k={lane:D,action:k,hasEagerState:!1,eagerState:null,next:null},Z3(f))eS(x,k);else if(k=$l(f,x,k,D),k!==null){var G=Gs();Yl(k,f,D,G),tS(k,x,D)}}function E9(f,x,k){var D=kd(f),G={lane:D,action:k,hasEagerState:!1,eagerState:null,next:null};if(Z3(f))eS(x,G);else{var se=f.alternate;if(f.lanes===0&&(se===null||se.lanes===0)&&(se=x.lastRenderedReducer,se!==null))try{var we=x.lastRenderedState,qe=se(we,k);if(G.hasEagerState=!0,G.eagerState=qe,Ln(qe,we)){var Ke=x.interleaved;Ke===null?(G.next=G,Ec(x)):(G.next=Ke.next,Ke.next=G),x.interleaved=G;return}}catch{}k=$l(f,x,G,D),k!==null&&(G=Gs(),Yl(k,f,D,G),tS(k,x,D))}}function Z3(f){var x=f.alternate;return f===xa||x!==null&&x===xa}function eS(f,x){Wl=vd=!0;var k=f.pending;k===null?x.next=x:(x.next=k.next,k.next=x),f.pending=x}function tS(f,x,k){if((k&4194240)!==0){var D=x.lanes;D&=f.pendingLanes,k|=D,x.lanes=k,xt(f,k)}}var Kx={readContext:qa,useCallback:ei,useContext:ei,useEffect:ei,useImperativeHandle:ei,useInsertionEffect:ei,useLayoutEffect:ei,useMemo:ei,useReducer:ei,useRef:ei,useState:ei,useDebugValue:ei,useDeferredValue:ei,useTransition:ei,useMutableSource:ei,useSyncExternalStore:ei,useId:ei,unstable_isNewReconciler:!1},C9={readContext:qa,useCallback:function(f,x){return Eo().memoizedState=[f,x===void 0?null:x],f},useContext:qa,useEffect:B0,useImperativeHandle:function(f,x,k){return k=k!=null?k.concat([f]):null,Co(4194308,4,$0.bind(null,x,f),k)},useLayoutEffect:function(f,x){return Co(4194308,4,f,x)},useInsertionEffect:function(f,x){return Co(4,2,f,x)},useMemo:function(f,x){var k=Eo();return x=x===void 0?null:x,f=f(),k.memoizedState=[f,x],f},useReducer:function(f,x,k){var D=Eo();return x=k!==void 0?k(x):x,D.memoizedState=D.baseState=x,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:x},D.queue=f,f=f.dispatch=A9.bind(null,xa,f),[D.memoizedState,f]},useRef:function(f){var x=Eo();return f={current:f},x.memoizedState=f},useState:Af,useDebugValue:Ly,useDeferredValue:function(f){return Eo().memoizedState=f},useTransition:function(){var f=Af(!1),x=f[0];return f=_9.bind(null,f[1]),Eo().memoizedState=f,[x,f]},useMutableSource:function(){},useSyncExternalStore:function(f,x,k){var D=xa,G=Eo();if(jt){if(k===void 0)throw Error(r(407));k=k()}else{if(k=x(),Mi===null)throw Error(r(349));(Zo&30)!==0||Wx(D,x,k)}G.memoizedState=k;var se={value:k,getSnapshot:x};return G.queue=se,B0(Vx.bind(null,D,se,f),[f]),D.flags|=2048,Ws(9,kp.bind(null,D,se,k,x),void 0,null),k},useId:function(){var f=Eo(),x=Mi.identifierPrefix;if(jt){var k=lt,D=ot;k=(D&~(1<<32-gn(D)-1)).toString(32)+k,x=":"+x+"R"+k,k=yd++,0<k&&(x+="H"+k.toString(32)),x+=":"}else k=Dy++,x=":"+x+"r"+k.toString(32)+":";return f.memoizedState=x},unstable_isNewReconciler:!1},T9={readContext:qa,useCallback:X3,useContext:qa,useEffect:U0,useImperativeHandle:K3,useInsertionEffect:Gx,useLayoutEffect:q0,useMemo:Y3,useReducer:M0,useRef:Vl,useState:function(){return M0(_f)},useDebugValue:Ly,useDeferredValue:function(f){var x=Hs();return J3(x,$a.memoizedState,f)},useTransition:function(){var f=M0(_f)[0],x=Hs().memoizedState;return[f,x]},useMutableSource:Hx,useSyncExternalStore:jp,useId:Q3,unstable_isNewReconciler:!1},O9={readContext:qa,useCallback:X3,useContext:qa,useEffect:U0,useImperativeHandle:K3,useInsertionEffect:Gx,useLayoutEffect:q0,useMemo:Y3,useReducer:Tc,useRef:Vl,useState:function(){return Tc(_f)},useDebugValue:Ly,useDeferredValue:function(f){var x=Hs();return $a===null?x.memoizedState=f:J3(x,$a.memoizedState,f)},useTransition:function(){var f=Tc(_f)[0],x=Hs().memoizedState;return[f,x]},useMutableSource:Hx,useSyncExternalStore:jp,useId:Q3,unstable_isNewReconciler:!1};function Gl(f,x){if(f&&f.defaultProps){x=Z({},x),f=f.defaultProps;for(var k in f)x[k]===void 0&&(x[k]=f[k]);return x}return x}function Fy(f,x,k,D){x=f.memoizedState,k=k(D,x),k=k==null?x:Z({},x,k),f.memoizedState=k,f.lanes===0&&(f.updateQueue.baseState=k)}var Xx={isMounted:function(f){return(f=f._reactInternals)?Te(f)===f:!1},enqueueSetState:function(f,x,k){f=f._reactInternals;var D=Gs(),G=kd(f),se=uo(D,G);se.payload=x,k!=null&&(se.callback=k),x=fo(f,se,G),x!==null&&(Yl(x,f,G,D),pu(x,f,G))},enqueueReplaceState:function(f,x,k){f=f._reactInternals;var D=Gs(),G=kd(f),se=uo(D,G);se.tag=1,se.payload=x,k!=null&&(se.callback=k),x=fo(f,se,G),x!==null&&(Yl(x,f,G,D),pu(x,f,G))},enqueueForceUpdate:function(f,x){f=f._reactInternals;var k=Gs(),D=kd(f),G=uo(k,D);G.tag=2,x!=null&&(G.callback=x),x=fo(f,G,D),x!==null&&(Yl(x,f,D,k),pu(x,f,D))}};function rS(f,x,k,D,G,se,we){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(D,se,we):x.prototype&&x.prototype.isPureReactComponent?!Fl(k,D)||!Fl(G,se):!0}function nS(f,x,k){var D=!1,G=Ac,se=x.contextType;return typeof se=="object"&&se!==null?se=qa(se):(G=ms(x)?fu:yi.current,D=x.contextTypes,se=(D=D!=null)?pd(f,G):Ac),x=new x(k,se),f.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Xx,f.stateNode=x,x._reactInternals=f,D&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=G,f.__reactInternalMemoizedMaskedChildContext=se),x}function aS(f,x,k,D){f=x.state,typeof x.componentWillReceiveProps=="function"&&x.componentWillReceiveProps(k,D),typeof x.UNSAFE_componentWillReceiveProps=="function"&&x.UNSAFE_componentWillReceiveProps(k,D),x.state!==f&&Xx.enqueueReplaceState(x,x.state,null)}function My(f,x,k,D){var G=f.stateNode;G.props=k,G.state=f.memoizedState,G.refs={},I0(f);var se=x.contextType;typeof se=="object"&&se!==null?G.context=qa(se):(se=ms(x)?fu:yi.current,G.context=pd(f,se)),G.state=f.memoizedState,se=x.getDerivedStateFromProps,typeof se=="function"&&(Fy(f,x,se,k),G.state=f.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof G.getSnapshotBeforeUpdate=="function"||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(x=G.state,typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount(),x!==G.state&&Xx.enqueueReplaceState(G,G.state,null),zl(f,k,G,D),G.state=f.memoizedState),typeof G.componentDidMount=="function"&&(f.flags|=4194308)}function z0(f,x){try{var k="",D=x;do k+=B(D),D=D.return;while(D);var G=k}catch(se){G=`
Error generating stack: `+se.message+`
`+se.stack}return{value:f,source:x,stack:G,digest:null}}function Ry(f,x,k){return{value:f,source:null,stack:k??null,digest:x??null}}function By(f,x){try{console.error(x.value)}catch(k){setTimeout(function(){throw k})}}var P9=typeof WeakMap=="function"?WeakMap:Map;function iS(f,x,k){k=uo(-1,k),k.tag=3,k.payload={element:null};var D=x.value;return k.callback=function(){rg||(rg=!0,eb=D),By(f,x)},k}function sS(f,x,k){k=uo(-1,k),k.tag=3;var D=f.type.getDerivedStateFromError;if(typeof D=="function"){var G=x.value;k.payload=function(){return D(G)},k.callback=function(){By(f,x)}}var se=f.stateNode;return se!==null&&typeof se.componentDidCatch=="function"&&(k.callback=function(){By(f,x),typeof D!="function"&&(Nd===null?Nd=new Set([this]):Nd.add(this));var we=x.stack;this.componentDidCatch(x.value,{componentStack:we!==null?we:""})}),k}function oS(f,x,k){var D=f.pingCache;if(D===null){D=f.pingCache=new P9;var G=new Set;D.set(x,G)}else G=D.get(x),G===void 0&&(G=new Set,D.set(x,G));G.has(k)||(G.add(k),f=V9.bind(null,f,x,k),x.then(f,f))}function lS(f){do{var x;if((x=f.tag===13)&&(x=f.memoizedState,x=x!==null?x.dehydrated!==null:!0),x)return f;f=f.return}while(f!==null);return null}function cS(f,x,k,D,G){return(f.mode&1)===0?(f===x?f.flags|=65536:(f.flags|=128,k.flags|=131072,k.flags&=-52805,k.tag===1&&(k.alternate===null?k.tag=17:(x=uo(-1,1),x.tag=2,fo(k,x,1))),k.lanes|=1),f):(f.flags|=65536,f.lanes=G,f)}var I9=N.ReactCurrentOwner,po=!1;function Vs(f,x,k,D){x.child=f===null?Un(x,null,k,D):Qa(x,f.child,k,D)}function uS(f,x,k,D,G){k=k.render;var se=x.ref;return wa(x,G),D=Sf(f,x,k,D,se,G),k=el(),f!==null&&!po?(x.updateQueue=f.updateQueue,x.flags&=-2053,f.lanes&=~G,gu(f,x,G)):(jt&&k&&bt(x),x.flags|=1,Vs(f,x,D,G),x.child)}function dS(f,x,k,D,G){if(f===null){var se=k.type;return typeof se=="function"&&!ob(se)&&se.defaultProps===void 0&&k.compare===null&&k.defaultProps===void 0?(x.tag=15,x.type=se,fS(f,x,se,D,G)):(f=lg(k.type,null,D,x,x.mode,G),f.ref=x.ref,f.return=x,x.child=f)}if(se=f.child,(f.lanes&G)===0){var we=se.memoizedProps;if(k=k.compare,k=k!==null?k:Fl,k(we,D)&&f.ref===x.ref)return gu(f,x,G)}return x.flags|=1,f=_d(se,D),f.ref=x.ref,f.return=x,x.child=f}function fS(f,x,k,D,G){if(f!==null){var se=f.memoizedProps;if(Fl(se,D)&&f.ref===x.ref)if(po=!1,x.pendingProps=D=se,(f.lanes&G)!==0)(f.flags&131072)!==0&&(po=!0);else return x.lanes=f.lanes,gu(f,x,G)}return Uy(f,x,k,D,G)}function hS(f,x,k){var D=x.pendingProps,G=D.children,se=f!==null?f.memoizedState:null;if(D.mode==="hidden")if((x.mode&1)===0)x.memoizedState={baseLanes:0,cachePool:null,transitions:null},Jn(W0,To),To|=k;else{if((k&1073741824)===0)return f=se!==null?se.baseLanes|k:k,x.lanes=x.childLanes=1073741824,x.memoizedState={baseLanes:f,cachePool:null,transitions:null},x.updateQueue=null,Jn(W0,To),To|=f,null;x.memoizedState={baseLanes:0,cachePool:null,transitions:null},D=se!==null?se.baseLanes:k,Jn(W0,To),To|=D}else se!==null?(D=se.baseLanes|k,x.memoizedState=null):D=k,Jn(W0,To),To|=D;return Vs(f,x,G,k),x.child}function pS(f,x){var k=x.ref;(f===null&&k!==null||f!==null&&f.ref!==k)&&(x.flags|=512,x.flags|=2097152)}function Uy(f,x,k,D,G){var se=ms(k)?fu:yi.current;return se=pd(x,se),wa(x,G),k=Sf(f,x,k,D,se,G),D=el(),f!==null&&!po?(x.updateQueue=f.updateQueue,x.flags&=-2053,f.lanes&=~G,gu(f,x,G)):(jt&&D&&bt(x),x.flags|=1,Vs(f,x,k,G),x.child)}function mS(f,x,k,D,G){if(ms(k)){var se=!0;hu(x)}else se=!1;if(wa(x,G),x.stateNode===null)Jx(f,x),nS(x,k,D),My(x,k,D,G),D=!0;else if(f===null){var we=x.stateNode,qe=x.memoizedProps;we.props=qe;var Ke=we.context,gt=k.contextType;typeof gt=="object"&&gt!==null?gt=qa(gt):(gt=ms(k)?fu:yi.current,gt=pd(x,gt));var Ht=k.getDerivedStateFromProps,Vt=typeof Ht=="function"||typeof we.getSnapshotBeforeUpdate=="function";Vt||typeof we.UNSAFE_componentWillReceiveProps!="function"&&typeof we.componentWillReceiveProps!="function"||(qe!==D||Ke!==gt)&&aS(x,we,D,gt),Jo=!1;var qt=x.memoizedState;we.state=qt,zl(x,D,we,G),Ke=x.memoizedState,qe!==D||qt!==Ke||ps.current||Jo?(typeof Ht=="function"&&(Fy(x,k,Ht,D),Ke=x.memoizedState),(qe=Jo||rS(x,k,qe,D,qt,Ke,gt))?(Vt||typeof we.UNSAFE_componentWillMount!="function"&&typeof we.componentWillMount!="function"||(typeof we.componentWillMount=="function"&&we.componentWillMount(),typeof we.UNSAFE_componentWillMount=="function"&&we.UNSAFE_componentWillMount()),typeof we.componentDidMount=="function"&&(x.flags|=4194308)):(typeof we.componentDidMount=="function"&&(x.flags|=4194308),x.memoizedProps=D,x.memoizedState=Ke),we.props=D,we.state=Ke,we.context=gt,D=qe):(typeof we.componentDidMount=="function"&&(x.flags|=4194308),D=!1)}else{we=x.stateNode,yp(f,x),qe=x.memoizedProps,gt=x.type===x.elementType?qe:Gl(x.type,qe),we.props=gt,Vt=x.pendingProps,qt=we.context,Ke=k.contextType,typeof Ke=="object"&&Ke!==null?Ke=qa(Ke):(Ke=ms(k)?fu:yi.current,Ke=pd(x,Ke));var xr=k.getDerivedStateFromProps;(Ht=typeof xr=="function"||typeof we.getSnapshotBeforeUpdate=="function")||typeof we.UNSAFE_componentWillReceiveProps!="function"&&typeof we.componentWillReceiveProps!="function"||(qe!==Vt||qt!==Ke)&&aS(x,we,D,Ke),Jo=!1,qt=x.memoizedState,we.state=qt,zl(x,D,we,G);var _r=x.memoizedState;qe!==Vt||qt!==_r||ps.current||Jo?(typeof xr=="function"&&(Fy(x,k,xr,D),_r=x.memoizedState),(gt=Jo||rS(x,k,gt,D,qt,_r,Ke)||!1)?(Ht||typeof we.UNSAFE_componentWillUpdate!="function"&&typeof we.componentWillUpdate!="function"||(typeof we.componentWillUpdate=="function"&&we.componentWillUpdate(D,_r,Ke),typeof we.UNSAFE_componentWillUpdate=="function"&&we.UNSAFE_componentWillUpdate(D,_r,Ke)),typeof we.componentDidUpdate=="function"&&(x.flags|=4),typeof we.getSnapshotBeforeUpdate=="function"&&(x.flags|=1024)):(typeof we.componentDidUpdate!="function"||qe===f.memoizedProps&&qt===f.memoizedState||(x.flags|=4),typeof we.getSnapshotBeforeUpdate!="function"||qe===f.memoizedProps&&qt===f.memoizedState||(x.flags|=1024),x.memoizedProps=D,x.memoizedState=_r),we.props=D,we.state=_r,we.context=Ke,D=gt):(typeof we.componentDidUpdate!="function"||qe===f.memoizedProps&&qt===f.memoizedState||(x.flags|=4),typeof we.getSnapshotBeforeUpdate!="function"||qe===f.memoizedProps&&qt===f.memoizedState||(x.flags|=1024),D=!1)}return qy(f,x,k,D,se,G)}function qy(f,x,k,D,G,se){pS(f,x);var we=(x.flags&128)!==0;if(!D&&!we)return G&&$x(x,k,!1),gu(f,x,se);D=x.stateNode,I9.current=x;var qe=we&&typeof k.getDerivedStateFromError!="function"?null:D.render();return x.flags|=1,f!==null&&we?(x.child=Qa(x,f.child,null,se),x.child=Qa(x,null,qe,se)):Vs(f,x,qe,se),x.memoizedState=D.state,G&&$x(x,k,!0),x.child}function xS(f){var x=f.stateNode;x.pendingContext?qx(f,x.pendingContext,x.pendingContext!==x.context):x.context&&qx(f,x.context,!1),gd(f,x.containerInfo)}function gS(f,x,k,D,G){return ln(),Xn(G),x.flags|=256,Vs(f,x,k,D),x.child}var $y={dehydrated:null,treeContext:null,retryLane:0};function zy(f){return{baseLanes:f,cachePool:null,transitions:null}}function vS(f,x,k){var D=x.pendingProps,G=da.current,se=!1,we=(x.flags&128)!==0,qe;if((qe=we)||(qe=f!==null&&f.memoizedState===null?!1:(G&2)!==0),qe?(se=!0,x.flags&=-129):(f===null||f.memoizedState!==null)&&(G|=1),Jn(da,G&1),f===null)return ur(x),f=x.memoizedState,f!==null&&(f=f.dehydrated,f!==null)?((x.mode&1)===0?x.lanes=1:f.data==="$!"?x.lanes=8:x.lanes=1073741824,null):(we=D.children,f=D.fallback,se?(D=x.mode,se=x.child,we={mode:"hidden",children:we},(D&1)===0&&se!==null?(se.childLanes=0,se.pendingProps=we):se=cg(we,D,0,null),f=Pf(f,D,k,null),se.return=x,f.return=x,se.sibling=f,x.child=se,x.child.memoizedState=zy(k),x.memoizedState=$y,f):Hy(x,we));if(G=f.memoizedState,G!==null&&(qe=G.dehydrated,qe!==null))return D9(f,x,we,D,qe,G,k);if(se){se=D.fallback,we=x.mode,G=f.child,qe=G.sibling;var Ke={mode:"hidden",children:D.children};return(we&1)===0&&x.child!==G?(D=x.child,D.childLanes=0,D.pendingProps=Ke,x.deletions=null):(D=_d(G,Ke),D.subtreeFlags=G.subtreeFlags&14680064),qe!==null?se=_d(qe,se):(se=Pf(se,we,k,null),se.flags|=2),se.return=x,D.return=x,D.sibling=se,x.child=D,D=se,se=x.child,we=f.child.memoizedState,we=we===null?zy(k):{baseLanes:we.baseLanes|k,cachePool:null,transitions:we.transitions},se.memoizedState=we,se.childLanes=f.childLanes&~k,x.memoizedState=$y,D}return se=f.child,f=se.sibling,D=_d(se,{mode:"visible",children:D.children}),(x.mode&1)===0&&(D.lanes=k),D.return=x,D.sibling=null,f!==null&&(k=x.deletions,k===null?(x.deletions=[f],x.flags|=16):k.push(f)),x.child=D,x.memoizedState=null,D}function Hy(f,x){return x=cg({mode:"visible",children:x},f.mode,0,null),x.return=f,f.child=x}function Yx(f,x,k,D){return D!==null&&Xn(D),Qa(x,f.child,null,k),f=Hy(x,x.pendingProps.children),f.flags|=2,x.memoizedState=null,f}function D9(f,x,k,D,G,se,we){if(k)return x.flags&256?(x.flags&=-257,D=Ry(Error(r(422))),Yx(f,x,we,D)):x.memoizedState!==null?(x.child=f.child,x.flags|=128,null):(se=D.fallback,G=x.mode,D=cg({mode:"visible",children:D.children},G,0,null),se=Pf(se,G,we,null),se.flags|=2,D.return=x,se.return=x,D.sibling=se,x.child=D,(x.mode&1)!==0&&Qa(x,f.child,null,we),x.child.memoizedState=zy(we),x.memoizedState=$y,se);if((x.mode&1)===0)return Yx(f,x,we,null);if(G.data==="$!"){if(D=G.nextSibling&&G.nextSibling.dataset,D)var qe=D.dgst;return D=qe,se=Error(r(419)),D=Ry(se,D,void 0),Yx(f,x,we,D)}if(qe=(we&f.childLanes)!==0,po||qe){if(D=Mi,D!==null){switch(we&-we){case 4:G=2;break;case 16:G=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:G=32;break;case 536870912:G=268435456;break;default:G=0}G=(G&(D.suspendedLanes|we))!==0?0:G,G!==0&&G!==se.retryLane&&(se.retryLane=G,qn(f,G),Yl(D,f,G,-1))}return sb(),D=Ry(Error(r(421))),Yx(f,x,we,D)}return G.data==="$?"?(x.flags|=128,x.child=f.child,x=G9.bind(null,f),G._reactRetry=x,null):(f=se.treeContext,kt=Zi(G.nextSibling),Ye=x,jt=!0,Et=null,f!==null&&(Ce[Fe++]=ot,Ce[Fe++]=lt,Ce[Fe++]=Ve,ot=f.id,lt=f.overflow,Ve=x),x=Hy(x,D.children),x.flags|=4096,x)}function yS(f,x,k){f.lanes|=x;var D=f.alternate;D!==null&&(D.lanes|=x),co(f.return,x,k)}function Wy(f,x,k,D,G){var se=f.memoizedState;se===null?f.memoizedState={isBackwards:x,rendering:null,renderingStartTime:0,last:D,tail:k,tailMode:G}:(se.isBackwards=x,se.rendering=null,se.renderingStartTime=0,se.last=D,se.tail=k,se.tailMode=G)}function bS(f,x,k){var D=x.pendingProps,G=D.revealOrder,se=D.tail;if(Vs(f,x,D.children,k),D=da.current,(D&2)!==0)D=D&1|2,x.flags|=128;else{if(f!==null&&(f.flags&128)!==0)e:for(f=x.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&yS(f,k,x);else if(f.tag===19)yS(f,k,x);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===x)break e;for(;f.sibling===null;){if(f.return===null||f.return===x)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}D&=1}if(Jn(da,D),(x.mode&1)===0)x.memoizedState=null;else switch(G){case"forwards":for(k=x.child,G=null;k!==null;)f=k.alternate,f!==null&&Ao(f)===null&&(G=k),k=k.sibling;k=G,k===null?(G=x.child,x.child=null):(G=k.sibling,k.sibling=null),Wy(x,!1,G,k,se);break;case"backwards":for(k=null,G=x.child,x.child=null;G!==null;){if(f=G.alternate,f!==null&&Ao(f)===null){x.child=G;break}f=G.sibling,G.sibling=k,k=G,G=f}Wy(x,!0,k,null,se);break;case"together":Wy(x,!1,null,null,void 0);break;default:x.memoizedState=null}return x.child}function Jx(f,x){(x.mode&1)===0&&f!==null&&(f.alternate=null,x.alternate=null,x.flags|=2)}function gu(f,x,k){if(f!==null&&(x.dependencies=f.dependencies),Ef|=x.lanes,(k&x.childLanes)===0)return null;if(f!==null&&x.child!==f.child)throw Error(r(153));if(x.child!==null){for(f=x.child,k=_d(f,f.pendingProps),x.child=k,k.return=x;f.sibling!==null;)f=f.sibling,k=k.sibling=_d(f,f.pendingProps),k.return=x;k.sibling=null}return x.child}function L9(f,x,k){switch(x.tag){case 3:xS(x),ln();break;case 5:zx(x);break;case 1:ms(x.type)&&hu(x);break;case 4:gd(x,x.stateNode.containerInfo);break;case 10:var D=x.type._context,G=x.memoizedProps.value;Jn(Li,D._currentValue),D._currentValue=G;break;case 13:if(D=x.memoizedState,D!==null)return D.dehydrated!==null?(Jn(da,da.current&1),x.flags|=128,null):(k&x.child.childLanes)!==0?vS(f,x,k):(Jn(da,da.current&1),f=gu(f,x,k),f!==null?f.sibling:null);Jn(da,da.current&1);break;case 19:if(D=(k&x.childLanes)!==0,(f.flags&128)!==0){if(D)return bS(f,x,k);x.flags|=128}if(G=x.memoizedState,G!==null&&(G.rendering=null,G.tail=null,G.lastEffect=null),Jn(da,da.current),D)break;return null;case 22:case 23:return x.lanes=0,hS(f,x,k)}return gu(f,x,k)}var wS,Vy,NS,jS;wS=function(f,x){for(var k=x.child;k!==null;){if(k.tag===5||k.tag===6)f.appendChild(k.stateNode);else if(k.tag!==4&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===x)break;for(;k.sibling===null;){if(k.return===null||k.return===x)return;k=k.return}k.sibling.return=k.return,k=k.sibling}},Vy=function(){},NS=function(f,x,k,D){var G=f.memoizedProps;if(G!==D){f=x.stateNode,Hl(zs.current);var se=null;switch(k){case"input":G=je(f,G),D=je(f,D),se=[];break;case"select":G=Z({},G,{value:void 0}),D=Z({},D,{value:void 0}),se=[];break;case"textarea":G=ye(f,G),D=ye(f,D),se=[];break;default:typeof G.onClick!="function"&&typeof D.onClick=="function"&&(f.onclick=dd)}er(k,D);var we;k=null;for(gt in G)if(!D.hasOwnProperty(gt)&&G.hasOwnProperty(gt)&&G[gt]!=null)if(gt==="style"){var qe=G[gt];for(we in qe)qe.hasOwnProperty(we)&&(k||(k={}),k[we]="")}else gt!=="dangerouslySetInnerHTML"&&gt!=="children"&&gt!=="suppressContentEditableWarning"&&gt!=="suppressHydrationWarning"&&gt!=="autoFocus"&&(a.hasOwnProperty(gt)?se||(se=[]):(se=se||[]).push(gt,null));for(gt in D){var Ke=D[gt];if(qe=G?.[gt],D.hasOwnProperty(gt)&&Ke!==qe&&(Ke!=null||qe!=null))if(gt==="style")if(qe){for(we in qe)!qe.hasOwnProperty(we)||Ke&&Ke.hasOwnProperty(we)||(k||(k={}),k[we]="");for(we in Ke)Ke.hasOwnProperty(we)&&qe[we]!==Ke[we]&&(k||(k={}),k[we]=Ke[we])}else k||(se||(se=[]),se.push(gt,k)),k=Ke;else gt==="dangerouslySetInnerHTML"?(Ke=Ke?Ke.__html:void 0,qe=qe?qe.__html:void 0,Ke!=null&&qe!==Ke&&(se=se||[]).push(gt,Ke)):gt==="children"?typeof Ke!="string"&&typeof Ke!="number"||(se=se||[]).push(gt,""+Ke):gt!=="suppressContentEditableWarning"&&gt!=="suppressHydrationWarning"&&(a.hasOwnProperty(gt)?(Ke!=null&&gt==="onScroll"&&ra("scroll",f),se||qe===Ke||(se=[])):(se=se||[]).push(gt,Ke))}k&&(se=se||[]).push("style",k);var gt=se;(x.updateQueue=gt)&&(x.flags|=4)}},jS=function(f,x,k,D){k!==D&&(x.flags|=4)};function Sp(f,x){if(!jt)switch(f.tailMode){case"hidden":x=f.tail;for(var k=null;x!==null;)x.alternate!==null&&(k=x),x=x.sibling;k===null?f.tail=null:k.sibling=null;break;case"collapsed":k=f.tail;for(var D=null;k!==null;)k.alternate!==null&&(D=k),k=k.sibling;D===null?x||f.tail===null?f.tail=null:f.tail.sibling=null:D.sibling=null}}function gs(f){var x=f.alternate!==null&&f.alternate.child===f.child,k=0,D=0;if(x)for(var G=f.child;G!==null;)k|=G.lanes|G.childLanes,D|=G.subtreeFlags&14680064,D|=G.flags&14680064,G.return=f,G=G.sibling;else for(G=f.child;G!==null;)k|=G.lanes|G.childLanes,D|=G.subtreeFlags,D|=G.flags,G.return=f,G=G.sibling;return f.subtreeFlags|=D,f.childLanes=k,x}function F9(f,x,k){var D=x.pendingProps;switch(Xe(x),x.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gs(x),null;case 1:return ms(x.type)&&P0(),gs(x),null;case 3:return D=x.stateNode,Qo(),Kn(ps),Kn(yi),Np(),D.pendingContext&&(D.context=D.pendingContext,D.pendingContext=null),(f===null||f.child===null)&&(Tn(x)?x.flags|=4:f===null||f.memoizedState.isDehydrated&&(x.flags&256)===0||(x.flags|=1024,Et!==null&&(nb(Et),Et=null))),Vy(f,x),gs(x),null;case 5:bp(x);var G=Hl(Cc.current);if(k=x.type,f!==null&&x.stateNode!=null)NS(f,x,k,D,G),f.ref!==x.ref&&(x.flags|=512,x.flags|=2097152);else{if(!D){if(x.stateNode===null)throw Error(r(166));return gs(x),null}if(f=Hl(zs.current),Tn(x)){D=x.stateNode,k=x.type;var se=x.memoizedProps;switch(D[Yo]=x,D[fd]=se,f=(x.mode&1)!==0,k){case"dialog":ra("cancel",D),ra("close",D);break;case"iframe":case"object":case"embed":ra("load",D);break;case"video":case"audio":for(G=0;G<Sc.length;G++)ra(Sc[G],D);break;case"source":ra("error",D);break;case"img":case"image":case"link":ra("error",D),ra("load",D);break;case"details":ra("toggle",D);break;case"input":oe(D,se),ra("invalid",D);break;case"select":D._wrapperState={wasMultiple:!!se.multiple},ra("invalid",D);break;case"textarea":Be(D,se),ra("invalid",D)}er(k,se),G=null;for(var we in se)if(se.hasOwnProperty(we)){var qe=se[we];we==="children"?typeof qe=="string"?D.textContent!==qe&&(se.suppressHydrationWarning!==!0&&O0(D.textContent,qe,f),G=["children",qe]):typeof qe=="number"&&D.textContent!==""+qe&&(se.suppressHydrationWarning!==!0&&O0(D.textContent,qe,f),G=["children",""+qe]):a.hasOwnProperty(we)&&qe!=null&&we==="onScroll"&&ra("scroll",D)}switch(k){case"input":Oe(D),Se(D,se,!0);break;case"textarea":Oe(D),rt(D);break;case"select":case"option":break;default:typeof se.onClick=="function"&&(D.onclick=dd)}D=G,x.updateQueue=D,D!==null&&(x.flags|=4)}else{we=G.nodeType===9?G:G.ownerDocument,f==="http://www.w3.org/1999/xhtml"&&(f=ft(k)),f==="http://www.w3.org/1999/xhtml"?k==="script"?(f=we.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild)):typeof D.is=="string"?f=we.createElement(k,{is:D.is}):(f=we.createElement(k),k==="select"&&(we=f,D.multiple?we.multiple=!0:D.size&&(we.size=D.size))):f=we.createElementNS(f,k),f[Yo]=x,f[fd]=D,wS(f,x,!1,!1),x.stateNode=f;e:{switch(we=ar(k,D),k){case"dialog":ra("cancel",f),ra("close",f),G=D;break;case"iframe":case"object":case"embed":ra("load",f),G=D;break;case"video":case"audio":for(G=0;G<Sc.length;G++)ra(Sc[G],f);G=D;break;case"source":ra("error",f),G=D;break;case"img":case"image":case"link":ra("error",f),ra("load",f),G=D;break;case"details":ra("toggle",f),G=D;break;case"input":oe(f,D),G=je(f,D),ra("invalid",f);break;case"option":G=D;break;case"select":f._wrapperState={wasMultiple:!!D.multiple},G=Z({},D,{value:void 0}),ra("invalid",f);break;case"textarea":Be(f,D),G=ye(f,D),ra("invalid",f);break;default:G=D}er(k,G),qe=G;for(se in qe)if(qe.hasOwnProperty(se)){var Ke=qe[se];se==="style"?nt(f,Ke):se==="dangerouslySetInnerHTML"?(Ke=Ke?Ke.__html:void 0,Ke!=null&&dt(f,Ke)):se==="children"?typeof Ke=="string"?(k!=="textarea"||Ke!=="")&&st(f,Ke):typeof Ke=="number"&&st(f,""+Ke):se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&se!=="autoFocus"&&(a.hasOwnProperty(se)?Ke!=null&&se==="onScroll"&&ra("scroll",f):Ke!=null&&j(f,se,Ke,we))}switch(k){case"input":Oe(f),Se(f,D,!1);break;case"textarea":Oe(f),rt(f);break;case"option":D.value!=null&&f.setAttribute("value",""+fe(D.value));break;case"select":f.multiple=!!D.multiple,se=D.value,se!=null?ae(f,!!D.multiple,se,!1):D.defaultValue!=null&&ae(f,!!D.multiple,D.defaultValue,!0);break;default:typeof G.onClick=="function"&&(f.onclick=dd)}switch(k){case"button":case"input":case"select":case"textarea":D=!!D.autoFocus;break e;case"img":D=!0;break e;default:D=!1}}D&&(x.flags|=4)}x.ref!==null&&(x.flags|=512,x.flags|=2097152)}return gs(x),null;case 6:if(f&&x.stateNode!=null)jS(f,x,f.memoizedProps,D);else{if(typeof D!="string"&&x.stateNode===null)throw Error(r(166));if(k=Hl(Cc.current),Hl(zs.current),Tn(x)){if(D=x.stateNode,k=x.memoizedProps,D[Yo]=x,(se=D.nodeValue!==k)&&(f=Ye,f!==null))switch(f.tag){case 3:O0(D.nodeValue,k,(f.mode&1)!==0);break;case 5:f.memoizedProps.suppressHydrationWarning!==!0&&O0(D.nodeValue,k,(f.mode&1)!==0)}se&&(x.flags|=4)}else D=(k.nodeType===9?k:k.ownerDocument).createTextNode(D),D[Yo]=x,x.stateNode=D}return gs(x),null;case 13:if(Kn(da),D=x.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(jt&&kt!==null&&(x.mode&1)!==0&&(x.flags&128)===0)jn(),ln(),x.flags|=98560,se=!1;else if(se=Tn(x),D!==null&&D.dehydrated!==null){if(f===null){if(!se)throw Error(r(318));if(se=x.memoizedState,se=se!==null?se.dehydrated:null,!se)throw Error(r(317));se[Yo]=x}else ln(),(x.flags&128)===0&&(x.memoizedState=null),x.flags|=4;gs(x),se=!1}else Et!==null&&(nb(Et),Et=null),se=!0;if(!se)return x.flags&65536?x:null}return(x.flags&128)!==0?(x.lanes=k,x):(D=D!==null,D!==(f!==null&&f.memoizedState!==null)&&D&&(x.child.flags|=8192,(x.mode&1)!==0&&(f===null||(da.current&1)!==0?wi===0&&(wi=3):sb())),x.updateQueue!==null&&(x.flags|=4),gs(x),null);case 4:return Qo(),Vy(f,x),f===null&&lu(x.stateNode.containerInfo),gs(x),null;case 10:return xs(x.type._context),gs(x),null;case 17:return ms(x.type)&&P0(),gs(x),null;case 19:if(Kn(da),se=x.memoizedState,se===null)return gs(x),null;if(D=(x.flags&128)!==0,we=se.rendering,we===null)if(D)Sp(se,!1);else{if(wi!==0||f!==null&&(f.flags&128)!==0)for(f=x.child;f!==null;){if(we=Ao(f),we!==null){for(x.flags|=128,Sp(se,!1),D=we.updateQueue,D!==null&&(x.updateQueue=D,x.flags|=4),x.subtreeFlags=0,D=k,k=x.child;k!==null;)se=k,f=D,se.flags&=14680066,we=se.alternate,we===null?(se.childLanes=0,se.lanes=f,se.child=null,se.subtreeFlags=0,se.memoizedProps=null,se.memoizedState=null,se.updateQueue=null,se.dependencies=null,se.stateNode=null):(se.childLanes=we.childLanes,se.lanes=we.lanes,se.child=we.child,se.subtreeFlags=0,se.deletions=null,se.memoizedProps=we.memoizedProps,se.memoizedState=we.memoizedState,se.updateQueue=we.updateQueue,se.type=we.type,f=we.dependencies,se.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),k=k.sibling;return Jn(da,da.current&1|2),x.child}f=f.sibling}se.tail!==null&&Dt()>V0&&(x.flags|=128,D=!0,Sp(se,!1),x.lanes=4194304)}else{if(!D)if(f=Ao(we),f!==null){if(x.flags|=128,D=!0,k=f.updateQueue,k!==null&&(x.updateQueue=k,x.flags|=4),Sp(se,!0),se.tail===null&&se.tailMode==="hidden"&&!we.alternate&&!jt)return gs(x),null}else 2*Dt()-se.renderingStartTime>V0&&k!==1073741824&&(x.flags|=128,D=!0,Sp(se,!1),x.lanes=4194304);se.isBackwards?(we.sibling=x.child,x.child=we):(k=se.last,k!==null?k.sibling=we:x.child=we,se.last=we)}return se.tail!==null?(x=se.tail,se.rendering=x,se.tail=x.sibling,se.renderingStartTime=Dt(),x.sibling=null,k=da.current,Jn(da,D?k&1|2:k&1),x):(gs(x),null);case 22:case 23:return ib(),D=x.memoizedState!==null,f!==null&&f.memoizedState!==null!==D&&(x.flags|=8192),D&&(x.mode&1)!==0?(To&1073741824)!==0&&(gs(x),x.subtreeFlags&6&&(x.flags|=8192)):gs(x),null;case 24:return null;case 25:return null}throw Error(r(156,x.tag))}function M9(f,x){switch(Xe(x),x.tag){case 1:return ms(x.type)&&P0(),f=x.flags,f&65536?(x.flags=f&-65537|128,x):null;case 3:return Qo(),Kn(ps),Kn(yi),Np(),f=x.flags,(f&65536)!==0&&(f&128)===0?(x.flags=f&-65537|128,x):null;case 5:return bp(x),null;case 13:if(Kn(da),f=x.memoizedState,f!==null&&f.dehydrated!==null){if(x.alternate===null)throw Error(r(340));ln()}return f=x.flags,f&65536?(x.flags=f&-65537|128,x):null;case 19:return Kn(da),null;case 4:return Qo(),null;case 10:return xs(x.type._context),null;case 22:case 23:return ib(),null;case 24:return null;default:return null}}var Qx=!1,vs=!1,R9=typeof WeakSet=="function"?WeakSet:Set,wr=null;function H0(f,x){var k=f.ref;if(k!==null)if(typeof k=="function")try{k(null)}catch(D){za(f,x,D)}else k.current=null}function Gy(f,x,k){try{k()}catch(D){za(f,x,D)}}var kS=!1;function B9(f,x){if(Nf=gc,f=mf(),au(f)){if("selectionStart"in f)var k={start:f.selectionStart,end:f.selectionEnd};else e:{k=(k=f.ownerDocument)&&k.defaultView||window;var D=k.getSelection&&k.getSelection();if(D&&D.rangeCount!==0){k=D.anchorNode;var G=D.anchorOffset,se=D.focusNode;D=D.focusOffset;try{k.nodeType,se.nodeType}catch{k=null;break e}var we=0,qe=-1,Ke=-1,gt=0,Ht=0,Vt=f,qt=null;t:for(;;){for(var xr;Vt!==k||G!==0&&Vt.nodeType!==3||(qe=we+G),Vt!==se||D!==0&&Vt.nodeType!==3||(Ke=we+D),Vt.nodeType===3&&(we+=Vt.nodeValue.length),(xr=Vt.firstChild)!==null;)qt=Vt,Vt=xr;for(;;){if(Vt===f)break t;if(qt===k&&++gt===G&&(qe=we),qt===se&&++Ht===D&&(Ke=we),(xr=Vt.nextSibling)!==null)break;Vt=qt,qt=Vt.parentNode}Vt=xr}k=qe===-1||Ke===-1?null:{start:qe,end:Ke}}else k=null}k=k||{start:0,end:0}}else k=null;for(uu={focusedElem:f,selectionRange:k},gc=!1,wr=x;wr!==null;)if(x=wr,f=x.child,(x.subtreeFlags&1028)!==0&&f!==null)f.return=x,wr=f;else for(;wr!==null;){x=wr;try{var _r=x.alternate;if((x.flags&1024)!==0)switch(x.tag){case 0:case 11:case 15:break;case 1:if(_r!==null){var Cr=_r.memoizedProps,ti=_r.memoizedState,ut=x.stateNode,Ze=ut.getSnapshotBeforeUpdate(x.elementType===x.type?Cr:Gl(x.type,Cr),ti);ut.__reactInternalSnapshotBeforeUpdate=Ze}break;case 3:var pt=x.stateNode.containerInfo;pt.nodeType===1?pt.textContent="":pt.nodeType===9&&pt.documentElement&&pt.removeChild(pt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Yt){za(x,x.return,Yt)}if(f=x.sibling,f!==null){f.return=x.return,wr=f;break}wr=x.return}return _r=kS,kS=!1,_r}function _p(f,x,k){var D=x.updateQueue;if(D=D!==null?D.lastEffect:null,D!==null){var G=D=D.next;do{if((G.tag&f)===f){var se=G.destroy;G.destroy=void 0,se!==void 0&&Gy(x,k,se)}G=G.next}while(G!==D)}}function Zx(f,x){if(x=x.updateQueue,x=x!==null?x.lastEffect:null,x!==null){var k=x=x.next;do{if((k.tag&f)===f){var D=k.create;k.destroy=D()}k=k.next}while(k!==x)}}function Ky(f){var x=f.ref;if(x!==null){var k=f.stateNode;f.tag,f=k,typeof x=="function"?x(f):x.current=f}}function SS(f){var x=f.alternate;x!==null&&(f.alternate=null,SS(x)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(x=f.stateNode,x!==null&&(delete x[Yo],delete x[fd],delete x[hs],delete x[Py],delete x[Iy])),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function _S(f){return f.tag===5||f.tag===3||f.tag===4}function AS(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||_S(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function Xy(f,x,k){var D=f.tag;if(D===5||D===6)f=f.stateNode,x?k.nodeType===8?k.parentNode.insertBefore(f,x):k.insertBefore(f,x):(k.nodeType===8?(x=k.parentNode,x.insertBefore(f,k)):(x=k,x.appendChild(f)),k=k._reactRootContainer,k!=null||x.onclick!==null||(x.onclick=dd));else if(D!==4&&(f=f.child,f!==null))for(Xy(f,x,k),f=f.sibling;f!==null;)Xy(f,x,k),f=f.sibling}function Yy(f,x,k){var D=f.tag;if(D===5||D===6)f=f.stateNode,x?k.insertBefore(f,x):k.appendChild(f);else if(D!==4&&(f=f.child,f!==null))for(Yy(f,x,k),f=f.sibling;f!==null;)Yy(f,x,k),f=f.sibling}var ts=null,Kl=!1;function wd(f,x,k){for(k=k.child;k!==null;)ES(f,x,k),k=k.sibling}function ES(f,x,k){if(_n&&typeof _n.onCommitFiberUnmount=="function")try{_n.onCommitFiberUnmount(pa,k)}catch{}switch(k.tag){case 5:vs||H0(k,x);case 6:var D=ts,G=Kl;ts=null,wd(f,x,k),ts=D,Kl=G,ts!==null&&(Kl?(f=ts,k=k.stateNode,f.nodeType===8?f.parentNode.removeChild(k):f.removeChild(k)):ts.removeChild(k.stateNode));break;case 18:ts!==null&&(Kl?(f=ts,k=k.stateNode,f.nodeType===8?xp(f.parentNode,k):f.nodeType===1&&xp(f,k),us(f)):xp(ts,k.stateNode));break;case 4:D=ts,G=Kl,ts=k.stateNode.containerInfo,Kl=!0,wd(f,x,k),ts=D,Kl=G;break;case 0:case 11:case 14:case 15:if(!vs&&(D=k.updateQueue,D!==null&&(D=D.lastEffect,D!==null))){G=D=D.next;do{var se=G,we=se.destroy;se=se.tag,we!==void 0&&((se&2)!==0||(se&4)!==0)&&Gy(k,x,we),G=G.next}while(G!==D)}wd(f,x,k);break;case 1:if(!vs&&(H0(k,x),D=k.stateNode,typeof D.componentWillUnmount=="function"))try{D.props=k.memoizedProps,D.state=k.memoizedState,D.componentWillUnmount()}catch(qe){za(k,x,qe)}wd(f,x,k);break;case 21:wd(f,x,k);break;case 22:k.mode&1?(vs=(D=vs)||k.memoizedState!==null,wd(f,x,k),vs=D):wd(f,x,k);break;default:wd(f,x,k)}}function CS(f){var x=f.updateQueue;if(x!==null){f.updateQueue=null;var k=f.stateNode;k===null&&(k=f.stateNode=new R9),x.forEach(function(D){var G=K9.bind(null,f,D);k.has(D)||(k.add(D),D.then(G,G))})}}function Xl(f,x){var k=x.deletions;if(k!==null)for(var D=0;D<k.length;D++){var G=k[D];try{var se=f,we=x,qe=we;e:for(;qe!==null;){switch(qe.tag){case 5:ts=qe.stateNode,Kl=!1;break e;case 3:ts=qe.stateNode.containerInfo,Kl=!0;break e;case 4:ts=qe.stateNode.containerInfo,Kl=!0;break e}qe=qe.return}if(ts===null)throw Error(r(160));ES(se,we,G),ts=null,Kl=!1;var Ke=G.alternate;Ke!==null&&(Ke.return=null),G.return=null}catch(gt){za(G,x,gt)}}if(x.subtreeFlags&12854)for(x=x.child;x!==null;)TS(x,f),x=x.sibling}function TS(f,x){var k=f.alternate,D=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:if(Xl(x,f),Oc(f),D&4){try{_p(3,f,f.return),Zx(3,f)}catch(Cr){za(f,f.return,Cr)}try{_p(5,f,f.return)}catch(Cr){za(f,f.return,Cr)}}break;case 1:Xl(x,f),Oc(f),D&512&&k!==null&&H0(k,k.return);break;case 5:if(Xl(x,f),Oc(f),D&512&&k!==null&&H0(k,k.return),f.flags&32){var G=f.stateNode;try{st(G,"")}catch(Cr){za(f,f.return,Cr)}}if(D&4&&(G=f.stateNode,G!=null)){var se=f.memoizedProps,we=k!==null?k.memoizedProps:se,qe=f.type,Ke=f.updateQueue;if(f.updateQueue=null,Ke!==null)try{qe==="input"&&se.type==="radio"&&se.name!=null&&ue(G,se),ar(qe,we);var gt=ar(qe,se);for(we=0;we<Ke.length;we+=2){var Ht=Ke[we],Vt=Ke[we+1];Ht==="style"?nt(G,Vt):Ht==="dangerouslySetInnerHTML"?dt(G,Vt):Ht==="children"?st(G,Vt):j(G,Ht,Vt,gt)}switch(qe){case"input":_e(G,se);break;case"textarea":$e(G,se);break;case"select":var qt=G._wrapperState.wasMultiple;G._wrapperState.wasMultiple=!!se.multiple;var xr=se.value;xr!=null?ae(G,!!se.multiple,xr,!1):qt!==!!se.multiple&&(se.defaultValue!=null?ae(G,!!se.multiple,se.defaultValue,!0):ae(G,!!se.multiple,se.multiple?[]:"",!1))}G[fd]=se}catch(Cr){za(f,f.return,Cr)}}break;case 6:if(Xl(x,f),Oc(f),D&4){if(f.stateNode===null)throw Error(r(162));G=f.stateNode,se=f.memoizedProps;try{G.nodeValue=se}catch(Cr){za(f,f.return,Cr)}}break;case 3:if(Xl(x,f),Oc(f),D&4&&k!==null&&k.memoizedState.isDehydrated)try{us(x.containerInfo)}catch(Cr){za(f,f.return,Cr)}break;case 4:Xl(x,f),Oc(f);break;case 13:Xl(x,f),Oc(f),G=f.child,G.flags&8192&&(se=G.memoizedState!==null,G.stateNode.isHidden=se,!se||G.alternate!==null&&G.alternate.memoizedState!==null||(Zy=Dt())),D&4&&CS(f);break;case 22:if(Ht=k!==null&&k.memoizedState!==null,f.mode&1?(vs=(gt=vs)||Ht,Xl(x,f),vs=gt):Xl(x,f),Oc(f),D&8192){if(gt=f.memoizedState!==null,(f.stateNode.isHidden=gt)&&!Ht&&(f.mode&1)!==0)for(wr=f,Ht=f.child;Ht!==null;){for(Vt=wr=Ht;wr!==null;){switch(qt=wr,xr=qt.child,qt.tag){case 0:case 11:case 14:case 15:_p(4,qt,qt.return);break;case 1:H0(qt,qt.return);var _r=qt.stateNode;if(typeof _r.componentWillUnmount=="function"){D=qt,k=qt.return;try{x=D,_r.props=x.memoizedProps,_r.state=x.memoizedState,_r.componentWillUnmount()}catch(Cr){za(D,k,Cr)}}break;case 5:H0(qt,qt.return);break;case 22:if(qt.memoizedState!==null){IS(Vt);continue}}xr!==null?(xr.return=qt,wr=xr):IS(Vt)}Ht=Ht.sibling}e:for(Ht=null,Vt=f;;){if(Vt.tag===5){if(Ht===null){Ht=Vt;try{G=Vt.stateNode,gt?(se=G.style,typeof se.setProperty=="function"?se.setProperty("display","none","important"):se.display="none"):(qe=Vt.stateNode,Ke=Vt.memoizedProps.style,we=Ke!=null&&Ke.hasOwnProperty("display")?Ke.display:null,qe.style.display=vt("display",we))}catch(Cr){za(f,f.return,Cr)}}}else if(Vt.tag===6){if(Ht===null)try{Vt.stateNode.nodeValue=gt?"":Vt.memoizedProps}catch(Cr){za(f,f.return,Cr)}}else if((Vt.tag!==22&&Vt.tag!==23||Vt.memoizedState===null||Vt===f)&&Vt.child!==null){Vt.child.return=Vt,Vt=Vt.child;continue}if(Vt===f)break e;for(;Vt.sibling===null;){if(Vt.return===null||Vt.return===f)break e;Ht===Vt&&(Ht=null),Vt=Vt.return}Ht===Vt&&(Ht=null),Vt.sibling.return=Vt.return,Vt=Vt.sibling}}break;case 19:Xl(x,f),Oc(f),D&4&&CS(f);break;case 21:break;default:Xl(x,f),Oc(f)}}function Oc(f){var x=f.flags;if(x&2){try{e:{for(var k=f.return;k!==null;){if(_S(k)){var D=k;break e}k=k.return}throw Error(r(160))}switch(D.tag){case 5:var G=D.stateNode;D.flags&32&&(st(G,""),D.flags&=-33);var se=AS(f);Yy(f,se,G);break;case 3:case 4:var we=D.stateNode.containerInfo,qe=AS(f);Xy(f,qe,we);break;default:throw Error(r(161))}}catch(Ke){za(f,f.return,Ke)}f.flags&=-3}x&4096&&(f.flags&=-4097)}function U9(f,x,k){wr=f,OS(f)}function OS(f,x,k){for(var D=(f.mode&1)!==0;wr!==null;){var G=wr,se=G.child;if(G.tag===22&&D){var we=G.memoizedState!==null||Qx;if(!we){var qe=G.alternate,Ke=qe!==null&&qe.memoizedState!==null||vs;qe=Qx;var gt=vs;if(Qx=we,(vs=Ke)&&!gt)for(wr=G;wr!==null;)we=wr,Ke=we.child,we.tag===22&&we.memoizedState!==null?DS(G):Ke!==null?(Ke.return=we,wr=Ke):DS(G);for(;se!==null;)wr=se,OS(se),se=se.sibling;wr=G,Qx=qe,vs=gt}PS(f)}else(G.subtreeFlags&8772)!==0&&se!==null?(se.return=G,wr=se):PS(f)}}function PS(f){for(;wr!==null;){var x=wr;if((x.flags&8772)!==0){var k=x.alternate;try{if((x.flags&8772)!==0)switch(x.tag){case 0:case 11:case 15:vs||Zx(5,x);break;case 1:var D=x.stateNode;if(x.flags&4&&!vs)if(k===null)D.componentDidMount();else{var G=x.elementType===x.type?k.memoizedProps:Gl(x.type,k.memoizedProps);D.componentDidUpdate(G,k.memoizedState,D.__reactInternalSnapshotBeforeUpdate)}var se=x.updateQueue;se!==null&&mu(x,se,D);break;case 3:var we=x.updateQueue;if(we!==null){if(k=null,x.child!==null)switch(x.child.tag){case 5:k=x.child.stateNode;break;case 1:k=x.child.stateNode}mu(x,we,k)}break;case 5:var qe=x.stateNode;if(k===null&&x.flags&4){k=qe;var Ke=x.memoizedProps;switch(x.type){case"button":case"input":case"select":case"textarea":Ke.autoFocus&&k.focus();break;case"img":Ke.src&&(k.src=Ke.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(x.memoizedState===null){var gt=x.alternate;if(gt!==null){var Ht=gt.memoizedState;if(Ht!==null){var Vt=Ht.dehydrated;Vt!==null&&us(Vt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}vs||x.flags&512&&Ky(x)}catch(qt){za(x,x.return,qt)}}if(x===f){wr=null;break}if(k=x.sibling,k!==null){k.return=x.return,wr=k;break}wr=x.return}}function IS(f){for(;wr!==null;){var x=wr;if(x===f){wr=null;break}var k=x.sibling;if(k!==null){k.return=x.return,wr=k;break}wr=x.return}}function DS(f){for(;wr!==null;){var x=wr;try{switch(x.tag){case 0:case 11:case 15:var k=x.return;try{Zx(4,x)}catch(Ke){za(x,k,Ke)}break;case 1:var D=x.stateNode;if(typeof D.componentDidMount=="function"){var G=x.return;try{D.componentDidMount()}catch(Ke){za(x,G,Ke)}}var se=x.return;try{Ky(x)}catch(Ke){za(x,se,Ke)}break;case 5:var we=x.return;try{Ky(x)}catch(Ke){za(x,we,Ke)}}}catch(Ke){za(x,x.return,Ke)}if(x===f){wr=null;break}var qe=x.sibling;if(qe!==null){qe.return=x.return,wr=qe;break}wr=x.return}}var q9=Math.ceil,eg=N.ReactCurrentDispatcher,Jy=N.ReactCurrentOwner,tl=N.ReactCurrentBatchConfig,Fn=0,Mi=null,ui=null,rs=0,To=0,W0=_o(0),wi=0,Ap=null,Ef=0,tg=0,Qy=0,Ep=null,mo=null,Zy=0,V0=1/0,vu=null,rg=!1,eb=null,Nd=null,ng=!1,jd=null,ag=0,Cp=0,tb=null,ig=-1,sg=0;function Gs(){return(Fn&6)!==0?Dt():ig!==-1?ig:ig=Dt()}function kd(f){return(f.mode&1)===0?1:(Fn&2)!==0&&rs!==0?rs&-rs:Qn.transition!==null?(sg===0&&(sg=Wt()),sg):(f=yr,f!==0||(f=window.event,f=f===void 0?16:Al(f.type)),f)}function Yl(f,x,k,D){if(50<Cp)throw Cp=0,tb=null,Error(r(185));yt(f,k,D),((Fn&2)===0||f!==Mi)&&(f===Mi&&((Fn&2)===0&&(tg|=k),wi===4&&Sd(f,rs)),xo(f,D),k===1&&Fn===0&&(x.mode&1)===0&&(V0=Dt()+500,kf&&le()))}function xo(f,x){var k=f.callbackNode;tn(f,x);var D=Gt(f,f===Mi?rs:0);if(D===0)k!==null&&Pt(k),f.callbackNode=null,f.callbackPriority=0;else if(x=D&-D,f.callbackPriority!==x){if(k!=null&&Pt(k),x===1)f.tag===0?Y(FS.bind(null,f)):L(FS.bind(null,f)),Ty(function(){(Fn&6)===0&&le()}),k=null;else{switch(An(D)){case 1:k=Dr;break;case 4:k=an;break;case 16:k=Nn;break;case 536870912:k=Ba;break;default:k=Nn}k=HS(k,LS.bind(null,f))}f.callbackPriority=x,f.callbackNode=k}}function LS(f,x){if(ig=-1,sg=0,(Fn&6)!==0)throw Error(r(327));var k=f.callbackNode;if(G0()&&f.callbackNode!==k)return null;var D=Gt(f,f===Mi?rs:0);if(D===0)return null;if((D&30)!==0||(D&f.expiredLanes)!==0||x)x=og(f,D);else{x=D;var G=Fn;Fn|=2;var se=RS();(Mi!==f||rs!==x)&&(vu=null,V0=Dt()+500,Tf(f,x));do try{H9();break}catch(qe){MS(f,qe)}while(!0);bi(),eg.current=se,Fn=G,ui!==null?x=0:(Mi=null,rs=0,x=wi)}if(x!==0){if(x===2&&(G=hn(f),G!==0&&(D=G,x=rb(f,G))),x===1)throw k=Ap,Tf(f,0),Sd(f,D),xo(f,Dt()),k;if(x===6)Sd(f,D);else{if(G=f.current.alternate,(D&30)===0&&!$9(G)&&(x=og(f,D),x===2&&(se=hn(f),se!==0&&(D=se,x=rb(f,se))),x===1))throw k=Ap,Tf(f,0),Sd(f,D),xo(f,Dt()),k;switch(f.finishedWork=G,f.finishedLanes=D,x){case 0:case 1:throw Error(r(345));case 2:Of(f,mo,vu);break;case 3:if(Sd(f,D),(D&130023424)===D&&(x=Zy+500-Dt(),10<x)){if(Gt(f,0)!==0)break;if(G=f.suspendedLanes,(G&D)!==D){Gs(),f.pingedLanes|=f.suspendedLanes&G;break}f.timeoutHandle=mp(Of.bind(null,f,mo,vu),x);break}Of(f,mo,vu);break;case 4:if(Sd(f,D),(D&4194240)===D)break;for(x=f.eventTimes,G=-1;0<D;){var we=31-gn(D);se=1<<we,we=x[we],we>G&&(G=we),D&=~se}if(D=G,D=Dt()-D,D=(120>D?120:480>D?480:1080>D?1080:1920>D?1920:3e3>D?3e3:4320>D?4320:1960*q9(D/1960))-D,10<D){f.timeoutHandle=mp(Of.bind(null,f,mo,vu),D);break}Of(f,mo,vu);break;case 5:Of(f,mo,vu);break;default:throw Error(r(329))}}}return xo(f,Dt()),f.callbackNode===k?LS.bind(null,f):null}function rb(f,x){var k=Ep;return f.current.memoizedState.isDehydrated&&(Tf(f,x).flags|=256),f=og(f,x),f!==2&&(x=mo,mo=k,x!==null&&nb(x)),f}function nb(f){mo===null?mo=f:mo.push.apply(mo,f)}function $9(f){for(var x=f;;){if(x.flags&16384){var k=x.updateQueue;if(k!==null&&(k=k.stores,k!==null))for(var D=0;D<k.length;D++){var G=k[D],se=G.getSnapshot;G=G.value;try{if(!Ln(se(),G))return!1}catch{return!1}}}if(k=x.child,x.subtreeFlags&16384&&k!==null)k.return=x,x=k;else{if(x===f)break;for(;x.sibling===null;){if(x.return===null||x.return===f)return!0;x=x.return}x.sibling.return=x.return,x=x.sibling}}return!0}function Sd(f,x){for(x&=~Qy,x&=~tg,f.suspendedLanes|=x,f.pingedLanes&=~x,f=f.expirationTimes;0<x;){var k=31-gn(x),D=1<<k;f[k]=-1,x&=~D}}function FS(f){if((Fn&6)!==0)throw Error(r(327));G0();var x=Gt(f,0);if((x&1)===0)return xo(f,Dt()),null;var k=og(f,x);if(f.tag!==0&&k===2){var D=hn(f);D!==0&&(x=D,k=rb(f,D))}if(k===1)throw k=Ap,Tf(f,0),Sd(f,x),xo(f,Dt()),k;if(k===6)throw Error(r(345));return f.finishedWork=f.current.alternate,f.finishedLanes=x,Of(f,mo,vu),xo(f,Dt()),null}function ab(f,x){var k=Fn;Fn|=1;try{return f(x)}finally{Fn=k,Fn===0&&(V0=Dt()+500,kf&&le())}}function Cf(f){jd!==null&&jd.tag===0&&(Fn&6)===0&&G0();var x=Fn;Fn|=1;var k=tl.transition,D=yr;try{if(tl.transition=null,yr=1,f)return f()}finally{yr=D,tl.transition=k,Fn=x,(Fn&6)===0&&le()}}function ib(){To=W0.current,Kn(W0)}function Tf(f,x){f.finishedWork=null,f.finishedLanes=0;var k=f.timeoutHandle;if(k!==-1&&(f.timeoutHandle=-1,Bx(k)),ui!==null)for(k=ui.return;k!==null;){var D=k;switch(Xe(D),D.tag){case 1:D=D.type.childContextTypes,D!=null&&P0();break;case 3:Qo(),Kn(ps),Kn(yi),Np();break;case 5:bp(D);break;case 4:Qo();break;case 13:Kn(da);break;case 19:Kn(da);break;case 10:xs(D.type._context);break;case 22:case 23:ib()}k=k.return}if(Mi=f,ui=f=_d(f.current,null),rs=To=x,wi=0,Ap=null,Qy=tg=Ef=0,mo=Ep=null,$s!==null){for(x=0;x<$s.length;x++)if(k=$s[x],D=k.interleaved,D!==null){k.interleaved=null;var G=D.next,se=k.pending;if(se!==null){var we=se.next;se.next=G,D.next=we}k.pending=D}$s=null}return f}function MS(f,x){do{var k=ui;try{if(bi(),D0.current=Kx,vd){for(var D=xa.memoizedState;D!==null;){var G=D.queue;G!==null&&(G.pending=null),D=D.next}vd=!1}if(Zo=0,Ia=$a=xa=null,Wl=!1,yd=0,Jy.current=null,k===null||k.return===null){wi=1,Ap=x,ui=null;break}e:{var se=f,we=k.return,qe=k,Ke=x;if(x=rs,qe.flags|=32768,Ke!==null&&typeof Ke=="object"&&typeof Ke.then=="function"){var gt=Ke,Ht=qe,Vt=Ht.tag;if((Ht.mode&1)===0&&(Vt===0||Vt===11||Vt===15)){var qt=Ht.alternate;qt?(Ht.updateQueue=qt.updateQueue,Ht.memoizedState=qt.memoizedState,Ht.lanes=qt.lanes):(Ht.updateQueue=null,Ht.memoizedState=null)}var xr=lS(we);if(xr!==null){xr.flags&=-257,cS(xr,we,qe,se,x),xr.mode&1&&oS(se,gt,x),x=xr,Ke=gt;var _r=x.updateQueue;if(_r===null){var Cr=new Set;Cr.add(Ke),x.updateQueue=Cr}else _r.add(Ke);break e}else{if((x&1)===0){oS(se,gt,x),sb();break e}Ke=Error(r(426))}}else if(jt&&qe.mode&1){var ti=lS(we);if(ti!==null){(ti.flags&65536)===0&&(ti.flags|=256),cS(ti,we,qe,se,x),Xn(z0(Ke,qe));break e}}se=Ke=z0(Ke,qe),wi!==4&&(wi=2),Ep===null?Ep=[se]:Ep.push(se),se=we;do{switch(se.tag){case 3:se.flags|=65536,x&=-x,se.lanes|=x;var ut=iS(se,Ke,x);ho(se,ut);break e;case 1:qe=Ke;var Ze=se.type,pt=se.stateNode;if((se.flags&128)===0&&(typeof Ze.getDerivedStateFromError=="function"||pt!==null&&typeof pt.componentDidCatch=="function"&&(Nd===null||!Nd.has(pt)))){se.flags|=65536,x&=-x,se.lanes|=x;var Yt=sS(se,qe,x);ho(se,Yt);break e}}se=se.return}while(se!==null)}US(k)}catch(Or){x=Or,ui===k&&k!==null&&(ui=k=k.return);continue}break}while(!0)}function RS(){var f=eg.current;return eg.current=Kx,f===null?Kx:f}function sb(){(wi===0||wi===3||wi===2)&&(wi=4),Mi===null||(Ef&268435455)===0&&(tg&268435455)===0||Sd(Mi,rs)}function og(f,x){var k=Fn;Fn|=2;var D=RS();(Mi!==f||rs!==x)&&(vu=null,Tf(f,x));do try{z9();break}catch(G){MS(f,G)}while(!0);if(bi(),Fn=k,eg.current=D,ui!==null)throw Error(r(261));return Mi=null,rs=0,wi}function z9(){for(;ui!==null;)BS(ui)}function H9(){for(;ui!==null&&!It();)BS(ui)}function BS(f){var x=zS(f.alternate,f,To);f.memoizedProps=f.pendingProps,x===null?US(f):ui=x,Jy.current=null}function US(f){var x=f;do{var k=x.alternate;if(f=x.return,(x.flags&32768)===0){if(k=F9(k,x,To),k!==null){ui=k;return}}else{if(k=M9(k,x),k!==null){k.flags&=32767,ui=k;return}if(f!==null)f.flags|=32768,f.subtreeFlags=0,f.deletions=null;else{wi=6,ui=null;return}}if(x=x.sibling,x!==null){ui=x;return}ui=x=f}while(x!==null);wi===0&&(wi=5)}function Of(f,x,k){var D=yr,G=tl.transition;try{tl.transition=null,yr=1,W9(f,x,k,D)}finally{tl.transition=G,yr=D}return null}function W9(f,x,k,D){do G0();while(jd!==null);if((Fn&6)!==0)throw Error(r(327));k=f.finishedWork;var G=f.finishedLanes;if(k===null)return null;if(f.finishedWork=null,f.finishedLanes=0,k===f.current)throw Error(r(177));f.callbackNode=null,f.callbackPriority=0;var se=k.lanes|k.childLanes;if(Ur(f,se),f===Mi&&(ui=Mi=null,rs=0),(k.subtreeFlags&2064)===0&&(k.flags&2064)===0||ng||(ng=!0,HS(Nn,function(){return G0(),null})),se=(k.flags&15990)!==0,(k.subtreeFlags&15990)!==0||se){se=tl.transition,tl.transition=null;var we=yr;yr=1;var qe=Fn;Fn|=4,Jy.current=null,B9(f,k),TS(k,f),iu(uu),gc=!!Nf,uu=Nf=null,f.current=k,U9(k),Lt(),Fn=qe,yr=we,tl.transition=se}else f.current=k;if(ng&&(ng=!1,jd=f,ag=G),se=f.pendingLanes,se===0&&(Nd=null),Ta(k.stateNode),xo(f,Dt()),x!==null)for(D=f.onRecoverableError,k=0;k<x.length;k++)G=x[k],D(G.value,{componentStack:G.stack,digest:G.digest});if(rg)throw rg=!1,f=eb,eb=null,f;return(ag&1)!==0&&f.tag!==0&&G0(),se=f.pendingLanes,(se&1)!==0?f===tb?Cp++:(Cp=0,tb=f):Cp=0,le(),null}function G0(){if(jd!==null){var f=An(ag),x=tl.transition,k=yr;try{if(tl.transition=null,yr=16>f?16:f,jd===null)var D=!1;else{if(f=jd,jd=null,ag=0,(Fn&6)!==0)throw Error(r(331));var G=Fn;for(Fn|=4,wr=f.current;wr!==null;){var se=wr,we=se.child;if((wr.flags&16)!==0){var qe=se.deletions;if(qe!==null){for(var Ke=0;Ke<qe.length;Ke++){var gt=qe[Ke];for(wr=gt;wr!==null;){var Ht=wr;switch(Ht.tag){case 0:case 11:case 15:_p(8,Ht,se)}var Vt=Ht.child;if(Vt!==null)Vt.return=Ht,wr=Vt;else for(;wr!==null;){Ht=wr;var qt=Ht.sibling,xr=Ht.return;if(SS(Ht),Ht===gt){wr=null;break}if(qt!==null){qt.return=xr,wr=qt;break}wr=xr}}}var _r=se.alternate;if(_r!==null){var Cr=_r.child;if(Cr!==null){_r.child=null;do{var ti=Cr.sibling;Cr.sibling=null,Cr=ti}while(Cr!==null)}}wr=se}}if((se.subtreeFlags&2064)!==0&&we!==null)we.return=se,wr=we;else e:for(;wr!==null;){if(se=wr,(se.flags&2048)!==0)switch(se.tag){case 0:case 11:case 15:_p(9,se,se.return)}var ut=se.sibling;if(ut!==null){ut.return=se.return,wr=ut;break e}wr=se.return}}var Ze=f.current;for(wr=Ze;wr!==null;){we=wr;var pt=we.child;if((we.subtreeFlags&2064)!==0&&pt!==null)pt.return=we,wr=pt;else e:for(we=Ze;wr!==null;){if(qe=wr,(qe.flags&2048)!==0)try{switch(qe.tag){case 0:case 11:case 15:Zx(9,qe)}}catch(Or){za(qe,qe.return,Or)}if(qe===we){wr=null;break e}var Yt=qe.sibling;if(Yt!==null){Yt.return=qe.return,wr=Yt;break e}wr=qe.return}}if(Fn=G,le(),_n&&typeof _n.onPostCommitFiberRoot=="function")try{_n.onPostCommitFiberRoot(pa,f)}catch{}D=!0}return D}finally{yr=k,tl.transition=x}}return!1}function qS(f,x,k){x=z0(k,x),x=iS(f,x,1),f=fo(f,x,1),x=Gs(),f!==null&&(yt(f,1,x),xo(f,x))}function za(f,x,k){if(f.tag===3)qS(f,f,k);else for(;x!==null;){if(x.tag===3){qS(x,f,k);break}else if(x.tag===1){var D=x.stateNode;if(typeof x.type.getDerivedStateFromError=="function"||typeof D.componentDidCatch=="function"&&(Nd===null||!Nd.has(D))){f=z0(k,f),f=sS(x,f,1),x=fo(x,f,1),f=Gs(),x!==null&&(yt(x,1,f),xo(x,f));break}}x=x.return}}function V9(f,x,k){var D=f.pingCache;D!==null&&D.delete(x),x=Gs(),f.pingedLanes|=f.suspendedLanes&k,Mi===f&&(rs&k)===k&&(wi===4||wi===3&&(rs&130023424)===rs&&500>Dt()-Zy?Tf(f,0):Qy|=k),xo(f,x)}function $S(f,x){x===0&&((f.mode&1)===0?x=1:(x=zt,zt<<=1,(zt&130023424)===0&&(zt=4194304)));var k=Gs();f=qn(f,x),f!==null&&(yt(f,x,k),xo(f,k))}function G9(f){var x=f.memoizedState,k=0;x!==null&&(k=x.retryLane),$S(f,k)}function K9(f,x){var k=0;switch(f.tag){case 13:var D=f.stateNode,G=f.memoizedState;G!==null&&(k=G.retryLane);break;case 19:D=f.stateNode;break;default:throw Error(r(314))}D!==null&&D.delete(x),$S(f,k)}var zS;zS=function(f,x,k){if(f!==null)if(f.memoizedProps!==x.pendingProps||ps.current)po=!0;else{if((f.lanes&k)===0&&(x.flags&128)===0)return po=!1,L9(f,x,k);po=(f.flags&131072)!==0}else po=!1,jt&&(x.flags&1048576)!==0&&Ft(x,Ae,x.index);switch(x.lanes=0,x.tag){case 2:var D=x.type;Jx(f,x),f=x.pendingProps;var G=pd(x,yi.current);wa(x,k),G=Sf(null,x,D,f,G,k);var se=el();return x.flags|=1,typeof G=="object"&&G!==null&&typeof G.render=="function"&&G.$$typeof===void 0?(x.tag=1,x.memoizedState=null,x.updateQueue=null,ms(D)?(se=!0,hu(x)):se=!1,x.memoizedState=G.state!==null&&G.state!==void 0?G.state:null,I0(x),G.updater=Xx,x.stateNode=G,G._reactInternals=x,My(x,D,f,k),x=qy(null,x,D,!0,se,k)):(x.tag=0,jt&&se&&bt(x),Vs(null,x,G,k),x=x.child),x;case 16:D=x.elementType;e:{switch(Jx(f,x),f=x.pendingProps,G=D._init,D=G(D._payload),x.type=D,G=x.tag=Y9(D),f=Gl(D,f),G){case 0:x=Uy(null,x,D,f,k);break e;case 1:x=mS(null,x,D,f,k);break e;case 11:x=uS(null,x,D,f,k);break e;case 14:x=dS(null,x,D,Gl(D.type,f),k);break e}throw Error(r(306,D,""))}return x;case 0:return D=x.type,G=x.pendingProps,G=x.elementType===D?G:Gl(D,G),Uy(f,x,D,G,k);case 1:return D=x.type,G=x.pendingProps,G=x.elementType===D?G:Gl(D,G),mS(f,x,D,G,k);case 3:e:{if(xS(x),f===null)throw Error(r(387));D=x.pendingProps,se=x.memoizedState,G=se.element,yp(f,x),zl(x,D,null,k);var we=x.memoizedState;if(D=we.element,se.isDehydrated)if(se={element:D,isDehydrated:!1,cache:we.cache,pendingSuspenseBoundaries:we.pendingSuspenseBoundaries,transitions:we.transitions},x.updateQueue.baseState=se,x.memoizedState=se,x.flags&256){G=z0(Error(r(423)),x),x=gS(f,x,D,k,G);break e}else if(D!==G){G=z0(Error(r(424)),x),x=gS(f,x,D,k,G);break e}else for(kt=Zi(x.stateNode.containerInfo.firstChild),Ye=x,jt=!0,Et=null,k=Un(x,null,D,k),x.child=k;k;)k.flags=k.flags&-3|4096,k=k.sibling;else{if(ln(),D===G){x=gu(f,x,k);break e}Vs(f,x,D,k)}x=x.child}return x;case 5:return zx(x),f===null&&ur(x),D=x.type,G=x.pendingProps,se=f!==null?f.memoizedProps:null,we=G.children,pp(D,G)?we=null:se!==null&&pp(D,se)&&(x.flags|=32),pS(f,x),Vs(f,x,we,k),x.child;case 6:return f===null&&ur(x),null;case 13:return vS(f,x,k);case 4:return gd(x,x.stateNode.containerInfo),D=x.pendingProps,f===null?x.child=Qa(x,null,D,k):Vs(f,x,D,k),x.child;case 11:return D=x.type,G=x.pendingProps,G=x.elementType===D?G:Gl(D,G),uS(f,x,D,G,k);case 7:return Vs(f,x,x.pendingProps,k),x.child;case 8:return Vs(f,x,x.pendingProps.children,k),x.child;case 12:return Vs(f,x,x.pendingProps.children,k),x.child;case 10:e:{if(D=x.type._context,G=x.pendingProps,se=x.memoizedProps,we=G.value,Jn(Li,D._currentValue),D._currentValue=we,se!==null)if(Ln(se.value,we)){if(se.children===G.children&&!ps.current){x=gu(f,x,k);break e}}else for(se=x.child,se!==null&&(se.return=x);se!==null;){var qe=se.dependencies;if(qe!==null){we=se.child;for(var Ke=qe.firstContext;Ke!==null;){if(Ke.context===D){if(se.tag===1){Ke=uo(-1,k&-k),Ke.tag=2;var gt=se.updateQueue;if(gt!==null){gt=gt.shared;var Ht=gt.pending;Ht===null?Ke.next=Ke:(Ke.next=Ht.next,Ht.next=Ke),gt.pending=Ke}}se.lanes|=k,Ke=se.alternate,Ke!==null&&(Ke.lanes|=k),co(se.return,k,x),qe.lanes|=k;break}Ke=Ke.next}}else if(se.tag===10)we=se.type===x.type?null:se.child;else if(se.tag===18){if(we=se.return,we===null)throw Error(r(341));we.lanes|=k,qe=we.alternate,qe!==null&&(qe.lanes|=k),co(we,k,x),we=se.sibling}else we=se.child;if(we!==null)we.return=se;else for(we=se;we!==null;){if(we===x){we=null;break}if(se=we.sibling,se!==null){se.return=we.return,we=se;break}we=we.return}se=we}Vs(f,x,G.children,k),x=x.child}return x;case 9:return G=x.type,D=x.pendingProps.children,wa(x,k),G=qa(G),D=D(G),x.flags|=1,Vs(f,x,D,k),x.child;case 14:return D=x.type,G=Gl(D,x.pendingProps),G=Gl(D.type,G),dS(f,x,D,G,k);case 15:return fS(f,x,x.type,x.pendingProps,k);case 17:return D=x.type,G=x.pendingProps,G=x.elementType===D?G:Gl(D,G),Jx(f,x),x.tag=1,ms(D)?(f=!0,hu(x)):f=!1,wa(x,k),nS(x,D,G),My(x,D,G,k),qy(null,x,D,!0,f,k);case 19:return bS(f,x,k);case 22:return hS(f,x,k)}throw Error(r(156,x.tag))};function HS(f,x){return wt(f,x)}function X9(f,x,k,D){this.tag=f,this.key=k,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=x,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=D,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rl(f,x,k,D){return new X9(f,x,k,D)}function ob(f){return f=f.prototype,!(!f||!f.isReactComponent)}function Y9(f){if(typeof f=="function")return ob(f)?1:0;if(f!=null){if(f=f.$$typeof,f===T)return 11;if(f===Q)return 14}return 2}function _d(f,x){var k=f.alternate;return k===null?(k=rl(f.tag,x,f.key,f.mode),k.elementType=f.elementType,k.type=f.type,k.stateNode=f.stateNode,k.alternate=f,f.alternate=k):(k.pendingProps=x,k.type=f.type,k.flags=0,k.subtreeFlags=0,k.deletions=null),k.flags=f.flags&14680064,k.childLanes=f.childLanes,k.lanes=f.lanes,k.child=f.child,k.memoizedProps=f.memoizedProps,k.memoizedState=f.memoizedState,k.updateQueue=f.updateQueue,x=f.dependencies,k.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext},k.sibling=f.sibling,k.index=f.index,k.ref=f.ref,k}function lg(f,x,k,D,G,se){var we=2;if(D=f,typeof f=="function")ob(f)&&(we=1);else if(typeof f=="string")we=5;else e:switch(f){case A:return Pf(k.children,G,se,x);case O:we=8,G|=8;break;case M:return f=rl(12,k,x,G|2),f.elementType=M,f.lanes=se,f;case I:return f=rl(13,k,x,G),f.elementType=I,f.lanes=se,f;case z:return f=rl(19,k,x,G),f.elementType=z,f.lanes=se,f;case J:return cg(k,G,se,x);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case F:we=10;break e;case E:we=9;break e;case T:we=11;break e;case Q:we=14;break e;case te:we=16,D=null;break e}throw Error(r(130,f==null?f:typeof f,""))}return x=rl(we,k,x,G),x.elementType=f,x.type=D,x.lanes=se,x}function Pf(f,x,k,D){return f=rl(7,f,D,x),f.lanes=k,f}function cg(f,x,k,D){return f=rl(22,f,D,x),f.elementType=J,f.lanes=k,f.stateNode={isHidden:!1},f}function lb(f,x,k){return f=rl(6,f,null,x),f.lanes=k,f}function cb(f,x,k){return x=rl(4,f.children!==null?f.children:[],f.key,x),x.lanes=k,x.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},x}function J9(f,x,k,D,G){this.tag=x,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xt(0),this.expirationTimes=Xt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xt(0),this.identifierPrefix=D,this.onRecoverableError=G,this.mutableSourceEagerHydrationData=null}function ub(f,x,k,D,G,se,we,qe,Ke){return f=new J9(f,x,k,qe,Ke),x===1?(x=1,se===!0&&(x|=8)):x=0,se=rl(3,null,null,x),f.current=se,se.stateNode=f,se.memoizedState={element:D,isDehydrated:k,cache:null,transitions:null,pendingSuspenseBoundaries:null},I0(se),f}function Q9(f,x,k){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:D==null?null:""+D,children:f,containerInfo:x,implementation:k}}function WS(f){if(!f)return Ac;f=f._reactInternals;e:{if(Te(f)!==f||f.tag!==1)throw Error(r(170));var x=f;do{switch(x.tag){case 3:x=x.stateNode.context;break e;case 1:if(ms(x.type)){x=x.stateNode.__reactInternalMemoizedMergedChildContext;break e}}x=x.return}while(x!==null);throw Error(r(171))}if(f.tag===1){var k=f.type;if(ms(k))return vp(f,k,x)}return x}function VS(f,x,k,D,G,se,we,qe,Ke){return f=ub(k,D,!0,f,G,se,we,qe,Ke),f.context=WS(null),k=f.current,D=Gs(),G=kd(k),se=uo(D,G),se.callback=x??null,fo(k,se,G),f.current.lanes=G,yt(f,G,D),xo(f,D),f}function ug(f,x,k,D){var G=x.current,se=Gs(),we=kd(G);return k=WS(k),x.context===null?x.context=k:x.pendingContext=k,x=uo(se,we),x.payload={element:f},D=D===void 0?null:D,D!==null&&(x.callback=D),f=fo(G,x,we),f!==null&&(Yl(f,G,we,se),pu(f,G,we)),we}function dg(f){return f=f.current,f.child?(f.child.tag===5,f.child.stateNode):null}function GS(f,x){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var k=f.retryLane;f.retryLane=k!==0&&k<x?k:x}}function db(f,x){GS(f,x),(f=f.alternate)&&GS(f,x)}function Z9(){return null}var KS=typeof reportError=="function"?reportError:function(f){console.error(f)};function fb(f){this._internalRoot=f}fg.prototype.render=fb.prototype.render=function(f){var x=this._internalRoot;if(x===null)throw Error(r(409));ug(f,x,null,null)},fg.prototype.unmount=fb.prototype.unmount=function(){var f=this._internalRoot;if(f!==null){this._internalRoot=null;var x=f.containerInfo;Cf(function(){ug(null,f,null,null)}),x[Di]=null}};function fg(f){this._internalRoot=f}fg.prototype.unstable_scheduleHydration=function(f){if(f){var x=En();f={blockedOn:null,target:f,priority:x};for(var k=0;k<cr.length&&x!==0&&x<cr[k].priority;k++);cr.splice(k,0,f),k===0&&Dn(f)}};function hb(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)}function hg(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11&&(f.nodeType!==8||f.nodeValue!==" react-mount-point-unstable "))}function XS(){}function eR(f,x,k,D,G){if(G){if(typeof D=="function"){var se=D;D=function(){var gt=dg(we);se.call(gt)}}var we=VS(x,D,f,0,null,!1,!1,"",XS);return f._reactRootContainer=we,f[Di]=we.current,lu(f.nodeType===8?f.parentNode:f),Cf(),we}for(;G=f.lastChild;)f.removeChild(G);if(typeof D=="function"){var qe=D;D=function(){var gt=dg(Ke);qe.call(gt)}}var Ke=ub(f,0,!1,null,null,!1,!1,"",XS);return f._reactRootContainer=Ke,f[Di]=Ke.current,lu(f.nodeType===8?f.parentNode:f),Cf(function(){ug(x,Ke,k,D)}),Ke}function pg(f,x,k,D,G){var se=k._reactRootContainer;if(se){var we=se;if(typeof G=="function"){var qe=G;G=function(){var Ke=dg(we);qe.call(Ke)}}ug(x,we,f,G)}else we=eR(k,x,f,G,D);return dg(we)}On=function(f){switch(f.tag){case 3:var x=f.stateNode;if(x.current.memoizedState.isDehydrated){var k=Zt(x.pendingLanes);k!==0&&(xt(x,k|1),xo(x,Dt()),(Fn&6)===0&&(V0=Dt()+500,le()))}break;case 13:Cf(function(){var D=qn(f,1);if(D!==null){var G=Gs();Yl(D,f,1,G)}}),db(f,1)}},Jt=function(f){if(f.tag===13){var x=qn(f,134217728);if(x!==null){var k=Gs();Yl(x,f,134217728,k)}db(f,134217728)}},Bn=function(f){if(f.tag===13){var x=kd(f),k=qn(f,x);if(k!==null){var D=Gs();Yl(k,f,x,D)}db(f,x)}},En=function(){return yr},Pn=function(f,x){var k=yr;try{return yr=f,x()}finally{yr=k}},Kt=function(f,x,k){switch(x){case"input":if(_e(f,k),x=k.name,k.type==="radio"&&x!=null){for(k=f;k.parentNode;)k=k.parentNode;for(k=k.querySelectorAll("input[name="+JSON.stringify(""+x)+'][type="radio"]'),x=0;x<k.length;x++){var D=k[x];if(D!==f&&D.form===f.form){var G=jf(D);if(!G)throw Error(r(90));ee(D),_e(D,G)}}}break;case"textarea":$e(f,k);break;case"select":x=k.value,x!=null&&ae(f,!!k.multiple,x,!1)}},fn=ab,sn=Cf;var tR={usingClientEntryPoint:!1,Events:[hd,du,jf,or,Tr,ab]},Tp={findFiberByHostInstance:_c,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rR={bundleType:Tp.bundleType,version:Tp.version,rendererPackageName:Tp.rendererPackageName,rendererConfig:Tp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:N.ReactCurrentDispatcher,findHostInstanceByFiber:function(f){return f=Je(f),f===null?null:f.stateNode},findFiberByHostInstance:Tp.findFiberByHostInstance||Z9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mg.isDisabled&&mg.supportsFiber)try{pa=mg.inject(rR),_n=mg}catch{}}return go.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tR,go.createPortal=function(f,x){var k=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hb(x))throw Error(r(200));return Q9(f,x,null,k)},go.createRoot=function(f,x){if(!hb(f))throw Error(r(299));var k=!1,D="",G=KS;return x!=null&&(x.unstable_strictMode===!0&&(k=!0),x.identifierPrefix!==void 0&&(D=x.identifierPrefix),x.onRecoverableError!==void 0&&(G=x.onRecoverableError)),x=ub(f,1,!1,null,null,k,!1,D,G),f[Di]=x.current,lu(f.nodeType===8?f.parentNode:f),new fb(x)},go.findDOMNode=function(f){if(f==null)return null;if(f.nodeType===1)return f;var x=f._reactInternals;if(x===void 0)throw typeof f.render=="function"?Error(r(188)):(f=Object.keys(f).join(","),Error(r(268,f)));return f=Je(x),f=f===null?null:f.stateNode,f},go.flushSync=function(f){return Cf(f)},go.hydrate=function(f,x,k){if(!hg(x))throw Error(r(200));return pg(null,f,x,!0,k)},go.hydrateRoot=function(f,x,k){if(!hb(f))throw Error(r(405));var D=k!=null&&k.hydratedSources||null,G=!1,se="",we=KS;if(k!=null&&(k.unstable_strictMode===!0&&(G=!0),k.identifierPrefix!==void 0&&(se=k.identifierPrefix),k.onRecoverableError!==void 0&&(we=k.onRecoverableError)),x=VS(x,null,f,1,k??null,G,!1,se,we),f[Di]=x.current,lu(f),D)for(f=0;f<D.length;f++)k=D[f],G=k._getVersion,G=G(k._source),x.mutableSourceEagerHydrationData==null?x.mutableSourceEagerHydrationData=[k,G]:x.mutableSourceEagerHydrationData.push(k,G);return new fg(x)},go.render=function(f,x,k){if(!hg(x))throw Error(r(200));return pg(null,f,x,!1,k)},go.unmountComponentAtNode=function(f){if(!hg(f))throw Error(r(40));return f._reactRootContainer?(Cf(function(){pg(null,null,f,!1,function(){f._reactRootContainer=null,f[Di]=null})}),!0):!1},go.unstable_batchedUpdates=ab,go.unstable_renderSubtreeIntoContainer=function(f,x,k,D){if(!hg(k))throw Error(r(200));if(f==null||f._reactInternals===void 0)throw Error(r(38));return pg(f,x,k,!1,D)},go.version="18.3.1-next-f1338f8080-20240426",go}var n_;function aI(){if(n_)return xb.exports;n_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),xb.exports=cR(),xb.exports}var a_;function uR(){if(a_)return gg;a_=1;var e=aI();return gg.createRoot=e.createRoot,gg.hydrateRoot=e.hydrateRoot,gg}var dR=uR();const fR=oa(dR);const hR=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),iI=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();var pR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const mR=V.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:o,...l},c)=>V.createElement("svg",{ref:c,...pR,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:iI("lucide",a),...l},[...o.map(([u,d])=>V.createElement(u,d)),...Array.isArray(s)?s:[s]]));const Bt=(e,t)=>{const r=V.forwardRef(({className:n,...a},s)=>V.createElement(mR,{ref:s,iconNode:t,className:iI(`lucide-${hR(e)}`,n),...a}));return r.displayName=`${e}`,r};const i_=Bt("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);const xR=Bt("AlignLeft",[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);const Ld=Bt("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);const Wj=Bt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const is=Bt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const xm=Bt("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);const D1=Bt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const gR=Bt("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);const fv=Bt("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);const cc=Bt("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);const ev=Bt("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);const qd=Bt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);const La=Bt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const s_=Bt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);const sI=Bt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const Zp=Bt("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);const Fu=Bt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const kh=Bt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const VN=Bt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const Ka=Bt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const Yn=Bt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const wn=Bt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const vR=Bt("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const yR=Bt("CirclePause",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]);const oI=Bt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const $c=Bt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const zi=Bt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const Pp=Bt("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);const lI=Bt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const Mu=Bt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const gm=Bt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const o_=Bt("Earth",[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3a2 2 0 0 1 2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.1.9-2 2-2h3.17",key:"1tzkfa"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"14pb5j"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const cI=Bt("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);const ic=Bt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const $d=Bt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const bR=Bt("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);const tv=Bt("FilePenLine",[["path",{d:"m18 5-2.414-2.414A2 2 0 0 0 14.172 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"142zxg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]]);const wR=Bt("FileSearch",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]]);const NR=Bt("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);const Wa=Bt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const l_=Bt("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);const jR=Bt("FileVideo",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 11 5 3-5 3v-6Z",key:"7ntvm4"}]]);const kR=Bt("FileWarning",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const yb=Bt("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);const GN=Bt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);const uh=Bt("FolderKanban",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]]);const Gf=Bt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const SR=Bt("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);const yu=Bt("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);const _R=Bt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);const Kf=Bt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const AR=Bt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);const Qs=Bt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const ER=Bt("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);const Vd=Bt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const KN=Bt("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);const c_=Bt("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);const XN=Bt("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);const Xf=Bt("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);const CR=Bt("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);const TR=Bt("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);const Ot=Bt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const OR=Bt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const PR=Bt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const eo=Bt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const rv=Bt("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);const IR=Bt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const nv=Bt("Merge",[["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M12 2v10.3a4 4 0 0 1-1.172 2.872L4 22",key:"1hyw0i"}],["path",{d:"m20 22-5-5",key:"1m27yz"}]]);const DR=Bt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);const ls=Bt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const LR=Bt("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);const FR=Bt("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);const u_=Bt("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);const vg=Bt("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);const MR=Bt("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);const d_=Bt("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);const xl=Bt("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);const YN=Bt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);const RR=Bt("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);const kn=Bt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const JN=Bt("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);const Gd=Bt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const BR=Bt("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);const hv=Bt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const ro=Bt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const UR=Bt("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);const zu=Bt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const Mc=Bt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);const f_=Bt("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);const qR=Bt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const pv=Bt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);const $R=Bt("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);const L1=Bt("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const vm=Bt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const Ts=Bt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);const gl=Bt("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const zR=Bt("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);const av=Bt("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);const Da=Bt("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);const Ip=Bt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const Ir=Bt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const Cu=Bt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const Kd=Bt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const hc=Bt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const yg=Bt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);const Zh=Bt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);const pl=Bt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const dh=Bt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const ih=Bt("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);const HR=Bt("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);const mr=Bt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const mv=Bt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),WR=[{id:"dashboard",label:"Dashboard",icon:i.jsx(AR,{className:"w-5 h-5"})},{id:"schedule",label:"Schedule",icon:i.jsx(La,{className:"w-5 h-5"})},{id:"inbox",label:"Shared Inbox",icon:i.jsx(eo,{className:"w-5 h-5"})},{id:"crm",label:"CRM",icon:i.jsx(dh,{className:"w-5 h-5"})},{id:"pipeline",label:"Deal Pipeline",icon:i.jsx(cc,{className:"w-5 h-5"})},{id:"projects",label:"Projects",icon:i.jsx(Wa,{className:"w-5 h-5"})},{id:"tasks",label:"Tasks",icon:i.jsx(gl,{className:"w-5 h-5"})},{id:"invoices",label:"Billing & Invoicing",icon:i.jsx(Mu,{className:"w-5 h-5"})},{id:"expenses",label:"Expenses",icon:i.jsx(JN,{className:"w-5 h-5"})},{id:"budget",label:"Budget Management",icon:i.jsx(Zp,{className:"w-5 h-5"})},{id:"contracts",label:"Contracts & Legal",icon:i.jsx(tv,{className:"w-5 h-5"})},{id:"roadmap",label:"Roadmap",icon:i.jsx(rv,{className:"w-5 h-5"})},{id:"integrations",label:"Integrations",icon:i.jsx(pv,{className:"w-5 h-5"})}],iv=[{id:"u1",name:"Alex Rivera",email:"alex@impact247.com",role:"Admin",avatar:"https://picsum.photos/seed/alex/100/100",active:!0}],bg=[{id:"new-lead",label:"New Lead",description:"Alerts when a new lead is assigned to you",inApp:!0,email:!0},{id:"deal-update",label:"Deal Update",description:"Alerts when a deal status or stage changes",inApp:!0,email:!1},{id:"task-assigned",label:"Task Assigned",description:"Alerts when a teammate assigns a task to you",inApp:!0,email:!0},{id:"project-update",label:"Project Update",description:"Alerts when milestone or status updates occur",inApp:!1,email:!0},{id:"company-update",label:"Company Update",description:"Alerts when company information or details are updated",inApp:!0,email:!1},{id:"contact-update",label:"Contact Update",description:"Alerts when contact information or details are updated",inApp:!0,email:!1}],VR=e=>{const t=e.match(/UTC([+-]?)(\d+)(?::(\d+))?/);if(!t)return 0;const r=t[1]==="-"?-1:1,n=parseInt(t[2],10),a=t[3]?parseInt(t[3],10):0;return r*(n+a/60)},em=[{value:"UTC-12",label:"UTC-12 (Baker Island Time)"},{value:"UTC-11",label:"UTC-11 (Hawaii-Aleutian Standard Time)"},{value:"UTC-10",label:"UTC-10 (Hawaii Standard Time)"},{value:"UTC-9:30",label:"UTC-9:30 (Marquesas Time)"},{value:"UTC-9",label:"UTC-9 (Alaska Standard Time)"},{value:"UTC-8",label:"UTC-8 (Pacific Standard Time - PST)"},{value:"UTC-7",label:"UTC-7 (Mountain Standard Time - MST)"},{value:"UTC-6",label:"UTC-6 (Central Standard Time - CST)"},{value:"UTC-5",label:"UTC-5 (Eastern Standard Time - EST)"},{value:"UTC-4",label:"UTC-4 (Atlantic Standard Time - AST)"},{value:"UTC-3:30",label:"UTC-3:30 (Newfoundland Standard Time)"},{value:"UTC-3",label:"UTC-3 (Argentina Time)"},{value:"UTC-2",label:"UTC-2 (South Georgia Time)"},{value:"UTC-1",label:"UTC-1 (Cape Verde Time)"},{value:"UTC+0",label:"UTC+0 (Greenwich Mean Time - GMT)"},{value:"UTC+1",label:"UTC+1 (Central European Time - CET)"},{value:"UTC+2",label:"UTC+2 (Eastern European Time - EET)"},{value:"UTC+3",label:"UTC+3 (Moscow Time - MSK)"},{value:"UTC+3:30",label:"UTC+3:30 (Iran Standard Time)"},{value:"UTC+4",label:"UTC+4 (Gulf Standard Time)"},{value:"UTC+4:30",label:"UTC+4:30 (Afghanistan Time)"},{value:"UTC+5",label:"UTC+5 (Pakistan Standard Time)"},{value:"UTC+5:30",label:"UTC+5:30 (India Standard Time - IST)"},{value:"UTC+5:45",label:"UTC+5:45 (Nepal Time)"},{value:"UTC+6",label:"UTC+6 (Bangladesh Standard Time)"},{value:"UTC+6:30",label:"UTC+6:30 (Myanmar Time)"},{value:"UTC+7",label:"UTC+7 (Indochina Time)"},{value:"UTC+8",label:"UTC+8 (China Standard Time - CST)"},{value:"UTC+8:45",label:"UTC+8:45 (Australian Central Western Time)"},{value:"UTC+9",label:"UTC+9 (Japan Standard Time - JST)"},{value:"UTC+9:30",label:"UTC+9:30 (Australian Central Standard Time)"},{value:"UTC+10",label:"UTC+10 (Australian Eastern Standard Time)"},{value:"UTC+10:30",label:"UTC+10:30 (Lord Howe Standard Time)"},{value:"UTC+11",label:"UTC+11 (Solomon Islands Time)"},{value:"UTC+12",label:"UTC+12 (New Zealand Standard Time)"},{value:"UTC+12:45",label:"UTC+12:45 (Chatham Standard Time)"},{value:"UTC+13",label:"UTC+13 (Tonga Time)"},{value:"UTC+14",label:"UTC+14 (Line Islands Time)"}],Dp=()=>{try{const e=-new Date().getTimezoneOffset(),t=e/60,r=e%60;if(r===0){const l=`UTC${t>=0?"+":""}${t}`;if(em.find(c=>c.value===l))return l}else{const o=Math.floor(Math.abs(t)),l=Math.abs(r),u=`UTC${t>=0?"+":"-"}${o}:${l}`;if(em.find(d=>d.value===u))return u}const n=t;let a="UTC+0",s=1/0;return em.forEach(o=>{const l=VR(o.value),c=Math.abs(l-n);c<s&&(s=c,a=o.value)}),a}catch{return"UTC+0"}},h_=[{value:"English",label:"English"},{value:"Spanish",label:"Spanish (Espaol)"},{value:"French",label:"French (Franais)"}];function uI(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=uI(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Hn(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=uI(e))&&(n&&(n+=" "),n+=t);return n}var bb,p_;function No(){if(p_)return bb;p_=1;var e=Array.isArray;return bb=e,bb}var wb,m_;function dI(){if(m_)return wb;m_=1;var e=typeof xg=="object"&&xg&&xg.Object===Object&&xg;return wb=e,wb}var Nb,x_;function Gc(){if(x_)return Nb;x_=1;var e=dI(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return Nb=r,Nb}var jb,g_;function gx(){if(g_)return jb;g_=1;var e=Gc(),t=e.Symbol;return jb=t,jb}var kb,v_;function GR(){if(v_)return kb;v_=1;var e=gx(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,a=e?e.toStringTag:void 0;function s(o){var l=r.call(o,a),c=o[a];try{o[a]=void 0;var u=!0}catch{}var d=n.call(o);return u&&(l?o[a]=c:delete o[a]),d}return kb=s,kb}var Sb,y_;function KR(){if(y_)return Sb;y_=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return Sb=r,Sb}var _b,b_;function Hu(){if(b_)return _b;b_=1;var e=gx(),t=GR(),r=KR(),n="[object Null]",a="[object Undefined]",s=e?e.toStringTag:void 0;function o(l){return l==null?l===void 0?a:n:s&&s in Object(l)?t(l):r(l)}return _b=o,_b}var Ab,w_;function Wu(){if(w_)return Ab;w_=1;function e(t){return t!=null&&typeof t=="object"}return Ab=e,Ab}var Eb,N_;function ep(){if(N_)return Eb;N_=1;var e=Hu(),t=Wu(),r="[object Symbol]";function n(a){return typeof a=="symbol"||t(a)&&e(a)==r}return Eb=n,Eb}var Cb,j_;function Vj(){if(j_)return Cb;j_=1;var e=No(),t=ep(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,o){if(e(s))return!1;var l=typeof s;return l=="number"||l=="symbol"||l=="boolean"||s==null||t(s)?!0:n.test(s)||!r.test(s)||o!=null&&s in Object(o)}return Cb=a,Cb}var Tb,k_;function tf(){if(k_)return Tb;k_=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return Tb=e,Tb}var Ob,S_;function Gj(){if(S_)return Ob;S_=1;var e=Hu(),t=tf(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",s="[object Proxy]";function o(l){if(!t(l))return!1;var c=e(l);return c==n||c==a||c==r||c==s}return Ob=o,Ob}var Pb,__;function XR(){if(__)return Pb;__=1;var e=Gc(),t=e["__core-js_shared__"];return Pb=t,Pb}var Ib,A_;function YR(){if(A_)return Ib;A_=1;var e=XR(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return Ib=r,Ib}var Db,E_;function fI(){if(E_)return Db;E_=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return Db=r,Db}var Lb,C_;function JR(){if(C_)return Lb;C_=1;var e=Gj(),t=YR(),r=tf(),n=fI(),a=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,u=l.hasOwnProperty,d=RegExp("^"+c.call(u).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(m){if(!r(m)||t(m))return!1;var p=e(m)?d:s;return p.test(n(m))}return Lb=h,Lb}var Fb,T_;function QR(){if(T_)return Fb;T_=1;function e(t,r){return t?.[r]}return Fb=e,Fb}var Mb,O_;function m0(){if(O_)return Mb;O_=1;var e=JR(),t=QR();function r(n,a){var s=t(n,a);return e(s)?s:void 0}return Mb=r,Mb}var Rb,P_;function F1(){if(P_)return Rb;P_=1;var e=m0(),t=e(Object,"create");return Rb=t,Rb}var Bb,I_;function ZR(){if(I_)return Bb;I_=1;var e=F1();function t(){this.__data__=e?e(null):{},this.size=0}return Bb=t,Bb}var Ub,D_;function eB(){if(D_)return Ub;D_=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return Ub=e,Ub}var qb,L_;function tB(){if(L_)return qb;L_=1;var e=F1(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(s){var o=this.__data__;if(e){var l=o[s];return l===t?void 0:l}return n.call(o,s)?o[s]:void 0}return qb=a,qb}var $b,F_;function rB(){if(F_)return $b;F_=1;var e=F1(),t=Object.prototype,r=t.hasOwnProperty;function n(a){var s=this.__data__;return e?s[a]!==void 0:r.call(s,a)}return $b=n,$b}var zb,M_;function nB(){if(M_)return zb;M_=1;var e=F1(),t="__lodash_hash_undefined__";function r(n,a){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=e&&a===void 0?t:a,this}return zb=r,zb}var Hb,R_;function aB(){if(R_)return Hb;R_=1;var e=ZR(),t=eB(),r=tB(),n=rB(),a=nB();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=a,Hb=s,Hb}var Wb,B_;function iB(){if(B_)return Wb;B_=1;function e(){this.__data__=[],this.size=0}return Wb=e,Wb}var Vb,U_;function Kj(){if(U_)return Vb;U_=1;function e(t,r){return t===r||t!==t&&r!==r}return Vb=e,Vb}var Gb,q_;function M1(){if(q_)return Gb;q_=1;var e=Kj();function t(r,n){for(var a=r.length;a--;)if(e(r[a][0],n))return a;return-1}return Gb=t,Gb}var Kb,$_;function sB(){if($_)return Kb;$_=1;var e=M1(),t=Array.prototype,r=t.splice;function n(a){var s=this.__data__,o=e(s,a);if(o<0)return!1;var l=s.length-1;return o==l?s.pop():r.call(s,o,1),--this.size,!0}return Kb=n,Kb}var Xb,z_;function oB(){if(z_)return Xb;z_=1;var e=M1();function t(r){var n=this.__data__,a=e(n,r);return a<0?void 0:n[a][1]}return Xb=t,Xb}var Yb,H_;function lB(){if(H_)return Yb;H_=1;var e=M1();function t(r){return e(this.__data__,r)>-1}return Yb=t,Yb}var Jb,W_;function cB(){if(W_)return Jb;W_=1;var e=M1();function t(r,n){var a=this.__data__,s=e(a,r);return s<0?(++this.size,a.push([r,n])):a[s][1]=n,this}return Jb=t,Jb}var Qb,V_;function R1(){if(V_)return Qb;V_=1;var e=iB(),t=sB(),r=oB(),n=lB(),a=cB();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=a,Qb=s,Qb}var Zb,G_;function Xj(){if(G_)return Zb;G_=1;var e=m0(),t=Gc(),r=e(t,"Map");return Zb=r,Zb}var e2,K_;function uB(){if(K_)return e2;K_=1;var e=aB(),t=R1(),r=Xj();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return e2=n,e2}var t2,X_;function dB(){if(X_)return t2;X_=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return t2=e,t2}var r2,Y_;function B1(){if(Y_)return r2;Y_=1;var e=dB();function t(r,n){var a=r.__data__;return e(n)?a[typeof n=="string"?"string":"hash"]:a.map}return r2=t,r2}var n2,J_;function fB(){if(J_)return n2;J_=1;var e=B1();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return n2=t,n2}var a2,Q_;function hB(){if(Q_)return a2;Q_=1;var e=B1();function t(r){return e(this,r).get(r)}return a2=t,a2}var i2,Z_;function pB(){if(Z_)return i2;Z_=1;var e=B1();function t(r){return e(this,r).has(r)}return i2=t,i2}var s2,e6;function mB(){if(e6)return s2;e6=1;var e=B1();function t(r,n){var a=e(this,r),s=a.size;return a.set(r,n),this.size+=a.size==s?0:1,this}return s2=t,s2}var o2,t6;function Yj(){if(t6)return o2;t6=1;var e=uB(),t=fB(),r=hB(),n=pB(),a=mB();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=a,o2=s,o2}var l2,r6;function hI(){if(r6)return l2;r6=1;var e=Yj(),t="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(t);var s=function(){var o=arguments,l=a?a.apply(this,o):o[0],c=s.cache;if(c.has(l))return c.get(l);var u=n.apply(this,o);return s.cache=c.set(l,u)||c,u};return s.cache=new(r.Cache||e),s}return r.Cache=e,l2=r,l2}var c2,n6;function xB(){if(n6)return c2;n6=1;var e=hI(),t=500;function r(n){var a=e(n,function(o){return s.size===t&&s.clear(),o}),s=a.cache;return a}return c2=r,c2}var u2,a6;function gB(){if(a6)return u2;a6=1;var e=xB(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(a){var s=[];return a.charCodeAt(0)===46&&s.push(""),a.replace(t,function(o,l,c,u){s.push(c?u.replace(r,"$1"):l||o)}),s});return u2=n,u2}var d2,i6;function Jj(){if(i6)return d2;i6=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,s=Array(a);++n<a;)s[n]=r(t[n],n,t);return s}return d2=e,d2}var f2,s6;function vB(){if(s6)return f2;s6=1;var e=gx(),t=Jj(),r=No(),n=ep(),a=e?e.prototype:void 0,s=a?a.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return t(l,o)+"";if(n(l))return s?s.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return f2=o,f2}var h2,o6;function pI(){if(o6)return h2;o6=1;var e=vB();function t(r){return r==null?"":e(r)}return h2=t,h2}var p2,l6;function mI(){if(l6)return p2;l6=1;var e=No(),t=Vj(),r=gB(),n=pI();function a(s,o){return e(s)?s:t(s,o)?[s]:r(n(s))}return p2=a,p2}var m2,c6;function U1(){if(c6)return m2;c6=1;var e=ep();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return m2=t,m2}var x2,u6;function Qj(){if(u6)return x2;u6=1;var e=mI(),t=U1();function r(n,a){a=e(a,n);for(var s=0,o=a.length;n!=null&&s<o;)n=n[t(a[s++])];return s&&s==o?n:void 0}return x2=r,x2}var g2,d6;function xI(){if(d6)return g2;d6=1;var e=Qj();function t(r,n,a){var s=r==null?void 0:e(r,n);return s===void 0?a:s}return g2=t,g2}var yB=xI();const vl=oa(yB);var v2,f6;function bB(){if(f6)return v2;f6=1;function e(t){return t==null}return v2=e,v2}var wB=bB();const Sn=oa(wB);var y2,h6;function NB(){if(h6)return y2;h6=1;var e=Hu(),t=No(),r=Wu(),n="[object String]";function a(s){return typeof s=="string"||!t(s)&&r(s)&&e(s)==n}return y2=a,y2}var jB=NB();const vx=oa(jB);var kB=Gj();const mn=oa(kB);var SB=tf();const tp=oa(SB);var b2={exports:{}},Zn={};var p6;function _B(){if(p6)return Zn;p6=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.offscreen"),y;y=Symbol.for("react.module.reference");function v(g){if(typeof g=="object"&&g!==null){var b=g.$$typeof;switch(b){case e:switch(g=g.type,g){case r:case a:case n:case u:case d:return g;default:switch(g=g&&g.$$typeof,g){case l:case o:case c:case m:case h:case s:return g;default:return b}}case t:return b}}}return Zn.ContextConsumer=o,Zn.ContextProvider=s,Zn.Element=e,Zn.ForwardRef=c,Zn.Fragment=r,Zn.Lazy=m,Zn.Memo=h,Zn.Portal=t,Zn.Profiler=a,Zn.StrictMode=n,Zn.Suspense=u,Zn.SuspenseList=d,Zn.isAsyncMode=function(){return!1},Zn.isConcurrentMode=function(){return!1},Zn.isContextConsumer=function(g){return v(g)===o},Zn.isContextProvider=function(g){return v(g)===s},Zn.isElement=function(g){return typeof g=="object"&&g!==null&&g.$$typeof===e},Zn.isForwardRef=function(g){return v(g)===c},Zn.isFragment=function(g){return v(g)===r},Zn.isLazy=function(g){return v(g)===m},Zn.isMemo=function(g){return v(g)===h},Zn.isPortal=function(g){return v(g)===t},Zn.isProfiler=function(g){return v(g)===a},Zn.isStrictMode=function(g){return v(g)===n},Zn.isSuspense=function(g){return v(g)===u},Zn.isSuspenseList=function(g){return v(g)===d},Zn.isValidElementType=function(g){return typeof g=="string"||typeof g=="function"||g===r||g===a||g===n||g===u||g===d||g===p||typeof g=="object"&&g!==null&&(g.$$typeof===m||g.$$typeof===h||g.$$typeof===s||g.$$typeof===o||g.$$typeof===c||g.$$typeof===y||g.getModuleId!==void 0)},Zn.typeOf=v,Zn}var m6;function AB(){return m6||(m6=1,b2.exports=_B()),b2.exports}var gI=AB(),w2,x6;function vI(){if(x6)return w2;x6=1;var e=Hu(),t=Wu(),r="[object Number]";function n(a){return typeof a=="number"||t(a)&&e(a)==r}return w2=n,w2}var N2,g6;function EB(){if(g6)return N2;g6=1;var e=vI();function t(r){return e(r)&&r!=+r}return N2=t,N2}var CB=EB();const rp=oa(CB);var TB=vI();const OB=oa(TB);var sc=function(t){return t===0?0:t>0?1:-1},Uf=function(t){return vx(t)&&t.indexOf("%")===t.length-1},nr=function(t){return OB(t)&&!rp(t)},_i=function(t){return nr(t)||vx(t)},PB=0,yx=function(t){var r=++PB;return"".concat(t||"").concat(r)},n0=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!nr(t)&&!vx(t))return n;var s;if(Uf(t)){var o=t.indexOf("%");s=r*parseFloat(t.slice(0,o))/100}else s=+t;return rp(s)&&(s=n),a&&s>r&&(s=r),s},Dd=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},IB=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},hl=function(t,r){return nr(t)&&nr(r)?function(n){return t+n*(r-t)}:function(){return r}};function xv(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):vl(n,t))===r})}function fh(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function QN(e){"@babel/helpers - typeof";return QN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},QN(e)}var DB=["viewBox","children"],LB=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],v6=["points","pathLength"],j2={svg:DB,polygon:v6,polyline:v6},Zj=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],gv=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(V.isValidElement(t)&&(n=t.props),!tp(n))return null;var a={};return Object.keys(n).forEach(function(s){Zj.includes(s)&&(a[s]=r||function(o){return n[s](n,o)})}),a},FB=function(t,r,n){return function(a){return t(r,n,a),null}},vv=function(t,r,n){if(!tp(t)||QN(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(s){var o=t[s];Zj.includes(s)&&typeof o=="function"&&(a||(a={}),a[s]=FB(o,r,n))}),a},MB=["children"],RB=["children"];function y6(e,t){if(e==null)return{};var r=BB(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function BB(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ZN(e){"@babel/helpers - typeof";return ZN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ZN(e)}var b6={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Tu=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},w6=null,k2=null,ek=function e(t){if(t===w6&&Array.isArray(k2))return k2;var r=[];return V.Children.forEach(t,function(n){Sn(n)||(gI.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),k2=r,w6=t,r};function uc(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Tu(a)}):n=[Tu(t)],ek(e).forEach(function(a){var s=vl(a,"type.displayName")||vl(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function Po(e,t){var r=uc(e,t);return r&&r[0]}var N6=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!nr(n)||n<=0||!nr(a)||a<=0)},UB=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],qB=function(t){return t&&t.type&&vx(t.type)&&UB.indexOf(t.type)>=0},$B=function(t){return t&&ZN(t)==="object"&&"clipDot"in t},zB=function(t,r,n,a){var s,o=(s=j2?.[a])!==null&&s!==void 0?s:[];return!mn(t)&&(a&&o.includes(r)||LB.includes(r))||n&&Zj.includes(r)},bn=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(V.isValidElement(t)&&(a=t.props),!tp(a))return null;var s={};return Object.keys(a).forEach(function(o){var l;zB((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(s[o]=a[o])}),s},e4=function e(t,r){if(t===r)return!0;var n=V.Children.count(t);if(n!==V.Children.count(r))return!1;if(n===0)return!0;if(n===1)return j6(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=t[a],o=r[a];if(Array.isArray(s)||Array.isArray(o)){if(!e(s,o))return!1}else if(!j6(s,o))return!1}return!0},j6=function(t,r){if(Sn(t)&&Sn(r))return!0;if(!Sn(t)&&!Sn(r)){var n=t.props||{},a=n.children,s=y6(n,MB),o=r.props||{},l=o.children,c=y6(o,RB);return a&&l?fh(s,c)&&e4(a,l):!a&&!l?fh(s,c):!1}return!1},k6=function(t,r){var n=[],a={};return ek(t).forEach(function(s,o){if(qB(s))n.push(s);else if(s){var l=Tu(s.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var h=u(s,l,o);n.push(h),a[l]=!0}}}),n},HB=function(t){var r=t&&t.type;return r&&b6[r]?b6[r]:null},WB=function(t,r){return ek(r).indexOf(t)},VB=["children","width","height","viewBox","className","style","title","desc"];function t4(){return t4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t4.apply(this,arguments)}function GB(e,t){if(e==null)return{};var r=KB(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function KB(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function r4(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,s=e.className,o=e.style,l=e.title,c=e.desc,u=GB(e,VB),d=a||{width:r,height:n,x:0,y:0},h=Hn("recharts-surface",s);return Qe.createElement("svg",t4({},bn(u,!0,"svg"),{className:h,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),Qe.createElement("title",null,l),Qe.createElement("desc",null,c),t)}var XB=["children","className"];function n4(){return n4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n4.apply(this,arguments)}function YB(e,t){if(e==null)return{};var r=JB(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JB(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Fa=Qe.forwardRef(function(e,t){var r=e.children,n=e.className,a=YB(e,XB),s=Hn("recharts-layer",n);return Qe.createElement("g",n4({className:s},bn(a,!0),{ref:t}),r)}),Ou=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]},S2,S6;function QB(){if(S6)return S2;S6=1;function e(t,r,n){var a=-1,s=t.length;r<0&&(r=-r>s?0:s+r),n=n>s?s:n,n<0&&(n+=s),s=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(s);++a<s;)o[a]=t[a+r];return o}return S2=e,S2}var _2,_6;function ZB(){if(_6)return _2;_6=1;var e=QB();function t(r,n,a){var s=r.length;return a=a===void 0?s:a,!n&&a>=s?r:e(r,n,a)}return _2=t,_2}var A2,A6;function yI(){if(A6)return A2;A6=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,s="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+e+a+s+"]");function c(u){return l.test(u)}return A2=c,A2}var E2,E6;function eU(){if(E6)return E2;E6=1;function e(t){return t.split("")}return E2=e,E2}var C2,C6;function tU(){if(C6)return C2;C6=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,s="\\ufe0e\\ufe0f",o="["+e+"]",l="["+a+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+c+")",d="[^"+e+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",p="\\u200d",y=u+"?",v="["+s+"]?",g="(?:"+p+"(?:"+[d,h,m].join("|")+")"+v+y+")*",b=v+y+g,w="(?:"+[d+l+"?",l,h,m,o].join("|")+")",j=RegExp(c+"(?="+c+")|"+w+b,"g");function N(S){return S.match(j)||[]}return C2=N,C2}var T2,T6;function rU(){if(T6)return T2;T6=1;var e=eU(),t=yI(),r=tU();function n(a){return t(a)?r(a):e(a)}return T2=n,T2}var O2,O6;function nU(){if(O6)return O2;O6=1;var e=ZB(),t=yI(),r=rU(),n=pI();function a(s){return function(o){o=n(o);var l=t(o)?r(o):void 0,c=l?l[0]:o.charAt(0),u=l?e(l,1).join(""):o.slice(1);return c[s]()+u}}return O2=a,O2}var P2,P6;function aU(){if(P6)return P2;P6=1;var e=nU(),t=e("toUpperCase");return P2=t,P2}var iU=aU();const q1=oa(iU);function ga(e){return function(){return e}}const bI=Math.cos,yv=Math.sin,pc=Math.sqrt,bv=Math.PI,$1=2*bv,a4=Math.PI,i4=2*a4,Lf=1e-6,sU=i4-Lf;function wI(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function oU(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return wI;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class lU{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?wI:oU(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,h=l-r,m=d*d+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(m>Lf)if(!(Math.abs(h*c-u*d)>Lf)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,y=a-l,v=c*c+u*u,g=p*p+y*y,b=Math.sqrt(v),w=Math.sqrt(m),j=s*Math.tan((a4-Math.acos((v+m-g)/(2*b*w)))/2),N=j/w,S=j/b;Math.abs(N-1)>Lf&&this._append`L${t+N*d},${r+N*h}`,this._append`A${s},${s},0,0,${+(h*p>d*y)},${this._x1=t+S*c},${this._y1=r+S*u}`}}arc(t,r,n,a,s,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,h=1^o,m=o?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Lf||Math.abs(this._y1-d)>Lf)&&this._append`L${u},${d}`,n&&(m<0&&(m=m%i4+i4),m>sU?this._append`A${n},${n},0,1,${h},${t-l},${r-c}A${n},${n},0,1,${h},${this._x1=u},${this._y1=d}`:m>Lf&&this._append`A${n},${n},0,${+(m>=a4)},${h},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function tk(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new lU(t)}function rk(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function NI(e){this._context=e}NI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function z1(e){return new NI(e)}function jI(e){return e[0]}function kI(e){return e[1]}function SI(e,t){var r=ga(!0),n=null,a=z1,s=null,o=tk(l);e=typeof e=="function"?e:e===void 0?jI:ga(e),t=typeof t=="function"?t:t===void 0?kI:ga(t);function l(c){var u,d=(c=rk(c)).length,h,m=!1,p;for(n==null&&(s=a(p=o())),u=0;u<=d;++u)!(u<d&&r(h=c[u],u,c))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+e(h,u,c),+t(h,u,c));if(p)return s=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:ga(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:ga(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:ga(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function wg(e,t,r){var n=null,a=ga(!0),s=null,o=z1,l=null,c=tk(u);e=typeof e=="function"?e:e===void 0?jI:ga(+e),t=typeof t=="function"?t:ga(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?kI:ga(+r);function u(h){var m,p,y,v=(h=rk(h)).length,g,b=!1,w,j=new Array(v),N=new Array(v);for(s==null&&(l=o(w=c())),m=0;m<=v;++m){if(!(m<v&&a(g=h[m],m,h))===b)if(b=!b)p=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=m-1;y>=p;--y)l.point(j[y],N[y]);l.lineEnd(),l.areaEnd()}b&&(j[m]=+e(g,m,h),N[m]=+t(g,m,h),l.point(n?+n(g,m,h):j[m],r?+r(g,m,h):N[m]))}if(w)return l=null,w+""||null}function d(){return SI().defined(a).curve(o).context(s)}return u.x=function(h){return arguments.length?(e=typeof h=="function"?h:ga(+h),n=null,u):e},u.x0=function(h){return arguments.length?(e=typeof h=="function"?h:ga(+h),u):e},u.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:ga(+h),u):n},u.y=function(h){return arguments.length?(t=typeof h=="function"?h:ga(+h),r=null,u):t},u.y0=function(h){return arguments.length?(t=typeof h=="function"?h:ga(+h),u):t},u.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:ga(+h),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(h){return arguments.length?(a=typeof h=="function"?h:ga(!!h),u):a},u.curve=function(h){return arguments.length?(o=h,s!=null&&(l=o(s)),u):o},u.context=function(h){return arguments.length?(h==null?s=l=null:l=o(s=h),u):s},u}class _I{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function cU(e){return new _I(e,!0)}function uU(e){return new _I(e,!1)}const nk={draw(e,t){const r=pc(t/bv);e.moveTo(r,0),e.arc(0,0,r,0,$1)}},dU={draw(e,t){const r=pc(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},AI=pc(1/3),fU=AI*2,hU={draw(e,t){const r=pc(t/fU),n=r*AI;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},pU={draw(e,t){const r=pc(t),n=-r/2;e.rect(n,n,r,r)}},mU=.8908130915292852,EI=yv(bv/10)/yv(7*bv/10),xU=yv($1/10)*EI,gU=-bI($1/10)*EI,vU={draw(e,t){const r=pc(t*mU),n=xU*r,a=gU*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const o=$1*s/5,l=bI(o),c=yv(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},I2=pc(3),yU={draw(e,t){const r=-pc(t/(I2*3));e.moveTo(0,r*2),e.lineTo(-I2*r,-r),e.lineTo(I2*r,-r),e.closePath()}},nl=-.5,al=pc(3)/2,s4=1/pc(12),bU=(s4/2+1)*3,wU={draw(e,t){const r=pc(t/bU),n=r/2,a=r*s4,s=n,o=r*s4+r,l=-s,c=o;e.moveTo(n,a),e.lineTo(s,o),e.lineTo(l,c),e.lineTo(nl*n-al*a,al*n+nl*a),e.lineTo(nl*s-al*o,al*s+nl*o),e.lineTo(nl*l-al*c,al*l+nl*c),e.lineTo(nl*n+al*a,nl*a-al*n),e.lineTo(nl*s+al*o,nl*o-al*s),e.lineTo(nl*l+al*c,nl*c-al*l),e.closePath()}};function NU(e,t){let r=null,n=tk(a);e=typeof e=="function"?e:ga(e||nk),t=typeof t=="function"?t:ga(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:ga(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:ga(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function wv(){}function Nv(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function CI(e){this._context=e}CI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Nv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Nv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function jU(e){return new CI(e)}function TI(e){this._context=e}TI.prototype={areaStart:wv,areaEnd:wv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Nv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function kU(e){return new TI(e)}function OI(e){this._context=e}OI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Nv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function SU(e){return new OI(e)}function PI(e){this._context=e}PI.prototype={areaStart:wv,areaEnd:wv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function _U(e){return new PI(e)}function I6(e){return e<0?-1:1}function D6(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(s*a+o*n)/(n+a);return(I6(s)+I6(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function L6(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function D2(e,t,r){var n=e._x0,a=e._y0,s=e._x1,o=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,a+l*t,s-l,o-l*r,s,o)}function jv(e){this._context=e}jv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:D2(this,this._t0,L6(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,D2(this,L6(this,r=D6(this,e,t)),r);break;default:D2(this,this._t0,r=D6(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function II(e){this._context=new DI(e)}(II.prototype=Object.create(jv.prototype)).point=function(e,t){jv.prototype.point.call(this,t,e)};function DI(e){this._context=e}DI.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function AU(e){return new jv(e)}function EU(e){return new II(e)}function LI(e){this._context=e}LI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=F6(e),a=F6(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function F6(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),o=new Array(r);for(a[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function CU(e){return new LI(e)}function H1(e,t){this._context=e,this._t=t}H1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function TU(e){return new H1(e,.5)}function OU(e){return new H1(e,0)}function PU(e){return new H1(e,1)}function Sh(e,t){if((o=e.length)>1)for(var r=1,n,a,s=e[t[0]],o,l=s.length;r<o;++r)for(a=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function o4(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function IU(e,t){return e[t]}function DU(e){const t=[];return t.key=e,t}function LU(){var e=ga([]),t=o4,r=Sh,n=IU;function a(s){var o=Array.from(e.apply(this,arguments),DU),l,c=o.length,u=-1,d;for(const h of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(h,o[l].key,u,s)]).data=h;for(l=0,d=rk(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:ga(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:ga(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?o4:typeof s=="function"?s:ga(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??Sh,a):r},a}function FU(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,o;a<s;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Sh(e,t)}}function MU(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Sh(e,t)}}function RU(e,t){if(!(!((o=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,o;n<s;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],h=d[n][1]||0,m=d[n-1][1]||0,p=(h-m)/2,y=0;y<l;++y){var v=e[t[y]],g=v[n][1]||0,b=v[n-1][1]||0;p+=g-b}c+=h,u+=p*h}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Sh(e,t)}}function ym(e){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ym(e)}var BU=["type","size","sizeType"];function l4(){return l4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l4.apply(this,arguments)}function M6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function R6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M6(Object(r),!0).forEach(function(n){UU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UU(e,t,r){return t=qU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qU(e){var t=$U(e,"string");return ym(t)=="symbol"?t:t+""}function $U(e,t){if(ym(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zU(e,t){if(e==null)return{};var r=HU(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function HU(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var FI={symbolCircle:nk,symbolCross:dU,symbolDiamond:hU,symbolSquare:pU,symbolStar:vU,symbolTriangle:yU,symbolWye:wU},WU=Math.PI/180,VU=function(t){var r="symbol".concat(q1(t));return FI[r]||nk},GU=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*WU;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},KU=function(t,r){FI["symbol".concat(q1(t))]=r},ak=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,s=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=zU(t,BU),u=R6(R6({},c),{},{type:n,size:s,sizeType:l}),d=function(){var g=VU(n),b=NU().type(g).size(GU(s,l,n));return b()},h=u.className,m=u.cx,p=u.cy,y=bn(u,!0);return m===+m&&p===+p&&s===+s?Qe.createElement("path",l4({},y,{className:Hn("recharts-symbols",h),transform:"translate(".concat(m,", ").concat(p,")"),d:d()})):null};ak.registerSymbol=KU;function _h(e){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_h(e)}function c4(){return c4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c4.apply(this,arguments)}function B6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function XU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B6(Object(r),!0).forEach(function(n){bm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RI(n.key),n)}}function QU(e,t,r){return t&&JU(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZU(e,t,r){return t=kv(t),eq(e,MI()?Reflect.construct(t,r||[],kv(e).constructor):t.apply(e,r))}function eq(e,t){if(t&&(_h(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tq(e)}function tq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MI=function(){return!!e})()}function kv(e){return kv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kv(e)}function rq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u4(e,t)}function u4(e,t){return u4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},u4(e,t)}function bm(e,t,r){return t=RI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RI(e){var t=nq(e,"string");return _h(t)=="symbol"?t:t+""}function nq(e,t){if(_h(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_h(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var il=32,ik=(function(e){function t(){return YU(this,t),ZU(this,t,arguments)}return rq(t,e),QU(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=il/2,o=il/6,l=il/3,c=n.inactive?a:n.color;if(n.type==="plainline")return Qe.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:il,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return Qe.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(il,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return Qe.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(il/8,"h").concat(il,"v").concat(il*3/4,"h").concat(-il,"z"),className:"recharts-legend-icon"});if(Qe.isValidElement(n.legendIcon)){var u=XU({},n);return delete u.legendIcon,Qe.cloneElement(n.legendIcon,u)}return Qe.createElement(ak,{fill:c,cx:s,cy:s,size:il,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:il,height:il},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(p,y){var v=p.formatter||c,g=Hn(bm(bm({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=mn(p.value)?null:p.value;Ou(!mn(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=p.inactive?u:p.color;return Qe.createElement("li",c4({className:g,style:h,key:"legend-item-".concat(y)},vv(n.props,p,y)),Qe.createElement(r4,{width:o,height:o,viewBox:d,style:m},n.renderIcon(p)),Qe.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},v?v(b,p,y):b))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return Qe.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(V.PureComponent);bm(ik,"displayName","Legend");bm(ik,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var L2,U6;function aq(){if(U6)return L2;U6=1;var e=R1();function t(){this.__data__=new e,this.size=0}return L2=t,L2}var F2,q6;function iq(){if(q6)return F2;q6=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return F2=e,F2}var M2,$6;function sq(){if($6)return M2;$6=1;function e(t){return this.__data__.get(t)}return M2=e,M2}var R2,z6;function oq(){if(z6)return R2;z6=1;function e(t){return this.__data__.has(t)}return R2=e,R2}var B2,H6;function lq(){if(H6)return B2;H6=1;var e=R1(),t=Xj(),r=Yj(),n=200;function a(s,o){var l=this.__data__;if(l instanceof e){var c=l.__data__;if(!t||c.length<n-1)return c.push([s,o]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(s,o),this.size=l.size,this}return B2=a,B2}var U2,W6;function BI(){if(W6)return U2;W6=1;var e=R1(),t=aq(),r=iq(),n=sq(),a=oq(),s=lq();function o(l){var c=this.__data__=new e(l);this.size=c.size}return o.prototype.clear=t,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=a,o.prototype.set=s,U2=o,U2}var q2,V6;function cq(){if(V6)return q2;V6=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return q2=t,q2}var $2,G6;function uq(){if(G6)return $2;G6=1;function e(t){return this.__data__.has(t)}return $2=e,$2}var z2,K6;function UI(){if(K6)return z2;K6=1;var e=Yj(),t=cq(),r=uq();function n(a){var s=-1,o=a==null?0:a.length;for(this.__data__=new e;++s<o;)this.add(a[s])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,z2=n,z2}var H2,X6;function qI(){if(X6)return H2;X6=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(r(t[n],n,t))return!0;return!1}return H2=e,H2}var W2,Y6;function $I(){if(Y6)return W2;Y6=1;function e(t,r){return t.has(r)}return W2=e,W2}var V2,J6;function zI(){if(J6)return V2;J6=1;var e=UI(),t=qI(),r=$I(),n=1,a=2;function s(o,l,c,u,d,h){var m=c&n,p=o.length,y=l.length;if(p!=y&&!(m&&y>p))return!1;var v=h.get(o),g=h.get(l);if(v&&g)return v==l&&g==o;var b=-1,w=!0,j=c&a?new e:void 0;for(h.set(o,l),h.set(l,o);++b<p;){var N=o[b],S=l[b];if(u)var P=m?u(S,N,b,l,o,h):u(N,S,b,o,l,h);if(P!==void 0){if(P)continue;w=!1;break}if(j){if(!t(l,function(A,O){if(!r(j,O)&&(N===A||d(N,A,c,u,h)))return j.push(O)})){w=!1;break}}else if(!(N===S||d(N,S,c,u,h))){w=!1;break}}return h.delete(o),h.delete(l),w}return V2=s,V2}var G2,Q6;function dq(){if(Q6)return G2;Q6=1;var e=Gc(),t=e.Uint8Array;return G2=t,G2}var K2,Z6;function fq(){if(Z6)return K2;Z6=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a,s){n[++r]=[s,a]}),n}return K2=e,K2}var X2,eA;function sk(){if(eA)return X2;eA=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a){n[++r]=a}),n}return X2=e,X2}var Y2,tA;function hq(){if(tA)return Y2;tA=1;var e=gx(),t=dq(),r=Kj(),n=zI(),a=fq(),s=sk(),o=1,l=2,c="[object Boolean]",u="[object Date]",d="[object Error]",h="[object Map]",m="[object Number]",p="[object RegExp]",y="[object Set]",v="[object String]",g="[object Symbol]",b="[object ArrayBuffer]",w="[object DataView]",j=e?e.prototype:void 0,N=j?j.valueOf:void 0;function S(P,A,O,M,F,E,T){switch(O){case w:if(P.byteLength!=A.byteLength||P.byteOffset!=A.byteOffset)return!1;P=P.buffer,A=A.buffer;case b:return!(P.byteLength!=A.byteLength||!E(new t(P),new t(A)));case c:case u:case m:return r(+P,+A);case d:return P.name==A.name&&P.message==A.message;case p:case v:return P==A+"";case h:var I=a;case y:var z=M&o;if(I||(I=s),P.size!=A.size&&!z)return!1;var Q=T.get(P);if(Q)return Q==A;M|=l,T.set(P,A);var te=n(I(P),I(A),M,F,E,T);return T.delete(P),te;case g:if(N)return N.call(P)==N.call(A)}return!1}return Y2=S,Y2}var J2,rA;function HI(){if(rA)return J2;rA=1;function e(t,r){for(var n=-1,a=r.length,s=t.length;++n<a;)t[s+n]=r[n];return t}return J2=e,J2}var Q2,nA;function pq(){if(nA)return Q2;nA=1;var e=HI(),t=No();function r(n,a,s){var o=a(n);return t(n)?o:e(o,s(n))}return Q2=r,Q2}var Z2,aA;function mq(){if(aA)return Z2;aA=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,s=0,o=[];++n<a;){var l=t[n];r(l,n,t)&&(o[s++]=l)}return o}return Z2=e,Z2}var ew,iA;function xq(){if(iA)return ew;iA=1;function e(){return[]}return ew=e,ew}var tw,sA;function gq(){if(sA)return tw;sA=1;var e=mq(),t=xq(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(o){return o==null?[]:(o=Object(o),e(a(o),function(l){return n.call(o,l)}))}:t;return tw=s,tw}var rw,oA;function vq(){if(oA)return rw;oA=1;function e(t,r){for(var n=-1,a=Array(t);++n<t;)a[n]=r(n);return a}return rw=e,rw}var nw,lA;function yq(){if(lA)return nw;lA=1;var e=Hu(),t=Wu(),r="[object Arguments]";function n(a){return t(a)&&e(a)==r}return nw=n,nw}var aw,cA;function ok(){if(cA)return aw;cA=1;var e=yq(),t=Wu(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,s=e((function(){return arguments})())?e:function(o){return t(o)&&n.call(o,"callee")&&!a.call(o,"callee")};return aw=s,aw}var Gp={exports:{}},iw,uA;function bq(){if(uA)return iw;uA=1;function e(){return!1}return iw=e,iw}Gp.exports;var dA;function WI(){return dA||(dA=1,(function(e,t){var r=Gc(),n=bq(),a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Gp,Gp.exports)),Gp.exports}var sw,fA;function lk(){if(fA)return sw;fA=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,a){var s=typeof n;return a=a??e,!!a&&(s=="number"||s!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<a}return sw=r,sw}var ow,hA;function ck(){if(hA)return ow;hA=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return ow=t,ow}var lw,pA;function wq(){if(pA)return lw;pA=1;var e=Hu(),t=ck(),r=Wu(),n="[object Arguments]",a="[object Array]",s="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",u="[object Map]",d="[object Number]",h="[object Object]",m="[object RegExp]",p="[object Set]",y="[object String]",v="[object WeakMap]",g="[object ArrayBuffer]",b="[object DataView]",w="[object Float32Array]",j="[object Float64Array]",N="[object Int8Array]",S="[object Int16Array]",P="[object Int32Array]",A="[object Uint8Array]",O="[object Uint8ClampedArray]",M="[object Uint16Array]",F="[object Uint32Array]",E={};E[w]=E[j]=E[N]=E[S]=E[P]=E[A]=E[O]=E[M]=E[F]=!0,E[n]=E[a]=E[g]=E[s]=E[b]=E[o]=E[l]=E[c]=E[u]=E[d]=E[h]=E[m]=E[p]=E[y]=E[v]=!1;function T(I){return r(I)&&t(I.length)&&!!E[e(I)]}return lw=T,lw}var cw,mA;function VI(){if(mA)return cw;mA=1;function e(t){return function(r){return t(r)}}return cw=e,cw}var Kp={exports:{}};Kp.exports;var xA;function Nq(){return xA||(xA=1,(function(e,t){var r=dI(),n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,o=s&&r.process,l=(function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();e.exports=l})(Kp,Kp.exports)),Kp.exports}var uw,gA;function GI(){if(gA)return uw;gA=1;var e=wq(),t=VI(),r=Nq(),n=r&&r.isTypedArray,a=n?t(n):e;return uw=a,uw}var dw,vA;function jq(){if(vA)return dw;vA=1;var e=vq(),t=ok(),r=No(),n=WI(),a=lk(),s=GI(),o=Object.prototype,l=o.hasOwnProperty;function c(u,d){var h=r(u),m=!h&&t(u),p=!h&&!m&&n(u),y=!h&&!m&&!p&&s(u),v=h||m||p||y,g=v?e(u.length,String):[],b=g.length;for(var w in u)(d||l.call(u,w))&&!(v&&(w=="length"||p&&(w=="offset"||w=="parent")||y&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||a(w,b)))&&g.push(w);return g}return dw=c,dw}var fw,yA;function kq(){if(yA)return fw;yA=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||e;return r===a}return fw=t,fw}var hw,bA;function KI(){if(bA)return hw;bA=1;function e(t,r){return function(n){return t(r(n))}}return hw=e,hw}var pw,wA;function Sq(){if(wA)return pw;wA=1;var e=KI(),t=e(Object.keys,Object);return pw=t,pw}var mw,NA;function _q(){if(NA)return mw;NA=1;var e=kq(),t=Sq(),r=Object.prototype,n=r.hasOwnProperty;function a(s){if(!e(s))return t(s);var o=[];for(var l in Object(s))n.call(s,l)&&l!="constructor"&&o.push(l);return o}return mw=a,mw}var xw,jA;function bx(){if(jA)return xw;jA=1;var e=Gj(),t=ck();function r(n){return n!=null&&t(n.length)&&!e(n)}return xw=r,xw}var gw,kA;function W1(){if(kA)return gw;kA=1;var e=jq(),t=_q(),r=bx();function n(a){return r(a)?e(a):t(a)}return gw=n,gw}var vw,SA;function Aq(){if(SA)return vw;SA=1;var e=pq(),t=gq(),r=W1();function n(a){return e(a,r,t)}return vw=n,vw}var yw,_A;function Eq(){if(_A)return yw;_A=1;var e=Aq(),t=1,r=Object.prototype,n=r.hasOwnProperty;function a(s,o,l,c,u,d){var h=l&t,m=e(s),p=m.length,y=e(o),v=y.length;if(p!=v&&!h)return!1;for(var g=p;g--;){var b=m[g];if(!(h?b in o:n.call(o,b)))return!1}var w=d.get(s),j=d.get(o);if(w&&j)return w==o&&j==s;var N=!0;d.set(s,o),d.set(o,s);for(var S=h;++g<p;){b=m[g];var P=s[b],A=o[b];if(c)var O=h?c(A,P,b,o,s,d):c(P,A,b,s,o,d);if(!(O===void 0?P===A||u(P,A,l,c,d):O)){N=!1;break}S||(S=b=="constructor")}if(N&&!S){var M=s.constructor,F=o.constructor;M!=F&&"constructor"in s&&"constructor"in o&&!(typeof M=="function"&&M instanceof M&&typeof F=="function"&&F instanceof F)&&(N=!1)}return d.delete(s),d.delete(o),N}return yw=a,yw}var bw,AA;function Cq(){if(AA)return bw;AA=1;var e=m0(),t=Gc(),r=e(t,"DataView");return bw=r,bw}var ww,EA;function Tq(){if(EA)return ww;EA=1;var e=m0(),t=Gc(),r=e(t,"Promise");return ww=r,ww}var Nw,CA;function XI(){if(CA)return Nw;CA=1;var e=m0(),t=Gc(),r=e(t,"Set");return Nw=r,Nw}var jw,TA;function Oq(){if(TA)return jw;TA=1;var e=m0(),t=Gc(),r=e(t,"WeakMap");return jw=r,jw}var kw,OA;function Pq(){if(OA)return kw;OA=1;var e=Cq(),t=Xj(),r=Tq(),n=XI(),a=Oq(),s=Hu(),o=fI(),l="[object Map]",c="[object Object]",u="[object Promise]",d="[object Set]",h="[object WeakMap]",m="[object DataView]",p=o(e),y=o(t),v=o(r),g=o(n),b=o(a),w=s;return(e&&w(new e(new ArrayBuffer(1)))!=m||t&&w(new t)!=l||r&&w(r.resolve())!=u||n&&w(new n)!=d||a&&w(new a)!=h)&&(w=function(j){var N=s(j),S=N==c?j.constructor:void 0,P=S?o(S):"";if(P)switch(P){case p:return m;case y:return l;case v:return u;case g:return d;case b:return h}return N}),kw=w,kw}var Sw,PA;function Iq(){if(PA)return Sw;PA=1;var e=BI(),t=zI(),r=hq(),n=Eq(),a=Pq(),s=No(),o=WI(),l=GI(),c=1,u="[object Arguments]",d="[object Array]",h="[object Object]",m=Object.prototype,p=m.hasOwnProperty;function y(v,g,b,w,j,N){var S=s(v),P=s(g),A=S?d:a(v),O=P?d:a(g);A=A==u?h:A,O=O==u?h:O;var M=A==h,F=O==h,E=A==O;if(E&&o(v)){if(!o(g))return!1;S=!0,M=!1}if(E&&!M)return N||(N=new e),S||l(v)?t(v,g,b,w,j,N):r(v,g,A,b,w,j,N);if(!(b&c)){var T=M&&p.call(v,"__wrapped__"),I=F&&p.call(g,"__wrapped__");if(T||I){var z=T?v.value():v,Q=I?g.value():g;return N||(N=new e),j(z,Q,b,w,N)}}return E?(N||(N=new e),n(v,g,b,w,j,N)):!1}return Sw=y,Sw}var _w,IA;function uk(){if(IA)return _w;IA=1;var e=Iq(),t=Wu();function r(n,a,s,o,l){return n===a?!0:n==null||a==null||!t(n)&&!t(a)?n!==n&&a!==a:e(n,a,s,o,r,l)}return _w=r,_w}var Aw,DA;function Dq(){if(DA)return Aw;DA=1;var e=BI(),t=uk(),r=1,n=2;function a(s,o,l,c){var u=l.length,d=u,h=!c;if(s==null)return!d;for(s=Object(s);u--;){var m=l[u];if(h&&m[2]?m[1]!==s[m[0]]:!(m[0]in s))return!1}for(;++u<d;){m=l[u];var p=m[0],y=s[p],v=m[1];if(h&&m[2]){if(y===void 0&&!(p in s))return!1}else{var g=new e;if(c)var b=c(y,v,p,s,o,g);if(!(b===void 0?t(v,y,r|n,c,g):b))return!1}}return!0}return Aw=a,Aw}var Ew,LA;function YI(){if(LA)return Ew;LA=1;var e=tf();function t(r){return r===r&&!e(r)}return Ew=t,Ew}var Cw,FA;function Lq(){if(FA)return Cw;FA=1;var e=YI(),t=W1();function r(n){for(var a=t(n),s=a.length;s--;){var o=a[s],l=n[o];a[s]=[o,l,e(l)]}return a}return Cw=r,Cw}var Tw,MA;function JI(){if(MA)return Tw;MA=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return Tw=e,Tw}var Ow,RA;function Fq(){if(RA)return Ow;RA=1;var e=Dq(),t=Lq(),r=JI();function n(a){var s=t(a);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(o){return o===a||e(o,a,s)}}return Ow=n,Ow}var Pw,BA;function Mq(){if(BA)return Pw;BA=1;function e(t,r){return t!=null&&r in Object(t)}return Pw=e,Pw}var Iw,UA;function Rq(){if(UA)return Iw;UA=1;var e=mI(),t=ok(),r=No(),n=lk(),a=ck(),s=U1();function o(l,c,u){c=e(c,l);for(var d=-1,h=c.length,m=!1;++d<h;){var p=s(c[d]);if(!(m=l!=null&&u(l,p)))break;l=l[p]}return m||++d!=h?m:(h=l==null?0:l.length,!!h&&a(h)&&n(p,h)&&(r(l)||t(l)))}return Iw=o,Iw}var Dw,qA;function Bq(){if(qA)return Dw;qA=1;var e=Mq(),t=Rq();function r(n,a){return n!=null&&t(n,a,e)}return Dw=r,Dw}var Lw,$A;function Uq(){if($A)return Lw;$A=1;var e=uk(),t=xI(),r=Bq(),n=Vj(),a=YI(),s=JI(),o=U1(),l=1,c=2;function u(d,h){return n(d)&&a(h)?s(o(d),h):function(m){var p=t(m,d);return p===void 0&&p===h?r(m,d):e(h,p,l|c)}}return Lw=u,Lw}var Fw,zA;function np(){if(zA)return Fw;zA=1;function e(t){return t}return Fw=e,Fw}var Mw,HA;function qq(){if(HA)return Mw;HA=1;function e(t){return function(r){return r?.[t]}}return Mw=e,Mw}var Rw,WA;function $q(){if(WA)return Rw;WA=1;var e=Qj();function t(r){return function(n){return e(n,r)}}return Rw=t,Rw}var Bw,VA;function zq(){if(VA)return Bw;VA=1;var e=qq(),t=$q(),r=Vj(),n=U1();function a(s){return r(s)?e(n(s)):t(s)}return Bw=a,Bw}var Uw,GA;function rf(){if(GA)return Uw;GA=1;var e=Fq(),t=Uq(),r=np(),n=No(),a=zq();function s(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?t(o[0],o[1]):e(o):a(o)}return Uw=s,Uw}var qw,KA;function QI(){if(KA)return qw;KA=1;function e(t,r,n,a){for(var s=t.length,o=n+(a?1:-1);a?o--:++o<s;)if(r(t[o],o,t))return o;return-1}return qw=e,qw}var $w,XA;function Hq(){if(XA)return $w;XA=1;function e(t){return t!==t}return $w=e,$w}var zw,YA;function Wq(){if(YA)return zw;YA=1;function e(t,r,n){for(var a=n-1,s=t.length;++a<s;)if(t[a]===r)return a;return-1}return zw=e,zw}var Hw,JA;function Vq(){if(JA)return Hw;JA=1;var e=QI(),t=Hq(),r=Wq();function n(a,s,o){return s===s?r(a,s,o):e(a,t,o)}return Hw=n,Hw}var Ww,QA;function Gq(){if(QA)return Ww;QA=1;var e=Vq();function t(r,n){var a=r==null?0:r.length;return!!a&&e(r,n,0)>-1}return Ww=t,Ww}var Vw,ZA;function Kq(){if(ZA)return Vw;ZA=1;function e(t,r,n){for(var a=-1,s=t==null?0:t.length;++a<s;)if(n(r,t[a]))return!0;return!1}return Vw=e,Vw}var Gw,eE;function Xq(){if(eE)return Gw;eE=1;function e(){}return Gw=e,Gw}var Kw,tE;function Yq(){if(tE)return Kw;tE=1;var e=XI(),t=Xq(),r=sk(),n=1/0,a=e&&1/r(new e([,-0]))[1]==n?function(s){return new e(s)}:t;return Kw=a,Kw}var Xw,rE;function Jq(){if(rE)return Xw;rE=1;var e=UI(),t=Gq(),r=Kq(),n=$I(),a=Yq(),s=sk(),o=200;function l(c,u,d){var h=-1,m=t,p=c.length,y=!0,v=[],g=v;if(d)y=!1,m=r;else if(p>=o){var b=u?null:a(c);if(b)return s(b);y=!1,m=n,g=new e}else g=u?[]:v;e:for(;++h<p;){var w=c[h],j=u?u(w):w;if(w=d||w!==0?w:0,y&&j===j){for(var N=g.length;N--;)if(g[N]===j)continue e;u&&g.push(j),v.push(w)}else m(g,j,d)||(g!==v&&g.push(j),v.push(w))}return v}return Xw=l,Xw}var Yw,nE;function Qq(){if(nE)return Yw;nE=1;var e=rf(),t=Jq();function r(n,a){return n&&n.length?t(n,e(a,2)):[]}return Yw=r,Yw}var Zq=Qq();const aE=oa(Zq);function ZI(e,t,r){return t===!0?aE(e,r):mn(t)?aE(e,t):e}function Ah(e){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ah(e)}var e$=["ref"];function iE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iE(Object(r),!0).forEach(function(n){V1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tD(n.key),n)}}function r$(e,t,r){return t&&sE(e.prototype,t),r&&sE(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function n$(e,t,r){return t=Sv(t),a$(e,eD()?Reflect.construct(t,r||[],Sv(e).constructor):t.apply(e,r))}function a$(e,t){if(t&&(Ah(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i$(e)}function i$(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eD=function(){return!!e})()}function Sv(e){return Sv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sv(e)}function s$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d4(e,t)}function d4(e,t){return d4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},d4(e,t)}function V1(e,t,r){return t=tD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tD(e){var t=o$(e,"string");return Ah(t)=="symbol"?t:t+""}function o$(e,t){if(Ah(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ah(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function l$(e,t){if(e==null)return{};var r=c$(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function c$(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function u$(e){return e.value}function d$(e,t){if(Qe.isValidElement(e))return Qe.cloneElement(e,t);if(typeof e=="function")return Qe.createElement(e,t);t.ref;var r=l$(t,e$);return Qe.createElement(ik,r)}var oE=1,hh=(function(e){function t(){var r;t$(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=n$(this,t,[].concat(a)),V1(r,"lastBoundingBox",{width:-1,height:-1}),r}return s$(t,e),r$(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>oE||Math.abs(a.height-this.lastBoundingBox.height)>oE)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?bu({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,h,m;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var p=this.getBBoxSnapshot();h={left:((u||0)-p.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();m={top:((d||0)-y.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return bu(bu({},h),m)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,h=bu(bu({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return Qe.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(p){n.wrapperNode=p}},d$(s,bu(bu({},this.props),{},{payload:ZI(d,u,u$)})))}}],[{key:"getWithHeight",value:function(n,a){var s=bu(bu({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&nr(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])})(V.PureComponent);V1(hh,"displayName","Legend");V1(hh,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Jw,lE;function f$(){if(lE)return Jw;lE=1;var e=gx(),t=ok(),r=No(),n=e?e.isConcatSpreadable:void 0;function a(s){return r(s)||t(s)||!!(n&&s&&s[n])}return Jw=a,Jw}var Qw,cE;function rD(){if(cE)return Qw;cE=1;var e=HI(),t=f$();function r(n,a,s,o,l){var c=-1,u=n.length;for(s||(s=t),l||(l=[]);++c<u;){var d=n[c];a>0&&s(d)?a>1?r(d,a-1,s,o,l):e(l,d):o||(l[l.length]=d)}return l}return Qw=r,Qw}var Zw,uE;function h$(){if(uE)return Zw;uE=1;function e(t){return function(r,n,a){for(var s=-1,o=Object(r),l=a(r),c=l.length;c--;){var u=l[t?c:++s];if(n(o[u],u,o)===!1)break}return r}}return Zw=e,Zw}var e5,dE;function p$(){if(dE)return e5;dE=1;var e=h$(),t=e();return e5=t,e5}var t5,fE;function nD(){if(fE)return t5;fE=1;var e=p$(),t=W1();function r(n,a){return n&&e(n,a,t)}return t5=r,t5}var r5,hE;function m$(){if(hE)return r5;hE=1;var e=bx();function t(r,n){return function(a,s){if(a==null)return a;if(!e(a))return r(a,s);for(var o=a.length,l=n?o:-1,c=Object(a);(n?l--:++l<o)&&s(c[l],l,c)!==!1;);return a}}return r5=t,r5}var n5,pE;function dk(){if(pE)return n5;pE=1;var e=nD(),t=m$(),r=t(e);return n5=r,n5}var a5,mE;function aD(){if(mE)return a5;mE=1;var e=dk(),t=bx();function r(n,a){var s=-1,o=t(n)?Array(n.length):[];return e(n,function(l,c,u){o[++s]=a(l,c,u)}),o}return a5=r,a5}var i5,xE;function x$(){if(xE)return i5;xE=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return i5=e,i5}var s5,gE;function g$(){if(gE)return s5;gE=1;var e=ep();function t(r,n){if(r!==n){var a=r!==void 0,s=r===null,o=r===r,l=e(r),c=n!==void 0,u=n===null,d=n===n,h=e(n);if(!u&&!h&&!l&&r>n||l&&c&&d&&!u&&!h||s&&c&&d||!a&&d||!o)return 1;if(!s&&!l&&!h&&r<n||h&&a&&o&&!s&&!l||u&&a&&o||!c&&o||!d)return-1}return 0}return s5=t,s5}var o5,vE;function v$(){if(vE)return o5;vE=1;var e=g$();function t(r,n,a){for(var s=-1,o=r.criteria,l=n.criteria,c=o.length,u=a.length;++s<c;){var d=e(o[s],l[s]);if(d){if(s>=u)return d;var h=a[s];return d*(h=="desc"?-1:1)}}return r.index-n.index}return o5=t,o5}var l5,yE;function y$(){if(yE)return l5;yE=1;var e=Jj(),t=Qj(),r=rf(),n=aD(),a=x$(),s=VI(),o=v$(),l=np(),c=No();function u(d,h,m){h.length?h=e(h,function(v){return c(v)?function(g){return t(g,v.length===1?v[0]:v)}:v}):h=[l];var p=-1;h=e(h,s(r));var y=n(d,function(v,g,b){var w=e(h,function(j){return j(v)});return{criteria:w,index:++p,value:v}});return a(y,function(v,g){return o(v,g,m)})}return l5=u,l5}var c5,bE;function b$(){if(bE)return c5;bE=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return c5=e,c5}var u5,wE;function w$(){if(wE)return u5;wE=1;var e=b$(),t=Math.max;function r(n,a,s){return a=t(a===void 0?n.length-1:a,0),function(){for(var o=arguments,l=-1,c=t(o.length-a,0),u=Array(c);++l<c;)u[l]=o[a+l];l=-1;for(var d=Array(a+1);++l<a;)d[l]=o[l];return d[a]=s(u),e(n,this,d)}}return u5=r,u5}var d5,NE;function N$(){if(NE)return d5;NE=1;function e(t){return function(){return t}}return d5=e,d5}var f5,jE;function iD(){if(jE)return f5;jE=1;var e=m0(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return f5=t,f5}var h5,kE;function j$(){if(kE)return h5;kE=1;var e=N$(),t=iD(),r=np(),n=t?function(a,s){return t(a,"toString",{configurable:!0,enumerable:!1,value:e(s),writable:!0})}:r;return h5=n,h5}var p5,SE;function k$(){if(SE)return p5;SE=1;var e=800,t=16,r=Date.now;function n(a){var s=0,o=0;return function(){var l=r(),c=t-(l-o);if(o=l,c>0){if(++s>=e)return arguments[0]}else s=0;return a.apply(void 0,arguments)}}return p5=n,p5}var m5,_E;function S$(){if(_E)return m5;_E=1;var e=j$(),t=k$(),r=t(e);return m5=r,m5}var x5,AE;function _$(){if(AE)return x5;AE=1;var e=np(),t=w$(),r=S$();function n(a,s){return r(t(a,s,e),a+"")}return x5=n,x5}var g5,EE;function G1(){if(EE)return g5;EE=1;var e=Kj(),t=bx(),r=lk(),n=tf();function a(s,o,l){if(!n(l))return!1;var c=typeof o;return(c=="number"?t(l)&&r(o,l.length):c=="string"&&o in l)?e(l[o],s):!1}return g5=a,g5}var v5,CE;function A$(){if(CE)return v5;CE=1;var e=rD(),t=y$(),r=_$(),n=G1(),a=r(function(s,o){if(s==null)return[];var l=o.length;return l>1&&n(s,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),t(s,e(o,1),[])});return v5=a,v5}var E$=A$();const fk=oa(E$);function wm(e){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wm(e)}function f4(){return f4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f4.apply(this,arguments)}function C$(e,t){return I$(e)||P$(e,t)||O$(e,t)||T$()}function T$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O$(e,t){if(e){if(typeof e=="string")return TE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TE(e,t)}}function TE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function P$(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function I$(e){if(Array.isArray(e))return e}function OE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function y5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OE(Object(r),!0).forEach(function(n){D$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function D$(e,t,r){return t=L$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L$(e){var t=F$(e,"string");return wm(t)=="symbol"?t:t+""}function F$(e,t){if(wm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M$(e){return Array.isArray(e)&&_i(e[0])&&_i(e[1])?e.join(" ~ "):e}var R$=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,s=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,h=t.formatter,m=t.itemSorter,p=t.wrapperClassName,y=t.labelClassName,v=t.label,g=t.labelFormatter,b=t.accessibilityLayer,w=b===void 0?!1:b,j=function(){if(d&&d.length){var T={padding:0,margin:0},I=(m?fk(d,m):d).map(function(z,Q){if(z.type==="none")return null;var te=y5({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},l),J=z.formatter||h||M$,ie=z.value,X=z.name,Z=ie,q=X;if(J&&Z!=null&&q!=null){var C=J(ie,X,z,Q,d);if(Array.isArray(C)){var U=C$(C,2);Z=U[0],q=U[1]}else Z=C}return Qe.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Q),style:te},_i(q)?Qe.createElement("span",{className:"recharts-tooltip-item-name"},q):null,_i(q)?Qe.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Qe.createElement("span",{className:"recharts-tooltip-item-value"},Z),Qe.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return Qe.createElement("ul",{className:"recharts-tooltip-item-list",style:T},I)}return null},N=y5({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),S=y5({margin:0},u),P=!Sn(v),A=P?v:"",O=Hn("recharts-default-tooltip",p),M=Hn("recharts-tooltip-label",y);P&&g&&d!==void 0&&d!==null&&(A=g(v,d));var F=w?{role:"status","aria-live":"assertive"}:{};return Qe.createElement("div",f4({className:O,style:N},F),Qe.createElement("p",{className:M,style:S},Qe.isValidElement(A)?A:"".concat(A)),j())};function Nm(e){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nm(e)}function Ng(e,t,r){return t=B$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B$(e){var t=U$(e,"string");return Nm(t)=="symbol"?t:t+""}function U$(e,t){if(Nm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lp="recharts-tooltip-wrapper",q$={visibility:"hidden"};function $$(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Hn(Lp,Ng(Ng(Ng(Ng({},"".concat(Lp,"-right"),nr(r)&&t&&nr(t.x)&&r>=t.x),"".concat(Lp,"-left"),nr(r)&&t&&nr(t.x)&&r<t.x),"".concat(Lp,"-bottom"),nr(n)&&t&&nr(t.y)&&n>=t.y),"".concat(Lp,"-top"),nr(n)&&t&&nr(t.y)&&n<t.y))}function PE(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,s=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(s&&nr(s[n]))return s[n];var d=r[n]-l-a,h=r[n]+a;if(t[n])return o[n]?d:h;if(o[n]){var m=d,p=c[n];return m<p?Math.max(h,c[n]):Math.max(d,c[n])}var y=h+l,v=c[n]+u;return y>v?Math.max(d,c[n]):Math.max(h,c[n])}function z$(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function H$(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,s=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,h;return o.height>0&&o.width>0&&r?(d=PE({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=PE({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=z$({translateX:d,translateY:h,useTranslate3d:l})):u=q$,{cssProperties:u,cssClasses:$$({translateX:d,translateY:h,coordinate:r})}}function Eh(e){"@babel/helpers - typeof";return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eh(e)}function IE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function DE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IE(Object(r),!0).forEach(function(n){p4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oD(n.key),n)}}function G$(e,t,r){return t&&V$(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function K$(e,t,r){return t=_v(t),X$(e,sD()?Reflect.construct(t,r||[],_v(e).constructor):t.apply(e,r))}function X$(e,t){if(t&&(Eh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y$(e)}function Y$(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sD=function(){return!!e})()}function _v(e){return _v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_v(e)}function J$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h4(e,t)}function h4(e,t){return h4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},h4(e,t)}function p4(e,t,r){return t=oD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oD(e){var t=Q$(e,"string");return Eh(t)=="symbol"?t:t+""}function Q$(e,t){if(Eh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Eh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var LE=1,Z$=(function(e){function t(){var r;W$(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=K$(this,t,[].concat(a)),p4(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),p4(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return J$(t,e),G$(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>LE||Math.abs(n.height-this.state.lastBoundingBox.height)>LE)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,h=a.hasPayload,m=a.isAnimationActive,p=a.offset,y=a.position,v=a.reverseDirection,g=a.useTranslate3d,b=a.viewBox,w=a.wrapperStyle,j=H$({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:y,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:b}),N=j.cssClasses,S=j.cssProperties,P=DE(DE({transition:m&&s?"transform ".concat(l,"ms ").concat(c):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&h?"visible":"hidden",position:"absolute",top:0,left:0},w);return Qe.createElement("div",{tabIndex:-1,className:N,style:P,ref:function(O){n.wrapperNode=O}},u)}}])})(V.PureComponent),ez=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ap={isSsr:ez()};function Ch(e){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ch(e)}function FE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ME(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FE(Object(r),!0).forEach(function(n){hk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cD(n.key),n)}}function nz(e,t,r){return t&&rz(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function az(e,t,r){return t=Av(t),iz(e,lD()?Reflect.construct(t,r||[],Av(e).constructor):t.apply(e,r))}function iz(e,t){if(t&&(Ch(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sz(e)}function sz(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lD=function(){return!!e})()}function Av(e){return Av=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Av(e)}function oz(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m4(e,t)}function m4(e,t){return m4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},m4(e,t)}function hk(e,t,r){return t=cD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cD(e){var t=lz(e,"string");return Ch(t)=="symbol"?t:t+""}function lz(e,t){if(Ch(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ch(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function cz(e){return e.dataKey}function uz(e,t){return Qe.isValidElement(e)?Qe.cloneElement(e,t):typeof e=="function"?Qe.createElement(e,t):Qe.createElement(R$,t)}var Fc=(function(e){function t(){return tz(this,t),az(this,t,arguments)}return oz(t,e),nz(t,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,h=a.filterNull,m=a.isAnimationActive,p=a.offset,y=a.payload,v=a.payloadUniqBy,g=a.position,b=a.reverseDirection,w=a.useTranslate3d,j=a.viewBox,N=a.wrapperStyle,S=y??[];h&&S.length&&(S=ZI(y.filter(function(A){return A.value!=null&&(A.hide!==!0||n.props.includeHidden)}),v,cz));var P=S.length>0;return Qe.createElement(Z$,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:m,active:s,coordinate:d,hasPayload:P,offset:p,position:g,reverseDirection:b,useTranslate3d:w,viewBox:j,wrapperStyle:N},uz(u,ME(ME({},this.props),{},{payload:S})))}}])})(V.PureComponent);hk(Fc,"displayName","Tooltip");hk(Fc,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ap.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var b5,RE;function dz(){if(RE)return b5;RE=1;var e=Gc(),t=function(){return e.Date.now()};return b5=t,b5}var w5,BE;function fz(){if(BE)return w5;BE=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return w5=t,w5}var N5,UE;function hz(){if(UE)return N5;UE=1;var e=fz(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return N5=r,N5}var j5,qE;function uD(){if(qE)return j5;qE=1;var e=hz(),t=tf(),r=ep(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(u){if(typeof u=="number")return u;if(r(u))return n;if(t(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=t(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=e(u);var h=s.test(u);return h||o.test(u)?l(u.slice(2),h?2:8):a.test(u)?n:+u}return j5=c,j5}var k5,$E;function pz(){if($E)return k5;$E=1;var e=tf(),t=dz(),r=uD(),n="Expected a function",a=Math.max,s=Math.min;function o(l,c,u){var d,h,m,p,y,v,g=0,b=!1,w=!1,j=!0;if(typeof l!="function")throw new TypeError(n);c=r(c)||0,e(u)&&(b=!!u.leading,w="maxWait"in u,m=w?a(r(u.maxWait)||0,c):m,j="trailing"in u?!!u.trailing:j);function N(I){var z=d,Q=h;return d=h=void 0,g=I,p=l.apply(Q,z),p}function S(I){return g=I,y=setTimeout(O,c),b?N(I):p}function P(I){var z=I-v,Q=I-g,te=c-z;return w?s(te,m-Q):te}function A(I){var z=I-v,Q=I-g;return v===void 0||z>=c||z<0||w&&Q>=m}function O(){var I=t();if(A(I))return M(I);y=setTimeout(O,P(I))}function M(I){return y=void 0,j&&d?N(I):(d=h=void 0,p)}function F(){y!==void 0&&clearTimeout(y),g=0,d=v=h=y=void 0}function E(){return y===void 0?p:M(t())}function T(){var I=t(),z=A(I);if(d=arguments,h=this,v=I,z){if(y===void 0)return S(v);if(w)return clearTimeout(y),y=setTimeout(O,c),N(v)}return y===void 0&&(y=setTimeout(O,c)),p}return T.cancel=F,T.flush=E,T}return k5=o,k5}var S5,zE;function mz(){if(zE)return S5;zE=1;var e=pz(),t=tf(),r="Expected a function";function n(a,s,o){var l=!0,c=!0;if(typeof a!="function")throw new TypeError(r);return t(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),e(a,s,{leading:l,maxWait:s,trailing:c})}return S5=n,S5}var xz=mz();const dD=oa(xz);function jm(e){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jm(e)}function HE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HE(Object(r),!0).forEach(function(n){gz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gz(e,t,r){return t=vz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vz(e){var t=yz(e,"string");return jm(t)=="symbol"?t:t+""}function yz(e,t){if(jm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bz(e,t){return kz(e)||jz(e,t)||Nz(e,t)||wz()}function wz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nz(e,t){if(e){if(typeof e=="string")return WE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WE(e,t)}}function WE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jz(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function kz(e){if(Array.isArray(e))return e}var Sz=V.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=e.width,o=s===void 0?"100%":s,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,h=e.minHeight,m=e.maxHeight,p=e.children,y=e.debounce,v=y===void 0?0:y,g=e.id,b=e.className,w=e.onResize,j=e.style,N=j===void 0?{}:j,S=V.useRef(null),P=V.useRef();P.current=w,V.useImperativeHandle(t,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var A=V.useState({containerWidth:a.width,containerHeight:a.height}),O=bz(A,2),M=O[0],F=O[1],E=V.useCallback(function(I,z){F(function(Q){var te=Math.round(I),J=Math.round(z);return Q.containerWidth===te&&Q.containerHeight===J?Q:{containerWidth:te,containerHeight:J}})},[]);V.useEffect(function(){var I=function(X){var Z,q=X[0].contentRect,C=q.width,U=q.height;E(C,U),(Z=P.current)===null||Z===void 0||Z.call(P,C,U)};v>0&&(I=dD(I,v,{trailing:!0,leading:!1}));var z=new ResizeObserver(I),Q=S.current.getBoundingClientRect(),te=Q.width,J=Q.height;return E(te,J),z.observe(S.current),function(){z.disconnect()}},[E,v]);var T=V.useMemo(function(){var I=M.containerWidth,z=M.containerHeight;if(I<0||z<0)return null;Ou(Uf(o)||Uf(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Ou(!r||r>0,"The aspect(%s) must be greater than zero.",r);var Q=Uf(o)?I:o,te=Uf(c)?z:c;r&&r>0&&(Q?te=Q/r:te&&(Q=te*r),m&&te>m&&(te=m)),Ou(Q>0||te>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Q,te,o,c,d,h,r);var J=!Array.isArray(p)&&Tu(p.type).endsWith("Chart");return Qe.Children.map(p,function(ie){return gI.isElement(ie)?V.cloneElement(ie,jg({width:Q,height:te},J?{style:jg({height:"100%",width:"100%",maxHeight:te,maxWidth:Q},ie.props.style)}:{})):ie})},[r,p,c,m,h,d,M,o]);return Qe.createElement("div",{id:g?"".concat(g):void 0,className:Hn("recharts-responsive-container",b),style:jg(jg({},N),{},{width:o,height:c,minWidth:d,minHeight:h,maxHeight:m}),ref:S},T)}),fD=function(t){return null};fD.displayName="Cell";function km(e){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},km(e)}function VE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function x4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VE(Object(r),!0).forEach(function(n){_z(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _z(e,t,r){return t=Az(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Az(e){var t=Ez(e,"string");return km(t)=="symbol"?t:t+""}function Ez(e,t){if(km(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var K0={widthCache:{},cacheCount:0},Cz=2e3,Tz={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},GE="recharts_measurement_span";function Oz(e){var t=x4({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var tm=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ap.isSsr)return{width:0,height:0};var n=Oz(r),a=JSON.stringify({text:t,copyStyle:n});if(K0.widthCache[a])return K0.widthCache[a];try{var s=document.getElementById(GE);s||(s=document.createElement("span"),s.setAttribute("id",GE),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=x4(x4({},Tz),n);Object.assign(s.style,o),s.textContent="".concat(t);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return K0.widthCache[a]=c,++K0.cacheCount>Cz&&(K0.cacheCount=0,K0.widthCache={}),c}catch{return{width:0,height:0}}},Pz=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Sm(e){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sm(e)}function Ev(e,t){return Fz(e)||Lz(e,t)||Dz(e,t)||Iz()}function Iz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dz(e,t){if(e){if(typeof e=="string")return KE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KE(e,t)}}function KE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Lz(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Fz(e){if(Array.isArray(e))return e}function Mz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Bz(n.key),n)}}function Rz(e,t,r){return t&&XE(e.prototype,t),r&&XE(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bz(e){var t=Uz(e,"string");return Sm(t)=="symbol"?t:t+""}function Uz(e,t){if(Sm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var YE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,JE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,qz=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,$z=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,hD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},zz=Object.keys(hD),sh="NaN";function Hz(e,t){return e*hD[t]}var kg=(function(){function e(t,r){Mz(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!qz.test(r)&&(this.num=NaN,this.unit=""),zz.includes(r)&&(this.num=Hz(t,r),this.unit="px")}return Rz(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=$z.exec(r))!==null&&n!==void 0?n:[],s=Ev(a,3),o=s[1],l=s[2];return new e(parseFloat(o),l??"")}}])})();function pD(e){if(e.includes(sh))return sh;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=YE.exec(t))!==null&&r!==void 0?r:[],a=Ev(n,4),s=a[1],o=a[2],l=a[3],c=kg.parse(s??""),u=kg.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return sh;t=t.replace(YE,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,m=(h=JE.exec(t))!==null&&h!==void 0?h:[],p=Ev(m,4),y=p[1],v=p[2],g=p[3],b=kg.parse(y??""),w=kg.parse(g??""),j=v==="+"?b.add(w):b.subtract(w);if(j.isNaN())return sh;t=t.replace(JE,j.toString())}return t}var QE=/\(([^()]*)\)/;function Wz(e){for(var t=e;t.includes("(");){var r=QE.exec(t),n=Ev(r,2),a=n[1];t=t.replace(QE,pD(a))}return t}function Vz(e){var t=e.replace(/\s+/g,"");return t=Wz(t),t=pD(t),t}function Gz(e){try{return Vz(e)}catch{return sh}}function _5(e){var t=Gz(e.slice(5,-1));return t===sh?"":t}var Kz=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Xz=["dx","dy","angle","className","breakAll"];function g4(){return g4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g4.apply(this,arguments)}function ZE(e,t){if(e==null)return{};var r=Yz(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Yz(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function eC(e,t){return eH(e)||Zz(e,t)||Qz(e,t)||Jz()}function Jz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qz(e,t){if(e){if(typeof e=="string")return tC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tC(e,t)}}function tC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Zz(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function eH(e){if(Array.isArray(e))return e}var mD=/[ \f\n\r\t\v\u2028\u2029]+/,xD=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var s=[];Sn(r)||(n?s=r.toString().split(""):s=r.toString().split(mD));var o=s.map(function(c){return{word:c,width:tm(c,a).width}}),l=n?0:tm("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},tH=function(t,r,n,a,s){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=nr(o),h=l,m=function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Q.reduce(function(te,J){var ie=J.word,X=J.width,Z=te[te.length-1];if(Z&&(a==null||s||Z.width+X+n<Number(a)))Z.words.push(ie),Z.width+=X+n;else{var q={words:[ie],width:X};te.push(q)}return te},[])},p=m(r),y=function(Q){return Q.reduce(function(te,J){return te.width>J.width?te:J})};if(!d)return p;for(var v="",g=function(Q){var te=h.slice(0,Q),J=xD({breakAll:u,style:c,children:te+v}).wordsWithComputedWidth,ie=m(J),X=ie.length>o||y(ie).width>Number(a);return[X,ie]},b=0,w=h.length-1,j=0,N;b<=w&&j<=h.length-1;){var S=Math.floor((b+w)/2),P=S-1,A=g(P),O=eC(A,2),M=O[0],F=O[1],E=g(S),T=eC(E,1),I=T[0];if(!M&&!I&&(b=S+1),M&&I&&(w=S-1),!M&&I){N=F;break}j++}return N||p},rC=function(t){var r=Sn(t)?[]:t.toString().split(mD);return[{words:r}]},rH=function(t){var r=t.width,n=t.scaleToFit,a=t.children,s=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!ap.isSsr){var c,u,d=xD({breakAll:o,children:a,style:s});if(d){var h=d.wordsWithComputedWidth,m=d.spaceWidth;c=h,u=m}else return rC(a);return tH({breakAll:o,children:a,maxLines:l,style:s},c,u,r,n)}return rC(a)},nC="#808080",Cv=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,h=d===void 0?!1:d,m=t.textAnchor,p=m===void 0?"start":m,y=t.verticalAnchor,v=y===void 0?"end":y,g=t.fill,b=g===void 0?nC:g,w=ZE(t,Kz),j=V.useMemo(function(){return rH({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:h,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,h,w.style,w.width]),N=w.dx,S=w.dy,P=w.angle,A=w.className,O=w.breakAll,M=ZE(w,Xz);if(!_i(n)||!_i(s))return null;var F=n+(nr(N)?N:0),E=s+(nr(S)?S:0),T;switch(v){case"start":T=_5("calc(".concat(u,")"));break;case"middle":T=_5("calc(".concat((j.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:T=_5("calc(".concat(j.length-1," * -").concat(l,")"));break}var I=[];if(h){var z=j[0].width,Q=w.width;I.push("scale(".concat((nr(Q)?Q/z:1)/z,")"))}return P&&I.push("rotate(".concat(P,", ").concat(F,", ").concat(E,")")),I.length&&(M.transform=I.join(" ")),Qe.createElement("text",g4({},bn(M,!0),{x:F,y:E,className:Hn("recharts-text",A),textAnchor:p,fill:b.includes("url")?nC:b}),j.map(function(te,J){var ie=te.words.join(O?"":" ");return Qe.createElement("tspan",{x:F,dy:J===0?T:l,key:"".concat(ie,"-").concat(J)},ie)}))};function zd(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function nH(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function pk(e){let t,r,n;e.length!==2?(t=zd,r=(l,c)=>zd(e(l),c),n=(l,c)=>e(l)-c):(t=e===zd||e===nH?e:aH,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const h=u+d>>>1;r(l[h],c)<0?u=h+1:d=h}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const h=u+d>>>1;r(l[h],c)<=0?u=h+1:d=h}while(u<d)}return u}function o(l,c,u=0,d=l.length){const h=a(l,c,u,d-1);return h>u&&n(l[h-1],c)>-n(l[h],c)?h-1:h}return{left:a,center:o,right:s}}function aH(){return 0}function gD(e){return e===null?NaN:+e}function*iH(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const sH=pk(zd),wx=sH.right;pk(gD).center;class aC extends Map{constructor(t,r=cH){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(iC(this,t))}has(t){return super.has(iC(this,t))}set(t,r){return super.set(oH(this,t),r)}delete(t){return super.delete(lH(this,t))}}function iC({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function oH({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function lH({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function cH(e){return e!==null&&typeof e=="object"?e.valueOf():e}function uH(e=zd){if(e===zd)return vD;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function vD(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const dH=Math.sqrt(50),fH=Math.sqrt(10),hH=Math.sqrt(2);function Tv(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),o=s>=dH?10:s>=fH?5:s>=hH?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Tv(e,t,r*2):[l,c,u]}function v4(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,o]=n?Tv(t,e,r):Tv(e,t,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function y4(e,t,r){return t=+t,e=+e,r=+r,Tv(e,t,r)[2]}function b4(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?y4(t,e,r):y4(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function sC(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function oC(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function yD(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?vD:uH(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),h=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*h*(c-h)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*h/c+m)),y=Math.min(n,Math.floor(t+(c-u)*h/c+m));yD(e,t,p,y,a)}const s=e[t];let o=r,l=n;for(Fp(e,r,t),a(e[n],s)>0&&Fp(e,r,n);o<l;){for(Fp(e,o,l),++o,--l;a(e[o],s)<0;)++o;for(;a(e[l],s)>0;)--l}a(e[r],s)===0?Fp(e,r,l):(++l,Fp(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Fp(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function pH(e,t,r){if(e=Float64Array.from(iH(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return oC(e);if(t>=1)return sC(e);var n,a=(n-1)*t,s=Math.floor(a),o=sC(yD(e,s).subarray(0,s+1)),l=oC(e.subarray(s+1));return o+(l-o)*(a-s)}}function mH(e,t,r=gD){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),o=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return o+(l-o)*(a-s)}}function xH(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function Nl(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Vu(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const w4=Symbol("implicit");function mk(){var e=new aC,t=[],r=[],n=w4;function a(s){let o=e.get(s);if(o===void 0){if(n!==w4)return n;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new aC;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return mk(t,r).unknown(n)},Nl.apply(a,arguments),a}function _m(){var e=mk().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function h(){var m=t().length,p=a<n,y=p?a:n,v=p?n:a;s=(v-y)/Math.max(1,m-c+u*2),l&&(s=Math.floor(s)),y+=(v-y-s*(m-c))*d,o=s*(1-c),l&&(y=Math.round(y),o=Math.round(o));var g=xH(m).map(function(b){return y+s*b});return r(p?g.reverse():g)}return e.domain=function(m){return arguments.length?(t(m),h()):t()},e.range=function(m){return arguments.length?([n,a]=m,n=+n,a=+a,h()):[n,a]},e.rangeRound=function(m){return[n,a]=m,n=+n,a=+a,l=!0,h()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(m){return arguments.length?(l=!!m,h()):l},e.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),h()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),h()):c},e.paddingOuter=function(m){return arguments.length?(u=+m,h()):u},e.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),h()):d},e.copy=function(){return _m(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Nl.apply(h(),arguments)}function bD(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return bD(t())},e}function rm(){return bD(_m.apply(null,arguments).paddingInner(1))}function xk(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function wD(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Nx(){}var Am=.7,Ov=1/Am,ph="\\s*([+-]?\\d+)\\s*",Em="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",zc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gH=/^#([0-9a-f]{3,8})$/,vH=new RegExp(`^rgb\\(${ph},${ph},${ph}\\)$`),yH=new RegExp(`^rgb\\(${zc},${zc},${zc}\\)$`),bH=new RegExp(`^rgba\\(${ph},${ph},${ph},${Em}\\)$`),wH=new RegExp(`^rgba\\(${zc},${zc},${zc},${Em}\\)$`),NH=new RegExp(`^hsl\\(${Em},${zc},${zc}\\)$`),jH=new RegExp(`^hsla\\(${Em},${zc},${zc},${Em}\\)$`),lC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xk(Nx,Cm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:cC,formatHex:cC,formatHex8:kH,formatHsl:SH,formatRgb:uC,toString:uC});function cC(){return this.rgb().formatHex()}function kH(){return this.rgb().formatHex8()}function SH(){return ND(this).formatHsl()}function uC(){return this.rgb().formatRgb()}function Cm(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=gH.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?dC(t):r===3?new yo(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Sg(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Sg(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=vH.exec(e))?new yo(t[1],t[2],t[3],1):(t=yH.exec(e))?new yo(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=bH.exec(e))?Sg(t[1],t[2],t[3],t[4]):(t=wH.exec(e))?Sg(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=NH.exec(e))?pC(t[1],t[2]/100,t[3]/100,1):(t=jH.exec(e))?pC(t[1],t[2]/100,t[3]/100,t[4]):lC.hasOwnProperty(e)?dC(lC[e]):e==="transparent"?new yo(NaN,NaN,NaN,0):null}function dC(e){return new yo(e>>16&255,e>>8&255,e&255,1)}function Sg(e,t,r,n){return n<=0&&(e=t=r=NaN),new yo(e,t,r,n)}function _H(e){return e instanceof Nx||(e=Cm(e)),e?(e=e.rgb(),new yo(e.r,e.g,e.b,e.opacity)):new yo}function N4(e,t,r,n){return arguments.length===1?_H(e):new yo(e,t,r,n??1)}function yo(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}xk(yo,N4,wD(Nx,{brighter(e){return e=e==null?Ov:Math.pow(Ov,e),new yo(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Am:Math.pow(Am,e),new yo(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new yo(Yf(this.r),Yf(this.g),Yf(this.b),Pv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:fC,formatHex:fC,formatHex8:AH,formatRgb:hC,toString:hC}));function fC(){return`#${qf(this.r)}${qf(this.g)}${qf(this.b)}`}function AH(){return`#${qf(this.r)}${qf(this.g)}${qf(this.b)}${qf((isNaN(this.opacity)?1:this.opacity)*255)}`}function hC(){const e=Pv(this.opacity);return`${e===1?"rgb(":"rgba("}${Yf(this.r)}, ${Yf(this.g)}, ${Yf(this.b)}${e===1?")":`, ${e})`}`}function Pv(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Yf(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function qf(e){return e=Yf(e),(e<16?"0":"")+e.toString(16)}function pC(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ac(e,t,r,n)}function ND(e){if(e instanceof ac)return new ac(e.h,e.s,e.l,e.opacity);if(e instanceof Nx||(e=Cm(e)),!e)return new ac;if(e instanceof ac)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,l=s-a,c=(s+a)/2;return l?(t===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?s+a:2-s-a,o*=60):l=c>0&&c<1?0:o,new ac(o,l,c,e.opacity)}function EH(e,t,r,n){return arguments.length===1?ND(e):new ac(e,t,r,n??1)}function ac(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}xk(ac,EH,wD(Nx,{brighter(e){return e=e==null?Ov:Math.pow(Ov,e),new ac(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Am:Math.pow(Am,e),new ac(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new yo(A5(e>=240?e-240:e+120,a,n),A5(e,a,n),A5(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new ac(mC(this.h),_g(this.s),_g(this.l),Pv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Pv(this.opacity);return`${e===1?"hsl(":"hsla("}${mC(this.h)}, ${_g(this.s)*100}%, ${_g(this.l)*100}%${e===1?")":`, ${e})`}`}}));function mC(e){return e=(e||0)%360,e<0?e+360:e}function _g(e){return Math.max(0,Math.min(1,e||0))}function A5(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const gk=e=>()=>e;function CH(e,t){return function(r){return e+r*t}}function TH(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function OH(e){return(e=+e)==1?jD:function(t,r){return r-t?TH(t,r,e):gk(isNaN(t)?r:t)}}function jD(e,t){var r=t-e;return r?CH(e,r):gk(isNaN(e)?t:e)}const xC=(function e(t){var r=OH(t);function n(a,s){var o=r((a=N4(a)).r,(s=N4(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),u=jD(a.opacity,s.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n})(1);function PH(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function IH(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function DH(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)a[o]=ip(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(l){for(o=0;o<n;++o)s[o]=a[o](l);return s}}function LH(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Iv(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function FH(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=ip(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var j4=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,E5=new RegExp(j4.source,"g");function MH(e){return function(){return e}}function RH(e){return function(t){return e(t)+""}}function BH(e,t){var r=j4.lastIndex=E5.lastIndex=0,n,a,s,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=j4.exec(e))&&(a=E5.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:Iv(n,a)})),r=E5.lastIndex;return r<t.length&&(s=t.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?RH(c[0].x):MH(t):(t=c.length,function(u){for(var d=0,h;d<t;++d)l[(h=c[d]).i]=h.x(u);return l.join("")})}function ip(e,t){var r=typeof t,n;return t==null||r==="boolean"?gk(t):(r==="number"?Iv:r==="string"?(n=Cm(t))?(t=n,xC):BH:t instanceof Cm?xC:t instanceof Date?LH:IH(t)?PH:Array.isArray(t)?DH:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?FH:Iv)(e,t)}function vk(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function UH(e,t){t===void 0&&(t=e,e=ip);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}function qH(e){return function(){return e}}function Dv(e){return+e}var gC=[0,1];function Zs(e){return e}function k4(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:qH(isNaN(t)?NaN:.5)}function $H(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function zH(e,t,r){var n=e[0],a=e[1],s=t[0],o=t[1];return a<n?(n=k4(a,n),s=r(o,s)):(n=k4(n,a),s=r(s,o)),function(l){return s(n(l))}}function HH(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=k4(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(l){var c=wx(e,l,1,n)-1;return s[c](a[c](l))}}function jx(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function K1(){var e=gC,t=gC,r=ip,n,a,s,o=Zs,l,c,u;function d(){var m=Math.min(e.length,t.length);return o!==Zs&&(o=$H(e[0],e[m-1])),l=m>2?HH:zH,c=u=null,h}function h(m){return m==null||isNaN(m=+m)?s:(c||(c=l(e.map(n),t,r)))(n(o(m)))}return h.invert=function(m){return o(a((u||(u=l(t,e.map(n),Iv)))(m)))},h.domain=function(m){return arguments.length?(e=Array.from(m,Dv),d()):e.slice()},h.range=function(m){return arguments.length?(t=Array.from(m),d()):t.slice()},h.rangeRound=function(m){return t=Array.from(m),r=vk,d()},h.clamp=function(m){return arguments.length?(o=m?!0:Zs,d()):o!==Zs},h.interpolate=function(m){return arguments.length?(r=m,d()):r},h.unknown=function(m){return arguments.length?(s=m,h):s},function(m,p){return n=m,a=p,d()}}function yk(){return K1()(Zs,Zs)}function WH(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Lv(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Th(e){return e=Lv(Math.abs(e)),e?e[1]:NaN}function VH(e,t){return function(r,n){for(var a=r.length,s=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}function GH(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var KH=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Tm(e){if(!(t=KH.exec(e)))throw new Error("invalid format: "+e);var t;return new bk({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Tm.prototype=bk.prototype;function bk(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}bk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function XH(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Fv;function YH(e,t){var r=Lv(e,t);if(!r)return Fv=void 0,e.toPrecision(t);var n=r[0],a=r[1],s=a-(Fv=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Lv(e,Math.max(0,t+s-1))[0]}function vC(e,t){var r=Lv(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const yC={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:WH,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>vC(e*100,t),r:vC,s:YH,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function bC(e){return e}var wC=Array.prototype.map,NC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function JH(e){var t=e.grouping===void 0||e.thousands===void 0?bC:VH(wC.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?bC:GH(wC.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(h,m){h=Tm(h);var p=h.fill,y=h.align,v=h.sign,g=h.symbol,b=h.zero,w=h.width,j=h.comma,N=h.precision,S=h.trim,P=h.type;P==="n"?(j=!0,P="g"):yC[P]||(N===void 0&&(N=12),S=!0,P="g"),(b||p==="0"&&y==="=")&&(b=!0,p="0",y="=");var A=(m&&m.prefix!==void 0?m.prefix:"")+(g==="$"?r:g==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():""),O=(g==="$"?n:/[%p]/.test(P)?o:"")+(m&&m.suffix!==void 0?m.suffix:""),M=yC[P],F=/[defgprs%]/.test(P);N=N===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function E(T){var I=A,z=O,Q,te,J;if(P==="c")z=M(T)+z,T="";else{T=+T;var ie=T<0||1/T<0;if(T=isNaN(T)?c:M(Math.abs(T),N),S&&(T=XH(T)),ie&&+T==0&&v!=="+"&&(ie=!1),I=(ie?v==="("?v:l:v==="-"||v==="("?"":v)+I,z=(P==="s"&&!isNaN(T)&&Fv!==void 0?NC[8+Fv/3]:"")+z+(ie&&v==="("?")":""),F){for(Q=-1,te=T.length;++Q<te;)if(J=T.charCodeAt(Q),48>J||J>57){z=(J===46?a+T.slice(Q+1):T.slice(Q))+z,T=T.slice(0,Q);break}}}j&&!b&&(T=t(T,1/0));var X=I.length+T.length+z.length,Z=X<w?new Array(w-X+1).join(p):"";switch(j&&b&&(T=t(Z+T,Z.length?w-z.length:1/0),Z=""),y){case"<":T=I+T+z+Z;break;case"=":T=I+Z+T+z;break;case"^":T=Z.slice(0,X=Z.length>>1)+I+T+z+Z.slice(X);break;default:T=Z+I+T+z;break}return s(T)}return E.toString=function(){return h+""},E}function d(h,m){var p=Math.max(-8,Math.min(8,Math.floor(Th(m)/3)))*3,y=Math.pow(10,-p),v=u((h=Tm(h),h.type="f",h),{suffix:NC[8+p/3]});return function(g){return v(y*g)}}return{format:u,formatPrefix:d}}var Ag,wk,kD;QH({thousands:",",grouping:[3],currency:["$",""]});function QH(e){return Ag=JH(e),wk=Ag.format,kD=Ag.formatPrefix,Ag}function ZH(e){return Math.max(0,-Th(Math.abs(e)))}function eW(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Th(t)/3)))*3-Th(Math.abs(e)))}function tW(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Th(t)-Th(e))+1}function SD(e,t,r,n){var a=b4(e,t,r),s;switch(n=Tm(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=eW(a,o))&&(n.precision=s),kD(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=tW(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=ZH(a))&&(n.precision=s-(n.type==="%")*2);break}}return wk(n)}function nf(e){var t=e.domain;return e.ticks=function(r){var n=t();return v4(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return SD(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,o=n[a],l=n[s],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=s,s=u);d-- >0;){if(u=y4(o,l,r),u===c)return n[a]=o,n[s]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Mv(){var e=yk();return e.copy=function(){return jx(e,Mv())},Nl.apply(e,arguments),nf(e)}function _D(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Dv),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return _D(e).unknown(t)},e=arguments.length?Array.from(e,Dv):[0,1],nf(r)}function AD(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],o;return s<a&&(o=r,r=n,n=o,o=a,a=s,s=o),e[r]=t.floor(a),e[n]=t.ceil(s),e}function jC(e){return Math.log(e)}function kC(e){return Math.exp(e)}function rW(e){return-Math.log(-e)}function nW(e){return-Math.exp(-e)}function aW(e){return isFinite(e)?+("1e"+e):e<0?0:e}function iW(e){return e===10?aW:e===Math.E?Math.exp:t=>Math.pow(e,t)}function sW(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function SC(e){return(t,r)=>-e(-t,r)}function Nk(e){const t=e(jC,kC),r=t.domain;let n=10,a,s;function o(){return a=sW(n),s=iW(n),r()[0]<0?(a=SC(a),s=SC(s),e(rW,nW)):e(jC,kC),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const h=d<u;h&&([u,d]=[d,u]);let m=a(u),p=a(d),y,v;const g=l==null?10:+l;let b=[];if(!(n%1)&&p-m<g){if(m=Math.floor(m),p=Math.ceil(p),u>0){for(;m<=p;++m)for(y=1;y<n;++y)if(v=m<0?y/s(-m):y*s(m),!(v<u)){if(v>d)break;b.push(v)}}else for(;m<=p;++m)for(y=n-1;y>=1;--y)if(v=m>0?y/s(-m):y*s(m),!(v<u)){if(v>d)break;b.push(v)}b.length*2<g&&(b=v4(u,d,g))}else b=v4(m,p,Math.min(p-m,g)).map(s);return h?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Tm(c)).precision==null&&(c.trim=!0),c=wk(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let h=d/s(Math.round(a(d)));return h*n<n-.5&&(h*=n),h<=u?c(d):""}},t.nice=()=>r(AD(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),t}function ED(){const e=Nk(K1()).domain([1,10]);return e.copy=()=>jx(e,ED()).base(e.base()),Nl.apply(e,arguments),e}function _C(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function AC(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function jk(e){var t=1,r=e(_C(t),AC(t));return r.constant=function(n){return arguments.length?e(_C(t=+n),AC(t)):t},nf(r)}function CD(){var e=jk(K1());return e.copy=function(){return jx(e,CD()).constant(e.constant())},Nl.apply(e,arguments)}function EC(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function oW(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function lW(e){return e<0?-e*e:e*e}function kk(e){var t=e(Zs,Zs),r=1;function n(){return r===1?e(Zs,Zs):r===.5?e(oW,lW):e(EC(r),EC(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},nf(t)}function Sk(){var e=kk(K1());return e.copy=function(){return jx(e,Sk()).exponent(e.exponent())},Nl.apply(e,arguments),e}function cW(){return Sk.apply(null,arguments).exponent(.5)}function CC(e){return Math.sign(e)*e*e}function uW(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function TD(){var e=yk(),t=[0,1],r=!1,n;function a(s){var o=uW(e(s));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(s){return e.invert(CC(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,Dv)).map(CC)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return TD(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Nl.apply(a,arguments),nf(a)}function OD(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=mH(e,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:t[wx(r,o)]}return s.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(zd),a()},s.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return OD().domain(e).range(t).unknown(n)},Nl.apply(s,arguments)}function PD(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function o(c){return c!=null&&c<=c?a[wx(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return PD().domain([e,t]).range(a).unknown(s)},Nl.apply(nf(o),arguments)}function ID(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[wx(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return ID().domain(e).range(t).unknown(r)},Nl.apply(a,arguments)}const C5=new Date,T5=new Date;function Ei(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const o=a(s),l=a.ceil(s);return s-o<l-s?o:l},a.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),a.range=(s,o,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<o);return c},a.filter=s=>Ei(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!s(o););else for(;--l>=0;)for(;t(o,1),!s(o););}),r&&(a.count=(s,o)=>(C5.setTime(+s),T5.setTime(+o),e(C5),e(T5),Math.floor(r(C5,T5))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?o=>n(o)%s===0:o=>a.count(0,o)%s===0):a)),a}const Rv=Ei(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Rv.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ei(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Rv);Rv.range;const ku=1e3,ml=ku*60,Su=ml*60,Ru=Su*24,_k=Ru*7,TC=Ru*30,O5=Ru*365,$f=Ei(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ku)},(e,t)=>(t-e)/ku,e=>e.getUTCSeconds());$f.range;const Ak=Ei(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ku)},(e,t)=>{e.setTime(+e+t*ml)},(e,t)=>(t-e)/ml,e=>e.getMinutes());Ak.range;const Ek=Ei(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ml)},(e,t)=>(t-e)/ml,e=>e.getUTCMinutes());Ek.range;const Ck=Ei(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ku-e.getMinutes()*ml)},(e,t)=>{e.setTime(+e+t*Su)},(e,t)=>(t-e)/Su,e=>e.getHours());Ck.range;const Tk=Ei(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Su)},(e,t)=>(t-e)/Su,e=>e.getUTCHours());Tk.range;const kx=Ei(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ml)/Ru,e=>e.getDate()-1);kx.range;const X1=Ei(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ru,e=>e.getUTCDate()-1);X1.range;const DD=Ei(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ru,e=>Math.floor(e/Ru));DD.range;function x0(e){return Ei(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ml)/_k)}const Y1=x0(0),Bv=x0(1),dW=x0(2),fW=x0(3),Oh=x0(4),hW=x0(5),pW=x0(6);Y1.range;Bv.range;dW.range;fW.range;Oh.range;hW.range;pW.range;function g0(e){return Ei(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/_k)}const J1=g0(0),Uv=g0(1),mW=g0(2),xW=g0(3),Ph=g0(4),gW=g0(5),vW=g0(6);J1.range;Uv.range;mW.range;xW.range;Ph.range;gW.range;vW.range;const Ok=Ei(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Ok.range;const Pk=Ei(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Pk.range;const Bu=Ei(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Bu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ei(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Bu.range;const Uu=Ei(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Uu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ei(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Uu.range;function LD(e,t,r,n,a,s){const o=[[$f,1,ku],[$f,5,5*ku],[$f,15,15*ku],[$f,30,30*ku],[s,1,ml],[s,5,5*ml],[s,15,15*ml],[s,30,30*ml],[a,1,Su],[a,3,3*Su],[a,6,6*Su],[a,12,12*Su],[n,1,Ru],[n,2,2*Ru],[r,1,_k],[t,1,TC],[t,3,3*TC],[e,1,O5]];function l(u,d,h){const m=d<u;m&&([u,d]=[d,u]);const p=h&&typeof h.range=="function"?h:c(u,d,h),y=p?p.range(u,+d+1):[];return m?y.reverse():y}function c(u,d,h){const m=Math.abs(d-u)/h,p=pk(([,,g])=>g).right(o,m);if(p===o.length)return e.every(b4(u/O5,d/O5,h));if(p===0)return Rv.every(Math.max(b4(u,d,h),1));const[y,v]=o[m/o[p-1][2]<o[p][2]/m?p-1:p];return y.every(v)}return[l,c]}const[yW,bW]=LD(Uu,Pk,J1,DD,Tk,Ek),[wW,NW]=LD(Bu,Ok,Y1,kx,Ck,Ak);function P5(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function I5(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Mp(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function jW(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Rp(a),d=Bp(a),h=Rp(s),m=Bp(s),p=Rp(o),y=Bp(o),v=Rp(l),g=Bp(l),b=Rp(c),w=Bp(c),j={a:J,A:ie,b:X,B:Z,c:null,d:FC,e:FC,f:VW,g:rV,G:aV,H:zW,I:HW,j:WW,L:FD,m:GW,M:KW,p:q,q:C,Q:BC,s:UC,S:XW,u:YW,U:JW,V:QW,w:ZW,W:eV,x:null,X:null,y:tV,Y:nV,Z:iV,"%":RC},N={a:U,A:W,b:B,B:K,c:null,d:MC,e:MC,f:cV,g:yV,G:wV,H:sV,I:oV,j:lV,L:RD,m:uV,M:dV,p:re,q:fe,Q:BC,s:UC,S:fV,u:hV,U:pV,V:mV,w:xV,W:gV,x:null,X:null,y:vV,Y:bV,Z:NV,"%":RC},S={a:F,A:E,b:T,B:I,c:z,d:DC,e:DC,f:BW,g:IC,G:PC,H:LC,I:LC,j:LW,L:RW,m:DW,M:FW,p:M,q:IW,Q:qW,s:$W,S:MW,u:EW,U:CW,V:TW,w:AW,W:OW,x:Q,X:te,y:IC,Y:PC,Z:PW,"%":UW};j.x=P(r,j),j.X=P(n,j),j.c=P(t,j),N.x=P(r,N),N.X=P(n,N),N.c=P(t,N);function P(ce,he){return function(Oe){var ee=[],De=-1,je=0,oe=ce.length,ue,_e,Se;for(Oe instanceof Date||(Oe=new Date(+Oe));++De<oe;)ce.charCodeAt(De)===37&&(ee.push(ce.slice(je,De)),(_e=OC[ue=ce.charAt(++De)])!=null?ue=ce.charAt(++De):_e=ue==="e"?" ":"0",(Se=he[ue])&&(ue=Se(Oe,_e)),ee.push(ue),je=De+1);return ee.push(ce.slice(je,De)),ee.join("")}}function A(ce,he){return function(Oe){var ee=Mp(1900,void 0,1),De=O(ee,ce,Oe+="",0),je,oe;if(De!=Oe.length)return null;if("Q"in ee)return new Date(ee.Q);if("s"in ee)return new Date(ee.s*1e3+("L"in ee?ee.L:0));if(he&&!("Z"in ee)&&(ee.Z=0),"p"in ee&&(ee.H=ee.H%12+ee.p*12),ee.m===void 0&&(ee.m="q"in ee?ee.q:0),"V"in ee){if(ee.V<1||ee.V>53)return null;"w"in ee||(ee.w=1),"Z"in ee?(je=I5(Mp(ee.y,0,1)),oe=je.getUTCDay(),je=oe>4||oe===0?Uv.ceil(je):Uv(je),je=X1.offset(je,(ee.V-1)*7),ee.y=je.getUTCFullYear(),ee.m=je.getUTCMonth(),ee.d=je.getUTCDate()+(ee.w+6)%7):(je=P5(Mp(ee.y,0,1)),oe=je.getDay(),je=oe>4||oe===0?Bv.ceil(je):Bv(je),je=kx.offset(je,(ee.V-1)*7),ee.y=je.getFullYear(),ee.m=je.getMonth(),ee.d=je.getDate()+(ee.w+6)%7)}else("W"in ee||"U"in ee)&&("w"in ee||(ee.w="u"in ee?ee.u%7:"W"in ee?1:0),oe="Z"in ee?I5(Mp(ee.y,0,1)).getUTCDay():P5(Mp(ee.y,0,1)).getDay(),ee.m=0,ee.d="W"in ee?(ee.w+6)%7+ee.W*7-(oe+5)%7:ee.w+ee.U*7-(oe+6)%7);return"Z"in ee?(ee.H+=ee.Z/100|0,ee.M+=ee.Z%100,I5(ee)):P5(ee)}}function O(ce,he,Oe,ee){for(var De=0,je=he.length,oe=Oe.length,ue,_e;De<je;){if(ee>=oe)return-1;if(ue=he.charCodeAt(De++),ue===37){if(ue=he.charAt(De++),_e=S[ue in OC?he.charAt(De++):ue],!_e||(ee=_e(ce,Oe,ee))<0)return-1}else if(ue!=Oe.charCodeAt(ee++))return-1}return ee}function M(ce,he,Oe){var ee=u.exec(he.slice(Oe));return ee?(ce.p=d.get(ee[0].toLowerCase()),Oe+ee[0].length):-1}function F(ce,he,Oe){var ee=p.exec(he.slice(Oe));return ee?(ce.w=y.get(ee[0].toLowerCase()),Oe+ee[0].length):-1}function E(ce,he,Oe){var ee=h.exec(he.slice(Oe));return ee?(ce.w=m.get(ee[0].toLowerCase()),Oe+ee[0].length):-1}function T(ce,he,Oe){var ee=b.exec(he.slice(Oe));return ee?(ce.m=w.get(ee[0].toLowerCase()),Oe+ee[0].length):-1}function I(ce,he,Oe){var ee=v.exec(he.slice(Oe));return ee?(ce.m=g.get(ee[0].toLowerCase()),Oe+ee[0].length):-1}function z(ce,he,Oe){return O(ce,t,he,Oe)}function Q(ce,he,Oe){return O(ce,r,he,Oe)}function te(ce,he,Oe){return O(ce,n,he,Oe)}function J(ce){return o[ce.getDay()]}function ie(ce){return s[ce.getDay()]}function X(ce){return c[ce.getMonth()]}function Z(ce){return l[ce.getMonth()]}function q(ce){return a[+(ce.getHours()>=12)]}function C(ce){return 1+~~(ce.getMonth()/3)}function U(ce){return o[ce.getUTCDay()]}function W(ce){return s[ce.getUTCDay()]}function B(ce){return c[ce.getUTCMonth()]}function K(ce){return l[ce.getUTCMonth()]}function re(ce){return a[+(ce.getUTCHours()>=12)]}function fe(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var he=P(ce+="",j);return he.toString=function(){return ce},he},parse:function(ce){var he=A(ce+="",!1);return he.toString=function(){return ce},he},utcFormat:function(ce){var he=P(ce+="",N);return he.toString=function(){return ce},he},utcParse:function(ce){var he=A(ce+="",!0);return he.toString=function(){return ce},he}}}var OC={"-":"",_:" ",0:"0"},Wi=/^\s*\d+/,kW=/^%/,SW=/[\\^$*+?|[\]().{}]/g;function Wn(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function _W(e){return e.replace(SW,"\\$&")}function Rp(e){return new RegExp("^(?:"+e.map(_W).join("|")+")","i")}function Bp(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function AW(e,t,r){var n=Wi.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function EW(e,t,r){var n=Wi.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function CW(e,t,r){var n=Wi.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function TW(e,t,r){var n=Wi.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function OW(e,t,r){var n=Wi.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function PC(e,t,r){var n=Wi.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function IC(e,t,r){var n=Wi.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function PW(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function IW(e,t,r){var n=Wi.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function DW(e,t,r){var n=Wi.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function DC(e,t,r){var n=Wi.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function LW(e,t,r){var n=Wi.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function LC(e,t,r){var n=Wi.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function FW(e,t,r){var n=Wi.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function MW(e,t,r){var n=Wi.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function RW(e,t,r){var n=Wi.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function BW(e,t,r){var n=Wi.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function UW(e,t,r){var n=kW.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function qW(e,t,r){var n=Wi.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function $W(e,t,r){var n=Wi.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function FC(e,t){return Wn(e.getDate(),t,2)}function zW(e,t){return Wn(e.getHours(),t,2)}function HW(e,t){return Wn(e.getHours()%12||12,t,2)}function WW(e,t){return Wn(1+kx.count(Bu(e),e),t,3)}function FD(e,t){return Wn(e.getMilliseconds(),t,3)}function VW(e,t){return FD(e,t)+"000"}function GW(e,t){return Wn(e.getMonth()+1,t,2)}function KW(e,t){return Wn(e.getMinutes(),t,2)}function XW(e,t){return Wn(e.getSeconds(),t,2)}function YW(e){var t=e.getDay();return t===0?7:t}function JW(e,t){return Wn(Y1.count(Bu(e)-1,e),t,2)}function MD(e){var t=e.getDay();return t>=4||t===0?Oh(e):Oh.ceil(e)}function QW(e,t){return e=MD(e),Wn(Oh.count(Bu(e),e)+(Bu(e).getDay()===4),t,2)}function ZW(e){return e.getDay()}function eV(e,t){return Wn(Bv.count(Bu(e)-1,e),t,2)}function tV(e,t){return Wn(e.getFullYear()%100,t,2)}function rV(e,t){return e=MD(e),Wn(e.getFullYear()%100,t,2)}function nV(e,t){return Wn(e.getFullYear()%1e4,t,4)}function aV(e,t){var r=e.getDay();return e=r>=4||r===0?Oh(e):Oh.ceil(e),Wn(e.getFullYear()%1e4,t,4)}function iV(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Wn(t/60|0,"0",2)+Wn(t%60,"0",2)}function MC(e,t){return Wn(e.getUTCDate(),t,2)}function sV(e,t){return Wn(e.getUTCHours(),t,2)}function oV(e,t){return Wn(e.getUTCHours()%12||12,t,2)}function lV(e,t){return Wn(1+X1.count(Uu(e),e),t,3)}function RD(e,t){return Wn(e.getUTCMilliseconds(),t,3)}function cV(e,t){return RD(e,t)+"000"}function uV(e,t){return Wn(e.getUTCMonth()+1,t,2)}function dV(e,t){return Wn(e.getUTCMinutes(),t,2)}function fV(e,t){return Wn(e.getUTCSeconds(),t,2)}function hV(e){var t=e.getUTCDay();return t===0?7:t}function pV(e,t){return Wn(J1.count(Uu(e)-1,e),t,2)}function BD(e){var t=e.getUTCDay();return t>=4||t===0?Ph(e):Ph.ceil(e)}function mV(e,t){return e=BD(e),Wn(Ph.count(Uu(e),e)+(Uu(e).getUTCDay()===4),t,2)}function xV(e){return e.getUTCDay()}function gV(e,t){return Wn(Uv.count(Uu(e)-1,e),t,2)}function vV(e,t){return Wn(e.getUTCFullYear()%100,t,2)}function yV(e,t){return e=BD(e),Wn(e.getUTCFullYear()%100,t,2)}function bV(e,t){return Wn(e.getUTCFullYear()%1e4,t,4)}function wV(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ph(e):Ph.ceil(e),Wn(e.getUTCFullYear()%1e4,t,4)}function NV(){return"+0000"}function RC(){return"%"}function BC(e){return+e}function UC(e){return Math.floor(+e/1e3)}var X0,UD,qD;jV({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function jV(e){return X0=jW(e),UD=X0.format,X0.parse,qD=X0.utcFormat,X0.utcParse,X0}function kV(e){return new Date(e)}function SV(e){return e instanceof Date?+e:+new Date(+e)}function Ik(e,t,r,n,a,s,o,l,c,u){var d=yk(),h=d.invert,m=d.domain,p=u(".%L"),y=u(":%S"),v=u("%I:%M"),g=u("%I %p"),b=u("%a %d"),w=u("%b %d"),j=u("%B"),N=u("%Y");function S(P){return(c(P)<P?p:l(P)<P?y:o(P)<P?v:s(P)<P?g:n(P)<P?a(P)<P?b:w:r(P)<P?j:N)(P)}return d.invert=function(P){return new Date(h(P))},d.domain=function(P){return arguments.length?m(Array.from(P,SV)):m().map(kV)},d.ticks=function(P){var A=m();return e(A[0],A[A.length-1],P??10)},d.tickFormat=function(P,A){return A==null?S:u(A)},d.nice=function(P){var A=m();return(!P||typeof P.range!="function")&&(P=t(A[0],A[A.length-1],P??10)),P?m(AD(A,P)):d},d.copy=function(){return jx(d,Ik(e,t,r,n,a,s,o,l,c,u))},d}function _V(){return Nl.apply(Ik(wW,NW,Bu,Ok,Y1,kx,Ck,Ak,$f,UD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function AV(){return Nl.apply(Ik(yW,bW,Uu,Pk,J1,X1,Tk,Ek,$f,qD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Q1(){var e=0,t=1,r,n,a,s,o=Zs,l=!1,c;function u(h){return h==null||isNaN(h=+h)?c:o(a===0?.5:(h=(s(h)-r)*a,l?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([e,t]=h,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(h){return arguments.length?(l=!!h,u):l},u.interpolator=function(h){return arguments.length?(o=h,u):o};function d(h){return function(m){var p,y;return arguments.length?([p,y]=m,o=h(p,y),u):[o(0),o(1)]}}return u.range=d(ip),u.rangeRound=d(vk),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return s=h,r=h(e),n=h(t),a=r===n?0:1/(n-r),u}}function af(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function $D(){var e=nf(Q1()(Zs));return e.copy=function(){return af(e,$D())},Vu.apply(e,arguments)}function zD(){var e=Nk(Q1()).domain([1,10]);return e.copy=function(){return af(e,zD()).base(e.base())},Vu.apply(e,arguments)}function HD(){var e=jk(Q1());return e.copy=function(){return af(e,HD()).constant(e.constant())},Vu.apply(e,arguments)}function Dk(){var e=kk(Q1());return e.copy=function(){return af(e,Dk()).exponent(e.exponent())},Vu.apply(e,arguments)}function EV(){return Dk.apply(null,arguments).exponent(.5)}function WD(){var e=[],t=Zs;function r(n){if(n!=null&&!isNaN(n=+n))return t((wx(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(zd),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>pH(e,s/n))},r.copy=function(){return WD(t).domain(e)},Vu.apply(r,arguments)}function Z1(){var e=0,t=.5,r=1,n=1,a,s,o,l,c,u=Zs,d,h=!1,m;function p(v){return isNaN(v=+v)?m:(v=.5+((v=+d(v))-s)*(n*v<n*s?l:c),u(h?Math.max(0,Math.min(1,v)):v))}p.domain=function(v){return arguments.length?([e,t,r]=v,a=d(e=+e),s=d(t=+t),o=d(r=+r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,p):[e,t,r]},p.clamp=function(v){return arguments.length?(h=!!v,p):h},p.interpolator=function(v){return arguments.length?(u=v,p):u};function y(v){return function(g){var b,w,j;return arguments.length?([b,w,j]=g,u=UH(v,[b,w,j]),p):[u(0),u(.5),u(1)]}}return p.range=y(ip),p.rangeRound=y(vk),p.unknown=function(v){return arguments.length?(m=v,p):m},function(v){return d=v,a=v(e),s=v(t),o=v(r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,p}}function VD(){var e=nf(Z1()(Zs));return e.copy=function(){return af(e,VD())},Vu.apply(e,arguments)}function GD(){var e=Nk(Z1()).domain([.1,1,10]);return e.copy=function(){return af(e,GD()).base(e.base())},Vu.apply(e,arguments)}function KD(){var e=jk(Z1());return e.copy=function(){return af(e,KD()).constant(e.constant())},Vu.apply(e,arguments)}function Lk(){var e=kk(Z1());return e.copy=function(){return af(e,Lk()).exponent(e.exponent())},Vu.apply(e,arguments)}function CV(){return Lk.apply(null,arguments).exponent(.5)}const qC=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:_m,scaleDiverging:VD,scaleDivergingLog:GD,scaleDivergingPow:Lk,scaleDivergingSqrt:CV,scaleDivergingSymlog:KD,scaleIdentity:_D,scaleImplicit:w4,scaleLinear:Mv,scaleLog:ED,scaleOrdinal:mk,scalePoint:rm,scalePow:Sk,scaleQuantile:OD,scaleQuantize:PD,scaleRadial:TD,scaleSequential:$D,scaleSequentialLog:zD,scaleSequentialPow:Dk,scaleSequentialQuantile:WD,scaleSequentialSqrt:EV,scaleSequentialSymlog:HD,scaleSqrt:cW,scaleSymlog:CD,scaleThreshold:ID,scaleTime:_V,scaleUtc:AV,tickFormat:SD},Symbol.toStringTag,{value:"Module"}));var D5,$C;function XD(){if($C)return D5;$C=1;var e=ep();function t(r,n,a){for(var s=-1,o=r.length;++s<o;){var l=r[s],c=n(l);if(c!=null&&(u===void 0?c===c&&!e(c):a(c,u)))var u=c,d=l}return d}return D5=t,D5}var L5,zC;function TV(){if(zC)return L5;zC=1;function e(t,r){return t>r}return L5=e,L5}var F5,HC;function OV(){if(HC)return F5;HC=1;var e=XD(),t=TV(),r=np();function n(a){return a&&a.length?e(a,r,t):void 0}return F5=n,F5}var PV=OV();const Fd=oa(PV);var M5,WC;function IV(){if(WC)return M5;WC=1;function e(t,r){return t<r}return M5=e,M5}var R5,VC;function DV(){if(VC)return R5;VC=1;var e=XD(),t=IV(),r=np();function n(a){return a&&a.length?e(a,r,t):void 0}return R5=n,R5}var LV=DV();const ey=oa(LV);var B5,GC;function FV(){if(GC)return B5;GC=1;var e=Jj(),t=rf(),r=aD(),n=No();function a(s,o){var l=n(s)?e:r;return l(s,t(o,3))}return B5=a,B5}var U5,KC;function MV(){if(KC)return U5;KC=1;var e=rD(),t=FV();function r(n,a){return e(t(n,a),1)}return U5=r,U5}var RV=MV();const BV=oa(RV);var q5,XC;function YD(){if(XC)return q5;XC=1;var e=uk();function t(r,n){return e(r,n)}return q5=t,q5}var UV=YD();const Om=oa(UV);var sp=1e9,qV={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Mk,Ca=!0,bl="[DecimalError] ",Jf=bl+"Invalid argument: ",Fk=bl+"Exponent out of range: ",op=Math.floor,Ff=Math.pow,$V=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Lo,Bi=1e7,Na=7,JD=9007199254740991,qv=op(JD/Na),Nr={};Nr.absoluteValue=Nr.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Nr.comparedTo=Nr.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};Nr.decimalPlaces=Nr.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Na;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Nr.dividedBy=Nr.div=function(e){return Pu(this,new this.constructor(e))};Nr.dividedToIntegerBy=Nr.idiv=function(e){var t=this,r=t.constructor;return ha(Pu(t,new r(e),0,1),r.precision)};Nr.equals=Nr.eq=function(e){return!this.cmp(e)};Nr.exponent=function(){return xi(this)};Nr.greaterThan=Nr.gt=function(e){return this.cmp(e)>0};Nr.greaterThanOrEqualTo=Nr.gte=function(e){return this.cmp(e)>=0};Nr.isInteger=Nr.isint=function(){return this.e>this.d.length-2};Nr.isNegative=Nr.isneg=function(){return this.s<0};Nr.isPositive=Nr.ispos=function(){return this.s>0};Nr.isZero=function(){return this.s===0};Nr.lessThan=Nr.lt=function(e){return this.cmp(e)<0};Nr.lessThanOrEqualTo=Nr.lte=function(e){return this.cmp(e)<1};Nr.logarithm=Nr.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Lo))throw Error(bl+"NaN");if(r.s<1)throw Error(bl+(r.s?"NaN":"-Infinity"));return r.eq(Lo)?new n(0):(Ca=!1,t=Pu(Pm(r,s),Pm(e,s),s),Ca=!0,ha(t,a))};Nr.minus=Nr.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?eL(t,e):QD(t,(e.s=-e.s,e))};Nr.modulo=Nr.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(bl+"NaN");return r.s?(Ca=!1,t=Pu(r,e,0,1).times(e),Ca=!0,r.minus(t)):ha(new n(r),a)};Nr.naturalExponential=Nr.exp=function(){return ZD(this)};Nr.naturalLogarithm=Nr.ln=function(){return Pm(this)};Nr.negated=Nr.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Nr.plus=Nr.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?QD(t,e):eL(t,(e.s=-e.s,e))};Nr.precision=Nr.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Jf+e);if(t=xi(a)+1,n=a.d.length-1,r=n*Na+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Nr.squareRoot=Nr.sqrt=function(){var e,t,r,n,a,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(bl+"NaN")}for(e=xi(l),Ca=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Rc(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=op((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(s=n,n=s.plus(Pu(l,s,o+2)).times(.5),Rc(s.d).slice(0,o)===(t=Rc(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(ha(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;o+=4}return Ca=!0,ha(n,r)};Nr.times=Nr.mul=function(e){var t,r,n,a,s,o,l,c,u,d=this,h=d.constructor,m=d.d,p=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,r=d.e+e.e,c=m.length,u=p.length,c<u&&(s=m,m=p,p=s,o=c,c=u,u=o),s=[],o=c+u,n=o;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=s[a]+p[n]*m[a-n-1]+t,s[a--]=l%Bi|0,t=l/Bi|0;s[a]=(s[a]+t)%Bi|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Ca?ha(e,h.precision):e};Nr.toDecimalPlaces=Nr.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Vc(e,0,sp),t===void 0?t=n.rounding:Vc(t,0,8),ha(r,e+xi(r)+1,t))};Nr.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=a0(n,!0):(Vc(e,0,sp),t===void 0?t=a.rounding:Vc(t,0,8),n=ha(new a(n),e+1,t),r=a0(n,!0,e+1)),r};Nr.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?a0(a):(Vc(e,0,sp),t===void 0?t=s.rounding:Vc(t,0,8),n=ha(new s(a),e+xi(a)+1,t),r=a0(n.abs(),!1,e+xi(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Nr.toInteger=Nr.toint=function(){var e=this,t=e.constructor;return ha(new t(e),xi(e)+1,t.rounding)};Nr.toNumber=function(){return+this};Nr.toPower=Nr.pow=function(e){var t,r,n,a,s,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Lo);if(l=new c(l),!l.s){if(e.s<1)throw Error(bl+"Infinity");return l}if(l.eq(Lo))return l;if(n=c.precision,e.eq(Lo))return ha(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,s=l.s,o){if((r=d<0?-d:d)<=JD){for(a=new c(Lo),t=Math.ceil(n/Na+4),Ca=!1;r%2&&(a=a.times(l),JC(a.d,t)),r=op(r/2),r!==0;)l=l.times(l),JC(l.d,t);return Ca=!0,e.s<0?new c(Lo).div(a):ha(a,n)}}else if(s<0)throw Error(bl+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Ca=!1,a=e.times(Pm(l,n+u)),Ca=!0,a=ZD(a),a.s=s,a};Nr.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=xi(a),n=a0(a,r<=s.toExpNeg||r>=s.toExpPos)):(Vc(e,1,sp),t===void 0?t=s.rounding:Vc(t,0,8),a=ha(new s(a),e,t),r=xi(a),n=a0(a,e<=r||r<=s.toExpNeg,e)),n};Nr.toSignificantDigits=Nr.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Vc(e,1,sp),t===void 0?t=n.rounding:Vc(t,0,8)),ha(new n(r),e,t)};Nr.toString=Nr.valueOf=Nr.val=Nr.toJSON=Nr[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=xi(e),r=e.constructor;return a0(e,t<=r.toExpNeg||t>=r.toExpPos)};function QD(e,t){var r,n,a,s,o,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Ca?ha(t,h):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),s=o-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(h/Na),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/Bi|0,c[s]%=Bi;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,Ca?ha(t,h):t}function Vc(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Jf+e)}function Rc(e){var t,r,n,a=e.length-1,s="",o=e[0];if(a>0){for(s+=o,t=1;t<a;t++)n=e[t]+"",r=Na-n.length,r&&(s+=Id(r)),s+=n;o=e[t],n=o+"",r=Na-n.length,r&&(s+=Id(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Pu=(function(){function e(n,a){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+o,n[l]=s%Bi|0,o=s/Bi|0;return o&&n.unshift(o),n}function t(n,a,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var o=0;s--;)n[s]-=o,o=n[s]<a[s]?1:0,n[s]=o*Bi+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,o){var l,c,u,d,h,m,p,y,v,g,b,w,j,N,S,P,A,O,M=n.constructor,F=n.s==a.s?1:-1,E=n.d,T=a.d;if(!n.s)return new M(n);if(!a.s)throw Error(bl+"Division by zero");for(c=n.e-a.e,A=T.length,S=E.length,p=new M(F),y=p.d=[],u=0;T[u]==(E[u]||0);)++u;if(T[u]>(E[u]||0)&&--c,s==null?w=s=M.precision:o?w=s+(xi(n)-xi(a))+1:w=s,w<0)return new M(0);if(w=w/Na+2|0,u=0,A==1)for(d=0,T=T[0],w++;(u<S||d)&&w--;u++)j=d*Bi+(E[u]||0),y[u]=j/T|0,d=j%T|0;else{for(d=Bi/(T[0]+1)|0,d>1&&(T=e(T,d),E=e(E,d),A=T.length,S=E.length),N=A,v=E.slice(0,A),g=v.length;g<A;)v[g++]=0;O=T.slice(),O.unshift(0),P=T[0],T[1]>=Bi/2&&++P;do d=0,l=t(T,v,A,g),l<0?(b=v[0],A!=g&&(b=b*Bi+(v[1]||0)),d=b/P|0,d>1?(d>=Bi&&(d=Bi-1),h=e(T,d),m=h.length,g=v.length,l=t(h,v,m,g),l==1&&(d--,r(h,A<m?O:T,m))):(d==0&&(l=d=1),h=T.slice()),m=h.length,m<g&&h.unshift(0),r(v,h,g),l==-1&&(g=v.length,l=t(T,v,A,g),l<1&&(d++,r(v,A<g?O:T,g))),g=v.length):l===0&&(d++,v=[0]),y[u++]=d,l&&v[0]?v[g++]=E[N]||0:(v=[E[N]],g=1);while((N++<S||v[0]!==void 0)&&w--)}return y[0]||y.shift(),p.e=c,ha(p,o?s+xi(p)+1:s)}})();function ZD(e,t){var r,n,a,s,o,l,c=0,u=0,d=e.constructor,h=d.precision;if(xi(e)>16)throw Error(Fk+xi(e));if(!e.s)return new d(Lo);for(Ca=!1,l=h,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Ff(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new d(Lo),d.precision=l;;){if(a=ha(a.times(e),l),r=r.times(++c),o=s.plus(Pu(a,r,l)),Rc(o.d).slice(0,l)===Rc(s.d).slice(0,l)){for(;u--;)s=ha(s.times(s),l);return d.precision=h,t==null?(Ca=!0,ha(s,h)):s}s=o}}function xi(e){for(var t=e.e*Na,r=e.d[0];r>=10;r/=10)t++;return t}function $5(e,t,r){if(t>e.LN10.sd())throw Ca=!0,r&&(e.precision=r),Error(bl+"LN10 precision limit exceeded");return ha(new e(e.LN10),t)}function Id(e){for(var t="";e--;)t+="0";return t}function Pm(e,t){var r,n,a,s,o,l,c,u,d,h=1,m=10,p=e,y=p.d,v=p.constructor,g=v.precision;if(p.s<1)throw Error(bl+(p.s?"NaN":"-Infinity"));if(p.eq(Lo))return new v(0);if(t==null?(Ca=!1,u=g):u=t,p.eq(10))return t==null&&(Ca=!0),$5(v,u);if(u+=m,v.precision=u,r=Rc(y),n=r.charAt(0),s=xi(p),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Rc(p.d),n=r.charAt(0),h++;s=xi(p),n>1?(p=new v("0."+r),s++):p=new v(n+"."+r.slice(1))}else return c=$5(v,u+2,g).times(s+""),p=Pm(new v(n+"."+r.slice(1)),u-m).plus(c),v.precision=g,t==null?(Ca=!0,ha(p,g)):p;for(l=o=p=Pu(p.minus(Lo),p.plus(Lo),u),d=ha(p.times(p),u),a=3;;){if(o=ha(o.times(d),u),c=l.plus(Pu(o,new v(a),u)),Rc(c.d).slice(0,u)===Rc(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus($5(v,u+2,g).times(s+""))),l=Pu(l,new v(h),u),v.precision=g,t==null?(Ca=!0,ha(l,g)):l;l=c,a+=2}}function YC(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=op(r/Na),e.d=[],n=(r+1)%Na,r<0&&(n+=Na),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Na;n<a;)e.d.push(+t.slice(n,n+=Na));t=t.slice(n),n=Na-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Ca&&(e.e>qv||e.e<-qv))throw Error(Fk+r)}else e.s=0,e.e=0,e.d=[0];return e}function ha(e,t,r){var n,a,s,o,l,c,u,d,h=e.d;for(o=1,s=h[0];s>=10;s/=10)o++;if(n=t-o,n<0)n+=Na,a=t,u=h[d=0];else{if(d=Math.ceil((n+1)/Na),s=h.length,d>=s)return e;for(u=s=h[d],o=1;s>=10;s/=10)o++;n%=Na,a=n-Na+o}if(r!==void 0&&(s=Ff(10,o-a-1),l=u/s%10|0,c=t<0||h[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/Ff(10,o-a):0:h[d-1])%10&1||r==(e.s<0?8:7))),t<1||!h[0])return c?(s=xi(e),h.length=1,t=t-s-1,h[0]=Ff(10,(Na-t%Na)%Na),e.e=op(-t/Na)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(n==0?(h.length=d,s=1,d--):(h.length=d+1,s=Ff(10,Na-n),h[d]=a>0?(u/Ff(10,o-a)%Ff(10,a)|0)*s:0),c)for(;;)if(d==0){(h[0]+=s)==Bi&&(h[0]=1,++e.e);break}else{if(h[d]+=s,h[d]!=Bi)break;h[d--]=0,s=1}for(n=h.length;h[--n]===0;)h.pop();if(Ca&&(e.e>qv||e.e<-qv))throw Error(Fk+xi(e));return e}function eL(e,t){var r,n,a,s,o,l,c,u,d,h,m=e.constructor,p=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),Ca?ha(t,p):t;if(c=e.d,h=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=h.length):(r=h,n=u,l=c.length),a=Math.max(Math.ceil(p/Na),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=h.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){d=c[a]<h[a];break}o=0}for(d&&(r=c,c=h,h=r,t.s=-t.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>o;){if(c[--a]<h[a]){for(s=a;s&&c[--s]===0;)c[s]=Bi-1;--c[s],c[a]+=Bi}c[a]-=h[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Ca?ha(t,p):t):new m(0)}function a0(e,t,r){var n,a=xi(e),s=Rc(e.d),o=s.length;return t?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+Id(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Id(-a-1)+s,r&&(n=r-o)>0&&(s+=Id(n))):a>=o?(s+=Id(a+1-o),r&&(n=r-a-1)>0&&(s=s+"."+Id(n))):((n=a+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(s+="."),s+=Id(n))),e.s<0?"-"+s:s}function JC(e,t){if(e.length>t)return e.length=t,!0}function tL(e){var t,r,n;function a(s){var o=this;if(!(o instanceof a))return new a(s);if(o.constructor=a,s instanceof a){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Jf+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return YC(o,s.toString())}else if(typeof s!="string")throw Error(Jf+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,$V.test(s))YC(o,s);else throw Error(Jf+s)}if(a.prototype=Nr,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=tL,a.config=a.set=zV,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function zV(e){if(!e||typeof e!="object")throw Error(bl+"Object expected");var t,r,n,a=["precision",1,sp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(op(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Jf+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Jf+r+": "+n);return this}var Mk=tL(qV);Lo=new Mk(1);const la=Mk;function HV(e){return KV(e)||GV(e)||VV(e)||WV()}function WV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VV(e,t){if(e){if(typeof e=="string")return S4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S4(e,t)}}function GV(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function KV(e){if(Array.isArray(e))return S4(e)}function S4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var XV=function(t){return t},rL={},nL=function(t){return t===rL},QC=function(t){return function r(){return arguments.length===0||arguments.length===1&&nL(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},YV=function e(t,r){return t===1?r:QC(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var o=a.filter(function(l){return l!==rL}).length;return o>=t?r.apply(void 0,a):e(t-o,QC(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(h){return nL(h)?c.shift():h});return r.apply(void 0,HV(d).concat(c))}))})},ty=function(t){return YV(t.length,t)},_4=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},JV=ty(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),QV=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return XV;var a=r.reverse(),s=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},A4=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},aL=function(t){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=t.apply(void 0,s)),n}};function ZV(e){var t;return e===0?t=1:t=Math.floor(new la(e).abs().log(10).toNumber())+1,t}function eG(e,t,r){for(var n=new la(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var tG=ty(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),rG=ty(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),nG=ty(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const ry={rangeStep:eG,getDigitCount:ZV,interpolateNumber:tG,uninterpolateNumber:rG,uninterpolateTruncation:nG};function E4(e){return sG(e)||iG(e)||iL(e)||aG()}function aG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iG(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function sG(e){if(Array.isArray(e))return C4(e)}function Im(e,t){return cG(e)||lG(e,t)||iL(e,t)||oG()}function oG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iL(e,t){if(e){if(typeof e=="string")return C4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C4(e,t)}}function C4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lG(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,s=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,s=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw s}}return r}}function cG(e){if(Array.isArray(e))return e}function sL(e){var t=Im(e,2),r=t[0],n=t[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function oL(e,t,r){if(e.lte(0))return new la(0);var n=ry.getDigitCount(e.toNumber()),a=new la(10).pow(n),s=e.div(a),o=n!==1?.05:.1,l=new la(Math.ceil(s.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new la(Math.ceil(c))}function uG(e,t,r){var n=1,a=new la(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new la(10).pow(ry.getDigitCount(e)-1),a=new la(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new la(Math.floor(e)))}else e===0?a=new la(Math.floor((t-1)/2)):r||(a=new la(Math.floor(e)));var o=Math.floor((t-1)/2),l=QV(JV(function(c){return a.add(new la(c-o).mul(n)).toNumber()}),_4);return l(0,t)}function lL(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new la(0),tickMin:new la(0),tickMax:new la(0)};var s=oL(new la(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new la(0):(o=new la(e).add(t).div(2),o=o.sub(new la(o).mod(s)));var l=Math.ceil(o.sub(e).div(s).toNumber()),c=Math.ceil(new la(t).sub(o).div(s).toNumber()),u=l+c+1;return u>r?lL(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:s,tickMin:o.sub(new la(l).mul(s)),tickMax:o.add(new la(c).mul(s))})}function dG(e){var t=Im(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=sL([r,n]),c=Im(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var h=d===1/0?[u].concat(E4(_4(0,a-1).map(function(){return 1/0}))):[].concat(E4(_4(0,a-1).map(function(){return-1/0})),[d]);return r>n?A4(h):h}if(u===d)return uG(u,a,s);var m=lL(u,d,o,s),p=m.step,y=m.tickMin,v=m.tickMax,g=ry.rangeStep(y,v.add(new la(.1).mul(p)),p);return r>n?A4(g):g}function fG(e,t){var r=Im(e,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=sL([n,a]),l=Im(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),h=oL(new la(u).sub(c).div(d-1),s,0),m=[].concat(E4(ry.rangeStep(new la(c),new la(u).sub(new la(.99).mul(h)),h)),[u]);return n>a?A4(m):m}var hG=aL(dG),pG=aL(fG),mG="Invariant failed";function i0(e,t){throw new Error(mG)}var xG=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ih(e){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ih(e)}function $v(){return $v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$v.apply(this,arguments)}function gG(e,t){return wG(e)||bG(e,t)||yG(e,t)||vG()}function vG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yG(e,t){if(e){if(typeof e=="string")return ZC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZC(e,t)}}function ZC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function wG(e){if(Array.isArray(e))return e}function NG(e,t){if(e==null)return{};var r=jG(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function kG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dL(n.key),n)}}function _G(e,t,r){return t&&SG(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function AG(e,t,r){return t=zv(t),EG(e,cL()?Reflect.construct(t,r||[],zv(e).constructor):t.apply(e,r))}function EG(e,t){if(t&&(Ih(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CG(e)}function CG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cL=function(){return!!e})()}function zv(e){return zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zv(e)}function TG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T4(e,t)}function T4(e,t){return T4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},T4(e,t)}function uL(e,t,r){return t=dL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dL(e){var t=OG(e,"string");return Ih(t)=="symbol"?t:t+""}function OG(e,t){if(Ih(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ih(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ny=(function(e){function t(){return kG(this,t),AG(this,t,arguments)}return TG(t,e),_G(t,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,h=n.yAxis,m=NG(n,xG),p=bn(m,!1);this.props.direction==="x"&&d.type!=="number"&&i0();var y=c.map(function(v){var g=u(v,l),b=g.x,w=g.y,j=g.value,N=g.errorVal;if(!N)return null;var S=[],P,A;if(Array.isArray(N)){var O=gG(N,2);P=O[0],A=O[1]}else P=A=N;if(s==="vertical"){var M=d.scale,F=w+a,E=F+o,T=F-o,I=M(j-P),z=M(j+A);S.push({x1:z,y1:E,x2:z,y2:T}),S.push({x1:I,y1:F,x2:z,y2:F}),S.push({x1:I,y1:E,x2:I,y2:T})}else if(s==="horizontal"){var Q=h.scale,te=b+a,J=te-o,ie=te+o,X=Q(j-P),Z=Q(j+A);S.push({x1:J,y1:Z,x2:ie,y2:Z}),S.push({x1:te,y1:X,x2:te,y2:Z}),S.push({x1:J,y1:X,x2:ie,y2:X})}return Qe.createElement(Fa,$v({className:"recharts-errorBar",key:"bar-".concat(S.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},p),S.map(function(q){return Qe.createElement("line",$v({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return Qe.createElement(Fa,{className:"recharts-errorBars"},y)}}])})(Qe.Component);uL(ny,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});uL(ny,"displayName","ErrorBar");function Dm(e){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dm(e)}function eT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function If(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eT(Object(r),!0).forEach(function(n){PG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PG(e,t,r){return t=IG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IG(e){var t=DG(e,"string");return Dm(t)=="symbol"?t:t+""}function DG(e,t){if(Dm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fL=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,s=t.legendContent,o=Po(r,hh);if(!o)return null;var l=hh.defaultProps,c=l!==void 0?If(If({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(n||[]).reduce(function(d,h){var m=h.item,p=h.props,y=p.sectors||p.data||[];return d.concat(y.map(function(v){return{type:o.props.iconType||m.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):u=(n||[]).map(function(d){var h=d.item,m=h.type.defaultProps,p=m!==void 0?If(If({},m),h.props):{},y=p.dataKey,v=p.name,g=p.legendType,b=p.hide;return{inactive:b,dataKey:y,type:c.iconType||g||"square",color:Rk(h),value:v||y,payload:p}}),If(If(If({},c),hh.getWithHeight(o,a)),{},{payload:u,item:o})};function Lm(e){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lm(e)}function tT(e){return RG(e)||MG(e)||FG(e)||LG()}function LG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FG(e,t){if(e){if(typeof e=="string")return O4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O4(e,t)}}function MG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function RG(e){if(Array.isArray(e))return O4(e)}function O4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Va(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rT(Object(r),!0).forEach(function(n){mh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mh(e,t,r){return t=BG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BG(e){var t=UG(e,"string");return Lm(t)=="symbol"?t:t+""}function UG(e,t){if(Lm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bo(e,t,r){return Sn(e)||Sn(t)?r:_i(t)?vl(e,t,r):mn(t)?t(e):r}function nm(e,t,r,n){var a=BV(e,function(l){return Bo(l,t)});if(r==="number"){var s=a.filter(function(l){return nr(l)||parseFloat(l)});return s.length?[ey(s),Fd(s)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!Sn(l)}):a;return o.map(function(l){return _i(l)||l instanceof Date?l:""})}var qG=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n?.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,h=a[u].coordinate,m=u>=l-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(sc(h-d)!==sc(m-h)){var y=[];if(sc(m-h)===sc(c[1]-c[0])){p=m;var v=h+c[1]-c[0];y[0]=Math.min(v,(v+d)/2),y[1]=Math.max(v,(v+d)/2)}else{p=d;var g=m+c[1]-c[0];y[0]=Math.min(h,(g+h)/2),y[1]=Math.max(h,(g+h)/2)}var b=[Math.min(h,(p+h)/2),Math.max(h,(p+h)/2)];if(t>b[0]&&t<=b[1]||t>=y[0]&&t<=y[1]){o=a[u].index;break}}else{var w=Math.min(d,m),j=Math.max(d,m);if(t>(w+h)/2&&t<=(j+h)/2){o=a[u].index;break}}}else for(var N=0;N<l;N++)if(N===0&&t<=(n[N].coordinate+n[N+1].coordinate)/2||N>0&&N<l-1&&t>(n[N].coordinate+n[N-1].coordinate)/2&&t<=(n[N].coordinate+n[N+1].coordinate)/2||N===l-1&&t>(n[N].coordinate+n[N-1].coordinate)/2){o=n[N].index;break}return o},Rk=function(t){var r,n=t,a=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Va(Va({},t.type.defaultProps),t.props):t.props,o=s.stroke,l=s.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},$G=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var o={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,h=Object.keys(d),m=0,p=h.length;m<p;m++){var y=d[h[m]],v=y.items,g=y.cateAxisId,b=v.filter(function(A){return Tu(A.type).indexOf("Bar")>=0});if(b&&b.length){var w=b[0].type.defaultProps,j=w!==void 0?Va(Va({},w),b[0].props):b[0].props,N=j.barSize,S=j[g];o[S]||(o[S]=[]);var P=Sn(N)?r:N;o[S].push({item:b[0],stackList:b.slice(1),barSize:Sn(P)?void 0:n0(P,n,0)})}}return o},zG=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,s=t.sizeList,o=s===void 0?[]:s,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=n0(r,a,0,!0),d,h=[];if(o[0].barSize===+o[0].barSize){var m=!1,p=a/c,y=o.reduce(function(N,S){return N+S.barSize||0},0);y+=(c-1)*u,y>=a&&(y-=(c-1)*u,u=0),y>=a&&p>0&&(m=!0,p*=.9,y=c*p);var v=(a-y)/2>>0,g={offset:v-u,size:0};d=o.reduce(function(N,S){var P={item:S.item,position:{offset:g.offset+g.size+u,size:m?p:S.barSize}},A=[].concat(tT(N),[P]);return g=A[A.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(O){A.push({item:O,position:g})}),A},h)}else{var b=n0(n,a,0,!0);a-2*b-(c-1)*u<=0&&(u=0);var w=(a-2*b-(c-1)*u)/c;w>1&&(w>>=0);var j=l===+l?Math.min(w,l):w;d=o.reduce(function(N,S,P){var A=[].concat(tT(N),[{item:S.item,position:{offset:b+(w+u)*P+(w-j)/2,size:j}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(O){A.push({item:O,position:A[A.length-1].position})}),A},h)}return d},HG=function(t,r,n,a){var s=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=fL({children:s,legendWidth:c});if(u){var d=a||{},h=d.width,m=d.height,p=u.align,y=u.verticalAlign,v=u.layout;if((v==="vertical"||v==="horizontal"&&y==="middle")&&p!=="center"&&nr(t[p]))return Va(Va({},t),{},mh({},p,t[p]+(h||0)));if((v==="horizontal"||v==="vertical"&&p==="center")&&y!=="middle"&&nr(t[y]))return Va(Va({},t),{},mh({},y,t[y]+(m||0)))}return t},WG=function(t,r,n){return Sn(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},hL=function(t,r,n,a,s){var o=r.props.children,l=uc(o,ny).filter(function(u){return WG(a,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var h=Bo(d,n);if(Sn(h))return u;var m=Array.isArray(h)?[ey(h),Fd(h)]:[h,h],p=c.reduce(function(y,v){var g=Bo(d,v,0),b=m[0]-Math.abs(Array.isArray(g)?g[0]:g),w=m[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(b,y[0]),Math.max(w,y[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},VG=function(t,r,n,a,s){var o=r.map(function(l){return hL(t,l,n,s,a)}).filter(function(l){return!Sn(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},pL=function(t,r,n,a,s){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&hL(t,c,u,a)||nm(t,u,n,s)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,h=u.length;d<h;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},mL=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},xL=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var s,o,l=t.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(o=!0),c.coordinate});return s||l.push(r),o||l.push(n),l},_u=function(t,r,n){if(!t)return null;var a=t.scale,s=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&l?.length>=2?sc(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(h){var m=s?s.indexOf(h):h;return{coordinate:a(m)+u,value:h,offset:u}});return d.filter(function(h){return!rp(h.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(h,m){return{coordinate:a(h)+u,value:h,index:m,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(h){return{coordinate:a(h)+u,value:h,offset:u}}):a.domain().map(function(h,m){return{coordinate:a(h)+u,value:s?s[h]:h,index:m,offset:u}})},z5=new WeakMap,Eg=function(t,r){if(typeof r!="function")return t;z5.has(t)||z5.set(t,new WeakMap);var n=z5.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},GG=function(t,r,n){var a=t.scale,s=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:_m(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Mv(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:rm(),realScaleType:"point"}:s==="category"?{scale:_m(),realScaleType:"band"}:{scale:Mv(),realScaleType:"linear"};if(vx(a)){var c="scale".concat(q1(a));return{scale:(qC[c]||rm)(),realScaleType:qC[c]?c:"point"}}return mn(a)?{scale:a}:{scale:rm(),realScaleType:"point"}},nT=1e-4,KG=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),s=Math.min(a[0],a[1])-nT,o=Math.max(a[0],a[1])+nT,l=t(r[0]),c=t(r[n-1]);(l<s||l>o||c<s||c>o)&&t.domain([r[0],r[n-1]])}},XG=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},YG=function(t,r){if(!r||r.length!==2||!nr(r[0])||!nr(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!nr(t[0])||t[0]<n)&&(s[0]=n),(!nr(t[1])||t[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<n&&(s[1]=n),s},JG=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,o=0,l=0;l<r;++l){var c=rp(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},QG=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,o=0;o<r;++o){var l=rp(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},ZG={sign:JG,expand:FU,none:Sh,silhouette:MU,wiggle:RU,positive:QG},eK=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),s=ZG[n],o=LU().keys(a).value(function(l,c){return+Bo(l,c,0)}).order(o4).offset(s);return o(t)},tK=function(t,r,n,a,s,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(h,m){var p,y=(p=m.type)!==null&&p!==void 0&&p.defaultProps?Va(Va({},m.type.defaultProps),m.props):m.props,v=y.stackId,g=y.hide;if(g)return h;var b=y[n],w=h[b]||{hasStack:!1,stackGroups:{}};if(_i(v)){var j=w.stackGroups[v]||{numericAxisId:n,cateAxisId:a,items:[]};j.items.push(m),w.hasStack=!0,w.stackGroups[v]=j}else w.stackGroups[yx("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[m]};return Va(Va({},h),{},mh({},b,w))},c),d={};return Object.keys(u).reduce(function(h,m){var p=u[m];if(p.hasStack){var y={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(v,g){var b=p.stackGroups[g];return Va(Va({},v),{},mh({},g,{numericAxisId:n,cateAxisId:a,items:b.items,stackedData:eK(t,b.items,s)}))},y)}return Va(Va({},h),{},mh({},m,p))},d)},rK=function(t,r){var n=r.realScaleType,a=r.type,s=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=hG(u,s,l);return t.domain([ey(d),Fd(d)]),{niceTicks:d}}if(s&&a==="number"){var h=t.domain(),m=pG(h,s,l);return{niceTicks:m}}return null};function aT(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,s=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Sn(a[t.dataKey])){var l=xv(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=Bo(a,Sn(o)?t.dataKey:o);return Sn(c)?null:t.scale(c)}var iT=function(t){var r=t.axis,n=t.ticks,a=t.offset,s=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=Bo(o,r.dataKey,r.domain[l]);return Sn(c)?null:r.scale(c)-s/2+a},nK=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return a<=0&&s>=0?0:s<0?s:a}return n[0]},aK=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Va(Va({},t.type.defaultProps),t.props):t.props,s=a.stackId;if(_i(s)){var o=r[s];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},iK=function(t){return t.reduce(function(r,n){return[ey(n.concat([r[0]]).filter(nr)),Fd(n.concat([r[1]]).filter(nr))]},[1/0,-1/0])},gL=function(t,r,n){return Object.keys(t).reduce(function(a,s){var o=t[s],l=o.stackedData,c=l.reduce(function(u,d){var h=iK(d.slice(r,n+1));return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},sT=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,oT=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,P4=function(t,r,n){if(mn(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(nr(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(sT.test(t[0])){var s=+sT.exec(t[0])[1];a[0]=r[0]-s}else mn(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(nr(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(oT.test(t[1])){var o=+oT.exec(t[1])[1];a[1]=r[1]+o}else mn(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Hv=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var s=fk(r,function(h){return h.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},lT=function(t,r,n){return!t||!t.length||Om(t,vl(n,"type.defaultProps.domain"))?r:t},vL=function(t,r){var n=t.type.defaultProps?Va(Va({},t.type.defaultProps),t.props):t.props,a=n.dataKey,s=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Va(Va({},bn(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:s||a,color:Rk(t),value:Bo(r,a),type:c,payload:r,chartType:u,hide:d})};function Fm(e){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fm(e)}function cT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cT(Object(r),!0).forEach(function(n){sK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sK(e,t,r){return t=oK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oK(e){var t=lK(e,"string");return Fm(t)=="symbol"?t:t+""}function lK(e,t){if(Fm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wv=Math.PI/180,cK=function(t){return t*180/Math.PI},cs=function(t,r,n,a){return{x:t+Math.cos(-Wv*a)*n,y:r+Math.sin(-Wv*a)*n}},uK=function(t,r){var n=t.x,a=t.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-o,2))},dK=function(t,r){var n=t.x,a=t.y,s=r.cx,o=r.cy,l=uK({x:n,y:a},{x:s,y:o});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:cK(u),angleInRadian:u}},fK=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(a,s);return{startAngle:r-o*360,endAngle:n-o*360}},hK=function(t,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(s,o);return t+l*360},dT=function(t,r){var n=t.x,a=t.y,s=dK({x:n,y:a},r),o=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=fK(r),h=d.startAngle,m=d.endAngle,p=l,y;if(h<=m){for(;p>m;)p-=360;for(;p<h;)p+=360;y=p>=h&&p<=m}else{for(;p>h;)p-=360;for(;p<m;)p+=360;y=p>=m&&p<=h}return y?uT(uT({},r),{},{radius:o,angle:hK(p,r)}):null};function Mm(e){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mm(e)}var pK=["offset"];function mK(e){return yK(e)||vK(e)||gK(e)||xK()}function xK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gK(e,t){if(e){if(typeof e=="string")return I4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I4(e,t)}}function vK(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yK(e){if(Array.isArray(e))return I4(e)}function I4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bK(e,t){if(e==null)return{};var r=wK(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ni(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fT(Object(r),!0).forEach(function(n){NK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NK(e,t,r){return t=jK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jK(e){var t=kK(e,"string");return Mm(t)=="symbol"?t:t+""}function kK(e,t){if(Mm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rm(){return Rm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rm.apply(this,arguments)}var SK=function(t){var r=t.value,n=t.formatter,a=Sn(t.children)?r:t.children;return mn(n)?n(a):a},_K=function(t,r){var n=sc(r-t),a=Math.min(Math.abs(r-t),360);return n*a},AK=function(t,r,n){var a=t.position,s=t.viewBox,o=t.offset,l=t.className,c=s,u=c.cx,d=c.cy,h=c.innerRadius,m=c.outerRadius,p=c.startAngle,y=c.endAngle,v=c.clockWise,g=(h+m)/2,b=_K(p,y),w=b>=0?1:-1,j,N;a==="insideStart"?(j=p+w*o,N=v):a==="insideEnd"?(j=y-w*o,N=!v):a==="end"&&(j=y+w*o,N=v),N=b<=0?N:!N;var S=cs(u,d,g,j),P=cs(u,d,g,j+(N?1:-1)*359),A="M".concat(S.x,",").concat(S.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(N?0:1,`,
    `).concat(P.x,",").concat(P.y),O=Sn(t.id)?yx("recharts-radial-line-"):t.id;return Qe.createElement("text",Rm({},n,{dominantBaseline:"central",className:Hn("recharts-radial-bar-label",l)}),Qe.createElement("defs",null,Qe.createElement("path",{id:O,d:A})),Qe.createElement("textPath",{xlinkHref:"#".concat(O)},r))},EK=function(t){var r=t.viewBox,n=t.offset,a=t.position,s=r,o=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,h=s.endAngle,m=(d+h)/2;if(a==="outside"){var p=cs(o,l,u+n,m),y=p.x,v=p.y;return{x:y,y:v,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var g=(c+u)/2,b=cs(o,l,g,m),w=b.x,j=b.y;return{x:w,y:j,textAnchor:"middle",verticalAnchor:"middle"}},CK=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,s=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,h=d>=0?1:-1,m=h*a,p=h>0?"end":"start",y=h>0?"start":"end",v=u>=0?1:-1,g=v*a,b=v>0?"end":"start",w=v>0?"start":"end";if(s==="top"){var j={x:l+u/2,y:c-h*a,textAnchor:"middle",verticalAnchor:p};return Ni(Ni({},j),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var N={x:l+u/2,y:c+d+m,textAnchor:"middle",verticalAnchor:y};return Ni(Ni({},N),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(s==="left"){var S={x:l-g,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return Ni(Ni({},S),n?{width:Math.max(S.x-n.x,0),height:d}:{})}if(s==="right"){var P={x:l+u+g,y:c+d/2,textAnchor:w,verticalAnchor:"middle"};return Ni(Ni({},P),n?{width:Math.max(n.x+n.width-P.x,0),height:d}:{})}var A=n?{width:u,height:d}:{};return s==="insideLeft"?Ni({x:l+g,y:c+d/2,textAnchor:w,verticalAnchor:"middle"},A):s==="insideRight"?Ni({x:l+u-g,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},A):s==="insideTop"?Ni({x:l+u/2,y:c+m,textAnchor:"middle",verticalAnchor:y},A):s==="insideBottom"?Ni({x:l+u/2,y:c+d-m,textAnchor:"middle",verticalAnchor:p},A):s==="insideTopLeft"?Ni({x:l+g,y:c+m,textAnchor:w,verticalAnchor:y},A):s==="insideTopRight"?Ni({x:l+u-g,y:c+m,textAnchor:b,verticalAnchor:y},A):s==="insideBottomLeft"?Ni({x:l+g,y:c+d-m,textAnchor:w,verticalAnchor:p},A):s==="insideBottomRight"?Ni({x:l+u-g,y:c+d-m,textAnchor:b,verticalAnchor:p},A):tp(s)&&(nr(s.x)||Uf(s.x))&&(nr(s.y)||Uf(s.y))?Ni({x:l+n0(s.x,u),y:c+n0(s.y,d),textAnchor:"end",verticalAnchor:"end"},A):Ni({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},A)},TK=function(t){return"cx"in t&&nr(t.cx)};function As(e){var t=e.offset,r=t===void 0?5:t,n=bK(e,pK),a=Ni({offset:r},n),s=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,h=d===void 0?"":d,m=a.textBreakAll;if(!s||Sn(l)&&Sn(c)&&!V.isValidElement(u)&&!mn(u))return null;if(V.isValidElement(u))return V.cloneElement(u,a);var p;if(mn(u)){if(p=V.createElement(u,a),V.isValidElement(p))return p}else p=SK(a);var y=TK(s),v=bn(a,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return AK(a,p,v);var g=y?EK(a):CK(a);return Qe.createElement(Cv,Rm({className:Hn("recharts-label",h)},v,g,{breakAll:m}),p)}As.displayName="Label";var yL=function(t){var r=t.cx,n=t.cy,a=t.angle,s=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,h=t.x,m=t.y,p=t.top,y=t.left,v=t.width,g=t.height,b=t.clockWise,w=t.labelViewBox;if(w)return w;if(nr(v)&&nr(g)){if(nr(h)&&nr(m))return{x:h,y:m,width:v,height:g};if(nr(p)&&nr(y))return{x:p,y,width:v,height:g}}return nr(h)&&nr(m)?{x:h,y:m,width:0,height:0}:nr(r)&&nr(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:b}:t.viewBox?t.viewBox:{}},OK=function(t,r){return t?t===!0?Qe.createElement(As,{key:"label-implicit",viewBox:r}):_i(t)?Qe.createElement(As,{key:"label-implicit",viewBox:r,value:t}):V.isValidElement(t)?t.type===As?V.cloneElement(t,{key:"label-implicit",viewBox:r}):Qe.createElement(As,{key:"label-implicit",content:t,viewBox:r}):mn(t)?Qe.createElement(As,{key:"label-implicit",content:t,viewBox:r}):tp(t)?Qe.createElement(As,Rm({viewBox:r},t,{key:"label-implicit"})):null:null},PK=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,s=yL(t),o=uc(a,As).map(function(c,u){return V.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return o;var l=OK(t.label,r||s);return[l].concat(mK(o))};As.parseViewBox=yL;As.renderCallByParent=PK;var H5,hT;function IK(){if(hT)return H5;hT=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return H5=e,H5}var DK=IK();const LK=oa(DK);function Bm(e){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bm(e)}var FK=["valueAccessor"],MK=["data","dataKey","clockWise","id","textBreakAll"];function RK(e){return $K(e)||qK(e)||UK(e)||BK()}function BK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UK(e,t){if(e){if(typeof e=="string")return D4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D4(e,t)}}function qK(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $K(e){if(Array.isArray(e))return D4(e)}function D4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Vv(){return Vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vv.apply(this,arguments)}function pT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pT(Object(r),!0).forEach(function(n){zK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zK(e,t,r){return t=HK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HK(e){var t=WK(e,"string");return Bm(t)=="symbol"?t:t+""}function WK(e,t){if(Bm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xT(e,t){if(e==null)return{};var r=VK(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var GK=function(t){return Array.isArray(t.value)?LK(t.value):t.value};function Hd(e){var t=e.valueAccessor,r=t===void 0?GK:t,n=xT(e,FK),a=n.data,s=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=xT(n,MK);return!a||!a.length?null:Qe.createElement(Fa,{className:"recharts-label-list"},a.map(function(d,h){var m=Sn(s)?r(d,h):Bo(d&&d.payload,s),p=Sn(l)?{}:{id:"".concat(l,"-").concat(h)};return Qe.createElement(As,Vv({},bn(d,!0),u,p,{parentViewBox:d.parentViewBox,value:m,textBreakAll:c,viewBox:As.parseViewBox(Sn(o)?d:mT(mT({},d),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}Hd.displayName="LabelList";function KK(e,t){return e?e===!0?Qe.createElement(Hd,{key:"labelList-implicit",data:t}):Qe.isValidElement(e)||mn(e)?Qe.createElement(Hd,{key:"labelList-implicit",data:t,content:e}):tp(e)?Qe.createElement(Hd,Vv({data:t},e,{key:"labelList-implicit"})):null:null}function XK(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=uc(n,Hd).map(function(o,l){return V.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var s=KK(e.label,t);return[s].concat(RK(a))}Hd.renderCallByParent=XK;function Um(e){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Um(e)}function L4(){return L4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L4.apply(this,arguments)}function gT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gT(Object(r),!0).forEach(function(n){YK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YK(e,t,r){return t=JK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JK(e){var t=QK(e,"string");return Um(t)=="symbol"?t:t+""}function QK(e,t){if(Um(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZK=function(t,r){var n=sc(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Cg=function(t){var r=t.cx,n=t.cy,a=t.radius,s=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,h=Math.asin(c/d)/Wv,m=u?s:s+o*h,p=cs(r,n,d,m),y=cs(r,n,a,m),v=u?s-o*h:s,g=cs(r,n,d*Math.cos(h*Wv),v);return{center:p,circleTangency:y,lineTangency:g,theta:h}},bL=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,o=t.startAngle,l=t.endAngle,c=ZK(o,l),u=o+c,d=cs(r,n,s,o),h=cs(r,n,s,u),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var p=cs(r,n,a,o),y=cs(r,n,a,u);m+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else m+="L ".concat(r,",").concat(n," Z");return m},eX=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,h=sc(d-u),m=Cg({cx:r,cy:n,radius:s,angle:u,sign:h,cornerRadius:o,cornerIsExternal:c}),p=m.circleTangency,y=m.lineTangency,v=m.theta,g=Cg({cx:r,cy:n,radius:s,angle:d,sign:-h,cornerRadius:o,cornerIsExternal:c}),b=g.circleTangency,w=g.lineTangency,j=g.theta,N=c?Math.abs(u-d):Math.abs(u-d)-v-j;if(N<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):bL({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d});var S="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(N>180),",").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
  `);if(a>0){var P=Cg({cx:r,cy:n,radius:a,angle:u,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),A=P.circleTangency,O=P.lineTangency,M=P.theta,F=Cg({cx:r,cy:n,radius:a,angle:d,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),E=F.circleTangency,T=F.lineTangency,I=F.theta,z=c?Math.abs(u-d):Math.abs(u-d)-M-I;if(z<0&&o===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(z>180),",").concat(+(h>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(O.x,",").concat(O.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},tX={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},wL=function(t){var r=vT(vT({},tX),t),n=r.cx,a=r.cy,s=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,h=r.endAngle,m=r.className;if(o<s||d===h)return null;var p=Hn("recharts-sector",m),y=o-s,v=n0(l,y,0,!0),g;return v>0&&Math.abs(d-h)<360?g=eX({cx:n,cy:a,innerRadius:s,outerRadius:o,cornerRadius:Math.min(v,y/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:h}):g=bL({cx:n,cy:a,innerRadius:s,outerRadius:o,startAngle:d,endAngle:h}),Qe.createElement("path",L4({},bn(r,!0),{className:p,d:g,role:"img"}))};function qm(e){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qm(e)}function F4(){return F4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F4.apply(this,arguments)}function yT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yT(Object(r),!0).forEach(function(n){rX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rX(e,t,r){return t=nX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nX(e){var t=aX(e,"string");return qm(t)=="symbol"?t:t+""}function aX(e,t){if(qm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wT={curveBasisClosed:kU,curveBasisOpen:SU,curveBasis:jU,curveBumpX:cU,curveBumpY:uU,curveLinearClosed:_U,curveLinear:z1,curveMonotoneX:AU,curveMonotoneY:EU,curveNatural:CU,curveStep:TU,curveStepAfter:PU,curveStepBefore:OU},Tg=function(t){return t.x===+t.x&&t.y===+t.y},Up=function(t){return t.x},qp=function(t){return t.y},iX=function(t,r){if(mn(t))return t;var n="curve".concat(q1(t));return(n==="curveMonotone"||n==="curveBump")&&r?wT["".concat(n).concat(r==="vertical"?"Y":"X")]:wT[n]||z1},sX=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,s=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=iX(n,l),h=u?s.filter(function(v){return Tg(v)}):s,m;if(Array.isArray(o)){var p=u?o.filter(function(v){return Tg(v)}):o,y=h.map(function(v,g){return bT(bT({},v),{},{base:p[g]})});return l==="vertical"?m=wg().y(qp).x1(Up).x0(function(v){return v.base.x}):m=wg().x(Up).y1(qp).y0(function(v){return v.base.y}),m.defined(Tg).curve(d),m(y)}return l==="vertical"&&nr(o)?m=wg().y(qp).x1(Up).x0(o):nr(o)?m=wg().x(Up).y1(qp).y0(o):m=SI().x(Up).y(qp),m.defined(Tg).curve(d),m(h)},am=function(t){var r=t.className,n=t.points,a=t.path,s=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?sX(t):a;return Qe.createElement("path",F4({},bn(t,!1),gv(t),{className:Hn("recharts-curve",r),d:o,ref:s}))},W5={exports:{}},V5,NT;function oX(){if(NT)return V5;NT=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return V5=e,V5}var G5,jT;function lX(){if(jT)return G5;jT=1;var e=oX();function t(){}function r(){}return r.resetWarningCache=t,G5=function(){function n(o,l,c,u,d,h){if(h!==e){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}n.isRequired=n;function a(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:t};return s.PropTypes=s,s},G5}var kT;function cX(){return kT||(kT=1,W5.exports=lX()()),W5.exports}var uX=cX();const ea=oa(uX),{getOwnPropertyNames:dX,getOwnPropertySymbols:fX}=Object,{hasOwnProperty:hX}=Object.prototype;function K5(e,t){return function(n,a,s){return e(n,a,s)&&t(n,a,s)}}function Og(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);const{cache:s}=a,o=s.get(r),l=s.get(n);if(o&&l)return o===n&&l===r;s.set(r,n),s.set(n,r);const c=e(r,n,a);return s.delete(r),s.delete(n),c}}function pX(e){return e?.[Symbol.toStringTag]}function ST(e){return dX(e).concat(fX(e))}const mX=Object.hasOwn||((e,t)=>hX.call(e,t));function v0(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const xX="__v",gX="__o",vX="_owner",{getOwnPropertyDescriptor:_T,keys:AT}=Object;function yX(e,t){return e.byteLength===t.byteLength&&Gv(new Uint8Array(e),new Uint8Array(t))}function bX(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function wX(e,t){return e.byteLength===t.byteLength&&Gv(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function NX(e,t){return v0(e.getTime(),t.getTime())}function jX(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function kX(e,t){return e===t}function ET(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),s=e.entries();let o,l,c=0;for(;(o=s.next())&&!o.done;){const u=t.entries();let d=!1,h=0;for(;(l=u.next())&&!l.done;){if(a[h]){h++;continue}const m=o.value,p=l.value;if(r.equals(m[0],p[0],c,h,e,t,r)&&r.equals(m[1],p[1],m[0],p[0],e,t,r)){d=a[h]=!0;break}h++}if(!d)return!1;c++}return!0}const SX=v0;function _X(e,t,r){const n=AT(e);let a=n.length;if(AT(t).length!==a)return!1;for(;a-- >0;)if(!NL(e,t,r,n[a]))return!1;return!0}function $p(e,t,r){const n=ST(e);let a=n.length;if(ST(t).length!==a)return!1;let s,o,l;for(;a-- >0;)if(s=n[a],!NL(e,t,r,s)||(o=_T(e,s),l=_T(t,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function AX(e,t){return v0(e.valueOf(),t.valueOf())}function EX(e,t){return e.source===t.source&&e.flags===t.flags}function CT(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),s=e.values();let o,l;for(;(o=s.next())&&!o.done;){const c=t.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function Gv(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function CX(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function NL(e,t,r,n){return(n===vX||n===gX||n===xX)&&(e.$$typeof||t.$$typeof)?!0:mX(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const TX="[object ArrayBuffer]",OX="[object Arguments]",PX="[object Boolean]",IX="[object DataView]",DX="[object Date]",LX="[object Error]",FX="[object Map]",MX="[object Number]",RX="[object Object]",BX="[object RegExp]",UX="[object Set]",qX="[object String]",$X={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},zX="[object URL]",HX=Object.prototype.toString;function WX({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:a,areFunctionsEqual:s,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:h,areTypedArraysEqual:m,areUrlsEqual:p,unknownTagComparators:y}){return function(g,b,w){if(g===b)return!0;if(g==null||b==null)return!1;const j=typeof g;if(j!==typeof b)return!1;if(j!=="object")return j==="number"?l(g,b,w):j==="function"?s(g,b,w):!1;const N=g.constructor;if(N!==b.constructor)return!1;if(N===Object)return c(g,b,w);if(Array.isArray(g))return t(g,b,w);if(N===Date)return n(g,b,w);if(N===RegExp)return d(g,b,w);if(N===Map)return o(g,b,w);if(N===Set)return h(g,b,w);const S=HX.call(g);if(S===DX)return n(g,b,w);if(S===BX)return d(g,b,w);if(S===FX)return o(g,b,w);if(S===UX)return h(g,b,w);if(S===RX)return typeof g.then!="function"&&typeof b.then!="function"&&c(g,b,w);if(S===zX)return p(g,b,w);if(S===LX)return a(g,b,w);if(S===OX)return c(g,b,w);if($X[S])return m(g,b,w);if(S===TX)return e(g,b,w);if(S===IX)return r(g,b,w);if(S===PX||S===MX||S===qX)return u(g,b,w);if(y){let P=y[S];if(!P){const A=pX(g);A&&(P=y[A])}if(P)return P(g,b,w)}return!1}}function VX({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:yX,areArraysEqual:r?$p:bX,areDataViewsEqual:wX,areDatesEqual:NX,areErrorsEqual:jX,areFunctionsEqual:kX,areMapsEqual:r?K5(ET,$p):ET,areNumbersEqual:SX,areObjectsEqual:r?$p:_X,arePrimitiveWrappersEqual:AX,areRegExpsEqual:EX,areSetsEqual:r?K5(CT,$p):CT,areTypedArraysEqual:r?K5(Gv,$p):Gv,areUrlsEqual:CX,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const a=Og(n.areArraysEqual),s=Og(n.areMapsEqual),o=Og(n.areObjectsEqual),l=Og(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return n}function GX(e){return function(t,r,n,a,s,o,l){return e(t,r,l)}}function KX({circular:e,comparator:t,createState:r,equals:n,strict:a}){if(r)return function(l,c){const{cache:u=e?new WeakMap:void 0,meta:d}=r();return t(l,c,{cache:u,equals:n,meta:d,strict:a})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const s={cache:void 0,equals:n,meta:void 0,strict:a};return function(l,c){return t(l,c,s)}}const XX=sf();sf({strict:!0});sf({circular:!0});sf({circular:!0,strict:!0});sf({createInternalComparator:()=>v0});sf({strict:!0,createInternalComparator:()=>v0});sf({circular:!0,createInternalComparator:()=>v0});sf({circular:!0,createInternalComparator:()=>v0,strict:!0});function sf(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:a=!1}=e,s=VX(e),o=WX(s),l=r?r(o):GX(o);return KX({circular:t,comparator:o,createState:n,equals:l,strict:a})}function YX(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function TT(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>t?(e(s),r=-1):YX(a)};requestAnimationFrame(n)}function M4(e){"@babel/helpers - typeof";return M4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M4(e)}function JX(e){return tY(e)||eY(e)||ZX(e)||QX()}function QX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZX(e,t){if(e){if(typeof e=="string")return OT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OT(e,t)}}function OT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tY(e){if(Array.isArray(e))return e}function rY(){var e={},t=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,l=JX(o),c=l[0],u=l.slice(1);if(typeof c=="number"){TT(a.bind(null,u),c);return}a(c),TT(a.bind(null,u));return}M4(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function $m(e){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$m(e)}function PT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function IT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PT(Object(r),!0).forEach(function(n){jL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jL(e,t,r){return t=nY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nY(e){var t=aY(e,"string");return $m(t)==="symbol"?t:String(t)}function aY(e,t){if($m(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($m(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iY=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},sY=function(t){return t},oY=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},im=function(t,r){return Object.keys(r).reduce(function(n,a){return IT(IT({},n),{},jL({},a,t(a,r[a])))},{})},DT=function(t,r,n){return t.map(function(a){return"".concat(oY(a)," ").concat(r,"ms ").concat(n)}).join(",")};function lY(e,t){return dY(e)||uY(e,t)||kL(e,t)||cY()}function cY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uY(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function dY(e){if(Array.isArray(e))return e}function fY(e){return mY(e)||pY(e)||kL(e)||hY()}function hY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kL(e,t){if(e){if(typeof e=="string")return R4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R4(e,t)}}function pY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mY(e){if(Array.isArray(e))return R4(e)}function R4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Kv=1e-4,SL=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},_L=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},LT=function(t,r){return function(n){var a=SL(t,r);return _L(a,n)}},xY=function(t,r){return function(n){var a=SL(t,r),s=[].concat(fY(a.map(function(o,l){return o*l}).slice(1)),[0]);return _L(s,n)}},FT=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],s=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,o=1,l=1;break;case"ease":a=.25,s=.1,o=.25,l=1;break;case"ease-in":a=.42,s=0,o=1,l=1;break;case"ease-out":a=.42,s=0,o=.58,l=1;break;case"ease-in-out":a=0,s=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),d=lY(u,4);a=d[0],s=d[1],o=d[2],l=d[3]}}}var h=LT(a,o),m=LT(s,l),p=xY(a,o),y=function(b){return b>1?1:b<0?0:b},v=function(b){for(var w=b>1?1:b,j=w,N=0;N<8;++N){var S=h(j)-w,P=p(j);if(Math.abs(S-w)<Kv||P<Kv)return m(j);j=y(j-S/P)}return m(j)};return v.isStepper=!1,v},gY=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,s=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,h,m){var p=-(d-h)*n,y=m*s,v=m+(p-y)*l/1e3,g=m*l/1e3+d;return Math.abs(g-h)<Kv&&Math.abs(v)<Kv?[h,0]:[g,v]};return c.isStepper=!0,c.dt=l,c},vY=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return FT(a);case"spring":return gY();default:if(a.split("(")[0]==="cubic-bezier")return FT(a)}return typeof a=="function"?a:null};function zm(e){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zm(e)}function MT(e){return wY(e)||bY(e)||AL(e)||yY()}function yY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wY(e){if(Array.isArray(e))return U4(e)}function RT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function as(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RT(Object(r),!0).forEach(function(n){B4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function B4(e,t,r){return t=NY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NY(e){var t=jY(e,"string");return zm(t)==="symbol"?t:String(t)}function jY(e,t){if(zm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kY(e,t){return AY(e)||_Y(e,t)||AL(e,t)||SY()}function SY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AL(e,t){if(e){if(typeof e=="string")return U4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U4(e,t)}}function U4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _Y(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function AY(e){if(Array.isArray(e))return e}var Xv=function(t,r,n){return t+(r-t)*n},q4=function(t){var r=t.from,n=t.to;return r!==n},EY=function e(t,r,n){var a=im(function(s,o){if(q4(o)){var l=t(o.from,o.to,o.velocity),c=kY(l,2),u=c[0],d=c[1];return as(as({},o),{},{from:u,velocity:d})}return o},r);return n<1?im(function(s,o){return q4(o)?as(as({},o),{},{velocity:Xv(o.velocity,a[s].velocity,n),from:Xv(o.from,a[s].from,n)}):o},r):e(t,a,n-1)};const CY=(function(e,t,r,n,a){var s=iY(e,t),o=s.reduce(function(g,b){return as(as({},g),{},B4({},b,[e[b],t[b]]))},{}),l=s.reduce(function(g,b){return as(as({},g),{},B4({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,u,d,h=function(){return null},m=function(){return im(function(b,w){return w.from},l)},p=function(){return!Object.values(l).filter(q4).length},y=function(b){u||(u=b);var w=b-u,j=w/r.dt;l=EY(r,l,j),a(as(as(as({},e),t),m())),u=b,p()||(c=requestAnimationFrame(h))},v=function(b){d||(d=b);var w=(b-d)/n,j=im(function(S,P){return Xv.apply(void 0,MT(P).concat([r(w)]))},o);if(a(as(as(as({},e),t),j)),w<1)c=requestAnimationFrame(h);else{var N=im(function(S,P){return Xv.apply(void 0,MT(P).concat([r(1)]))},o);a(as(as(as({},e),t),N))}};return h=r.isStepper?y:v,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}});function Dh(e){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dh(e)}var TY=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function OY(e,t){if(e==null)return{};var r=PY(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PY(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function X5(e){return FY(e)||LY(e)||DY(e)||IY()}function IY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DY(e,t){if(e){if(typeof e=="string")return $4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $4(e,t)}}function LY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function FY(e){if(Array.isArray(e))return $4(e)}function $4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function BT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BT(Object(r),!0).forEach(function(n){Xp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xp(e,t,r){return t=EL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EL(n.key),n)}}function BY(e,t,r){return t&&RY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function EL(e){var t=UY(e,"string");return Dh(t)==="symbol"?t:String(t)}function UY(e,t){if(Dh(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z4(e,t)}function z4(e,t){return z4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},z4(e,t)}function $Y(e){var t=zY();return function(){var n=Yv(e),a;if(t){var s=Yv(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return H4(this,a)}}function H4(e,t){if(t&&(Dh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W4(e)}function W4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Yv(e){return Yv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yv(e)}var qu=(function(e){qY(r,e);var t=$Y(r);function r(n,a){var s;MY(this,r),s=t.call(this,n,a);var o=s.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,h=o.steps,m=o.children,p=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(W4(s)),s.changeStyle=s.changeStyle.bind(W4(s)),!l||p<=0)return s.state={style:{}},typeof m=="function"&&(s.state={style:d}),H4(s);if(h&&h.length)s.state={style:h[0].style};else if(u){if(typeof m=="function")return s.state={style:u},H4(s);s.state={style:c?Xp({},c,u):u}}else s.state={style:{}};return s}return BY(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,o=a.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,h=s.from,m=this.state.style;if(l){if(!o){var p={style:c?Xp({},c,d):d};this.state&&m&&(c&&m[c]!==d||!c&&m!==d)&&this.setState(p);return}if(!(XX(a.to,d)&&a.canBegin&&a.isActive)){var y=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=y||u?h:a.to;if(this.state&&m){var g={style:c?Xp({},c,v):v};(c&&m[c]!==v||!c&&m!==v)&&this.setState(g)}this.runAnimation(Jl(Jl({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,h=a.onAnimationEnd,m=a.onAnimationStart,p=CY(o,l,vY(u),c,this.changeStyle),y=function(){s.stopJSAnimation=p()};this.manager.start([m,d,y,c,h])}},{key:"runStepAnimation",value:function(a){var s=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,h=u.duration,m=h===void 0?0:h,p=function(v,g,b){if(b===0)return v;var w=g.duration,j=g.easing,N=j===void 0?"ease":j,S=g.style,P=g.properties,A=g.onAnimationEnd,O=b>0?o[b-1]:g,M=P||Object.keys(S);if(typeof N=="function"||N==="spring")return[].concat(X5(v),[s.runJSAnimation.bind(s,{from:O.style,to:S,duration:w,easing:N}),w]);var F=DT(M,w,N),E=Jl(Jl(Jl({},O.style),S),{},{transition:F});return[].concat(X5(v),[E,w,A]).filter(sY)};return this.manager.start([c].concat(X5(o.reduce(p,[d,Math.max(m,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=rY());var s=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,h=a.onAnimationEnd,m=a.steps,p=a.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(m.length>1){this.runStepAnimation(a);return}var v=l?Xp({},l,c):c,g=DT(Object.keys(v),o,u);y.start([d,s,Jl(Jl({},v),{},{transition:g}),o,h])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=OY(a,TY),u=V.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||o<=0)return s;var h=function(p){var y=p.props,v=y.style,g=v===void 0?{}:v,b=y.className,w=V.cloneElement(p,Jl(Jl({},c),{},{style:Jl(Jl({},g),d),className:b}));return w};return u===1?h(V.Children.only(s)):Qe.createElement("div",null,V.Children.map(s,function(m){return h(m)}))}}]),r})(V.PureComponent);qu.displayName="Animate";qu.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};qu.propTypes={from:ea.oneOfType([ea.object,ea.string]),to:ea.oneOfType([ea.object,ea.string]),attributeName:ea.string,duration:ea.number,begin:ea.number,easing:ea.oneOfType([ea.string,ea.func]),steps:ea.arrayOf(ea.shape({duration:ea.number.isRequired,style:ea.object.isRequired,easing:ea.oneOfType([ea.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ea.func]),properties:ea.arrayOf("string"),onAnimationEnd:ea.func})),children:ea.oneOfType([ea.node,ea.func]),isActive:ea.bool,canBegin:ea.bool,onAnimationEnd:ea.func,shouldReAnimate:ea.bool,onAnimationStart:ea.func,onAnimationReStart:ea.func};function Hm(e){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hm(e)}function Jv(){return Jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jv.apply(this,arguments)}function HY(e,t){return KY(e)||GY(e,t)||VY(e,t)||WY()}function WY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VY(e,t){if(e){if(typeof e=="string")return UT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UT(e,t)}}function UT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function GY(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function KY(e){if(Array.isArray(e))return e}function qT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $T(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qT(Object(r),!0).forEach(function(n){XY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XY(e,t,r){return t=YY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YY(e){var t=JY(e,"string");return Hm(t)=="symbol"?t:t+""}function JY(e,t){if(Hm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zT=function(t,r,n,a,s){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&s instanceof Array){for(var h=[0,0,0,0],m=0,p=4;m<p;m++)h[m]=s[m]>o?o:s[m];d="M".concat(t,",").concat(r+l*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(t+c*h[0],",").concat(r)),d+="L ".concat(t+n-c*h[1],",").concat(r),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*h[1])),d+="L ".concat(t+n,",").concat(r+a-l*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(t+n-c*h[2],",").concat(r+a)),d+="L ".concat(t+c*h[3],",").concat(r+a),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*h[3])),d+="Z"}else if(o>0&&s===+s&&s>0){var y=Math.min(o,s);d="M ".concat(t,",").concat(r+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+c*y,",").concat(r,`
            L `).concat(t+n-c*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*y,`
            L `).concat(t+n,",").concat(r+a-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n-c*y,",").concat(r+a,`
            L `).concat(t+c*y,",").concat(r+a,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*y," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},QY=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,s=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),h=Math.min(o,o+c),m=Math.max(o,o+c);return n>=u&&n<=d&&a>=h&&a<=m}return!1},ZY={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Bk=function(t){var r=$T($T({},ZY),t),n=V.useRef(),a=V.useState(-1),s=HY(a,2),o=s[0],l=s[1];V.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&l(N)}catch{}},[]);var c=r.x,u=r.y,d=r.width,h=r.height,m=r.radius,p=r.className,y=r.animationEasing,v=r.animationDuration,g=r.animationBegin,b=r.isAnimationActive,w=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||h!==+h||d===0||h===0)return null;var j=Hn("recharts-rectangle",p);return w?Qe.createElement(qu,{canBegin:o>0,from:{width:d,height:h,x:c,y:u},to:{width:d,height:h,x:c,y:u},duration:v,animationEasing:y,isActive:w},function(N){var S=N.width,P=N.height,A=N.x,O=N.y;return Qe.createElement(qu,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:v,isActive:b,easing:y},Qe.createElement("path",Jv({},bn(r,!0),{className:j,d:zT(A,O,S,P,m),ref:n})))}):Qe.createElement("path",Jv({},bn(r,!0),{className:j,d:zT(c,u,d,h,m)}))};function V4(){return V4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V4.apply(this,arguments)}var Uk=function(t){var r=t.cx,n=t.cy,a=t.r,s=t.className,o=Hn("recharts-dot",s);return r===+r&&n===+n&&a===+a?Qe.createElement("circle",V4({},bn(t,!1),gv(t),{className:o,cx:r,cy:n,r:a})):null};function Wm(e){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wm(e)}var eJ=["x","y","top","left","width","height","className"];function G4(){return G4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G4.apply(this,arguments)}function HT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tJ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HT(Object(r),!0).forEach(function(n){rJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rJ(e,t,r){return t=nJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nJ(e){var t=aJ(e,"string");return Wm(t)=="symbol"?t:t+""}function aJ(e,t){if(Wm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iJ(e,t){if(e==null)return{};var r=sJ(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var oJ=function(t,r,n,a,s,o){return"M".concat(t,",").concat(s,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},lJ=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,h=d===void 0?0:d,m=t.height,p=m===void 0?0:m,y=t.className,v=iJ(t,eJ),g=tJ({x:n,y:s,top:l,left:u,width:h,height:p},v);return!nr(n)||!nr(s)||!nr(h)||!nr(p)||!nr(l)||!nr(u)?null:Qe.createElement("path",G4({},bn(g,!0),{className:Hn("recharts-cross",y),d:oJ(n,s,h,p,l,u)}))},Y5,WT;function cJ(){if(WT)return Y5;WT=1;var e=KI(),t=e(Object.getPrototypeOf,Object);return Y5=t,Y5}var J5,VT;function uJ(){if(VT)return J5;VT=1;var e=Hu(),t=cJ(),r=Wu(),n="[object Object]",a=Function.prototype,s=Object.prototype,o=a.toString,l=s.hasOwnProperty,c=o.call(Object);function u(d){if(!r(d)||e(d)!=n)return!1;var h=t(d);if(h===null)return!0;var m=l.call(h,"constructor")&&h.constructor;return typeof m=="function"&&m instanceof m&&o.call(m)==c}return J5=u,J5}var dJ=uJ();const fJ=oa(dJ);var Q5,GT;function hJ(){if(GT)return Q5;GT=1;var e=Hu(),t=Wu(),r="[object Boolean]";function n(a){return a===!0||a===!1||t(a)&&e(a)==r}return Q5=n,Q5}var pJ=hJ();const mJ=oa(pJ);function Vm(e){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vm(e)}function Qv(){return Qv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qv.apply(this,arguments)}function xJ(e,t){return bJ(e)||yJ(e,t)||vJ(e,t)||gJ()}function gJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vJ(e,t){if(e){if(typeof e=="string")return KT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KT(e,t)}}function KT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function bJ(e){if(Array.isArray(e))return e}function XT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function YT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XT(Object(r),!0).forEach(function(n){wJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wJ(e,t,r){return t=NJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NJ(e){var t=jJ(e,"string");return Vm(t)=="symbol"?t:t+""}function jJ(e,t){if(Vm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JT=function(t,r,n,a,s){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+s),l+="L ".concat(t+n-o/2-a,",").concat(r+s),l+="L ".concat(t,",").concat(r," Z"),l},kJ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},SJ=function(t){var r=YT(YT({},kJ),t),n=V.useRef(),a=V.useState(-1),s=xJ(a,2),o=s[0],l=s[1];V.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,h=r.lowerWidth,m=r.height,p=r.className,y=r.animationEasing,v=r.animationDuration,g=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||h!==+h||m!==+m||d===0&&h===0||m===0)return null;var w=Hn("recharts-trapezoid",p);return b?Qe.createElement(qu,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:u},to:{upperWidth:d,lowerWidth:h,height:m,x:c,y:u},duration:v,animationEasing:y,isActive:b},function(j){var N=j.upperWidth,S=j.lowerWidth,P=j.height,A=j.x,O=j.y;return Qe.createElement(qu,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:v,easing:y},Qe.createElement("path",Qv({},bn(r,!0),{className:w,d:JT(A,O,N,S,P),ref:n})))}):Qe.createElement("g",null,Qe.createElement("path",Qv({},bn(r,!0),{className:w,d:JT(c,u,d,h,m)})))},_J=["option","shapeType","propTransformer","activeClassName","isActive"];function Gm(e){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gm(e)}function AJ(e,t){if(e==null)return{};var r=EJ(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function EJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function QT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QT(Object(r),!0).forEach(function(n){CJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CJ(e,t,r){return t=TJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TJ(e){var t=OJ(e,"string");return Gm(t)=="symbol"?t:t+""}function OJ(e,t){if(Gm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PJ(e,t){return Zv(Zv({},t),e)}function IJ(e,t){return e==="symbols"}function ZT(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return Qe.createElement(Bk,r);case"trapezoid":return Qe.createElement(SJ,r);case"sector":return Qe.createElement(wL,r);case"symbols":if(IJ(t))return Qe.createElement(ak,r);break;default:return null}}function DJ(e){return V.isValidElement(e)?e.props:e}function LJ(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?PJ:n,s=e.activeClassName,o=s===void 0?"recharts-active-shape":s,l=e.isActive,c=AJ(e,_J),u;if(V.isValidElement(t))u=V.cloneElement(t,Zv(Zv({},c),DJ(t)));else if(mn(t))u=t(c);else if(fJ(t)&&!mJ(t)){var d=a(t,c);u=Qe.createElement(ZT,{shapeType:r,elementProps:d})}else{var h=c;u=Qe.createElement(ZT,{shapeType:r,elementProps:h})}return l?Qe.createElement(Fa,{className:o},u):u}function ay(e,t){return t!=null&&"trapezoids"in e.props}function iy(e,t){return t!=null&&"sectors"in e.props}function Km(e,t){return t!=null&&"points"in e.props}function FJ(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&s}function MJ(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function RJ(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function BJ(e,t){var r;return ay(e,t)?r=FJ:iy(e,t)?r=MJ:Km(e,t)&&(r=RJ),r}function UJ(e,t){var r;return ay(e,t)?r="trapezoids":iy(e,t)?r="sectors":Km(e,t)&&(r="points"),r}function qJ(e,t){if(ay(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(iy(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Km(e,t)?t.payload:{}}function $J(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=UJ(r,t),s=qJ(r,t),o=n.filter(function(c,u){var d=Om(s,c),h=r.props[a].filter(function(y){var v=BJ(r,t);return v(y,t)}),m=r.props[a].indexOf(h[h.length-1]),p=u===m;return d&&p}),l=n.indexOf(o[o.length-1]);return l}var Z5,eO;function zJ(){if(eO)return Z5;eO=1;var e=Math.ceil,t=Math.max;function r(n,a,s,o){for(var l=-1,c=t(e((a-n)/(s||1)),0),u=Array(c);c--;)u[o?c:++l]=n,n+=s;return u}return Z5=r,Z5}var eN,tO;function CL(){if(tO)return eN;tO=1;var e=uD(),t=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=e(a),a===t||a===-t){var s=a<0?-1:1;return s*r}return a===a?a:0}return eN=n,eN}var tN,rO;function HJ(){if(rO)return tN;rO=1;var e=zJ(),t=G1(),r=CL();function n(a){return function(s,o,l){return l&&typeof l!="number"&&t(s,o,l)&&(o=l=void 0),s=r(s),o===void 0?(o=s,s=0):o=r(o),l=l===void 0?s<o?1:-1:r(l),e(s,o,l,a)}}return tN=n,tN}var rN,nO;function WJ(){if(nO)return rN;nO=1;var e=HJ(),t=e();return rN=t,rN}var VJ=WJ();const e1=oa(VJ);function Xm(e){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xm(e)}function aO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aO(Object(r),!0).forEach(function(n){TL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TL(e,t,r){return t=GJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GJ(e){var t=KJ(e,"string");return Xm(t)=="symbol"?t:t+""}function KJ(e,t){if(Xm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XJ=["Webkit","Moz","O","ms"],YJ=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),a=XJ.reduce(function(s,o){return iO(iO({},s),{},TL({},o+n,r))},{});return a[t]=r,a};function Lh(e){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lh(e)}function t1(){return t1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t1.apply(this,arguments)}function sO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sO(Object(r),!0).forEach(function(n){Oo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PL(n.key),n)}}function QJ(e,t,r){return t&&oO(e.prototype,t),r&&oO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZJ(e,t,r){return t=r1(t),eQ(e,OL()?Reflect.construct(t,r||[],r1(e).constructor):t.apply(e,r))}function eQ(e,t){if(t&&(Lh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tQ(e)}function tQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OL=function(){return!!e})()}function r1(e){return r1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},r1(e)}function rQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K4(e,t)}function K4(e,t){return K4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},K4(e,t)}function Oo(e,t,r){return t=PL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PL(e){var t=nQ(e,"string");return Lh(t)=="symbol"?t:t+""}function nQ(e,t){if(Lh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var aQ=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,s=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=rm().domain(e1(0,c)).range([s,s+o-l]),d=u.domain().map(function(h){return u(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},lO=function(t){return t.changedTouches&&!!t.changedTouches.length},Fh=(function(e){function t(r){var n;return JJ(this,t),n=ZJ(this,t,[r]),Oo(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Oo(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Oo(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,o=a.onDragEnd,l=a.startIndex;o?.({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),Oo(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Oo(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Oo(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Oo(n,"handleSlideDragStart",function(a){var s=lO(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return rQ(t,e),QJ(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,h=Math.min(a,s),m=Math.max(a,s),p=t.getIndexInRange(o,h),y=t.getIndexInRange(o,m);return{startIndex:p-p%c,endIndex:y===d?d:y-y%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,o=a.tickFormatter,l=a.dataKey,c=Bo(s[n],l,n);return mn(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,h=c.travellerWidth,m=c.startIndex,p=c.endIndex,y=c.onChange,v=n.pageX-s;v>0?v=Math.min(v,u+d-h-l,u+d-h-o):v<0&&(v=Math.max(v,u-o,u-l));var g=this.getIndex({startX:o+v,endX:l+v});(g.startIndex!==m||g.endIndex!==p)&&y&&y(g),this.setState({startX:o+v,endX:l+v,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=lO(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,h=d.x,m=d.width,p=d.travellerWidth,y=d.onChange,v=d.gap,g=d.data,b={startX:this.state.startX,endX:this.state.endX},w=n.pageX-s;w>0?w=Math.min(w,h+m-p-u):w<0&&(w=Math.max(w,h-u)),b[o]=u+w;var j=this.getIndex(b),N=j.startIndex,S=j.endIndex,P=function(){var O=g.length-1;return o==="startX"&&(l>c?N%v===0:S%v===0)||l<c&&S===O||o==="endX"&&(l>c?S%v===0:N%v===0)||l>c&&S===O};this.setState(Oo(Oo({},o,u+w),"brushMoveStartX",n.pageX),function(){y&&P()&&y(j)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],h=l.indexOf(d);if(h!==-1){var m=h+n;if(!(m===-1||m>=l.length)){var p=l[m];a==="startX"&&p>=u||a==="endX"&&p<=c||this.setState(Oo({},a,p),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return Qe.createElement("rect",{stroke:u,fill:c,x:a,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,h=V.Children.only(u);return h?Qe.cloneElement(h,{x:a,y:s,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,h=c.height,m=c.traveller,p=c.ariaLabel,y=c.data,v=c.startIndex,g=c.endIndex,b=Math.max(n,this.props.x),w=nN(nN({},bn(this.props,!1)),{},{x:b,y:u,width:d,height:h}),j=p||"Min value: ".concat((s=y[v])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=y[g])===null||o===void 0?void 0:o.name);return Qe.createElement(Fa,{tabIndex:0,role:"slider","aria-label":j,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),l.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(m,w))}},{key:"renderSlide",value:function(n,a){var s=this.props,o=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(n,a)+u,h=Math.max(Math.abs(a-n)-u,0);return Qe.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:h,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,h=d.startX,m=d.endX,p=5,y={pointerEvents:"none",fill:u};return Qe.createElement(Fa,{className:"recharts-brush-texts"},Qe.createElement(Cv,t1({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,m)-p,y:o+l/2},y),this.getTextOfTick(a)),Qe.createElement(Cv,t1({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,m)+c+p,y:o+l/2},y),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,h=n.alwaysShowText,m=this.state,p=m.startX,y=m.endX,v=m.isTextActive,g=m.isSlideMoving,b=m.isTravellerMoving,w=m.isTravellerFocused;if(!a||!a.length||!nr(l)||!nr(c)||!nr(u)||!nr(d)||u<=0||d<=0)return null;var j=Hn("recharts-brush",s),N=Qe.Children.count(o)===1,S=YJ("userSelect","none");return Qe.createElement(Fa,{className:j,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(p,y),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(y,"endX"),(v||g||b||w||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return Qe.createElement(Qe.Fragment,null,Qe.createElement("rect",{x:a,y:s,width:o,height:l,fill:c,stroke:"none"}),Qe.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),Qe.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return Qe.isValidElement(n)?s=Qe.cloneElement(n,a):mn(n)?s=n(a):s=t.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,h=n.endIndex;if(s!==a.prevData||u!==a.prevUpdateId)return nN({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},s&&s.length?aQ({data:s,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:h}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var m=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])})(V.PureComponent);Oo(Fh,"displayName","Brush");Oo(Fh,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var aN,cO;function iQ(){if(cO)return aN;cO=1;var e=dk();function t(r,n){var a;return e(r,function(s,o,l){return a=n(s,o,l),!a}),!!a}return aN=t,aN}var iN,uO;function sQ(){if(uO)return iN;uO=1;var e=qI(),t=rf(),r=iQ(),n=No(),a=G1();function s(o,l,c){var u=n(o)?e:r;return c&&a(o,l,c)&&(l=void 0),u(o,t(l,3))}return iN=s,iN}var oQ=sQ();const lQ=oa(oQ);var Hc=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},sN,dO;function cQ(){if(dO)return sN;dO=1;var e=iD();function t(r,n,a){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return sN=t,sN}var oN,fO;function uQ(){if(fO)return oN;fO=1;var e=cQ(),t=nD(),r=rf();function n(a,s){var o={};return s=r(s,3),t(a,function(l,c,u){e(o,c,s(l,c,u))}),o}return oN=n,oN}var dQ=uQ();const fQ=oa(dQ);var lN,hO;function hQ(){if(hO)return lN;hO=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(!r(t[n],n,t))return!1;return!0}return lN=e,lN}var cN,pO;function pQ(){if(pO)return cN;pO=1;var e=dk();function t(r,n){var a=!0;return e(r,function(s,o,l){return a=!!n(s,o,l),a}),a}return cN=t,cN}var uN,mO;function mQ(){if(mO)return uN;mO=1;var e=hQ(),t=pQ(),r=rf(),n=No(),a=G1();function s(o,l,c){var u=n(o)?e:t;return c&&a(o,l,c)&&(l=void 0),u(o,r(l,3))}return uN=s,uN}var xQ=mQ();const IL=oa(xQ);var gQ=["x","y"];function Ym(e){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ym(e)}function X4(){return X4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X4.apply(this,arguments)}function xO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xO(Object(r),!0).forEach(function(n){vQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vQ(e,t,r){return t=yQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yQ(e){var t=bQ(e,"string");return Ym(t)=="symbol"?t:t+""}function bQ(e,t){if(Ym(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wQ(e,t){if(e==null)return{};var r=NQ(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function NQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jQ(e,t){var r=e.x,n=e.y,a=wQ(e,gQ),s="".concat(r),o=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),h="".concat(t.width||a.width),m=parseInt(h,10);return zp(zp(zp(zp(zp({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:m,name:t.name,radius:t.radius})}function gO(e){return Qe.createElement(LJ,X4({shapeType:"rectangle",propTransformer:jQ,activeClassName:"recharts-active-bar"},e))}var kQ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var s=typeof n=="number";return s?t(n,a):(s||i0(),r)}},SQ=["value","background"],DL;function Mh(e){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mh(e)}function _Q(e,t){if(e==null)return{};var r=AQ(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function AQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function n1(){return n1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n1.apply(this,arguments)}function vO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vO(Object(r),!0).forEach(function(n){Md(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FL(n.key),n)}}function CQ(e,t,r){return t&&yO(e.prototype,t),r&&yO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function TQ(e,t,r){return t=a1(t),OQ(e,LL()?Reflect.construct(t,r||[],a1(e).constructor):t.apply(e,r))}function OQ(e,t){if(t&&(Mh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PQ(e)}function PQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LL=function(){return!!e})()}function a1(e){return a1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},a1(e)}function IQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y4(e,t)}function Y4(e,t){return Y4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Y4(e,t)}function Md(e,t,r){return t=FL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FL(e){var t=DQ(e,"string");return Mh(t)=="symbol"?t:t+""}function DQ(e,t){if(Mh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Sx=(function(e){function t(){var r;EQ(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=TQ(this,t,[].concat(a)),Md(r,"state",{isAnimationFinished:!1}),Md(r,"id",yx("recharts-bar-")),Md(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Md(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return IQ(t,e),CQ(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,d=bn(this.props,!1);return n&&n.map(function(h,m){var p=m===c,y=p?u:o,v=fi(fi(fi({},d),h),{},{isActive:p,option:y,index:m,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return Qe.createElement(Fa,n1({className:"recharts-bar-rectangle"},vv(a.props,h,m),{key:"rectangle-".concat(h?.x,"-").concat(h?.y,"-").concat(h?.value)}),Qe.createElement(gO,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,s=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,h=a.animationId,m=this.state.prevData;return Qe.createElement(qu,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var y=p.t,v=s.map(function(g,b){var w=m&&m[b];if(w){var j=hl(w.x,g.x),N=hl(w.y,g.y),S=hl(w.width,g.width),P=hl(w.height,g.height);return fi(fi({},g),{},{x:j(y),y:N(y),width:S(y),height:P(y)})}if(o==="horizontal"){var A=hl(0,g.height),O=A(y);return fi(fi({},g),{},{y:g.y+g.height-O,height:O})}var M=hl(0,g.width),F=M(y);return fi(fi({},g),{},{width:F})});return Qe.createElement(Fa,null,n.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&a&&a.length&&(!o||!Om(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,s=a.data,o=a.dataKey,l=a.activeIndex,c=bn(this.props.background,!1);return s.map(function(u,d){u.value;var h=u.background,m=_Q(u,SQ);if(!h)return null;var p=fi(fi(fi(fi(fi({},m),{},{fill:"#eee"},h),c),vv(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return Qe.createElement(gO,n1({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,h=uc(d,ny);if(!h)return null;var m=u==="vertical"?o[0].height/2:o[0].width/2,p=function(g,b){var w=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:w,errorVal:Bo(g,b)}},y={clipPath:n?"url(#clipPath-".concat(a,")"):null};return Qe.createElement(Fa,y,h.map(function(v){return Qe.cloneElement(v,{key:"error-bar-".concat(a,"-").concat(v.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:m,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,s=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,h=n.width,m=n.height,p=n.isAnimationActive,y=n.background,v=n.id;if(a||!s||!s.length)return null;var g=this.state.isAnimationFinished,b=Hn("recharts-bar",o),w=l&&l.allowDataOverflow,j=c&&c.allowDataOverflow,N=w||j,S=Sn(v)?this.id:v;return Qe.createElement(Fa,{className:b},w||j?Qe.createElement("defs",null,Qe.createElement("clipPath",{id:"clipPath-".concat(S)},Qe.createElement("rect",{x:w?u:u-h/2,y:j?d:d-m/2,width:w?h:h*2,height:j?m:m*2}))):null,Qe.createElement(Fa,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(S,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,S),(!p||g)&&Hd.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])})(V.PureComponent);DL=Sx;Md(Sx,"displayName","Bar");Md(Sx,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ap.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Md(Sx,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,s=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,h=e.displayedData,m=e.offset,p=XG(n,r);if(!p)return null;var y=t.layout,v=r.type.defaultProps,g=v!==void 0?fi(fi({},v),r.props):r.props,b=g.dataKey,w=g.children,j=g.minPointSize,N=y==="horizontal"?o:s,S=u?N.scale.domain():null,P=nK({numericAxis:N}),A=uc(w,fD),O=h.map(function(M,F){var E,T,I,z,Q,te;u?E=YG(u[d+F],S):(E=Bo(M,b),Array.isArray(E)||(E=[P,E]));var J=kQ(j,DL.defaultProps.minPointSize)(E[1],F);if(y==="horizontal"){var ie,X=[o.scale(E[0]),o.scale(E[1])],Z=X[0],q=X[1];T=iT({axis:s,ticks:l,bandSize:a,offset:p.offset,entry:M,index:F}),I=(ie=q??Z)!==null&&ie!==void 0?ie:void 0,z=p.size;var C=Z-q;if(Q=Number.isNaN(C)?0:C,te={x:T,y:o.y,width:z,height:o.height},Math.abs(J)>0&&Math.abs(Q)<Math.abs(J)){var U=sc(Q||J)*(Math.abs(J)-Math.abs(Q));I-=U,Q+=U}}else{var W=[s.scale(E[0]),s.scale(E[1])],B=W[0],K=W[1];if(T=B,I=iT({axis:o,ticks:c,bandSize:a,offset:p.offset,entry:M,index:F}),z=K-B,Q=p.size,te={x:s.x,y:I,width:s.width,height:Q},Math.abs(J)>0&&Math.abs(z)<Math.abs(J)){var re=sc(z||J)*(Math.abs(J)-Math.abs(z));z+=re}}return fi(fi(fi({},M),{},{x:T,y:I,width:z,height:Q,value:u?E:E[1],payload:M,background:te},A&&A[F]&&A[F].props),{},{tooltipPayload:[vL(r,M)],tooltipPosition:{x:T+z/2,y:I+Q/2}})});return fi({data:O,layout:y},m)});function Jm(e){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jm(e)}function LQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ML(n.key),n)}}function FQ(e,t,r){return t&&bO(e.prototype,t),r&&bO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wO(Object(r),!0).forEach(function(n){sy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sy(e,t,r){return t=ML(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ML(e){var t=MQ(e,"string");return Jm(t)=="symbol"?t:t+""}function MQ(e,t){if(Jm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RQ=function(t,r,n,a,s){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),h={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},m=!!Po(u,Sx);return d.reduce(function(p,y){var v=r[y],g=v.orientation,b=v.domain,w=v.padding,j=w===void 0?{}:w,N=v.mirror,S=v.reversed,P="".concat(g).concat(N?"Mirror":""),A,O,M,F,E;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var T=b[1]-b[0],I=1/0,z=v.categoricalDomain.sort();if(z.forEach(function(W,B){B>0&&(I=Math.min((W||0)-(z[B-1]||0),I))}),Number.isFinite(I)){var Q=I/T,te=v.layout==="vertical"?n.height:n.width;if(v.padding==="gap"&&(A=Q*te/2),v.padding==="no-gap"){var J=n0(t.barCategoryGap,Q*te),ie=Q*te/2;A=ie-J-(ie-J)/te*J}}}a==="xAxis"?O=[n.left+(j.left||0)+(A||0),n.left+n.width-(j.right||0)-(A||0)]:a==="yAxis"?O=c==="horizontal"?[n.top+n.height-(j.bottom||0),n.top+(j.top||0)]:[n.top+(j.top||0)+(A||0),n.top+n.height-(j.bottom||0)-(A||0)]:O=v.range,S&&(O=[O[1],O[0]]);var X=GG(v,s,m),Z=X.scale,q=X.realScaleType;Z.domain(b).range(O),KG(Z);var C=rK(Z,nc(nc({},v),{},{realScaleType:q}));a==="xAxis"?(E=g==="top"&&!N||g==="bottom"&&N,M=n.left,F=h[P]-E*v.height):a==="yAxis"&&(E=g==="left"&&!N||g==="right"&&N,M=h[P]-E*v.width,F=n.top);var U=nc(nc(nc({},v),C),{},{realScaleType:q,x:M,y:F,scale:Z,width:a==="xAxis"?n.width:v.width,height:a==="yAxis"?n.height:v.height});return U.bandSize=Hv(U,C),!v.hide&&a==="xAxis"?h[P]+=(E?-1:1)*U.height:v.hide||(h[P]+=(E?-1:1)*U.width),nc(nc({},p),{},sy({},y,U))},{})},RL=function(t,r){var n=t.x,a=t.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(a,o),width:Math.abs(s-n),height:Math.abs(o-a)}},BQ=function(t){var r=t.x1,n=t.y1,a=t.x2,s=t.y2;return RL({x:r,y:n},{x:a,y:s})},BL=(function(){function e(t){LQ(this,e),this.scale=t}return FQ(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])})();sy(BL,"EPS",1e-4);var qk=function(t){var r=Object.keys(t).reduce(function(n,a){return nc(nc({},n),{},sy({},a,BL.create(t[a])))},{});return nc(nc({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return fQ(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return IL(a,function(s,o){return r[o].isInRange(s)})}})};function UQ(e){return(e%180+180)%180}var qQ=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=UQ(a),o=s*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},dN,NO;function $Q(){if(NO)return dN;NO=1;var e=rf(),t=bx(),r=W1();function n(a){return function(s,o,l){var c=Object(s);if(!t(s)){var u=e(o,3);s=r(s),o=function(h){return u(c[h],h,c)}}var d=a(s,o,l);return d>-1?c[u?s[d]:d]:void 0}}return dN=n,dN}var fN,jO;function zQ(){if(jO)return fN;jO=1;var e=CL();function t(r){var n=e(r),a=n%1;return n===n?a?n-a:n:0}return fN=t,fN}var hN,kO;function HQ(){if(kO)return hN;kO=1;var e=QI(),t=rf(),r=zQ(),n=Math.max;function a(s,o,l){var c=s==null?0:s.length;if(!c)return-1;var u=l==null?0:r(l);return u<0&&(u=n(c+u,0)),e(s,t(o,3),u)}return hN=a,hN}var pN,SO;function WQ(){if(SO)return pN;SO=1;var e=$Q(),t=HQ(),r=e(t);return pN=r,pN}var VQ=WQ();const GQ=oa(VQ);var KQ=hI();const XQ=oa(KQ);var YQ=XQ(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),$k=V.createContext(void 0),zk=V.createContext(void 0),UL=V.createContext(void 0),qL=V.createContext({}),$L=V.createContext(void 0),zL=V.createContext(0),HL=V.createContext(0),_O=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=YQ(s);return Qe.createElement($k.Provider,{value:n},Qe.createElement(zk.Provider,{value:a},Qe.createElement(qL.Provider,{value:s},Qe.createElement(UL.Provider,{value:d},Qe.createElement($L.Provider,{value:o},Qe.createElement(zL.Provider,{value:u},Qe.createElement(HL.Provider,{value:c},l)))))))},JQ=function(){return V.useContext($L)},WL=function(t){var r=V.useContext($k);r==null&&i0();var n=r[t];return n==null&&i0(),n},QQ=function(){var t=V.useContext($k);return Dd(t)},ZQ=function(){var t=V.useContext(zk),r=GQ(t,function(n){return IL(n.domain,Number.isFinite)});return r||Dd(t)},VL=function(t){var r=V.useContext(zk);r==null&&i0();var n=r[t];return n==null&&i0(),n},eZ=function(){var t=V.useContext(UL);return t},tZ=function(){return V.useContext(qL)},Hk=function(){return V.useContext(HL)},Wk=function(){return V.useContext(zL)};function Rh(e){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rh(e)}function rZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KL(n.key),n)}}function aZ(e,t,r){return t&&nZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function iZ(e,t,r){return t=i1(t),sZ(e,GL()?Reflect.construct(t,r||[],i1(e).constructor):t.apply(e,r))}function sZ(e,t){if(t&&(Rh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oZ(e)}function oZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GL=function(){return!!e})()}function i1(e){return i1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},i1(e)}function lZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J4(e,t)}function J4(e,t){return J4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},J4(e,t)}function AO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function EO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AO(Object(r),!0).forEach(function(n){Vk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vk(e,t,r){return t=KL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KL(e){var t=cZ(e,"string");return Rh(t)=="symbol"?t:t+""}function cZ(e,t){if(Rh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function uZ(e,t){return pZ(e)||hZ(e,t)||fZ(e,t)||dZ()}function dZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fZ(e,t){if(e){if(typeof e=="string")return CO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CO(e,t)}}function CO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hZ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function pZ(e){if(Array.isArray(e))return e}function Q4(){return Q4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q4.apply(this,arguments)}var mZ=function(t,r){var n;return Qe.isValidElement(t)?n=Qe.cloneElement(t,r):mn(t)?n=t(r):n=Qe.createElement("line",Q4({},r,{className:"recharts-reference-line-line"})),n},xZ=function(t,r,n,a,s,o,l,c,u){var d=s.x,h=s.y,m=s.width,p=s.height;if(n){var y=u.y,v=t.y.apply(y,{position:o});if(Hc(u,"discard")&&!t.y.isInRange(v))return null;var g=[{x:d+m,y:v},{x:d,y:v}];return c==="left"?g.reverse():g}if(r){var b=u.x,w=t.x.apply(b,{position:o});if(Hc(u,"discard")&&!t.x.isInRange(w))return null;var j=[{x:w,y:h+p},{x:w,y:h}];return l==="top"?j.reverse():j}if(a){var N=u.segment,S=N.map(function(P){return t.apply(P,{position:o})});return Hc(u,"discard")&&lQ(S,function(P){return!t.isInRange(P)})?null:S}return null};function gZ(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,s=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=JQ(),d=WL(a),h=VL(s),m=eZ();if(!u||!m)return null;Ou(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=qk({x:d.scale,y:h.scale}),y=_i(t),v=_i(r),g=n&&n.length===2,b=xZ(p,y,v,g,m,e.position,d.orientation,h.orientation,e);if(!b)return null;var w=uZ(b,2),j=w[0],N=j.x,S=j.y,P=w[1],A=P.x,O=P.y,M=Hc(e,"hidden")?"url(#".concat(u,")"):void 0,F=EO(EO({clipPath:M},bn(e,!0)),{},{x1:N,y1:S,x2:A,y2:O});return Qe.createElement(Fa,{className:Hn("recharts-reference-line",l)},mZ(o,F),As.renderCallByParent(e,BQ({x1:N,y1:S,x2:A,y2:O})))}var Gk=(function(e){function t(){return rZ(this,t),iZ(this,t,arguments)}return lZ(t,e),aZ(t,[{key:"render",value:function(){return Qe.createElement(gZ,this.props)}}])})(Qe.Component);Vk(Gk,"displayName","ReferenceLine");Vk(Gk,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Z4(){return Z4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Z4.apply(this,arguments)}function Bh(e){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bh(e)}function TO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function OO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TO(Object(r),!0).forEach(function(n){oy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YL(n.key),n)}}function bZ(e,t,r){return t&&yZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wZ(e,t,r){return t=s1(t),NZ(e,XL()?Reflect.construct(t,r||[],s1(e).constructor):t.apply(e,r))}function NZ(e,t){if(t&&(Bh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jZ(e)}function jZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XL=function(){return!!e})()}function s1(e){return s1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},s1(e)}function kZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ej(e,t)}function ej(e,t){return ej=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ej(e,t)}function oy(e,t,r){return t=YL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YL(e){var t=SZ(e,"string");return Bh(t)=="symbol"?t:t+""}function SZ(e,t){if(Bh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _Z=function(t){var r=t.x,n=t.y,a=t.xAxis,s=t.yAxis,o=qk({x:a.scale,y:s.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Hc(t,"discard")&&!o.isInRange(l)?null:l},ly=(function(e){function t(){return vZ(this,t),wZ(this,t,arguments)}return kZ(t,e),bZ(t,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=_i(a),d=_i(s);if(Ou(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var h=_Z(this.props);if(!h)return null;var m=h.x,p=h.y,y=this.props,v=y.shape,g=y.className,b=Hc(this.props,"hidden")?"url(#".concat(c,")"):void 0,w=OO(OO({clipPath:b},bn(this.props,!0)),{},{cx:m,cy:p});return Qe.createElement(Fa,{className:Hn("recharts-reference-dot",g)},t.renderDot(v,w),As.renderCallByParent(this.props,{x:m-o,y:p-o,width:2*o,height:2*o}))}}])})(Qe.Component);oy(ly,"displayName","ReferenceDot");oy(ly,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});oy(ly,"renderDot",function(e,t){var r;return Qe.isValidElement(e)?r=Qe.cloneElement(e,t):mn(e)?r=e(t):r=Qe.createElement(Uk,Z4({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function tj(){return tj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tj.apply(this,arguments)}function Uh(e){"@babel/helpers - typeof";return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uh(e)}function PO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function IO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PO(Object(r),!0).forEach(function(n){cy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QL(n.key),n)}}function CZ(e,t,r){return t&&EZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function TZ(e,t,r){return t=o1(t),OZ(e,JL()?Reflect.construct(t,r||[],o1(e).constructor):t.apply(e,r))}function OZ(e,t){if(t&&(Uh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PZ(e)}function PZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JL=function(){return!!e})()}function o1(e){return o1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},o1(e)}function IZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rj(e,t)}function rj(e,t){return rj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rj(e,t)}function cy(e,t,r){return t=QL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QL(e){var t=DZ(e,"string");return Uh(t)=="symbol"?t:t+""}function DZ(e,t){if(Uh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var LZ=function(t,r,n,a,s){var o=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,h=s.yAxis;if(!d||!h)return null;var m=qk({x:d.scale,y:h.scale}),p={x:t?m.x.apply(o,{position:"start"}):m.x.rangeMin,y:n?m.y.apply(c,{position:"start"}):m.y.rangeMin},y={x:r?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:a?m.y.apply(u,{position:"end"}):m.y.rangeMax};return Hc(s,"discard")&&(!m.isInRange(p)||!m.isInRange(y))?null:RL(p,y)},uy=(function(e){function t(){return AZ(this,t),TZ(this,t,arguments)}return IZ(t,e),CZ(t,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Ou(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=_i(a),m=_i(s),p=_i(o),y=_i(l),v=this.props.shape;if(!h&&!m&&!p&&!y&&!v)return null;var g=LZ(h,m,p,y,this.props);if(!g&&!v)return null;var b=Hc(this.props,"hidden")?"url(#".concat(d,")"):void 0;return Qe.createElement(Fa,{className:Hn("recharts-reference-area",c)},t.renderRect(v,IO(IO({clipPath:b},bn(this.props,!0)),g)),As.renderCallByParent(this.props,g))}}])})(Qe.Component);cy(uy,"displayName","ReferenceArea");cy(uy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});cy(uy,"renderRect",function(e,t){var r;return Qe.isValidElement(e)?r=Qe.cloneElement(e,t):mn(e)?r=e(t):r=Qe.createElement(Bk,tj({},t,{className:"recharts-reference-area-rect"})),r});function ZL(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function FZ(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return qQ(n,r)}function MZ(e,t,r){var n=r==="width",a=e.x,s=e.y,o=e.width,l=e.height;return t===1?{start:n?a:s,end:n?a+o:s+l}:{start:n?a+o:s+l,end:n?a:s}}function l1(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function RZ(e,t){return ZL(e,t+1)}function BZ(e,t,r,n,a){for(var s=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,h=function(){var y=n?.[c];if(y===void 0)return{v:ZL(n,u)};var v=c,g,b=function(){return g===void 0&&(g=r(y,v)),g},w=y.coordinate,j=c===0||l1(e,w,b,d,l);j||(c=0,d=o,u+=1),j&&(d=w+e*(b()/2+a),c+=u)},m;u<=s.length;)if(m=h(),m)return m.v;return[]}function Qm(e){"@babel/helpers - typeof";return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qm(e)}function DO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ks(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DO(Object(r),!0).forEach(function(n){UZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UZ(e,t,r){return t=qZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qZ(e){var t=$Z(e,"string");return Qm(t)=="symbol"?t:t+""}function $Z(e,t){if(Qm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zZ(e,t,r,n,a){for(var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end,u=function(m){var p=s[m],y,v=function(){return y===void 0&&(y=r(p,m)),y};if(m===o-1){var g=e*(p.coordinate+e*v()/2-c);s[m]=p=ks(ks({},p),{},{tickCoord:g>0?p.coordinate-g*e:p.coordinate})}else s[m]=p=ks(ks({},p),{},{tickCoord:p.coordinate});var b=l1(e,p.tickCoord,v,l,c);b&&(c=p.tickCoord-e*(v()/2+a),s[m]=ks(ks({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return s}function HZ(e,t,r,n,a,s){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(s){var d=n[l-1],h=r(d,l-1),m=e*(d.coordinate+e*h/2-u);o[l-1]=d=ks(ks({},d),{},{tickCoord:m>0?d.coordinate-m*e:d.coordinate});var p=l1(e,d.tickCoord,function(){return h},c,u);p&&(u=d.tickCoord-e*(h/2+a),o[l-1]=ks(ks({},d),{},{isShow:!0}))}for(var y=s?l-1:l,v=function(w){var j=o[w],N,S=function(){return N===void 0&&(N=r(j,w)),N};if(w===0){var P=e*(j.coordinate-e*S()/2-c);o[w]=j=ks(ks({},j),{},{tickCoord:P<0?j.coordinate-P*e:j.coordinate})}else o[w]=j=ks(ks({},j),{},{tickCoord:j.coordinate});var A=l1(e,j.tickCoord,S,c,u);A&&(c=j.tickCoord+e*(S()/2+a),o[w]=ks(ks({},j),{},{isShow:!0}))},g=0;g<y;g++)v(g);return o}function Kk(e,t,r){var n=e.tick,a=e.ticks,s=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,h=e.angle;if(!a||!a.length||!n)return[];if(nr(c)||ap.isSsr)return RZ(a,typeof c=="number"&&nr(c)?c:0);var m=[],p=l==="top"||l==="bottom"?"width":"height",y=d&&p==="width"?tm(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=function(j,N){var S=mn(u)?u(j.value,N):j.value;return p==="width"?FZ(tm(S,{fontSize:t,letterSpacing:r}),y,h):tm(S,{fontSize:t,letterSpacing:r})[p]},g=a.length>=2?sc(a[1].coordinate-a[0].coordinate):1,b=MZ(s,g,p);return c==="equidistantPreserveStart"?BZ(g,b,v,a,o):(c==="preserveStart"||c==="preserveStartEnd"?m=HZ(g,b,v,a,o,c==="preserveStartEnd"):m=zZ(g,b,v,a,o),m.filter(function(w){return w.isShow}))}var WZ=["viewBox"],VZ=["viewBox"],GZ=["ticks"];function qh(e){"@babel/helpers - typeof";return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qh(e)}function oh(){return oh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oh.apply(this,arguments)}function LO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ks(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LO(Object(r),!0).forEach(function(n){Xk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mN(e,t){if(e==null)return{};var r=KZ(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function KZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function XZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tF(n.key),n)}}function YZ(e,t,r){return t&&FO(e.prototype,t),r&&FO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function JZ(e,t,r){return t=c1(t),QZ(e,eF()?Reflect.construct(t,r||[],c1(e).constructor):t.apply(e,r))}function QZ(e,t){if(t&&(qh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZZ(e)}function ZZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eF=function(){return!!e})()}function c1(e){return c1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},c1(e)}function eee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nj(e,t)}function nj(e,t){return nj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nj(e,t)}function Xk(e,t,r){return t=tF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tF(e){var t=tee(e,"string");return qh(t)=="symbol"?t:t+""}function tee(e,t){if(qh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var lp=(function(e){function t(r){var n;return XZ(this,t),n=JZ(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return eee(t,e),YZ(t,[{key:"shouldComponentUpdate",value:function(n,a){var s=n.viewBox,o=mN(n,WZ),l=this.props,c=l.viewBox,u=mN(l,VZ);return!fh(s,c)||!fh(o,u)||!fh(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,h=a.mirror,m=a.tickMargin,p,y,v,g,b,w,j=h?-1:1,N=n.tickSize||d,S=nr(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=y=n.coordinate,g=o+ +!h*c,v=g-j*N,w=v-j*m,b=S;break;case"left":v=g=n.coordinate,y=s+ +!h*l,p=y-j*N,b=p-j*m,w=S;break;case"right":v=g=n.coordinate,y=s+ +h*l,p=y+j*N,b=p+j*m,w=S;break;default:p=y=n.coordinate,g=o+ +h*c,v=g+j*N,w=v+j*m,b=S;break}return{line:{x1:p,y1:v,x2:y,y2:g},tick:{x:b,y:w}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o;switch(a){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,h=Ks(Ks(Ks({},bn(this.props,!1)),bn(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var m=+(c==="top"&&!u||c==="bottom"&&u);h=Ks(Ks({},h),{},{x1:a,y1:s+m*l,x2:a+o,y2:s+m*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);h=Ks(Ks({},h),{},{x1:a+p*o,y1:s,x2:a+p*o,y2:s+l})}return Qe.createElement("line",oh({},h,{className:Hn("recharts-cartesian-axis-line",vl(d,"className"))}))}},{key:"renderTicks",value:function(n,a,s){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,h=l.tickFormatter,m=l.unit,p=Kk(Ks(Ks({},this.props),{},{ticks:n}),a,s),y=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),g=bn(this.props,!1),b=bn(d,!1),w=Ks(Ks({},g),{},{fill:"none"},bn(c,!1)),j=p.map(function(N,S){var P=o.getTickLineCoord(N),A=P.line,O=P.tick,M=Ks(Ks(Ks(Ks({textAnchor:y,verticalAnchor:v},g),{},{stroke:"none",fill:u},b),O),{},{index:S,payload:N,visibleTicksCount:p.length,tickFormatter:h});return Qe.createElement(Fa,oh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},vv(o.props,N,S)),c&&Qe.createElement("line",oh({},w,A,{className:Hn("recharts-cartesian-axis-tick-line",vl(c,"className"))})),d&&t.renderTickItem(d,M,"".concat(mn(h)?h(N.value,S):N.value).concat(m||"")))});return Qe.createElement("g",{className:"recharts-cartesian-axis-ticks"},j)}},{key:"render",value:function(){var n=this,a=this.props,s=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var h=this.props,m=h.ticks,p=mN(h,GZ),y=m;return mn(c)&&(y=m&&m.length>0?c(this.props):c(p)),o<=0||l<=0||!y||!y.length?null:Qe.createElement(Fa,{className:Hn("recharts-cartesian-axis",u),ref:function(g){n.layerReference=g}},s&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),As.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,s){var o;return Qe.isValidElement(n)?o=Qe.cloneElement(n,a):mn(n)?o=n(a):o=Qe.createElement(Cv,oh({},a,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])})(V.Component);Xk(lp,"displayName","CartesianAxis");Xk(lp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var ree=["x1","y1","x2","y2","key"],nee=["offset"];function s0(e){"@babel/helpers - typeof";return s0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s0(e)}function MO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Es(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MO(Object(r),!0).forEach(function(n){aee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aee(e,t,r){return t=iee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iee(e){var t=see(e,"string");return s0(t)=="symbol"?t:t+""}function see(e,t){if(s0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(s0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zf(){return zf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zf.apply(this,arguments)}function RO(e,t){if(e==null)return{};var r=oee(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var lee=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,c=t.ry;return Qe.createElement("rect",{x:a,y:s,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function rF(e,t){var r;if(Qe.isValidElement(e))r=Qe.cloneElement(e,t);else if(mn(e))r=e(t);else{var n=t.x1,a=t.y1,s=t.x2,o=t.y2,l=t.key,c=RO(t,ree),u=bn(c,!1);u.offset;var d=RO(u,nee);r=Qe.createElement("line",zf({},d,{x1:n,y1:a,x2:s,y2:o,fill:"none",key:l}))}return r}function cee(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,s=e.horizontalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,c){var u=Es(Es({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return rF(a,u)});return Qe.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function uee(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,s=e.verticalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,c){var u=Es(Es({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return rF(a,u)});return Qe.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function dee(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,s=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(m){return Math.round(m+a-a)}).sort(function(m,p){return m-p});a!==d[0]&&d.unshift(0);var h=d.map(function(m,p){var y=!d[p+1],v=y?a+o-m:d[p+1]-m;if(v<=0)return null;var g=p%t.length;return Qe.createElement("rect",{key:"react-".concat(p),y:m,x:n,height:v,width:s,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Qe.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function fee(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,s=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(m){return Math.round(m+s-s)}).sort(function(m,p){return m-p});s!==d[0]&&d.unshift(0);var h=d.map(function(m,p){var y=!d[p+1],v=y?s+l-m:d[p+1]-m;if(v<=0)return null;var g=p%n.length;return Qe.createElement("rect",{key:"react-".concat(p),x:m,y:o,width:v,height:c,stroke:"none",fill:n[g],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return Qe.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var hee=function(t,r){var n=t.xAxis,a=t.width,s=t.height,o=t.offset;return xL(Kk(Es(Es(Es({},lp.defaultProps),n),{},{ticks:_u(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.left,o.left+o.width,r)},pee=function(t,r){var n=t.yAxis,a=t.width,s=t.height,o=t.offset;return xL(Kk(Es(Es(Es({},lp.defaultProps),n),{},{ticks:_u(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.top,o.top+o.height,r)},Y0={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function nF(e){var t,r,n,a,s,o,l=Hk(),c=Wk(),u=tZ(),d=Es(Es({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Y0.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Y0.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Y0.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Y0.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:Y0.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Y0.verticalFill,x:nr(e.x)?e.x:u.left,y:nr(e.y)?e.y:u.top,width:nr(e.width)?e.width:u.width,height:nr(e.height)?e.height:u.height}),h=d.x,m=d.y,p=d.width,y=d.height,v=d.syncWithTicks,g=d.horizontalValues,b=d.verticalValues,w=QQ(),j=ZQ();if(!nr(p)||p<=0||!nr(y)||y<=0||!nr(h)||h!==+h||!nr(m)||m!==+m)return null;var N=d.verticalCoordinatesGenerator||hee,S=d.horizontalCoordinatesGenerator||pee,P=d.horizontalPoints,A=d.verticalPoints;if((!P||!P.length)&&mn(S)){var O=g&&g.length,M=S({yAxis:j?Es(Es({},j),{},{ticks:O?g:j.ticks}):void 0,width:l,height:c,offset:u},O?!0:v);Ou(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(s0(M),"]")),Array.isArray(M)&&(P=M)}if((!A||!A.length)&&mn(N)){var F=b&&b.length,E=N({xAxis:w?Es(Es({},w),{},{ticks:F?b:w.ticks}):void 0,width:l,height:c,offset:u},F?!0:v);Ou(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(s0(E),"]")),Array.isArray(E)&&(A=E)}return Qe.createElement("g",{className:"recharts-cartesian-grid"},Qe.createElement(lee,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),Qe.createElement(cee,zf({},d,{offset:u,horizontalPoints:P,xAxis:w,yAxis:j})),Qe.createElement(uee,zf({},d,{offset:u,verticalPoints:A,xAxis:w,yAxis:j})),Qe.createElement(dee,zf({},d,{horizontalPoints:P})),Qe.createElement(fee,zf({},d,{verticalPoints:A})))}nF.displayName="CartesianGrid";var mee=["layout","type","stroke","connectNulls","isRange","ref"],xee=["key"],aF;function $h(e){"@babel/helpers - typeof";return $h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$h(e)}function iF(e,t){if(e==null)return{};var r=gee(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Hf(){return Hf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hf.apply(this,arguments)}function BO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BO(Object(r),!0).forEach(function(n){Bc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oF(n.key),n)}}function yee(e,t,r){return t&&UO(e.prototype,t),r&&UO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function bee(e,t,r){return t=u1(t),wee(e,sF()?Reflect.construct(t,r||[],u1(e).constructor):t.apply(e,r))}function wee(e,t){if(t&&($h(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nee(e)}function Nee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sF=function(){return!!e})()}function u1(e){return u1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},u1(e)}function jee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aj(e,t)}function aj(e,t){return aj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},aj(e,t)}function Bc(e,t,r){return t=oF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oF(e){var t=kee(e,"string");return $h(t)=="symbol"?t:t+""}function kee(e,t){if($h(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($h(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var of=(function(e){function t(){var r;vee(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=bee(this,t,[].concat(a)),Bc(r,"state",{isAnimationFinished:!0}),Bc(r,"id",yx("recharts-area-")),Bc(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),mn(o)&&o()}),Bc(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),mn(o)&&o()}),r}return jee(t,e),yee(t,[{key:"renderDots",value:function(n,a,s){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,h=c.dataKey,m=bn(this.props,!1),p=bn(u,!0),y=d.map(function(g,b){var w=Pd(Pd(Pd({key:"dot-".concat(b),r:3},m),p),{},{index:b,cx:g.x,cy:g.y,dataKey:h,value:g.value,payload:g.payload,points:d});return t.renderDotItem(u,w)}),v={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return Qe.createElement(Fa,Hf({className:"recharts-area-dots"},v),y)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,s=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=n*Math.abs(c-u),h=Fd(o.map(function(m){return m.y||0}));return nr(s)&&typeof s=="number"?h=Math.max(s,h):s&&Array.isArray(s)&&s.length&&(h=Math.max(Fd(s.map(function(m){return m.y||0})),h)),nr(h)?Qe.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(h+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,s=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=n*Math.abs(c-u),h=Fd(o.map(function(m){return m.x||0}));return nr(s)&&typeof s=="number"?h=Math.max(s,h):s&&Array.isArray(s)&&s.length&&(h=Math.max(Fd(s.map(function(m){return m.x||0})),h)),nr(h)?Qe.createElement("rect",{x:0,y:c<u?c:c-d,width:h+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,s,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,h=l.connectNulls,m=l.isRange;l.ref;var p=iF(l,mee);return Qe.createElement(Fa,{clipPath:s?"url(#clipPath-".concat(o,")"):null},Qe.createElement(am,Hf({},bn(p,!0),{points:n,connectNulls:h,type:u,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&Qe.createElement(am,Hf({},bn(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:h,fill:"none",points:n})),d!=="none"&&m&&Qe.createElement(am,Hf({},bn(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:h,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var s=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,h=o.animationDuration,m=o.animationEasing,p=o.animationId,y=this.state,v=y.prevPoints,g=y.prevBaseLine;return Qe.createElement(qu,{begin:d,duration:h,isActive:u,easing:m,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var w=b.t;if(v){var j=v.length/l.length,N=l.map(function(O,M){var F=Math.floor(M*j);if(v[F]){var E=v[F],T=hl(E.x,O.x),I=hl(E.y,O.y);return Pd(Pd({},O),{},{x:T(w),y:I(w)})}return O}),S;if(nr(c)&&typeof c=="number"){var P=hl(g,c);S=P(w)}else if(Sn(c)||rp(c)){var A=hl(g,0);S=A(w)}else S=c.map(function(O,M){var F=Math.floor(M*j);if(g[F]){var E=g[F],T=hl(E.x,O.x),I=hl(E.y,O.y);return Pd(Pd({},O),{},{x:T(w),y:I(w)})}return O});return s.renderAreaStatically(N,S,n,a)}return Qe.createElement(Fa,null,Qe.createElement("defs",null,Qe.createElement("clipPath",{id:"animationClipPath-".concat(a)},s.renderClipRect(w))),Qe.createElement(Fa,{clipPath:"url(#animationClipPath-".concat(a,")")},s.renderAreaStatically(l,c,n,a)))})}},{key:"renderArea",value:function(n,a){var s=this.props,o=s.points,l=s.baseLine,c=s.isAnimationActive,u=this.state,d=u.prevPoints,h=u.prevBaseLine,m=u.totalLength;return c&&o&&o.length&&(!d&&m>0||!Om(d,o)||!Om(h,l))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(o,l,n,a)}},{key:"render",value:function(){var n,a=this.props,s=a.hide,o=a.dot,l=a.points,c=a.className,u=a.top,d=a.left,h=a.xAxis,m=a.yAxis,p=a.width,y=a.height,v=a.isAnimationActive,g=a.id;if(s||!l||!l.length)return null;var b=this.state.isAnimationFinished,w=l.length===1,j=Hn("recharts-area",c),N=h&&h.allowDataOverflow,S=m&&m.allowDataOverflow,P=N||S,A=Sn(g)?this.id:g,O=(n=bn(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},M=O.r,F=M===void 0?3:M,E=O.strokeWidth,T=E===void 0?2:E,I=$B(o)?o:{},z=I.clipDot,Q=z===void 0?!0:z,te=F*2+T;return Qe.createElement(Fa,{className:j},N||S?Qe.createElement("defs",null,Qe.createElement("clipPath",{id:"clipPath-".concat(A)},Qe.createElement("rect",{x:N?d:d-p/2,y:S?u:u-y/2,width:N?p:p*2,height:S?y:y*2})),!Q&&Qe.createElement("clipPath",{id:"clipPath-dots-".concat(A)},Qe.createElement("rect",{x:d-te/2,y:u-te/2,width:p+te,height:y+te}))):null,w?null:this.renderArea(P,A),(o||w)&&this.renderDots(P,Q,A),(!v||b)&&Hd.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])})(V.PureComponent);aF=of;Bc(of,"displayName","Area");Bc(of,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!ap.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Bc(of,"getBaseValue",function(e,t,r,n){var a=e.layout,s=e.baseValue,o=t.props.baseValue,l=o??s;if(nr(l)&&typeof l=="number")return l;var c=a==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),h=Math.min(u[0],u[1]);return l==="dataMin"?h:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});Bc(of,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,s=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,h=e.displayedData,m=e.offset,p=t.layout,y=u&&u.length,v=aF.getBaseValue(t,r,n,a),g=p==="horizontal",b=!1,w=h.map(function(N,S){var P;y?P=u[d+S]:(P=Bo(N,c),Array.isArray(P)?b=!0:P=[v,P]);var A=P[1]==null||y&&Bo(N,c)==null;return g?{x:aT({axis:n,ticks:s,bandSize:l,entry:N,index:S}),y:A?null:a.scale(P[1]),value:P,payload:N}:{x:A?null:n.scale(P[1]),y:aT({axis:a,ticks:o,bandSize:l,entry:N,index:S}),value:P,payload:N}}),j;return y||b?j=w.map(function(N){var S=Array.isArray(N.value)?N.value[0]:null;return g?{x:N.x,y:S!=null&&N.y!=null?a.scale(S):null}:{x:S!=null?n.scale(S):null,y:N.y}}):j=g?a.scale(v):n.scale(v),Pd({points:w,baseLine:j,layout:p,isRange:b},m)});Bc(of,"renderDotItem",function(e,t){var r;if(Qe.isValidElement(e))r=Qe.cloneElement(e,t);else if(mn(e))r=e(t);else{var n=Hn("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,s=iF(t,xee);r=Qe.createElement(Uk,Hf({},s,{key:a,className:n}))}return r});function zh(e){"@babel/helpers - typeof";return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zh(e)}function See(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _ee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uF(n.key),n)}}function Aee(e,t,r){return t&&_ee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Eee(e,t,r){return t=d1(t),Cee(e,lF()?Reflect.construct(t,r||[],d1(e).constructor):t.apply(e,r))}function Cee(e,t){if(t&&(zh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tee(e)}function Tee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lF=function(){return!!e})()}function d1(e){return d1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},d1(e)}function Oee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ij(e,t)}function ij(e,t){return ij=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ij(e,t)}function cF(e,t,r){return t=uF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uF(e){var t=Pee(e,"string");return zh(t)=="symbol"?t:t+""}function Pee(e,t){if(zh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function sj(){return sj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sj.apply(this,arguments)}function Iee(e){var t=e.xAxisId,r=Hk(),n=Wk(),a=WL(t);return a==null?null:Qe.createElement(lp,sj({},a,{className:Hn("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return _u(o,!0)}}))}var dy=(function(e){function t(){return See(this,t),Eee(this,t,arguments)}return Oee(t,e),Aee(t,[{key:"render",value:function(){return Qe.createElement(Iee,this.props)}}])})(Qe.Component);cF(dy,"displayName","XAxis");cF(dy,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Hh(e){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hh(e)}function Dee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hF(n.key),n)}}function Fee(e,t,r){return t&&Lee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mee(e,t,r){return t=f1(t),Ree(e,dF()?Reflect.construct(t,r||[],f1(e).constructor):t.apply(e,r))}function Ree(e,t){if(t&&(Hh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bee(e)}function Bee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dF=function(){return!!e})()}function f1(e){return f1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},f1(e)}function Uee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oj(e,t)}function oj(e,t){return oj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},oj(e,t)}function fF(e,t,r){return t=hF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hF(e){var t=qee(e,"string");return Hh(t)=="symbol"?t:t+""}function qee(e,t){if(Hh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function lj(){return lj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lj.apply(this,arguments)}var $ee=function(t){var r=t.yAxisId,n=Hk(),a=Wk(),s=VL(r);return s==null?null:Qe.createElement(lp,lj({},s,{className:Hn("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return _u(l,!0)}}))},fy=(function(e){function t(){return Dee(this,t),Mee(this,t,arguments)}return Uee(t,e),Fee(t,[{key:"render",value:function(){return Qe.createElement($ee,this.props)}}])})(Qe.Component);fF(fy,"displayName","YAxis");fF(fy,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function qO(e){return Vee(e)||Wee(e)||Hee(e)||zee()}function zee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hee(e,t){if(e){if(typeof e=="string")return cj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cj(e,t)}}function Wee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Vee(e){if(Array.isArray(e))return cj(e)}function cj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var uj=function(t,r,n,a,s){var o=uc(t,Gk),l=uc(t,ly),c=[].concat(qO(o),qO(l)),u=uc(t,uy),d="".concat(a,"Id"),h=a[0],m=r;if(c.length&&(m=c.reduce(function(v,g){if(g.props[d]===n&&Hc(g.props,"extendDomain")&&nr(g.props[h])){var b=g.props[h];return[Math.min(v[0],b),Math.max(v[1],b)]}return v},m)),u.length){var p="".concat(h,"1"),y="".concat(h,"2");m=u.reduce(function(v,g){if(g.props[d]===n&&Hc(g.props,"extendDomain")&&nr(g.props[p])&&nr(g.props[y])){var b=g.props[p],w=g.props[y];return[Math.min(v[0],b,w),Math.max(v[1],b,w)]}return v},m)}return s&&s.length&&(m=s.reduce(function(v,g){return nr(g)?[Math.min(v[0],g),Math.max(v[1],g)]:v},m)),m},xN={exports:{}},$O;function Gee(){return $O||($O=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,h,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,h||c,m),y=r?r+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],p]:c._events[y].push(p):(c._events[y]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)t.call(d,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var m=0,p=h.length,y=new Array(p);m<p;m++)y[m]=h[m].fn;return y},l.prototype.listenerCount=function(u){var d=r?r+u:u,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,d,h,m,p,y){var v=r?r+u:u;if(!this._events[v])return!1;var g=this._events[v],b=arguments.length,w,j;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),b){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,h),!0;case 4:return g.fn.call(g.context,d,h,m),!0;case 5:return g.fn.call(g.context,d,h,m,p),!0;case 6:return g.fn.call(g.context,d,h,m,p,y),!0}for(j=1,w=new Array(b-1);j<b;j++)w[j-1]=arguments[j];g.fn.apply(g.context,w)}else{var N=g.length,S;for(j=0;j<N;j++)switch(g[j].once&&this.removeListener(u,g[j].fn,void 0,!0),b){case 1:g[j].fn.call(g[j].context);break;case 2:g[j].fn.call(g[j].context,d);break;case 3:g[j].fn.call(g[j].context,d,h);break;case 4:g[j].fn.call(g[j].context,d,h,m);break;default:if(!w)for(S=1,w=new Array(b-1);S<b;S++)w[S-1]=arguments[S];g[j].fn.apply(g[j].context,w)}}return!0},l.prototype.on=function(u,d,h){return s(this,u,d,h,!1)},l.prototype.once=function(u,d,h){return s(this,u,d,h,!0)},l.prototype.removeListener=function(u,d,h,m){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var y=this._events[p];if(y.fn)y.fn===d&&(!m||y.once)&&(!h||y.context===h)&&o(this,p);else{for(var v=0,g=[],b=y.length;v<b;v++)(y[v].fn!==d||m&&!y[v].once||h&&y[v].context!==h)&&g.push(y[v]);g.length?this._events[p]=g.length===1?g[0]:g:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(xN)),xN.exports}var Kee=Gee();const Xee=oa(Kee);var gN=new Xee,vN="recharts.syncMouseEvents";function Zm(e){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zm(e)}function Yee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pF(n.key),n)}}function Qee(e,t,r){return t&&Jee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yN(e,t,r){return t=pF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pF(e){var t=Zee(e,"string");return Zm(t)=="symbol"?t:t+""}function Zee(e,t){if(Zm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ete=(function(){function e(){Yee(this,e),yN(this,"activeIndex",0),yN(this,"coordinateList",[]),yN(this,"layout","horizontal")}return Qee(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,h=d===void 0?null:d,m=r.mouseHandlerCallback,p=m===void 0?null:m;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=s+c+u,m=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:h,pageY:m})}}}])})();function tte(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e?.[0],a=e?.[1];if(n&&a&&nr(n)&&nr(a))return!0}return!1}function rte(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function mF(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,s=e.endAngle,o=cs(t,r,n,a),l=cs(t,r,n,s);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function nte(e,t,r){var n,a,s,o;if(e==="horizontal")n=t.x,s=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,h=t.angle,m=cs(l,c,u,h),p=cs(l,c,d,h);n=m.x,a=m.y,s=p.x,o=p.y}else return mF(t);return[{x:n,y:a},{x:s,y:o}]}function ex(e){"@babel/helpers - typeof";return ex=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ex(e)}function zO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zO(Object(r),!0).forEach(function(n){ate(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ate(e,t,r){return t=ite(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ite(e){var t=ste(e,"string");return ex(t)=="symbol"?t:t+""}function ste(e,t){if(ex(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ex(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ote(e){var t,r,n=e.element,a=e.tooltipEventType,s=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,h=e.layout,m=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!s||!o||m!=="ScatterChart"&&a!=="axis")return null;var y,v=am;if(m==="ScatterChart")y=o,v=lJ;else if(m==="BarChart")y=rte(h,o,c,d),v=Bk;else if(h==="radial"){var g=mF(o),b=g.cx,w=g.cy,j=g.radius,N=g.startAngle,S=g.endAngle;y={cx:b,cy:w,startAngle:N,endAngle:S,innerRadius:j,outerRadius:j},v=wL}else y={points:nte(h,o,c)},v=am;var P=Pg(Pg(Pg(Pg({stroke:"#ccc",pointerEvents:"none"},c),y),bn(p,!1)),{},{payload:l,payloadIndex:u,className:Hn("recharts-tooltip-cursor",p.className)});return V.isValidElement(p)?V.cloneElement(p,P):V.createElement(v,P)}var lte=["item"],cte=["children","className","width","height","style","compact","title","desc"];function Wh(e){"@babel/helpers - typeof";return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wh(e)}function sm(){return sm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sm.apply(this,arguments)}function HO(e,t){return fte(e)||dte(e,t)||gF(e,t)||ute()}function ute(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dte(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function fte(e){if(Array.isArray(e))return e}function WO(e,t){if(e==null)return{};var r=hte(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function pte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mte(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vF(n.key),n)}}function xte(e,t,r){return t&&mte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gte(e,t,r){return t=h1(t),vte(e,xF()?Reflect.construct(t,r||[],h1(e).constructor):t.apply(e,r))}function vte(e,t){if(t&&(Wh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yte(e)}function yte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xF=function(){return!!e})()}function h1(e){return h1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},h1(e)}function bte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dj(e,t)}function dj(e,t){return dj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},dj(e,t)}function Vh(e){return jte(e)||Nte(e)||gF(e)||wte()}function wte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gF(e,t){if(e){if(typeof e=="string")return fj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fj(e,t)}}function Nte(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jte(e){if(Array.isArray(e))return fj(e)}function fj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function VO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VO(Object(r),!0).forEach(function(n){Qr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qr(e,t,r){return t=vF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vF(e){var t=kte(e,"string");return Wh(t)=="symbol"?t:t+""}function kte(e,t){if(Wh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ste={xAxis:["bottom","top"],yAxis:["left","right"]},_te={width:"100%",height:"100%"},yF={x:0,y:0};function Ig(e){return e}var Ate=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},Ete=function(t,r,n,a){var s=r.find(function(d){return d&&d.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:s.coordinate};if(t==="centric"){var o=s.coordinate,l=a.radius;return Tt(Tt(Tt({},a),cs(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,u=a.angle;return Tt(Tt(Tt({},a),cs(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return yF},hy=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Vh(l),Vh(u)):l},[]);return o.length>0?o:t&&t.length&&nr(a)&&nr(s)?t.slice(a,s+1):[]};function bF(e){return e==="number"?[0,"auto"]:void 0}var hj=function(t,r,n,a){var s=t.graphicalItems,o=t.tooltipAxis,l=hy(r,t);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var d,h=(d=u.props.data)!==null&&d!==void 0?d:r;h&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(h=h.slice(t.dataStartIndex,t.dataEndIndex+1));var m;if(o.dataKey&&!o.allowDuplicatedCategory){var p=h===void 0?l:h;m=xv(p,o.dataKey,a)}else m=h&&h[n]||l[n];return m?[].concat(Vh(c),[vL(u,m)]):c},[])},GO=function(t,r,n,a){var s=a||{x:t.chartX,y:t.chartY},o=Ate(s,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=qG(o,l,u,c);if(d>=0&&u){var h=u[d]&&u[d].value,m=hj(t,r,d,h),p=Ete(n,l,d,s);return{activeTooltipIndex:d,activeLabel:h,activePayload:m,activeCoordinate:p}}return null},Cte=function(t,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,h=t.children,m=t.stackOffset,p=mL(d,s);return n.reduce(function(y,v){var g,b=v.type.defaultProps!==void 0?Tt(Tt({},v.type.defaultProps),v.props):v.props,w=b.type,j=b.dataKey,N=b.allowDataOverflow,S=b.allowDuplicatedCategory,P=b.scale,A=b.ticks,O=b.includeHidden,M=b[o];if(y[M])return y;var F=hy(t.data,{graphicalItems:a.filter(function(C){var U,W=o in C.props?C.props[o]:(U=C.type.defaultProps)===null||U===void 0?void 0:U[o];return W===M}),dataStartIndex:c,dataEndIndex:u}),E=F.length,T,I,z;tte(b.domain,N,w)&&(T=P4(b.domain,null,N),p&&(w==="number"||P!=="auto")&&(z=nm(F,j,"category")));var Q=bF(w);if(!T||T.length===0){var te,J=(te=b.domain)!==null&&te!==void 0?te:Q;if(j){if(T=nm(F,j,w),w==="category"&&p){var ie=IB(T);S&&ie?(I=T,T=e1(0,E)):S||(T=lT(J,T,v).reduce(function(C,U){return C.indexOf(U)>=0?C:[].concat(Vh(C),[U])},[]))}else if(w==="category")S?T=T.filter(function(C){return C!==""&&!Sn(C)}):T=lT(J,T,v).reduce(function(C,U){return C.indexOf(U)>=0||U===""||Sn(U)?C:[].concat(Vh(C),[U])},[]);else if(w==="number"){var X=VG(F,a.filter(function(C){var U,W,B=o in C.props?C.props[o]:(U=C.type.defaultProps)===null||U===void 0?void 0:U[o],K="hide"in C.props?C.props.hide:(W=C.type.defaultProps)===null||W===void 0?void 0:W.hide;return B===M&&(O||!K)}),j,s,d);X&&(T=X)}p&&(w==="number"||P!=="auto")&&(z=nm(F,j,"category"))}else p?T=e1(0,E):l&&l[M]&&l[M].hasStack&&w==="number"?T=m==="expand"?[0,1]:gL(l[M].stackGroups,c,u):T=pL(F,a.filter(function(C){var U=o in C.props?C.props[o]:C.type.defaultProps[o],W="hide"in C.props?C.props.hide:C.type.defaultProps.hide;return U===M&&(O||!W)}),w,d,!0);if(w==="number")T=uj(h,T,M,s,A),J&&(T=P4(J,T,N));else if(w==="category"&&J){var Z=J,q=T.every(function(C){return Z.indexOf(C)>=0});q&&(T=Z)}}return Tt(Tt({},y),{},Qr({},M,Tt(Tt({},b),{},{axisType:s,domain:T,categoricalDomain:z,duplicateDomain:I,originalDomain:(g=b.domain)!==null&&g!==void 0?g:Q,isCategorical:p,layout:d})))},{})},Tte=function(t,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,h=t.children,m=hy(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=m.length,y=mL(d,s),v=-1;return n.reduce(function(g,b){var w=b.type.defaultProps!==void 0?Tt(Tt({},b.type.defaultProps),b.props):b.props,j=w[o],N=bF("number");if(!g[j]){v++;var S;return y?S=e1(0,p):l&&l[j]&&l[j].hasStack?(S=gL(l[j].stackGroups,c,u),S=uj(h,S,j,s)):(S=P4(N,pL(m,n.filter(function(P){var A,O,M=o in P.props?P.props[o]:(A=P.type.defaultProps)===null||A===void 0?void 0:A[o],F="hide"in P.props?P.props.hide:(O=P.type.defaultProps)===null||O===void 0?void 0:O.hide;return M===j&&!F}),"number",d),a.defaultProps.allowDataOverflow),S=uj(h,S,j,s)),Tt(Tt({},g),{},Qr({},j,Tt(Tt({axisType:s},a.defaultProps),{},{hide:!0,orientation:vl(Ste,"".concat(s,".").concat(v%2),null),domain:S,originalDomain:N,isCategorical:y,layout:d})))}return g},{})},Ote=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,h="".concat(a,"Id"),m=uc(d,s),p={};return m&&m.length?p=Cte(t,{axes:m,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=Tte(t,{Axis:s,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},Pte=function(t){var r=Dd(t),n=_u(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:fk(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Hv(r,n)}},KO=function(t){var r=t.children,n=t.defaultShowTooltip,a=Po(r,Fh),s=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},Ite=function(t){return!t||!t.length?!1:t.some(function(r){var n=Tu(r&&r.type);return n&&n.indexOf("Bar")>=0})},XO=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Dte=function(t,r){var n=t.props,a=t.graphicalItems,s=t.xAxisMap,o=s===void 0?{}:s,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,h=n.children,m=n.margin||{},p=Po(h,Fh),y=Po(h,hh),v=Object.keys(c).reduce(function(S,P){var A=c[P],O=A.orientation;return!A.mirror&&!A.hide?Tt(Tt({},S),{},Qr({},O,S[O]+A.width)):S},{left:m.left||0,right:m.right||0}),g=Object.keys(o).reduce(function(S,P){var A=o[P],O=A.orientation;return!A.mirror&&!A.hide?Tt(Tt({},S),{},Qr({},O,vl(S,"".concat(O))+A.height)):S},{top:m.top||0,bottom:m.bottom||0}),b=Tt(Tt({},g),v),w=b.bottom;p&&(b.bottom+=p.props.height||Fh.defaultProps.height),y&&r&&(b=HG(b,a,n,r));var j=u-b.left-b.right,N=d-b.top-b.bottom;return Tt(Tt({brushBottom:w},b),{},{width:Math.max(j,0),height:Math.max(N,0)})},Lte=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Fte=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,s=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,h=t.defaultProps,m=function(g,b){var w=b.graphicalItems,j=b.stackGroups,N=b.offset,S=b.updateId,P=b.dataStartIndex,A=b.dataEndIndex,O=g.barSize,M=g.layout,F=g.barGap,E=g.barCategoryGap,T=g.maxBarSize,I=XO(M),z=I.numericAxisName,Q=I.cateAxisName,te=Ite(w),J=[];return w.forEach(function(ie,X){var Z=hy(g.data,{graphicalItems:[ie],dataStartIndex:P,dataEndIndex:A}),q=ie.type.defaultProps!==void 0?Tt(Tt({},ie.type.defaultProps),ie.props):ie.props,C=q.dataKey,U=q.maxBarSize,W=q["".concat(z,"Id")],B=q["".concat(Q,"Id")],K={},re=c.reduce(function(pe,ae){var ye=b["".concat(ae.axisType,"Map")],Be=q["".concat(ae.axisType,"Id")];ye&&ye[Be]||ae.axisType==="zAxis"||i0();var $e=ye[Be];return Tt(Tt({},pe),{},Qr(Qr({},ae.axisType,$e),"".concat(ae.axisType,"Ticks"),_u($e)))},K),fe=re[Q],ce=re["".concat(Q,"Ticks")],he=j&&j[W]&&j[W].hasStack&&aK(ie,j[W].stackGroups),Oe=Tu(ie.type).indexOf("Bar")>=0,ee=Hv(fe,ce),De=[],je=te&&$G({barSize:O,stackGroups:j,totalSize:Lte(re,Q)});if(Oe){var oe,ue,_e=Sn(U)?T:U,Se=(oe=(ue=Hv(fe,ce,!0))!==null&&ue!==void 0?ue:_e)!==null&&oe!==void 0?oe:0;De=zG({barGap:F,barCategoryGap:E,bandSize:Se!==ee?Se:ee,sizeList:je[B],maxBarSize:_e}),Se!==ee&&(De=De.map(function(pe){return Tt(Tt({},pe),{},{position:Tt(Tt({},pe.position),{},{offset:pe.position.offset-Se/2})})}))}var Pe=ie&&ie.type&&ie.type.getComposedData;Pe&&J.push({props:Tt(Tt({},Pe(Tt(Tt({},re),{},{displayedData:Z,props:g,dataKey:C,item:ie,bandSize:ee,barPosition:De,offset:N,stackedData:he,layout:M,dataStartIndex:P,dataEndIndex:A}))),{},Qr(Qr(Qr({key:ie.key||"item-".concat(X)},z,re[z]),Q,re[Q]),"animationId",S)),childIndex:WB(ie,g.children),item:ie})}),J},p=function(g,b){var w=g.props,j=g.dataStartIndex,N=g.dataEndIndex,S=g.updateId;if(!N6({props:w}))return null;var P=w.children,A=w.layout,O=w.stackOffset,M=w.data,F=w.reverseStackOrder,E=XO(A),T=E.numericAxisName,I=E.cateAxisName,z=uc(P,n),Q=tK(M,z,"".concat(T,"Id"),"".concat(I,"Id"),O,F),te=c.reduce(function(q,C){var U="".concat(C.axisType,"Map");return Tt(Tt({},q),{},Qr({},U,Ote(w,Tt(Tt({},C),{},{graphicalItems:z,stackGroups:C.axisType===T&&Q,dataStartIndex:j,dataEndIndex:N}))))},{}),J=Dte(Tt(Tt({},te),{},{props:w,graphicalItems:z}),b?.legendBBox);Object.keys(te).forEach(function(q){te[q]=d(w,te[q],J,q.replace("Map",""),r)});var ie=te["".concat(I,"Map")],X=Pte(ie),Z=m(w,Tt(Tt({},te),{},{dataStartIndex:j,dataEndIndex:N,updateId:S,graphicalItems:z,stackGroups:Q,offset:J}));return Tt(Tt({formattedGraphicalItems:Z,graphicalItems:z,offset:J,stackGroups:Q},X),te)},y=(function(v){function g(b){var w,j,N;return pte(this,g),N=gte(this,g,[b]),Qr(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Qr(N,"accessibilityManager",new ete),Qr(N,"handleLegendBBoxUpdate",function(S){if(S){var P=N.state,A=P.dataStartIndex,O=P.dataEndIndex,M=P.updateId;N.setState(Tt({legendBBox:S},p({props:N.props,dataStartIndex:A,dataEndIndex:O,updateId:M},Tt(Tt({},N.state),{},{legendBBox:S}))))}}),Qr(N,"handleReceiveSyncEvent",function(S,P,A){if(N.props.syncId===S){if(A===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(P)}}),Qr(N,"handleBrushChange",function(S){var P=S.startIndex,A=S.endIndex;if(P!==N.state.dataStartIndex||A!==N.state.dataEndIndex){var O=N.state.updateId;N.setState(function(){return Tt({dataStartIndex:P,dataEndIndex:A},p({props:N.props,dataStartIndex:P,dataEndIndex:A,updateId:O},N.state))}),N.triggerSyncEvent({dataStartIndex:P,dataEndIndex:A})}}),Qr(N,"handleMouseEnter",function(S){var P=N.getMouseInfo(S);if(P){var A=Tt(Tt({},P),{},{isTooltipActive:!0});N.setState(A),N.triggerSyncEvent(A);var O=N.props.onMouseEnter;mn(O)&&O(A,S)}}),Qr(N,"triggeredAfterMouseMove",function(S){var P=N.getMouseInfo(S),A=P?Tt(Tt({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(A),N.triggerSyncEvent(A);var O=N.props.onMouseMove;mn(O)&&O(A,S)}),Qr(N,"handleItemMouseEnter",function(S){N.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Qr(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),Qr(N,"handleMouseMove",function(S){S.persist(),N.throttleTriggeredAfterMouseMove(S)}),Qr(N,"handleMouseLeave",function(S){N.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};N.setState(P),N.triggerSyncEvent(P);var A=N.props.onMouseLeave;mn(A)&&A(P,S)}),Qr(N,"handleOuterEvent",function(S){var P=HB(S),A=vl(N.props,"".concat(P));if(P&&mn(A)){var O,M;/.*touch.*/i.test(P)?M=N.getMouseInfo(S.changedTouches[0]):M=N.getMouseInfo(S),A((O=M)!==null&&O!==void 0?O:{},S)}}),Qr(N,"handleClick",function(S){var P=N.getMouseInfo(S);if(P){var A=Tt(Tt({},P),{},{isTooltipActive:!0});N.setState(A),N.triggerSyncEvent(A);var O=N.props.onClick;mn(O)&&O(A,S)}}),Qr(N,"handleMouseDown",function(S){var P=N.props.onMouseDown;if(mn(P)){var A=N.getMouseInfo(S);P(A,S)}}),Qr(N,"handleMouseUp",function(S){var P=N.props.onMouseUp;if(mn(P)){var A=N.getMouseInfo(S);P(A,S)}}),Qr(N,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Qr(N,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&N.handleMouseDown(S.changedTouches[0])}),Qr(N,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&N.handleMouseUp(S.changedTouches[0])}),Qr(N,"triggerSyncEvent",function(S){N.props.syncId!==void 0&&gN.emit(vN,N.props.syncId,S,N.eventEmitterSymbol)}),Qr(N,"applySyncEvent",function(S){var P=N.props,A=P.layout,O=P.syncMethod,M=N.state.updateId,F=S.dataStartIndex,E=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)N.setState(Tt({dataStartIndex:F,dataEndIndex:E},p({props:N.props,dataStartIndex:F,dataEndIndex:E,updateId:M},N.state)));else if(S.activeTooltipIndex!==void 0){var T=S.chartX,I=S.chartY,z=S.activeTooltipIndex,Q=N.state,te=Q.offset,J=Q.tooltipTicks;if(!te)return;if(typeof O=="function")z=O(J,S);else if(O==="value"){z=-1;for(var ie=0;ie<J.length;ie++)if(J[ie].value===S.activeLabel){z=ie;break}}var X=Tt(Tt({},te),{},{x:te.left,y:te.top}),Z=Math.min(T,X.x+X.width),q=Math.min(I,X.y+X.height),C=J[z]&&J[z].value,U=hj(N.state,N.props.data,z),W=J[z]?{x:A==="horizontal"?J[z].coordinate:Z,y:A==="horizontal"?q:J[z].coordinate}:yF;N.setState(Tt(Tt({},S),{},{activeLabel:C,activeCoordinate:W,activePayload:U,activeTooltipIndex:z}))}else N.setState(S)}),Qr(N,"renderCursor",function(S){var P,A=N.state,O=A.isTooltipActive,M=A.activeCoordinate,F=A.activePayload,E=A.offset,T=A.activeTooltipIndex,I=A.tooltipAxisBandSize,z=N.getTooltipEventType(),Q=(P=S.props.active)!==null&&P!==void 0?P:O,te=N.props.layout,J=S.key||"_recharts-cursor";return Qe.createElement(ote,{key:J,activeCoordinate:M,activePayload:F,activeTooltipIndex:T,chartName:r,element:S,isActive:Q,layout:te,offset:E,tooltipAxisBandSize:I,tooltipEventType:z})}),Qr(N,"renderPolarAxis",function(S,P,A){var O=vl(S,"type.axisType"),M=vl(N.state,"".concat(O,"Map")),F=S.type.defaultProps,E=F!==void 0?Tt(Tt({},F),S.props):S.props,T=M&&M[E["".concat(O,"Id")]];return V.cloneElement(S,Tt(Tt({},T),{},{className:Hn(O,T.className),key:S.key||"".concat(P,"-").concat(A),ticks:_u(T,!0)}))}),Qr(N,"renderPolarGrid",function(S){var P=S.props,A=P.radialLines,O=P.polarAngles,M=P.polarRadius,F=N.state,E=F.radiusAxisMap,T=F.angleAxisMap,I=Dd(E),z=Dd(T),Q=z.cx,te=z.cy,J=z.innerRadius,ie=z.outerRadius;return V.cloneElement(S,{polarAngles:Array.isArray(O)?O:_u(z,!0).map(function(X){return X.coordinate}),polarRadius:Array.isArray(M)?M:_u(I,!0).map(function(X){return X.coordinate}),cx:Q,cy:te,innerRadius:J,outerRadius:ie,key:S.key||"polar-grid",radialLines:A})}),Qr(N,"renderLegend",function(){var S=N.state.formattedGraphicalItems,P=N.props,A=P.children,O=P.width,M=P.height,F=N.props.margin||{},E=O-(F.left||0)-(F.right||0),T=fL({children:A,formattedGraphicalItems:S,legendWidth:E,legendContent:u});if(!T)return null;var I=T.item,z=WO(T,lte);return V.cloneElement(I,Tt(Tt({},z),{},{chartWidth:O,chartHeight:M,margin:F,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),Qr(N,"renderTooltip",function(){var S,P=N.props,A=P.children,O=P.accessibilityLayer,M=Po(A,Fc);if(!M)return null;var F=N.state,E=F.isTooltipActive,T=F.activeCoordinate,I=F.activePayload,z=F.activeLabel,Q=F.offset,te=(S=M.props.active)!==null&&S!==void 0?S:E;return V.cloneElement(M,{viewBox:Tt(Tt({},Q),{},{x:Q.left,y:Q.top}),active:te,label:z,payload:te?I:[],coordinate:T,accessibilityLayer:O})}),Qr(N,"renderBrush",function(S){var P=N.props,A=P.margin,O=P.data,M=N.state,F=M.offset,E=M.dataStartIndex,T=M.dataEndIndex,I=M.updateId;return V.cloneElement(S,{key:S.key||"_recharts-brush",onChange:Eg(N.handleBrushChange,S.props.onChange),data:O,x:nr(S.props.x)?S.props.x:F.left,y:nr(S.props.y)?S.props.y:F.top+F.height+F.brushBottom-(A.bottom||0),width:nr(S.props.width)?S.props.width:F.width,startIndex:E,endIndex:T,updateId:"brush-".concat(I)})}),Qr(N,"renderReferenceElement",function(S,P,A){if(!S)return null;var O=N,M=O.clipPathId,F=N.state,E=F.xAxisMap,T=F.yAxisMap,I=F.offset,z=S.type.defaultProps||{},Q=S.props,te=Q.xAxisId,J=te===void 0?z.xAxisId:te,ie=Q.yAxisId,X=ie===void 0?z.yAxisId:ie;return V.cloneElement(S,{key:S.key||"".concat(P,"-").concat(A),xAxis:E[J],yAxis:T[X],viewBox:{x:I.left,y:I.top,width:I.width,height:I.height},clipPathId:M})}),Qr(N,"renderActivePoints",function(S){var P=S.item,A=S.activePoint,O=S.basePoint,M=S.childIndex,F=S.isRange,E=[],T=P.props.key,I=P.item.type.defaultProps!==void 0?Tt(Tt({},P.item.type.defaultProps),P.item.props):P.item.props,z=I.activeDot,Q=I.dataKey,te=Tt(Tt({index:M,dataKey:Q,cx:A.x,cy:A.y,r:4,fill:Rk(P.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},bn(z,!1)),gv(z));return E.push(g.renderActiveDot(z,te,"".concat(T,"-activePoint-").concat(M))),O?E.push(g.renderActiveDot(z,Tt(Tt({},te),{},{cx:O.x,cy:O.y}),"".concat(T,"-basePoint-").concat(M))):F&&E.push(null),E}),Qr(N,"renderGraphicChild",function(S,P,A){var O=N.filterFormatItem(S,P,A);if(!O)return null;var M=N.getTooltipEventType(),F=N.state,E=F.isTooltipActive,T=F.tooltipAxis,I=F.activeTooltipIndex,z=F.activeLabel,Q=N.props.children,te=Po(Q,Fc),J=O.props,ie=J.points,X=J.isRange,Z=J.baseLine,q=O.item.type.defaultProps!==void 0?Tt(Tt({},O.item.type.defaultProps),O.item.props):O.item.props,C=q.activeDot,U=q.hide,W=q.activeBar,B=q.activeShape,K=!!(!U&&E&&te&&(C||W||B)),re={};M!=="axis"&&te&&te.props.trigger==="click"?re={onClick:Eg(N.handleItemMouseEnter,S.props.onClick)}:M!=="axis"&&(re={onMouseLeave:Eg(N.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:Eg(N.handleItemMouseEnter,S.props.onMouseEnter)});var fe=V.cloneElement(S,Tt(Tt({},O.props),re));function ce(ae){return typeof T.dataKey=="function"?T.dataKey(ae.payload):null}if(K)if(I>=0){var he,Oe;if(T.dataKey&&!T.allowDuplicatedCategory){var ee=typeof T.dataKey=="function"?ce:"payload.".concat(T.dataKey.toString());he=xv(ie,ee,z),Oe=X&&Z&&xv(Z,ee,z)}else he=ie?.[I],Oe=X&&Z&&Z[I];if(B||W){var De=S.props.activeIndex!==void 0?S.props.activeIndex:I;return[V.cloneElement(S,Tt(Tt(Tt({},O.props),re),{},{activeIndex:De})),null,null]}if(!Sn(he))return[fe].concat(Vh(N.renderActivePoints({item:O,activePoint:he,basePoint:Oe,childIndex:I,isRange:X})))}else{var je,oe=(je=N.getItemByXY(N.state.activeCoordinate))!==null&&je!==void 0?je:{graphicalItem:fe},ue=oe.graphicalItem,_e=ue.item,Se=_e===void 0?S:_e,Pe=ue.childIndex,pe=Tt(Tt(Tt({},O.props),re),{},{activeIndex:Pe});return[V.cloneElement(Se,pe),null,null]}return X?[fe,null,null]:[fe,null]}),Qr(N,"renderCustomized",function(S,P,A){return V.cloneElement(S,Tt(Tt({key:"recharts-customized-".concat(A)},N.props),N.state))}),Qr(N,"renderMap",{CartesianGrid:{handler:Ig,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:Ig},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:Ig},YAxis:{handler:Ig},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((w=b.id)!==null&&w!==void 0?w:yx("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=dD(N.triggeredAfterMouseMove,(j=b.throttleDelay)!==null&&j!==void 0?j:1e3/60),N.state={},N}return bte(g,v),xte(g,[{key:"componentDidMount",value:function(){var w,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,j=w.children,N=w.data,S=w.height,P=w.layout,A=Po(j,Fc);if(A){var O=A.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var M=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,F=hj(this.state,N,O,M),E=this.state.tooltipTicks[O].coordinate,T=(this.state.offset.top+S)/2,I=P==="horizontal",z=I?{x:E,y:T}:{y:E,x:T},Q=this.state.formattedGraphicalItems.find(function(J){var ie=J.item;return ie.type.name==="Scatter"});Q&&(z=Tt(Tt({},z),Q.props.points[O].tooltipPosition),F=Q.props.points[O].tooltipPayload);var te={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:M,activePayload:F,activeCoordinate:z};this.setState(te),this.renderCursor(A),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var N,S;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(w){e4([Po(w.children,Fc)],[Po(this.props.children,Fc)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Po(this.props.children,Fc);if(w&&typeof w.props.shared=="boolean"){var j=w.props.shared?"axis":"item";return l.indexOf(j)>=0?j:s}return s}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var j=this.container,N=j.getBoundingClientRect(),S=Pz(N),P={chartX:Math.round(w.pageX-S.left),chartY:Math.round(w.pageY-S.top)},A=N.width/j.offsetWidth||1,O=this.inRange(P.chartX,P.chartY,A);if(!O)return null;var M=this.state,F=M.xAxisMap,E=M.yAxisMap,T=this.getTooltipEventType();if(T!=="axis"&&F&&E){var I=Dd(F).scale,z=Dd(E).scale,Q=I&&I.invert?I.invert(P.chartX):null,te=z&&z.invert?z.invert(P.chartY):null;return Tt(Tt({},P),{},{xValue:Q,yValue:te})}var J=GO(this.state,this.props.data,this.props.layout,O);return J?Tt(Tt({},P),J):null}},{key:"inRange",value:function(w,j){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,P=w/N,A=j/N;if(S==="horizontal"||S==="vertical"){var O=this.state.offset,M=P>=O.left&&P<=O.left+O.width&&A>=O.top&&A<=O.top+O.height;return M?{x:P,y:A}:null}var F=this.state,E=F.angleAxisMap,T=F.radiusAxisMap;if(E&&T){var I=Dd(E);return dT({x:P,y:A},I)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,j=this.getTooltipEventType(),N=Po(w,Fc),S={};N&&j==="axis"&&(N.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var P=gv(this.props,this.handleOuterEvent);return Tt(Tt({},P),S)}},{key:"addListener",value:function(){gN.on(vN,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){gN.removeListener(vN,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,j,N){for(var S=this.state.formattedGraphicalItems,P=0,A=S.length;P<A;P++){var O=S[P];if(O.item===w||O.props.key===w.key||j===Tu(O.item.type)&&N===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,j=this.state.offset,N=j.left,S=j.top,P=j.height,A=j.width;return Qe.createElement("defs",null,Qe.createElement("clipPath",{id:w},Qe.createElement("rect",{x:N,y:S,height:P,width:A})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(j,N){var S=HO(N,2),P=S[0],A=S[1];return Tt(Tt({},j),{},Qr({},P,A.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(j,N){var S=HO(N,2),P=S[0],A=S[1];return Tt(Tt({},j),{},Qr({},P,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[w])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(w){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[w])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(w){var j=this.state,N=j.formattedGraphicalItems,S=j.activeItem;if(N&&N.length)for(var P=0,A=N.length;P<A;P++){var O=N[P],M=O.props,F=O.item,E=F.type.defaultProps!==void 0?Tt(Tt({},F.type.defaultProps),F.props):F.props,T=Tu(F.type);if(T==="Bar"){var I=(M.data||[]).find(function(J){return QY(w,J)});if(I)return{graphicalItem:O,payload:I}}else if(T==="RadialBar"){var z=(M.data||[]).find(function(J){return dT(w,J)});if(z)return{graphicalItem:O,payload:z}}else if(ay(O,S)||iy(O,S)||Km(O,S)){var Q=$J({graphicalItem:O,activeTooltipItem:S,itemData:E.data}),te=E.activeIndex===void 0?Q:E.activeIndex;return{graphicalItem:Tt(Tt({},O),{},{childIndex:te}),payload:Km(O,S)?E.data[Q]:O.props.data[Q]}}}return null}},{key:"render",value:function(){var w=this;if(!N6(this))return null;var j=this.props,N=j.children,S=j.className,P=j.width,A=j.height,O=j.style,M=j.compact,F=j.title,E=j.desc,T=WO(j,cte),I=bn(T,!1);if(M)return Qe.createElement(_O,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Qe.createElement(r4,sm({},I,{width:P,height:A,title:F,desc:E}),this.renderClipPath(),k6(N,this.renderMap)));if(this.props.accessibilityLayer){var z,Q;I.tabIndex=(z=this.props.tabIndex)!==null&&z!==void 0?z:0,I.role=(Q=this.props.role)!==null&&Q!==void 0?Q:"application",I.onKeyDown=function(J){w.accessibilityManager.keyboardEvent(J)},I.onFocus=function(){w.accessibilityManager.focus()}}var te=this.parseEventsOfWrapper();return Qe.createElement(_O,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Qe.createElement("div",sm({className:Hn("recharts-wrapper",S),style:Tt({position:"relative",cursor:"default",width:P,height:A},O)},te,{ref:function(ie){w.container=ie}}),Qe.createElement(r4,sm({},I,{width:P,height:A,title:F,desc:E,style:_te}),this.renderClipPath(),k6(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(V.Component);return Qr(y,"displayName",r),Qr(y,"defaultProps",Tt({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Qr(y,"getDerivedStateFromProps",function(v,g){var b=v.dataKey,w=v.data,j=v.children,N=v.width,S=v.height,P=v.layout,A=v.stackOffset,O=v.margin,M=g.dataStartIndex,F=g.dataEndIndex;if(g.updateId===void 0){var E=KO(v);return Tt(Tt(Tt({},E),{},{updateId:0},p(Tt(Tt({props:v},E),{},{updateId:0}),g)),{},{prevDataKey:b,prevData:w,prevWidth:N,prevHeight:S,prevLayout:P,prevStackOffset:A,prevMargin:O,prevChildren:j})}if(b!==g.prevDataKey||w!==g.prevData||N!==g.prevWidth||S!==g.prevHeight||P!==g.prevLayout||A!==g.prevStackOffset||!fh(O,g.prevMargin)){var T=KO(v),I={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},z=Tt(Tt({},GO(g,w,P)),{},{updateId:g.updateId+1}),Q=Tt(Tt(Tt({},T),I),z);return Tt(Tt(Tt({},Q),p(Tt({props:v},Q),g)),{},{prevDataKey:b,prevData:w,prevWidth:N,prevHeight:S,prevLayout:P,prevStackOffset:A,prevMargin:O,prevChildren:j})}if(!e4(j,g.prevChildren)){var te,J,ie,X,Z=Po(j,Fh),q=Z&&(te=(J=Z.props)===null||J===void 0?void 0:J.startIndex)!==null&&te!==void 0?te:M,C=Z&&(ie=(X=Z.props)===null||X===void 0?void 0:X.endIndex)!==null&&ie!==void 0?ie:F,U=q!==M||C!==F,W=!Sn(w),B=W&&!U?g.updateId:g.updateId+1;return Tt(Tt({updateId:B},p(Tt(Tt({props:v},g),{},{updateId:B,dataStartIndex:q,dataEndIndex:C}),g)),{},{prevChildren:j,dataStartIndex:q,dataEndIndex:C})}return null}),Qr(y,"renderActiveDot",function(v,g,b){var w;return V.isValidElement(v)?w=V.cloneElement(v,g):mn(v)?w=v(g):w=Qe.createElement(Uk,g),Qe.createElement(Fa,{className:"recharts-active-dot",key:b},w)}),function(g){return Qe.createElement(y,g)}},Mte=Fte({chartName:"AreaChart",GraphicalChild:of,axisComponents:[{axisType:"xAxis",AxisComp:dy},{axisType:"yAxis",AxisComp:fy}],formatAxisMap:RQ});const Rte=e=>{const t=e.toUpperCase().charCodeAt(0),r=[{bg:"bg-indigo-500",text:"text-white"},{bg:"bg-emerald-500",text:"text-white"},{bg:"bg-amber-500",text:"text-white"},{bg:"bg-rose-500",text:"text-white"},{bg:"bg-blue-500",text:"text-white"},{bg:"bg-purple-500",text:"text-white"},{bg:"bg-pink-500",text:"text-white"},{bg:"bg-cyan-500",text:"text-white"},{bg:"bg-orange-500",text:"text-white"},{bg:"bg-teal-500",text:"text-white"},{bg:"bg-lime-500",text:"text-white"},{bg:"bg-violet-500",text:"text-white"},{bg:"bg-fuchsia-500",text:"text-white"},{bg:"bg-sky-500",text:"text-white"},{bg:"bg-red-500",text:"text-white"},{bg:"bg-green-500",text:"text-white"}];return r[t%r.length]},ki=({src:e,alt:t,className:r,fallbackText:n,isAvatar:a})=>{const[s,o]=V.useState(!1),[l,c]=V.useState(!1),u=V.useMemo(()=>{const g=(n||t||"").trim();if(!g)return"?";if(a){const b=g.match(/[a-zA-Z0-9]/);return b?b[0].toUpperCase():"?"}else{const b=g.split(/\s+/).filter(w=>w.length>0);if(b.length===0)return"?";if(b.length===1){const w=b[0].match(/[a-zA-Z0-9]/);return w?w[0].toUpperCase():"?"}else{const w=b[0].match(/[a-zA-Z0-9]/),j=b[1].match(/[a-zA-Z0-9]/),N=w?w[0].toUpperCase():"",S=j?j[0].toUpperCase():"";return N&&S?`${N}${S}`:N||"?"}}},[n,t,a]),d=V.useMemo(()=>Rte(u),[u]),h=()=>r?.includes("w-5")||r?.includes("h-5")?"text-[10px]":r?.includes("w-6")||r?.includes("h-6")?"text-xs":r?.includes("w-8")||r?.includes("h-8")?"text-sm":r?.includes("w-10")||r?.includes("h-10")?"text-base":r?.includes("w-12")||r?.includes("h-12")||r?.includes("w-14")||r?.includes("h-14")?"text-lg":r?.includes("w-16")||r?.includes("h-16")?"text-xl":r?.includes("w-20")||r?.includes("h-20")?"text-2xl":r?.includes("w-24")||r?.includes("h-24")?"text-3xl":"text-base",p=a?"rounded-full":r?.includes("rounded-3xl")?"rounded-3xl":r?.includes("rounded-xl")?"rounded-xl":r?.includes("rounded-lg")?"rounded-lg":r?.includes("rounded-md")?"rounded-md":r?.includes("rounded-sm")?"rounded-sm":"rounded-lg",y=(r||"").replace(/\brounded-(full|3xl|xl|lg|md|sm)\b/g,"").trim();if(!a){const v=`${y} ${p} ${d.bg} ${d.text} flex items-center justify-center font-bold overflow-hidden select-none object-cover`;return i.jsx("div",{className:v,children:i.jsx("span",{className:h(),children:u})})}if(!e||s){const v=`${y} ${p} ${d.bg} ${d.text} flex items-center justify-center font-bold overflow-hidden select-none object-cover`;return i.jsx("div",{className:v,children:i.jsx("span",{className:h(),children:u})})}return i.jsxs(i.Fragment,{children:[!l&&i.jsx("div",{className:`${y} ${p} ${d.bg} ${d.text} flex items-center justify-center font-bold overflow-hidden select-none object-cover`,children:i.jsx("span",{className:h(),children:u})}),i.jsx("img",{src:e,alt:t,className:`${y} ${p} object-cover`,onError:()=>o(!0),onLoad:()=>c(!0),style:{display:l?"block":"none"}})]})},YO=(e,t=[])=>{if(typeof window>"u")return t;const r=localStorage.getItem(`impactflow_sim_${e}`);return r?JSON.parse(r):t},Dg=(e,t)=>{typeof window>"u"||localStorage.setItem(`impactflow_sim_${e}`,JSON.stringify(t))},JO=async(e,t={})=>{await new Promise(o=>setTimeout(o,600));const r=t.body?JSON.parse(t.body):{},n=(t.method||"GET").toUpperCase();if(console.info(`[VIRTUAL SERVER] ${n} ${e}`,r),e==="/auth/send-otp"||e==="/auth/request-code"){const o=r.email?.toLowerCase().trim();return console.warn("[VIRTUAL SERVER] Simulator fallback active for AUTH"),iv.some(c=>c.email.toLowerCase().trim()===o)?{success:!0,message:"Simulated OTP sent to "+o}:{status:404,message:"Account not found - contact your Administrator",success:!1}}if(e==="/auth/verify-otp"||e==="/auth/verify"){const o=r.email?.toLowerCase().trim();return{success:!0,token:"v-token-123",user:iv.find(c=>c.email.toLowerCase()===o)||{id:"u-gen",name:"Impact Member",email:r.email,role:"User",avatar:`https://picsum.photos/seed/${r.email}/100/100`,active:!0}}}if(e.includes("feedback")){let o=YO("feedback",[]);if(n==="POST"){const l={id:`fb-${Date.now()}`,...r,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return o.unshift(l),Dg("feedback",o),{success:!0,data:l,simulated:!0}}if(n==="PATCH"||n==="PUT"){const l=e.split("/").pop();return o=o.map(c=>c.id===l?{...c,...r,updatedAt:new Date().toISOString()}:c),Dg("feedback",o),{success:!0,simulated:!0}}if(n==="DELETE"){const l=e.split("/").pop();return o=o.filter(c=>c.id!==l),Dg("feedback",o),{success:!0,simulated:!0}}return{success:!0,data:o,simulated:!0}}const s=["deals","projects","tasks","invoices","companies","contacts","expenses","expense-categories"].find(o=>e.includes(o));if(s){let o=YO(s,[]);if(n==="POST"){const l={id:`sim-${s}-${Date.now()}`,...r,createdAt:new Date().toISOString()};return o.unshift(l),Dg(s,o),{success:!0,data:l,simulated:!0}}if(n==="GET"&&e.split("/").length>2){const l=e.split("/").pop();return{success:!0,data:o.find(u=>u.id===l),simulated:!0}}return{success:!0,data:o,simulated:!0}}if(e.includes("data-hygiene")){if(e.includes("duplicate-companies"))return{success:!0,data:{groups:[],totalDuplicates:0},simulated:!0};if(e.includes("duplicate-contacts"))return{success:!0,data:{groups:[],totalDuplicates:0},simulated:!0};if(e.includes("incomplete-records"))return{success:!0,data:{companies:[],contacts:[],deals:[],projects:[],invoices:[]},simulated:!0};if(e.includes("domain-mismatches"))return{success:!0,data:{mismatches:[],count:0},simulated:!0}}switch(e){case"/me":case"/auth/me":return iv[0];case"/google-calendar/status":return{connected:!1,simulated:!0};default:return{data:[],status:"ok",simulated:!0}}},wF=()=>"http://127.0.0.1:8050/api/v1/impactOS",Yk=wF();typeof window<"u"&&console.log(`[API] Initializing with Base: ${Yk}`);const Mt=async(e,t={})=>{const r=localStorage.getItem("auth_token"),n=e.startsWith("/")?e:`/${e}`,a=`${Yk}${n}`,s={"Content-Type":"application/json",...r?{Authorization:`Bearer ${r}`}:{},...t.headers};try{const o=await fetch(a,{...t,headers:s}),l=await o.json().catch(()=>({}));if(!o.ok){const u=["feedback","deals","projects","tasks","invoices","companies","contacts","automations","notifications","events","expenses","expense-categories","data-hygiene"].some(m=>n.includes(m));if(o.status===404&&u)return console.warn(`[SYSTEM] Live endpoint ${n} not found. Engaging Virtual Engine fallback.`),JO(n,t);let d=`Server Error ${o.status}`;try{l&&typeof l=="object"&&(d=l.message||l.error?.message||d)}catch{}const h=new Error(d);throw h.status=o.status,l?.error?.code&&typeof l.error.code=="string"&&(h.code=l.error.code),h}return l}catch(o){let l="Unknown error",c="Error",u,d;try{o&&typeof o=="object"?(l=o.message||String(o)||l,c=o.name||c,u=typeof o.status=="number"?o.status:void 0,d=typeof o.code=="string"?o.code:void 0):o&&(l=String(o))}catch{}const h=c==="TypeError"||l.includes("Failed to fetch"),m=u!==void 0&&u>=500,p=u!==void 0&&u>=400&&u<500;if(h||m&&!p)return console.info("[SYSTEM] Production API unreachable. Engaging Virtual Engine fallback."),JO(n,t);const y=new Error(l);throw u!==void 0&&(y.status=u),d&&(y.code=d),y}},QO=e=>Mt("/auth/send-otp",{method:"POST",body:JSON.stringify({email:e.email})}),Bte=e=>Mt("/auth/verify-otp",{method:"POST",body:JSON.stringify({email:e.email,otp:e.verificationCode})}),ZO=()=>Mt("/auth/me"),Ute=async()=>{try{await Mt("/auth/logout",{method:"POST"})}catch(e){console.error("Logout API error:",e)}finally{localStorage.removeItem("auth_token"),localStorage.removeItem("user_data")}},Kc=e=>{const t=e?`?search=${encodeURIComponent(e)}`:"";return Mt(`/users${t}`)},qte=e=>Mt("/users",{method:"POST",body:JSON.stringify(e)}),$te=(e,t)=>Mt(`/users/${e}`,{method:"PUT",body:JSON.stringify(t)}),zte=e=>Mt(`/users/${e}/dashboard-layout`),Hte=(e,t)=>Mt(`/users/${e}/dashboard-layout`,{method:"PUT",body:JSON.stringify({layout:t})}),Wte=e=>Mt(`/users/${e}`,{method:"DELETE"}),Vte=(e,t)=>Mt(`/users/${e}`,{method:"PUT",body:JSON.stringify(t)}),Gu=e=>Mt(`/companies${e?`?search=${encodeURIComponent(e)}`:""}`),Gte=e=>Mt("/companies",{method:"POST",body:JSON.stringify(e)}),NF=(e,t)=>Mt(`/companies/${e}`,{method:"PUT",body:JSON.stringify(t)}),jF=e=>Mt(`/companies/${e}`,{method:"DELETE"}),_x=(e,t)=>{const r=new URLSearchParams;e&&r.append("search",e);const n=r.toString();return Mt(`/contacts${n?`?${n}`:""}`)},eP=e=>Mt("/contacts",{method:"POST",body:JSON.stringify(e)}),kF=(e,t)=>Mt(`/contacts/${e}`,{method:"PUT",body:JSON.stringify(t)}),SF=e=>Mt(`/contacts/${e}`,{method:"DELETE"}),Jk=(e,t,r)=>{const n=new URLSearchParams;e&&n.append("userId",e);const a=n.toString();return Mt(`/deals${a?`?${a}`:""}`)},Kte=e=>Mt("/deals",{method:"POST",body:JSON.stringify(e)}),Lg=(e,t)=>Mt(`/deals/${e}`,{method:"PUT",body:JSON.stringify(t)}),tP=e=>Mt(`/deals/${e}`,{method:"DELETE"}),Ax=(e,t,r)=>{const n=new URLSearchParams;e&&n.append("userId",e);const a=n.toString();return Mt(`/projects${a?`?${a}`:""}`)},Xte=e=>Mt(`/projects/${e}`),Yte=e=>Mt("/projects",{method:"POST",body:JSON.stringify(e)}),bN=(e,t)=>Mt(`/projects/${e}`,{method:"PUT",body:JSON.stringify(t)}),rP=e=>Mt(`/projects/${e}`,{method:"DELETE"}),Gh=(e,t,r)=>{const n=new URLSearchParams;e&&n.append("userId",e);const a=n.toString();return Mt(`/tasks${a?`?${a}`:""}`)},p1=()=>Mt("/tasks/categories"),Jte=e=>Mt("/tasks",{method:"POST",body:JSON.stringify(e)}),Nu=(e,t)=>Mt(`/tasks/${e}`,{method:"PUT",body:JSON.stringify(t)}),pj=e=>Mt(`/tasks/${e}`,{method:"DELETE"}),Qte=e=>Mt("/tasks/bulk-import",{method:"POST",body:JSON.stringify({tasks:e})}),_F=(e,t,r)=>{const n=new URLSearchParams;e&&n.append("userId",e);const a=n.toString();return Mt(`/invoices${a?`?${a}`:""}`)},Zte=e=>Mt("/invoices",{method:"POST",body:JSON.stringify(e)}),Fg=(e,t)=>Mt(`/invoices/${e}`,{method:"PUT",body:JSON.stringify(t)}),nP=e=>Mt(`/invoices/${e}`,{method:"DELETE"}),ere=(e,t)=>Mt(`/invoices/revenue-velocity?userId=${e}&timeframe=${t}`),aP=e=>Mt(`/automations${e?`?userId=${e}`:""}`),tre=e=>Mt("/automations",{method:"POST",body:JSON.stringify(e)}),rre=e=>Mt(`/automations/${e}/toggle`,{method:"PATCH"}),nre=e=>Mt(`/automations/${e}`,{method:"DELETE"}),AF=(e,t)=>Mt(`/notifications?userId=${e}&limitNum=${t}`),Kh=e=>Mt("/notifications",{method:"POST",body:JSON.stringify(e)}),EF=(e,t)=>Mt(`/notifications/${e}/read`,{method:"POST",body:JSON.stringify({userId:t})}),CF=e=>Mt("/notifications/mark-all-read",{method:"POST",body:JSON.stringify({userId:e})}),are=e=>Mt(`/users/${e}/notification-preferences`),ire=(e,t)=>Mt(`/users/${e}/notification-preferences`,{method:"PUT",body:JSON.stringify({preferences:t})}),iP=()=>Mt("/pipelines"),sP=e=>Mt("/pipelines",{method:"POST",body:JSON.stringify(e)}),Mg=(e,t)=>Mt(`/pipelines/${e}`,{method:"PUT",body:JSON.stringify(t)}),sre=()=>Mt("/feedback"),TF=e=>Mt("/feedback",{method:"POST",body:JSON.stringify(e)}),wN=(e,t)=>Mt(`/feedback/${e}`,{method:"PATCH",body:JSON.stringify(t)}),oP=e=>Mt(`/feedback/${e}`,{method:"DELETE"}),ore=e=>{const t=new URLSearchParams;e?.companyId&&t.append("companyId",e.companyId),e?.userId&&t.append("userId",e.userId);const r=t.toString();return Mt(`/expenses${r?`?${r}`:""}`)},lre=e=>Mt("/expenses",{method:"POST",body:JSON.stringify(e)}),cre=(e,t)=>Mt(`/expenses/${e}`,{method:"PATCH",body:JSON.stringify(t)}),lP=e=>Mt(`/expenses/${e}`,{method:"DELETE"}),OF=()=>Mt("/expense-categories"),PF=e=>Mt("/expense-categories",{method:"POST",body:JSON.stringify(e)}),ure=e=>{const t=e?"?"+new URLSearchParams(Object.entries(e).filter(([r,n])=>n!==void 0).map(([r,n])=>[r,String(n)])).toString():"";return Mt(`/budgets${t}`)},dre=e=>Mt("/budgets",{method:"POST",body:JSON.stringify(e)}),fre=(e,t)=>Mt(`/budgets/${e}`,{method:"PUT",body:JSON.stringify(t)}),hre=e=>Mt(`/budgets/${e}`,{method:"DELETE"}),pre=e=>{const t="?"+new URLSearchParams(Object.entries(e).filter(([r,n])=>n!==void 0).map(([r,n])=>[r,String(n)])).toString();return Mt(`/budgets/tracking${t}`)},mre=()=>Mt("/budgets/departments"),xre=e=>{const t=e?"?"+new URLSearchParams(Object.entries(e).filter(([r,n])=>n)).toString():"";return Mt(`/contracts${t}`)},gre=e=>Mt("/contracts",{method:"POST",body:JSON.stringify(e)}),vre=(e,t)=>Mt(`/contracts/${e}`,{method:"PUT",body:JSON.stringify(t)}),yre=e=>Mt(`/contracts/${e}`,{method:"DELETE"}),bre=(e,t)=>Mt(`/contracts/${e}/sign`,{method:"POST",body:JSON.stringify(t)}),wre=()=>Mt("/contracts/document-types"),Nre=e=>Mt("/contracts/document-types",{method:"POST",body:JSON.stringify(e)}),cP=e=>{const t="?"+new URLSearchParams(Object.entries(e)).toString();return Mt(`/contracts/google-drive/access-token${t}`)},jre=e=>Mt("/contracts/google-drive/upload",{method:"POST",body:JSON.stringify(e)}),kre=e=>Mt("/contracts/signature/create-doc",{method:"POST",body:JSON.stringify(e)}),Sre=(e,t)=>Mt("/merge/companies",{method:"POST",body:JSON.stringify({primaryId:e,secondaryId:t})}),_re=(e,t)=>Mt("/merge/contacts",{method:"POST",body:JSON.stringify({primaryId:e,secondaryId:t})}),Are=()=>Mt("/data-hygiene/duplicate-companies"),Ere=()=>Mt("/data-hygiene/duplicate-contacts"),Cre=()=>Mt("/data-hygiene/incomplete-records"),Tre=()=>Mt("/data-hygiene/domain-mismatches"),Qk=e=>Mt(`/google-calendar/status?userId=${e}`),IF=e=>Mt(`/google-calendar/auth-url?userId=${e}`),Ore=(e,t,r)=>Mt(`/google-calendar/events?userId=${r}&startDate=${e}&endDate=${t}`),Pre=e=>Mt("/google-calendar/disconnect",{method:"POST",body:JSON.stringify({userId:e})}),Ire=(e,t)=>{const r=new URLSearchParams({userId:e});return Mt(`/shared-inbox/sync?${r.toString()}`,{method:"POST"})},Dre=e=>Mt(`/shared-inbox/accounts?userId=${e}`),DF=(e,t,r)=>{const n=new URLSearchParams({userId:e});return t&&n.append("search",t),Mt(`/shared-inbox/emails?${n.toString()}`)},Lre=(e,t)=>Mt(`/shared-inbox/emails/${e}?userId=${t}`),Fre=(e,t,r)=>Mt(`/shared-inbox/emails/${e}/read`,{method:"PUT",body:JSON.stringify({read:t,userId:r})}),Mre=(e,t)=>Mt(`/shared-inbox/emails/${e}/star`,{method:"PUT",body:JSON.stringify({isStarred:t})}),Rre=e=>Mt("/shared-inbox/notes",{method:"POST",body:JSON.stringify(e)}),Bre=e=>Mt(`/shared-inbox/notes/${e}`),Ure=(e,t)=>Mt(`/shared-inbox/notes/${e}`,{method:"DELETE",body:JSON.stringify({userId:t})}),qre=(e,t,r)=>Mt("/shared-inbox/ai-draft",{method:"POST",body:JSON.stringify({emailId:e,userId:t,templateId:r})}),$re=e=>Mt("/shared-inbox/templates",{method:"POST",body:JSON.stringify(e)}),zre=e=>Mt(`/shared-inbox/templates?userId=${e}`),Hre=(e,t)=>Mt(`/shared-inbox/templates/${e}`,{method:"DELETE",body:JSON.stringify({userId:t})}),Wre=e=>Mt("/shared-inbox/send-email",{method:"POST",body:JSON.stringify(e)}),Vre=e=>Mt("/shared-inbox/reply-email",{method:"POST",body:JSON.stringify(e)}),Gre=e=>Mt("/shared-inbox/forward-email",{method:"POST",body:JSON.stringify(e)}),Kre=e=>Mt(`/shared-inbox/signatures?userId=${e}`),Xre=(e,t)=>Mt(`/shared-inbox/emails/${e}`,{method:"PUT",body:JSON.stringify(t)}),uP=(e,t,r)=>{const n=wF();return fetch(`${n}/shared-inbox/emails/${e}/attachments/${t}?userId=${r}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then(async a=>{if(!a.ok){const s=await a.json().catch(()=>({message:"Failed to download attachment"}));throw new Error(s.message||"Failed to download attachment")}return a.blob()})},Yre=e=>Mt(`/shared-inbox/labels?userId=${e}`),Jre=e=>Mt("/shared-inbox/labels",{method:"POST",body:JSON.stringify(e)}),Qre=(e,t)=>Mt(`/shared-inbox/emails/${e}/labels`,{method:"PUT",body:JSON.stringify(t)}),Zre=(e,t)=>Mt(`/shared-inbox/emails/${e}/labels/${t}`,{method:"DELETE"}),ene=e=>Mt("/events",{method:"POST",body:JSON.stringify(e)}),tne=(e,t)=>Mt(`/events/${e}`,{method:"PUT",body:JSON.stringify(t)}),LF=e=>Mt("/lead-sources?active=true"),rne=async(e,t)=>{const r=localStorage.getItem("auth_token"),n=new FormData;n.append("file",e),n.append("userId",t);const a=await fetch(`${Yk}/scanner/business-card/upload`,{method:"POST",headers:{Authorization:`Bearer ${r}`},body:n});if(!a.ok){const s=await a.json().catch(()=>({message:"Upload failed"}));throw new Error(s.message||"Failed to upload business card")}return a.json()},nne=e=>Mt("/scanner/business-card/confirm",{method:"POST",body:JSON.stringify(e)}),ane=e=>Mt("/scanner/linkedin/fetch",{method:"POST",body:JSON.stringify(e)}),ine=e=>Mt("/scanner/linkedin/confirm",{method:"POST",body:JSON.stringify(e)}),sne=({toast:e,onRemove:t})=>{V.useEffect(()=>{const a=setTimeout(()=>{t(e.id)},e.duration||3e3);return()=>clearTimeout(a)},[e.id,e.duration,t]);const r=()=>{switch(e.type){case"success":return i.jsx(wn,{className:"w-5 h-5 text-emerald-600"});case"error":return i.jsx(oI,{className:"w-5 h-5 text-red-600"});case"warning":return i.jsx(Yn,{className:"w-5 h-5 text-amber-600"});case"info":return i.jsx(Vd,{className:"w-5 h-5 text-blue-600"});default:return i.jsx(Vd,{className:"w-5 h-5 text-blue-600"})}},n=()=>{switch(e.type){case"success":return"bg-emerald-50 border-emerald-200";case"error":return"bg-red-50 border-red-200";case"warning":return"bg-amber-50 border-amber-200";case"info":return"bg-blue-50 border-blue-200";default:return"bg-blue-50 border-blue-200"}};return i.jsxs("div",{className:`${n()} border rounded-xl shadow-lg p-4 flex items-center gap-3 min-w-[300px] max-w-md animate-in slide-in-from-right duration-300`,children:[i.jsx("div",{className:"shrink-0",children:r()}),i.jsx("p",{className:"flex-1 text-sm font-medium text-slate-900",children:e.message}),i.jsx("button",{onClick:()=>t(e.id),className:"shrink-0 p-1 hover:bg-white/50 rounded-lg transition-colors",children:i.jsx(mr,{className:"w-4 h-4 text-slate-400"})})]})},one=({toasts:e,onRemove:t})=>i.jsx("div",{className:"fixed top-4 right-4 z-[9999] flex flex-col gap-2 pointer-events-none",children:e.map(r=>i.jsx("div",{className:"pointer-events-auto",children:i.jsx(sne,{toast:r,onRemove:t})},r.id))}),FF=V.createContext(void 0),oi=()=>{const e=V.useContext(FF);if(!e)throw new Error("useToast must be used within ToastProvider");return e},lne=({children:e})=>{const[t,r]=V.useState([]),n=V.useCallback(u=>{r(d=>d.filter(h=>h.id!==u))},[]),a=V.useCallback((u,d="info",h=3e3)=>{const p={id:Math.random().toString(36).substring(2,9),message:u,type:d,duration:h};r(y=>[...y,p])},[]),s=V.useCallback((u,d)=>{a(u,"success",d)},[a]),o=V.useCallback((u,d)=>{a(u,"error",d||5e3)},[a]),l=V.useCallback((u,d)=>{a(u,"warning",d)},[a]),c=V.useCallback((u,d)=>{a(u,"info",d)},[a]);return i.jsxs(FF.Provider,{value:{showToast:a,showSuccess:s,showError:o,showWarning:l,showInfo:c},children:[e,i.jsx(one,{toasts:t,onRemove:n})]})},Xh=[{code:"USD",symbol:"$",name:"US Dollar"},{code:"EUR",symbol:"",name:"Euro"},{code:"GBP",symbol:"",name:"British Pound"},{code:"AED",symbol:".",name:"UAE Dirham"},{code:"SGD",symbol:"S$",name:"Singapore Dollar"},{code:"INR",symbol:"",name:"Indian Rupee"},{code:"AUD",symbol:"A$",name:"Australian Dollar"},{code:"CAD",symbol:"C$",name:"Canadian Dollar"},{code:"JPY",symbol:"",name:"Japanese Yen"},{code:"CNY",symbol:"",name:"Chinese Yuan"},{code:"CHF",symbol:"CHF",name:"Swiss Franc"},{code:"NZD",symbol:"NZ$",name:"New Zealand Dollar"},{code:"HKD",symbol:"HK$",name:"Hong Kong Dollar"},{code:"SAR",symbol:"",name:"Saudi Riyal"},{code:"ZAR",symbol:"R",name:"South African Rand"}],mi="USD",mj=e=>Xh.find(t=>t.code===e),ju=e=>e?mj(e)?.symbol||"$":Xh.find(r=>r.code===mi)?.symbol||"$",Au=(e,t)=>`${ju(t)}${e.toLocaleString()}`,dP=[{id:"stat-pipeline",order:0},{id:"stat-projects",order:1},{id:"stat-invoices",order:2},{id:"stat-tasks",order:3},{id:"revenue-chart",order:4},{id:"inbox-card",order:5},{id:"tasks-card",order:6}],fP=({onNavigate:e})=>{const{showError:t,showSuccess:r}=oi(),[n,a]=V.useState(null),[s,o]=V.useState({openPipeline:0,activeProjects:0,unpaidInvoices:0,actionableMail:0}),[l,c]=V.useState([]),[u,d]=V.useState([]),[h,m]=V.useState(!0),[p,y]=V.useState("1M"),[v,g]=V.useState([]),[b,w]=V.useState(!1),[j,N]=V.useState({}),[S,P]=V.useState({}),[A,O]=V.useState(mi),[M,F]=V.useState(!1),[E,T]=V.useState(dP),[I,z]=V.useState(null),[Q,te]=V.useState(!1),[J,ie]=V.useState(!1);V.useRef(0),V.useEffect(()=>{const ee=JSON.parse(localStorage.getItem("user_data")||"null");a(ee),ee?.id&&X(ee.id)},[]);const X=async ee=>{try{const De=await zte(ee);if(De?.data&&Array.isArray(De.data)){const je=De.data.flatMap(oe=>oe.id==="stats-grid"?[{id:"stat-pipeline",order:oe.order},{id:"stat-projects",order:oe.order+.1},{id:"stat-invoices",order:oe.order+.2},{id:"stat-tasks",order:oe.order+.3}]:oe.order>0?[{...oe,order:oe.order+3}]:[oe]);T(je)}}catch{console.log("[DASHBOARD] Using default layout")}},Z=async()=>{if(n?.id){ie(!0);try{await Hte(n.id,E),r("Dashboard layout saved"),te(!1)}catch{t("Failed to save layout")}finally{ie(!1)}}},q=()=>{T(dP)},C=(ee,De)=>{Q&&(z(De),ee.dataTransfer.effectAllowed="move",ee.dataTransfer.setData("text/html",De))},U=ee=>{!Q||!I||(ee.preventDefault(),ee.dataTransfer.dropEffect="move")},W=(ee,De)=>{if(!Q||!I||I===De)return;ee.preventDefault();const je=[...E],oe=je.findIndex(_e=>_e.id===I),ue=je.findIndex(_e=>_e.id===De);if(oe!==-1&&ue!==-1){const _e=je[oe];je.splice(oe,1),je.splice(ue,0,_e),je.forEach((Se,Pe)=>{Se.order=Pe}),T(je)}z(null)},B=()=>{z(null)};V.useEffect(()=>{(async()=>{m(!0);try{const De=JSON.parse(localStorage.getItem("user_data")||"{}").id;if(!De){m(!1);return}const[je,oe,ue,_e,Se,Pe]=await Promise.all([Jk(De).catch(()=>({data:[]})),Ax(De).catch(()=>({data:[]})),Gh(De).catch(()=>({data:[]})),_F(De).catch(()=>({data:[]})),DF(De).catch(()=>({data:[]})),Kc().catch(()=>({data:[]}))]),pe=je?.data||je||[],ae=oe?.data||oe||[],ye=ue?.data||ue||[],Be=_e?.data||_e||[],$e=Se?.data||Se||[],rt=Pe?.data||Pe||[],ft=Array.isArray(pe)?pe.filter(Kt=>Kt.stage!=="Won"&&Kt.stage!=="Lost"):[],Nt={},Ue={};ft.forEach(Kt=>{const Er=Kt.currency||mi,nn=Kt.value||0;Nt[Er]=(Nt[Er]||0)+nn,Ue[Er]=(Ue[Er]||0)+1});const dt=Array.isArray(ae)?ae.filter(Kt=>Kt.status!=="Completed"&&Kt.status!=="Cancelled").length:0,st=Array.isArray(Be)?Be.filter(Kt=>Kt.status!=="Paid"):[],it={};st.forEach(Kt=>{const Er=Kt.currency||mi,nn=Kt.amount||0;it[Er]=(it[Er]||0)+nn,Ue[Er]=(Ue[Er]||0)+1});let Re=0,vt=mi;Object.keys(Ue).forEach(Kt=>{Ue[Kt]>Re&&(Re=Ue[Kt],vt=Kt)}),N(Nt),P(it),O(vt);const nt=Nt[vt]||0,Rt=it[vt]||0,er=0,ar=new Date;ar.setHours(0,0,0,0);const $t=Array.isArray(ye)?ye.filter(Kt=>{if(!Kt.dueDate)return!1;const Er=new Date(Kt.dueDate);return Er.setHours(0,0,0,0),Er.getTime()===ar.getTime()&&Kt.status!=="Done"}):[],Pr=await Promise.all($t.slice(0,2).map(async Kt=>{if(Kt.projectId)try{const Er=await Xte(Kt.projectId);return{...Kt,projectTitle:Er?.data?.title||"Software"}}catch{return{...Kt,projectTitle:"Software"}}return{...Kt,projectTitle:"Software"}}));o({openPipeline:nt,activeProjects:dt,unpaidInvoices:Rt,actionableMail:er}),c(Pr),d(rt.slice(0,3))}catch(De){console.error("[DASHBOARD] Failed to fetch data:",De),t("Failed to load dashboard data")}finally{m(!1)}})()},[t]),V.useEffect(()=>{(async()=>{w(!0);try{const De=JSON.parse(localStorage.getItem("user_data")||"{}").id;if(!De){w(!1);return}const je=await ere(De,p),oe=je?.data||je||[];g(Array.isArray(oe)?oe:[])}catch{g([])}finally{w(!1)}})()},[p]);const K=(ee,De=A)=>{const je=ju(De);return ee>=1e3?`${je}${(ee/1e3).toFixed(1)}k`:`${je}${ee.toLocaleString()}`},re=ee=>{const je={draggable:Q,onDragStart:oe=>C(oe,ee),onDragOver:U,onDrop:oe=>W(oe,ee),onDragEnd:B,className:`transition-all ${I===ee?"opacity-50 scale-95":""} ${Q?"cursor-move":""}`};switch(ee){case"stat-pipeline":return i.jsxs("div",{...je,children:[Q&&i.jsxs("div",{className:"flex items-center gap-2 mb-3 text-indigo-600",children:[i.jsx(yu,{className:"w-5 h-5"}),i.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Open Pipeline"})]}),i.jsxs("button",{onClick:()=>e("pipeline"),className:"bg-white p-4 lg:p-7 rounded-[24px] lg:rounded-[28px] border border-slate-100 shadow-[0_4px_20px_rgba(0,0,0,0.02)] flex flex-col justify-between hover:border-indigo-300 transition-all text-left group active:scale-[0.98] w-full",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4 lg:mb-6",children:[i.jsx("div",{className:"p-2 rounded-lg lg:p-2.5 lg:rounded-xl text-blue-600 bg-blue-50/50 group-hover:scale-110 transition-transform",children:i.jsx(Cu,{className:"w-4 h-4 lg:w-5 lg:h-5"})}),i.jsx("span",{className:"text-[9px] lg:text-[10px] font-black text-emerald-600 bg-emerald-50 px-2 py-0.5 rounded-full",children:"+12%"})]}),i.jsxs("div",{className:"flex items-end justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-slate-400 text-[9px] lg:text-[10px] font-black uppercase tracking-[0.1em] lg:tracking-[0.15em]",children:"Open Pipeline"}),i.jsx("h3",{className:"text-lg lg:text-2xl font-black text-slate-900 mt-0.5 lg:mt-1",children:K(s.openPipeline,A)})]}),i.jsx("button",{onClick:oe=>{oe.stopPropagation(),F(!0)},className:"p-2 bg-indigo-50 hover:bg-indigo-100 text-indigo-600 rounded-lg transition-all shadow-sm ml-3 flex-shrink-0",title:"View in other currencies",children:i.jsx(Gf,{className:"w-4 h-4 lg:w-5 lg:h-5"})})]})]})]},ee);case"stat-projects":return i.jsxs("div",{...je,children:[Q&&i.jsxs("div",{className:"flex items-center gap-2 mb-3 text-indigo-600",children:[i.jsx(yu,{className:"w-5 h-5"}),i.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Active Projects"})]}),i.jsxs("button",{onClick:()=>e("projects"),className:"bg-white p-4 lg:p-7 rounded-[24px] lg:rounded-[28px] border border-indigo-200 shadow-[0_4px_20px_rgba(0,0,0,0.02)] flex flex-col justify-between hover:border-indigo-300 transition-all text-left group active:scale-[0.98] w-full",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4 lg:mb-6",children:[i.jsx("div",{className:"p-2 rounded-lg lg:p-2.5 lg:rounded-xl text-indigo-600 bg-indigo-50/50 group-hover:scale-110 transition-transform",children:i.jsx(cc,{className:"w-4 h-4 lg:w-5 lg:h-5"})}),i.jsx("span",{className:"text-[9px] lg:text-[10px] font-black text-emerald-600 bg-emerald-50 px-2 py-0.5 rounded-full",children:"+12%"})]}),i.jsx("div",{className:"flex items-end justify-between",children:i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-slate-400 text-[9px] lg:text-[10px] font-black uppercase tracking-[0.1em] lg:tracking-[0.15em]",children:"Active Projects"}),i.jsx("h3",{className:"text-lg lg:text-2xl font-black text-slate-900 mt-0.5 lg:mt-1",children:s.activeProjects})]})})]})]},ee);case"stat-invoices":return i.jsxs("div",{...je,children:[Q&&i.jsxs("div",{className:"flex items-center gap-2 mb-3 text-indigo-600",children:[i.jsx(yu,{className:"w-5 h-5"}),i.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Unpaid Invoices"})]}),i.jsxs("button",{onClick:()=>e("invoices"),className:"bg-white p-4 lg:p-7 rounded-[24px] lg:rounded-[28px] border border-slate-100 shadow-[0_4px_20px_rgba(0,0,0,0.02)] flex flex-col justify-between hover:border-indigo-300 transition-all text-left group active:scale-[0.98] w-full",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4 lg:mb-6",children:[i.jsx("div",{className:"p-2 rounded-lg lg:p-2.5 lg:rounded-xl text-emerald-600 bg-emerald-50/50 group-hover:scale-110 transition-transform",children:i.jsx(Mu,{className:"w-4 h-4 lg:w-5 lg:h-5"})}),i.jsx("span",{className:"text-[9px] lg:text-[10px] font-black text-emerald-600 bg-emerald-50 px-2 py-0.5 rounded-full",children:"+12%"})]}),i.jsxs("div",{className:"flex items-end justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-slate-400 text-[9px] lg:text-[10px] font-black uppercase tracking-[0.1em] lg:tracking-[0.15em]",children:"Unpaid Invoices"}),i.jsx("h3",{className:"text-lg lg:text-2xl font-black text-slate-900 mt-0.5 lg:mt-1",children:K(s.unpaidInvoices,A)})]}),i.jsx("button",{onClick:oe=>{oe.stopPropagation(),F(!0)},className:"p-2 bg-indigo-50 hover:bg-indigo-100 text-indigo-600 rounded-lg transition-all shadow-sm ml-3 flex-shrink-0",title:"View in other currencies",children:i.jsx(Gf,{className:"w-4 h-4 lg:w-5 lg:h-5"})})]})]})]},ee);case"stat-tasks":return i.jsxs("div",{...je,children:[Q&&i.jsxs("div",{className:"flex items-center gap-2 mb-3 text-indigo-600",children:[i.jsx(yu,{className:"w-5 h-5"}),i.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Tasks Due Today"})]}),i.jsxs("button",{onClick:()=>e("tasks"),className:"bg-white p-4 lg:p-7 rounded-[24px] lg:rounded-[28px] border border-slate-100 shadow-[0_4px_20px_rgba(0,0,0,0.02)] flex flex-col justify-between hover:border-indigo-300 transition-all text-left group active:scale-[0.98] w-full",children:[i.jsx("div",{className:"flex items-center justify-between mb-4 lg:mb-6",children:i.jsx("div",{className:"p-2 rounded-lg lg:p-2.5 lg:rounded-xl text-purple-600 bg-purple-50/50 group-hover:scale-110 transition-transform",children:i.jsx(gl,{className:"w-4 h-4 lg:w-5 lg:h-5"})})}),i.jsx("div",{className:"flex items-end justify-between",children:i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-slate-400 text-[9px] lg:text-[10px] font-black uppercase tracking-[0.1em] lg:tracking-[0.15em]",children:"Tasks Due Today"}),i.jsx("h3",{className:"text-lg lg:text-2xl font-black text-slate-900 mt-0.5 lg:mt-1",children:l.length})]})})]})]},ee);case"revenue-chart":return i.jsxs("div",{...je,children:[Q&&i.jsxs("div",{className:"flex items-center gap-2 mb-3 text-indigo-600",children:[i.jsx(yu,{className:"w-5 h-5"}),i.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Revenue Chart"})]}),i.jsxs("div",{className:"bg-white p-5 lg:p-8 rounded-[24px] lg:rounded-[32px] border border-slate-100 shadow-[0_8px_30px_rgba(0,0,0,0.02)]",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 lg:mb-10 gap-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg lg:text-xl font-black text-slate-900",children:"Revenue Velocity"}),i.jsx("p",{className:"text-slate-400 text-[10px] lg:text-xs font-medium mt-0.5 lg:mt-1",children:"Digital transformation revenue flow"})]}),i.jsx("div",{className:"flex bg-slate-50 p-1 rounded-xl border border-slate-100 w-full sm:w-auto",children:["7D","1M","1Y"].map(oe=>i.jsx("button",{onClick:()=>y(oe),className:`flex-1 sm:flex-none px-4 py-1.5 text-[10px] font-black rounded-lg transition-all ${oe===p?"bg-indigo-600 text-white shadow-md shadow-indigo-100":"text-slate-400 hover:text-slate-600"}`,children:oe},oe))})]}),i.jsx("div",{className:"h-60 lg:h-72 w-full relative",children:b?i.jsx("div",{className:"h-full flex items-center justify-center",children:i.jsx(i_,{className:"w-10 h-10 text-slate-300 animate-pulse"})}):v.length===0?i.jsx("div",{className:"h-full flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Cu,{className:"w-10 h-10 text-slate-200 mx-auto mb-2"}),i.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"No revenue data available"})]})}):i.jsx(Sz,{width:"100%",height:"100%",children:i.jsxs(Mte,{data:v,children:[i.jsx("defs",{children:i.jsxs("linearGradient",{id:"colorValue",x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"5%",stopColor:"#4f46e5",stopOpacity:.1}),i.jsx("stop",{offset:"95%",stopColor:"#4f46e5",stopOpacity:0})]})}),i.jsx(nF,{strokeDasharray:"3 3",vertical:!1,stroke:"#f8fafc"}),i.jsx(dy,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:9,fontWeight:700},dy:10}),i.jsx(fy,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:9,fontWeight:700},width:40,tickFormatter:oe=>`$${oe}`}),i.jsx(Fc,{contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 10px 25px rgba(0,0,0,0.1)",padding:"10px"},itemStyle:{fontWeight:"bold",fontSize:"12px",color:"#4f46e5"}}),i.jsx(of,{type:"monotone",dataKey:"value",stroke:"#4f46e5",fillOpacity:1,fill:"url(#colorValue)",strokeWidth:3,animationDuration:1500})]})})})]})]},ee);case"inbox-card":return i.jsxs("div",{...je,children:[Q&&i.jsxs("div",{className:"flex items-center gap-2 mb-3 text-indigo-600",children:[i.jsx(yu,{className:"w-5 h-5"}),i.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Inbox Card"})]}),i.jsxs("div",{onClick:()=>!Q&&e("inbox"),className:`bg-[#312E81] rounded-[24px] lg:rounded-[32px] p-6 lg:p-8 text-white relative overflow-hidden group ${Q?"":"cursor-pointer hover:scale-[1.02] active:scale-95"} transition-all shadow-xl shadow-indigo-100/50`,children:[i.jsxs("div",{className:"relative z-10",children:[i.jsxs("div",{className:"flex justify-between items-start mb-6 lg:mb-10",children:[i.jsx("div",{className:"w-8 h-8 lg:w-10 lg:h-10 bg-white/10 rounded-full flex items-center justify-center backdrop-blur-sm border border-white/10 group-hover:bg-white/20 transition-all",children:i.jsx(av,{className:"w-4 h-4 lg:w-5 lg:h-5"})}),!Q&&i.jsx("button",{className:"text-white/40 group-hover:text-white transition-colors",children:i.jsx(is,{className:"w-5 h-5 lg:w-6 lg:h-6"})})]}),i.jsx("h3",{className:"text-xl lg:text-2xl font-black mb-2 lg:mb-3",children:"Check Inbox"}),i.jsxs("p",{className:"text-indigo-200 text-[10px] lg:text-xs font-medium leading-relaxed opacity-80 max-w-[200px]",children:["You have ",s.actionableMail," actionable items that need attention."]}),i.jsx("div",{className:"mt-6 lg:mt-8 flex items-center gap-3",children:i.jsxs("div",{className:"flex -space-x-2",children:[u.map((oe,ue)=>i.jsx(ki,{src:oe.avatar,isAvatar:!0,fallbackText:oe.name||oe.email||"U",className:"w-7 h-7 lg:w-9 lg:h-9 border-2 border-[#312E81] shadow-lg"},oe.id||ue)),i.jsx("div",{className:"w-7 h-7 lg:w-9 lg:h-9 rounded-full bg-indigo-500 border-2 border-[#312E81] flex items-center justify-center text-[9px] font-black shadow-lg",children:"+1"})]})})]}),i.jsx("div",{className:"absolute right-0 bottom-0 opacity-10 translate-x-1/4 translate-y-1/4 pointer-events-none",children:i.jsx(dh,{className:"w-32 h-32 lg:w-48 lg:h-48"})})]})]},ee);case"tasks-card":return i.jsxs("div",{...je,children:[Q&&i.jsxs("div",{className:"flex items-center gap-2 mb-3 text-indigo-600",children:[i.jsx(yu,{className:"w-5 h-5"}),i.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Tasks Due Today"})]}),i.jsxs("div",{className:"bg-white rounded-[24px] lg:rounded-[32px] border border-slate-100 p-6 lg:p-8 shadow-[0_8px_30px_rgba(0,0,0,0.02)]",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6 lg:mb-8",children:[i.jsx("h4",{className:"text-[10px] lg:text-[11px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Tasks Due Today"}),i.jsx(gl,{className:"w-4 h-4 text-indigo-400"})]}),i.jsx("div",{className:"space-y-4 lg:space-y-6",children:h?i.jsx("div",{className:"space-y-3",children:[1,2].map(oe=>i.jsx("div",{className:"h-4 bg-slate-50 rounded animate-pulse"},oe))}):l.length>0?l.slice(0,2).map(oe=>i.jsxs("div",{className:"flex gap-4 group cursor-pointer",children:[i.jsx("div",{className:"w-1.5 h-1.5 lg:w-2 lg:h-2 rounded-full bg-amber-400 mt-1.5 shrink-0 shadow-sm"}),i.jsxs("div",{children:[i.jsx("h5",{className:"text-xs lg:text-sm font-black text-slate-900 group-hover:text-indigo-600 transition-colors line-clamp-1",children:oe.title}),i.jsx("p",{className:"text-[9px] lg:text-[10px] font-black text-slate-400 uppercase mt-0.5",children:oe.projectTitle||"Software"})]})]},oe.id)):i.jsx("div",{className:"text-center py-4",children:i.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:"No tasks due today"})})}),i.jsx("button",{onClick:()=>!Q&&e("tasks"),disabled:Q,className:"w-full mt-8 lg:mt-10 py-3 bg-slate-50 text-indigo-600 text-[10px] font-black rounded-xl hover:bg-indigo-50 transition-all uppercase tracking-widest flex items-center justify-center gap-2 group border border-slate-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"View All Tasks"})]})]},ee);default:return null}},fe=n?.name?.split(" ")[0]||"Alex",ce=n?.avatar||n?.photoURL||"",he=n?.name||n?.email||"Impact Member",Oe=[...E].sort((ee,De)=>ee.order-De.order);return i.jsxs("div",{className:"space-y-6 lg:space-y-8 animate-in fade-in duration-500 pb-10",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ki,{src:ce,alt:he,fallbackText:he,isAvatar:!0,className:"w-10 h-10 rounded-full border border-slate-200 shadow-sm"}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsxs("h1",{className:"text-2xl lg:text-3xl font-bold text-slate-900 tracking-tight",children:["Welcome, ",fe]}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("span",{className:"text-slate-500 text-xs lg:text-sm font-medium",children:"Logistics digitalization hub"})})]})]}),i.jsx("div",{className:"flex items-center gap-2",children:Q?i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:q,className:"px-4 py-2 border-2 border-slate-200 text-slate-600 text-xs font-black rounded-xl hover:bg-slate-50 transition-all uppercase tracking-wider",children:"Reset"}),i.jsx("button",{onClick:Z,disabled:J,className:"px-4 py-2 bg-indigo-600 text-white text-xs font-black rounded-xl hover:bg-indigo-700 transition-all uppercase tracking-wider flex items-center gap-2 disabled:opacity-50 shadow-lg",children:J?i.jsxs(i.Fragment,{children:[i.jsx(i_,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(ro,{className:"w-4 h-4"}),"Save Layout"]})}),i.jsx("button",{onClick:()=>te(!1),className:"px-4 py-2 border-2 border-slate-200 text-slate-600 text-xs font-black rounded-xl hover:bg-slate-50 transition-all uppercase tracking-wider",children:"Cancel"})]}):i.jsxs("button",{onClick:()=>te(!0),className:"px-4 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white text-xs font-black rounded-xl hover:from-indigo-700 hover:to-purple-700 transition-all uppercase tracking-wider flex items-center gap-2 shadow-lg",children:[i.jsx(yu,{className:"w-4 h-4"}),"Customize Dashboard"]})})]}),Q&&i.jsx("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 border-2 border-indigo-200 rounded-2xl p-4 animate-in slide-in-from-top duration-300",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center shrink-0",children:i.jsx(yu,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-black text-slate-900 mb-1",children:"Customize Your Dashboard"}),i.jsx("p",{className:"text-xs text-slate-600 leading-relaxed",children:"Drag and drop the cards below to rearrange them. Your layout will be saved to your account and synced across all devices."})]})]})}),i.jsx("div",{className:"space-y-6 lg:space-y-8",children:Oe.map((ee,De)=>{const je=re(ee.id);if(ee.id.startsWith("stat-")){const _e=Oe[De-1];if(_e&&_e.id.startsWith("stat-"))return null;{const Pe=[];for(let pe=De;pe<Oe.length&&Oe[pe].id.startsWith("stat-");pe++)Pe.push(Oe[pe]);return i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 lg:gap-6",children:Pe.map(pe=>re(pe.id))},`stat-cards-group-${De}`)}}if(ee.id==="revenue-chart"){const _e=Oe[Oe.indexOf(ee)+1],Se=Oe[Oe.indexOf(ee)+2];if(_e&&Se&&(_e.id==="inbox-card"&&Se.id==="tasks-card"||_e.id==="tasks-card"&&Se.id==="inbox-card"))return i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 lg:gap-8",children:[i.jsx("div",{className:"lg:col-span-2",children:je}),i.jsxs("div",{className:"space-y-6 lg:space-y-8",children:[re(_e.id),re(Se.id)]})]},"revenue-with-sidebar")}return Oe[Oe.indexOf(ee)-2]?.id==="revenue-chart"&&(ee.id==="inbox-card"||ee.id==="tasks-card")?null:je})}),M&&i.jsxs("div",{className:"fixed inset-0 z-[120] overflow-hidden pointer-events-none",children:[i.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md pointer-events-auto animate-in fade-in duration-300",onClick:()=>F(!1)}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4 pointer-events-none",children:i.jsxs("div",{className:"bg-white rounded-[32px] shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden pointer-events-auto animate-in zoom-in-95 duration-300 flex flex-col",children:[i.jsx("div",{className:"p-6 lg:p-8 border-b border-slate-100 bg-gradient-to-r from-indigo-50 to-purple-50",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-indigo-600 flex items-center justify-center text-white shadow-lg",children:i.jsx(Gf,{className:"w-6 h-6"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-black text-slate-900",children:"Currency Totals"}),i.jsx("p",{className:"text-sm text-slate-500 font-medium mt-0.5",children:"View totals in different currencies"})]})]}),i.jsx("button",{onClick:()=>F(!1),className:"p-2 hover:bg-white rounded-full text-slate-400 hover:text-slate-600 transition-all",children:i.jsx(mr,{className:"w-5 h-5"})})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto p-6 lg:p-8 custom-scrollbar",children:i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-widest mb-4 flex items-center gap-2",children:[i.jsx(Cu,{className:"w-4 h-4 text-blue-600"}),"Open Pipeline"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.keys(j).length>0?Object.entries(j).sort((ee,De)=>De[1]-ee[1]).map(([ee,De])=>{const je=mj(ee),oe=ee===A;return i.jsxs("div",{className:`p-5 rounded-2xl border-2 ${oe?"bg-indigo-50 border-indigo-300 shadow-md":"bg-slate-50 border-slate-200"} transition-all hover:shadow-lg`,children:[i.jsx("div",{className:"flex items-center justify-between mb-2",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-lg font-black text-slate-900",children:je?.symbol||ee}),i.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase",children:ee}),oe&&i.jsx("span",{className:"px-2 py-0.5 bg-indigo-600 text-white text-[9px] font-black uppercase rounded-full",children:"Most Used"})]})}),i.jsx("p",{className:"text-2xl font-black text-slate-900",children:Au(De,ee)}),i.jsx("p",{className:"text-xs text-slate-400 font-medium mt-1",children:je?.name||ee})]},ee)}):i.jsx("div",{className:"col-span-2 p-8 text-center bg-slate-50 rounded-2xl border border-slate-200",children:i.jsx("p",{className:"text-slate-400 font-medium",children:"No pipeline data available"})})})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-widest mb-4 flex items-center gap-2",children:[i.jsx(Mu,{className:"w-4 h-4 text-emerald-600"}),"Unpaid Invoices"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.keys(S).length>0?Object.entries(S).sort((ee,De)=>De[1]-ee[1]).map(([ee,De])=>{const je=mj(ee),oe=ee===A;return i.jsxs("div",{className:`p-5 rounded-2xl border-2 ${oe?"bg-indigo-50 border-indigo-300 shadow-md":"bg-slate-50 border-slate-200"} transition-all hover:shadow-lg`,children:[i.jsx("div",{className:"flex items-center justify-between mb-2",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-lg font-black text-slate-900",children:je?.symbol||ee}),i.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase",children:ee}),oe&&i.jsx("span",{className:"px-2 py-0.5 bg-indigo-600 text-white text-[9px] font-black uppercase rounded-full",children:"Most Used"})]})}),i.jsx("p",{className:"text-2xl font-black text-slate-900",children:Au(De,ee)}),i.jsx("p",{className:"text-xs text-slate-400 font-medium mt-1",children:je?.name||ee})]},ee)}):i.jsx("div",{className:"col-span-2 p-8 text-center bg-slate-50 rounded-2xl border border-slate-200",children:i.jsx("p",{className:"text-slate-400 font-medium",children:"No invoice data available"})})})]})]})}),i.jsx("div",{className:"p-6 lg:p-8 border-t border-slate-100 bg-slate-50",children:i.jsxs("button",{onClick:()=>F(!1),className:"w-full py-4 bg-indigo-600 text-white font-black uppercase text-xs tracking-widest rounded-2xl hover:bg-indigo-700 transition-all shadow-lg flex items-center justify-center gap-2",children:[i.jsx(gl,{className:"w-4 h-4"}),"Close"]})})]})})]})]})},MF=({extractedData:e,suggestions:t,source:r,onConfirm:n,onCancel:a,isProcessing:s=!1,companies:o})=>{const[l,c]=V.useState(""),[u,d]=V.useState(""),[h,m]=V.useState(""),[p,y]=V.useState(""),[v,g]=V.useState(""),[b,w]=V.useState(""),[j,N]=V.useState(""),[S,P]=V.useState(null),[A,O]=V.useState({});V.useEffect(()=>{r==="business_card"?(c(e?.name?.value||""),d(e?.email?.value||""),m(e?.phone?.value||""),y(e?.title?.value||""),g(e?.linkedin?.value||""),w(e?.company?.value||""),N(e?.website?.value||"")):r==="linkedin"&&(c(e?.name||""),d(e?.email||""),m(e?.phone||""),y(e?.currentRole||e?.headline||""),g(e?.profileImageUrl||""),w(e?.currentCompany||""),N(e?.companyWebsite||"")),t?.existingCompany&&P(t.existingCompany.id)},[e,t,r]);const M=I=>I>=95?"text-green-600 bg-green-50":I>=75?"text-yellow-600 bg-yellow-50":"text-red-600 bg-red-50",F=I=>I>=95?"High Confidence":I>=75?"Medium - Verify":"Low - Review",E=()=>{const I={};return l.trim()||(I.name="Name is required"),u&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u)&&(I.email="Invalid email format"),!S&&!b.trim()&&(I.company="Company is required"),O(I),Object.keys(I).length===0},T=()=>{if(!E())return;const I={name:l,email:u.toLowerCase(),phone:h,role:p,linkedin:v};n(I,{name:b,website:j},S)};return i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-start mb-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Review & Confirm"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:r==="business_card"?"Verify scanned business card data":"Verify LinkedIn profile data"})]}),i.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 transition-colors",children:i.jsx(mr,{className:"w-6 h-6"})})]}),t?.existingContact&&i.jsxs("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg flex items-start",children:[i.jsx(Kd,{className:"w-5 h-5 text-yellow-600 mr-3 mt-0.5 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-yellow-900",children:"Duplicate Contact Detected"}),i.jsxs("p",{className:"text-sm text-yellow-800 mt-1",children:['A contact with email "',t.existingContact.email,'" already exists.']}),i.jsx("div",{className:"mt-2 flex gap-2",children:i.jsx("button",{type:"button",className:"text-sm text-yellow-900 underline hover:no-underline",onClick:()=>window.dispatchEvent(new CustomEvent("navigate-to-contact",{detail:t.existingContact.id})),children:"View Existing Contact"})})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Information"}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),i.jsxs("div",{className:"relative",children:[i.jsx(pl,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"text",value:l,onChange:I=>c(I.target.value),className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${A.name?"border-red-500":"border-gray-300"}`,placeholder:"John Doe"}),r==="business_card"&&e?.name?.confidence>0&&i.jsx("span",{className:`absolute right-3 top-2.5 text-xs px-2 py-1 rounded ${M(e.name.confidence)}`,children:F(e.name.confidence)})]}),A.name&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:A.name})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),i.jsxs("div",{className:"relative",children:[i.jsx(eo,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"email",value:u,onChange:I=>d(I.target.value),className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${A.email?"border-red-500":"border-gray-300"}`,placeholder:"john@example.com"}),r==="business_card"&&e?.email?.confidence>0&&i.jsx("span",{className:`absolute right-3 top-2.5 text-xs px-2 py-1 rounded ${M(e.email.confidence)}`,children:F(e.email.confidence)})]}),A.email&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:A.email})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),i.jsxs("div",{className:"relative",children:[i.jsx(YN,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"tel",value:h,onChange:I=>m(I.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"+1 (555) 123-4567"}),r==="business_card"&&e?.phone?.confidence>0&&i.jsx("span",{className:`absolute right-3 top-2.5 text-xs px-2 py-1 rounded ${M(e.phone.confidence)}`,children:F(e.phone.confidence)})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role/Title"}),i.jsxs("div",{className:"relative",children:[i.jsx(cc,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"text",value:p,onChange:I=>y(I.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Chief Technology Officer"}),r==="business_card"&&e?.title?.confidence>0&&i.jsx("span",{className:`absolute right-3 top-2.5 text-xs px-2 py-1 rounded ${M(e.title.confidence)}`,children:F(e.title.confidence)})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"LinkedIn Profile"}),i.jsxs("div",{className:"relative",children:[i.jsx(Xf,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"url",value:v,onChange:I=>g(I.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://linkedin.com/in/johndoe"})]})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Company Information"}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company *"}),i.jsxs("select",{value:S||"new",onChange:I=>{const z=I.target.value;if(z==="new")P(null);else{P(z);const Q=o.find(te=>te.id===z);Q&&(w(Q.name),N(Q.website))}},className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${A.company?"border-red-500":"border-gray-300"}`,children:[i.jsx("option",{value:"new",children:"+ Create New Company"}),o.map(I=>i.jsx("option",{value:I.id,children:I.name},I.id))]}),A.company&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:A.company})]}),!S&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name *"}),i.jsxs("div",{className:"relative",children:[i.jsx(qd,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"text",value:b,onChange:I=>w(I.target.value),className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${A.company?"border-red-500":"border-gray-300"}`,placeholder:"TechCorp Industries"})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Website"}),i.jsxs("div",{className:"relative",children:[i.jsx(Gf,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"url",value:j,onChange:I=>N(I.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://www.techcorp.com"})]})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx("button",{type:"button",onClick:a,disabled:s,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"}),i.jsx("button",{type:"button",onClick:T,disabled:s,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:s?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Creating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(wn,{className:"w-5 h-5"}),"Confirm & Save"]})})]})]})},cne=({onClose:e,onSuccess:t,currentUserId:r})=>{const{showSuccess:n,showError:a}=oi(),[s,o]=V.useState("select"),[l,c]=V.useState(null),[u,d]=V.useState(null),[h,m]=V.useState(null),[p,y]=V.useState(null),[v,g]=V.useState(null),[b,w]=V.useState(!1),[j,N]=V.useState([]),[S,P]=V.useState([]),A=V.useRef(null),O=V.useRef(null),M=V.useRef(null),F=V.useRef(null);Qe.useEffect(()=>{(async()=>{try{const[X,Z]=await Promise.all([Gu(),LF(!0)]);N(X.data||[]),P(Z.data||[])}catch(X){console.error("Failed to load data:",X)}})()},[]);const E=async()=>{console.log("Camera button clicked - starting camera..."),g(null);try{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("Camera not supported on this browser");o("camera-loading");let ie;try{console.log("Requesting rear camera..."),ie=await navigator.mediaDevices.getUserMedia({video:{facingMode:{ideal:"environment"},width:{ideal:1920},height:{ideal:1080}}})}catch{console.log("Rear camera not available, trying any camera..."),ie=await navigator.mediaDevices.getUserMedia({video:!0})}if(console.log("Camera stream obtained:",ie),F.current=ie,o("camera"),await new Promise(X=>setTimeout(X,100)),A.current){A.current.srcObject=ie,console.log("Stream set to video element");try{await A.current.play(),console.log(" Camera started successfully")}catch(X){console.error("Video play error:",X)}}}catch(ie){console.error(" Camera error:",ie);let X="Camera access denied. Please grant camera permission or use file upload.";ie.name==="NotAllowedError"?X="Camera permission denied. Please allow camera access in your browser settings.":ie.name==="NotFoundError"?X="No camera found on this device. Please use file upload instead.":ie.name==="NotReadableError"?X="Camera is already in use by another application.":ie.name==="NotSupportedError"&&(X="Camera not supported on this browser. Please use file upload."),g(X),o("select"),T()}},T=()=>{F.current&&(F.current.getTracks().forEach(ie=>ie.stop()),F.current=null),A.current&&(A.current.srcObject=null)},I=()=>{if(!A.current||!O.current)return;const ie=A.current,X=O.current,Z=X.getContext("2d");Z&&(X.width=ie.videoWidth,X.height=ie.videoHeight,Z.drawImage(ie,0,0),X.toBlob(q=>{if(q){const C=new File([q],`business-card-${Date.now()}.jpg`,{type:"image/jpeg"});c(C),d(X.toDataURL("image/jpeg")),T(),Q(C)}},"image/jpeg",.95))},z=ie=>{const X=ie.target.files;if(!X||X.length===0)return;const Z=X[0];if(!["image/jpeg","image/jpg","image/png","application/pdf"].includes(Z.type)){g("Invalid file type. Please upload JPG, PNG, or PDF.");return}if(Z.size>10*1024*1024){g("File too large. Maximum size is 10MB.");return}if(c(Z),Z.type.startsWith("image/")){const q=new FileReader;q.onload=C=>{d(C.target?.result)},q.readAsDataURL(Z)}Q(Z)},Q=async ie=>{o("processing"),g(null),w(!0);try{const X=await rne(ie,r);if(X.success)m(X.data.extractedData),y(X.data.suggestions),o("review");else throw new Error("Failed to process business card")}catch(X){console.error("Processing error:",X),g(X.message||"Failed to process business card. Please try again."),o("select")}finally{w(!1)}},te=async(ie,X,Z)=>{w(!0),g(null);try{const q=S.find(U=>U.name==="Business Card Scanner");if((await nne({contactData:ie,companyData:X,linkToExistingCompany:Z,leadSourceId:q?.id||"",scanConfidenceScore:J(h),originalScanData:h,userId:r})).success)o("success"),n("Contact created from business card!"),setTimeout(()=>{t(),e()},2e3);else throw new Error("Failed to create contact")}catch(q){console.error("Confirm error:",q),g(q.message||"Failed to create contact. Please try again."),a(q.message||"Failed to create contact")}finally{w(!1)}},J=ie=>{if(!ie)return 0;const X=[ie.name?.confidence||0,ie.email?.confidence||0,ie.phone?.confidence||0,ie.title?.confidence||0,ie.company?.confidence||0].filter(Z=>Z>0);return X.length===0?0:Math.round(X.reduce((Z,q)=>Z+q,0)/X.length)};return Qe.useEffect(()=>()=>{T()},[]),i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s==="select"&&i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-start mb-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Scan Business Card"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Choose how to capture the business card"})]}),i.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:i.jsx(mr,{className:"w-6 h-6"})})]}),v&&i.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-800",children:v}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("button",{onClick:ie=>{ie.preventDefault(),console.log("Camera button clicked"),E()},className:"p-6 border-2 border-gray-200 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all text-center cursor-pointer",type:"button",children:[i.jsx(s_,{className:"w-12 h-12 mx-auto mb-3 text-blue-600"}),i.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Use Camera"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Take a photo of the card"})]}),i.jsxs("button",{onClick:()=>M.current?.click(),className:"p-6 border-2 border-gray-200 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all text-center",children:[i.jsx(hc,{className:"w-12 h-12 mx-auto mb-3 text-blue-600"}),i.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Upload File"}),i.jsx("p",{className:"text-sm text-gray-600",children:"JPG, PNG, or PDF (10MB max)"})]})]}),i.jsx("input",{ref:M,type:"file",accept:"image/jpeg,image/jpg,image/png,application/pdf",onChange:z,className:"hidden"})]}),s==="camera-loading"&&i.jsxs("div",{className:"p-12 text-center",children:[i.jsx(Ot,{className:"w-16 h-16 mx-auto text-blue-600 animate-spin mb-4"}),i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Starting Camera..."}),i.jsx("p",{className:"text-gray-600",children:"Please allow camera access when prompted"})]}),s==="camera"&&i.jsxs("div",{className:"relative bg-black",children:[i.jsx("video",{ref:A,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-auto rounded-t-xl",style:{minHeight:"400px"}}),i.jsx("canvas",{ref:O,className:"hidden"}),i.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx("div",{className:"border-4 border-white border-dashed rounded-xl opacity-50",style:{width:"85%",height:"50%"}})}),i.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-white text-center bg-black bg-opacity-50 px-4 py-2 rounded-lg",children:i.jsx("p",{className:"text-sm font-semibold",children:"Center card in frame"})})]}),i.jsx("div",{className:"absolute top-4 left-4",children:i.jsx("button",{onClick:()=>{T(),o("select")},className:"bg-white rounded-full p-2 shadow-lg hover:bg-gray-100",children:i.jsx(Wj,{className:"w-6 h-6 text-gray-700"})})}),i.jsx("div",{className:"absolute bottom-6 left-0 right-0 flex justify-center",children:i.jsx("button",{onClick:I,className:"w-16 h-16 bg-white rounded-full border-4 border-blue-600 shadow-lg hover:bg-blue-50 transition-colors active:scale-95",children:i.jsx(s_,{className:"w-8 h-8 mx-auto text-blue-600"})})})]}),s==="processing"&&i.jsxs("div",{className:"p-12 text-center",children:[i.jsx(Ot,{className:"w-16 h-16 mx-auto text-blue-600 animate-spin mb-4"}),i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Processing Business Card..."}),i.jsx("p",{className:"text-gray-600",children:"Extracting contact information"}),u&&i.jsx("div",{className:"mt-6",children:i.jsx("img",{src:u,alt:"Captured",className:"max-w-full max-h-40 mx-auto rounded-lg shadow-md"})})]}),s==="review"&&h&&i.jsx(MF,{extractedData:h,suggestions:p||{existingContact:null,existingCompany:null,createNewCompany:!0},source:"business_card",onConfirm:te,onCancel:e,isProcessing:b,companies:j}),s==="success"&&i.jsxs("div",{className:"p-12 text-center",children:[i.jsx(wn,{className:"w-16 h-16 mx-auto text-green-600 mb-4"}),i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Contact Created!"}),i.jsx("p",{className:"text-gray-600",children:"The contact has been successfully added to your CRM"})]})]})})},une=({onClose:e,onSuccess:t,currentUserId:r})=>{const{showSuccess:n,showError:a}=oi(),[s,o]=V.useState("input"),[l,c]=V.useState(""),[u,d]=V.useState(null),[h,m]=V.useState(null),[p,y]=V.useState(null),[v,g]=V.useState(!1),[b,w]=V.useState([]),[j,N]=V.useState([]);Qe.useEffect(()=>{(async()=>{try{const[E,T]=await Promise.all([Gu(),LF(!0)]);w(E.data||[]),N(T.data||[])}catch(E){console.error("Failed to load data:",E)}})()},[]);const S=F=>/^(https?:\/\/)?(www\.)?linkedin\.com\/in\/[a-zA-Z0-9-_]+\/?$/i.test(F),P=F=>{let E=F.trim();return!E.startsWith("http://")&&!E.startsWith("https://")&&(E=`https://${E}`),E.includes("www.")||(E=E.replace("linkedin.com","www.linkedin.com")),E.replace(/\/$/,"")},A=F=>{c(F),y(null)},O=async()=>{if(!l.trim()){y("Please enter a LinkedIn URL");return}const F=P(l);if(!S(F)){y("Invalid LinkedIn URL format. Example: linkedin.com/in/johndoe");return}o("fetching"),y(null),g(!0);try{const E=await ane({linkedinUrl:F,userId:r});if(E.success)d(E.data.profile),m(E.data.suggestions),o("review");else throw new Error("Failed to fetch LinkedIn profile")}catch(E){console.error("Fetch error:",E);let T="Failed to fetch LinkedIn profile";E.message?.includes("Invalid LinkedIn URL")?T="Invalid LinkedIn URL format":E.message?.includes("private")?T="This LinkedIn profile is private and cannot be accessed":E.message?.includes("rate limit")&&(T="Rate limit exceeded. Please try again later"),y(T),o("input")}finally{g(!1)}},M=async(F,E,T)=>{g(!0),y(null);try{const I=j.find(Q=>Q.name==="LinkedIn Scanner");if((await ine({contactData:F,linkedinData:u?{headline:u.headline,currentRole:u.currentRole,profileImageUrl:u.profileImageUrl}:void 0,companyData:E,linkToExistingCompany:T,leadSourceId:I?.id||"",userId:r})).success)o("success"),n("Contact created from LinkedIn profile!"),setTimeout(()=>{t(),e()},2e3);else throw new Error("Failed to create contact")}catch(I){console.error("Confirm error:",I),y(I.message||"Failed to create contact. Please try again."),a(I.message||"Failed to create contact")}finally{g(!1)}};return i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s==="input"&&i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-start mb-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Scan LinkedIn Profile"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Import contact from LinkedIn profile"})]}),i.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:i.jsx(mr,{className:"w-6 h-6"})})]}),p&&i.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start",children:[i.jsx(Yn,{className:"w-5 h-5 text-red-600 mr-3 mt-0.5 flex-shrink-0"}),i.jsx("div",{className:"text-red-800",children:p})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"LinkedIn Profile URL"}),i.jsxs("div",{className:"relative",children:[i.jsx(Xf,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"url",value:l,onChange:F=>A(F.target.value),onKeyPress:F=>F.key==="Enter"&&O(),className:"w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://www.linkedin.com/in/johndoe"})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Example: linkedin.com/in/johndoe or https://www.linkedin.com/in/johndoe"})]}),i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[i.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"How it works"}),i.jsxs("ul",{className:"text-sm text-blue-800 space-y-1 list-disc list-inside",children:[i.jsx("li",{children:"Paste any public LinkedIn profile URL"}),i.jsx("li",{children:"We'll extract available contact and company information"}),i.jsx("li",{children:"Review and edit before saving to your CRM"}),i.jsx("li",{children:"Note: Email and phone may not be publicly available"})]})]}),i.jsx("div",{className:"flex justify-end",children:i.jsxs("button",{onClick:O,disabled:!l.trim(),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx(Xf,{className:"w-5 h-5"}),"Fetch Profile"]})})]}),s==="fetching"&&i.jsxs("div",{className:"p-12 text-center",children:[i.jsx(Ot,{className:"w-16 h-16 mx-auto text-blue-600 animate-spin mb-4"}),i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Fetching LinkedIn Profile..."}),i.jsx("p",{className:"text-gray-600",children:"Extracting contact information"})]}),s==="review"&&u&&i.jsx(MF,{extractedData:u,suggestions:h||{existingContact:null,existingCompany:null,createNewCompany:!0},source:"linkedin",onConfirm:M,onCancel:e,isProcessing:v,companies:b}),s==="success"&&i.jsxs("div",{className:"p-12 text-center",children:[i.jsx(wn,{className:"w-16 h-16 mx-auto text-green-600 mb-4"}),i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Contact Created!"}),i.jsx("p",{className:"text-gray-600",children:"The contact has been successfully added to your CRM"})]})]})})};var cp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},dne={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},fne=class{#e=dne;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},Wf=new fne;function hne(e){setTimeout(e,0)}var o0=typeof window>"u"||"Deno"in globalThis;function Xs(){}function pne(e,t){return typeof e=="function"?e(t):e}function xj(e){return typeof e=="number"&&e>=0&&e!==1/0}function RF(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Wd(e,t){return typeof e=="function"?e(t):e}function fl(e,t){return typeof e=="function"?e(t):e}function hP(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:s,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==Zk(o,t.options))return!1}else if(!tx(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||s&&!s(t))}function pP(e,t){const{exact:r,status:n,predicate:a,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(l0(t.options.mutationKey)!==l0(s))return!1}else if(!tx(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function Zk(e,t){return(t?.queryKeyHashFn||l0)(e)}function l0(e){return JSON.stringify(e,(t,r)=>gj(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function tx(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>tx(e[r],t[r])):!1}var mne=Object.prototype.hasOwnProperty;function BF(e,t,r=0){if(e===t)return e;if(r>500)return t;const n=mP(e)&&mP(t);if(!n&&!(gj(e)&&gj(t)))return t;const s=(n?e:Object.keys(e)).length,o=n?t:Object.keys(t),l=o.length,c=n?new Array(l):{};let u=0;for(let d=0;d<l;d++){const h=n?d:o[d],m=e[h],p=t[h];if(m===p){c[h]=m,(n?d<s:mne.call(e,h))&&u++;continue}if(m===null||p===null||typeof m!="object"||typeof p!="object"){c[h]=p;continue}const y=BF(m,p,r+1);c[h]=y,y===m&&u++}return s===l&&u===s?e:c}function m1(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function mP(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function gj(e){if(!xP(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!xP(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function xP(e){return Object.prototype.toString.call(e)==="[object Object]"}function xne(e){return new Promise(t=>{Wf.setTimeout(t,e)})}function vj(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?BF(e,t):t}function gne(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function vne(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var e3=Symbol();function UF(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===e3?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function t3(e,t){return typeof e=="function"?e(...t):!!e}function yne(e,t,r){let n=!1,a;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(a??=t(),n||(n=!0,a.aborted?r():a.addEventListener("abort",r,{once:!0})),a)}),e}var bne=class extends cp{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!o0&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},r3=new bne;function yj(){let e,t;const r=new Promise((a,s)=>{e=a,t=s});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var wne=hne;function Nne(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=wne;const s=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var ji=Nne(),jne=class extends cp{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!o0&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},x1=new jne;function kne(e){return Math.min(1e3*2**e,3e4)}function qF(e){return(e??"online")==="online"?x1.isOnline():!0}var bj=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function $F(e){let t=!1,r=0,n;const a=yj(),s=()=>a.status!=="pending",o=v=>{if(!s()){const g=new bj(v);m(g),e.onCancel?.(g)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>r3.isFocused()&&(e.networkMode==="always"||x1.isOnline())&&e.canRun(),d=()=>qF(e.networkMode)&&e.canRun(),h=v=>{s()||(n?.(),a.resolve(v))},m=v=>{s()||(n?.(),a.reject(v))},p=()=>new Promise(v=>{n=g=>{(s()||u())&&v(g)},e.onPause?.()}).then(()=>{n=void 0,s()||e.onContinue?.()}),y=()=>{if(s())return;let v;const g=r===0?e.initialPromise:void 0;try{v=g??e.fn()}catch(b){v=Promise.reject(b)}Promise.resolve(v).then(h).catch(b=>{if(s())return;const w=e.retry??(o0?0:3),j=e.retryDelay??kne,N=typeof j=="function"?j(r,b):j,S=w===!0||typeof w=="number"&&r<w||typeof w=="function"&&w(r,b);if(t||!S){m(b);return}r++,e.onFail?.(r,b),xne(N).then(()=>u()?void 0:p()).then(()=>{t?m(b):y()})})};return{promise:a,status:()=>a.status,cancel:o,continue:()=>(n?.(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?y():p().then(y),a)}}var zF=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),xj(this.gcTime)&&(this.#e=Wf.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(o0?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Wf.clearTimeout(this.#e),this.#e=void 0)}},Sne=class extends zF{#e;#t;#r;#a;#n;#s;#o;constructor(e){super(),this.#o=!1,this.#s=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#a=e.client,this.#r=this.#a.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=vP(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){if(this.options={...this.#s,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=vP(this.options);t.data!==void 0&&(this.setState(gP(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const r=vj(this.state.data,e,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#i({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(Xs).catch(Xs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>fl(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===e3||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Wd(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!RF(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#o?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#n?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const r=new AbortController,n=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},a=()=>{const l=UF(this.options,t),u=(()=>{const d={client:this.#a,queryKey:this.queryKey,meta:this.meta};return n(d),d})();return this.#o=!1,this.options.persister?this.options.persister(l,u,this):l(u)},o=(()=>{const l={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:a};return n(l),l})();this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#i({type:"fetch",meta:o.fetchOptions?.meta}),this.#n=$F({initialPromise:t?.initialPromise,fn:o.fetchFn,onCancel:l=>{l instanceof bj&&l.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(l,c)=>{this.#i({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const l=await this.#n.start();if(l===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(l),this.#r.config.onSuccess?.(l,this),this.#r.config.onSettled?.(l,this.state.error,this),l}catch(l){if(l instanceof bj){if(l.silent)return this.#n.promise;if(l.revert){if(this.state.data===void 0)throw l;return this.state.data}}throw this.#i({type:"error",error:l}),this.#r.config.onError?.(l,this),this.#r.config.onSettled?.(this.state.data,l,this),l}finally{this.scheduleGc()}}#i(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...HF(r.data,this.options),fetchMeta:e.meta??null};case"success":const n={...r,...gP(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?n:void 0,n;case"error":const a=e.error;return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),ji.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function HF(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:qF(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function gP(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function vP(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var _ne=class extends cp{constructor(e,t){super(),this.options=t,this.#e=e,this.#i=null,this.#o=yj(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#r=void 0;#a=void 0;#n;#s;#o;#i;#m;#f;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),yP(this.#t,this.options)?this.#d():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return wj(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return wj(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof fl(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#N(),this.#t.setOptions(this.options),t._defaulted&&!m1(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const n=this.hasListeners();n&&bP(this.#t,r,this.options,t)&&this.#d(),this.updateResult(),n&&(this.#t!==r||fl(this.options.enabled,this.#t)!==fl(t.enabled,this.#t)||Wd(this.options.staleTime,this.#t)!==Wd(t.staleTime,this.#t))&&this.#x();const a=this.#g();n&&(this.#t!==r||fl(this.options.enabled,this.#t)!==fl(t.enabled,this.#t)||a!==this.#l)&&this.#v(a)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),r=this.createResult(t,e);return Ene(this,r)&&(this.#a=r,this.#s=this.options,this.#n=this.#t.state),r}getCurrentResult(){return this.#a}trackResult(e,t){return new Proxy(e,{get:(r,n)=>(this.trackProp(n),t?.(n),n==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,n))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#d(e){this.#N();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Xs)),t}#x(){this.#b();const e=Wd(this.options.staleTime,this.#t);if(o0||this.#a.isStale||!xj(e))return;const r=RF(this.#a.dataUpdatedAt,e)+1;this.#c=Wf.setTimeout(()=>{this.#a.isStale||this.updateResult()},r)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#w(),this.#l=e,!(o0||fl(this.options.enabled,this.#t)===!1||!xj(this.#l)||this.#l===0)&&(this.#u=Wf.setInterval(()=>{(this.options.refetchIntervalInBackground||r3.isFocused())&&this.#d()},this.#l))}#y(){this.#x(),this.#v(this.#g())}#b(){this.#c&&(Wf.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(Wf.clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const r=this.#t,n=this.options,a=this.#a,s=this.#n,o=this.#s,c=e!==r?e.state:this.#r,{state:u}=e;let d={...u},h=!1,m;if(t._optimisticResults){const O=this.hasListeners(),M=!O&&yP(e,t),F=O&&bP(e,r,t,n);(M||F)&&(d={...d,...HF(u.data,e.options)}),t._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:p,errorUpdatedAt:y,status:v}=d;m=d.data;let g=!1;if(t.placeholderData!==void 0&&m===void 0&&v==="pending"){let O;a?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(O=a.data,g=!0):O=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,O!==void 0&&(v="success",m=vj(a?.data,O,t),h=!0)}if(t.select&&m!==void 0&&!g)if(a&&m===s?.data&&t.select===this.#m)m=this.#f;else try{this.#m=t.select,m=t.select(m),m=vj(a?.data,m,t),this.#f=m,this.#i=null}catch(O){this.#i=O}this.#i&&(p=this.#i,m=this.#f,y=Date.now(),v="error");const b=d.fetchStatus==="fetching",w=v==="pending",j=v==="error",N=w&&b,S=m!==void 0,A={status:v,fetchStatus:d.fetchStatus,isPending:w,isSuccess:v==="success",isError:j,isInitialLoading:N,isLoading:N,data:m,dataUpdatedAt:d.dataUpdatedAt,error:p,errorUpdatedAt:y,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:b,isRefetching:b&&!w,isLoadingError:j&&!S,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:j&&S,isStale:n3(e,t),refetch:this.refetch,promise:this.#o,isEnabled:fl(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const O=A.data!==void 0,M=A.status==="error"&&!O,F=I=>{M?I.reject(A.error):O&&I.resolve(A.data)},E=()=>{const I=this.#o=A.promise=yj();F(I)},T=this.#o;switch(T.status){case"pending":e.queryHash===r.queryHash&&F(T);break;case"fulfilled":(M||A.data!==T.value)&&E();break;case"rejected":(!M||A.error!==T.reason)&&E();break}}return A}updateResult(){const e=this.#a,t=this.createResult(this.#t,this.options);if(this.#n=this.#t.state,this.#s=this.options,this.#n.data!==void 0&&(this.#h=this.#t),m1(t,e))return;this.#a=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,a=typeof n=="function"?n():n;if(a==="all"||!a&&!this.#p.size)return!0;const s=new Set(a??this.#p);return this.options.throwOnError&&s.add("error"),Object.keys(this.#a).some(o=>{const l=o;return this.#a[l]!==e[l]&&s.has(l)})};this.#j({listeners:r()})}#N(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#j(e){ji.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#a)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Ane(e,t){return fl(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function yP(e,t){return Ane(e,t)||e.state.data!==void 0&&wj(e,t,t.refetchOnMount)}function wj(e,t,r){if(fl(t.enabled,e)!==!1&&Wd(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&n3(e,t)}return!1}function bP(e,t,r,n){return(e!==t||fl(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&n3(e,r)}function n3(e,t){return fl(t.enabled,e)!==!1&&e.isStaleByTime(Wd(t.staleTime,e))}function Ene(e,t){return!m1(e.getCurrentResult(),t)}function wP(e){return{onFetch:(t,r)=>{const n=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,s=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let d=!1;const h=y=>{yne(y,()=>t.signal,()=>d=!0)},m=UF(t.options,t.fetchOptions),p=async(y,v,g)=>{if(d)return Promise.reject();if(v==null&&y.pages.length)return Promise.resolve(y);const w=(()=>{const P={client:t.client,queryKey:t.queryKey,pageParam:v,direction:g?"backward":"forward",meta:t.options.meta};return h(P),P})(),j=await m(w),{maxPages:N}=t.options,S=g?vne:gne;return{pages:S(y.pages,j,N),pageParams:S(y.pageParams,v,N)}};if(a&&s.length){const y=a==="backward",v=y?Cne:NP,g={pages:s,pageParams:o},b=v(n,g);l=await p(g,b,y)}else{const y=e??s.length;do{const v=c===0?o[0]??n.initialPageParam:NP(n,l);if(c>0&&v==null)break;l=await p(l,v),c++}while(c<y)}return l};t.options.persister?t.fetchFn=()=>t.options.persister?.(u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=u}}}function NP(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function Cne(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var Tne=class extends zF{#e;#t;#r;#a;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#r=e.mutationCache,this.#t=[],this.state=e.state||WF(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#r.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#r.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=$F({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(s,o)=>{this.#n({type:"failed",failureCount:s,error:o})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#r.canRun(this)});const n=this.state.status==="pending",a=!this.#a.canStart();try{if(n)t();else{this.#n({type:"pending",variables:e,isPaused:a}),this.#r.config.onMutate&&await this.#r.config.onMutate(e,this,r);const o=await this.options.onMutate?.(e,r);o!==this.state.context&&this.#n({type:"pending",context:o,variables:e,isPaused:a})}const s=await this.#a.start();return await this.#r.config.onSuccess?.(s,e,this.state.context,this,r),await this.options.onSuccess?.(s,e,this.state.context,r),await this.#r.config.onSettled?.(s,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(s,null,e,this.state.context,r),this.#n({type:"success",data:s}),s}catch(s){try{await this.#r.config.onError?.(s,e,this.state.context,this,r)}catch(o){Promise.reject(o)}try{await this.options.onError?.(s,e,this.state.context,r)}catch(o){Promise.reject(o)}try{await this.#r.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this,r)}catch(o){Promise.reject(o)}try{await this.options.onSettled?.(void 0,s,e,this.state.context,r)}catch(o){Promise.reject(o)}throw this.#n({type:"error",error:s}),s}finally{this.#r.runNext(this)}}#n(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),ji.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#r.notify({mutation:this,type:"updated",action:e})})}};function WF(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var One=class extends cp{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#r=0}#e;#t;#r;build(e,t,r){const n=new Tne({client:e,mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#e.add(e);const t=Rg(e);if(typeof t=="string"){const r=this.#t.get(t);r?r.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=Rg(e);if(typeof t=="string"){const r=this.#t.get(t);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Rg(e);if(typeof t=="string"){const n=this.#t.get(t)?.find(a=>a.state.status==="pending");return!n||n===e}else return!0}runNext(e){const t=Rg(e);return typeof t=="string"?this.#t.get(t)?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){ji.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>pP(t,r))}findAll(e={}){return this.getAll().filter(t=>pP(e,t))}notify(e){ji.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return ji.batch(()=>Promise.all(e.map(t=>t.continue().catch(Xs))))}};function Rg(e){return e.options.scope?.id}var Pne=class extends cp{#e;#t=void 0;#r;#a;constructor(t,r){super(),this.#e=t,this.setOptions(r),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const r=this.options;this.options=this.#e.defaultMutationOptions(t),m1(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),r?.mutationKey&&this.options.mutationKey&&l0(r.mutationKey)!==l0(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#n(),this.#s(t)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#n(),this.#s()}mutate(t,r){return this.#a=r,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(t)}#n(){const t=this.#r?.state??WF();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#s(t){ji.batch(()=>{if(this.#a&&this.hasListeners()){const r=this.#t.variables,n=this.#t.context,a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(t?.type==="success"){try{this.#a.onSuccess?.(t.data,r,n,a)}catch(s){Promise.reject(s)}try{this.#a.onSettled?.(t.data,null,r,n,a)}catch(s){Promise.reject(s)}}else if(t?.type==="error"){try{this.#a.onError?.(t.error,r,n,a)}catch(s){Promise.reject(s)}try{this.#a.onSettled?.(void 0,t.error,r,n,a)}catch(s){Promise.reject(s)}}}this.listeners.forEach(r=>{r(this.#t)})})}},Ine=class extends cp{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){const n=t.queryKey,a=t.queryHash??Zk(n,t);let s=this.get(a);return s||(s=new Sne({client:e,queryKey:n,queryHash:a,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(s)),s}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ji.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>hP(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>hP(e,r)):t}notify(e){ji.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){ji.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ji.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Dne=class{#e;#t;#r;#a;#n;#s;#o;#i;constructor(e={}){this.#e=e.queryCache||new Ine,this.#t=e.mutationCache||new One,this.#r=e.defaultOptions||{},this.#a=new Map,this.#n=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#o=r3.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=x1.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#o?.(),this.#o=void 0,this.#i?.(),this.#i=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#e.build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Wd(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=this.#e.get(n.queryHash)?.state.data,o=pne(t,s);if(o!==void 0)return this.#e.build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return ji.batch(()=>this.#e.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;ji.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#e;return ji.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=ji.batch(()=>this.#e.findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Xs).catch(Xs)}invalidateQueries(e,t={}){return ji.batch(()=>(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=ji.batch(()=>this.#e.findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let s=a.fetch(void 0,r);return r.throwOnError||(s=s.catch(Xs)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Xs)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#e.build(this,t);return r.isStaleByTime(Wd(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Xs).catch(Xs)}fetchInfiniteQuery(e){return e.behavior=wP(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Xs).catch(Xs)}ensureInfiniteQueryData(e){return e.behavior=wP(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return x1.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#a.set(l0(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#a.values()],r={};return t.forEach(n=>{tx(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){this.#n.set(l0(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#n.values()],r={};return t.forEach(n=>{tx(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Zk(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===e3&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},VF=V.createContext(void 0),Xc=e=>{const t=V.useContext(VF);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Lne=({client:e,children:t})=>(V.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(VF.Provider,{value:e,children:t})),GF=V.createContext(!1),Fne=()=>V.useContext(GF);GF.Provider;function Mne(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Rne=V.createContext(Mne()),Bne=()=>V.useContext(Rne),Une=(e,t,r)=>{const n=r?.state.error&&typeof e.throwOnError=="function"?t3(e.throwOnError,[r.state.error,r]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||n)&&(t.isReset()||(e.retryOnMount=!1))},qne=e=>{V.useEffect(()=>{e.clearReset()},[e])},$ne=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||t3(r,[e.error,n])),zne=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Hne=(e,t)=>e.isLoading&&e.isFetching&&!t,Wne=(e,t)=>e?.suspense&&t.isPending,jP=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Vne(e,t,r){const n=Fne(),a=Bne(),s=Xc(),o=s.defaultQueryOptions(e);s.getDefaultOptions().queries?._experimental_beforeQuery?.(o);const l=s.getQueryCache().get(o.queryHash);o._optimisticResults=n?"isRestoring":"optimistic",zne(o),Une(o,a,l),qne(a);const c=!s.getQueryCache().get(o.queryHash),[u]=V.useState(()=>new t(s,o)),d=u.getOptimisticResult(o),h=!n&&e.subscribed!==!1;if(V.useSyncExternalStore(V.useCallback(m=>{const p=h?u.subscribe(ji.batchCalls(m)):Xs;return u.updateResult(),p},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),V.useEffect(()=>{u.setOptions(o)},[o,u]),Wne(o,d))throw jP(o,u,a);if($ne({result:d,errorResetBoundary:a,throwOnError:o.throwOnError,query:l,suspense:o.suspense}))throw d.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(o,d),o.experimental_prefetchInRender&&!o0&&Hne(d,n)&&(c?jP(o,u,a):l?.promise)?.catch(Xs).finally(()=>{u.updateResult()}),o.notifyOnChangeProps?d:u.trackResult(d)}function py(e,t){return Vne(e,_ne)}function y0(e,t){const r=Xc(),[n]=V.useState(()=>new Pne(r,e));V.useEffect(()=>{n.setOptions(e)},[n,e]);const a=V.useSyncExternalStore(V.useCallback(o=>n.subscribe(ji.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=V.useCallback((o,l)=>{n.mutate(o,l).catch(Xs)},[n]);if(a.error&&t3(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:s,mutateAsync:a.mutate}}const my={companies:e=>["companies",e],contacts:e=>["contacts",e],deals:()=>["deals"],users:()=>["users"]},Gne=e=>py({queryKey:my.companies(e),queryFn:async()=>(await Gu(e?.trim()||void 0)).data||[],staleTime:10*1e3,gcTime:300*1e3,refetchOnWindowFocus:!0,refetchOnMount:!0,refetchInterval:30*1e3}),Kne=e=>py({queryKey:my.contacts(e),queryFn:async()=>(await _x(e?.trim()||void 0)).data||[],staleTime:10*1e3,gcTime:300*1e3,refetchOnWindowFocus:!0,refetchOnMount:!0,refetchInterval:30*1e3}),Xne=()=>py({queryKey:my.deals(),queryFn:async()=>(await Jk()).data||[],staleTime:60*1e3,gcTime:600*1e3}),Yne=()=>py({queryKey:my.users(),queryFn:async()=>(await Kc()).data||[],staleTime:300*1e3,gcTime:1800*1e3}),Jne=()=>{const e=Xc();return y0({mutationFn:async({id:t,updates:r})=>(await NF(t,r),{id:t,updates:r}),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["companies"]});const n=e.getQueriesData({queryKey:["companies"]});return e.setQueriesData({queryKey:["companies"]},a=>a?.map(s=>s.id===t?{...s,...r}:s)),{previousCompanies:n}},onError:(t,r,n)=>{n?.previousCompanies&&n.previousCompanies.forEach(([a,s])=>{e.setQueryData(a,s)})},onSuccess:()=>{e.invalidateQueries({queryKey:["companies"]})}})},Qne=()=>{const e=Xc();return y0({mutationFn:async({id:t,updates:r})=>(await kF(t,r),{id:t,updates:r}),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["contacts"]});const n=e.getQueriesData({queryKey:["contacts"]});return e.setQueriesData({queryKey:["contacts"]},a=>a?.map(s=>s.id===t?{...s,...r}:s)),{previousContacts:n}},onError:(t,r,n)=>{n?.previousContacts&&n.previousContacts.forEach(([a,s])=>{e.setQueryData(a,s)})},onSuccess:()=>{e.invalidateQueries({queryKey:["contacts"]})}})},Zne=()=>{const e=Xc();return y0({mutationFn:async t=>(await jF(t),t),onSuccess:t=>{e.setQueriesData({queryKey:["companies"]},r=>r?.filter(n=>n.id!==t))}})},eae=()=>{const e=Xc();return y0({mutationFn:async t=>(await SF(t),t),onSuccess:t=>{e.setQueriesData({queryKey:["contacts"]},r=>r?.filter(n=>n.id!==t))}})},tae=()=>{const e=Xc();return y0({mutationFn:async t=>(await Promise.all(t.map(r=>jF(r))),t),onSuccess:t=>{e.setQueriesData({queryKey:["companies"]},r=>r?.filter(n=>!t.includes(n.id)))}})},rae=()=>{const e=Xc();return y0({mutationFn:async t=>(await Promise.all(t.map(r=>SF(r))),t),onSuccess:t=>{e.setQueriesData({queryKey:["contacts"]},r=>r?.filter(n=>!t.includes(n.id)))}})},nae=()=>{const e=Xc();return y0({mutationFn:async({ids:t,updates:r})=>(await Promise.all(t.map(n=>NF(n,r))),{ids:t,updates:r}),onSuccess:({ids:t,updates:r})=>{e.setQueriesData({queryKey:["companies"]},n=>n?.map(a=>t.includes(a.id)?{...a,...r}:a))}})},aae=({onNavigate:e,onAddCompany:t,onAddContact:r,externalSearchQuery:n=""})=>{const{showSuccess:a,showError:s}=oi(),o=Xc(),l=localStorage.getItem("user_data")?JSON.parse(localStorage.getItem("user_data")||"{}"):null,[c,u]=V.useState("companies"),[d,h]=V.useState(""),[m,p]=V.useState(null),[y,v]=V.useState(null),{data:g=[],isLoading:b}=Gne(d),{data:w=[],isLoading:j}=Kne(d),{data:N=[],isLoading:S}=Xne(),{data:P=[],isLoading:A}=Yne(),O=Jne(),M=Qne(),F=Zne(),E=eae(),T=tae(),I=rae(),z=nae(),Q=b||j||S||A,[te,J]=V.useState([]),[ie,X]=V.useState([]),[Z,q]=V.useState([]),[C,U]=V.useState(!1),[W,B]=V.useState(!1),[K,re]=V.useState({}),[fe,ce]=V.useState(!1),[he,Oe]=V.useState(!1),[ee,De]=V.useState({}),[je,oe]=V.useState("details"),[ue,_e]=V.useState(!1),[Se,Pe]=V.useState(null),[pe,ae]=V.useState(null),[ye,Be]=V.useState(!1),[$e,rt]=V.useState(!1),[ft,Nt]=V.useState([]),[Ue,dt]=V.useState([]),[st,it]=V.useState(!1),[Re,vt]=V.useState(!1),[nt,Rt]=V.useState(!1),[er,ar]=V.useState(!1),[$t,Pr]=V.useState(null),[Kt,Er]=V.useState(""),[nn,fr]=V.useState(!1),[or,Tr]=V.useState(null),[fn,sn]=V.useState(null),[We,Ct]=V.useState(!1),[At,ir]=V.useState(""),[vr,Wr]=V.useState(0),[Br,Hr]=V.useState([]),[ne,ge]=V.useState(""),[ve,ke]=V.useState(!1),[Ie,Te]=V.useState(null),[ze,et]=V.useState(null),[Ge,Je]=V.useState(!1),[at,wt]=V.useState(""),[Pt,It]=V.useState(0),[Lt,Dt]=V.useState([]),[kr,Dr]=V.useState(!1),[an,Nn]=V.useState(!1),[va,Ba]=V.useState(!1),pa=async()=>{Ba(!0);try{await Promise.all([o.invalidateQueries({queryKey:["companies"]}),o.invalidateQueries({queryKey:["contacts"]}),o.invalidateQueries({queryKey:["deals"]}),o.invalidateQueries({queryKey:["users"]})]),a("Data refreshed successfully")}catch{s("Failed to refresh data")}finally{setTimeout(()=>Ba(!1),500)}};V.useEffect(()=>{n!==void 0&&h(n)},[n]),V.useEffect(()=>{Nt([]),dt([])},[c,d]),V.useEffect(()=>{const Ee=()=>{console.log(" CRM refresh triggered - invalidating cache"),o.invalidateQueries({queryKey:["companies"]}),o.invalidateQueries({queryKey:["contacts"]}),o.invalidateQueries({queryKey:["deals"]}),o.invalidateQueries({queryKey:["users"]})};return window.addEventListener("refresh-crm",Ee),()=>window.removeEventListener("refresh-crm",Ee)},[o]);const _n=async Ee=>{if(m)try{await O.mutateAsync({id:m.id,updates:Ee}),p({...m,...Ee}),a("Account updated")}catch{s("Update failed")}},Ta=async()=>{if(!(!y||ue)){if(!ee.name||!ee.email){s("Name and Email are required fields");return}_e(!0);try{await M.mutateAsync({id:y.id,updates:ee});const Ee={...y,...ee};v(Ee),Oe(!1),a("Contact profile updated successfully")}catch(Ee){console.error("Contact update error:",Ee),s(Ee.message||"Failed to update contact. Please try again.")}finally{_e(!1)}}},gn=async Ee=>{Be(!0);try{await F.mutateAsync(Ee),m?.id===Ee&&(p(null),B(!1)),Pe(null),a("Company deleted successfully")}catch(lr){s(lr.message||"Failed to delete company")}finally{Be(!1)}},en=async Ee=>{rt(!0);try{await E.mutateAsync(Ee),y?.id===Ee&&(v(null),Oe(!1)),ae(null),a("Contact deleted successfully")}catch(lr){s(lr.message||"Failed to delete contact")}finally{rt(!1)}},Le=()=>{p(null),B(!1),Er(""),Ct(!1)},ht=()=>{v(null),Oe(!1),ge(""),Je(!1)},ct=Ee=>{const lr=/@([A-Za-z0-9\s]+?)(?=\s|$|[.,!?])/g,cr=[];let gr;for(;(gr=lr.exec(Ee))!==null;){const Fr=gr[1].trim(),qr=P.find(In=>In.name.toLowerCase()===Fr.toLowerCase());qr&&cr.push(qr.id)}return[...new Set(cr)]},zt=Ee=>{const lr=/@([A-Za-z0-9\s]+?)(?=\s|$|[.,!?])/g,cr=[];let gr=0,Fr;for(;(Fr=lr.exec(Ee))!==null;){Fr.index>gr&&cr.push(Ee.substring(gr,Fr.index));const qr=Fr[1].trim(),In=P.find(Dn=>Dn.name.toLowerCase()===qr.toLowerCase());In?cr.push(i.jsxs("span",{className:"bg-indigo-100 text-indigo-700 px-1.5 py-0.5 rounded font-bold",children:["@",In.name]},Fr.index)):cr.push(`@${qr}`),gr=Fr.index+Fr[0].length}return gr<Ee.length&&cr.push(Ee.substring(gr)),cr.length>0?cr:Ee},Zt=Ee=>{const lr=Ee.target.value,cr=Ee.target.selectionStart;Er(lr),Wr(cr);const gr=lr.substring(0,cr),Fr=gr.lastIndexOf("@");if(Fr!==-1){const qr=gr.substring(Fr+1),In=Fr>0?gr[Fr-1]:" ";if((In===" "||In===`
`||Fr===0)&&!qr.includes(" ")&&!qr.includes(`
`)){ir(qr);const Dn=P.filter(Vi=>Vi.name.toLowerCase().includes(qr.toLowerCase())||Vi.email.toLowerCase().includes(qr.toLowerCase()));Hr(Dn.slice(0,5)),Ct(!0);return}}Ct(!1)},Gt=Ee=>{const cr=Kt.substring(0,vr).lastIndexOf("@"),gr=Kt.substring(vr),qr=`${Kt.substring(0,cr)}@${Ee.name} ${gr}`;Er(qr),Ct(!1)},dr=async()=>{if(!(!m||!Kt.trim())){fr(!0);try{const Ee=localStorage.getItem("user_data")?JSON.parse(localStorage.getItem("user_data")||"{}").id:"",lr=localStorage.getItem("user_data")?JSON.parse(localStorage.getItem("user_data")||"{}").name:"Unknown User",cr={id:`note_${Date.now()}`,userId:Ee,userName:lr,text:Kt.trim(),createdAt:new Date().toISOString()},gr=[...m.notes||[],cr];await apiUpdateCompany(m.id,{notes:gr}),p({...m,notes:gr}),setCompanies(In=>In.map(Dn=>Dn.id===m.id?{...Dn,notes:gr}:Dn));const Fr=ct(Kt);for(const In of Fr)try{await Kh({userId:In,type:"mention",title:"You were mentioned in a company note",message:`${lr} mentioned you in ${m.name}`,relatedId:m.id,relatedType:"company",read:!1})}catch(Dn){console.error("Failed to send notification:",Dn)}Er("");const qr=Fr.length>0?`Note added and ${Fr.length} user(s) notified`:"Note added successfully";a(qr)}catch(Ee){s(Ee.message||"Failed to add note")}finally{fr(!1)}}},tn=async()=>{if(!(!m||!l||!fn))try{Tr(fn);const Ee=m.notes?.filter(lr=>lr.id!==fn)||[];await apiUpdateCompany(m.id,{notes:Ee}),p({...m,notes:Ee}),setCompanies(lr=>lr.map(cr=>cr.id===m.id?{...cr,notes:Ee}:cr)),a("Note deleted successfully"),sn(null)}catch(Ee){s(Ee.message||"Failed to delete note")}finally{Tr(null)}},hn=Ee=>{const lr=Ee.target.value,cr=Ee.target.selectionStart;ge(lr),It(cr);const gr=lr.substring(0,cr),Fr=gr.lastIndexOf("@");if(Fr!==-1){const qr=gr.substring(Fr+1),In=Fr>0?gr[Fr-1]:" ";if((In===" "||In===`
`||Fr===0)&&!qr.includes(" ")&&!qr.includes(`
`)){wt(qr);const Dn=P.filter(Vi=>Vi.name.toLowerCase().includes(qr.toLowerCase())||Vi.email.toLowerCase().includes(qr.toLowerCase()));Dt(Dn.slice(0,5)),Je(!0);return}}Je(!1)},Wt=Ee=>{const cr=ne.substring(0,Pt).lastIndexOf("@"),gr=ne.substring(Pt),qr=`${ne.substring(0,cr)}@${Ee.name} ${gr}`;ge(qr),Je(!1)},Xt=async()=>{if(!(!y||!ne.trim())){ke(!0);try{const Ee=localStorage.getItem("user_data")?JSON.parse(localStorage.getItem("user_data")||"{}").id:"",lr=localStorage.getItem("user_data")?JSON.parse(localStorage.getItem("user_data")||"{}").name:"Unknown User",cr={id:`note_${Date.now()}`,userId:Ee,userName:lr,text:ne.trim(),createdAt:new Date().toISOString()},gr=[...y.notes||[],cr];await apiUpdateContact(y.id,{notes:gr}),v({...y,notes:gr}),setContacts(In=>In.map(Dn=>Dn.id===y.id?{...Dn,notes:gr}:Dn));const Fr=ct(ne);for(const In of Fr)try{await Kh({userId:In,type:"mention",title:"You were mentioned in a contact note",message:`${lr} mentioned you in ${y.name}`,relatedId:y.id,relatedType:"contact",read:!1})}catch(Dn){console.error("Failed to send notification:",Dn)}ge("");const qr=Fr.length>0?`Note added and ${Fr.length} user(s) notified`:"Note added successfully";a(qr)}catch(Ee){s(Ee.message||"Failed to add note")}finally{ke(!1)}}},yt=async()=>{if(!(!y||!l||!ze))try{Te(ze);const Ee=y.notes?.filter(lr=>lr.id!==ze)||[];await apiUpdateContact(y.id,{notes:Ee}),v({...y,notes:Ee}),setContacts(lr=>lr.map(cr=>cr.id===y.id?{...cr,notes:Ee}:cr)),a("Note deleted successfully"),et(null)}catch(Ee){s(Ee.message||"Failed to delete note")}finally{Te(null)}},Ur=V.useCallback(Ee=>N.some(lr=>lr.companyId===Ee),[N]),xt=V.useMemo(()=>g.filter(Ee=>{if(te.length>0){const lr=te.includes("target")&&Ee.isTargetAccount,cr=te.includes("non-target")&&!Ee.isTargetAccount;if(!lr&&!cr)return!1}if(ie.length>0){const lr=ie.includes("assigned")&&Ee.ownerId,cr=ie.includes("unassigned")&&!Ee.ownerId;if(!lr&&!cr)return!1}if(Z.length>0){const lr=Z.includes("has-deals")&&Ur(Ee.id),cr=Z.includes("no-deals")&&!Ur(Ee.id);if(!lr&&!cr)return!1}return!0}),[g,te,ie,Z,Ur]),yr=V.useMemo(()=>te.length>0||ie.length>0||Z.length>0,[te,ie,Z]),An=()=>{J([]),X([]),q([])},On=(Ee,lr)=>{Ee==="target"?J(cr=>cr.includes(lr)?cr.filter(gr=>gr!==lr):[...cr,lr]):Ee==="assigned"?X(cr=>cr.includes(lr)?cr.filter(gr=>gr!==lr):[...cr,lr]):Ee==="deals"&&q(cr=>cr.includes(lr)?cr.filter(gr=>gr!==lr):[...cr,lr])},Jt=()=>{ft.length===xt.length&&xt.length>0?Nt([]):Nt(xt.map(Ee=>Ee.id))},Bn=()=>{Ue.length===w.length?dt([]):dt(w.map(Ee=>Ee.id))},En=async()=>{it(!0);try{const Ee=[...ft];await T.mutateAsync(Ee),m&&Ee.includes(m.id)&&(p(null),B(!1)),Nt([]),Pr(null),a(`Successfully deleted ${Ee.length} compan${Ee.length>1?"ies":"y"}`)}catch(Ee){s(Ee.message||"Failed to delete companies")}finally{it(!1)}},Pn=async()=>{vt(!0);try{const Ee=[...Ue];await I.mutateAsync(Ee),y&&Ee.includes(y.id)&&(v(null),Oe(!1)),dt([]),Pr(null),a(`Successfully deleted ${Ee.length} contact${Ee.length>1?"s":""}`)}catch(Ee){s(Ee.message||"Failed to delete contacts")}finally{vt(!1)}},ua=async()=>{if(ft.length!==0){Rt(!0);try{const Ee=[...ft];await z.mutateAsync({ids:Ee,updates:{isTargetAccount:!0}}),m&&Ee.includes(m.id)&&p({...m,isTargetAccount:!0}),Nt([]),a(`Successfully marked ${Ee.length} compan${Ee.length>1?"ies":"y"} as target account${Ee.length>1?"s":""}`)}catch(Ee){s(Ee.message||"Failed to mark companies as target accounts")}finally{Rt(!1)}}},Sr=async()=>{if(ft.length!==0){ar(!0);try{const Ee=[...ft];await z.mutateAsync({ids:Ee,updates:{isTargetAccount:!1}}),m&&Ee.includes(m.id)&&p({...m,isTargetAccount:!1}),Nt([]),a(`Successfully unmarked ${Ee.length} compan${Ee.length>1?"ies":"y"} as target account${Ee.length>1?"s":""}`)}catch(Ee){s(Ee.message||"Failed to unmark companies as target accounts")}finally{ar(!1)}}},jr=async()=>{m&&s("AI Intelligence feature is not available. Please install @google/genai package to enable this feature.")},Gr=Ee=>N.filter(lr=>lr.companyId===Ee&&lr.stage!=="Won"&&lr.stage!=="Lost").length,pn=Ee=>Ee?P.find(lr=>lr.id===Ee)?.name||"Unknown":"Unassigned";return i.jsxs("div",{className:"h-full flex flex-col gap-6 animate-in fade-in slide-in-from-bottom-4 duration-500 pb-10",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"CRM"}),i.jsxs("div",{className:"flex gap-4 mt-2",children:[i.jsxs("button",{onClick:()=>{u("companies"),Nt([]),dt([])},className:`text-sm font-semibold pb-1 border-b-2 transition-colors ${c==="companies"?"border-indigo-600 text-slate-900":"border-transparent text-slate-500 hover:text-slate-700"}`,children:["Companies (",c==="companies"?xt.length:g.length,")"]}),i.jsxs("button",{onClick:()=>{u("contacts"),Nt([]),dt([])},className:`text-sm font-semibold pb-1 border-b-2 transition-colors ${c==="contacts"?"border-indigo-600 text-slate-900":"border-transparent text-slate-500 hover:text-slate-700"}`,children:["Contacts (",w.length,")"]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:pa,disabled:va,className:"px-3 py-2 bg-slate-100 text-slate-700 text-sm font-semibold rounded-lg flex items-center gap-2 hover:bg-slate-200 transition-all shadow-sm disabled:opacity-50",title:"Refresh data",children:i.jsx(Gd,{className:`w-4 h-4 ${va?"animate-spin":""}`})}),i.jsxs("button",{onClick:()=>c==="companies"?t():r(),className:"px-4 py-2 bg-indigo-600 text-white text-sm font-semibold rounded-lg flex items-center gap-2 hover:bg-indigo-700 transition-all shadow-sm",children:[i.jsx(kn,{className:"w-4 h-4"})," Add ",c==="companies"?"Company":"Contact"]}),c==="contacts"&&i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:()=>Dr(!0),className:"px-4 py-2 bg-blue-600 text-white text-sm font-semibold rounded-lg flex items-center gap-2 hover:bg-blue-700 transition-all shadow-sm",title:"Scan Business Card",children:[i.jsx(UR,{className:"w-4 h-4"})," Scan Card"]}),i.jsxs("button",{onClick:()=>Nn(!0),className:"px-4 py-2 bg-blue-700 text-white text-sm font-semibold rounded-lg flex items-center gap-2 hover:bg-blue-800 transition-all shadow-sm",title:"Import from LinkedIn",children:[i.jsx(Xf,{className:"w-4 h-4"})," LinkedIn"]})]})]})]}),i.jsxs("div",{className:"flex-1 flex flex-col gap-6 w-full max-w-6xl mx-auto",children:[i.jsx("div",{className:"w-full",children:i.jsxs("div",{className:"relative group w-full",children:[i.jsx(zu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 group-focus-within:text-indigo-600 transition-colors"}),i.jsx("input",{type:"text",placeholder:`Search ${c}...`,value:d,onChange:Ee=>h(Ee.target.value),className:"w-full pl-10 pr-10 py-3 bg-white border border-slate-200 rounded-xl shadow-sm outline-none focus:ring-2 focus:ring-indigo-100 transition-all"})]})}),i.jsxs("div",{className:"flex items-center gap-3 pb-2",children:[i.jsx("input",{type:"checkbox",className:"rounded border-slate-300 text-indigo-600 focus:ring-indigo-500 w-4 h-4",disabled:Q,checked:c==="companies"?xt.length>0&&ft.length===xt.length&&xt.every(Ee=>ft.includes(Ee.id)):w.length>0&&Ue.length===w.length,onChange:c==="companies"?Jt:Bn}),i.jsxs("span",{className:"text-sm font-semibold text-slate-600",children:["Select All ",c==="companies"?"Companies":"Contacts"]})]}),i.jsx("div",{className:"flex items-center justify-between mb-4",children:c==="companies"?i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:()=>U(!0),disabled:Q,className:`px-4 py-2 rounded-xl border-2 transition-all flex items-center gap-2 ${yr?"border-indigo-500 bg-indigo-50 text-indigo-700":"border-slate-200 bg-white text-slate-600 hover:border-indigo-300"} disabled:opacity-50 disabled:cursor-not-allowed`,children:[i.jsx(GN,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-bold",children:"Filters"}),yr&&i.jsx("span",{className:"px-2 py-0.5 bg-indigo-600 text-white text-xs font-bold rounded-full",children:te.length+ie.length+Z.length})]}),i.jsx("div",{className:"text-xs text-slate-400 font-bold",children:Q?"Loading...":`Showing ${xt.length} of ${g.length} companies`})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{}),i.jsx("div",{className:"text-xs text-slate-400 font-bold",children:Q?"Loading...":`Showing ${w.length} contact${w.length!==1?"s":""}`})]})}),C&&c==="companies"&&i.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"p-6 border-b border-slate-200 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-xl flex items-center justify-center",children:i.jsx(GN,{className:"w-5 h-5 text-indigo-600"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-black text-xl text-slate-900",children:"Filter Companies"}),i.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"Select multiple filters to refine your search"})]})]}),i.jsx("button",{onClick:()=>U(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:i.jsx(mr,{className:"w-5 h-5 text-slate-400"})})]}),i.jsxs("div",{className:"p-6 space-y-6 max-h-[60vh] overflow-y-auto",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[i.jsx(Ip,{className:"w-4 h-4"}),"Target Account"]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-xl border-2 border-slate-200 hover:border-indigo-300 cursor-pointer transition-all",children:[i.jsx("input",{type:"checkbox",checked:te.includes("target"),onChange:()=>On("target","target"),className:"w-4 h-4 rounded border-slate-300 text-amber-500 focus:ring-amber-500"}),i.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[i.jsx(Ip,{className:"w-4 h-4 text-amber-500"}),i.jsx("span",{className:"font-bold text-slate-900",children:"Target Account"})]}),i.jsxs("span",{className:"text-xs text-slate-400",children:[g.filter(Ee=>Ee.isTargetAccount).length," companies"]})]}),i.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-xl border-2 border-slate-200 hover:border-indigo-300 cursor-pointer transition-all",children:[i.jsx("input",{type:"checkbox",checked:te.includes("non-target"),onChange:()=>On("target","non-target"),className:"w-4 h-4 rounded border-slate-300 text-slate-600 focus:ring-slate-500"}),i.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[i.jsx(qd,{className:"w-4 h-4 text-slate-500"}),i.jsx("span",{className:"font-bold text-slate-900",children:"Standard Account"})]}),i.jsxs("span",{className:"text-xs text-slate-400",children:[g.filter(Ee=>!Ee.isTargetAccount).length," companies"]})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[i.jsx(yg,{className:"w-4 h-4"}),"Assignment"]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-xl border-2 border-slate-200 hover:border-indigo-300 cursor-pointer transition-all",children:[i.jsx("input",{type:"checkbox",checked:ie.includes("assigned"),onChange:()=>On("assigned","assigned"),className:"w-4 h-4 rounded border-slate-300 text-green-600 focus:ring-green-500"}),i.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[i.jsx(yg,{className:"w-4 h-4 text-green-600"}),i.jsx("span",{className:"font-bold text-slate-900",children:"Assigned"})]}),i.jsxs("span",{className:"text-xs text-slate-400",children:[g.filter(Ee=>Ee.ownerId).length," companies"]})]}),i.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-xl border-2 border-slate-200 hover:border-indigo-300 cursor-pointer transition-all",children:[i.jsx("input",{type:"checkbox",checked:ie.includes("unassigned"),onChange:()=>On("assigned","unassigned"),className:"w-4 h-4 rounded border-slate-300 text-orange-500 focus:ring-orange-500"}),i.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[i.jsx($c,{className:"w-4 h-4 text-orange-500"}),i.jsx("span",{className:"font-bold text-slate-900",children:"Unassigned"})]}),i.jsxs("span",{className:"text-xs text-slate-400",children:[g.filter(Ee=>!Ee.ownerId).length," companies"]})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[i.jsx(cc,{className:"w-4 h-4"}),"Deals"]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-xl border-2 border-slate-200 hover:border-indigo-300 cursor-pointer transition-all",children:[i.jsx("input",{type:"checkbox",checked:Z.includes("has-deals"),onChange:()=>On("deals","has-deals"),className:"w-4 h-4 rounded border-slate-300 text-purple-600 focus:ring-purple-500"}),i.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[i.jsx(cc,{className:"w-4 h-4 text-purple-600"}),i.jsx("span",{className:"font-bold text-slate-900",children:"Has Deals"})]}),i.jsxs("span",{className:"text-xs text-slate-400",children:[g.filter(Ee=>Ur(Ee.id)).length," companies"]})]}),i.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-xl border-2 border-slate-200 hover:border-indigo-300 cursor-pointer transition-all",children:[i.jsx("input",{type:"checkbox",checked:Z.includes("no-deals"),onChange:()=>On("deals","no-deals"),className:"w-4 h-4 rounded border-slate-300 text-slate-600 focus:ring-slate-500"}),i.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[i.jsx(cc,{className:"w-4 h-4 text-slate-400"}),i.jsx("span",{className:"font-bold text-slate-900",children:"No Deals"})]}),i.jsxs("span",{className:"text-xs text-slate-400",children:[g.filter(Ee=>!Ur(Ee.id)).length," companies"]})]})]})]})]}),i.jsxs("div",{className:"p-6 border-t border-slate-200 flex items-center justify-between",children:[i.jsxs("button",{onClick:An,disabled:!yr,className:"px-4 py-2 text-sm font-bold text-slate-500 hover:text-slate-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 transition-colors",children:[i.jsx(mr,{className:"w-4 h-4"}),"Clear All Filters"]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("span",{className:"text-xs text-slate-400 font-bold",children:[xt.length," of ",g.length," companies"]}),i.jsx("button",{onClick:()=>U(!1),className:"px-6 py-2 bg-indigo-600 text-white rounded-xl font-bold text-sm hover:bg-indigo-700 transition-colors",children:"Apply Filters"})]})]})]})}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 min-h-[600px] w-full items-start",children:Q?Array.from({length:8}).map((Ee,lr)=>i.jsx("div",{className:`bg-white rounded-2xl border border-slate-200 shadow-sm animate-pulse flex flex-col ${c==="companies"?"p-6":"p-5 h-[220px]"}`,children:c==="companies"?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx("div",{className:"w-12 h-12 bg-slate-200 rounded-lg"}),i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx("div",{className:"h-4 bg-slate-200 rounded w-3/4"}),i.jsx("div",{className:"h-3 bg-slate-200 rounded w-1/2"})]})]}),i.jsxs("div",{className:"space-y-3 mb-6",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 bg-slate-200 rounded"}),i.jsx("div",{className:"h-3 bg-slate-200 rounded flex-1"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 bg-slate-200 rounded"}),i.jsx("div",{className:"h-3 bg-slate-200 rounded flex-1"})]})]}),i.jsxs("div",{className:"pt-4 border-t border-slate-100 flex items-center justify-between",children:[i.jsx("div",{className:"h-3 bg-slate-200 rounded w-2/3"}),i.jsx("div",{className:"w-4 h-4 bg-slate-200 rounded"})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-11 h-11 bg-slate-200 rounded-full"}),i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx("div",{className:"h-4 bg-slate-200 rounded w-3/4"}),i.jsx("div",{className:"h-3 bg-slate-200 rounded w-1/2"})]})]}),i.jsxs("div",{className:"space-y-2 flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 bg-slate-200 rounded"}),i.jsx("div",{className:"h-3 bg-slate-200 rounded flex-1"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 bg-slate-200 rounded"}),i.jsx("div",{className:"h-3 bg-slate-200 rounded flex-1"})]})]}),i.jsx("div",{className:"pt-3 mt-auto border-t border-slate-100",children:i.jsx("div",{className:"h-8 bg-slate-200 rounded-xl w-full"})})]})},`skeleton-${lr}`)):c==="companies"?xt.map(Ee=>{const lr=P.find(gr=>gr.id===Ee.ownerId),cr=ft.includes(Ee.id);return i.jsxs("div",{onClick:()=>p(Ee),className:`bg-white p-6 rounded-2xl border ${cr?"border-indigo-400 bg-indigo-50/30":Ee.isTargetAccount?"border-amber-400 shadow-[0_0_15px_rgba(251,191,36,0.1)]":"border-slate-200"} hover:border-indigo-300 hover:shadow-md transition-all cursor-pointer group flex flex-col relative`,children:[Ee.isTargetAccount&&i.jsxs("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 px-2 py-0.5 bg-amber-500 text-white text-[9px] font-black uppercase rounded shadow-sm flex items-center gap-1 whitespace-nowrap",children:[i.jsx(Ip,{className:"w-2.5 h-2.5"})," Target Account"]}),i.jsx("div",{className:"absolute top-4 right-4",onClick:gr=>gr.stopPropagation(),children:i.jsx("input",{type:"checkbox",className:"rounded border-slate-300 text-indigo-600 focus:ring-indigo-500 w-4 h-4",checked:cr,onChange:()=>Nt(gr=>cr?gr.filter(Fr=>Fr!==Ee.id):[...gr,Ee.id])})}),i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx(ki,{src:Ee.logo,fallbackText:Ee.name,className:"w-12 h-12 border border-slate-100",isAvatar:!1}),i.jsxs("div",{className:"flex-1 overflow-hidden",children:[i.jsx("h3",{className:"font-bold text-lg text-slate-900 truncate group-hover:text-indigo-600 transition-colors",children:Ee.name}),i.jsx("p",{className:"text-slate-500 text-xs font-bold uppercase",children:Ee.industry})]})]}),i.jsxs("div",{className:"space-y-3 mb-6 text-sm text-slate-600",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Gf,{className:"w-4 h-4 text-slate-400"}),i.jsx("span",{className:"truncate",children:Ee.website||"No website"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(pl,{className:"w-4 h-4 text-slate-400"}),i.jsx("span",{className:"truncate font-medium",children:lr?.name||"Unassigned"})]})]}),i.jsxs("div",{className:"pt-4 border-t border-slate-100 flex items-center justify-between",children:[i.jsxs("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[Gr(Ee.id)," Active Deals"]}),i.jsx(Ka,{className:"w-4 h-4 text-slate-300 group-hover:text-indigo-600 group-hover:translate-x-1 transition-all"})]})]},Ee.id)}):w.map(Ee=>{const lr=g.find(gr=>gr.id===Ee.companyId),cr=Ue.includes(Ee.id);return i.jsxs("div",{onClick:()=>v(Ee),className:`bg-white p-5 rounded-2xl border ${cr?"border-indigo-400 bg-indigo-50/30":"border-slate-200"} hover:border-indigo-300 hover:shadow-md transition-all cursor-pointer group shadow-sm relative flex flex-col h-[220px]`,children:[i.jsx("div",{className:"absolute top-4 right-4",onClick:gr=>gr.stopPropagation(),children:i.jsx("input",{type:"checkbox",className:"rounded border-slate-300 text-indigo-600 focus:ring-indigo-500 w-4 h-4",checked:cr,onChange:()=>dt(gr=>cr?gr.filter(Fr=>Fr!==Ee.id):[...gr,Ee.id])})}),i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-11 h-11 bg-indigo-50 rounded-full flex items-center justify-center text-indigo-600 font-bold text-lg uppercase shadow-inner",children:Ee.name.charAt(0)}),i.jsxs("div",{className:"flex-1 overflow-hidden",children:[i.jsx("h3",{className:"font-bold text-base text-slate-900 truncate",children:Ee.name}),i.jsxs("p",{className:"text-slate-500 text-[11px] font-bold uppercase truncate",children:[Ee.role," @ ",lr?.name||"Partner"]})]})]}),i.jsxs("div",{className:"space-y-2 text-sm text-slate-600 flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(eo,{className:"w-4 h-4 text-slate-400"}),i.jsx("span",{className:"truncate text-indigo-600 text-[13px]",children:Ee.email})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(YN,{className:"w-4 h-4 text-slate-400"}),i.jsx("span",{className:"text-[13px]",children:Ee.phone})]})]}),Ee.linkedin&&i.jsx("div",{className:"pt-3 mt-auto border-t border-slate-100",children:i.jsxs("a",{href:Ee.linkedin,target:"_blank",rel:"noreferrer",onClick:gr=>gr.stopPropagation(),className:"w-full py-2 bg-blue-50 text-blue-600 rounded-xl hover:bg-blue-100 transition-colors flex items-center justify-center gap-2 text-[10px] font-black uppercase tracking-widest",children:[i.jsx(Xf,{className:"w-4 h-4"}),"LinkedIn"]})})]},Ee.id)})})]}),(c==="companies"&&ft.length>0||c==="contacts"&&Ue.length>0)&&i.jsx("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-[100] animate-in slide-in-from-bottom-10 duration-300",children:i.jsxs("div",{className:"bg-slate-900 text-white rounded-3xl shadow-2xl px-8 py-4 flex items-center gap-8 border border-white/10 ring-4 ring-indigo-500/10",children:[i.jsxs("span",{className:"text-sm font-black flex items-center gap-3",children:[i.jsx("div",{className:"w-6 h-6 bg-indigo-500 rounded-full flex items-center justify-center text-[10px]",children:c==="companies"?ft.length:Ue.length}),"Selected"]}),i.jsx("div",{className:"h-8 w-px bg-white/10"}),i.jsxs("div",{className:"flex items-center gap-3",children:[c==="companies"&&i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:Ee=>{Ee.stopPropagation(),ua()},disabled:nt||er,className:"px-5 py-2 bg-amber-600 hover:bg-amber-700 rounded-xl text-xs font-black uppercase tracking-widest transition-all flex items-center gap-2 disabled:opacity-50",children:[nt?i.jsx(Ot,{className:"w-3.5 h-3.5 animate-spin"}):i.jsx(Ip,{className:"w-3.5 h-3.5"}),"Mark as Target Account"]}),i.jsxs("button",{onClick:Ee=>{Ee.stopPropagation(),Sr()},disabled:nt||er,className:"px-5 py-2 bg-slate-600 hover:bg-slate-700 rounded-xl text-xs font-black uppercase tracking-widest transition-all flex items-center gap-2 disabled:opacity-50",children:[er?i.jsx(Ot,{className:"w-3.5 h-3.5 animate-spin"}):i.jsx($c,{className:"w-3.5 h-3.5"}),"Unmark Target Account"]})]}),i.jsxs("button",{onClick:Ee=>{Ee.stopPropagation(),Pr(c)},disabled:c==="companies"?st:Re,className:"px-5 py-2 bg-red-600 hover:bg-red-700 rounded-xl text-xs font-black uppercase tracking-widest transition-all flex items-center gap-2 disabled:opacity-50",children:[(c==="companies"?st:Re)?i.jsx(Ot,{className:"w-3.5 h-3.5 animate-spin"}):i.jsx(Ir,{className:"w-3.5 h-3.5"}),"Delete"]}),i.jsx("button",{onClick:()=>{c==="companies"?Nt([]):dt([])},className:"p-2 hover:bg-white/10 rounded-xl text-slate-400 transition-colors",children:i.jsx(mr,{className:"w-5 h-5"})})]})]})}),m&&i.jsxs("div",{className:"fixed inset-0 z-[70] overflow-hidden pointer-events-none",children:[i.jsx("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm pointer-events-auto animate-in fade-in duration-300",onClick:Le}),i.jsxs("div",{className:"absolute right-0 inset-y-0 w-full max-w-2xl bg-white shadow-2xl pointer-events-auto animate-in slide-in-from-right duration-500 flex flex-col",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(ki,{src:m.logo,fallbackText:m.name,className:"w-12 h-12 border border-slate-200",isAvatar:!1}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h2",{className:"text-xl font-bold text-slate-900",children:m.name}),i.jsx("button",{onClick:()=>_n({isTargetAccount:!m.isTargetAccount}),className:`p-1 rounded-lg transition-all ${m.isTargetAccount?"text-amber-500 bg-amber-50":"text-slate-300 hover:text-amber-500 hover:bg-amber-50"}`,title:"Mark as Target Account",children:i.jsx(Ip,{className:"w-5 h-5"})})]}),i.jsx("p",{className:"text-xs text-slate-500",children:m.industry})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[W?i.jsx("button",{onClick:async()=>{await _n(K),B(!1)},className:"p-2 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 shadow-lg",children:i.jsx(ro,{className:"w-5 h-5"})}):i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>{re({...m}),B(!0)},className:"p-2 hover:bg-slate-100 rounded-xl text-slate-400",children:i.jsx(d_,{className:"w-5 h-5"})}),i.jsx("button",{onClick:()=>Pe(m),className:"p-2 hover:bg-red-50 rounded-xl text-red-500 transition-all",title:"Delete Company",children:i.jsx(Ir,{className:"w-5 h-5"})})]}),i.jsx("button",{onClick:Le,className:"p-2 hover:bg-slate-100 rounded-full text-slate-400 transition-all",children:i.jsx(mr,{className:"w-5 h-5"})})]})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-8 space-y-10",children:[W?i.jsxs("div",{className:"grid grid-cols-2 gap-4 animate-in slide-in-from-top-2",children:[i.jsxs("div",{className:"col-span-2 space-y-1",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Company Name"}),i.jsx("input",{type:"text",value:K.name,onChange:Ee=>re({...K,name:Ee.target.value}),className:"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Industry"}),i.jsx("input",{type:"text",value:K.industry,onChange:Ee=>re({...K,industry:Ee.target.value}),className:"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Owner"}),i.jsxs("select",{value:K.ownerId,onChange:Ee=>re({...K,ownerId:Ee.target.value}),className:"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm",children:[i.jsx("option",{value:"",children:"Unassigned"}),P.map(Ee=>i.jsx("option",{value:Ee.id,children:Ee.name},Ee.id))]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Website"}),i.jsx("input",{type:"text",value:K.website,onChange:Ee=>re({...K,website:Ee.target.value}),className:"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"LinkedIn"}),i.jsx("input",{type:"text",value:K.linkedin,onChange:Ee=>re({...K,linkedin:Ee.target.value}),className:"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm"})]})]}):i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Account Manager"}),i.jsxs("span",{className:"text-sm font-bold text-indigo-600 flex items-center gap-2",children:[i.jsx(pl,{className:"w-4 h-4"})," ",pn(m.ownerId)]})]}),i.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Status"}),i.jsx("span",{className:`text-[10px] font-black uppercase px-2 py-0.5 rounded-full ${m.isTargetAccount?"bg-amber-500 text-white":"bg-slate-200 text-slate-500"}`,children:m.isTargetAccount?"Target Account":"Standard Account"})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[i.jsx(Cu,{className:"w-4 h-4 text-emerald-500"})," Social Signals & Intelligence"]}),i.jsxs("button",{onClick:jr,disabled:fe,className:"flex items-center gap-1.5 px-3 py-1 bg-indigo-50 text-indigo-600 rounded-xl text-[10px] font-black uppercase hover:bg-indigo-100 transition-all disabled:opacity-50",children:[fe?i.jsx(Ot,{className:"w-3 h-3 animate-spin"}):i.jsx(HR,{className:"w-3 h-3"})," Execute Intelligence Scan"]})]}),i.jsxs("div",{className:"space-y-3",children:[fe&&i.jsxs("div",{className:"p-6 bg-slate-50 rounded-2xl border border-dashed border-indigo-200 flex flex-col items-center justify-center text-center",children:[i.jsx(Ot,{className:"w-8 h-8 animate-spin text-indigo-400 mb-2"}),i.jsx("p",{className:"text-xs text-indigo-400 font-bold uppercase tracking-widest",children:"Scanning global digital signals..."})]}),(!m.socialSignals||m.socialSignals.length===0)&&!fe?i.jsxs("div",{className:"py-12 text-center text-slate-400",children:[i.jsx(Cu,{className:"w-12 h-12 mx-auto mb-2 opacity-10"}),i.jsx("p",{className:"text-xs font-medium",children:"No signals found. Use AI Scan to refresh intelligence."})]}):(m.socialSignals||[]).map(Ee=>i.jsxs("div",{className:"p-4 bg-white border border-slate-100 rounded-2xl hover:border-indigo-200 transition-all shadow-sm group",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${Ee.type==="funding"?"bg-emerald-50 text-emerald-600":Ee.type==="hiring"?"bg-blue-50 text-blue-600":"bg-purple-50 text-purple-600"}`,children:[Ee.type==="funding"&&i.jsx(BR,{className:"w-4 h-4"}),Ee.type==="hiring"&&i.jsx(Zh,{className:"w-4 h-4"}),Ee.type==="acquisition"&&i.jsx(mv,{className:"w-4 h-4"}),Ee.type==="news"&&i.jsx(LR,{className:"w-4 h-4"})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-sm text-slate-900",children:Ee.title}),Ee.isAiGenerated&&i.jsxs("span",{className:"text-[8px] font-black text-indigo-400 uppercase tracking-tighter flex items-center gap-1",children:[i.jsx(Ts,{className:"w-2 h-2"})," Verified by Impact AI"]})]})]}),i.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:Ee.date})]}),i.jsx("p",{className:"text-xs text-slate-500 leading-relaxed",children:Ee.description})]},Ee.id))]})]}),i.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-200",children:[i.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[i.jsx(ls,{className:"w-4 h-4 text-indigo-500"}),"Notes & Comments",m.notes&&m.notes.length>0&&i.jsx("span",{className:"ml-1 px-2 py-0.5 bg-indigo-100 text-indigo-600 rounded-full text-[10px]",children:m.notes.length})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx("textarea",{rows:3,value:Kt,onChange:Zt,onBlur:()=>setTimeout(()=>Ct(!1),200),className:"w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-sm font-medium text-slate-900 outline-none focus:ring-2 focus:ring-indigo-200 focus:border-indigo-300 resize-none",placeholder:"Add a note or comment... (Use @ to mention users)"}),We&&Br.length>0&&i.jsx("div",{className:"absolute bottom-full mb-2 left-0 w-full max-w-sm bg-white border-2 border-indigo-200 rounded-xl shadow-2xl z-50 max-h-48 overflow-y-auto",children:i.jsxs("div",{className:"p-2",children:[i.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 text-xs font-bold text-slate-400 uppercase tracking-wider",children:[i.jsx(xm,{className:"w-3 h-3"}),"Mention User"]}),Br.map(Ee=>i.jsxs("button",{onClick:()=>Gt(Ee),className:"w-full flex items-center gap-3 px-3 py-2 hover:bg-indigo-50 rounded-lg transition-all text-left",children:[i.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center text-indigo-600 font-bold text-xs",children:Ee.name.charAt(0)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-bold text-slate-900 truncate",children:Ee.name}),i.jsx("p",{className:"text-xs text-slate-400 truncate",children:Ee.email})]})]},Ee.id))]})})]}),i.jsx("button",{onClick:dr,disabled:nn||!Kt.trim(),className:"w-full px-6 py-3 bg-indigo-600 text-white font-bold text-xs uppercase tracking-widest rounded-xl hover:bg-indigo-700 transition-all shadow-lg flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:nn?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),"Sending..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Mc,{className:"w-4 h-4"}),"Send"]})})]}),i.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto",children:m.notes&&m.notes.length>0?[...m.notes].reverse().map(Ee=>{const lr=l?.role==="Admin"||Ee.userId===l?.id;return i.jsxs("div",{className:"p-4 bg-white border border-slate-200 rounded-xl space-y-2",children:[i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center text-indigo-600 font-black text-xs",children:Ee.userName?.charAt(0)||"U"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-bold text-slate-900",children:Ee.userName}),i.jsx("p",{className:"text-[10px] text-slate-400",children:new Date(Ee.createdAt).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})})]})]}),lr&&i.jsx("button",{onClick:()=>sn(Ee.id),disabled:or===Ee.id,className:"p-2 hover:bg-red-50 rounded-lg transition-colors group disabled:opacity-50",title:"Delete note",children:or===Ee.id?i.jsx(Ot,{className:"w-4 h-4 text-red-600 animate-spin"}):i.jsx(Ir,{className:"w-4 h-4 text-slate-400 group-hover:text-red-600 transition-colors"})})]}),Ee.text&&i.jsx("p",{className:"text-sm text-slate-700 leading-relaxed pl-10",children:zt(Ee.text)})]},Ee.id)}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(ls,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),i.jsx("p",{className:"text-sm text-slate-400 font-medium",children:"No notes yet"}),i.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Add your first note above"})]})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Active Contacts"}),i.jsx("div",{className:"space-y-3",children:w.filter(Ee=>Ee.companyId===m.id).map(Ee=>i.jsxs("div",{className:"p-4 bg-white border border-slate-100 rounded-2xl flex items-center justify-between hover:border-indigo-200 transition-all cursor-pointer",onClick:()=>v(Ee),children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-indigo-50 border border-indigo-100 rounded-xl flex items-center justify-center text-xs font-black text-indigo-600 uppercase",children:Ee.name.charAt(0)}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-bold text-slate-900",children:Ee.name}),i.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase",children:Ee.role})]})]}),i.jsx(Ka,{className:"w-4 h-4 text-slate-300"})]},Ee.id))})]})]})]})]}),y&&i.jsxs("div",{className:"fixed inset-0 z-[75] overflow-hidden pointer-events-none",children:[i.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md pointer-events-auto animate-in fade-in duration-300",onClick:ht}),i.jsxs("div",{className:"absolute right-0 inset-y-0 w-full max-w-xl bg-white shadow-2xl pointer-events-auto animate-in slide-in-from-right duration-500 flex flex-col",children:[i.jsxs("div",{className:"p-8 border-b border-slate-100 bg-slate-50/50 relative",children:[i.jsx("button",{onClick:ht,className:"absolute top-6 right-6 p-2 hover:bg-white rounded-full text-slate-400 transition-all shadow-sm z-10",children:i.jsx(mr,{className:"w-5 h-5"})}),i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsx("div",{className:"w-24 h-24 bg-indigo-600 rounded-3xl flex items-center justify-center text-white text-3xl font-black shadow-xl shadow-indigo-100 ring-4 ring-indigo-50 shrink-0",children:y.name.charAt(0)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h2",{className:"text-2xl font-black text-slate-900 truncate mb-1",children:y.name}),i.jsxs("p",{className:"text-sm font-bold text-indigo-600 uppercase tracking-widest truncate",children:[y.role," @ ",g.find(Ee=>Ee.id===y.companyId)?.name||"Direct Contact"]}),i.jsx("div",{className:"flex gap-2 mt-4",children:he?i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:Ta,disabled:ue,className:"px-4 py-2 bg-indigo-600 border border-indigo-600 rounded-xl text-xs font-black uppercase tracking-widest text-white hover:bg-indigo-700 transition-all flex items-center gap-2 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:ue?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-3.5 h-3.5 animate-spin"})," Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(ro,{className:"w-3.5 h-3.5"})," Save Changes"]})}),i.jsxs("button",{onClick:()=>{Oe(!1),De({...y})},disabled:ue,className:"px-4 py-2 bg-white border border-slate-200 rounded-xl text-xs font-black uppercase tracking-widest text-slate-600 hover:border-slate-300 transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx(mr,{className:"w-3.5 h-3.5"})," Cancel"]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:()=>{De({...y}),Oe(!0)},className:"px-4 py-2 bg-white border border-slate-200 rounded-xl text-xs font-black uppercase tracking-widest text-slate-600 hover:border-indigo-300 transition-all flex items-center gap-2",children:[i.jsx(d_,{className:"w-3.5 h-3.5"})," Edit Profile"]}),i.jsx("a",{href:`mailto:${y.email}`,className:"p-2.5 bg-slate-900 text-white rounded-xl hover:bg-slate-800 transition-all shadow-lg shadow-slate-200",children:i.jsx(eo,{className:"w-4 h-4"})}),y.linkedin&&i.jsx("a",{href:y.linkedin,target:"_blank",rel:"noreferrer",className:"p-2.5 bg-[#0077b5] text-white rounded-xl hover:bg-[#006da5] transition-all shadow-lg shadow-blue-100",children:i.jsx(Xf,{className:"w-4 h-4"})})]})})]})]}),i.jsx("div",{className:"flex bg-white p-1 rounded-2xl border border-slate-200 w-fit mt-8",children:[{id:"details",label:"Overview",icon:i.jsx(Vd,{className:"w-3.5 h-3.5"})},{id:"notes",label:"Strategic Context",icon:i.jsx(Wa,{className:"w-3.5 h-3.5"})},{id:"activity",label:"History",icon:i.jsx(Kf,{className:"w-3.5 h-3.5"})}].map(Ee=>i.jsxs("button",{onClick:()=>{oe(Ee.id),Oe(!1)},className:`flex items-center gap-2 px-6 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${je===Ee.id?"bg-indigo-600 text-white shadow-lg":"text-slate-400 hover:text-slate-600 hover:bg-slate-50"}`,children:[Ee.icon," ",Ee.label]},Ee.id))})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar",children:[je==="details"&&i.jsx("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-2 duration-300",children:he?i.jsxs("div",{className:"space-y-8 animate-in slide-in-from-top-2 duration-300",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:["Full Legal Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{required:!0,type:"text",value:ee.name||"",onChange:Ee=>De({...ee,name:Ee.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-2xl text-sm font-bold focus:ring-4 focus:ring-indigo-50 focus:border-indigo-600 transition-all"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Professional Role"}),i.jsx("input",{type:"text",value:ee.role||"",onChange:Ee=>De({...ee,role:Ee.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-2xl text-sm font-bold focus:ring-4 focus:ring-indigo-50 focus:border-indigo-600 transition-all"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Linked Organization"}),i.jsxs("select",{value:ee.companyId||"",onChange:Ee=>De({...ee,companyId:Ee.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-2xl text-sm font-bold focus:ring-4 focus:ring-indigo-50 focus:border-indigo-600 transition-all appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22m6%208%204%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:20px_20px] bg-[right_16px_center] bg-no-repeat",children:[i.jsx("option",{value:"",children:"No Organization"}),g.map(Ee=>i.jsx("option",{value:Ee.id,children:Ee.name},Ee.id))]})]}),i.jsxs("div",{className:"p-6 bg-slate-50 rounded-3xl border border-slate-200 space-y-6",children:[i.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] border-b border-slate-200 pb-2",children:"Communication Registry"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:["Enterprise Email ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{required:!0,type:"email",value:ee.email||"",onChange:Ee=>De({...ee,email:Ee.target.value}),className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-2xl text-sm font-bold focus:ring-4 focus:ring-indigo-50 focus:border-indigo-600 transition-all"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Mobile Contact"}),i.jsx("input",{type:"tel",value:ee.phone||"",onChange:Ee=>De({...ee,phone:Ee.target.value}),className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-2xl text-sm font-bold focus:ring-4 focus:ring-indigo-50 focus:border-indigo-600 transition-all"})]}),i.jsxs("div",{className:"space-y-2 md:col-span-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"LinkedIn Intelligence URL"}),i.jsx("input",{type:"url",value:ee.linkedin||"",onChange:Ee=>De({...ee,linkedin:Ee.target.value}),className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-2xl text-sm font-bold focus:ring-4 focus:ring-indigo-50 focus:border-indigo-600 transition-all"})]})]})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"p-6 bg-slate-50 rounded-[32px] border border-slate-100 flex flex-col justify-between group hover:bg-white hover:border-indigo-200 transition-all shadow-sm",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Contact Channel"}),i.jsx(eo,{className:"w-4 h-4 text-indigo-400 group-hover:scale-110 transition-transform"})]}),i.jsx("p",{className:"text-sm font-black text-slate-900 truncate",children:y.email}),i.jsx("p",{className:"text-[10px] text-indigo-500 font-bold uppercase mt-2",children:"Verified Enterprise Mail"})]}),i.jsxs("div",{className:"p-6 bg-slate-50 rounded-[32px] border border-slate-100 flex flex-col justify-between group hover:bg-white hover:border-indigo-200 transition-all shadow-sm",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Voice Registry"}),i.jsx(YN,{className:"w-4 h-4 text-indigo-400 group-hover:scale-110 transition-transform"})]}),i.jsx("p",{className:"text-sm font-black text-slate-900",children:y.phone||"Registry Pending"}),i.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase mt-2",children:"Direct Terminal"})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[i.jsx(qd,{className:"w-4 h-4 text-indigo-500"})," Account Context"]}),i.jsxs("div",{className:"p-6 bg-white border border-slate-100 rounded-[36px] shadow-sm flex items-center gap-5 hover:border-indigo-300 transition-all group",children:[i.jsx(ki,{src:g.find(Ee=>Ee.id===y.companyId)?.logo,className:"w-16 h-16 border-2 border-slate-50",fallbackText:"C",isAvatar:!1}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-black text-lg text-slate-900 leading-none mb-1 group-hover:text-indigo-600 transition-colors",children:g.find(Ee=>Ee.id===y.companyId)?.name||"Independent Partner"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-[10px] text-slate-400 font-black uppercase",children:g.find(Ee=>Ee.id===y.companyId)?.industry||"Uncategorized"}),i.jsx("span",{className:"w-1 h-1 rounded-full bg-slate-200"}),i.jsx("span",{className:"text-[10px] text-indigo-500 font-black uppercase",children:"Primary Stakeholder"})]})]}),i.jsx("button",{className:"p-3 text-indigo-600 bg-indigo-50 rounded-2xl hover:bg-indigo-100 transition-all",children:i.jsx(ic,{className:"w-5 h-5"})})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[i.jsx(Ts,{className:"w-4 h-4 text-amber-500"})," Intelligence Summary"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"p-4 bg-emerald-50/50 rounded-2xl border border-emerald-100 flex items-center gap-3",children:[i.jsx(yg,{className:"w-5 h-5 text-emerald-600"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[10px] font-black text-emerald-600 uppercase",children:"Influence"}),i.jsx("p",{className:"text-xs font-bold text-slate-900",children:"Decision Maker"})]})]}),i.jsxs("div",{className:"p-4 bg-blue-50/50 rounded-2xl border border-blue-100 flex items-center gap-3",children:[i.jsx(pv,{className:"w-5 h-5 text-blue-600"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[10px] font-black text-blue-600 uppercase",children:"Network"}),i.jsx("p",{className:"text-xs font-bold text-slate-900",children:"Executive Hub"})]})]})]})]})]})}),je==="notes"&&i.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[i.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[i.jsx(ls,{className:"w-4 h-4 text-indigo-500"}),"Strategic Context & Notes",y.notes&&y.notes.length>0&&i.jsx("span",{className:"ml-1 px-2 py-0.5 bg-indigo-100 text-indigo-600 rounded-full text-[10px]",children:y.notes.length})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx("textarea",{rows:4,value:ne,onChange:hn,onBlur:()=>setTimeout(()=>Je(!1),200),className:"w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-sm font-medium text-slate-900 outline-none focus:ring-2 focus:ring-indigo-200 focus:border-indigo-300 resize-none",placeholder:"Add strategic context, decision-making patterns, or meeting insights... (Use @ to mention users)"}),Ge&&Lt.length>0&&i.jsx("div",{className:"absolute bottom-full mb-2 left-0 w-full max-w-sm bg-white border-2 border-indigo-200 rounded-xl shadow-2xl z-50 max-h-48 overflow-y-auto",children:i.jsxs("div",{className:"p-2",children:[i.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 text-xs font-bold text-slate-400 uppercase tracking-wider",children:[i.jsx(xm,{className:"w-3 h-3"}),"Mention User"]}),Lt.map(Ee=>i.jsxs("button",{onClick:()=>Wt(Ee),className:"w-full flex items-center gap-3 px-3 py-2 hover:bg-indigo-50 rounded-lg transition-all text-left",children:[i.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center text-indigo-600 font-bold text-xs",children:Ee.name.charAt(0)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-bold text-slate-900 truncate",children:Ee.name}),i.jsx("p",{className:"text-xs text-slate-400 truncate",children:Ee.email})]})]},Ee.id))]})})]}),i.jsx("button",{onClick:Xt,disabled:ve||!ne.trim(),className:"w-full px-6 py-3 bg-indigo-600 text-white font-bold text-xs uppercase tracking-widest rounded-xl hover:bg-indigo-700 transition-all shadow-lg flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:ve?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),"Sending..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Mc,{className:"w-4 h-4"}),"Send"]})})]}),y.legacyNotes&&i.jsxs("div",{className:"p-6 bg-amber-50 border border-amber-200 rounded-xl",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Vd,{className:"w-4 h-4 text-amber-600"}),i.jsx("p",{className:"text-xs font-bold text-amber-900 uppercase tracking-wider",children:"Legacy Notes"})]}),i.jsx("p",{className:"text-sm text-amber-800 leading-relaxed italic",children:y.legacyNotes})]}),i.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto",children:y.notes&&y.notes.length>0?[...y.notes].reverse().map(Ee=>{const lr=l?.role==="Admin"||Ee.userId===l?.id;return i.jsxs("div",{className:"p-4 bg-white border border-slate-200 rounded-xl space-y-2",children:[i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center text-indigo-600 font-black text-xs",children:Ee.userName?.charAt(0)||"U"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-bold text-slate-900",children:Ee.userName}),i.jsx("p",{className:"text-[10px] text-slate-400",children:new Date(Ee.createdAt).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})})]})]}),lr&&i.jsx("button",{onClick:()=>et(Ee.id),disabled:Ie===Ee.id,className:"p-2 hover:bg-red-50 rounded-lg transition-colors group disabled:opacity-50",title:"Delete note",children:Ie===Ee.id?i.jsx(Ot,{className:"w-4 h-4 text-red-600 animate-spin"}):i.jsx(Ir,{className:"w-4 h-4 text-slate-400 group-hover:text-red-600 transition-colors"})})]}),Ee.text&&i.jsx("p",{className:"text-sm text-slate-700 leading-relaxed pl-10",children:zt(Ee.text)})]},Ee.id)}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(ls,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),i.jsx("p",{className:"text-sm text-slate-400 font-medium",children:"No notes yet"}),i.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Add strategic insights above"})]})})]}),je==="activity"&&i.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-left-4 duration-300",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Operational Engagement Timeline"}),i.jsxs("button",{className:"text-[10px] font-black text-slate-400 uppercase bg-slate-100 px-3 py-1.5 rounded-xl hover:bg-slate-200 transition-all flex items-center gap-1.5",children:[i.jsx(wR,{className:"w-3 h-3"})," Audit Log"]})]}),i.jsxs("div",{className:"relative border-l-2 border-slate-100 ml-4 pl-10 space-y-12",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute -left-[51px] top-1.5 w-8 h-8 rounded-full bg-white border-2 border-indigo-600 shadow-xl flex items-center justify-center",children:i.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-600"})}),i.jsx("p",{className:"text-[10px] font-black text-indigo-600 uppercase mb-1 tracking-widest",children:"Digital Touchpoint  Yesterday"}),i.jsx("h4",{className:"text-sm font-black text-slate-900",children:"Enterprise Email Receipt"}),i.jsx("p",{className:"text-xs text-slate-500 mt-2 leading-relaxed max-w-sm",children:"Confirmed receipt of Logistics Transformation Proposal V3. Stakeholder requested EMEA regional review by Friday."})]}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute -left-[51px] top-1.5 w-8 h-8 rounded-full bg-white border-2 border-slate-200 shadow-sm flex items-center justify-center",children:i.jsx("div",{className:"w-2 h-2 rounded-full bg-slate-300"})}),i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase mb-1 tracking-widest",children:"Registry Update  Last Week"}),i.jsx("h4",{className:"text-sm font-black text-slate-900",children:"Registry Association Linked"}),i.jsx("p",{className:"text-xs text-slate-500 mt-2 leading-relaxed max-w-sm",children:"Manually associated with the 'Q4 Global Logistics Consolidation' opportunity by Alex Rivera (Admin)."})]})]})]})]}),i.jsxs("div",{className:"p-8 border-t border-slate-100 bg-white flex gap-4",children:[i.jsx("button",{onClick:()=>ae(y),className:"px-6 py-4 border border-slate-200 bg-white text-red-500 hover:bg-red-50 rounded-[28px] transition-all group shrink-0 active:scale-95",children:i.jsx(Ir,{className:"w-6 h-6 group-hover:scale-110 transition-transform"})}),i.jsxs("button",{onClick:()=>{v(null),Oe(!1)},className:"flex-1 py-4 bg-slate-900 text-white font-black uppercase text-xs tracking-[0.25em] rounded-[28px] hover:bg-indigo-700 active:scale-95 transition-all shadow-2xl flex items-center justify-center gap-3",children:[i.jsx(yg,{className:"w-5 h-5"})," Save"]})]})]})]}),Se&&i.jsx("div",{className:"fixed inset-0 z-[130] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:i.jsxs("div",{className:"bg-white rounded-[32px] w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"p-8 border-b border-slate-100",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center bg-red-50 text-red-600",children:i.jsx(Ir,{className:"w-6 h-6"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-black text-slate-900",children:"Delete Company?"}),i.jsx("p",{className:"text-xs text-slate-400 font-medium mt-1",children:"This action cannot be undone. All associated contacts, deals, and projects will be affected."})]})]}),i.jsx("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-200",children:i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(ki,{src:Se.logo,fallbackText:Se.name,className:"w-10 h-10 border border-slate-200",isAvatar:!1}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-bold text-slate-900",children:Se.name}),i.jsx("p",{className:"text-xs text-slate-500",children:Se.industry})]})]})})]}),i.jsxs("div",{className:"p-6 flex gap-3",children:[i.jsx("button",{onClick:()=>Pe(null),disabled:ye,className:"flex-1 py-3 border border-slate-200 text-slate-400 font-black uppercase text-xs tracking-widest rounded-xl hover:bg-slate-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),i.jsx("button",{onClick:()=>gn(Se.id),disabled:ye,className:"flex-1 py-3 bg-red-600 text-white font-black uppercase text-xs tracking-widest rounded-xl hover:bg-red-700 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:ye?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):"Delete Company"})]})]})}),pe&&i.jsx("div",{className:"fixed inset-0 z-[130] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:i.jsxs("div",{className:"bg-white rounded-[32px] w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"p-8 border-b border-slate-100",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center bg-red-50 text-red-600",children:i.jsx(Ir,{className:"w-6 h-6"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-black text-slate-900",children:"Delete Contact?"}),i.jsx("p",{className:"text-xs text-slate-400 font-medium mt-1",children:"This action cannot be undone. The contact will be permanently removed from the enterprise registry."})]})]}),i.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-200",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"w-12 h-12 bg-indigo-50 rounded-xl flex items-center justify-center text-indigo-600 font-black text-lg border border-indigo-100",children:pe.name.charAt(0).toUpperCase()}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-bold text-slate-900",children:pe.name}),i.jsx("p",{className:"text-xs text-slate-500",children:pe.email}),pe.role&&i.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase mt-1",children:pe.role})]})]}),g.find(Ee=>Ee.id===pe.companyId)&&i.jsxs("div",{className:"flex items-center gap-2 mt-3 pt-3 border-t border-slate-200",children:[i.jsx(qd,{className:"w-4 h-4 text-slate-400"}),i.jsx("p",{className:"text-xs font-bold text-slate-600",children:g.find(Ee=>Ee.id===pe.companyId)?.name})]})]})]}),i.jsxs("div",{className:"p-6 flex gap-3",children:[i.jsx("button",{onClick:()=>ae(null),disabled:$e,className:"flex-1 py-3 border border-slate-200 text-slate-400 font-black uppercase text-xs tracking-widest rounded-xl hover:bg-slate-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),i.jsx("button",{onClick:()=>en(pe.id),disabled:$e,className:"flex-1 py-3 bg-red-600 text-white font-black uppercase text-xs tracking-widest rounded-xl hover:bg-red-700 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:$e?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):"Delete Contact"})]})]})}),$t&&i.jsx("div",{className:"fixed inset-0 z-[130] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:i.jsxs("div",{className:"bg-white rounded-[32px] w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"p-8 border-b border-slate-100",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center bg-red-50 text-red-600",children:i.jsx(Ir,{className:"w-6 h-6"})}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-xl font-black text-slate-900",children:["Delete ",$t==="companies"?ft.length:Ue.length," ",$t==="companies"?"Compan":"Contact",$t==="companies"?ft.length>1?"ies":"y":Ue.length>1?"s":"","?"]}),i.jsxs("p",{className:"text-xs text-slate-400 font-medium mt-1",children:["This action cannot be undone. ",$t==="companies"?"All associated contacts, deals, and projects will be affected.":"The contacts will be permanently removed from the enterprise registry."]})]})]}),i.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-200 max-h-48 overflow-y-auto",children:[($t==="companies"?g.filter(Ee=>ft.includes(Ee.id)):w.filter(Ee=>Ue.includes(Ee.id))).slice(0,5).map(Ee=>i.jsx("div",{className:"flex items-center gap-3 mb-2 last:mb-0",children:$t==="companies"?i.jsxs(i.Fragment,{children:[i.jsx(ki,{src:Ee.logo,fallbackText:Ee.name,className:"w-8 h-8 border border-slate-200",isAvatar:!1}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-bold text-slate-900",children:Ee.name}),i.jsx("p",{className:"text-[10px] text-slate-500",children:Ee.industry})]})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-8 h-8 bg-indigo-50 rounded-full flex items-center justify-center text-indigo-600 font-bold text-xs uppercase",children:Ee.name.charAt(0)}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-bold text-slate-900",children:Ee.name}),i.jsx("p",{className:"text-[10px] text-slate-500",children:Ee.email})]})]})},Ee.id)),($t==="companies"?ft.length:Ue.length)>5&&i.jsxs("p",{className:"text-xs text-slate-400 font-medium mt-2 text-center",children:["+ ",($t==="companies"?ft.length:Ue.length)-5," more"]})]})]}),i.jsxs("div",{className:"p-6 flex gap-3",children:[i.jsx("button",{onClick:()=>Pr(null),disabled:$t==="companies"?st:Re,className:"flex-1 py-3 border border-slate-200 text-slate-400 font-black uppercase text-xs tracking-widest rounded-xl hover:bg-slate-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),i.jsx("button",{onClick:()=>{$t==="companies"?En():Pn()},disabled:$t==="companies"?st:Re,className:"flex-1 py-3 bg-red-600 text-white font-black uppercase text-xs tracking-widest rounded-xl hover:bg-red-700 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:($t==="companies"?st:Re)?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):`Delete ${$t==="companies"?ft.length:Ue.length} ${$t==="companies"?"Compan":"Contact"}${$t==="companies"?ft.length>1?"ies":"y":Ue.length>1?"s":""}`})]})]})}),fn&&i.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 flex items-center justify-center text-red-600 mx-auto",children:i.jsx(Kd,{className:"w-6 h-6"})}),i.jsxs("div",{className:"text-center",children:[i.jsx("h3",{className:"text-lg font-black text-slate-900 mb-2",children:"Delete Note?"}),i.jsx("p",{className:"text-sm text-slate-600",children:"Are you sure you want to delete this note? This action cannot be undone."})]})]}),i.jsxs("div",{className:"flex gap-3 p-6 bg-slate-50 border-t border-slate-200",children:[i.jsx("button",{onClick:()=>sn(null),disabled:or===fn,className:"flex-1 px-4 py-2 bg-white border-2 border-slate-200 text-slate-700 font-bold text-sm rounded-xl hover:bg-slate-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),i.jsx("button",{onClick:tn,disabled:or===fn,className:"flex-1 px-4 py-2 bg-red-600 text-white font-bold text-sm rounded-xl hover:bg-red-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:or===fn?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Ir,{className:"w-4 h-4"}),"Delete"]})})]})]})}),ze&&i.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 flex items-center justify-center text-red-600 mx-auto",children:i.jsx(Kd,{className:"w-6 h-6"})}),i.jsxs("div",{className:"text-center",children:[i.jsx("h3",{className:"text-lg font-black text-slate-900 mb-2",children:"Delete Note?"}),i.jsx("p",{className:"text-sm text-slate-600",children:"Are you sure you want to delete this note? This action cannot be undone."})]})]}),i.jsxs("div",{className:"flex gap-3 p-6 bg-slate-50 border-t border-slate-200",children:[i.jsx("button",{onClick:()=>et(null),disabled:Ie===ze,className:"flex-1 px-4 py-2 bg-white border-2 border-slate-200 text-slate-700 font-bold text-sm rounded-xl hover:bg-slate-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),i.jsx("button",{onClick:yt,disabled:Ie===ze,className:"flex-1 px-4 py-2 bg-red-600 text-white font-bold text-sm rounded-xl hover:bg-red-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:Ie===ze?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Ir,{className:"w-4 h-4"}),"Delete"]})})]})]})}),kr&&i.jsx(cne,{onClose:()=>Dr(!1),onSuccess:()=>{Dr(!1),o.invalidateQueries({queryKey:["companies"]}),o.invalidateQueries({queryKey:["contacts"]})},currentUserId:l?.id||""}),an&&i.jsx(une,{onClose:()=>Nn(!1),onSuccess:()=>{Nn(!1),o.invalidateQueries({queryKey:["companies"]}),o.invalidateQueries({queryKey:["contacts"]})},currentUserId:l?.id||""})]})},kP=[{id:"sales",name:"Sales Pipeline",type:"sales",stages:["Discovery","Proposal","Negotiation","Won","Lost"]},{id:"ops",name:"Operations Flow",type:"operations",stages:["Order Received","Processing","In Transit","Delivered"]}],iae=({onNavigate:e,onNewDeal:t,currentUser:r})=>{const{showSuccess:n,showError:a,showInfo:s}=oi(),[o,l]=V.useState([]),[c,u]=V.useState([]),[d,h]=V.useState([]),[m,p]=V.useState([]),[y,v]=V.useState(!0),[g,b]=V.useState(null),[w,j]=V.useState("overview"),[N,S]=V.useState(!1),[P,A]=V.useState(null),[O,M]=V.useState(null),[F,E]=V.useState(""),[T,I]=V.useState(null),[z,Q]=V.useState(!1),[te,J]=V.useState(!1),[ie,X]=V.useState(!1),[Z,q]=V.useState({title:"",companyId:"",value:"",currency:mi,stage:"Discovery",ownerId:"",expectedCloseDate:"",description:""}),[C,U]=V.useState([]),[W,B]=V.useState(!1),[K,re]=V.useState(!1),[fe,ce]=V.useState([]),[he,Oe]=V.useState(""),[ee]=V.useState("sales"),[De,je]=V.useState(!1),[oe,ue]=V.useState(!1),[_e,Se]=V.useState(!0),[Pe,pe]=V.useState(!1),[ae,ye]=V.useState(null),[Be,$e]=V.useState(""),[rt,ft]=V.useState(""),Nt=fe.find(We=>We.id===he)||null,[Ue,dt]=V.useState(null),st=async()=>{try{Se(!0);const At=((await iP())?.data||[]).filter(ir=>ir.type==="sales");if(At.length===0)try{const ir=await sP({name:"Sales Pipeline",type:"sales",stages:["Discovery","Proposal","Negotiation","Won","Lost"]});ir?.data?.id&&await Mg(ir.data.id,{isActive:!0});const Br=((await iP())?.data||[]).filter(ne=>ne.type==="sales");ce(Br);const Hr=Br.find(ne=>ne.isActive)||Br[0];Hr&&Oe(Hr.id)}catch(ir){console.error("[PIPELINE] Failed to create default sales pipeline:",ir);const vr=kP.filter(Wr=>Wr.type==="sales");ce(vr),vr.length>0&&Oe(vr[0].id)}else{ce(At);const ir=At.find(vr=>vr.isActive)||At[0];ir&&Oe(ir.id)}}catch(We){console.error("[PIPELINE] Failed to fetch pipelines:",We);const Ct=kP.filter(At=>At.type==="sales");ce(Ct),Ct.length>0&&Oe(Ct[0].id)}finally{Se(!1)}};V.useEffect(()=>{st()},[]);const it=async()=>{v(!0);try{const We=r?.id||JSON.parse(localStorage.getItem("user_data")||"{}").id,[Ct,At,ir,vr]=await Promise.all([Jk(We),Gu(),Kc(),_x()]),Br=(Array.isArray(Ct)?Ct:Ct?.data||[]).filter(Hr=>Hr.pipelineType?Hr.pipelineType==="sales":!["Order Received","Processing","In Transit","Delivered"].includes(Hr.stage));l(Br),u(At?.data||[]),h(ir?.data||[]),p(vr?.data||[])}catch{a("Failed to load pipeline data")}finally{v(!1)}};V.useEffect(()=>{it()},[r,ee]),V.useEffect(()=>{const We=()=>it();return window.addEventListener("refresh-pipeline",We),()=>window.removeEventListener("refresh-pipeline",We)},[]);const Re=(We,Ct)=>{dt(Ct),We.dataTransfer.setData("dealId",Ct)},vt=async(We,Ct)=>{We.preventDefault();const At=We.dataTransfer.getData("dealId"),ir=o.find(vr=>vr.id===At);if(!(!ir||ir.stage===Ct))try{await Lg(At,{stage:Ct,pipelineType:"sales"}),l(vr=>vr.map(Wr=>Wr.id===At?{...Wr,stage:Ct}:Wr)),n(`Deal moved to ${Ct}`),ir.ownerId&&ir.ownerId!==r?.id&&await Kh({userId:ir.ownerId,type:"deal",title:"Deal Advanced",message:`The deal "${ir.title}" was moved to ${Ct}.`,link:"/?tab=pipeline"})}catch{a("Failed to move deal")}finally{dt(null)}},nt=async()=>{if(!(!Be.trim()||!he||Pe))try{pe(!0);const We=fe.find(At=>At.id===he);if(!We)return;const Ct=[...We.stages,Be.trim()];await Mg(he,{stages:Ct}),ce(At=>At.map(ir=>ir.id===he?{...ir,stages:Ct}:ir)),$e(""),n("Stage added successfully")}catch(We){a(We.message||"Failed to add stage")}finally{pe(!1)}},Rt=async We=>{if(he)try{const Ct=fe.find(ir=>ir.id===he);if(!Ct)return;const At=Ct.stages.filter((ir,vr)=>vr!==We);await Mg(he,{stages:At}),ce(ir=>ir.map(vr=>vr.id===he?{...vr,stages:At}:vr)),n("Stage removed successfully")}catch(Ct){a(Ct.message||"Failed to remove stage")}},er=async()=>{if(rt.trim())try{const We=await sP({name:rt.trim(),type:"sales",stages:["Discovery","Proposal","Negotiation","Won","Lost"]});We?.data&&(await st(),Oe(We.data.id),ft(""),je(!1),n("Sales pipeline created successfully"))}catch(We){a(We.message||"Failed to create pipeline")}},ar=async We=>{try{const Ct=fe.find(At=>At.id===We);if(!Ct)return;await Mg(We,{isActive:!0}),Oe(We),await st(),await it(),n(`Switched to ${Ct.name}`)}catch(Ct){a(Ct.message||"Failed to switch pipeline")}},$t=async We=>{Q(!0);try{await tP(We),l(Ct=>Ct.filter(At=>At.id!==We)),g?.id===We&&b(null),I(null),n("Opportunity removed from pipeline")}catch(Ct){a(Ct.message||"Failed to delete opportunity")}finally{Q(!1)}},Pr=()=>{C.length===o.length?U([]):U(o.map(We=>We.id))},Kt=async()=>{B(!0);try{const We=[...C];await Promise.all(We.map(Ct=>tP(Ct))),l(Ct=>Ct.filter(At=>!We.includes(At.id))),g&&We.includes(g.id)&&b(null),U([]),re(!1),n(`Successfully deleted ${We.length} opportunit${We.length>1?"ies":"y"}`)}catch(We){a(We.message||"Failed to delete opportunities")}finally{B(!1)}},Er=async We=>{if(!g)return;if(g.stakeholderIds?.includes(We)){a("Stakeholder already linked");return}A(We);const Ct=[...g.stakeholderIds||[],We];try{await Lg(g.id,{stakeholderIds:Ct});const At={...g,stakeholderIds:Ct};b(At),l(ir=>ir.map(vr=>vr.id===g.id?At:vr)),S(!1),E(""),n("Stakeholder linked to opportunity")}catch{a("Link failed")}finally{A(null)}},nn=c.find(We=>We.id===g?.companyId),fr=d.find(We=>We.id===g?.ownerId),or=m.filter(We=>g?.stakeholderIds?.includes(We.id)),Tr=m.filter(We=>!g?.stakeholderIds?.includes(We.id)&&(We.name.toLowerCase().includes(F.toLowerCase())||We.email.toLowerCase().includes(F.toLowerCase())));V.useEffect(()=>{g&&!te&&q({title:g.title,companyId:g.companyId||"",value:g.value?g.value.toString():"",currency:g.currency||mi,stage:g.stage,ownerId:g.ownerId,expectedCloseDate:g.expectedCloseDate||"",description:g.description||""})},[g]);const fn=async()=>{if(g){if(!Z.title.trim()){a("Deal title is required");return}if(!Z.ownerId){a("Opportunity lead is required");return}X(!0);try{const We={title:Z.title.trim(),companyId:Z.companyId&&Z.companyId.trim()!==""?Z.companyId:null,value:parseFloat(Z.value)||0,currency:Z.currency||mi,stage:Z.stage,pipelineType:"sales",ownerId:Z.ownerId,expectedCloseDate:Z.expectedCloseDate&&Z.expectedCloseDate.trim()!==""?Z.expectedCloseDate:null,description:Z.description.trim()||null};await Lg(g.id,We);const Ct={...g,...We};l(At=>At.map(ir=>ir.id===g.id?Ct:ir)),b(Ct),J(!1),n("Deal updated successfully")}catch(We){a(We.message||"Failed to update deal")}finally{X(!1)}}},sn=()=>{if(!g)return[];const We=[];return g.createdAt&&We.push({id:"created",type:"created",title:"Opportunity Created",description:`Deal "${g.title}" was created${fr?` by ${fr.name}`:""}`,date:g.createdAt,icon:i.jsx(kn,{className:"w-4 h-4"}),color:"indigo"}),We.push({id:"stage",type:"stage",title:`Current Stage: ${g.stage}`,description:`Opportunity is currently in the ${g.stage} stage`,date:g.updatedAt||g.createdAt||new Date().toISOString(),icon:i.jsx(Cu,{className:"w-4 h-4"}),color:g.stage==="Won"?"emerald":g.stage==="Lost"?"red":"blue"}),g.value>0&&We.push({id:"value",type:"value",title:`Deal Value: ${Au(g.value,g.currency)}`,description:`Gross contract revenue for this opportunity: ${Au(g.value,g.currency)}`,date:g.updatedAt||g.createdAt||new Date().toISOString(),icon:i.jsx(Mu,{className:"w-4 h-4"}),color:"emerald"}),g.expectedCloseDate&&We.push({id:"close_date",type:"close_date",title:`Expected Close Date: ${g.expectedCloseDate}`,description:"Target date for closing this opportunity",date:g.expectedCloseDate,icon:i.jsx(La,{className:"w-4 h-4"}),color:"amber"}),or.length>0&&We.push({id:"stakeholders",type:"stakeholder",title:`${or.length} Stakeholder${or.length>1?"s":""} Linked`,description:or.map(Ct=>Ct.name).join(", "),date:g.updatedAt||g.createdAt||new Date().toISOString(),icon:i.jsx(dh,{className:"w-4 h-4"}),color:"purple"}),g.description&&We.push({id:"description",type:"description",title:"Strategic Context Added",description:g.description.substring(0,100)+(g.description.length>100?"...":""),date:g.updatedAt||g.createdAt||new Date().toISOString(),icon:i.jsx(ls,{className:"w-4 h-4"}),color:"slate"}),We.sort((Ct,At)=>new Date(At.date).getTime()-new Date(Ct.date).getTime())};return i.jsxs("div",{className:"h-full flex flex-col gap-6 animate-in slide-in-from-right-2 duration-500 relative",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center shrink-0 gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"relative group",children:[i.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 rounded-xl shadow-sm hover:border-indigo-300 transition-all font-bold",children:[i.jsx(u_,{className:"w-4 h-4 text-indigo-600"}),i.jsx("span",{className:"text-slate-900",children:Nt?.name||"Loading..."}),i.jsx(kh,{className:"w-4 h-4 text-slate-400"})]}),i.jsxs("div",{className:"absolute top-full left-0 mt-2 w-56 bg-white border border-slate-100 rounded-2xl shadow-xl z-50 overflow-hidden opacity-0 group-hover:opacity-100 invisible group-hover:visible transition-all",children:[fe.length>0?fe.map(We=>i.jsxs("button",{onClick:()=>ar(We.id),className:`w-full px-4 py-3 text-left text-sm font-bold flex items-center justify-between hover:bg-indigo-50 transition-colors ${he===We.id?"text-indigo-600":"text-slate-600"}`,children:[We.name," ",he===We.id&&i.jsx(Fu,{className:"w-4 h-4"})]},We.id)):i.jsx("div",{className:"px-4 py-3 text-sm text-slate-400",children:"No pipelines available"}),i.jsx("div",{className:"p-3 border-t border-slate-50 bg-slate-50/30",children:i.jsxs("button",{onClick:()=>je(!0),className:"w-full text-xs text-indigo-600 font-bold hover:text-indigo-700 flex items-center gap-2",children:[i.jsx(kn,{className:"w-3 h-3"}),"Manage Pipelines"]})}),i.jsx("div",{className:"p-3 border-t border-slate-50 bg-slate-50/30",children:i.jsx("input",{type:"text",placeholder:"New Pipeline Name...",value:rt,onChange:We=>ft(We.target.value),onKeyDown:We=>We.key==="Enter"&&er(),className:"w-full text-xs px-2 py-1.5 border border-slate-200 rounded-lg outline-none focus:ring-1 focus:ring-indigo-100"})})]})]}),i.jsxs("p",{className:"text-slate-400 text-xs hidden lg:block font-medium",children:["Tracking ",o.length," active opportunities"]})]}),i.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[i.jsx("button",{onClick:()=>je(!0),className:"p-2 border border-slate-200 bg-white text-slate-600 rounded-lg hover:bg-slate-50 shadow-sm transition-all",children:i.jsx(f_,{className:"w-5 h-5"})}),i.jsxs("button",{onClick:()=>t(),className:"flex-1 sm:flex-none px-4 py-2 bg-indigo-600 text-white rounded-lg text-sm font-bold flex items-center justify-center gap-2 hover:bg-indigo-700 shadow-lg shadow-indigo-100 transition-all",children:[i.jsx(kn,{className:"w-4 h-4"})," New Deal"]})]})]}),!y&&o.length>0&&i.jsxs("div",{className:"flex items-center gap-3 pb-2",children:[i.jsx("input",{type:"checkbox",className:"rounded border-slate-300 text-indigo-600 focus:ring-indigo-500 w-4 h-4",checked:o.length>0&&C.length===o.length,onChange:Pr}),i.jsx("span",{className:"text-sm font-semibold text-slate-600",children:"Select All Opportunities"})]}),i.jsx("div",{className:"flex-1 flex gap-6 overflow-x-auto pb-6 -mx-4 px-4 lg:mx-0 lg:px-0 scrollbar-hide",children:y||_e||!Nt?i.jsx("div",{className:"flex items-center justify-center w-full min-h-[400px]",children:i.jsx(Ot,{className:"w-10 h-10 animate-spin text-indigo-600"})}):Nt.stages.map(We=>{const Ct=o.filter(At=>At.stage===We);return i.jsxs("div",{onDragOver:At=>At.preventDefault(),onDrop:At=>vt(At,We),className:"flex flex-col w-[85vw] sm:w-72 lg:w-80 shrink-0 bg-slate-100/40 rounded-3xl p-4 border border-slate-200/50",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6 px-1",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("h3",{className:"font-black text-slate-900 text-xs uppercase tracking-widest",children:We}),i.jsx("span",{className:"text-[10px] bg-white text-slate-400 px-2 py-0.5 rounded-full border border-slate-200 font-bold",children:Ct.length})]}),i.jsx(kn,{onClick:()=>t(We),className:"w-4 h-4 text-slate-300 hover:text-indigo-600 cursor-pointer transition-colors"})]}),i.jsx("div",{className:"flex-1 space-y-4 overflow-y-auto pr-1",children:Ct.map(At=>{const ir=c.find(Wr=>Wr.id===At.companyId),vr=C.includes(At.id);return i.jsxs("div",{onClick:()=>b(At),draggable:!0,onDragStart:Wr=>Re(Wr,At.id),className:`bg-white p-5 rounded-2xl border ${vr?"border-indigo-400 bg-indigo-50/30":"border-slate-200"} shadow-sm hover:border-indigo-300 hover:shadow-xl transition-all cursor-move group active:scale-[0.98] relative ${Ue===At.id?"opacity-30":""}`,children:[i.jsx("div",{className:"absolute top-3 right-3",onClick:Wr=>Wr.stopPropagation(),children:i.jsx("input",{type:"checkbox",className:"rounded border-slate-300 text-indigo-600 focus:ring-indigo-500 w-4 h-4",checked:vr,onChange:()=>U(Wr=>vr?Wr.filter(Br=>Br!==At.id):[...Wr,At.id])})}),i.jsxs("div",{className:"flex items-start gap-2.5 mb-3",children:[i.jsx(ki,{src:ir?.logo,fallbackText:ir?.name,className:"w-5 h-5 shrink-0 mt-0.5",isAvatar:!1}),i.jsx("h4",{className:"font-bold text-slate-900 text-sm group-hover:text-indigo-600 transition-colors break-words leading-tight flex-1 min-w-0",children:At.title})]}),i.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest mb-4",children:ir?.name||"Independent"}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-indigo-600 font-black text-xs",children:Au(At.value,At.currency)}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-[9px] font-bold text-slate-400 uppercase",children:At.expectedCloseDate}),i.jsx("div",{className:"w-6 h-6 bg-slate-50 rounded-full flex items-center justify-center text-[8px] font-black text-slate-300 border border-slate-100 uppercase",children:"DE"})]})]})]},At.id)})})]},We)})}),g&&i.jsxs("div",{className:"fixed inset-0 z-[70] overflow-hidden pointer-events-none",children:[i.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md pointer-events-auto animate-in fade-in duration-300",onClick:()=>{b(null),S(!1)}}),i.jsxs("div",{className:"absolute right-0 inset-y-0 w-full max-w-2xl bg-white shadow-2xl pointer-events-auto animate-in slide-in-from-right duration-500 flex flex-col",children:[i.jsxs("div",{className:"p-8 border-b border-slate-100 bg-slate-50/50",children:[i.jsxs("div",{className:"flex justify-between items-start mb-6",children:[i.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[i.jsx("div",{className:"w-16 h-16 bg-indigo-600 rounded-[20px] flex items-center justify-center text-white shadow-2xl shadow-indigo-100 ring-4 ring-indigo-50",children:i.jsx(cc,{className:"w-8 h-8"})}),i.jsxs("div",{className:"flex-1",children:[te?i.jsx("input",{type:"text",value:Z.title,onChange:We=>q(Ct=>({...Ct,title:We.target.value})),className:"w-full px-4 py-2 bg-white border-2 border-indigo-200 rounded-xl text-2xl font-black text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100",placeholder:"Deal title"}):i.jsx("h2",{className:"text-2xl font-black text-slate-900 tracking-tight",children:g.title}),i.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[te?i.jsx("select",{value:Z.stage,onChange:We=>q(Ct=>({...Ct,stage:We.target.value})),className:"px-2.5 py-1 bg-indigo-100 text-indigo-700 text-[10px] font-black uppercase rounded-lg border border-indigo-200 outline-none focus:ring-2 focus:ring-indigo-300",children:Nt?.stages?.map(We=>i.jsx("option",{value:We,children:We},We))||[]}):i.jsx("span",{className:"px-2.5 py-1 bg-indigo-100 text-indigo-700 text-[10px] font-black uppercase rounded-lg border border-indigo-200",children:g.stage}),i.jsxs("span",{className:"text-slate-400 text-xs font-bold",children:[" Opportunity ID: #",g.id.substring(0,8)]})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[te?i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>{J(!1),q({title:g.title,companyId:g.companyId||"",value:g.value?g.value.toString():"",currency:g.currency||mi,stage:g.stage,ownerId:g.ownerId,expectedCloseDate:g.expectedCloseDate||"",description:g.description||""})},disabled:ie,className:"px-4 py-2 border border-slate-200 text-slate-400 font-bold text-xs uppercase tracking-widest rounded-xl hover:bg-slate-50 transition-all disabled:opacity-50",children:"Cancel"}),i.jsx("button",{onClick:fn,disabled:ie||!Z.title.trim()||!Z.ownerId,className:"px-4 py-2 bg-indigo-600 text-white font-bold text-xs uppercase tracking-widest rounded-xl hover:bg-indigo-700 transition-all shadow-lg flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:ie?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(ro,{className:"w-4 h-4"}),"Save Changes"]})})]}):i.jsxs("button",{onClick:()=>J(!0),className:"px-4 py-2 bg-indigo-600 text-white font-bold text-xs uppercase tracking-widest rounded-xl hover:bg-indigo-700 transition-all shadow-lg flex items-center gap-2",children:[i.jsx(xl,{className:"w-4 h-4"}),"Edit Deal"]}),i.jsx("button",{onClick:()=>{b(null),S(!1),J(!1)},className:"p-3 hover:bg-white rounded-full text-slate-400 shadow-sm transition-all",children:i.jsx(mr,{className:"w-6 h-6"})})]})]}),i.jsx("div",{className:"flex bg-white p-1 rounded-2xl border border-slate-100 w-fit",children:[{id:"overview",label:"Overview",icon:i.jsx(Vd,{className:"w-4 h-4"})},{id:"activity",label:"Timeline",icon:i.jsx(Kf,{className:"w-4 h-4"})},{id:"stakeholders",label:"Stakeholders",icon:i.jsx(dh,{className:"w-4 h-4"})}].map(We=>i.jsxs("button",{onClick:()=>{j(We.id),S(!1),J(!1)},className:`flex items-center gap-2 px-6 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${w===We.id?"bg-indigo-600 text-white shadow-lg":"text-slate-400 hover:text-slate-600 hover:bg-slate-50"}`,children:[We.icon," ",We.label]},We.id))})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-8 space-y-10 custom-scrollbar",children:[w==="overview"&&i.jsxs("div",{className:"space-y-10 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[te?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"p-6 bg-slate-50 rounded-[32px] border border-slate-100 flex flex-col justify-between",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Deal Value"}),i.jsx(Zp,{className:"w-4 h-4 text-indigo-400"})]}),i.jsx("div",{className:"space-y-3",children:i.jsxs("div",{className:"flex gap-3 items-center",children:[i.jsx("select",{value:Z.currency||mi,onChange:We=>q(Ct=>({...Ct,currency:We.target.value})),className:"px-4 py-3 text-sm font-bold bg-white border-2 border-indigo-200 rounded-xl outline-none focus:ring-4 focus:ring-indigo-100 text-indigo-600 appearance-none min-w-[140px] h-[60px]",style:{backgroundImage:`url('data:image/svg+xml;charset=utf-8,%3Csvg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20"%3E%3Cpath stroke="%236366f1" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="m6 8 4 4 4-4"/%3E%3C/svg%3E')`,backgroundRepeat:"no-repeat",backgroundPosition:"right 8px center",backgroundSize:"16px",paddingRight:"32px",height:"60px"},children:Xh.map(We=>i.jsxs("option",{value:We.code,children:[We.code," (",We.symbol,")"]},We.code))}),i.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[i.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-indigo-600 font-black text-xl pointer-events-none z-10",children:ju(Z.currency||mi)}),i.jsx("input",{type:"number",step:"0.01",min:"0",value:Z.value||"",onChange:We=>q(Ct=>({...Ct,value:We.target.value})),className:"w-full pl-10 pr-4 py-3 text-2xl font-black text-indigo-600 bg-white border-2 border-indigo-200 rounded-xl outline-none focus:ring-4 focus:ring-indigo-100 focus:border-indigo-400 placeholder:text-slate-300 h-[60px]",placeholder:"0",autoFocus:!1,style:{WebkitAppearance:"textfield",MozAppearance:"textfield",appearance:"textfield",color:"#4f46e5",fontSize:"1.5rem",fontWeight:"900",height:"60px"}})]})]})}),i.jsx("p",{className:"text-[10px] font-bold text-slate-400 mt-2",children:"Gross Contract Revenue"})]}),i.jsxs("div",{className:"p-6 bg-slate-50 rounded-[32px] border border-slate-100 flex flex-col justify-between",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Expected Close Date"}),i.jsx(La,{className:"w-4 h-4 text-indigo-400"})]}),i.jsx("input",{type:"date",value:Z.expectedCloseDate,onChange:We=>q(Ct=>({...Ct,expectedCloseDate:We.target.value})),className:"text-xl font-black text-slate-900 bg-white border-2 border-indigo-200 rounded-xl px-3 py-2 outline-none focus:ring-4 focus:ring-indigo-100 w-full"}),i.jsx("p",{className:"text-[10px] font-bold text-slate-400 mt-2",children:"Target Implementation"})]})]}):i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsxs("div",{className:"p-6 bg-slate-50 rounded-[32px] border border-slate-100 flex flex-col justify-between",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Deal Value"}),i.jsx(Zp,{className:"w-4 h-4 text-indigo-400"})]}),i.jsx("h3",{className:"text-3xl font-black text-indigo-600",children:Au(g.value,g.currency)}),i.jsx("p",{className:"text-[10px] font-bold text-slate-400 mt-2",children:"Gross Contract Revenue"})]}),i.jsxs("div",{className:"p-6 bg-slate-50 rounded-[32px] border border-slate-100 flex flex-col justify-between",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Expected Close Date"}),i.jsx(La,{className:"w-4 h-4 text-indigo-400"})]}),i.jsx("h3",{className:"text-2xl font-black text-slate-900",children:g.expectedCloseDate||"Not set"}),i.jsx("p",{className:"text-[10px] font-bold text-slate-400 mt-2",children:"Target Implementation"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[i.jsx(qd,{className:"w-4 h-4"})," Account Association"]}),te?i.jsxs("select",{value:Z.companyId,onChange:We=>q(Ct=>({...Ct,companyId:We.target.value})),className:"w-full p-5 bg-white border-2 border-indigo-200 rounded-3xl shadow-sm outline-none focus:ring-4 focus:ring-indigo-100 text-sm font-bold",children:[i.jsx("option",{value:"",children:"Independent/Direct"}),c.map(We=>i.jsx("option",{value:We.id,children:We.name},We.id))]}):i.jsxs("div",{className:"p-5 bg-white border border-slate-100 rounded-3xl shadow-sm hover:border-indigo-300 transition-all group flex items-center gap-4",children:[i.jsx(ki,{src:nn?.logo,className:"w-14 h-14",fallbackText:nn?.name||"A",isAvatar:!1}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-black text-slate-900",children:nn?.name||"Independent/Direct"}),i.jsx("p",{className:"text-xs text-indigo-500 font-bold",children:nn?.industry||"Uncategorized"})]}),i.jsx("button",{className:"p-2 text-slate-300 hover:text-indigo-600 transition-colors",children:i.jsx(ic,{className:"w-4 h-4"})})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[i.jsx(L1,{className:"w-4 h-4"})," Opportunity Lead"]}),te?i.jsxs("select",{value:Z.ownerId,onChange:We=>q(Ct=>({...Ct,ownerId:We.target.value})),className:"w-full p-5 bg-white border-2 border-indigo-200 rounded-3xl shadow-sm outline-none focus:ring-4 focus:ring-indigo-100 text-sm font-bold",required:!0,children:[i.jsx("option",{value:"",children:"Select Owner"}),d.map(We=>i.jsxs("option",{value:We.id,children:[We.name," (",We.role,")"]},We.id))]}):i.jsxs("div",{className:"p-5 bg-white border border-slate-100 rounded-3xl shadow-sm flex items-center gap-4",children:[i.jsx(ki,{src:fr?.avatar,className:"w-14 h-14",fallbackText:fr?.name||"U",isAvatar:!0}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-black text-slate-900",children:fr?.name||"Unassigned"}),i.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase",children:fr?.role||"Teammate"})]})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[i.jsx(ls,{className:"w-4 h-4"})," Strategic Context"]}),te?i.jsx("textarea",{value:Z.description,onChange:We=>q(Ct=>({...Ct,description:We.target.value})),rows:6,className:"w-full p-8 bg-slate-950 rounded-[40px] text-indigo-50 border-2 border-indigo-200 outline-none focus:ring-4 focus:ring-indigo-100 resize-none text-sm leading-relaxed italic",placeholder:"Enter strategic context and operational notes..."}):i.jsxs("div",{className:"p-8 bg-slate-950 rounded-[40px] text-indigo-50 relative overflow-hidden group",children:[i.jsx("p",{className:"text-sm leading-relaxed italic opacity-80 z-10 relative",children:g.description||"The logistics assessment phase is currently gathering data points to populate this strategic summary. No specific operational notes are archived yet."}),i.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-indigo-500/10 blur-[80px] rounded-full translate-x-1/2 -translate-y-1/2"})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Digital Readiness & Proposal"}),i.jsxs("span",{className:"px-2 py-0.5 bg-indigo-100 text-indigo-700 text-[9px] font-black uppercase rounded-full border border-indigo-200 flex items-center gap-1",children:[i.jsx(Ts,{className:"w-2.5 h-2.5"})," AI Engine"]})]}),i.jsxs("div",{className:"p-6 border-2 border-dashed border-slate-200 rounded-[32px] flex flex-col items-center text-center",children:[i.jsx("div",{className:"w-12 h-12 bg-slate-50 rounded-full flex items-center justify-center text-slate-300 mb-4",children:i.jsx(Wa,{className:"w-6 h-6"})}),i.jsx("p",{className:"text-sm font-bold text-slate-900 mb-1",children:"Proposal Engine Coming Soon"}),i.jsx("p",{className:"text-xs text-slate-400 mb-6 max-w-xs",children:"Automated PDF generation and strategic roadmap visualization for this opportunity are in final audit."}),i.jsx("button",{onClick:()=>s("Proposal engine is currently in development."),className:"px-6 py-2.5 bg-slate-900 text-white rounded-xl text-xs font-black uppercase tracking-widest hover:bg-slate-800 transition-all opacity-50 cursor-not-allowed",children:"Generate Proposal [LOCKED]"})]})]})]}),w==="activity"&&i.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-left-4 duration-300",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2 mb-6",children:[i.jsx(Kf,{className:"w-4 h-4 text-indigo-500"})," Opportunity Timeline"]}),(()=>{const We=sn();return We.length===0?i.jsxs("div",{className:"py-20 bg-white border border-dashed border-slate-200 rounded-3xl text-center",children:[i.jsx(Kf,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),i.jsx("p",{className:"text-sm font-bold text-slate-400",children:"No timeline events available"})]}):i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute left-6 top-0 bottom-0 w-0.5 bg-slate-200"}),i.jsx("div",{className:"space-y-6",children:We.map((Ct,At)=>{const ir=Hr=>{const ne={indigo:"bg-indigo-50 text-indigo-600 border-indigo-200",blue:"bg-blue-50 text-blue-600 border-blue-200",emerald:"bg-emerald-50 text-emerald-600 border-emerald-200",amber:"bg-amber-50 text-amber-600 border-amber-200",purple:"bg-purple-50 text-purple-600 border-purple-200",red:"bg-red-50 text-red-600 border-red-200",slate:"bg-slate-50 text-slate-600 border-slate-200"};return ne[Hr]||ne.slate},vr=new Date(Ct.date),Wr=vr.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),Br=vr.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return i.jsxs("div",{className:"relative flex items-start gap-4",children:[i.jsx("div",{className:`relative z-10 w-12 h-12 rounded-full border-2 ${ir(Ct.color)} flex items-center justify-center flex-shrink-0`,children:Ct.icon}),i.jsx("div",{className:"flex-1 pb-6",children:i.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl p-5 shadow-sm hover:shadow-md transition-all",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsx("h4",{className:"font-black text-slate-900 text-sm",children:Ct.title}),i.jsxs("span",{className:"text-[10px] font-bold text-slate-400 uppercase whitespace-nowrap ml-4",children:[Wr," ",Br]})]}),i.jsx("p",{className:"text-xs text-slate-600 leading-relaxed",children:Ct.description})]})})]},Ct.id)})})]})})()]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-8 border-t border-slate-100",children:[i.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-200",children:[i.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Days in Pipeline"}),i.jsx("p",{className:"text-xl font-black text-slate-900",children:g.createdAt?Math.floor((new Date().getTime()-new Date(g.createdAt).getTime())/(1e3*60*60*24)):"N/A"})]}),i.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-200",children:[i.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Current Stage"}),i.jsx("p",{className:"text-xl font-black text-slate-900",children:g.stage})]}),i.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-200",children:[i.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Stakeholders"}),i.jsx("p",{className:"text-xl font-black text-slate-900",children:or.length})]})]})]}),w==="stakeholders"&&i.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-left-4 duration-300",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Key Account Decision Makers"}),!N&&i.jsxs("button",{onClick:()=>S(!0),className:"flex items-center gap-2 text-[10px] font-black text-indigo-600 uppercase tracking-widest bg-indigo-50 px-3 py-1.5 rounded-xl hover:bg-indigo-100",children:[i.jsx(Zh,{className:"w-3 h-3"})," Link Person"]})]}),N?i.jsxs("div",{className:"p-6 bg-slate-50 border border-slate-200 rounded-[32px] animate-in slide-in-from-top-2",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h4",{className:"text-sm font-black text-slate-900",children:"Select Existing Contact"}),i.jsx("button",{onClick:()=>S(!1),className:"p-1 hover:bg-white rounded-lg",children:i.jsx(mr,{className:"w-4 h-4 text-slate-400"})})]}),i.jsxs("div",{className:"relative mb-6",children:[i.jsx(zu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),i.jsx("input",{type:"text",placeholder:"Search global registry...",value:F,onChange:We=>E(We.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-white border border-slate-200 rounded-xl text-xs"})]}),i.jsx("div",{className:"space-y-2 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar",children:Tr.length>0?Tr.map(We=>{const Ct=P===We.id;return i.jsxs("button",{onClick:()=>Er(We.id),disabled:Ct||!!P,className:"w-full p-4 bg-white border border-slate-100 rounded-2xl flex items-center gap-3 hover:border-indigo-400 hover:shadow-sm transition-all text-left group disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx("div",{className:"w-10 h-10 bg-indigo-50 rounded-xl flex items-center justify-center text-indigo-600 font-black text-xs uppercase group-hover:scale-105 transition-transform",children:We.name.charAt(0)}),i.jsxs("div",{className:"flex-1 overflow-hidden",children:[i.jsx("p",{className:"font-bold text-xs text-slate-900 truncate",children:We.name}),i.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase truncate",children:We.role})]}),Ct?i.jsx(Ot,{className:"w-4 h-4 text-indigo-600 animate-spin"}):i.jsx(kn,{className:"w-4 h-4 text-slate-300 group-hover:text-indigo-600"})]},We.id)}):i.jsx("div",{className:"py-10 text-center text-xs text-slate-400",children:"No matching contacts found in CRM."})})]}):or.length>0?i.jsx("div",{className:"grid grid-cols-1 gap-3",children:or.map(We=>i.jsxs("div",{className:"p-4 bg-white border border-slate-100 rounded-3xl flex items-center justify-between hover:border-indigo-200 transition-all shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 bg-indigo-50 rounded-2xl flex items-center justify-center text-indigo-600 font-black text-lg",children:We.name.charAt(0)}),i.jsxs("div",{children:[i.jsx("p",{className:"font-bold text-slate-900",children:We.name}),i.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:We.role})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:async()=>{if(g){M(We.id);try{const Ct=(g.stakeholderIds||[]).filter(ir=>ir!==We.id);await Lg(g.id,{stakeholderIds:Ct});const At={...g,stakeholderIds:Ct};b(At),l(ir=>ir.map(vr=>vr.id===g.id?At:vr)),n("Stakeholder removed")}catch{a("Failed to remove stakeholder")}finally{M(null)}}},disabled:O===We.id,className:"p-2 text-slate-300 hover:text-red-500 hover:bg-red-50 rounded-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:O===We.id?i.jsx(Ot,{className:"w-4 h-4 animate-spin text-red-500"}):i.jsx(Ir,{className:"w-4 h-4"})}),i.jsx("button",{className:"p-2 text-slate-300 hover:text-indigo-600",children:i.jsx(Ka,{className:"w-5 h-5"})})]})]},We.id))}):i.jsxs("div",{className:"p-12 border-2 border-dashed border-slate-100 rounded-[40px] text-center",children:[i.jsx(dh,{className:"w-12 h-12 text-slate-200 mx-auto mb-4"}),i.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"No stakeholders linked to this opportunity yet."})]})]})]}),i.jsxs("div",{className:"p-8 border-t border-slate-100 bg-white flex gap-4",children:[i.jsx("button",{onClick:()=>I(g),className:"px-6 py-4 border border-slate-200 bg-white text-red-500 hover:bg-red-50 rounded-[24px] transition-all group",children:i.jsx(Ir,{className:"w-6 h-6 group-hover:scale-110 transition-transform"})}),i.jsxs("button",{onClick:()=>s("Lifecycle management automated through digital registry."),className:"flex-1 py-4 bg-slate-900 text-white font-black uppercase text-xs tracking-[0.2em] rounded-[24px] hover:bg-indigo-700 active:scale-95 transition-all shadow-2xl flex items-center justify-center gap-3",children:[i.jsx(gl,{className:"w-5 h-5"})," Confirm Strategic Deployment"]})]})]})]}),T&&i.jsx("div",{className:"fixed inset-0 z-[130] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:i.jsxs("div",{className:"bg-white rounded-[32px] w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"p-8 border-b border-slate-100",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center bg-red-50 text-red-600",children:i.jsx(Ir,{className:"w-6 h-6"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-black text-slate-900",children:"Delete Opportunity?"}),i.jsx("p",{className:"text-xs text-slate-400 font-medium mt-1",children:"This action cannot be undone. The opportunity will be permanently removed from the pipeline."})]})]}),i.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-200",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(cc,{className:"w-5 h-5 text-indigo-500"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-bold text-slate-900",children:T.title}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx("span",{className:"text-[10px] text-slate-400 font-bold uppercase",children:T.stage}),i.jsx("span",{className:"w-1 h-1 rounded-full bg-slate-300"}),i.jsxs("span",{className:"text-[10px] text-indigo-600 font-black",children:["$",T.value.toLocaleString()]})]})]})]}),nn&&i.jsxs("div",{className:"flex items-center gap-2 mt-3 pt-3 border-t border-slate-200",children:[i.jsx(ki,{src:nn.logo,fallbackText:nn.name,className:"w-6 h-6",isAvatar:!1}),i.jsx("p",{className:"text-xs font-bold text-slate-600",children:nn.name})]})]})]}),i.jsxs("div",{className:"p-6 flex gap-3",children:[i.jsx("button",{onClick:()=>I(null),disabled:z,className:"flex-1 py-3 border border-slate-200 text-slate-400 font-black uppercase text-xs tracking-widest rounded-xl hover:bg-slate-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),i.jsx("button",{onClick:()=>$t(T.id),disabled:z,className:"flex-1 py-3 bg-red-600 text-white font-black uppercase text-xs tracking-widest rounded-xl hover:bg-red-700 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:z?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):"Delete Opportunity"})]})]})}),C.length>0&&i.jsx("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-[100] animate-in slide-in-from-bottom-10 duration-300",children:i.jsxs("div",{className:"bg-slate-900 text-white rounded-3xl shadow-2xl px-8 py-4 flex items-center gap-8 border border-white/10 ring-4 ring-indigo-500/10",children:[i.jsxs("span",{className:"text-sm font-black flex items-center gap-3",children:[i.jsx("div",{className:"w-6 h-6 bg-indigo-500 rounded-full flex items-center justify-center text-[10px]",children:C.length}),"Selected"]}),i.jsx("div",{className:"h-8 w-px bg-white/10"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("button",{onClick:We=>{We.stopPropagation(),re(!0)},disabled:W,className:"px-5 py-2 bg-red-600 hover:bg-red-700 rounded-xl text-xs font-black uppercase tracking-widest transition-all flex items-center gap-2 disabled:opacity-50",children:[W?i.jsx(Ot,{className:"w-3.5 h-3.5 animate-spin"}):i.jsx(Ir,{className:"w-3.5 h-3.5"}),"Delete"]}),i.jsx("button",{onClick:()=>U([]),className:"p-2 hover:bg-white/10 rounded-xl text-slate-400 transition-colors",children:i.jsx(mr,{className:"w-5 h-5"})})]})]})}),K&&C.length>0&&i.jsx("div",{className:"fixed inset-0 z-[130] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:i.jsxs("div",{className:"bg-white rounded-[32px] w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"p-8 border-b border-slate-100",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center bg-red-50 text-red-600",children:i.jsx(Ir,{className:"w-6 h-6"})}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-xl font-black text-slate-900",children:["Delete ",C.length," Opportunit",C.length>1?"ies":"y","?"]}),i.jsx("p",{className:"text-xs text-slate-400 font-medium mt-1",children:"This action cannot be undone. The opportunities will be permanently removed from the pipeline."})]})]}),i.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-200 max-h-48 overflow-y-auto",children:[o.filter(We=>C.includes(We.id)).slice(0,5).map(We=>(c.find(Ct=>Ct.id===We.companyId),i.jsxs("div",{className:"flex items-center gap-3 mb-2 last:mb-0",children:[i.jsx(cc,{className:"w-4 h-4 text-indigo-500"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xs font-bold text-slate-900",children:We.title}),i.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[i.jsx("span",{className:"text-[10px] text-slate-400 font-bold uppercase",children:We.stage}),i.jsx("span",{className:"w-1 h-1 rounded-full bg-slate-300"}),i.jsxs("span",{className:"text-[10px] text-indigo-600 font-black",children:["$",We.value.toLocaleString()]})]})]})]},We.id))),C.length>5&&i.jsxs("p",{className:"text-xs text-slate-400 font-medium mt-2 text-center",children:["+ ",C.length-5," more"]})]})]}),i.jsxs("div",{className:"p-6 flex gap-3",children:[i.jsx("button",{onClick:()=>re(!1),disabled:W,className:"flex-1 py-3 border border-slate-200 text-slate-400 font-black uppercase text-xs tracking-widest rounded-xl hover:bg-slate-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),i.jsx("button",{onClick:Kt,disabled:W,className:"flex-1 py-3 bg-red-600 text-white font-black uppercase text-xs tracking-widest rounded-xl hover:bg-red-700 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:W?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):`Delete ${C.length} Opportunit${C.length>1?"ies":"y"}`})]})]})}),oe&&i.jsxs("div",{className:"fixed inset-0 z-[140] flex",children:[i.jsx("div",{className:"flex-1 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",onClick:()=>ue(!1)}),i.jsxs("div",{className:"w-full max-w-md bg-white shadow-2xl animate-in slide-in-from-right duration-300 overflow-y-auto",children:[i.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 p-6 flex items-center justify-between z-10",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-xl flex items-center justify-center",children:i.jsx(f_,{className:"w-5 h-5 text-indigo-600"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"font-black text-xl text-slate-900",children:"Pipeline Settings"}),i.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"Configure your pipeline stages"})]})]}),i.jsx("button",{onClick:()=>ue(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:i.jsx(mr,{className:"w-5 h-5 text-slate-400"})})]}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Sales Pipelines"}),i.jsx("div",{className:"space-y-2",children:fe.map(We=>i.jsx("button",{onClick:()=>ar(We.id),className:`w-full p-4 rounded-xl border-2 transition-all text-left ${he===We.id?"border-indigo-500 bg-indigo-50":"border-slate-200 bg-white hover:border-indigo-200"}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-bold text-slate-900",children:We.name}),i.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:[We.stages.length," stages"]})]}),he===We.id&&i.jsx(Fu,{className:"w-5 h-5 text-indigo-600"})]})},We.id))})]}),Nt&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Stages"}),i.jsxs("span",{className:"text-xs text-slate-400 font-bold",children:[Nt.stages.length," stages"]})]}),i.jsx("div",{className:"space-y-2",children:Nt.stages.map((We,Ct)=>i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-xl border border-slate-200",children:[i.jsx("div",{className:"w-6 h-6 bg-indigo-100 rounded-lg flex items-center justify-center text-xs font-black text-indigo-600",children:Ct+1}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-bold text-sm text-slate-900",children:We}),i.jsxs("p",{className:"text-xs text-slate-400",children:[o.filter(At=>At.stage===We).length," deals"]})]})]},We))})]}),i.jsxs("div",{className:"p-4 bg-gradient-to-br from-indigo-50 to-purple-50 rounded-xl border border-indigo-100",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(Zp,{className:"w-5 h-5 text-indigo-600"}),i.jsx("h3",{className:"font-black text-slate-900",children:"Pipeline Overview"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"bg-white/60 rounded-lg p-3 border border-white/80",children:[i.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase",children:"Total Deals"}),i.jsx("p",{className:"text-2xl font-black text-slate-900 mt-1",children:o.length})]}),i.jsxs("div",{className:"bg-white/60 rounded-lg p-3 border border-white/80",children:[i.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase",children:"Total Value"}),i.jsxs("p",{className:"text-lg font-black text-slate-900 mt-1",children:["$",o.reduce((We,Ct)=>We+(Ct.value||0),0).toLocaleString()]})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Quick Actions"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("button",{onClick:()=>{ue(!1),je(!0)},className:"w-full p-4 bg-white border-2 border-slate-200 rounded-xl hover:border-indigo-300 hover:bg-indigo-50 transition-all text-left flex items-center gap-3",children:[i.jsx(u_,{className:"w-5 h-5 text-indigo-600"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-bold text-slate-900",children:"Edit Pipeline"}),i.jsx("p",{className:"text-xs text-slate-400",children:"Add or remove stages"})]}),i.jsx(Ka,{className:"w-5 h-5 text-slate-300 ml-auto"})]}),i.jsxs("button",{onClick:()=>{ue(!1),it(),n("Pipeline refreshed")},className:"w-full p-4 bg-white border-2 border-slate-200 rounded-xl hover:border-indigo-300 hover:bg-indigo-50 transition-all text-left flex items-center gap-3",children:[i.jsx(Gd,{className:"w-5 h-5 text-indigo-600"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-bold text-slate-900",children:"Refresh Data"}),i.jsx("p",{className:"text-xs text-slate-400",children:"Reload all deals"})]}),i.jsx(Ka,{className:"w-5 h-5 text-slate-300 ml-auto"})]})]})]})]})]})]}),De&&i.jsx("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between",children:[i.jsx("h3",{className:"font-black text-xl text-slate-900",children:"Pipeline Configuration"}),i.jsx("button",{onClick:()=>je(!1),className:"p-2 hover:bg-slate-100 rounded-lg",children:i.jsx(mr,{className:"w-5 h-5 text-slate-400"})})]}),i.jsxs("div",{className:"p-6 space-y-6 max-h-[70vh] overflow-y-auto",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-3 block",children:"Select Pipeline"}),i.jsx("div",{className:"space-y-2",children:fe.map(We=>i.jsx("button",{onClick:()=>ar(We.id),className:`w-full p-3 rounded-xl border-2 text-left ${he===We.id?"border-indigo-500 bg-indigo-50":"border-slate-200"}`,children:i.jsx("p",{className:"font-bold",children:We.name})},We.id))})]}),Nt&&i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-3 block",children:"Edit Stages"}),i.jsx("div",{className:"space-y-2",children:Nt.stages.map((We,Ct)=>i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-slate-50 rounded-xl",children:[i.jsx("span",{className:"text-sm font-bold text-slate-900 flex-1",children:We}),i.jsx("button",{onClick:()=>Rt(Ct),disabled:ae!==null,className:"p-1.5 text-red-500 hover:bg-red-50 rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:ae===Ct?i.jsx(Ot,{className:"w-4 h-4 animate-spin"}):i.jsx(Ir,{className:"w-4 h-4"})})]},Ct))}),i.jsxs("div",{className:"flex gap-2 mt-3",children:[i.jsx("input",{type:"text",placeholder:"New stage name...",value:Be,onChange:We=>$e(We.target.value),onKeyDown:We=>{We.key==="Enter"&&Be.trim()&&!Pe&&nt()},disabled:Pe,className:"flex-1 px-4 py-2 border border-slate-200 rounded-xl text-sm disabled:opacity-50 disabled:cursor-not-allowed"}),i.jsx("button",{onClick:nt,disabled:Pe||!Be.trim(),className:"px-4 py-2 bg-indigo-600 text-white rounded-xl font-bold text-sm disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 min-w-[80px]",children:Pe?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),i.jsx("span",{children:"Adding..."})]}):"Add"})]})]}),i.jsxs("div",{className:"pt-4 border-t border-slate-100",children:[i.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-3 block",children:"Create New Sales Pipeline"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("input",{type:"text",placeholder:"Pipeline name...",value:rt,onChange:We=>ft(We.target.value),className:"w-full px-4 py-2 border border-slate-200 rounded-xl text-sm"}),i.jsx("button",{onClick:er,className:"w-full px-4 py-2 bg-indigo-600 text-white rounded-xl font-bold text-sm",children:"Create Sales Pipeline"})]})]})]}),i.jsx("div",{className:"p-6 border-t border-slate-100 flex justify-end",children:i.jsx("button",{onClick:()=>je(!1),className:"px-6 py-2 bg-indigo-600 text-white rounded-xl font-bold",children:"Done"})})]})})]})},sae=({onNavigate:e,onCreateProject:t,currentUser:r})=>{const{showSuccess:n,showError:a}=oi(),[s,o]=V.useState([]),[l,c]=V.useState([]),[u,d]=V.useState([]),[h,m]=V.useState([]),[p,y]=V.useState(!0),[v,g]=V.useState("active"),b=async()=>{y(!0);try{const ae=r?.id||JSON.parse(localStorage.getItem("user_data")||"{}").id;console.log("[PROJECTS] Fetching projects for userId:",ae);const[ye,Be,$e,rt]=await Promise.all([Ax(ae),Gu(),Kc(),Gh(ae)]),ft=ye.data||[];console.log("[PROJECTS] Fetched projects:",ft.length,ft),o(ft),c(Be.data||[]),d($e.data||[]),m(rt.data||[])}catch(ae){console.error("[PROJECTS] Failed to load projects:",ae),a("Failed to load projects")}finally{y(!1)}};V.useEffect(()=>{b()},[r]),V.useEffect(()=>{const ae=()=>{console.log("[PROJECTS] Refresh event received, fetching data..."),setTimeout(()=>{b()},300)};return window.addEventListener("refresh-projects",ae),()=>window.removeEventListener("refresh-projects",ae)},[r]);const w=ae=>{const ye=h.filter($e=>$e.projectId===ae);if(ye.length===0)return 0;const Be=ye.filter($e=>$e.status==="Done").length;return Math.round(Be/ye.length*100)},[j,N]=V.useState(null),[S,P]=V.useState(null),[A,O]=V.useState(null),[M,F]=V.useState(null),[E,T]=V.useState([]),[I,z]=V.useState(!1),[Q,te]=V.useState(!1),[J,ie]=V.useState(null),[X,Z]=V.useState(!1),[q,C]=V.useState(!1),[U,W]=V.useState(!1),[B,K]=V.useState(""),[re,fe]=V.useState({title:"",description:"",companyId:"",status:"Planning",engagement:"",startDate:"",endDate:""}),[ce,he]=V.useState(null),Oe=async ae=>{if(s.find(Be=>Be.id===ae)){P(ae);try{await bN(ae,{archived:v==="active"}),o(Be=>Be.map($e=>$e.id===ae?{...$e,archived:v==="active"}:$e)),O(null),n(v==="active"?"Project archived":"Project restored")}catch{a("Failed to update project status")}finally{P(null)}}},ee=async ae=>{N(ae);try{await rP(ae),o(ye=>ye.filter(Be=>Be.id!==ae)),F(null),n("Project deleted entirely")}catch{a("Deletion failed")}finally{N(null)}},De=()=>{E.length===pe.length?T([]):T(pe.map(ae=>ae.id))},je=async()=>{z(!0);try{const ae=[...E];await Promise.all(ae.map(ye=>rP(ye))),o(ye=>ye.filter(Be=>!ae.includes(Be.id))),T([]),te(!1),J&&ae.includes(J.id)&&ie(null),n(`Successfully deleted ${ae.length} project${ae.length>1?"s":""}`)}catch(ae){a(ae.message||"Failed to delete projects")}finally{z(!1)}},oe=ae=>{if(!ae)return"";try{const ye=new Date(ae);if(isNaN(ye.getTime()))return"";const Be=ye.getFullYear(),$e=String(ye.getMonth()+1).padStart(2,"0"),rt=String(ye.getDate()).padStart(2,"0");return`${Be}-${$e}-${rt}`}catch{return""}},ue=ae=>{ie(ae),fe({title:ae.title,description:ae.description||"",companyId:ae.companyId||"",status:ae.status,engagement:ae.engagement||"",startDate:oe(ae.startDate),endDate:oe(ae.endDate)}),Z(!1)},_e=async()=>{if(J){if(!re.title.trim()){a("Project title is required");return}C(!0);try{const ae={title:re.title.trim(),description:re.description.trim(),status:re.status,companyId:re.companyId&&re.companyId.trim()!==""?re.companyId:null};await bN(J.id,ae);const ye={...J,...ae};o(Be=>Be.map($e=>$e.id===J.id?ye:$e)),ie(ye),Z(!1),n("Project updated successfully")}catch(ae){a(ae.message||"Failed to update project")}finally{C(!1)}}},Se=async ae=>{if(J){C(!0);try{await bN(J.id,{status:ae});const ye={...J,status:ae};o(Be=>Be.map($e=>$e.id===J.id?ye:$e)),ie(ye),fe(Be=>({...Be,status:ae})),n(`Project status updated to ${ae}`)}catch(ye){a(ye.message||"Failed to update project status")}finally{C(!1)}}},Pe=async(ae,ye)=>{he(ae);try{const Be=ye==="Done"?"Todo":"Done";await Nu(ae,{status:Be}),m(ft=>ft.map(Nt=>Nt.id===ae?{...Nt,status:Be}:Nt));const $e=r?.id||JSON.parse(localStorage.getItem("user_data")||"{}").id,rt=await Gh($e);m(rt.data||[]),n(Be==="Done"?"Task marked as done":"Task marked as todo")}catch(Be){a(Be.message||"Failed to update task status")}finally{he(null)}},pe=s.filter(ae=>{const ye=ae.archived===!0;return v==="archived"?ye:!ye});return i.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-24 relative",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Project Workspace"}),i.jsxs("div",{className:"flex gap-4 mt-2",children:[i.jsx("button",{onClick:()=>{g("active"),T([])},className:`text-sm font-bold pb-1 transition-all ${v==="active"?"text-indigo-600 border-b-2 border-indigo-600":"text-slate-400"}`,children:"Active"}),i.jsxs("button",{onClick:()=>{g("archived"),T([])},className:`text-sm font-bold pb-1 transition-all ${v==="archived"?"text-indigo-600 border-b-2 border-indigo-600":"text-slate-400"}`,children:["Archived (",s.filter(ae=>ae.archived).length,")"]})]})]}),i.jsxs("button",{onClick:t,className:"px-4 py-2 bg-indigo-600 text-white rounded-xl text-sm font-bold flex items-center gap-2 hover:bg-indigo-700 shadow-lg shadow-indigo-100",children:[i.jsx(kn,{className:"w-4 h-4"})," Create Project"]})]}),!p&&pe.length>0&&i.jsxs("div",{className:"flex items-center gap-3 pb-2",children:[i.jsx("input",{type:"checkbox",className:"rounded border-slate-300 text-indigo-600 focus:ring-indigo-500 w-4 h-4",checked:pe.length>0&&E.length===pe.length,onChange:De}),i.jsx("span",{className:"text-sm font-semibold text-slate-600",children:"Select All Projects"})]}),p?i.jsx("div",{className:"flex items-center justify-center py-20",children:i.jsx(Ot,{className:"w-10 h-10 animate-spin text-indigo-600"})}):pe.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-24 bg-white border border-dashed border-slate-300 rounded-[40px] text-center",children:[i.jsx(fv,{className:"w-16 h-16 text-slate-200 mb-6"}),i.jsxs("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:["No ",v," projects found"]}),i.jsx("p",{className:"text-slate-500 text-sm max-w-xs",children:"Start a new logistics transformation project to see milestones and tracking."})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:pe.map(ae=>{const ye=l.find(rt=>rt.id===ae.companyId),Be=w(ae.id),$e=E.includes(ae.id);return i.jsxs("div",{onClick:rt=>{!ae.archived&&!$e&&(rt.stopPropagation(),ue(ae))},className:`bg-white rounded-3xl border ${$e?"border-indigo-400 bg-indigo-50/30":"border-slate-200"} overflow-hidden shadow-sm transition-all relative ${ae.archived?"opacity-70 grayscale-[0.5]":"hover:border-indigo-300 hover:shadow-md cursor-pointer active:scale-[0.98] group"}`,children:[i.jsxs("div",{className:"absolute top-5 right-5 flex items-center gap-2",children:[i.jsx("button",{onClick:rt=>{rt.stopPropagation(),O(ae)},className:"p-2 bg-slate-50 hover:bg-indigo-50 text-slate-400 hover:text-indigo-600 rounded-xl transition-all",title:v==="active"?"Archive":"Restore",children:v==="active"?i.jsx(Ld,{className:"w-4 h-4"}):i.jsx(hv,{className:"w-4 h-4"})}),i.jsx("button",{onClick:rt=>{rt.stopPropagation(),F(ae)},className:"p-2 bg-slate-50 hover:bg-red-50 text-slate-400 hover:text-red-600 rounded-xl transition-all",children:i.jsx(Ir,{className:"w-4 h-4"})}),i.jsx("div",{onClick:rt=>rt.stopPropagation(),className:`p-1.5 rounded-xl transition-all ${$e?"bg-indigo-50":"bg-slate-50 hover:bg-indigo-50/50"}`,children:i.jsx("input",{type:"checkbox",className:"rounded border-slate-300 text-indigo-600 focus:ring-indigo-500 w-4 h-4 cursor-pointer",checked:$e,onChange:()=>T(rt=>$e?rt.filter(ft=>ft!==ae.id):[...rt,ae.id])})})]}),i.jsxs("div",{className:"p-7",children:[i.jsx("div",{className:"w-12 h-12 bg-indigo-50 rounded-2xl flex items-center justify-center text-indigo-600 mb-6 group-hover:scale-110 transition-transform",children:i.jsx(uh,{className:"w-6 h-6"})}),i.jsx("h3",{className:"font-bold text-lg text-slate-900 mb-1 group-hover:text-indigo-600 transition-colors truncate",children:ae.title}),i.jsx("p",{className:"text-sm font-medium text-slate-400 mb-8 truncate",children:ye?.name||"Standalone Project"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center text-[10px] font-black uppercase tracking-widest",children:[i.jsx("span",{className:"text-slate-400",children:"Implementation Progress"}),i.jsxs("span",{className:"text-indigo-600",children:[Be,"%"]})]}),i.jsx("div",{className:"w-full bg-slate-100 rounded-full h-2.5 overflow-hidden",children:i.jsx("div",{className:"bg-indigo-600 h-full transition-all duration-700",style:{width:`${Be}%`}})})]})]}),i.jsxs("div",{className:"bg-slate-50/50 px-7 py-4 border-t border-slate-100 flex justify-between items-center",children:[i.jsxs("span",{className:"text-[10px] font-black uppercase text-slate-600 tracking-wider flex items-center gap-2",children:[i.jsx(zi,{className:"w-3.5 h-3.5"})," ",ae.status]}),!ae.archived&&i.jsx(Ka,{className:"w-4 h-4 text-slate-300 group-hover:text-indigo-600 group-hover:translate-x-1 transition-all"})]})]},ae.id)})}),A&&i.jsx("div",{className:"fixed inset-0 z-[130] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:i.jsxs("div",{className:"bg-white rounded-[32px] w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"p-8 border-b border-slate-100",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center bg-indigo-50 text-indigo-600",children:A.archived?i.jsx(hv,{className:"w-6 h-6"}):i.jsx(Ld,{className:"w-6 h-6"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-black text-slate-900",children:A.archived?"Restore Project?":"Archive Project?"}),i.jsx("p",{className:"text-xs text-slate-400 font-medium mt-1",children:A.archived?"This will restore the project to active status.":"This will move the project to archive. You can restore it later."})]})]}),i.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-200",children:[i.jsx("p",{className:"text-sm font-bold text-slate-900 mb-1",children:A.title}),i.jsx("p",{className:"text-xs text-slate-500",children:l.find(ae=>ae.id===A.companyId)?.name||"Standalone Project"})]})]}),i.jsxs("div",{className:"p-6 flex gap-3",children:[i.jsx("button",{onClick:()=>O(null),disabled:S===A.id,className:"flex-1 py-3 border border-slate-200 text-slate-400 font-black uppercase text-xs tracking-widest rounded-xl hover:bg-slate-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),i.jsx("button",{onClick:()=>Oe(A.id),disabled:S===A.id,className:"flex-1 py-3 bg-indigo-600 text-white font-black uppercase text-xs tracking-widest rounded-xl hover:bg-indigo-700 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:S===A.id?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),A.archived?"Restoring...":"Archiving..."]}):A.archived?"Restore Project":"Archive Project"})]})]})}),M&&i.jsx("div",{className:"fixed inset-0 z-[130] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:i.jsxs("div",{className:"bg-white rounded-[32px] w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"p-8 border-b border-slate-100",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center bg-red-50 text-red-600",children:i.jsx(Ir,{className:"w-6 h-6"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-black text-slate-900",children:"Delete Project?"}),i.jsx("p",{className:"text-xs text-slate-400 font-medium mt-1",children:"This action cannot be undone. The project and all its tasks will be permanently removed."})]})]}),i.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-200",children:[i.jsx("p",{className:"text-sm font-bold text-slate-900 mb-1",children:M.title}),i.jsx("p",{className:"text-xs text-slate-500",children:l.find(ae=>ae.id===M.companyId)?.name||"Standalone Project"})]})]}),i.jsxs("div",{className:"p-6 flex gap-3",children:[i.jsx("button",{onClick:()=>F(null),disabled:j===M.id,className:"flex-1 py-3 border border-slate-200 text-slate-400 font-black uppercase text-xs tracking-widest rounded-xl hover:bg-slate-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),i.jsx("button",{onClick:()=>ee(M.id),disabled:j===M.id,className:"flex-1 py-3 bg-red-600 text-white font-black uppercase text-xs tracking-widest rounded-xl hover:bg-red-700 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:j===M.id?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):"Delete Project"})]})]})}),E.length>0&&i.jsx("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-[100] animate-in slide-in-from-bottom-10 duration-300",children:i.jsxs("div",{className:"bg-slate-900 text-white rounded-3xl shadow-2xl px-8 py-4 flex items-center gap-8 border border-white/10 ring-4 ring-indigo-500/10",children:[i.jsxs("span",{className:"text-sm font-black flex items-center gap-3",children:[i.jsx("div",{className:"w-6 h-6 bg-indigo-500 rounded-full flex items-center justify-center text-[10px]",children:E.length}),"Selected"]}),i.jsx("div",{className:"h-8 w-px bg-white/10"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("button",{onClick:ae=>{ae.stopPropagation(),te(!0)},disabled:I,className:"px-5 py-2 bg-red-600 hover:bg-red-700 rounded-xl text-xs font-black uppercase tracking-widest transition-all flex items-center gap-2 disabled:opacity-50",children:[I?i.jsx(Ot,{className:"w-3.5 h-3.5 animate-spin"}):i.jsx(Ir,{className:"w-3.5 h-3.5"}),"Delete"]}),i.jsx("button",{onClick:()=>T([]),className:"p-2 hover:bg-white/10 rounded-xl text-slate-400 transition-colors",children:i.jsx(mr,{className:"w-5 h-5"})})]})]})}),Q&&E.length>0&&i.jsx("div",{className:"fixed inset-0 z-[130] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:i.jsxs("div",{className:"bg-white rounded-[32px] w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"p-8 border-b border-slate-100",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center bg-red-50 text-red-600",children:i.jsx(Ir,{className:"w-6 h-6"})}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-xl font-black text-slate-900",children:["Delete ",E.length," Project",E.length>1?"s":"","?"]}),i.jsx("p",{className:"text-xs text-slate-400 font-medium mt-1",children:"This action cannot be undone. The projects and all their tasks will be permanently removed."})]})]}),i.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-200 max-h-48 overflow-y-auto",children:[s.filter(ae=>E.includes(ae.id)).slice(0,5).map(ae=>{const ye=l.find(Be=>Be.id===ae.companyId);return i.jsxs("div",{className:"flex items-center gap-3 mb-2 last:mb-0",children:[i.jsx(uh,{className:"w-4 h-4 text-indigo-500"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xs font-bold text-slate-900",children:ae.title}),i.jsx("p",{className:"text-[10px] text-slate-500",children:ye?.name||"Standalone Project"})]})]},ae.id)}),E.length>5&&i.jsxs("p",{className:"text-xs text-slate-400 font-medium mt-2 text-center",children:["+ ",E.length-5," more"]})]})]}),i.jsxs("div",{className:"p-6 flex gap-3",children:[i.jsx("button",{onClick:()=>te(!1),disabled:I,className:"flex-1 py-3 border border-slate-200 text-slate-400 font-black uppercase text-xs tracking-widest rounded-xl hover:bg-slate-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),i.jsx("button",{onClick:je,disabled:I,className:"flex-1 py-3 bg-red-600 text-white font-black uppercase text-xs tracking-widest rounded-xl hover:bg-red-700 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:I?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):`Delete ${E.length} Project${E.length>1?"s":""}`})]})]})}),J&&i.jsxs("div",{className:"fixed inset-0 z-[110] overflow-hidden pointer-events-none",children:[i.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md pointer-events-auto animate-in fade-in duration-300",onClick:()=>{!X&&!q&&(ie(null),Z(!1))}}),i.jsxs("div",{className:"absolute right-0 inset-y-0 w-full max-w-3xl bg-white shadow-2xl pointer-events-auto animate-in slide-in-from-right duration-500 flex flex-col",children:[i.jsxs("div",{className:"p-8 border-b border-slate-100 bg-slate-50/50 relative shrink-0",children:[i.jsx("button",{onClick:()=>{!X&&!q&&(ie(null),Z(!1))},className:"absolute top-6 right-6 p-2 hover:bg-white rounded-full text-slate-400 transition-all shadow-sm z-10",disabled:q,children:i.jsx(mr,{className:"w-5 h-5"})}),i.jsxs("div",{className:"flex items-center gap-5 mb-6 pr-12",children:[i.jsx("div",{className:"w-16 h-16 bg-indigo-600 rounded-[24px] flex items-center justify-center text-white shadow-xl shadow-indigo-100",children:i.jsx(uh,{className:"w-8 h-8"})}),i.jsxs("div",{className:"flex-1",children:[X?i.jsxs("div",{children:[i.jsx("input",{type:"text",value:re.title,onChange:ae=>fe(ye=>({...ye,title:ae.target.value})),className:"w-full px-4 py-2 bg-white border-2 border-indigo-200 rounded-xl text-xl font-black text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100",placeholder:"Project name",required:!0}),i.jsxs("p",{className:"text-[9px] text-slate-400 mt-1 px-1",children:[i.jsx("span",{className:"text-red-500",children:"*"})," Required field"]})]}):i.jsx("h2",{className:"text-2xl font-black text-slate-900 tracking-tight leading-tight",children:J.title}),i.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[i.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border ${J.status==="Planning"?"bg-blue-50 text-blue-600 border-blue-200":J.status==="Active"?"bg-emerald-50 text-emerald-600 border-emerald-200":J.status==="On Hold"?"bg-amber-50 text-amber-600 border-amber-200":"bg-slate-50 text-slate-600 border-slate-200"}`,children:J.status}),i.jsx("span",{className:"text-xs text-slate-400",children:l.find(ae=>ae.id===J.companyId)?.name||"Standalone Project"})]})]})]}),i.jsx("div",{className:"flex gap-3",children:X?i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>{Z(!1),fe({title:J.title,description:J.description||"",companyId:J.companyId||"",status:J.status,engagement:J.engagement||"",startDate:oe(J.startDate),endDate:oe(J.endDate)})},disabled:q,className:"px-4 py-2 border border-slate-200 text-slate-400 font-bold text-xs uppercase tracking-widest rounded-xl hover:bg-slate-50 transition-all disabled:opacity-50",children:"Cancel"}),i.jsx("button",{onClick:_e,disabled:q||!re.title.trim()||!re.engagement.trim()||!re.startDate.trim()||!re.endDate.trim(),className:"px-4 py-2 bg-indigo-600 text-white font-bold text-xs uppercase tracking-widest rounded-xl hover:bg-indigo-700 transition-all shadow-lg flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:q?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(ro,{className:"w-4 h-4"}),"Save Changes"]})})]}):i.jsxs("button",{onClick:()=>Z(!0),className:"px-4 py-2 bg-indigo-600 text-white font-bold text-xs uppercase tracking-widest rounded-xl hover:bg-indigo-700 transition-all shadow-lg flex items-center gap-2",children:[i.jsx(xl,{className:"w-4 h-4"}),"Edit Project"]})})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-10 space-y-10 custom-scrollbar",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[i.jsx(Da,{className:"w-4 h-4 text-indigo-500"})," Project Details"]}),i.jsx("div",{className:"space-y-4",children:X?i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1 mb-2 block",children:["Engagement ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:re.engagement,onChange:ae=>fe(ye=>({...ye,engagement:ae.target.value})),className:"w-full px-4 py-3 bg-slate-50 border-2 border-indigo-200 rounded-xl text-sm font-medium outline-none focus:ring-4 focus:ring-indigo-100",placeholder:"e.g., Consulting, Implementation, Support",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1 mb-2 block",children:["Start Date ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"date",value:re.startDate,onChange:ae=>{if(fe(ye=>({...ye,startDate:ae.target.value})),ae.target.value&&re.endDate){const ye=new Date(ae.target.value),Be=new Date(re.endDate);!isNaN(ye.getTime())&&!isNaN(Be.getTime())&&ye>=Be}},className:"w-full px-4 py-3 bg-slate-50 border-2 border-indigo-200 rounded-xl text-sm font-medium outline-none focus:ring-4 focus:ring-indigo-100",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1 mb-2 block",children:["End Date ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"date",value:re.endDate,onChange:ae=>{if(fe(ye=>({...ye,endDate:ae.target.value})),re.startDate&&ae.target.value){const ye=new Date(re.startDate),Be=new Date(ae.target.value);!isNaN(ye.getTime())&&!isNaN(Be.getTime())&&ye>=Be}},className:"w-full px-4 py-3 bg-slate-50 border-2 border-indigo-200 rounded-xl text-sm font-medium outline-none focus:ring-4 focus:ring-indigo-100",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1 mb-2 block",children:"Description"}),i.jsx("textarea",{value:re.description,onChange:ae=>fe(ye=>({...ye,description:ae.target.value})),rows:4,className:"w-full px-4 py-3 bg-slate-50 border-2 border-indigo-200 rounded-xl text-sm font-medium outline-none focus:ring-4 focus:ring-indigo-100 resize-none",placeholder:"Project description..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1 mb-2 block",children:"Company"}),i.jsxs("select",{value:re.companyId,onChange:ae=>fe(ye=>({...ye,companyId:ae.target.value})),className:"w-full px-4 py-3 bg-slate-50 border-2 border-indigo-200 rounded-xl text-sm font-bold outline-none focus:ring-4 focus:ring-indigo-100",children:[i.jsx("option",{value:"",children:"Standalone Project"}),l.map(ae=>i.jsx("option",{value:ae.id,children:ae.name},ae.id))]})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"p-4 bg-slate-50 border border-slate-200 rounded-xl",children:[i.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Name"}),i.jsx("p",{className:"text-sm font-bold text-slate-900",children:J.title})]}),i.jsxs("div",{className:"p-4 bg-slate-50 border border-slate-200 rounded-xl",children:[i.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Engagement"}),i.jsx("p",{className:"text-sm font-bold text-slate-900",children:J.engagement||""})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"p-4 bg-slate-50 border border-slate-200 rounded-xl",children:[i.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Start Date"}),i.jsx("p",{className:"text-sm font-bold text-slate-900",children:J.startDate?new Date(J.startDate).toLocaleDateString():""})]}),i.jsxs("div",{className:"p-4 bg-slate-50 border border-slate-200 rounded-xl",children:[i.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"End Date"}),i.jsx("p",{className:"text-sm font-bold text-slate-900",children:J.endDate?new Date(J.endDate).toLocaleDateString():""})]})]}),J.description&&i.jsx("div",{className:"p-6 bg-slate-50 border border-slate-200 rounded-2xl",children:i.jsx("p",{className:"text-sm text-slate-700 leading-relaxed",children:J.description})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"p-4 bg-slate-50 border border-slate-200 rounded-xl",children:[i.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Company"}),i.jsx("p",{className:"text-sm font-bold text-slate-900",children:l.find(ae=>ae.id===J.companyId)?.name||"Standalone Project"})]}),i.jsxs("div",{className:"p-4 bg-slate-50 border border-slate-200 rounded-xl",children:[i.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Progress"}),i.jsxs("p",{className:"text-sm font-bold text-slate-900",children:[w(J.id),"%"]})]})]}),J.noteImage&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[i.jsx(Wa,{className:"w-4 h-4 text-indigo-500"})," Attached File"]}),J.noteImageMimeType?.includes("pdf")?i.jsx("div",{className:"p-5 bg-white border-2 border-slate-200 rounded-2xl hover:border-indigo-300 transition-all group",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-red-50 flex items-center justify-center text-red-600 shrink-0",children:i.jsx(Wa,{className:"w-6 h-6"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-bold text-slate-900 truncate",children:J.noteImageName||"Document.pdf"}),i.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:"PDF Document"})]}),i.jsxs("button",{onClick:()=>{const ae=window.open();ae&&ae.document.write(`
                                        <html>
                                          <head>
                                            <title>${J.noteImageName||"Document.pdf"}</title>
                                            <style>
                                              body { margin: 0; padding: 0; }
                                              embed { width: 100vw; height: 100vh; }
                                            </style>
                                          </head>
                                          <body>
                                            <embed src="${J.noteImage}" type="application/pdf" width="100%" height="100%" />
                                          </body>
                                        </html>
                                      `)},className:"px-4 py-2 bg-indigo-600 text-white text-xs font-bold rounded-xl hover:bg-indigo-700 transition-all flex items-center gap-2 opacity-0 group-hover:opacity-100",children:[i.jsx($d,{className:"w-4 h-4"}),"View PDF"]})]})}):i.jsxs("div",{className:"relative group",children:[i.jsx("img",{src:J.noteImage,alt:J.noteImageName||"Attachment",className:"w-full max-h-80 object-contain rounded-2xl border-2 border-slate-200 cursor-pointer hover:border-indigo-300 transition-all",onClick:()=>{K(J.noteImage||""),W(!0)}}),i.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/5 rounded-2xl transition-colors flex items-center justify-center opacity-0 group-hover:opacity-100 pointer-events-none",children:i.jsx("div",{className:"bg-white/90 backdrop-blur-sm px-4 py-2 rounded-xl shadow-lg",children:i.jsx($d,{className:"w-5 h-5 text-indigo-600"})})})]})]})]})})]}),!X&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[i.jsx(zi,{className:"w-4 h-4 text-indigo-500"})," Change Status"]}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:["Planning","Active","On Hold","Completed"].map(ae=>i.jsxs("button",{onClick:()=>Se(ae),disabled:q||J.status===ae,className:`flex items-center gap-2 p-4 rounded-xl border text-[10px] font-black uppercase tracking-widest transition-all ${J.status===ae?"bg-indigo-600 text-white border-indigo-600 shadow-lg":"bg-white text-slate-500 border-slate-200 hover:border-indigo-400 disabled:opacity-50 disabled:cursor-not-allowed"}`,children:[J.status===ae?i.jsx(wn,{className:"w-4 h-4"}):i.jsx($c,{className:"w-4 h-4"}),ae]},ae))})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[i.jsx(CR,{className:"w-4 h-4 text-indigo-500"})," Related Tasks"]}),i.jsxs("button",{onClick:()=>{sessionStorage.setItem("selectedProjectId",J.id),e("tasks"),ie(null)},className:"text-xs font-bold text-indigo-600 hover:text-indigo-700 flex items-center gap-1",children:["View All Tasks",i.jsx(Ka,{className:"w-3 h-3"})]})]}),(()=>{const ae=h.filter(ye=>ye.projectId===J.id);return ae.length===0?i.jsxs("div",{className:"p-8 bg-slate-50 border border-dashed border-slate-200 rounded-2xl text-center",children:[i.jsx(fv,{className:"w-8 h-8 text-slate-300 mx-auto mb-2"}),i.jsx("p",{className:"text-xs text-slate-400 font-bold",children:"No tasks found for this project"})]}):i.jsx("div",{className:"space-y-2",children:ae.map(ye=>{const Be=u.find(rt=>rt.id===ye.assigneeId),$e=ce===ye.id;return i.jsx("div",{className:"p-4 bg-white border border-slate-200 rounded-xl hover:border-indigo-300 hover:shadow-sm transition-all",children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("button",{onClick:rt=>{rt.stopPropagation(),$e||Pe(ye.id,ye.status)},disabled:$e,className:"disabled:opacity-50 disabled:cursor-not-allowed",children:$e?i.jsx(Ot,{className:"w-4 h-4 text-indigo-500 animate-spin"}):ye.status==="Done"?i.jsx(wn,{className:"w-4 h-4 text-emerald-500 hover:text-emerald-600 transition-colors"}):i.jsx($c,{className:"w-4 h-4 text-slate-300 hover:text-indigo-500 transition-colors cursor-pointer"})}),i.jsx("p",{className:`text-sm font-bold ${ye.status==="Done"?"line-through text-slate-400":"text-slate-900"}`,children:ye.title})]}),ye.description&&i.jsx("p",{className:"text-xs text-slate-500 line-clamp-1 ml-6",children:ye.description}),i.jsxs("div",{className:"flex items-center gap-3 mt-2 ml-6",children:[i.jsx("span",{className:`px-2 py-0.5 rounded-full text-[9px] font-black uppercase ${ye.priority==="High"?"bg-red-50 text-red-600":ye.priority==="Medium"?"bg-amber-50 text-amber-600":"bg-slate-50 text-slate-600"}`,children:ye.priority}),i.jsx("span",{className:"text-[9px] text-slate-400 font-bold uppercase",children:ye.status}),ye.dueDate&&i.jsxs("span",{className:"text-[9px] text-slate-400 font-bold flex items-center gap-1",children:[i.jsx(La,{className:"w-3 h-3"}),ye.dueDate]})]})]}),Be&&i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("div",{className:"w-8 h-8 bg-indigo-50 rounded-lg flex items-center justify-center text-indigo-600 text-xs font-black",children:Be.name.charAt(0)})})]})},ye.id)})})})()]})]}),i.jsx("div",{className:"p-8 border-t border-slate-100 bg-white flex gap-4 shrink-0",children:i.jsxs("button",{onClick:()=>{!X&&!q&&(ie(null),Z(!1))},className:"flex-1 py-4 bg-slate-900 text-white font-black uppercase text-xs tracking-[0.2em] rounded-[24px] hover:bg-indigo-700 active:scale-95 transition-all shadow-2xl flex items-center justify-center gap-3",disabled:q,children:[i.jsx(wn,{className:"w-5 h-5"})," Close"]})})]})]}),U&&i.jsxs("div",{className:"fixed inset-0 z-[150] overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-slate-900/95 backdrop-blur-md animate-in fade-in duration-300",onClick:()=>W(!1)}),i.jsxs("div",{className:"absolute inset-0 flex items-center justify-center p-4",children:[i.jsx("button",{onClick:()=>W(!1),className:"absolute top-6 right-6 p-3 bg-white/10 hover:bg-white/20 rounded-full text-white transition-all z-10 backdrop-blur-sm",children:i.jsx(mr,{className:"w-6 h-6"})}),i.jsx("div",{className:"relative max-w-7xl max-h-[90vh] animate-in zoom-in-95 duration-300",children:i.jsx("img",{src:B,alt:"Full size",className:"max-w-full max-h-[90vh] object-contain rounded-2xl shadow-2xl",onClick:ae=>ae.stopPropagation()})})]})]})]})};var g1={};g1.version="0.18.5";var KF=1252,oae=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],a3={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},i3=function(e){oae.indexOf(e)!=-1&&(KF=a3[0]=e)};function lae(){i3(1252)}var oc=function(e){i3(e)};function s3(){oc(1200),lae()}function SP(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function cae(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function XF(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var Yp=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?cae(e.slice(2)):t==254&&r==255?XF(e.slice(2)):t==65279?e.slice(1):e},Bg=function(t){return String.fromCharCode(t)},_P=function(t){return String.fromCharCode(t)},rx,Rd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function nx(e){for(var t="",r=0,n=0,a=0,s=0,o=0,l=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),s=r>>2,n=e.charCodeAt(u++),o=(r&3)<<4|n>>4,a=e.charCodeAt(u++),l=(n&15)<<2|a>>6,c=a&63,isNaN(n)?l=c=64:isNaN(a)&&(c=64),t+=Rd.charAt(s)+Rd.charAt(o)+Rd.charAt(l)+Rd.charAt(c);return t}function Uo(e){var t="",r=0,n=0,a=0,s=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)s=Rd.indexOf(e.charAt(u++)),o=Rd.indexOf(e.charAt(u++)),r=s<<2|o>>4,t+=String.fromCharCode(r),l=Rd.indexOf(e.charAt(u++)),n=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=Rd.indexOf(e.charAt(u++)),a=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var xn=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Ku=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function Xd(e){return xn?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function AP(e){return xn?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Fo=function(t){return xn?Ku(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function xy(e){if(typeof ArrayBuffer>"u")return Fo(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function lf(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function uae(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function o3(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return o3(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var $i=xn?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Ku(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function dae(e){for(var t=[],r=0,n=e.length+250,a=Xd(e.length+255),s=0;s<e.length;++s){var o=e.charCodeAt(s);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++s)&1023;a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|l>>6&15|(o&3)<<4,a[r++]=128|l&63}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|o&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Xd(65535),n=65530)}return t.push(a.slice(0,r)),$i(t)}var to=/\u0000/g,Jp=/[\u0001-\u0006]/g;function xh(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function lc(e,t){var r=""+e;return r.length>=t?r:Ga("0",t-r.length)+r}function l3(e,t){var r=""+e;return r.length>=t?r:Ga(" ",t-r.length)+r}function v1(e,t){var r=""+e;return r.length>=t?r:r+Ga(" ",t-r.length)}function fae(e,t){var r=""+Math.round(e);return r.length>=t?r:Ga("0",t-r.length)+r}function hae(e,t){var r=""+e;return r.length>=t?r:Ga("0",t-r.length)+r}var EP=Math.pow(2,32);function J0(e,t){if(e>EP||e<-EP)return fae(e,t);var r=Math.round(e);return hae(r,t)}function y1(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var CP=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],NN=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function pae(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Vr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},TP={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},mae={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function b1(e,t,r){for(var n=e<0?-1:1,a=e*n,s=0,o=1,l=0,c=1,u=0,d=0,h=Math.floor(a);u<t&&(h=Math.floor(a),l=h*o+s,d=h*u+c,!(a-h<5e-8));)a=1/(a-h),s=o,o=l,c=u,u=d;if(d>t&&(u>t?(d=c,l=s):(d=u,l=o)),!r)return[0,n*l,d];var m=Math.floor(n*l/d);return[m,n*l-m*d,d]}function Vf(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),s=0,o=[],l={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)o=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],s=c.getDay(),n<60&&(s=(s+6)%7),r&&(s=wae(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=s,l}var YF=new Date(1899,11,31,0,0,0),xae=YF.getTime(),gae=new Date(1900,2,1,0,0,0);function JF(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=gae&&(r+=1440*60*1e3),(r-(xae+(e.getTimezoneOffset()-YF.getTimezoneOffset())*6e4))/(1440*60*1e3)}function c3(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function vae(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function yae(e){var t=e<0?12:11,r=c3(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function bae(e){var t=c3(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function ax(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=yae(e):t===10?r=e.toFixed(10).substr(0,12):r=bae(e),c3(vae(r.toUpperCase()))}function c0(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):ax(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return wl(14,JF(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function wae(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function Nae(e,t,r,n){var a="",s=0,o=0,l=r.y,c,u=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return NN[r.m-1][1];case 5:return NN[r.m-1][0];default:return NN[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return CP[r.q][0];default:return CP[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?lc(r.S,t.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,s=Math.round(o*(r.S+r.u)),s>=60*o&&(s=0),t==="s"?s===0?"0":""+s/o:(a=lc(s,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=l,u=1;break}var d=u>0?lc(c,u):"";return d}function Bd(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var QF=/%/g;function jae(e,t,r){var n=t.replace(QF,""),a=t.length-n.length;return Iu(e,n,r*Math.pow(10,2*a))+Ga("%",a)}function kae(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Iu(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function ZF(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+ZF(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+s):r+="E+"+(o-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+s)%a)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var e7=/# (\?+)( ?)\/( ?)(\d+)/;function Sae(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),s=Math.floor(a/n),o=a-s*n,l=n;return r+(s===0?"":""+s)+" "+(o===0?Ga(" ",e[1].length+1+e[4].length):l3(o,e[1].length)+e[2]+"/"+e[3]+lc(l,e[4].length))}function _ae(e,t,r){return r+(t===0?"":""+t)+Ga(" ",e[1].length+2+e[4].length)}var t7=/^#*0*\.([0#]+)/,r7=/\).*[0#]/,n7=/\(###\) ###\\?-####/;function Ys(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function OP(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function PP(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function Aae(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function Eae(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function ol(e,t,r){if(e.charCodeAt(0)===40&&!t.match(r7)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ol("n",n,r):"("+ol("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return kae(e,t,r);if(t.indexOf("%")!==-1)return jae(e,t,r);if(t.indexOf("E")!==-1)return ZF(t,r);if(t.charCodeAt(0)===36)return"$"+ol(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+J0(c,t.length);if(t.match(/^[#?]+$/))return a=J0(r,0),a==="0"&&(a=""),a.length>t.length?a:Ys(t.substr(0,t.length-a.length))+a;if(s=t.match(e7))return Sae(s,c,u);if(t.match(/^#+0+$/))return u+J0(c,t.length-t.indexOf("0"));if(s=t.match(t7))return a=OP(r,s[1].length).replace(/^([^\.]+)$/,"$1."+Ys(s[1])).replace(/\.$/,"."+Ys(s[1])).replace(/\.(\d*)$/,function(y,v){return"."+v+Ga("0",Ys(s[1]).length-v.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+OP(c,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+Bd(J0(c,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ol(e,t,-r):Bd(""+(Math.floor(r)+Aae(r,s[1].length)))+"."+lc(PP(r,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return ol(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=xh(ol(e,t.replace(/[\\-]/g,""),r)),o=0,xh(xh(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<a.length?a.charAt(o++):y==="0"?"0":""}));if(t.match(n7))return a=ol(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),l=b1(c,Math.pow(10,o)-1,!1),a=""+u,d=Iu("n",s[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],d=v1(l[2],o),d.length<s[4].length&&(d=Ys(s[4].substr(s[4].length-d.length))+d),a+=d,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),l=b1(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?l3(l[1],o)+s[2]+"/"+s[3]+v1(l[2],o):Ga(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=J0(r,0),t.length<=a.length?a:Ys(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var h=t.indexOf(".")-o,m=t.length-a.length-h;return Ys(t.substr(0,h)+a+t.substr(t.length-m))}if(s=t.match(/^00,000\.([#0]*0)$/))return o=PP(r,s[1].length),r<0?"-"+ol(e,t,-r):Bd(Eae(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?lc(0,3-y.length):"")+y})+"."+lc(o,s[1].length);switch(t){case"###,##0.00":return ol(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=Bd(J0(c,0));return p!=="0"?u+p:"";case"###,###.00":return ol(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return ol(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Cae(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Iu(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function Tae(e,t,r){var n=t.replace(QF,""),a=t.length-n.length;return Iu(e,n,r*Math.pow(10,2*a))+Ga("%",a)}function a7(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+a7(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+s):r+="E+"+(o-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+s)%a)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Ic(e,t,r){if(e.charCodeAt(0)===40&&!t.match(r7)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ic("n",n,r):"("+Ic("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Cae(e,t,r);if(t.indexOf("%")!==-1)return Tae(e,t,r);if(t.indexOf("E")!==-1)return a7(t,r);if(t.charCodeAt(0)===36)return"$"+Ic(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+lc(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:Ys(t.substr(0,t.length-a.length))+a;if(s=t.match(e7))return _ae(s,c,u);if(t.match(/^#+0+$/))return u+lc(c,t.length-t.indexOf("0"));if(s=t.match(t7))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Ys(s[1])).replace(/\.$/,"."+Ys(s[1])),a=a.replace(/\.(\d*)$/,function(y,v){return"."+v+Ga("0",Ys(s[1]).length-v.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+Bd(""+c);if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ic(e,t,-r):Bd(""+r)+"."+Ga("0",s[1].length);if(s=t.match(/^#,#*,#0/))return Ic(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=xh(Ic(e,t.replace(/[\\-]/g,""),r)),o=0,xh(xh(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<a.length?a.charAt(o++):y==="0"?"0":""}));if(t.match(n7))return a=Ic(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),l=b1(c,Math.pow(10,o)-1,!1),a=""+u,d=Iu("n",s[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],d=v1(l[2],o),d.length<s[4].length&&(d=Ys(s[4].substr(s[4].length-d.length))+d),a+=d,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),l=b1(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?l3(l[1],o)+s[2]+"/"+s[3]+v1(l[2],o):Ga(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Ys(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var h=t.indexOf(".")-o,m=t.length-a.length-h;return Ys(t.substr(0,h)+a+t.substr(t.length-m))}if(s=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Ic(e,t,-r):Bd(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?lc(0,3-y.length):"")+y})+"."+lc(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=Bd(""+c);return p!=="0"?u+p:"";default:if(t.match(/\.[0#?]*$/))return Ic(e,t.slice(0,t.lastIndexOf(".")),r)+Ys(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Iu(e,t,r){return(r|0)===r?Ic(e,t,r):ol(e,t,r)}function Oae(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var i7=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function up(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":y1(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(i7))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function Pae(e,t,r,n){for(var a=[],s="",o=0,l="",c="t",u,d,h,m="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!y1(e,o))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";(h=e.charCodeAt(++o))!==34&&o<e.length;)s+=String.fromCharCode(h);a[a.length]={t:"t",v:s},++o;break;case"\\":var p=e.charAt(++o),y=p==="("||p===")"?p:"t";a[a.length]={t:y,v:p},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=Vf(t,r,e.charAt(o+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=Vf(t,r),u==null))return"";for(s=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)s+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=m),a[a.length]={t:l,v:s},c=l;break;case"A":case"a":case"":var v={t:l,v:l};if(u==null&&(u=Vf(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(v.v=u.H>=12?"P":"A"),v.t="T",m="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(v.v=u.H>=12?"PM":"AM"),v.t="T",o+=5,m="h"):e.substr(o,5).toUpperCase()==="/"?(u!=null&&(v.v=u.H>=12?"":""),v.t="T",o+=5,m="h"):(v.t="t",++o),u==null&&v.t==="T")return"";a[a.length]=v,c=l;break;case"[":for(s=l;e.charAt(o++)!=="]"&&o<e.length;)s+=e.charAt(o);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(i7)){if(u==null&&(u=Vf(t,r),u==null))return"";a[a.length]={t:"Z",v:s.toLowerCase()},c=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",up(e)||(a[a.length]={t:"t",v:s}));break;case".":if(u!=null){for(s=l;++o<e.length&&(l=e.charAt(o))==="0";)s+=l;a[a.length]={t:"s",v:s};break}case"0":case"#":for(s=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)s+=l;a[a.length]={t:"n",v:s};break;case"?":for(s=l;e.charAt(++o)===l;)s+=l;a[a.length]={t:l,v:s},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)s+=e.charAt(o);a[a.length]={t:"D",v:s};break;case" ":a[a.length]={t:l,v:l},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++o;break}var g=0,b=0,w;for(o=a.length-1,c="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=m,c="h",g<1&&(g=1);break;case"s":(w=a[o].v.match(/\.0+$/))&&(b=Math.max(b,w[0].length-1)),g<3&&(g=3);case"d":case"y":case"M":case"e":c=a[o].t;break;case"m":c==="s"&&(a[o].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&a[o].v.match(/[Hh]/)&&(g=1),g<2&&a[o].v.match(/[Mm]/)&&(g=2),g<3&&a[o].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var j="",N;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=Nae(a[o].t.charCodeAt(0),a[o].v,u,b),a[o].t="t";break;case"n":case"?":for(N=o+1;a[N]!=null&&((l=a[N].t)==="?"||l==="D"||(l===" "||l==="t")&&a[N+1]!=null&&(a[N+1].t==="?"||a[N+1].t==="t"&&a[N+1].v==="/")||a[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[N].v==="/"||a[N].v===" "&&a[N+1]!=null&&a[N+1].t=="?"));)a[o].v+=a[N].v,a[N]={v:"",t:";"},++N;j+=a[o].v,o=N-1;break;case"G":a[o].t="t",a[o].v=c0(t,r);break}var S="",P,A;if(j.length>0){j.charCodeAt(0)==40?(P=t<0&&j.charCodeAt(0)===45?-t:t,A=Iu("n",j,P)):(P=t<0&&n>1?-t:t,A=Iu("n",j,P),P<0&&a[0]&&a[0].t=="t"&&(A=A.substr(1),a[0].v="-"+a[0].v)),N=A.length-1;var O=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){O=o;break}var M=a.length;if(O===a.length&&A.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(N>=a[o].v.length-1?(N-=a[o].v.length,a[o].v=A.substr(N+1,a[o].v.length)):N<0?a[o].v="":(a[o].v=A.substr(0,N+1),N=-1),a[o].t="t",M=o);N>=0&&M<a.length&&(a[M].v=A.substr(0,N+1)+a[M].v)}else if(O!==a.length&&A.indexOf("E")===-1){for(N=A.indexOf(".")-1,o=O;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(d=a[o].v.indexOf(".")>-1&&o===O?a[o].v.indexOf(".")-1:a[o].v.length-1,S=a[o].v.substr(d+1);d>=0;--d)N>=0&&(a[o].v.charAt(d)==="0"||a[o].v.charAt(d)==="#")&&(S=A.charAt(N--)+S);a[o].v=S,a[o].t="t",M=o}for(N>=0&&M<a.length&&(a[M].v=A.substr(0,N+1)+a[M].v),N=A.indexOf(".")+1,o=O;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==O)){for(d=a[o].v.indexOf(".")>-1&&o===O?a[o].v.indexOf(".")+1:0,S=a[o].v.substr(0,d);d<a[o].v.length;++d)N<A.length&&(S+=A.charAt(N++));a[o].v=S,a[o].t="t",M=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(P=n>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=Iu(a[o].t,a[o].v,P),a[o].t="t");var F="";for(o=0;o!==a.length;++o)a[o]!=null&&(F+=a[o].v);return F}var IP=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function DP(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function Iae(e,t){var r=Oae(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(IP),l=r[1].match(IP);return DP(t,o)?[n,r[0]]:DP(t,l)?[n,r[1]]:[n,r[o!=null&&l!=null?2:1]]}return[n,s]}function wl(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Vr)[e],n==null&&(n=r.table&&r.table[TP[e]]||Vr[TP[e]]),n==null&&(n=mae[e]||"General");break}if(y1(n,0))return c0(t,r);t instanceof Date&&(t=JF(t,r.date1904));var a=Iae(n,t);if(y1(a[1]))return c0(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return Pae(a[1],t,r,a[0])}function Du(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Vr[r]==null){t<0&&(t=r);continue}if(Vr[r]==e){t=r;break}}t<0&&(t=391)}return Vr[t]=e,t}function gy(e){for(var t=0;t!=392;++t)e[t]!==void 0&&Du(e[t],t)}function dp(){Vr=pae()}var Dae={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},s7=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Lae(e){var t=typeof e=="number"?Vr[e]:e;return t=t.replace(s7,"(\\d+)"),new RegExp("^"+t+"$")}function Fae(e,t,r){var n=-1,a=-1,s=-1,o=-1,l=-1,c=-1;(t.match(s7)||[]).forEach(function(h,m){var p=parseInt(r[m+1],10);switch(h.toLowerCase().charAt(0)){case"y":n=p;break;case"d":s=p;break;case"h":o=p;break;case"s":c=p;break;case"m":o>=0?l=p:a=p;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?u:n==-1&&a==-1&&s==-1?d:u+"T"+d}var Mae=(function(){var e={};e.version="1.2.0";function t(){for(var A=0,O=new Array(256),M=0;M!=256;++M)A=M,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,O[M]=A;return typeof Int32Array<"u"?new Int32Array(O):O}var r=t();function n(A){var O=0,M=0,F=0,E=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(F=0;F!=256;++F)E[F]=A[F];for(F=0;F!=256;++F)for(M=A[F],O=256+F;O<4096;O+=256)M=E[O]=M>>>8^A[M&255];var T=[];for(F=1;F!=16;++F)T[F-1]=typeof Int32Array<"u"?E.subarray(F*256,F*256+256):E.slice(F*256,F*256+256);return T}var a=n(r),s=a[0],o=a[1],l=a[2],c=a[3],u=a[4],d=a[5],h=a[6],m=a[7],p=a[8],y=a[9],v=a[10],g=a[11],b=a[12],w=a[13],j=a[14];function N(A,O){for(var M=O^-1,F=0,E=A.length;F<E;)M=M>>>8^r[(M^A.charCodeAt(F++))&255];return~M}function S(A,O){for(var M=O^-1,F=A.length-15,E=0;E<F;)M=j[A[E++]^M&255]^w[A[E++]^M>>8&255]^b[A[E++]^M>>16&255]^g[A[E++]^M>>>24]^v[A[E++]]^y[A[E++]]^p[A[E++]]^m[A[E++]]^h[A[E++]]^d[A[E++]]^u[A[E++]]^c[A[E++]]^l[A[E++]]^o[A[E++]]^s[A[E++]]^r[A[E++]];for(F+=15;E<F;)M=M>>>8^r[(M^A[E++])&255];return~M}function P(A,O){for(var M=O^-1,F=0,E=A.length,T=0,I=0;F<E;)T=A.charCodeAt(F++),T<128?M=M>>>8^r[(M^T)&255]:T<2048?(M=M>>>8^r[(M^(192|T>>6&31))&255],M=M>>>8^r[(M^(128|T&63))&255]):T>=55296&&T<57344?(T=(T&1023)+64,I=A.charCodeAt(F++)&1023,M=M>>>8^r[(M^(240|T>>8&7))&255],M=M>>>8^r[(M^(128|T>>2&63))&255],M=M>>>8^r[(M^(128|I>>6&15|(T&3)<<4))&255],M=M>>>8^r[(M^(128|I&63))&255]):(M=M>>>8^r[(M^(224|T>>12&15))&255],M=M>>>8^r[(M^(128|T>>6&63))&255],M=M>>>8^r[(M^(128|T&63))&255]);return~M}return e.table=r,e.bstr=N,e.buf=S,e.str=P,e})(),Rr=(function(){var t={};t.version="1.2.1";function r(ne,ge){for(var ve=ne.split("/"),ke=ge.split("/"),Ie=0,Te=0,ze=Math.min(ve.length,ke.length);Ie<ze;++Ie){if(Te=ve[Ie].length-ke[Ie].length)return Te;if(ve[Ie]!=ke[Ie])return ve[Ie]<ke[Ie]?-1:1}return ve.length-ke.length}function n(ne){if(ne.charAt(ne.length-1)=="/")return ne.slice(0,-1).indexOf("/")===-1?ne:n(ne.slice(0,-1));var ge=ne.lastIndexOf("/");return ge===-1?ne:ne.slice(0,ge+1)}function a(ne){if(ne.charAt(ne.length-1)=="/")return a(ne.slice(0,-1));var ge=ne.lastIndexOf("/");return ge===-1?ne:ne.slice(ge+1)}function s(ne,ge){typeof ge=="string"&&(ge=new Date(ge));var ve=ge.getHours();ve=ve<<6|ge.getMinutes(),ve=ve<<5|ge.getSeconds()>>>1,ne.write_shift(2,ve);var ke=ge.getFullYear()-1980;ke=ke<<4|ge.getMonth()+1,ke=ke<<5|ge.getDate(),ne.write_shift(2,ke)}function o(ne){var ge=ne.read_shift(2)&65535,ve=ne.read_shift(2)&65535,ke=new Date,Ie=ve&31;ve>>>=5;var Te=ve&15;ve>>>=4,ke.setMilliseconds(0),ke.setFullYear(ve+1980),ke.setMonth(Te-1),ke.setDate(Ie);var ze=ge&31;ge>>>=5;var et=ge&63;return ge>>>=6,ke.setHours(ge),ke.setMinutes(et),ke.setSeconds(ze<<1),ke}function l(ne){ss(ne,0);for(var ge={},ve=0;ne.l<=ne.length-4;){var ke=ne.read_shift(2),Ie=ne.read_shift(2),Te=ne.l+Ie,ze={};ke===21589&&(ve=ne.read_shift(1),ve&1&&(ze.mtime=ne.read_shift(4)),Ie>5&&(ve&2&&(ze.atime=ne.read_shift(4)),ve&4&&(ze.ctime=ne.read_shift(4))),ze.mtime&&(ze.mt=new Date(ze.mtime*1e3))),ne.l=Te,ge[ke]=ze}return ge}var c;function u(){return c||(c={})}function d(ne,ge){if(ne[0]==80&&ne[1]==75)return Kt(ne,ge);if((ne[0]|32)==109&&(ne[1]|32)==105)return Ct(ne,ge);if(ne.length<512)throw new Error("CFB file size "+ne.length+" < 512");var ve=3,ke=512,Ie=0,Te=0,ze=0,et=0,Ge=0,Je=[],at=ne.slice(0,512);ss(at,0);var wt=h(at);switch(ve=wt[0],ve){case 3:ke=512;break;case 4:ke=4096;break;case 0:if(wt[1]==0)return Kt(ne,ge);default:throw new Error("Major Version: Expected 3 or 4 saw "+ve)}ke!==512&&(at=ne.slice(0,ke),ss(at,28));var Pt=ne.slice(0,ke);m(at,ve);var It=at.read_shift(4,"i");if(ve===3&&It!==0)throw new Error("# Directory Sectors: Expected 0 saw "+It);at.l+=4,ze=at.read_shift(4,"i"),at.l+=4,at.chk("00100000","Mini Stream Cutoff Size: "),et=at.read_shift(4,"i"),Ie=at.read_shift(4,"i"),Ge=at.read_shift(4,"i"),Te=at.read_shift(4,"i");for(var Lt=-1,Dt=0;Dt<109&&(Lt=at.read_shift(4,"i"),!(Lt<0));++Dt)Je[Dt]=Lt;var kr=p(ne,ke);g(Ge,Te,kr,ke,Je);var Dr=w(kr,ze,Je,ke);Dr[ze].name="!Directory",Ie>0&&et!==I&&(Dr[et].name="!MiniFAT"),Dr[Je[0]].name="!FAT",Dr.fat_addrs=Je,Dr.ssz=ke;var an={},Nn=[],va=[],Ba=[];j(ze,Dr,kr,Nn,Ie,an,va,et),y(va,Ba,Nn),Nn.shift();var pa={FileIndex:va,FullPaths:Ba};return ge&&ge.raw&&(pa.raw={header:Pt,sectors:kr}),pa}function h(ne){if(ne[ne.l]==80&&ne[ne.l+1]==75)return[0,0];ne.chk(z,"Header Signature: "),ne.l+=16;var ge=ne.read_shift(2,"u");return[ne.read_shift(2,"u"),ge]}function m(ne,ge){var ve=9;switch(ne.l+=2,ve=ne.read_shift(2)){case 9:if(ge!=3)throw new Error("Sector Shift: Expected 9 saw "+ve);break;case 12:if(ge!=4)throw new Error("Sector Shift: Expected 12 saw "+ve);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ve)}ne.chk("0600","Mini Sector Shift: "),ne.chk("000000000000","Reserved: ")}function p(ne,ge){for(var ve=Math.ceil(ne.length/ge)-1,ke=[],Ie=1;Ie<ve;++Ie)ke[Ie-1]=ne.slice(Ie*ge,(Ie+1)*ge);return ke[ve-1]=ne.slice(ve*ge),ke}function y(ne,ge,ve){for(var ke=0,Ie=0,Te=0,ze=0,et=0,Ge=ve.length,Je=[],at=[];ke<Ge;++ke)Je[ke]=at[ke]=ke,ge[ke]=ve[ke];for(;et<at.length;++et)ke=at[et],Ie=ne[ke].L,Te=ne[ke].R,ze=ne[ke].C,Je[ke]===ke&&(Ie!==-1&&Je[Ie]!==Ie&&(Je[ke]=Je[Ie]),Te!==-1&&Je[Te]!==Te&&(Je[ke]=Je[Te])),ze!==-1&&(Je[ze]=ke),Ie!==-1&&ke!=Je[ke]&&(Je[Ie]=Je[ke],at.lastIndexOf(Ie)<et&&at.push(Ie)),Te!==-1&&ke!=Je[ke]&&(Je[Te]=Je[ke],at.lastIndexOf(Te)<et&&at.push(Te));for(ke=1;ke<Ge;++ke)Je[ke]===ke&&(Te!==-1&&Je[Te]!==Te?Je[ke]=Je[Te]:Ie!==-1&&Je[Ie]!==Ie&&(Je[ke]=Je[Ie]));for(ke=1;ke<Ge;++ke)if(ne[ke].type!==0){if(et=ke,et!=Je[et])do et=Je[et],ge[ke]=ge[et]+"/"+ge[ke];while(et!==0&&Je[et]!==-1&&et!=Je[et]);Je[ke]=-1}for(ge[0]+="/",ke=1;ke<Ge;++ke)ne[ke].type!==2&&(ge[ke]+="/")}function v(ne,ge,ve){for(var ke=ne.start,Ie=ne.size,Te=[],ze=ke;ve&&Ie>0&&ze>=0;)Te.push(ge.slice(ze*T,ze*T+T)),Ie-=T,ze=Rf(ve,ze*4);return Te.length===0?_t(0):$i(Te).slice(0,ne.size)}function g(ne,ge,ve,ke,Ie){var Te=I;if(ne===I){if(ge!==0)throw new Error("DIFAT chain shorter than expected")}else if(ne!==-1){var ze=ve[ne],et=(ke>>>2)-1;if(!ze)return;for(var Ge=0;Ge<et&&(Te=Rf(ze,Ge*4))!==I;++Ge)Ie.push(Te);g(Rf(ze,ke-4),ge-1,ve,ke,Ie)}}function b(ne,ge,ve,ke,Ie){var Te=[],ze=[];Ie||(Ie=[]);var et=ke-1,Ge=0,Je=0;for(Ge=ge;Ge>=0;){Ie[Ge]=!0,Te[Te.length]=Ge,ze.push(ne[Ge]);var at=ve[Math.floor(Ge*4/ke)];if(Je=Ge*4&et,ke<4+Je)throw new Error("FAT boundary crossed: "+Ge+" 4 "+ke);if(!ne[at])break;Ge=Rf(ne[at],Je)}return{nodes:Te,data:VP([ze])}}function w(ne,ge,ve,ke){var Ie=ne.length,Te=[],ze=[],et=[],Ge=[],Je=ke-1,at=0,wt=0,Pt=0,It=0;for(at=0;at<Ie;++at)if(et=[],Pt=at+ge,Pt>=Ie&&(Pt-=Ie),!ze[Pt]){Ge=[];var Lt=[];for(wt=Pt;wt>=0;){Lt[wt]=!0,ze[wt]=!0,et[et.length]=wt,Ge.push(ne[wt]);var Dt=ve[Math.floor(wt*4/ke)];if(It=wt*4&Je,ke<4+It)throw new Error("FAT boundary crossed: "+wt+" 4 "+ke);if(!ne[Dt]||(wt=Rf(ne[Dt],It),Lt[wt]))break}Te[Pt]={nodes:et,data:VP([Ge])}}return Te}function j(ne,ge,ve,ke,Ie,Te,ze,et){for(var Ge=0,Je=ke.length?2:0,at=ge[ne].data,wt=0,Pt=0,It;wt<at.length;wt+=128){var Lt=at.slice(wt,wt+128);ss(Lt,64),Pt=Lt.read_shift(2),It=x3(Lt,0,Pt-Je),ke.push(It);var Dt={name:It,type:Lt.read_shift(1),color:Lt.read_shift(1),L:Lt.read_shift(4,"i"),R:Lt.read_shift(4,"i"),C:Lt.read_shift(4,"i"),clsid:Lt.read_shift(16),state:Lt.read_shift(4,"i"),start:0,size:0},kr=Lt.read_shift(2)+Lt.read_shift(2)+Lt.read_shift(2)+Lt.read_shift(2);kr!==0&&(Dt.ct=N(Lt,Lt.l-8));var Dr=Lt.read_shift(2)+Lt.read_shift(2)+Lt.read_shift(2)+Lt.read_shift(2);Dr!==0&&(Dt.mt=N(Lt,Lt.l-8)),Dt.start=Lt.read_shift(4,"i"),Dt.size=Lt.read_shift(4,"i"),Dt.size<0&&Dt.start<0&&(Dt.size=Dt.type=0,Dt.start=I,Dt.name=""),Dt.type===5?(Ge=Dt.start,Ie>0&&Ge!==I&&(ge[Ge].name="!StreamData")):Dt.size>=4096?(Dt.storage="fat",ge[Dt.start]===void 0&&(ge[Dt.start]=b(ve,Dt.start,ge.fat_addrs,ge.ssz)),ge[Dt.start].name=Dt.name,Dt.content=ge[Dt.start].data.slice(0,Dt.size)):(Dt.storage="minifat",Dt.size<0?Dt.size=0:Ge!==I&&Dt.start!==I&&ge[Ge]&&(Dt.content=v(Dt,ge[Ge].data,(ge[et]||{}).data))),Dt.content&&ss(Dt.content,0),Te[It]=Dt,ze.push(Dt)}}function N(ne,ge){return new Date((Do(ne,ge+4)/1e7*Math.pow(2,32)+Do(ne,ge)/1e7-11644473600)*1e3)}function S(ne,ge){return u(),d(c.readFileSync(ne),ge)}function P(ne,ge){var ve=ge&&ge.type;switch(ve||xn&&Buffer.isBuffer(ne)&&(ve="buffer"),ve||"base64"){case"file":return S(ne,ge);case"base64":return d(Fo(Uo(ne)),ge);case"binary":return d(Fo(ne),ge)}return d(ne,ge)}function A(ne,ge){var ve=ge||{},ke=ve.root||"Root Entry";if(ne.FullPaths||(ne.FullPaths=[]),ne.FileIndex||(ne.FileIndex=[]),ne.FullPaths.length!==ne.FileIndex.length)throw new Error("inconsistent CFB structure");ne.FullPaths.length===0&&(ne.FullPaths[0]=ke+"/",ne.FileIndex[0]={name:ke,type:5}),ve.CLSID&&(ne.FileIndex[0].clsid=ve.CLSID),O(ne)}function O(ne){var ge="Sh33tJ5";if(!Rr.find(ne,"/"+ge)){var ve=_t(4);ve[0]=55,ve[1]=ve[3]=50,ve[2]=54,ne.FileIndex.push({name:ge,type:2,content:ve,size:4,L:69,R:69,C:69}),ne.FullPaths.push(ne.FullPaths[0]+ge),M(ne)}}function M(ne,ge){A(ne);for(var ve=!1,ke=!1,Ie=ne.FullPaths.length-1;Ie>=0;--Ie){var Te=ne.FileIndex[Ie];switch(Te.type){case 0:ke?ve=!0:(ne.FileIndex.pop(),ne.FullPaths.pop());break;case 1:case 2:case 5:ke=!0,isNaN(Te.R*Te.L*Te.C)&&(ve=!0),Te.R>-1&&Te.L>-1&&Te.R==Te.L&&(ve=!0);break;default:ve=!0;break}}if(!(!ve&&!ge)){var ze=new Date(1987,1,19),et=0,Ge=Object.create?Object.create(null):{},Je=[];for(Ie=0;Ie<ne.FullPaths.length;++Ie)Ge[ne.FullPaths[Ie]]=!0,ne.FileIndex[Ie].type!==0&&Je.push([ne.FullPaths[Ie],ne.FileIndex[Ie]]);for(Ie=0;Ie<Je.length;++Ie){var at=n(Je[Ie][0]);ke=Ge[at],ke||(Je.push([at,{name:a(at).replace("/",""),type:1,clsid:te,ct:ze,mt:ze,content:null}]),Ge[at]=!0)}for(Je.sort(function(It,Lt){return r(It[0],Lt[0])}),ne.FullPaths=[],ne.FileIndex=[],Ie=0;Ie<Je.length;++Ie)ne.FullPaths[Ie]=Je[Ie][0],ne.FileIndex[Ie]=Je[Ie][1];for(Ie=0;Ie<Je.length;++Ie){var wt=ne.FileIndex[Ie],Pt=ne.FullPaths[Ie];if(wt.name=a(Pt).replace("/",""),wt.L=wt.R=wt.C=-(wt.color=1),wt.size=wt.content?wt.content.length:0,wt.start=0,wt.clsid=wt.clsid||te,Ie===0)wt.C=Je.length>1?1:-1,wt.size=0,wt.type=5;else if(Pt.slice(-1)=="/"){for(et=Ie+1;et<Je.length&&n(ne.FullPaths[et])!=Pt;++et);for(wt.C=et>=Je.length?-1:et,et=Ie+1;et<Je.length&&n(ne.FullPaths[et])!=n(Pt);++et);wt.R=et>=Je.length?-1:et,wt.type=1}else n(ne.FullPaths[Ie+1]||"")==n(Pt)&&(wt.R=Ie+1),wt.type=2}}}function F(ne,ge){var ve=ge||{};if(ve.fileType=="mad")return At(ne,ve);if(M(ne),ve.fileType==="zip")return nn(ne,ve);var ke=(function(It){for(var Lt=0,Dt=0,kr=0;kr<It.FileIndex.length;++kr){var Dr=It.FileIndex[kr];if(Dr.content){var an=Dr.content.length;an>0&&(an<4096?Lt+=an+63>>6:Dt+=an+511>>9)}}for(var Nn=It.FullPaths.length+3>>2,va=Lt+7>>3,Ba=Lt+127>>7,pa=va+Dt+Nn+Ba,_n=pa+127>>7,Ta=_n<=109?0:Math.ceil((_n-109)/127);pa+_n+Ta+127>>7>_n;)Ta=++_n<=109?0:Math.ceil((_n-109)/127);var gn=[1,Ta,_n,Ba,Nn,Dt,Lt,0];return It.FileIndex[0].size=Lt<<6,gn[7]=(It.FileIndex[0].start=gn[0]+gn[1]+gn[2]+gn[3]+gn[4]+gn[5])+(gn[6]+7>>3),gn})(ne),Ie=_t(ke[7]<<9),Te=0,ze=0;{for(Te=0;Te<8;++Te)Ie.write_shift(1,Q[Te]);for(Te=0;Te<8;++Te)Ie.write_shift(2,0);for(Ie.write_shift(2,62),Ie.write_shift(2,3),Ie.write_shift(2,65534),Ie.write_shift(2,9),Ie.write_shift(2,6),Te=0;Te<3;++Te)Ie.write_shift(2,0);for(Ie.write_shift(4,0),Ie.write_shift(4,ke[2]),Ie.write_shift(4,ke[0]+ke[1]+ke[2]+ke[3]-1),Ie.write_shift(4,0),Ie.write_shift(4,4096),Ie.write_shift(4,ke[3]?ke[0]+ke[1]+ke[2]-1:I),Ie.write_shift(4,ke[3]),Ie.write_shift(-4,ke[1]?ke[0]-1:I),Ie.write_shift(4,ke[1]),Te=0;Te<109;++Te)Ie.write_shift(-4,Te<ke[2]?ke[1]+Te:-1)}if(ke[1])for(ze=0;ze<ke[1];++ze){for(;Te<236+ze*127;++Te)Ie.write_shift(-4,Te<ke[2]?ke[1]+Te:-1);Ie.write_shift(-4,ze===ke[1]-1?I:ze+1)}var et=function(It){for(ze+=It;Te<ze-1;++Te)Ie.write_shift(-4,Te+1);It&&(++Te,Ie.write_shift(-4,I))};for(ze=Te=0,ze+=ke[1];Te<ze;++Te)Ie.write_shift(-4,J.DIFSECT);for(ze+=ke[2];Te<ze;++Te)Ie.write_shift(-4,J.FATSECT);et(ke[3]),et(ke[4]);for(var Ge=0,Je=0,at=ne.FileIndex[0];Ge<ne.FileIndex.length;++Ge)at=ne.FileIndex[Ge],at.content&&(Je=at.content.length,!(Je<4096)&&(at.start=ze,et(Je+511>>9)));for(et(ke[6]+7>>3);Ie.l&511;)Ie.write_shift(-4,J.ENDOFCHAIN);for(ze=Te=0,Ge=0;Ge<ne.FileIndex.length;++Ge)at=ne.FileIndex[Ge],at.content&&(Je=at.content.length,!(!Je||Je>=4096)&&(at.start=ze,et(Je+63>>6)));for(;Ie.l&511;)Ie.write_shift(-4,J.ENDOFCHAIN);for(Te=0;Te<ke[4]<<2;++Te){var wt=ne.FullPaths[Te];if(!wt||wt.length===0){for(Ge=0;Ge<17;++Ge)Ie.write_shift(4,0);for(Ge=0;Ge<3;++Ge)Ie.write_shift(4,-1);for(Ge=0;Ge<12;++Ge)Ie.write_shift(4,0);continue}at=ne.FileIndex[Te],Te===0&&(at.start=at.size?at.start-1:I);var Pt=Te===0&&ve.root||at.name;if(Je=2*(Pt.length+1),Ie.write_shift(64,Pt,"utf16le"),Ie.write_shift(2,Je),Ie.write_shift(1,at.type),Ie.write_shift(1,at.color),Ie.write_shift(-4,at.L),Ie.write_shift(-4,at.R),Ie.write_shift(-4,at.C),at.clsid)Ie.write_shift(16,at.clsid,"hex");else for(Ge=0;Ge<4;++Ge)Ie.write_shift(4,0);Ie.write_shift(4,at.state||0),Ie.write_shift(4,0),Ie.write_shift(4,0),Ie.write_shift(4,0),Ie.write_shift(4,0),Ie.write_shift(4,at.start),Ie.write_shift(4,at.size),Ie.write_shift(4,0)}for(Te=1;Te<ne.FileIndex.length;++Te)if(at=ne.FileIndex[Te],at.size>=4096)if(Ie.l=at.start+1<<9,xn&&Buffer.isBuffer(at.content))at.content.copy(Ie,Ie.l,0,at.size),Ie.l+=at.size+511&-512;else{for(Ge=0;Ge<at.size;++Ge)Ie.write_shift(1,at.content[Ge]);for(;Ge&511;++Ge)Ie.write_shift(1,0)}for(Te=1;Te<ne.FileIndex.length;++Te)if(at=ne.FileIndex[Te],at.size>0&&at.size<4096)if(xn&&Buffer.isBuffer(at.content))at.content.copy(Ie,Ie.l,0,at.size),Ie.l+=at.size+63&-64;else{for(Ge=0;Ge<at.size;++Ge)Ie.write_shift(1,at.content[Ge]);for(;Ge&63;++Ge)Ie.write_shift(1,0)}if(xn)Ie.l=Ie.length;else for(;Ie.l<Ie.length;)Ie.write_shift(1,0);return Ie}function E(ne,ge){var ve=ne.FullPaths.map(function(Ge){return Ge.toUpperCase()}),ke=ve.map(function(Ge){var Je=Ge.split("/");return Je[Je.length-(Ge.slice(-1)=="/"?2:1)]}),Ie=!1;ge.charCodeAt(0)===47?(Ie=!0,ge=ve[0].slice(0,-1)+ge):Ie=ge.indexOf("/")!==-1;var Te=ge.toUpperCase(),ze=Ie===!0?ve.indexOf(Te):ke.indexOf(Te);if(ze!==-1)return ne.FileIndex[ze];var et=!Te.match(Jp);for(Te=Te.replace(to,""),et&&(Te=Te.replace(Jp,"!")),ze=0;ze<ve.length;++ze)if((et?ve[ze].replace(Jp,"!"):ve[ze]).replace(to,"")==Te||(et?ke[ze].replace(Jp,"!"):ke[ze]).replace(to,"")==Te)return ne.FileIndex[ze];return null}var T=64,I=-2,z="d0cf11e0a1b11ae1",Q=[208,207,17,224,161,177,26,225],te="00000000000000000000000000000000",J={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:I,FREESECT:-1,HEADER_SIGNATURE:z,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:te,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ie(ne,ge,ve){u();var ke=F(ne,ve);c.writeFileSync(ge,ke)}function X(ne){for(var ge=new Array(ne.length),ve=0;ve<ne.length;++ve)ge[ve]=String.fromCharCode(ne[ve]);return ge.join("")}function Z(ne,ge){var ve=F(ne,ge);switch(ge&&ge.type||"buffer"){case"file":return u(),c.writeFileSync(ge.filename,ve),ve;case"binary":return typeof ve=="string"?ve:X(ve);case"base64":return nx(typeof ve=="string"?ve:X(ve));case"buffer":if(xn)return Buffer.isBuffer(ve)?ve:Ku(ve);case"array":return typeof ve=="string"?Fo(ve):ve}return ve}var q;function C(ne){try{var ge=ne.InflateRaw,ve=new ge;if(ve._processChunk(new Uint8Array([3,0]),ve._finishFlushFlag),ve.bytesRead)q=ne;else throw new Error("zlib does not expose bytesRead")}catch(ke){console.error("cannot use native zlib: "+(ke.message||ke))}}function U(ne,ge){if(!q)return $t(ne,ge);var ve=q.InflateRaw,ke=new ve,Ie=ke._processChunk(ne.slice(ne.l),ke._finishFlushFlag);return ne.l+=ke.bytesRead,Ie}function W(ne){return q?q.deflateRawSync(ne):st(ne)}var B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],K=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],re=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function fe(ne){var ge=(ne<<1|ne<<11)&139536|(ne<<5|ne<<15)&558144;return(ge>>16|ge>>8|ge)&255}for(var ce=typeof Uint8Array<"u",he=ce?new Uint8Array(256):[],Oe=0;Oe<256;++Oe)he[Oe]=fe(Oe);function ee(ne,ge){var ve=he[ne&255];return ge<=8?ve>>>8-ge:(ve=ve<<8|he[ne>>8&255],ge<=16?ve>>>16-ge:(ve=ve<<8|he[ne>>16&255],ve>>>24-ge))}function De(ne,ge){var ve=ge&7,ke=ge>>>3;return(ne[ke]|(ve<=6?0:ne[ke+1]<<8))>>>ve&3}function je(ne,ge){var ve=ge&7,ke=ge>>>3;return(ne[ke]|(ve<=5?0:ne[ke+1]<<8))>>>ve&7}function oe(ne,ge){var ve=ge&7,ke=ge>>>3;return(ne[ke]|(ve<=4?0:ne[ke+1]<<8))>>>ve&15}function ue(ne,ge){var ve=ge&7,ke=ge>>>3;return(ne[ke]|(ve<=3?0:ne[ke+1]<<8))>>>ve&31}function _e(ne,ge){var ve=ge&7,ke=ge>>>3;return(ne[ke]|(ve<=1?0:ne[ke+1]<<8))>>>ve&127}function Se(ne,ge,ve){var ke=ge&7,Ie=ge>>>3,Te=(1<<ve)-1,ze=ne[Ie]>>>ke;return ve<8-ke||(ze|=ne[Ie+1]<<8-ke,ve<16-ke)||(ze|=ne[Ie+2]<<16-ke,ve<24-ke)||(ze|=ne[Ie+3]<<24-ke),ze&Te}function Pe(ne,ge,ve){var ke=ge&7,Ie=ge>>>3;return ke<=5?ne[Ie]|=(ve&7)<<ke:(ne[Ie]|=ve<<ke&255,ne[Ie+1]=(ve&7)>>8-ke),ge+3}function pe(ne,ge,ve){var ke=ge&7,Ie=ge>>>3;return ve=(ve&1)<<ke,ne[Ie]|=ve,ge+1}function ae(ne,ge,ve){var ke=ge&7,Ie=ge>>>3;return ve<<=ke,ne[Ie]|=ve&255,ve>>>=8,ne[Ie+1]=ve,ge+8}function ye(ne,ge,ve){var ke=ge&7,Ie=ge>>>3;return ve<<=ke,ne[Ie]|=ve&255,ve>>>=8,ne[Ie+1]=ve&255,ne[Ie+2]=ve>>>8,ge+16}function Be(ne,ge){var ve=ne.length,ke=2*ve>ge?2*ve:ge+5,Ie=0;if(ve>=ge)return ne;if(xn){var Te=AP(ke);if(ne.copy)ne.copy(Te);else for(;Ie<ne.length;++Ie)Te[Ie]=ne[Ie];return Te}else if(ce){var ze=new Uint8Array(ke);if(ze.set)ze.set(ne);else for(;Ie<ve;++Ie)ze[Ie]=ne[Ie];return ze}return ne.length=ke,ne}function $e(ne){for(var ge=new Array(ne),ve=0;ve<ne;++ve)ge[ve]=0;return ge}function rt(ne,ge,ve){var ke=1,Ie=0,Te=0,ze=0,et=0,Ge=ne.length,Je=ce?new Uint16Array(32):$e(32);for(Te=0;Te<32;++Te)Je[Te]=0;for(Te=Ge;Te<ve;++Te)ne[Te]=0;Ge=ne.length;var at=ce?new Uint16Array(Ge):$e(Ge);for(Te=0;Te<Ge;++Te)Je[Ie=ne[Te]]++,ke<Ie&&(ke=Ie),at[Te]=0;for(Je[0]=0,Te=1;Te<=ke;++Te)Je[Te+16]=et=et+Je[Te-1]<<1;for(Te=0;Te<Ge;++Te)et=ne[Te],et!=0&&(at[Te]=Je[et+16]++);var wt=0;for(Te=0;Te<Ge;++Te)if(wt=ne[Te],wt!=0)for(et=ee(at[Te],ke)>>ke-wt,ze=(1<<ke+4-wt)-1;ze>=0;--ze)ge[et|ze<<wt]=wt&15|Te<<4;return ke}var ft=ce?new Uint16Array(512):$e(512),Nt=ce?new Uint16Array(32):$e(32);if(!ce){for(var Ue=0;Ue<512;++Ue)ft[Ue]=0;for(Ue=0;Ue<32;++Ue)Nt[Ue]=0}(function(){for(var ne=[],ge=0;ge<32;ge++)ne.push(5);rt(ne,Nt,32);var ve=[];for(ge=0;ge<=143;ge++)ve.push(8);for(;ge<=255;ge++)ve.push(9);for(;ge<=279;ge++)ve.push(7);for(;ge<=287;ge++)ve.push(8);rt(ve,ft,288)})();var dt=(function(){for(var ge=ce?new Uint8Array(32768):[],ve=0,ke=0;ve<re.length-1;++ve)for(;ke<re[ve+1];++ke)ge[ke]=ve;for(;ke<32768;++ke)ge[ke]=29;var Ie=ce?new Uint8Array(259):[];for(ve=0,ke=0;ve<K.length-1;++ve)for(;ke<K[ve+1];++ke)Ie[ke]=ve;function Te(et,Ge){for(var Je=0;Je<et.length;){var at=Math.min(65535,et.length-Je),wt=Je+at==et.length;for(Ge.write_shift(1,+wt),Ge.write_shift(2,at),Ge.write_shift(2,~at&65535);at-- >0;)Ge[Ge.l++]=et[Je++]}return Ge.l}function ze(et,Ge){for(var Je=0,at=0,wt=ce?new Uint16Array(32768):[];at<et.length;){var Pt=Math.min(65535,et.length-at);if(Pt<10){for(Je=Pe(Ge,Je,+(at+Pt==et.length)),Je&7&&(Je+=8-(Je&7)),Ge.l=Je/8|0,Ge.write_shift(2,Pt),Ge.write_shift(2,~Pt&65535);Pt-- >0;)Ge[Ge.l++]=et[at++];Je=Ge.l*8;continue}Je=Pe(Ge,Je,+(at+Pt==et.length)+2);for(var It=0;Pt-- >0;){var Lt=et[at];It=(It<<5^Lt)&32767;var Dt=-1,kr=0;if((Dt=wt[It])&&(Dt|=at&-32768,Dt>at&&(Dt-=32768),Dt<at))for(;et[Dt+kr]==et[at+kr]&&kr<250;)++kr;if(kr>2){Lt=Ie[kr],Lt<=22?Je=ae(Ge,Je,he[Lt+1]>>1)-1:(ae(Ge,Je,3),Je+=5,ae(Ge,Je,he[Lt-23]>>5),Je+=3);var Dr=Lt<8?0:Lt-4>>2;Dr>0&&(ye(Ge,Je,kr-K[Lt]),Je+=Dr),Lt=ge[at-Dt],Je=ae(Ge,Je,he[Lt]>>3),Je-=3;var an=Lt<4?0:Lt-2>>1;an>0&&(ye(Ge,Je,at-Dt-re[Lt]),Je+=an);for(var Nn=0;Nn<kr;++Nn)wt[It]=at&32767,It=(It<<5^et[at])&32767,++at;Pt-=kr-1}else Lt<=143?Lt=Lt+48:Je=pe(Ge,Je,1),Je=ae(Ge,Je,he[Lt]),wt[It]=at&32767,++at}Je=ae(Ge,Je,0)-1}return Ge.l=(Je+7)/8|0,Ge.l}return function(Ge,Je){return Ge.length<8?Te(Ge,Je):ze(Ge,Je)}})();function st(ne){var ge=_t(50+Math.floor(ne.length*1.1)),ve=dt(ne,ge);return ge.slice(0,ve)}var it=ce?new Uint16Array(32768):$e(32768),Re=ce?new Uint16Array(32768):$e(32768),vt=ce?new Uint16Array(128):$e(128),nt=1,Rt=1;function er(ne,ge){var ve=ue(ne,ge)+257;ge+=5;var ke=ue(ne,ge)+1;ge+=5;var Ie=oe(ne,ge)+4;ge+=4;for(var Te=0,ze=ce?new Uint8Array(19):$e(19),et=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ge=1,Je=ce?new Uint8Array(8):$e(8),at=ce?new Uint8Array(8):$e(8),wt=ze.length,Pt=0;Pt<Ie;++Pt)ze[B[Pt]]=Te=je(ne,ge),Ge<Te&&(Ge=Te),Je[Te]++,ge+=3;var It=0;for(Je[0]=0,Pt=1;Pt<=Ge;++Pt)at[Pt]=It=It+Je[Pt-1]<<1;for(Pt=0;Pt<wt;++Pt)(It=ze[Pt])!=0&&(et[Pt]=at[It]++);var Lt=0;for(Pt=0;Pt<wt;++Pt)if(Lt=ze[Pt],Lt!=0){It=he[et[Pt]]>>8-Lt;for(var Dt=(1<<7-Lt)-1;Dt>=0;--Dt)vt[It|Dt<<Lt]=Lt&7|Pt<<3}var kr=[];for(Ge=1;kr.length<ve+ke;)switch(It=vt[_e(ne,ge)],ge+=It&7,It>>>=3){case 16:for(Te=3+De(ne,ge),ge+=2,It=kr[kr.length-1];Te-- >0;)kr.push(It);break;case 17:for(Te=3+je(ne,ge),ge+=3;Te-- >0;)kr.push(0);break;case 18:for(Te=11+_e(ne,ge),ge+=7;Te-- >0;)kr.push(0);break;default:kr.push(It),Ge<It&&(Ge=It);break}var Dr=kr.slice(0,ve),an=kr.slice(ve);for(Pt=ve;Pt<286;++Pt)Dr[Pt]=0;for(Pt=ke;Pt<30;++Pt)an[Pt]=0;return nt=rt(Dr,it,286),Rt=rt(an,Re,30),ge}function ar(ne,ge){if(ne[0]==3&&!(ne[1]&3))return[Xd(ge),2];for(var ve=0,ke=0,Ie=AP(ge||1<<18),Te=0,ze=Ie.length>>>0,et=0,Ge=0;(ke&1)==0;){if(ke=je(ne,ve),ve+=3,ke>>>1)ke>>1==1?(et=9,Ge=5):(ve=er(ne,ve),et=nt,Ge=Rt);else{ve&7&&(ve+=8-(ve&7));var Je=ne[ve>>>3]|ne[(ve>>>3)+1]<<8;if(ve+=32,Je>0)for(!ge&&ze<Te+Je&&(Ie=Be(Ie,Te+Je),ze=Ie.length);Je-- >0;)Ie[Te++]=ne[ve>>>3],ve+=8;continue}for(;;){!ge&&ze<Te+32767&&(Ie=Be(Ie,Te+32767),ze=Ie.length);var at=Se(ne,ve,et),wt=ke>>>1==1?ft[at]:it[at];if(ve+=wt&15,wt>>>=4,(wt>>>8&255)===0)Ie[Te++]=wt;else{if(wt==256)break;wt-=257;var Pt=wt<8?0:wt-4>>2;Pt>5&&(Pt=0);var It=Te+K[wt];Pt>0&&(It+=Se(ne,ve,Pt),ve+=Pt),at=Se(ne,ve,Ge),wt=ke>>>1==1?Nt[at]:Re[at],ve+=wt&15,wt>>>=4;var Lt=wt<4?0:wt-2>>1,Dt=re[wt];for(Lt>0&&(Dt+=Se(ne,ve,Lt),ve+=Lt),!ge&&ze<It&&(Ie=Be(Ie,It+100),ze=Ie.length);Te<It;)Ie[Te]=Ie[Te-Dt],++Te}}}return ge?[Ie,ve+7>>>3]:[Ie.slice(0,Te),ve+7>>>3]}function $t(ne,ge){var ve=ne.slice(ne.l||0),ke=ar(ve,ge);return ne.l+=ke[1],ke[0]}function Pr(ne,ge){if(ne)typeof console<"u"&&console.error(ge);else throw new Error(ge)}function Kt(ne,ge){var ve=ne;ss(ve,0);var ke=[],Ie=[],Te={FileIndex:ke,FullPaths:Ie};A(Te,{root:ge.root});for(var ze=ve.length-4;(ve[ze]!=80||ve[ze+1]!=75||ve[ze+2]!=5||ve[ze+3]!=6)&&ze>=0;)--ze;ve.l=ze+4,ve.l+=4;var et=ve.read_shift(2);ve.l+=6;var Ge=ve.read_shift(4);for(ve.l=Ge,ze=0;ze<et;++ze){ve.l+=20;var Je=ve.read_shift(4),at=ve.read_shift(4),wt=ve.read_shift(2),Pt=ve.read_shift(2),It=ve.read_shift(2);ve.l+=8;var Lt=ve.read_shift(4),Dt=l(ve.slice(ve.l+wt,ve.l+wt+Pt));ve.l+=wt+Pt+It;var kr=ve.l;ve.l=Lt+4,Er(ve,Je,at,Te,Dt),ve.l=kr}return Te}function Er(ne,ge,ve,ke,Ie){ne.l+=2;var Te=ne.read_shift(2),ze=ne.read_shift(2),et=o(ne);if(Te&8257)throw new Error("Unsupported ZIP encryption");for(var Ge=ne.read_shift(4),Je=ne.read_shift(4),at=ne.read_shift(4),wt=ne.read_shift(2),Pt=ne.read_shift(2),It="",Lt=0;Lt<wt;++Lt)It+=String.fromCharCode(ne[ne.l++]);if(Pt){var Dt=l(ne.slice(ne.l,ne.l+Pt));(Dt[21589]||{}).mt&&(et=Dt[21589].mt),((Ie||{})[21589]||{}).mt&&(et=Ie[21589].mt)}ne.l+=Pt;var kr=ne.slice(ne.l,ne.l+Je);switch(ze){case 8:kr=U(ne,at);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ze)}var Dr=!1;Te&8&&(Ge=ne.read_shift(4),Ge==134695760&&(Ge=ne.read_shift(4),Dr=!0),Je=ne.read_shift(4),at=ne.read_shift(4)),Je!=ge&&Pr(Dr,"Bad compressed size: "+ge+" != "+Je),at!=ve&&Pr(Dr,"Bad uncompressed size: "+ve+" != "+at),vr(ke,It,kr,{unsafe:!0,mt:et})}function nn(ne,ge){var ve=ge||{},ke=[],Ie=[],Te=_t(1),ze=ve.compression?8:0,et=0,Ge=0,Je=0,at=0,wt=0,Pt=ne.FullPaths[0],It=Pt,Lt=ne.FileIndex[0],Dt=[],kr=0;for(Ge=1;Ge<ne.FullPaths.length;++Ge)if(It=ne.FullPaths[Ge].slice(Pt.length),Lt=ne.FileIndex[Ge],!(!Lt.size||!Lt.content||It=="Sh33tJ5")){var Dr=at,an=_t(It.length);for(Je=0;Je<It.length;++Je)an.write_shift(1,It.charCodeAt(Je)&127);an=an.slice(0,an.l),Dt[wt]=Mae.buf(Lt.content,0);var Nn=Lt.content;ze==8&&(Nn=W(Nn)),Te=_t(30),Te.write_shift(4,67324752),Te.write_shift(2,20),Te.write_shift(2,et),Te.write_shift(2,ze),Lt.mt?s(Te,Lt.mt):Te.write_shift(4,0),Te.write_shift(-4,Dt[wt]),Te.write_shift(4,Nn.length),Te.write_shift(4,Lt.content.length),Te.write_shift(2,an.length),Te.write_shift(2,0),at+=Te.length,ke.push(Te),at+=an.length,ke.push(an),at+=Nn.length,ke.push(Nn),Te=_t(46),Te.write_shift(4,33639248),Te.write_shift(2,0),Te.write_shift(2,20),Te.write_shift(2,et),Te.write_shift(2,ze),Te.write_shift(4,0),Te.write_shift(-4,Dt[wt]),Te.write_shift(4,Nn.length),Te.write_shift(4,Lt.content.length),Te.write_shift(2,an.length),Te.write_shift(2,0),Te.write_shift(2,0),Te.write_shift(2,0),Te.write_shift(2,0),Te.write_shift(4,0),Te.write_shift(4,Dr),kr+=Te.l,Ie.push(Te),kr+=an.length,Ie.push(an),++wt}return Te=_t(22),Te.write_shift(4,101010256),Te.write_shift(2,0),Te.write_shift(2,0),Te.write_shift(2,wt),Te.write_shift(2,wt),Te.write_shift(4,kr),Te.write_shift(4,at),Te.write_shift(2,0),$i([$i(ke),$i(Ie),Te])}var fr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function or(ne,ge){if(ne.ctype)return ne.ctype;var ve=ne.name||"",ke=ve.match(/\.([^\.]+)$/);return ke&&fr[ke[1]]||ge&&(ke=(ve=ge).match(/[\.\\]([^\.\\])+$/),ke&&fr[ke[1]])?fr[ke[1]]:"application/octet-stream"}function Tr(ne){for(var ge=nx(ne),ve=[],ke=0;ke<ge.length;ke+=76)ve.push(ge.slice(ke,ke+76));return ve.join(`\r
`)+`\r
`}function fn(ne){var ge=ne.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Je){var at=Je.charCodeAt(0).toString(16).toUpperCase();return"="+(at.length==1?"0"+at:at)});ge=ge.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ge.charAt(0)==`
`&&(ge="=0D"+ge.slice(1)),ge=ge.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ve=[],ke=ge.split(`\r
`),Ie=0;Ie<ke.length;++Ie){var Te=ke[Ie];if(Te.length==0){ve.push("");continue}for(var ze=0;ze<Te.length;){var et=76,Ge=Te.slice(ze,ze+et);Ge.charAt(et-1)=="="?et--:Ge.charAt(et-2)=="="?et-=2:Ge.charAt(et-3)=="="&&(et-=3),Ge=Te.slice(ze,ze+et),ze+=et,ze<Te.length&&(Ge+="="),ve.push(Ge)}}return ve.join(`\r
`)}function sn(ne){for(var ge=[],ve=0;ve<ne.length;++ve){for(var ke=ne[ve];ve<=ne.length&&ke.charAt(ke.length-1)=="=";)ke=ke.slice(0,ke.length-1)+ne[++ve];ge.push(ke)}for(var Ie=0;Ie<ge.length;++Ie)ge[Ie]=ge[Ie].replace(/[=][0-9A-Fa-f]{2}/g,function(Te){return String.fromCharCode(parseInt(Te.slice(1),16))});return Fo(ge.join(`\r
`))}function We(ne,ge,ve){for(var ke="",Ie="",Te="",ze,et=0;et<10;++et){var Ge=ge[et];if(!Ge||Ge.match(/^\s*$/))break;var Je=Ge.match(/^(.*?):\s*([^\s].*)$/);if(Je)switch(Je[1].toLowerCase()){case"content-location":ke=Je[2].trim();break;case"content-type":Te=Je[2].trim();break;case"content-transfer-encoding":Ie=Je[2].trim();break}}switch(++et,Ie.toLowerCase()){case"base64":ze=Fo(Uo(ge.slice(et).join("")));break;case"quoted-printable":ze=sn(ge.slice(et));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Ie)}var at=vr(ne,ke.slice(ve.length),ze,{unsafe:!0});Te&&(at.ctype=Te)}function Ct(ne,ge){if(X(ne.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ve=ge&&ge.root||"",ke=(xn&&Buffer.isBuffer(ne)?ne.toString("binary"):X(ne)).split(`\r
`),Ie=0,Te="";for(Ie=0;Ie<ke.length;++Ie)if(Te=ke[Ie],!!/^Content-Location:/i.test(Te)&&(Te=Te.slice(Te.indexOf("file")),ve||(ve=Te.slice(0,Te.lastIndexOf("/")+1)),Te.slice(0,ve.length)!=ve))for(;ve.length>0&&(ve=ve.slice(0,ve.length-1),ve=ve.slice(0,ve.lastIndexOf("/")+1),Te.slice(0,ve.length)!=ve););var ze=(ke[1]||"").match(/boundary="(.*?)"/);if(!ze)throw new Error("MAD cannot find boundary");var et="--"+(ze[1]||""),Ge=[],Je=[],at={FileIndex:Ge,FullPaths:Je};A(at);var wt,Pt=0;for(Ie=0;Ie<ke.length;++Ie){var It=ke[Ie];It!==et&&It!==et+"--"||(Pt++&&We(at,ke.slice(wt,Ie),ve),wt=Ie)}return at}function At(ne,ge){var ve=ge||{},ke=ve.boundary||"SheetJS";ke="------="+ke;for(var Ie=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ke.slice(2)+'"',"","",""],Te=ne.FullPaths[0],ze=Te,et=ne.FileIndex[0],Ge=1;Ge<ne.FullPaths.length;++Ge)if(ze=ne.FullPaths[Ge].slice(Te.length),et=ne.FileIndex[Ge],!(!et.size||!et.content||ze=="Sh33tJ5")){ze=ze.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(kr){return"_x"+kr.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(kr){return"_u"+kr.charCodeAt(0).toString(16)+"_"});for(var Je=et.content,at=xn&&Buffer.isBuffer(Je)?Je.toString("binary"):X(Je),wt=0,Pt=Math.min(1024,at.length),It=0,Lt=0;Lt<=Pt;++Lt)(It=at.charCodeAt(Lt))>=32&&It<128&&++wt;var Dt=wt>=Pt*4/5;Ie.push(ke),Ie.push("Content-Location: "+(ve.root||"file:///C:/SheetJS/")+ze),Ie.push("Content-Transfer-Encoding: "+(Dt?"quoted-printable":"base64")),Ie.push("Content-Type: "+or(et,ze)),Ie.push(""),Ie.push(Dt?fn(at):Tr(at))}return Ie.push(ke+`--\r
`),Ie.join(`\r
`)}function ir(ne){var ge={};return A(ge,ne),ge}function vr(ne,ge,ve,ke){var Ie=ke&&ke.unsafe;Ie||A(ne);var Te=!Ie&&Rr.find(ne,ge);if(!Te){var ze=ne.FullPaths[0];ge.slice(0,ze.length)==ze?ze=ge:(ze.slice(-1)!="/"&&(ze+="/"),ze=(ze+ge).replace("//","/")),Te={name:a(ge),type:2},ne.FileIndex.push(Te),ne.FullPaths.push(ze),Ie||Rr.utils.cfb_gc(ne)}return Te.content=ve,Te.size=ve?ve.length:0,ke&&(ke.CLSID&&(Te.clsid=ke.CLSID),ke.mt&&(Te.mt=ke.mt),ke.ct&&(Te.ct=ke.ct)),Te}function Wr(ne,ge){A(ne);var ve=Rr.find(ne,ge);if(ve){for(var ke=0;ke<ne.FileIndex.length;++ke)if(ne.FileIndex[ke]==ve)return ne.FileIndex.splice(ke,1),ne.FullPaths.splice(ke,1),!0}return!1}function Br(ne,ge,ve){A(ne);var ke=Rr.find(ne,ge);if(ke){for(var Ie=0;Ie<ne.FileIndex.length;++Ie)if(ne.FileIndex[Ie]==ke)return ne.FileIndex[Ie].name=a(ve),ne.FullPaths[Ie]=ve,!0}return!1}function Hr(ne){M(ne,!0)}return t.find=E,t.read=P,t.parse=d,t.write=Z,t.writeFile=ie,t.utils={cfb_new:ir,cfb_add:vr,cfb_del:Wr,cfb_mov:Br,cfb_gc:Hr,ReadShift:om,CheckField:E7,prep_blob:ss,bconcat:$i,use_zlib:C,_deflateRaw:st,_inflateRaw:$t,consts:J},t})();function Rae(e){return typeof e=="string"?xy(e):Array.isArray(e)?uae(e):e}function Ex(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=xy(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?Uc(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([Rae(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=s,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=lf(t)),l.write(t),l.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function Bae(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function Ya(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function LP(e,t){for(var r=[],n=Ya(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function vy(e){for(var t=[],r=Ya(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function yy(e){for(var t=[],r=Ya(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function Uae(e){for(var t=[],r=Ya(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var w1=new Date(1899,11,30,0,0,0);function Ai(e,t){var r=e.getTime(),n=w1.getTime()+(e.getTimezoneOffset()-w1.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var o7=new Date,qae=w1.getTime()+(o7.getTimezoneOffset()-w1.getTimezoneOffset())*6e4,FP=o7.getTimezoneOffset();function by(e){var t=new Date;return t.setTime(e*24*60*60*1e3+qae),t.getTimezoneOffset()!==FP&&t.setTime(t.getTime()+(t.getTimezoneOffset()-FP)*6e4),t}function $ae(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var s=1;s!=a.length;++s)if(a[s]){switch(r=1,s>3&&(n=!0),a[s].slice(a[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[s].slice(a[s].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[s],10)}return t}var MP=new Date("2017-02-19T19:06:09.000Z"),l7=isNaN(MP.getFullYear())?new Date("2/19/17"):MP,zae=l7.getFullYear()==2017;function Sa(e,t){var r=new Date(e);if(zae)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(l7.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function u0(e,t){if(xn&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Uc(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Uc(XF(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Uc(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Uc(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function _a(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=_a(e[r]));return t}function Ga(e,t){for(var r="";r.length<t;)r+=e;return r}function dc(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,s){return r=-r,s}),!isNaN(t=Number(n)))?t/r:t}var Hae=["january","february","march","april","may","june","july","august","september","october","november","december"];function Yh(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),s=t.getDate();if(isNaN(s))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&Hae.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||s>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var Wae=(function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var s=r.split(n),o=[s[0]],l=1;l<s.length;++l)o.push(a),o.push(s[l]);return o}})();function c7(e){return e?e.content&&e.type?u0(e.content,!0):e.data?Yp(e.data):e.asNodeBuffer&&xn?Yp(e.asNodeBuffer().toString("binary")):e.asBinary?Yp(e.asBinary()):e._data&&e._data.getContent?Yp(u0(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function u7(e){if(!e)return null;if(e.data)return SP(e.data);if(e.asNodeBuffer&&xn)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?SP(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function Vae(e){return e&&e.name.slice(-4)===".bin"?u7(e):c7(e)}function ul(e,t){for(var r=e.FullPaths||Ya(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),s=0;s<r.length;++s){var o=r[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==o||a==o)return e.files?e.files[r[s]]:e.FileIndex[s]}return null}function u3(e,t){var r=ul(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function hi(e,t,r){if(!r)return Vae(u3(e,t));if(!t)return null;try{return hi(e,t)}catch{return null}}function Mo(e,t,r){if(!r)return c7(u3(e,t));if(!t)return null;try{return Mo(e,t)}catch{return null}}function Gae(e,t,r){return u7(u3(e,t))}function RP(e){for(var t=e.FullPaths||Ya(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function dn(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return xn?n=Ku(r):n=dae(r),Rr.utils.cfb_add(e,t,n)}Rr.utils.cfb_add(e,t,r)}else e.file(t,r)}function d3(){return Rr.utils.cfb_new()}function d7(e,t){switch(t.type){case"base64":return Rr.read(e,{type:"base64"});case"binary":return Rr.read(e,{type:"binary"});case"buffer":case"array":return Rr.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function Qp(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var li=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Kae=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,BP=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,Xae=/<[^>]*>/g,Ls=li.match(BP)?BP:Xae,Yae=/<\w*:/,Jae=/<(\/?)\w+:/;function Zr(e,t,r){for(var n={},a=0,s=0;a!==e.length&&!((s=e.charCodeAt(a))===32||s===10||s===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var o=e.match(Kae),l=0,c="",u=0,d="",h="",m=1;if(o)for(u=0;u!=o.length;++u){for(h=o[u],s=0;s!=h.length&&h.charCodeAt(s)!==61;++s);for(d=h.slice(0,s).trim();h.charCodeAt(s+1)==32;)++s;for(m=(a=h.charCodeAt(s+1))==34||a==39?1:0,c=h.slice(s+1+m,h.length-m),l=0;l!=d.length&&d.charCodeAt(l)!==58;++l);if(l===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=c,n[d.toLowerCase()]=c;else{var p=(l===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(l+1);if(n[p]&&d.slice(l-3,l)=="ext")continue;n[p]=c,n[p.toLowerCase()]=c}}return n}function Yc(e){return e.replace(Jae,"<$1")}var f7={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},f3=vy(f7),Mn=(function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",s=a.indexOf("<![CDATA[");if(s==-1)return a.replace(e,function(l,c){return f7[l]||String.fromCharCode(parseInt(c,l.indexOf("x")>-1?16:10))||l}).replace(t,function(l,c){return String.fromCharCode(parseInt(c,16))});var o=a.indexOf("]]>");return r(a.slice(0,s))+a.slice(s+9,o)+r(a.slice(o+3))}})(),h3=/[&<>'"]/g,Qae=/[\u0000-\u0008\u000b-\u001f]/g;function ia(e){var t=e+"";return t.replace(h3,function(r){return f3[r]}).replace(Qae,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function UP(e){return ia(e).replace(/ /g,"_x0020_")}var h7=/[\u0000-\u001f]/g;function p3(e){var t=e+"";return t.replace(h3,function(r){return f3[r]}).replace(/\n/g,"<br/>").replace(h7,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function Zae(e){var t=e+"";return t.replace(h3,function(r){return f3[r]}).replace(h7,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var qP=(function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}})();function eie(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function ja(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function jN(e){for(var t="",r=0,n=0,a=0,s=0,o=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(s=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|s&63);continue}o=e.charCodeAt(r++),l=((n&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function $P(e){var t=Xd(2*e.length),r,n,a=1,s=0,o=0,l;for(n=0;n<e.length;n+=a)a=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[s++]=o&255,t[s++]=o>>>8,o=0),t[s++]=r%256,t[s++]=r>>>8;return t.slice(0,s).toString("ucs2")}function zP(e){return Ku(e,"binary").toString("utf8")}var Ug="foo bar baz",ca=xn&&(zP(Ug)==jN(Ug)&&zP||$P(Ug)==jN(Ug)&&$P)||jN,Uc=xn?function(e){return Ku(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},ix=(function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}})(),p7=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}})(),tie=(function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}})(),rie=/<\/?(?:vt:)?variant>/g,nie=/<(?:vt:)([^>]*)>([\s\S]*)</;function HP(e,t){var r=Zr(e),n=e.match(tie(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(s){var o=s.replace(rie,"").match(nie);o&&a.push({v:ca(o[2]),t:o[1]})}),a}var m7=/(^\s|\s$|\n)/;function os(e,t){return"<"+e+(t.match(m7)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function sx(e){return Ya(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function tr(e,t,r){return"<"+e+(r!=null?sx(r):"")+(t!=null?(t.match(m7)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function Nj(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function aie(e,t){switch(typeof e){case"string":var r=tr("vt:lpwstr",ia(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return tr((e|0)==e?"vt:i4":"vt:r8",ia(String(e)));case"boolean":return tr("vt:bool",e?"true":"false")}if(e instanceof Date)return tr("vt:filetime",Nj(e));throw new Error("Unable to serialize "+e)}function m3(e){if(xn&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return ca(lf(o3(e)));throw new Error("Bad input format: expected Buffer or string")}var ox=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Si={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},b0=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Io={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function iie(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,s=5;s>=0;--s)a=a*256+e[t+s];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function sie(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,s=0,o=n?-t:t;isFinite(o)?o==0?a=s=0:(a=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?a=-1022:(s-=Math.pow(2,52),a+=1023)):(a=2047,s=isNaN(t)?26985:0);for(var l=0;l<=5;++l,s/=256)e[r+l]=s&255;e[r+6]=(a&15)<<4|s&15,e[r+7]=a>>4|n}var WP=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,s=e[0][n].length;a<s;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},VP=xn?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Ku(t)})):WP(e)}:WP,GP=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(Eu(e,a)));return n.join("").replace(to,"")},x3=xn?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(to,""):GP(e,t,r)}:GP,KP=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},x7=xn?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):KP(e,t,r)}:KP,XP=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(rh(e,a)));return n.join("")},Cx=xn?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):XP(t,r,n)}:XP,g7=function(e,t){var r=Do(e,t);return r>0?Cx(e,t+4,t+4+r-1):""},v7=g7,y7=function(e,t){var r=Do(e,t);return r>0?Cx(e,t+4,t+4+r-1):""},b7=y7,w7=function(e,t){var r=2*Do(e,t);return r>0?Cx(e,t+4,t+4+r-1):""},N7=w7,j7=function(t,r){var n=Do(t,r);return n>0?x3(t,r+4,r+4+n):""},k7=j7,S7=function(e,t){var r=Do(e,t);return r>0?Cx(e,t+4,t+4+r):""},_7=S7,A7=function(e,t){return iie(e,t)},N1=A7,g3=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};xn&&(v7=function(t,r){if(!Buffer.isBuffer(t))return g7(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},b7=function(t,r){if(!Buffer.isBuffer(t))return y7(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},N7=function(t,r){if(!Buffer.isBuffer(t))return w7(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},k7=function(t,r){if(!Buffer.isBuffer(t))return j7(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},_7=function(t,r){if(!Buffer.isBuffer(t))return S7(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},N1=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):A7(t,r)},g3=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var rh=function(e,t){return e[t]},Eu=function(e,t){return e[t+1]*256+e[t]},oie=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Do=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Rf=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},lie=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function om(e,t){var r="",n,a,s=[],o,l,c,u;switch(t){case"dbcs":if(u=this.l,xn&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(Eu(this,u)),u+=2;e*=2;break;case"utf8":r=Cx(this,this.l,this.l+e);break;case"utf16le":e*=2,r=x3(this,this.l,this.l+e);break;case"wstr":return om.call(this,e,"dbcs");case"lpstr-ansi":r=v7(this,this.l),e=4+Do(this,this.l);break;case"lpstr-cp":r=b7(this,this.l),e=4+Do(this,this.l);break;case"lpwstr":r=N7(this,this.l),e=4+2*Do(this,this.l);break;case"lpp4":e=4+Do(this,this.l),r=k7(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Do(this,this.l),r=_7(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=rh(this,this.l+e++))!==0;)s.push(Bg(o));r=s.join("");break;case"_wstr":for(e=0,r="";(o=Eu(this,this.l+e))!==0;)s.push(Bg(o)),e+=2;e+=2,r=s.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=rh(this,u),this.l=u+1,l=om.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(Bg(Eu(this,u))),u+=2}r=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=rh(this,u),this.l=u+1,l=om.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(Bg(rh(this,u))),u+=1}r=s.join("");break;default:switch(e){case 1:return n=rh(this,this.l),this.l++,n;case 2:return n=(t==="i"?oie:Eu)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(n=(e>0?Rf:lie)(this,this.l),this.l+=4,n):(a=Do(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=N1(this,this.l):a=N1([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=x7(this,this.l,e);break}}return this.l+=e,r}var cie=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},uie=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},die=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function fie(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)die(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,cie(this,t,this.l);break;case 8:if(n=8,r==="f"){sie(this,t,this.l);break}case 16:break;case-4:n=4,uie(this,t,this.l);break}return this.l+=n,this}function E7(e,t){var r=x7(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function ss(e,t){e.l=t,e.read_shift=om,e.chk=E7,e.write_shift=fie}function Ds(e,t){e.l+=t}function _t(e){var t=Xd(e);return ss(t,0),t}function Xu(e,t,r){if(e){var n,a,s;ss(e,e.l||0);for(var o=e.length,l=0,c=0;e.l<o;){l=e.read_shift(1),l&128&&(l=(l&127)+((e.read_shift(1)&127)<<7));var u=hx[l]||hx[65535];for(n=e.read_shift(1),s=n&127,a=1;a<4&&n&128;++a)s+=((n=e.read_shift(1))&127)<<7*a;c=e.l+s;var d=u.f&&u.f(e,s,r);if(e.l=c,t(d,u,l))return}}}function bo(){var e=[],t=xn?256:2048,r=function(u){var d=_t(u);return ss(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},s=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},o=function(){return a(),$i(e)},l=function(u){a(),n=u,n.l==null&&(n.l=n.length),s(t)};return{next:s,push:l,end:o,_bufs:e}}function Ut(e,t,r,n){var a=+t,s;if(!isNaN(a)){n||(n=hx[a].p||(r||[]).length||0),s=1+(a>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var o=e.next(s);a<=127?o.write_shift(1,a):(o.write_shift(1,(a&127)+128),o.write_shift(1,a>>7));for(var l=0;l!=4;++l)if(n>=128)o.write_shift(1,(n&127)+128),n>>=7;else{o.write_shift(1,n);break}n>0&&g3(r)&&e.push(r)}}function lm(e,t,r){var n=_a(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function YP(e,t,r){var n=_a(e);return n.s=lm(n.s,t.s,r),n.e=lm(n.e,t.s,r),n}function cm(e,t){if(e.cRel&&e.c<0)for(e=_a(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=_a(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Yr(e);return!e.cRel&&e.cRel!=null&&(r=mie(r)),!e.rRel&&e.rRel!=null&&(r=hie(r)),r}function kN(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Ma(e.s.c)+":"+(e.e.cRel?"":"$")+Ma(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+si(e.s.r)+":"+(e.e.rRel?"":"$")+si(e.e.r):cm(e.s,t.biff)+":"+cm(e.e,t.biff)}function v3(e){return parseInt(pie(e),10)-1}function si(e){return""+(e+1)}function hie(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function pie(e){return e.replace(/\$(\d+)$/,"$1")}function y3(e){for(var t=xie(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Ma(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function mie(e){return e.replace(/^([A-Z])/,"$$$1")}function xie(e){return e.replace(/^\$([A-Z])/,"$1")}function gie(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Ra(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function Yr(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function wo(e){var t=e.indexOf(":");return t==-1?{s:Ra(e),e:Ra(e)}:{s:Ra(e.slice(0,t)),e:Ra(e.slice(t+1))}}function un(e,t){return typeof t>"u"||typeof t=="number"?un(e.s,e.e):(typeof e!="string"&&(e=Yr(e)),typeof t!="string"&&(t=Yr(t)),e==t?e:e+":"+t)}function Rn(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,s=e.length;for(r=0;n<s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===s||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function JP(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=wl(e.z,r?Ai(t):t)}catch{}try{return e.w=wl((e.XF||{}).numFmtId||(r?14:0),r?Ai(t):t)}catch{return""+t}}function $u(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Yu[e.v]||e.v:t==null?JP(e,e.v):JP(e,t))}function cf(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function C7(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,s=e||(a?[]:{}),o=0,l=0;if(s&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?Ra(n.origin):n.origin;o=c.r,l=c.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var d=Rn(s["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),o==-1&&(u.e.r=o=d.e.r+1)}for(var h=0;h!=t.length;++h)if(t[h]){if(!Array.isArray(t[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var m=0;m!=t[h].length;++m)if(!(typeof t[h][m]>"u")){var p={v:t[h][m]},y=o+h,v=l+m;if(u.s.r>y&&(u.s.r=y),u.s.c>v&&(u.s.c=v),u.e.r<y&&(u.e.r=y),u.e.c<v&&(u.e.c=v),t[h][m]&&typeof t[h][m]=="object"&&!Array.isArray(t[h][m])&&!(t[h][m]instanceof Date))p=t[h][m];else if(Array.isArray(p.v)&&(p.f=t[h][m][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||Vr[14],n.cellDates?(p.t="d",p.w=wl(p.z,Ai(p.v))):(p.t="n",p.v=Ai(p.v),p.w=wl(p.z,p.v))):p.t="s";if(a)s[y]||(s[y]=[]),s[y][v]&&s[y][v].z&&(p.z=s[y][v].z),s[y][v]=p;else{var g=Yr({c:v,r:y});s[g]&&s[g].z&&(p.z=s[g].z),s[g]=p}}}return u.s.c<1e7&&(s["!ref"]=un(u)),s}function fp(e,t){return C7(null,e,t)}function vie(e){return e.read_shift(4,"i")}function fc(e,t){return t||(t=_t(4)),t.write_shift(4,e),t}function Is(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Hi(e,t){var r=!1;return t==null&&(r=!0,t=_t(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function yie(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function bie(e,t){return t||(t=_t(4)),t.write_shift(2,0),t.write_shift(2,0),t}function b3(e,t){var r=e.l,n=e.read_shift(1),a=Is(e),s=[],o={t:a,h:a};if((n&1)!==0){for(var l=e.read_shift(4),c=0;c!=l;++c)s.push(yie(e));o.r=s}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function wie(e,t){var r=!1;return t==null&&(r=!0,t=_t(15+4*e.t.length)),t.write_shift(1,0),Hi(e.t,t),r?t.slice(0,t.l):t}var Nie=b3;function jie(e,t){var r=!1;return t==null&&(r=!0,t=_t(23+4*e.t.length)),t.write_shift(1,1),Hi(e.t,t),t.write_shift(4,1),bie({},t),r?t.slice(0,t.l):t}function jl(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function w0(e,t){return t==null&&(t=_t(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function N0(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function j0(e,t){return t==null&&(t=_t(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var kie=Is,T7=Hi;function w3(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function j1(e,t){var r=!1;return t==null&&(r=!0,t=_t(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var Sie=Is,jj=w3,N3=j1;function j3(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?N1([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Rf(t,0)>>2;return r?a/100:a}function O7(e,t){t==null&&(t=_t(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function P7(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function _ie(e,t){return t||(t=_t(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var k0=P7,hp=_ie;function Os(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function d0(e,t){return(t||_t(8)).write_shift(8,e,"f")}function Aie(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),s=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=Qf[a];u&&(t.rgb=cx(u));break;case 2:t.rgb=cx([o,l,c]);break;case 3:t.theme=a;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function k1(e,t){if(t||(t=_t(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function Eie(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function Cie(e,t){t||(t=_t(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}function I7(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function Tie(e){return I7(e,1)}function Oie(e){return I7(e,2)}var k3=2,vo=3,qg=11,QP=12,S1=19,$g=64,Pie=65,Iie=71,Die=4108,Lie=4126,Ui=80,D7=81,Fie=[Ui,D7],kj={1:{n:"CodePage",t:k3},2:{n:"Category",t:Ui},3:{n:"PresentationFormat",t:Ui},4:{n:"ByteCount",t:vo},5:{n:"LineCount",t:vo},6:{n:"ParagraphCount",t:vo},7:{n:"SlideCount",t:vo},8:{n:"NoteCount",t:vo},9:{n:"HiddenCount",t:vo},10:{n:"MultimediaClipCount",t:vo},11:{n:"ScaleCrop",t:qg},12:{n:"HeadingPairs",t:Die},13:{n:"TitlesOfParts",t:Lie},14:{n:"Manager",t:Ui},15:{n:"Company",t:Ui},16:{n:"LinksUpToDate",t:qg},17:{n:"CharacterCount",t:vo},19:{n:"SharedDoc",t:qg},22:{n:"HyperlinksChanged",t:qg},23:{n:"AppVersion",t:vo,p:"version"},24:{n:"DigSig",t:Pie},26:{n:"ContentType",t:Ui},27:{n:"ContentStatus",t:Ui},28:{n:"Language",t:Ui},29:{n:"Version",t:Ui},255:{},2147483648:{n:"Locale",t:S1},2147483651:{n:"Behavior",t:S1},1919054434:{}},Sj={1:{n:"CodePage",t:k3},2:{n:"Title",t:Ui},3:{n:"Subject",t:Ui},4:{n:"Author",t:Ui},5:{n:"Keywords",t:Ui},6:{n:"Comments",t:Ui},7:{n:"Template",t:Ui},8:{n:"LastAuthor",t:Ui},9:{n:"RevNumber",t:Ui},10:{n:"EditTime",t:$g},11:{n:"LastPrinted",t:$g},12:{n:"CreatedDate",t:$g},13:{n:"ModifiedDate",t:$g},14:{n:"PageCount",t:vo},15:{n:"WordCount",t:vo},16:{n:"CharCount",t:vo},17:{n:"Thumbnail",t:Iie},18:{n:"Application",t:Ui},19:{n:"DocSecurity",t:vo},255:{},2147483648:{n:"Locale",t:S1},2147483651:{n:"Behavior",t:S1},1919054434:{}},ZP={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},Mie=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function Rie(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Bie=Rie([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Qf=_a(Bie),Yu={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},L7={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},_j={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},zg={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function S3(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Uie(e){var t=S3();if(!e||!e.match)return t;var r={};if((e.match(Ls)||[]).forEach(function(n){var a=Zr(n);switch(a[0].replace(Yae,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[_j[a.ContentType]]!==void 0&&t[_j[a.ContentType]].push(a.PartName);break}}),t.xmlns!==Si.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}function F7(e,t){var r=Uae(_j),n=[],a;n[n.length]=li,n[n.length]=tr("Types",null,{xmlns:Si.CT,"xmlns:xsd":Si.xsd,"xmlns:xsi":Si.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return tr("Default",null,{Extension:c[0],ContentType:c[1]})}));var s=function(c){e[c]&&e[c].length>0&&(a=e[c][0],n[n.length]=tr("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:zg[c][t.bookType]||zg[c].xlsx}))},o=function(c){(e[c]||[]).forEach(function(u){n[n.length]=tr("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:zg[c][t.bookType]||zg[c].xlsx})})},l=function(c){(e[c]||[]).forEach(function(u){n[n.length]=tr("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return s("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var yn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function lx(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function um(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Ls)||[]).forEach(function(a){var s=Zr(a);if(s[0]==="<Relationship"){var o={};o.Type=s.Type,o.Target=s.Target,o.Id=s.Id,s.TargetMode&&(o.TargetMode=s.TargetMode);var l=s.TargetMode==="External"?s.Target:Qp(s.Target,t);r[l]=o,n[s.Id]=o}}),r["!id"]=n,r}function gh(e){var t=[li,tr("Relationships",null,{xmlns:Si.RELS})];return Ya(e["!id"]).forEach(function(r){t[t.length]=tr("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function aa(e,t,r,n,a,s){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[yn.HLINK,yn.XPATH,yn.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}var qie="application/vnd.oasis.opendocument.spreadsheet";function $ie(e,t){for(var r=m3(e),n,a;n=ox.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=Zr(n[0],!1),a.path=="/"&&a.type!==qie)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}function zie(e){var t=[li];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function e8(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function Hie(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function Wie(e){var t=[li];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(e8(e[r][0],e[r][1])),t.push(Hie("",e[r][0]));return t.push(e8("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function M7(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+g1.version+"</meta:generator></office:meta></office:document-meta>"}var yl=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],Vie=(function(){for(var e=new Array(yl.length),t=0;t<yl.length;++t){var r=yl[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e})();function R7(e){var t={};e=ca(e);for(var r=0;r<yl.length;++r){var n=yl[r],a=e.match(Vie[r]);a!=null&&a.length>0&&(t[n[1]]=Mn(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=Sa(t[n[1]]))}return t}function SN(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=ia(t),n[n.length]=r?tr(e,t,r):os(e,t))}function B7(e,t){var r=t||{},n=[li,tr("cp:coreProperties",null,{"xmlns:cp":Si.CORE_PROPS,"xmlns:dc":Si.dc,"xmlns:dcterms":Si.dcterms,"xmlns:dcmitype":Si.dcmitype,"xmlns:xsi":Si.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&SN("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:Nj(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&SN("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:Nj(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var s=0;s!=yl.length;++s){var o=yl[s],l=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&SN(o[0],l,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Zf=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],U7=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function q7(e,t,r,n){var a=[];if(typeof e=="string")a=HP(e,n);else for(var s=0;s<e.length;++s)a=a.concat(e[s].map(function(d){return{v:d}}));var o=typeof t=="string"?HP(t,n).map(function(d){return d.v}):t,l=0,c=0;if(o.length>0)for(var u=0;u!==a.length;u+=2){switch(c=+a[u+1].v,a[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=o.slice(l,l+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=c,r.DefinedNames=o.slice(l,l+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=o.slice(l,l+c);break}l+=c}}function Gie(e,t,r){var n={};return t||(t={}),e=ca(e),Zf.forEach(function(a){var s=(e.match(ix(a[0]))||[])[1];switch(a[2]){case"string":s&&(t[a[1]]=Mn(s));break;case"bool":t[a[1]]=s==="true";break;case"raw":var o=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));o&&o.length>0&&(n[a[1]]=o[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&q7(n.HeadingPairs,n.TitlesOfParts,t,r),t}function $7(e){var t=[],r=tr;return e||(e={}),e.Application="SheetJS",t[t.length]=li,t[t.length]=tr("Properties",null,{xmlns:Si.EXT_PROPS,"xmlns:vt":Si.vt}),Zf.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=ia(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+ia(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var Kie=/<[^>]+>[^<]*/g;function Xie(e,t){var r={},n="",a=e.match(Kie);if(a)for(var s=0;s!=a.length;++s){var o=a[s],l=Zr(o);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Mn(l.name);break;case"</property>":n=null;break;default:if(o.indexOf("<vt:")===0){var c=o.split(">"),u=c[0].slice(4),d=c[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=Mn(d);break;case"bool":r[n]=ja(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=Sa(d);break;case"cy":case"error":r[n]=Mn(d);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",o,u,c)}}else if(o.slice(0,2)!=="</"){if(t.WTF)throw new Error(o)}}}return r}function z7(e){var t=[li,tr("Properties",null,{xmlns:Si.CUST_PROPS,"xmlns:vt":Si.vt})];if(!e)return t.join("");var r=1;return Ya(e).forEach(function(a){++r,t[t.length]=tr("property",aie(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:ia(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var Aj={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},_N;function Yie(e,t,r){_N||(_N=vy(Aj)),t=_N[t]||t,e[t]=r}function Jie(e,t){var r=[];return Ya(Aj).map(function(n){for(var a=0;a<yl.length;++a)if(yl[a][1]==n)return yl[a];for(a=0;a<Zf.length;++a)if(Zf[a][1]==n)return Zf[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];n[2]==="date"&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"Z")),typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(os(Aj[n[1]]||n[1],a))}}),tr("DocumentProperties",r.join(""),{xmlns:Io.o})}function Qie(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&Ya(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)){for(var o=0;o<yl.length;++o)if(s==yl[o][1])return;for(o=0;o<Zf.length;++o)if(s==Zf[o][1])return;for(o=0;o<r.length;++o)if(s==r[o])return;var l=e[s],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),a.push(tr(UP(s),l,{"dt:dt":c}))}}),t&&Ya(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)&&!(e&&Object.prototype.hasOwnProperty.call(e,s))){var o=t[s],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),a.push(tr(UP(s),o,{"dt:dt":l}))}}),"<"+n+' xmlns="'+Io.o+'">'+a.join("")+"</"+n+">"}function _3(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function Zie(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var s=n/Math.pow(2,32)|0;s>0&&(n=n%Math.pow(2,32),a+=s);var o=_t(8);return o.write_shift(4,n),o.write_shift(4,a),o}function H7(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function W7(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function V7(e,t,r){return t===31?W7(e):H7(e,t,r)}function Ej(e,t,r){return V7(e,t,r===!1?0:4)}function ese(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return V7(e,t,0)}function tse(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(to,""),e.l-a&2&&(e.l+=2)}return r}function rse(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(to,"");return r}function nse(e){var t=e.l,r=_1(e,D7);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=_1(e,vo);return[r,n]}function ase(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(nse(e));return r}function t8(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var s=e.read_shift(4),o=e.read_shift(4);n[s]=e.read_shift(o,t===1200?"utf16le":"utf8").replace(to,"").replace(Jp,"!"),t===1200&&o%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function G7(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function ise(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function _1(e,t,r){var n=e.read_shift(2),a,s=r||{};if(e.l+=2,t!==QP&&n!==t&&Fie.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===QP?n:t){case 2:return a=e.read_shift(2,"i"),s.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return H7(e,n,4).replace(to,"");case 31:return W7(e);case 64:return _3(e);case 65:return G7(e);case 71:return ise(e);case 80:return Ej(e,n,!s.raw).replace(to,"");case 81:return ese(e,n).replace(to,"");case 4108:return ase(e);case 4126:case 4127:return n==4127?tse(e):rse(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function r8(e,t){var r=_t(4),n=_t(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=_t(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=Zie(t);break;case 31:case 80:for(n=_t(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return $i([r,n])}function n8(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),s=[],o=0,l=0,c=-1,u={};for(o=0;o!=a;++o){var d=e.read_shift(4),h=e.read_shift(4);s[o]=[d,h+r]}s.sort(function(w,j){return w[1]-j[1]});var m={};for(o=0;o!=a;++o){if(e.l!==s[o][1]){var p=!0;if(o>0&&t)switch(t[s[o-1][0]].t){case 2:e.l+2===s[o][1]&&(e.l+=2,p=!1);break;case 80:e.l<=s[o][1]&&(e.l=s[o][1],p=!1);break;case 4108:e.l<=s[o][1]&&(e.l=s[o][1],p=!1);break}if((!t||o==0)&&e.l<=s[o][1]&&(p=!1,e.l=s[o][1]),p)throw new Error("Read Error: Expected address "+s[o][1]+" at "+e.l+" :"+o)}if(t){var y=t[s[o][0]];if(m[y.n]=_1(e,y.t,{raw:!0}),y.p==="version"&&(m[y.n]=String(m[y.n]>>16)+"."+("0000"+String(m[y.n]&65535)).slice(-4)),y.n=="CodePage")switch(m[y.n]){case 0:m[y.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:oc(l=m[y.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+m[y.n])}}else if(s[o][0]===1){if(l=m.CodePage=_1(e,k3),oc(l),c!==-1){var v=e.l;e.l=s[c][1],u=t8(e,l),e.l=v}}else if(s[o][0]===0){if(l===0){c=o,e.l=s[o+1][1];continue}u=t8(e,l)}else{var g=u[s[o][0]],b;switch(e[e.l]){case 65:e.l+=4,b=G7(e);break;case 30:e.l+=4,b=Ej(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,b=Ej(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,b=e.read_shift(4,"i");break;case 19:e.l+=4,b=e.read_shift(4);break;case 5:e.l+=4,b=e.read_shift(8,"f");break;case 11:e.l+=4,b=ri(e,4);break;case 64:e.l+=4,b=Sa(_3(e));break;default:throw new Error("unparsed value: "+e[e.l])}m[g]=b}}return e.l=r+n,m}var K7=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function sse(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function a8(e,t,r){var n=_t(8),a=[],s=[],o=8,l=0,c=_t(8),u=_t(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),s.push(c),a.push(u),o+=8+c.length,!t){u=_t(8),u.write_shift(4,0),a.unshift(u);var d=[_t(4)];for(d[0].write_shift(4,e.length),l=0;l<e.length;++l){var h=e[l][0];for(c=_t(8+2*(h.length+1)+(h.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,h.length+1),c.write_shift(0,h,"dbcs");c.l!=c.length;)c.write_shift(1,0);d.push(c)}c=$i(d),s.unshift(c),o+=8+c.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(K7.indexOf(e[l][0])>-1||U7.indexOf(e[l][0])>-1)&&e[l][1]!=null){var m=e[l][1],p=0;if(t){p=+t[e[l][0]];var y=r[p];if(y.p=="version"&&typeof m=="string"){var v=m.split(".");m=(+v[0]<<16)+(+v[1]||0)}c=r8(y.t,m)}else{var g=sse(m);g==-1&&(g=31,m=String(m)),c=r8(g,m)}s.push(c),u=_t(8),u.write_shift(4,t?p:2+l),a.push(u),o+=8+c.length}var b=8*(s.length+1);for(l=0;l<s.length;++l)a[l].write_shift(4,b),b+=s[l].length;return n.write_shift(4,o),n.write_shift(4,s.length),$i([n].concat(a).concat(s))}function i8(e,t,r){var n=e.content;if(!n)return{};ss(n,0);var a,s,o,l,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),d=n.read_shift(16);if(d!==Rr.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(s=n.read_shift(16),l=n.read_shift(4),a===1&&l!==n.l)throw new Error("Length mismatch: "+l+" !== "+n.l);a===2&&(o=n.read_shift(16),c=n.read_shift(4));var h=n8(n,t),m={SystemIdentifier:u};for(var p in h)m[p]=h[p];if(m.FMTID=s,a===1)return m;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var y;try{y=n8(n,null)}catch{}for(p in y)m[p]=y[p];return m.FMTID=[s,o],m}function s8(e,t,r,n,a,s){var o=_t(a?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Rr.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,a?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,a?68:48);var c=a8(e,r,n);if(l.push(c),a){var u=a8(a,null,null);o.write_shift(16,s,"hex"),o.write_shift(4,68+c.length),l.push(u)}return $i(l)}function Ed(e,t){return e.read_shift(t),null}function ose(e,t){t||(t=_t(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function lse(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function ri(e,t){return e.read_shift(t)===1}function Js(e,t){return t||(t=_t(2)),t.write_shift(2,+!!e),t}function pi(e){return e.read_shift(2,"u")}function dl(e,t){return t||(t=_t(2)),t.write_shift(2,e),t}function X7(e,t){return lse(e,t,pi)}function cse(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function Y7(e,t,r){return r||(r=_t(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function Tx(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=e.read_shift(1);s&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var o=n?e.read_shift(n,a):"";return o}function use(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,s=1+(r&1),o=0,l,c={};a&&(o=e.read_shift(2)),n&&(l=e.read_shift(4));var u=s==2?"dbcs-cont":"sbcs-cont",d=t===0?"":e.read_shift(t,u);return a&&(e.l+=4*o),n&&(e.l+=l),c.t=d,a||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function dse(e){var t=e.t||"",r=_t(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=_t(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return $i(a)}function f0(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function Ox(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):f0(e,n,r)}function S0(e,t,r){if(r.biff>5)return Ox(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function J7(e,t,r){return r||(r=_t(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function fse(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function hse(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(to,"");return n&&(e.l+=24),a}function pse(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var s=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=e.read_shift(s>>1,"utf16le").replace(to,"");return r+o}function mse(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return hse(e);case"0303000000000000c000000000000046":return pse(e);default:throw new Error("Unsupported Moniker "+r)}}function Hg(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(to,""):"";return r}function o8(e,t){t||(t=_t(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function xse(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var s,o,l,c,u="",d,h;a&16&&(s=Hg(e,r-e.l)),a&128&&(o=Hg(e,r-e.l)),(a&257)===257&&(l=Hg(e,r-e.l)),(a&257)===1&&(c=mse(e,r-e.l)),a&8&&(u=Hg(e,r-e.l)),a&32&&(d=e.read_shift(16)),a&64&&(h=_3(e)),e.l=r;var m=o||l||c||"";m&&u&&(m+="#"+u),m||(m="#"+u),a&2&&m.charAt(0)=="/"&&m.charAt(1)!="/"&&(m="file://"+m);var p={Target:m};return d&&(p.guid=d),h&&(p.time=h),s&&(p.Tooltip=s),p}function gse(e){var t=_t(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),s=a>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3;break}t.write_shift(4,2),t.write_shift(4,s);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(s==28)n=n.slice(1),o8(n,t);else if(s&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var l=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),s&8&&o8(a>-1?n.slice(a+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)t.write_shift(1,n.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function Q7(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function Z7(e,t){var r=Q7(e);return r[3]=0,r}function Jc(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function h0(e,t,r,n){return n||(n=_t(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function vse(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function yse(e,t,r){return t===0?"":S0(e,t,r)}function bse(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),s=e.read_shift(n,"i"),o=e.read_shift(n,"i");return[a,s,o]}function eM(e){var t=e.read_shift(2),r=j3(e);return[t,r]}function wse(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=Tx(e,t,r),s=e.read_shift(2);if(n-=e.l,s!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+s);return e.l+=s,a}function wy(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function tM(e,t){return t||(t=_t(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function rM(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var Nse=rM;function nM(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function jse(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function kse(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function ys(e){e.l+=2,e.l+=e.read_shift(2)}var Sse={0:ys,4:ys,5:ys,6:ys,7:kse,8:ys,9:ys,10:ys,11:ys,12:ys,13:jse,14:ys,15:ys,16:ys,17:ys,18:ys,19:ys,20:ys,21:nM};function _se(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(Sse[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function Wg(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function A3(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=_t(a);return s.write_shift(2,n),s.write_shift(2,t),a>4&&s.write_shift(2,29282),a>6&&s.write_shift(2,1997),a>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function Ase(e,t){return t===0||e.read_shift(2),1200}function Ese(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=S0(e,0,r);return e.read_shift(t+n-e.l),a}function Cse(e,t){var r=!t||t.biff==8,n=_t(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function Tse(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function Ose(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,s=e.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var o=Tx(e,0,r);return o.length===0&&(o="Sheet1"),{pos:n,hs:a,dt:s,name:o}}function Pse(e,t){var r=!t||t.biff>=8?2:1,n=_t(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function Ise(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),s=[],o=0;o!=a&&e.l<r;++o)s.push(use(e));return s.Count=n,s.Unique=a,s}function Dse(e,t){var r=_t(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=dse(e[a]);var s=$i([r].concat(n));return s.parts=[r.length].concat(n.map(function(o){return o.length})),s}function Lse(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function Fse(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function Mse(e){var t=vse(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function Rse(e){return e.read_shift(2),e.read_shift(4)}function l8(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var s={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[s,a]}function Bse(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:s,CurTab:o,FirstTab:l,Selected:c,TabRatio:u}}function Use(){var e=_t(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function qse(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function $se(e){var t=_t(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function zse(){}function Hse(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=Tx(e,0,r),n}function Wse(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,s=_t(a);return s.write_shift(2,e.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,r.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),s}function Vse(e){var t=Jc(e);return t.isst=e.read_shift(4),t}function Gse(e,t,r,n){var a=_t(10);return h0(e,t,n,a),a.write_shift(4,r),a}function Kse(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=Jc(e);r.biff==2&&e.l++;var s=Ox(e,n-e.l,r);return a.val=s,a}function Xse(e,t,r,n,a){var s=!a||a.biff==8,o=_t(8+ +s+(1+s)*r.length);return h0(e,t,n,o),o.write_shift(2,r.length),s&&o.write_shift(1,1),o.write_shift((1+s)*r.length,r,s?"utf16le":"sbcs"),o}function Yse(e,t,r){var n=e.read_shift(2),a=S0(e,0,r);return[n,a]}function Jse(e,t,r,n){var a=r&&r.biff==5;n||(n=_t(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return s.l==null&&(s.l=s.length),s}var Qse=S0;function c8(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,s=e.read_shift(a),o=e.read_shift(a),l=e.read_shift(2),c=e.read_shift(2);return e.l=n,{s:{r:s,c:l},e:{r:o,c}}}function Zse(e,t){var r=t.biff==8||!t.biff?4:2,n=_t(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function eoe(e){var t=e.read_shift(2),r=e.read_shift(2),n=eM(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function toe(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(eM(e));if(e.l!==r)throw new Error("MulRK read error");var o=e.read_shift(2);if(s.length!=o-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:o,rkrec:s}}function roe(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var o=e.read_shift(2);if(s.length!=o-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:o,ixfe:s}}function noe(e,t,r,n){var a={},s=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(4),c=e.read_shift(2);return a.patternType=Mie[l>>26],n.cellStyles&&(a.alc=s&7,a.fWrap=s>>3&1,a.alcV=s>>4&7,a.fJustLast=s>>7&1,a.trot=s>>8&255,a.cIndent=s>>16&15,a.fShrinkToFit=s>>20&1,a.iReadOrder=s>>22&2,a.fAtrNum=s>>26&1,a.fAtrFnt=s>>27&1,a.fAtrAlc=s>>28&1,a.fAtrBdr=s>>29&1,a.fAtrPat=s>>30&1,a.fAtrProt=s>>31&1,a.dgLeft=o&15,a.dgRight=o>>4&15,a.dgTop=o>>8&15,a.dgBottom=o>>12&15,a.icvLeft=o>>16&127,a.icvRight=o>>23&127,a.grbitDiag=o>>30&3,a.icvTop=l&127,a.icvBottom=l>>7&127,a.icvDiag=l>>14&127,a.dgDiag=l>>21&15,a.icvFore=c&127,a.icvBack=c>>7&127,a.fsxButton=c>>14&1),a}function aoe(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=noe(e,t,n.fStyle,r),n}function u8(e,t,r,n){var a=r&&r.biff==5;n||(n=_t(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var s=0;return e.numFmtId>0&&a&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function ioe(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function soe(e){var t=_t(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function d8(e,t,r){var n=Jc(e);(r.biff==2||t==9)&&++e.l;var a=cse(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function ooe(e,t,r,n,a,s){var o=_t(8);return h0(e,t,n,o),Y7(r,s,o),o}function loe(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=Jc(e),a=Os(e);return n.val=a,n}function coe(e,t,r,n){var a=_t(14);return h0(e,t,n,a),d0(r,a),a}var f8=yse;function uoe(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(2);if(r.sbcch=s,s==1025||s==14849)return[s,a];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var o=f0(e,s),l=[];n>e.l;)l.push(Ox(e));return[s,a,o,l]}function h8(e,t,r){var n=e.read_shift(2),a,s={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=wse(e,t-2,r)),s.body=a||e.read_shift(t-2),typeof a=="string"&&(s.Name=a),s}var doe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function p8(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),c=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var u=f0(e,o,r);a&32&&(u=doe[u.charCodeAt(0)]);var d=n-e.l;r&&r.biff==2&&--d;var h=n==e.l||l===0||!(d>0)?[]:_de(e,d,r,l);return{chKey:s,Name:u,itab:c,rgce:h}}function aM(e,t,r){if(r.biff<8)return foe(e,t,r);for(var n=[],a=e.l+t,s=e.read_shift(r.biff>8?4:2);s--!==0;)n.push(bse(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function foe(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=Tx(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function hoe(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),s=f0(e,n,r),o=f0(e,a,r);return[s,o]}function poe(e,t,r){var n=rM(e);e.l++;var a=e.read_shift(1);return t-=8,[Ade(e,t,r),a,n]}function m8(e,t,r){var n=Nse(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,kde(e,t,r)]}function moe(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function xoe(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),l=S0(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},l,o,s]}}function goe(e,t,r){return xoe(e,t,r)}function voe(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(wy(e));return r}function yoe(e){var t=_t(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)tM(e[r],t);return t}function boe(e,t,r){if(r&&r.biff<8)return Noe(e,t,r);var n=nM(e),a=_se(e,t-22,n[1]);return{cmo:n,ft:a}}var woe={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function Noe(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var o=[];return o.push((woe[n]||Ds)(e,t,r)),{cmo:[a,n,s],ft:o}}function joe(e,t,r){var n=e.l,a="";try{e.l+=4;var s=(r.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(s)==-1?e.l+=6:o=fse(e,6,r);var l=e.read_shift(2);e.read_shift(2),pi(e,2);var c=e.read_shift(2);e.l+=c;for(var u=1;u<e.lens.length-1;++u){if(e.l-n!=e.lens[u])throw new Error("TxO: bad continue record");var d=e[e.l],h=f0(e,e.lens[u+1]-e.lens[u]-1);if(a+=h,a.length>=(d?l:2*l))break}if(a.length!==l&&a.length!==l*2)throw new Error("cchText: "+l+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function koe(e,t){var r=wy(e);e.l+=16;var n=xse(e,t-24);return[r,n]}function Soe(e){var t=_t(24),r=Ra(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return $i([t,gse(e[1])])}function _oe(e,t){e.read_shift(2);var r=wy(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(to,""),[r,n]}function Aoe(e){var t=e[1].Tooltip,r=_t(10+2*(t.length+1));r.write_shift(2,2048);var n=Ra(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function Eoe(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=ZP[r]||r,r=e.read_shift(2),t[1]=ZP[r]||r,t}function Coe(e){return e||(e=_t(4)),e.write_shift(2,1),e.write_shift(2,1),e}function Toe(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(Z7(e));return r}function Ooe(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(Z7(e));return r}function Poe(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function iM(e,t,r){if(!r.cellStyles)return Ds(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:s,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function Ioe(e,t){var r=_t(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function Doe(e,t){var r={};return t<32||(e.l+=16,r.header=Os(e),r.footer=Os(e),e.l+=2),r}function Loe(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}function Foe(e){for(var t=_t(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}var Moe=Jc,Roe=X7,Boe=Ox;function Uoe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function qoe(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=Jc(e);++e.l;var a=S0(e,t-7,r);return n.t="str",n.val=a,n}function $oe(e){var t=Jc(e);++e.l;var r=Os(e);return t.t="n",t.val=r,t}function zoe(e,t,r){var n=_t(15);return Lx(n,e,t),n.write_shift(8,r,"f"),n}function Hoe(e){var t=Jc(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function Woe(e,t,r){var n=_t(9);return Lx(n,e,t),n.write_shift(2,r),n}function Voe(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function Goe(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function Koe(e,t,r){var n=e.l+t,a=Jc(e),s=e.read_shift(2),o=f0(e,s,r);return e.l=n,a.t="str",a.val=o,a}var Xoe=[2,3,48,49,131,139,140,245],Cj=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=vy({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var u=[],d=Xd(1);switch(c.type){case"base64":d=Fo(Uo(l));break;case"binary":d=Fo(l);break;case"buffer":case"array":d=l;break}ss(d,0);var h=d.read_shift(1),m=!!(h&136),p=!1,y=!1;switch(h){case 2:break;case 3:break;case 48:p=!0,m=!0;break;case 49:p=!0,m=!0;break;case 131:break;case 139:break;case 140:y=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var v=0,g=521;h==2&&(v=d.read_shift(2)),d.l+=3,h!=2&&(v=d.read_shift(4)),v>1048576&&(v=1e6),h!=2&&(g=d.read_shift(2));var b=d.read_shift(2),w=c.codepage||1252;h!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(w=e[d[d.l]]),d.l+=1,d.l+=2),y&&(d.l+=36);for(var j=[],N={},S=Math.min(d.length,h==2?521:g-10-(p?264:0)),P=y?32:11;d.l<S&&d[d.l]!=13;)switch(N={},N.name=rx.utils.decode(w,d.slice(d.l,d.l+P)).replace(/[\u0000\r\n].*$/g,""),d.l+=P,N.type=String.fromCharCode(d.read_shift(1)),h!=2&&!y&&(N.offset=d.read_shift(4)),N.len=d.read_shift(1),h==2&&(N.offset=d.read_shift(2)),N.dec=d.read_shift(1),N.name.length&&j.push(N),h!=2&&(d.l+=y?13:14),N.type){case"B":(!p||N.len!=8)&&c.WTF&&console.log("Skipping "+N.name+":"+N.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+N.name+":"+N.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+N.type)}if(d[d.l]!==13&&(d.l=g-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=g;var A=0,O=0;for(u[0]=[],O=0;O!=j.length;++O)u[0][O]=j[O].name;for(;v-- >0;){if(d[d.l]===42){d.l+=b;continue}for(++d.l,u[++A]=[],O=0,O=0;O!=j.length;++O){var M=d.slice(d.l,d.l+j[O].len);d.l+=j[O].len,ss(M,0);var F=rx.utils.decode(w,M);switch(j[O].type){case"C":F.trim().length&&(u[A][O]=F.replace(/\s+$/,""));break;case"D":F.length===8?u[A][O]=new Date(+F.slice(0,4),+F.slice(4,6)-1,+F.slice(6,8)):u[A][O]=F;break;case"F":u[A][O]=parseFloat(F.trim());break;case"+":case"I":u[A][O]=y?M.read_shift(-4,"i")^2147483648:M.read_shift(4,"i");break;case"L":switch(F.trim().toUpperCase()){case"Y":case"T":u[A][O]=!0;break;case"N":case"F":u[A][O]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+F+"|")}break;case"M":if(!m)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));u[A][O]="##MEMO##"+(y?parseInt(F.trim(),10):M.read_shift(4));break;case"N":F=F.replace(/\u0000/g,"").trim(),F&&F!="."&&(u[A][O]=+F||0);break;case"@":u[A][O]=new Date(M.read_shift(-8,"f")-621356832e5);break;case"T":u[A][O]=new Date((M.read_shift(4)-2440588)*864e5+M.read_shift(4));break;case"Y":u[A][O]=M.read_shift(4,"i")/1e4+M.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[A][O]=-M.read_shift(-8,"f");break;case"B":if(p&&j[O].len==8){u[A][O]=M.read_shift(8,"f");break}case"G":case"P":M.l+=j[O].len;break;case"0":if(j[O].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+j[O].type)}}}if(h!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=j,u}function n(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=fp(r(l,u),u);return d["!cols"]=u.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete u.DBF,d}function a(l,c){try{return cf(n(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var u=c||{};if(+u.codepage>=0&&oc(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=bo(),h=T1(l,{header:1,raw:!0,cellDates:!0}),m=h[0],p=h.slice(1),y=l["!cols"]||[],v=0,g=0,b=0,w=1;for(v=0;v<m.length;++v){if(((y[v]||{}).DBF||{}).name){m[v]=y[v].DBF.name,++b;continue}if(m[v]!=null){if(++b,typeof m[v]=="number"&&(m[v]=m[v].toString(10)),typeof m[v]!="string")throw new Error("DBF Invalid column name "+m[v]+" |"+typeof m[v]+"|");if(m.indexOf(m[v])!==v){for(g=0;g<1024;++g)if(m.indexOf(m[v]+"_"+g)==-1){m[v]+="_"+g;break}}}}var j=Rn(l["!ref"]),N=[],S=[],P=[];for(v=0;v<=j.e.c-j.s.c;++v){var A="",O="",M=0,F=[];for(g=0;g<p.length;++g)p[g][v]!=null&&F.push(p[g][v]);if(F.length==0||m[v]==null){N[v]="?";continue}for(g=0;g<F.length;++g){switch(typeof F[g]){case"number":O="B";break;case"string":O="C";break;case"boolean":O="L";break;case"object":O=F[g]instanceof Date?"D":"C";break;default:O="C"}M=Math.max(M,String(F[g]).length),A=A&&A!=O?"C":O}M>250&&(M=250),O=((y[v]||{}).DBF||{}).type,O=="C"&&y[v].DBF.len>M&&(M=y[v].DBF.len),A=="B"&&O=="N"&&(A="N",P[v]=y[v].DBF.dec,M=y[v].DBF.len),S[v]=A=="C"||O=="N"?M:s[A]||0,w+=S[v],N[v]=A}var E=d.next(32);for(E.write_shift(4,318902576),E.write_shift(4,p.length),E.write_shift(2,296+32*b),E.write_shift(2,w),v=0;v<4;++v)E.write_shift(4,0);for(E.write_shift(4,0|(+t[KF]||3)<<8),v=0,g=0;v<m.length;++v)if(m[v]!=null){var T=d.next(32),I=(m[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);T.write_shift(1,I,"sbcs"),T.write_shift(1,N[v]=="?"?"C":N[v],"sbcs"),T.write_shift(4,g),T.write_shift(1,S[v]||s[N[v]]||0),T.write_shift(1,P[v]||0),T.write_shift(1,2),T.write_shift(4,0),T.write_shift(1,0),T.write_shift(4,0),T.write_shift(4,0),g+=S[v]||s[N[v]]||0}var z=d.next(264);for(z.write_shift(4,13),v=0;v<65;++v)z.write_shift(4,0);for(v=0;v<p.length;++v){var Q=d.next(w);for(Q.write_shift(1,0),g=0;g<m.length;++g)if(m[g]!=null)switch(N[g]){case"L":Q.write_shift(1,p[v][g]==null?63:p[v][g]?84:70);break;case"B":Q.write_shift(8,p[v][g]||0,"f");break;case"N":var te="0";for(typeof p[v][g]=="number"&&(te=p[v][g].toFixed(P[g]||0)),b=0;b<S[g]-te.length;++b)Q.write_shift(1,32);Q.write_shift(1,te,"sbcs");break;case"D":p[v][g]?(Q.write_shift(4,("0000"+p[v][g].getFullYear()).slice(-4),"sbcs"),Q.write_shift(2,("00"+(p[v][g].getMonth()+1)).slice(-2),"sbcs"),Q.write_shift(2,("00"+p[v][g].getDate()).slice(-2),"sbcs")):Q.write_shift(8,"00000000","sbcs");break;case"C":var J=String(p[v][g]!=null?p[v][g]:"").slice(0,S[g]);for(Q.write_shift(1,J,"sbcs"),b=0;b<S[g]-J.length;++b)Q.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:o}})(),sM=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Ya(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(m,p){var y=e[p];return typeof y=="number"?_P(y):y},n=function(m,p,y){var v=p.charCodeAt(0)-32<<4|y.charCodeAt(0)-48;return v==59?m:_P(v)};e["|"]=254;function a(m,p){switch(p.type){case"base64":return s(Uo(m),p);case"binary":return s(m,p);case"buffer":return s(xn&&Buffer.isBuffer(m)?m.toString("binary"):lf(m),p);case"array":return s(u0(m),p)}throw new Error("Unrecognized type "+p.type)}function s(m,p){var y=m.split(/[\n\r]+/),v=-1,g=-1,b=0,w=0,j=[],N=[],S=null,P={},A=[],O=[],M=[],F=0,E;for(+p.codepage>=0&&oc(+p.codepage);b!==y.length;++b){F=0;var T=y[b].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),I=T.replace(/;;/g,"\0").split(";").map(function(B){return B.replace(/\u0000/g,";")}),z=I[0],Q;if(T.length>0)switch(z){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":I[1].charAt(0)=="P"&&N.push(T.slice(3).replace(/;;/g,";"));break;case"C":var te=!1,J=!1,ie=!1,X=!1,Z=-1,q=-1;for(w=1;w<I.length;++w)switch(I[w].charAt(0)){case"A":break;case"X":g=parseInt(I[w].slice(1))-1,J=!0;break;case"Y":for(v=parseInt(I[w].slice(1))-1,J||(g=0),E=j.length;E<=v;++E)j[E]=[];break;case"K":Q=I[w].slice(1),Q.charAt(0)==='"'?Q=Q.slice(1,Q.length-1):Q==="TRUE"?Q=!0:Q==="FALSE"?Q=!1:isNaN(dc(Q))?isNaN(Yh(Q).getDate())||(Q=Sa(Q)):(Q=dc(Q),S!==null&&up(S)&&(Q=by(Q))),te=!0;break;case"E":X=!0;var C=vh(I[w].slice(1),{r:v,c:g});j[v][g]=[j[v][g],C];break;case"S":ie=!0,j[v][g]=[j[v][g],"S5S"];break;case"G":break;case"R":Z=parseInt(I[w].slice(1))-1;break;case"C":q=parseInt(I[w].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+T)}if(te&&(j[v][g]&&j[v][g].length==2?j[v][g][0]=Q:j[v][g]=Q,S=null),ie){if(X)throw new Error("SYLK shared formula cannot have own formula");var U=Z>-1&&j[Z][q];if(!U||!U[1])throw new Error("SYLK shared formula cannot find base");j[v][g][1]=kM(U[1],{r:v-Z,c:g-q})}break;case"F":var W=0;for(w=1;w<I.length;++w)switch(I[w].charAt(0)){case"X":g=parseInt(I[w].slice(1))-1,++W;break;case"Y":for(v=parseInt(I[w].slice(1))-1,E=j.length;E<=v;++E)j[E]=[];break;case"M":F=parseInt(I[w].slice(1))/20;break;case"F":break;case"G":break;case"P":S=N[parseInt(I[w].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(M=I[w].slice(1).split(" "),E=parseInt(M[0],10);E<=parseInt(M[1],10);++E)F=parseInt(M[2],10),O[E-1]=F===0?{hidden:!0}:{wch:F},Yd(O[E-1]);break;case"C":g=parseInt(I[w].slice(1))-1,O[g]||(O[g]={});break;case"R":v=parseInt(I[w].slice(1))-1,A[v]||(A[v]={}),F>0?(A[v].hpt=F,A[v].hpx=Qh(F)):F===0&&(A[v].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+T)}W<1&&(S=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+T)}}return A.length>0&&(P["!rows"]=A),O.length>0&&(P["!cols"]=O),p&&p.sheetRows&&(j=j.slice(0,p.sheetRows)),[j,P]}function o(m,p){var y=a(m,p),v=y[0],g=y[1],b=fp(v,p);return Ya(g).forEach(function(w){b[w]=g[w]}),b}function l(m,p){return cf(o(m,p),p)}function c(m,p,y,v){var g="C;Y"+(y+1)+";X"+(v+1)+";K";switch(m.t){case"n":g+=m.v||0,m.f&&!m.F&&(g+=";E"+I3(m.f,{r:y,c:v}));break;case"b":g+=m.v?"TRUE":"FALSE";break;case"e":g+=m.w||m.v;break;case"d":g+='"'+(m.w||m.v)+'"';break;case"s":g+='"'+m.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return g}function u(m,p){p.forEach(function(y,v){var g="F;W"+(v+1)+" "+(v+1)+" ";y.hidden?g+="0":(typeof y.width=="number"&&!y.wpx&&(y.wpx=ux(y.width)),typeof y.wpx=="number"&&!y.wch&&(y.wch=dx(y.wpx)),typeof y.wch=="number"&&(g+=Math.round(y.wch))),g.charAt(g.length-1)!=" "&&m.push(g)})}function d(m,p){p.forEach(function(y,v){var g="F;";y.hidden?g+="M0;":y.hpt?g+="M"+20*y.hpt+";":y.hpx&&(g+="M"+20*fx(y.hpx)+";"),g.length>2&&m.push(g+"R"+(v+1))})}function h(m,p){var y=["ID;PWXL;N;E"],v=[],g=Rn(m["!ref"]),b,w=Array.isArray(m),j=`\r
`;y.push("P;PGeneral"),y.push("F;P0;DG0G8;M255"),m["!cols"]&&u(y,m["!cols"]),m["!rows"]&&d(y,m["!rows"]),y.push("B;Y"+(g.e.r-g.s.r+1)+";X"+(g.e.c-g.s.c+1)+";D"+[g.s.c,g.s.r,g.e.c,g.e.r].join(" "));for(var N=g.s.r;N<=g.e.r;++N)for(var S=g.s.c;S<=g.e.c;++S){var P=Yr({r:N,c:S});b=w?(m[N]||[])[S]:m[P],!(!b||b.v==null&&(!b.f||b.F))&&v.push(c(b,m,N,S))}return y.join(j)+j+v.join(j)+j+"E"+j}return{to_workbook:l,to_sheet:o,from_sheet:h}})(),oM=(function(){function e(s,o){switch(o.type){case"base64":return t(Uo(s),o);case"binary":return t(s,o);case"buffer":return t(xn&&Buffer.isBuffer(s)?s.toString("binary"):lf(s),o);case"array":return t(u0(s),o)}throw new Error("Unrecognized type "+o.type)}function t(s,o){for(var l=s.split(`
`),c=-1,u=-1,d=0,h=[];d!==l.length;++d){if(l[d].trim()==="BOT"){h[++c]=[],u=0;continue}if(!(c<0)){var m=l[d].trim().split(","),p=m[0],y=m[1];++d;for(var v=l[d]||"";(v.match(/["]/g)||[]).length&1&&d<l.length-1;)v+=`
`+l[++d];switch(v=v.trim(),+p){case-1:if(v==="BOT"){h[++c]=[],u=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?h[c][u]=!0:v==="FALSE"?h[c][u]=!1:isNaN(dc(y))?isNaN(Yh(y).getDate())?h[c][u]=y:h[c][u]=Sa(y):h[c][u]=dc(y),++u;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),h[c][u++]=v!==""?v:null;break}if(v==="EOD")break}}return o&&o.sheetRows&&(h=h.slice(0,o.sheetRows)),h}function r(s,o){return fp(e(s,o),o)}function n(s,o){return cf(r(s,o),o)}var a=(function(){var s=function(c,u,d,h,m){c.push(u),c.push(d+","+h),c.push('"'+m.replace(/"/g,'""')+'"')},o=function(c,u,d,h){c.push(u+","+d),c.push(u==1?'"'+h.replace(/"/g,'""')+'"':h)};return function(c){var u=[],d=Rn(c["!ref"]),h,m=Array.isArray(c);s(u,"TABLE",0,1,"sheetjs"),s(u,"VECTORS",0,d.e.r-d.s.r+1,""),s(u,"TUPLES",0,d.e.c-d.s.c+1,""),s(u,"DATA",0,0,"");for(var p=d.s.r;p<=d.e.r;++p){o(u,-1,0,"BOT");for(var y=d.s.c;y<=d.e.c;++y){var v=Yr({r:p,c:y});if(h=m?(c[p]||[])[y]:c[v],!h){o(u,1,0,"");continue}switch(h.t){case"n":var g=h.w;!g&&h.v!=null&&(g=h.v),g==null?h.f&&!h.F?o(u,1,0,"="+h.f):o(u,1,0,""):o(u,0,g,"V");break;case"b":o(u,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=wl(h.z||Vr[14],Ai(Sa(h.v)))),o(u,0,h.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var b=`\r
`,w=u.join(b);return w}})();return{to_workbook:n,to_sheet:r,from_sheet:a}})(),lM=(function(){function e(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(h,m){for(var p=h.split(`
`),y=-1,v=-1,g=0,b=[];g!==p.length;++g){var w=p[g].trim().split(":");if(w[0]==="cell"){var j=Ra(w[1]);if(b.length<=j.r)for(y=b.length;y<=j.r;++y)b[y]||(b[y]=[]);switch(y=j.r,v=j.c,w[2]){case"t":b[y][v]=e(w[3]);break;case"v":b[y][v]=+w[3];break;case"vtf":var N=w[w.length-1];case"vtc":w[3]==="nl"?b[y][v]=!!+w[4]:b[y][v]=+w[4],w[2]=="vtf"&&(b[y][v]=[b[y][v],N])}}}return m&&m.sheetRows&&(b=b.slice(0,m.sheetRows)),b}function n(h,m){return fp(r(h,m),m)}function a(h,m){return cf(n(h,m),m)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(h){if(!h||!h["!ref"])return"";for(var m=[],p=[],y,v="",g=wo(h["!ref"]),b=Array.isArray(h),w=g.s.r;w<=g.e.r;++w)for(var j=g.s.c;j<=g.e.c;++j)if(v=Yr({r:w,c:j}),y=b?(h[w]||[])[j]:h[v],!(!y||y.v==null||y.t==="z")){switch(p=["cell",v,"t"],y.t){case"s":case"str":p.push(t(y.v));break;case"n":y.f?(p[2]="vtf",p[3]="n",p[4]=y.v,p[5]=t(y.f)):(p[2]="v",p[3]=y.v);break;case"b":p[2]="vt"+(y.f?"f":"c"),p[3]="nl",p[4]=y.v?"1":"0",p[5]=t(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var N=Ai(Sa(y.v));p[2]="vtc",p[3]="nd",p[4]=""+N,p[5]=y.w||wl(y.z||Vr[14],N);break;case"e":continue}m.push(p.join(":"))}return m.push("sheet:c:"+(g.e.c-g.s.c+1)+":r:"+(g.e.r-g.s.r+1)+":tvf:1"),m.push("valueformat:1:text-wiki"),m.join(`
`)}function d(h){return[s,o,l,o,u(h),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}})(),Jh=(function(){function e(d,h,m,p,y){y.raw?h[m][p]=d:d===""||(d==="TRUE"?h[m][p]=!0:d==="FALSE"?h[m][p]=!1:isNaN(dc(d))?isNaN(Yh(d).getDate())?h[m][p]=d:h[m][p]=Sa(d):h[m][p]=dc(d))}function t(d,h){var m=h||{},p=[];if(!d||d.length===0)return p;for(var y=d.split(/[\r\n]/),v=y.length-1;v>=0&&y[v].length===0;)--v;for(var g=10,b=0,w=0;w<=v;++w)b=y[w].indexOf(" "),b==-1?b=y[w].length:b++,g=Math.max(g,b);for(w=0;w<=v;++w){p[w]=[];var j=0;for(e(y[w].slice(0,g).trim(),p,w,j,m),j=1;j<=(y[w].length-g)/10+1;++j)e(y[w].slice(g+(j-1)*10,g+j*10).trim(),p,w,j,m)}return m.sheetRows&&(p=p.slice(0,m.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var h={},m=!1,p=0,y=0;p<d.length;++p)(y=d.charCodeAt(p))==34?m=!m:!m&&y in r&&(h[y]=(h[y]||0)+1);y=[];for(p in h)Object.prototype.hasOwnProperty.call(h,p)&&y.push([h[p],p]);if(!y.length){h=n;for(p in h)Object.prototype.hasOwnProperty.call(h,p)&&y.push([h[p],p])}return y.sort(function(v,g){return v[0]-g[0]||n[v[1]]-n[g[1]]}),r[y.pop()[1]]||44}function s(d,h){var m=h||{},p="",y=m.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(p=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(p=d.charAt(4),d=d.slice(6)):p=a(d.slice(0,1024)):m&&m.FS?p=m.FS:p=a(d.slice(0,1024));var g=0,b=0,w=0,j=0,N=0,S=p.charCodeAt(0),P=!1,A=0,O=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var M=m.dateNF!=null?Lae(m.dateNF):null;function F(){var E=d.slice(j,N),T={};if(E.charAt(0)=='"'&&E.charAt(E.length-1)=='"'&&(E=E.slice(1,-1).replace(/""/g,'"')),E.length===0)T.t="z";else if(m.raw)T.t="s",T.v=E;else if(E.trim().length===0)T.t="s",T.v=E;else if(E.charCodeAt(0)==61)E.charCodeAt(1)==34&&E.charCodeAt(E.length-1)==34?(T.t="s",T.v=E.slice(2,-1).replace(/""/g,'"')):uue(E)?(T.t="n",T.f=E.slice(1)):(T.t="s",T.v=E);else if(E=="TRUE")T.t="b",T.v=!0;else if(E=="FALSE")T.t="b",T.v=!1;else if(!isNaN(w=dc(E)))T.t="n",m.cellText!==!1&&(T.w=E),T.v=w;else if(!isNaN(Yh(E).getDate())||M&&E.match(M)){T.z=m.dateNF||Vr[14];var I=0;M&&E.match(M)&&(E=Fae(E,m.dateNF,E.match(M)||[]),I=1),m.cellDates?(T.t="d",T.v=Sa(E,I)):(T.t="n",T.v=Ai(Sa(E,I))),m.cellText!==!1&&(T.w=wl(T.z,T.v instanceof Date?Ai(T.v):T.v)),m.cellNF||delete T.z}else T.t="s",T.v=E;if(T.t=="z"||(m.dense?(y[g]||(y[g]=[]),y[g][b]=T):y[Yr({c:b,r:g})]=T),j=N+1,O=d.charCodeAt(j),v.e.c<b&&(v.e.c=b),v.e.r<g&&(v.e.r=g),A==S)++b;else if(b=0,++g,m.sheetRows&&m.sheetRows<=g)return!0}e:for(;N<d.length;++N)switch(A=d.charCodeAt(N)){case 34:O===34&&(P=!P);break;case S:case 10:case 13:if(!P&&F())break e;break}return N-j>0&&F(),y["!ref"]=un(v),y}function o(d,h){return!(h&&h.PRN)||h.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?s(d,h):fp(t(d,h),h)}function l(d,h){var m="",p=h.type=="string"?[0,0,0,0]:q3(d,h);switch(h.type){case"base64":m=Uo(d);break;case"binary":m=d;break;case"buffer":h.codepage==65001?m=d.toString("utf8"):h.codepage&&typeof rx<"u"||(m=xn&&Buffer.isBuffer(d)?d.toString("binary"):lf(d));break;case"array":m=u0(d);break;case"string":m=d;break;default:throw new Error("Unrecognized type "+h.type)}return p[0]==239&&p[1]==187&&p[2]==191?m=ca(m.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?m=ca(m):h.type=="binary"&&typeof rx<"u",m.slice(0,19)=="socialcalc:version:"?lM.to_sheet(h.type=="string"?m:ca(m),h):o(m,h)}function c(d,h){return cf(l(d,h),h)}function u(d){for(var h=[],m=Rn(d["!ref"]),p,y=Array.isArray(d),v=m.s.r;v<=m.e.r;++v){for(var g=[],b=m.s.c;b<=m.e.c;++b){var w=Yr({r:v,c:b});if(p=y?(d[v]||[])[b]:d[w],!p||p.v==null){g.push("          ");continue}for(var j=(p.w||($u(p),p.w)||"").slice(0,10);j.length<10;)j+=" ";g.push(j+(b===0?" ":""))}h.push(g.join(""))}return h.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}})();function Yoe(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=sM.to_workbook(e,r);return r.WTF=n,a}catch(s){if(r.WTF=n,!s.message.match(/SYLK bad record ID/)&&n)throw s;return Jh.to_workbook(e,t)}}var e0=(function(){function e(C,U,W){if(C){ss(C,C.l||0);for(var B=W.Enum||Z;C.l<C.length;){var K=C.read_shift(2),re=B[K]||B[65535],fe=C.read_shift(2),ce=C.l+fe,he=re.f&&re.f(C,fe,W);if(C.l=ce,U(he,re,K))return}}}function t(C,U){switch(U.type){case"base64":return r(Fo(Uo(C)),U);case"binary":return r(Fo(C),U);case"buffer":case"array":return r(C,U)}throw"Unsupported type "+U.type}function r(C,U){if(!C)return C;var W=U||{},B=W.dense?[]:{},K="Sheet1",re="",fe=0,ce={},he=[],Oe=[],ee={s:{r:0,c:0},e:{r:0,c:0}},De=W.sheetRows||0;if(C[2]==0&&(C[3]==8||C[3]==9)&&C.length>=16&&C[14]==5&&C[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(C[2]==2)W.Enum=Z,e(C,function(_e,Se,Pe){switch(Pe){case 0:W.vers=_e,_e>=4096&&(W.qpro=!0);break;case 6:ee=_e;break;case 204:_e&&(re=_e);break;case 222:re=_e;break;case 15:case 51:W.qpro||(_e[1].v=_e[1].v.slice(1));case 13:case 14:case 16:Pe==14&&(_e[2]&112)==112&&(_e[2]&15)>1&&(_e[2]&15)<15&&(_e[1].z=W.dateNF||Vr[14],W.cellDates&&(_e[1].t="d",_e[1].v=by(_e[1].v))),W.qpro&&_e[3]>fe&&(B["!ref"]=un(ee),ce[K]=B,he.push(K),B=W.dense?[]:{},ee={s:{r:0,c:0},e:{r:0,c:0}},fe=_e[3],K=re||"Sheet"+(fe+1),re="");var pe=W.dense?(B[_e[0].r]||[])[_e[0].c]:B[Yr(_e[0])];if(pe){pe.t=_e[1].t,pe.v=_e[1].v,_e[1].z!=null&&(pe.z=_e[1].z),_e[1].f!=null&&(pe.f=_e[1].f);break}W.dense?(B[_e[0].r]||(B[_e[0].r]=[]),B[_e[0].r][_e[0].c]=_e[1]):B[Yr(_e[0])]=_e[1];break}},W);else if(C[2]==26||C[2]==14)W.Enum=q,C[2]==14&&(W.qpro=!0,C.l=0),e(C,function(_e,Se,Pe){switch(Pe){case 204:K=_e;break;case 22:_e[1].v=_e[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(_e[3]>fe&&(B["!ref"]=un(ee),ce[K]=B,he.push(K),B=W.dense?[]:{},ee={s:{r:0,c:0},e:{r:0,c:0}},fe=_e[3],K="Sheet"+(fe+1)),De>0&&_e[0].r>=De)break;W.dense?(B[_e[0].r]||(B[_e[0].r]=[]),B[_e[0].r][_e[0].c]=_e[1]):B[Yr(_e[0])]=_e[1],ee.e.c<_e[0].c&&(ee.e.c=_e[0].c),ee.e.r<_e[0].r&&(ee.e.r=_e[0].r);break;case 27:_e[14e3]&&(Oe[_e[14e3][0]]=_e[14e3][1]);break;case 1537:Oe[_e[0]]=_e[1],_e[0]==fe&&(K=_e[1]);break}},W);else throw new Error("Unrecognized LOTUS BOF "+C[2]);if(B["!ref"]=un(ee),ce[re||K]=B,he.push(re||K),!Oe.length)return{SheetNames:he,Sheets:ce};for(var je={},oe=[],ue=0;ue<Oe.length;++ue)ce[he[ue]]?(oe.push(Oe[ue]||he[ue]),je[Oe[ue]]=ce[Oe[ue]]||ce[he[ue]]):(oe.push(Oe[ue]),je[Oe[ue]]={"!ref":"A1"});return{SheetNames:oe,Sheets:je}}function n(C,U){var W=U||{};if(+W.codepage>=0&&oc(+W.codepage),W.type=="string")throw new Error("Cannot write WK1 to JS string");var B=bo(),K=Rn(C["!ref"]),re=Array.isArray(C),fe=[];rr(B,0,s(1030)),rr(B,6,c(K));for(var ce=Math.min(K.e.r,8191),he=K.s.r;he<=ce;++he)for(var Oe=si(he),ee=K.s.c;ee<=K.e.c;++ee){he===K.s.r&&(fe[ee]=Ma(ee));var De=fe[ee]+Oe,je=re?(C[he]||[])[ee]:C[De];if(!(!je||je.t=="z"))if(je.t=="n")(je.v|0)==je.v&&je.v>=-32768&&je.v<=32767?rr(B,13,p(he,ee,je.v)):rr(B,14,v(he,ee,je.v));else{var oe=$u(je);rr(B,15,h(he,ee,oe.slice(0,239)))}}return rr(B,1),B.end()}function a(C,U){var W=U||{};if(+W.codepage>=0&&oc(+W.codepage),W.type=="string")throw new Error("Cannot write WK3 to JS string");var B=bo();rr(B,0,o(C));for(var K=0,re=0;K<C.SheetNames.length;++K)(C.Sheets[C.SheetNames[K]]||{})["!ref"]&&rr(B,27,X(C.SheetNames[K],re++));var fe=0;for(K=0;K<C.SheetNames.length;++K){var ce=C.Sheets[C.SheetNames[K]];if(!(!ce||!ce["!ref"])){for(var he=Rn(ce["!ref"]),Oe=Array.isArray(ce),ee=[],De=Math.min(he.e.r,8191),je=he.s.r;je<=De;++je)for(var oe=si(je),ue=he.s.c;ue<=he.e.c;++ue){je===he.s.r&&(ee[ue]=Ma(ue));var _e=ee[ue]+oe,Se=Oe?(ce[je]||[])[ue]:ce[_e];if(!(!Se||Se.t=="z"))if(Se.t=="n")rr(B,23,F(je,ue,fe,Se.v));else{var Pe=$u(Se);rr(B,22,A(je,ue,fe,Pe.slice(0,239)))}}++fe}}return rr(B,1),B.end()}function s(C){var U=_t(2);return U.write_shift(2,C),U}function o(C){var U=_t(26);U.write_shift(2,4096),U.write_shift(2,4),U.write_shift(4,0);for(var W=0,B=0,K=0,re=0;re<C.SheetNames.length;++re){var fe=C.SheetNames[re],ce=C.Sheets[fe];if(!(!ce||!ce["!ref"])){++K;var he=wo(ce["!ref"]);W<he.e.r&&(W=he.e.r),B<he.e.c&&(B=he.e.c)}}return W>8191&&(W=8191),U.write_shift(2,W),U.write_shift(1,K),U.write_shift(1,B),U.write_shift(2,0),U.write_shift(2,0),U.write_shift(1,1),U.write_shift(1,2),U.write_shift(4,0),U.write_shift(4,0),U}function l(C,U,W){var B={s:{c:0,r:0},e:{c:0,r:0}};return U==8&&W.qpro?(B.s.c=C.read_shift(1),C.l++,B.s.r=C.read_shift(2),B.e.c=C.read_shift(1),C.l++,B.e.r=C.read_shift(2),B):(B.s.c=C.read_shift(2),B.s.r=C.read_shift(2),U==12&&W.qpro&&(C.l+=2),B.e.c=C.read_shift(2),B.e.r=C.read_shift(2),U==12&&W.qpro&&(C.l+=2),B.s.c==65535&&(B.s.c=B.e.c=B.s.r=B.e.r=0),B)}function c(C){var U=_t(8);return U.write_shift(2,C.s.c),U.write_shift(2,C.s.r),U.write_shift(2,C.e.c),U.write_shift(2,C.e.r),U}function u(C,U,W){var B=[{c:0,r:0},{t:"n",v:0},0,0];return W.qpro&&W.vers!=20768?(B[0].c=C.read_shift(1),B[3]=C.read_shift(1),B[0].r=C.read_shift(2),C.l+=2):(B[2]=C.read_shift(1),B[0].c=C.read_shift(2),B[0].r=C.read_shift(2)),B}function d(C,U,W){var B=C.l+U,K=u(C,U,W);if(K[1].t="s",W.vers==20768){C.l++;var re=C.read_shift(1);return K[1].v=C.read_shift(re,"utf8"),K}return W.qpro&&C.l++,K[1].v=C.read_shift(B-C.l,"cstr"),K}function h(C,U,W){var B=_t(7+W.length);B.write_shift(1,255),B.write_shift(2,U),B.write_shift(2,C),B.write_shift(1,39);for(var K=0;K<B.length;++K){var re=W.charCodeAt(K);B.write_shift(1,re>=128?95:re)}return B.write_shift(1,0),B}function m(C,U,W){var B=u(C,U,W);return B[1].v=C.read_shift(2,"i"),B}function p(C,U,W){var B=_t(7);return B.write_shift(1,255),B.write_shift(2,U),B.write_shift(2,C),B.write_shift(2,W,"i"),B}function y(C,U,W){var B=u(C,U,W);return B[1].v=C.read_shift(8,"f"),B}function v(C,U,W){var B=_t(13);return B.write_shift(1,255),B.write_shift(2,U),B.write_shift(2,C),B.write_shift(8,W,"f"),B}function g(C,U,W){var B=C.l+U,K=u(C,U,W);if(K[1].v=C.read_shift(8,"f"),W.qpro)C.l=B;else{var re=C.read_shift(2);N(C.slice(C.l,C.l+re),K),C.l+=re}return K}function b(C,U,W){var B=U&32768;return U&=-32769,U=(B?C:0)+(U>=8192?U-16384:U),(B?"":"$")+(W?Ma(U):si(U))}var w={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},j=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function N(C,U){ss(C,0);for(var W=[],B=0,K="",re="",fe="",ce="";C.l<C.length;){var he=C[C.l++];switch(he){case 0:W.push(C.read_shift(8,"f"));break;case 1:re=b(U[0].c,C.read_shift(2),!0),K=b(U[0].r,C.read_shift(2),!1),W.push(re+K);break;case 2:{var Oe=b(U[0].c,C.read_shift(2),!0),ee=b(U[0].r,C.read_shift(2),!1);re=b(U[0].c,C.read_shift(2),!0),K=b(U[0].r,C.read_shift(2),!1),W.push(Oe+ee+":"+re+K)}break;case 3:if(C.l<C.length){console.error("WK1 premature formula end");return}break;case 4:W.push("("+W.pop()+")");break;case 5:W.push(C.read_shift(2));break;case 6:{for(var De="";he=C[C.l++];)De+=String.fromCharCode(he);W.push('"'+De.replace(/"/g,'""')+'"')}break;case 8:W.push("-"+W.pop());break;case 23:W.push("+"+W.pop());break;case 22:W.push("NOT("+W.pop()+")");break;case 20:case 21:ce=W.pop(),fe=W.pop(),W.push(["AND","OR"][he-20]+"("+fe+","+ce+")");break;default:if(he<32&&j[he])ce=W.pop(),fe=W.pop(),W.push(fe+j[he]+ce);else if(w[he]){if(B=w[he][1],B==69&&(B=C[C.l++]),B>W.length){console.error("WK1 bad formula parse 0x"+he.toString(16)+":|"+W.join("|")+"|");return}var je=W.slice(-B);W.length-=B,W.push(w[he][0]+"("+je.join(",")+")")}else return he<=7?console.error("WK1 invalid opcode "+he.toString(16)):he<=24?console.error("WK1 unsupported op "+he.toString(16)):he<=30?console.error("WK1 invalid opcode "+he.toString(16)):he<=115?console.error("WK1 unsupported function opcode "+he.toString(16)):console.error("WK1 unrecognized opcode "+he.toString(16))}}W.length==1?U[1].f=""+W[0]:console.error("WK1 bad formula parse |"+W.join("|")+"|")}function S(C){var U=[{c:0,r:0},{t:"n",v:0},0];return U[0].r=C.read_shift(2),U[3]=C[C.l++],U[0].c=C[C.l++],U}function P(C,U){var W=S(C);return W[1].t="s",W[1].v=C.read_shift(U-4,"cstr"),W}function A(C,U,W,B){var K=_t(6+B.length);K.write_shift(2,C),K.write_shift(1,W),K.write_shift(1,U),K.write_shift(1,39);for(var re=0;re<B.length;++re){var fe=B.charCodeAt(re);K.write_shift(1,fe>=128?95:fe)}return K.write_shift(1,0),K}function O(C,U){var W=S(C);W[1].v=C.read_shift(2);var B=W[1].v>>1;if(W[1].v&1)switch(B&7){case 0:B=(B>>3)*5e3;break;case 1:B=(B>>3)*500;break;case 2:B=(B>>3)/20;break;case 3:B=(B>>3)/200;break;case 4:B=(B>>3)/2e3;break;case 5:B=(B>>3)/2e4;break;case 6:B=(B>>3)/16;break;case 7:B=(B>>3)/64;break}return W[1].v=B,W}function M(C,U){var W=S(C),B=C.read_shift(4),K=C.read_shift(4),re=C.read_shift(2);if(re==65535)return B===0&&K===3221225472?(W[1].t="e",W[1].v=15):B===0&&K===3489660928?(W[1].t="e",W[1].v=42):W[1].v=0,W;var fe=re&32768;return re=(re&32767)-16446,W[1].v=(1-fe*2)*(K*Math.pow(2,re+32)+B*Math.pow(2,re)),W}function F(C,U,W,B){var K=_t(14);if(K.write_shift(2,C),K.write_shift(1,W),K.write_shift(1,U),B==0)return K.write_shift(4,0),K.write_shift(4,0),K.write_shift(2,65535),K;var re=0,fe=0,ce=0,he=0;return B<0&&(re=1,B=-B),fe=Math.log2(B)|0,B/=Math.pow(2,fe-31),he=B>>>0,(he&2147483648)==0&&(B/=2,++fe,he=B>>>0),B-=he,he|=2147483648,he>>>=0,B*=Math.pow(2,32),ce=B>>>0,K.write_shift(4,ce),K.write_shift(4,he),fe+=16383+(re?32768:0),K.write_shift(2,fe),K}function E(C,U){var W=M(C);return C.l+=U-14,W}function T(C,U){var W=S(C),B=C.read_shift(4);return W[1].v=B>>6,W}function I(C,U){var W=S(C),B=C.read_shift(8,"f");return W[1].v=B,W}function z(C,U){var W=I(C);return C.l+=U-10,W}function Q(C,U){return C[C.l+U-1]==0?C.read_shift(U,"cstr"):""}function te(C,U){var W=C[C.l++];W>U-1&&(W=U-1);for(var B="";B.length<W;)B+=String.fromCharCode(C[C.l++]);return B}function J(C,U,W){if(!(!W.qpro||U<21)){var B=C.read_shift(1);C.l+=17,C.l+=1,C.l+=2;var K=C.read_shift(U-21,"cstr");return[B,K]}}function ie(C,U){for(var W={},B=C.l+U;C.l<B;){var K=C.read_shift(2);if(K==14e3){for(W[K]=[0,""],W[K][0]=C.read_shift(2);C[C.l];)W[K][1]+=String.fromCharCode(C[C.l]),C.l++;C.l++}}return W}function X(C,U){var W=_t(5+C.length);W.write_shift(2,14e3),W.write_shift(2,U);for(var B=0;B<C.length;++B){var K=C.charCodeAt(B);W[W.l++]=K>127?95:K}return W[W.l++]=0,W}var Z={0:{n:"BOF",f:pi},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:m},14:{n:"NUMBER",f:y},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:g},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Q},222:{n:"SHEETNAMELP",f:te},65535:{n:""}},q={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:P},23:{n:"NUMBER17",f:M},24:{n:"NUMBER18",f:O},25:{n:"FORMULA19",f:E},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ie},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:T},38:{n:"??"},39:{n:"NUMBER27",f:I},40:{n:"FORMULA28",f:z},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Q},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:J},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}})();function Joe(e){var t={},r=e.match(Ls),n=0,a=!1;if(r)for(;n!=r.length;++n){var s=Zr(r[n]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;t.cp=a3[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=s.val;break;case"<sz":t.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":s.rgb&&(t.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(s[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+s[0])}}return t}var Qoe=(function(){var e=ix("t"),t=ix("rPr");function r(s){var o=s.match(e);if(!o)return{t:"s",v:""};var l={t:"s",v:Mn(o[1])},c=s.match(t);return c&&(l.s=Joe(c[1])),l}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(o){return o.replace(n,"").split(a).map(r).filter(function(l){return l.v})}})(),Zoe=(function(){var t=/(\r\n|\n)/g;function r(a,s,o){var l=[];a.u&&l.push("text-decoration: underline;"),a.uval&&l.push("text-underline-style:"+a.uval+";"),a.sz&&l.push("font-size:"+a.sz+"pt;"),a.outline&&l.push("text-effect: outline;"),a.shadow&&l.push("text-shadow: auto;"),s.push('<span style="'+l.join("")+'">'),a.b&&(s.push("<b>"),o.push("</b>")),a.i&&(s.push("<i>"),o.push("</i>")),a.strike&&(s.push("<s>"),o.push("</s>"));var c=a.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(s.push("<"+c+">"),o.push("</"+c+">")),o.push("</span>"),a}function n(a){var s=[[],a.v,[]];return a.v?(a.s&&r(a.s,s[0],s[2]),s[0].join("")+s[1].replace(t,"<br/>")+s[2].join("")):""}return function(s){return s.map(n).join("")}})(),ele=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,tle=/<(?:\w+:)?r>/,rle=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function E3(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Mn(ca(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=ca(e),r&&(n.h=p3(n.t))):e.match(tle)&&(n.r=ca(e),n.t=Mn(ca((e.replace(rle,"").match(ele)||[]).join("").replace(Ls,""))),r&&(n.h=Zoe(Qoe(n.r)))),n):{t:""}}var nle=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,ale=/<(?:\w+:)?(?:si|sstItem)>/g,ile=/<\/(?:\w+:)?(?:si|sstItem)>/;function sle(e,t){var r=[],n="";if(!e)return r;var a=e.match(nle);if(a){n=a[2].replace(ale,"").split(ile);for(var s=0;s!=n.length;++s){var o=E3(n[s].trim(),t);o!=null&&(r[r.length]=o)}a=Zr(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}var ole=/^\s|\s$|[\t\n\r]/;function cM(e,t){if(!t.bookSST)return"";var r=[li];r[r.length]=tr("sst",null,{xmlns:b0[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],s="<si>";a.r?s+=a.r:(s+="<t",a.t||(a.t=""),a.t.match(ole)&&(s+=' xml:space="preserve"'),s+=">"+ia(a.t)+"</t>"),s+="</si>",r[r.length]=s}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function lle(e){return[e.read_shift(4),e.read_shift(4)]}function cle(e,t){var r=[],n=!1;return Xu(e,function(s,o,l){switch(l){case 159:r.Count=s[0],r.Unique=s[1];break;case 19:r.push(s);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(o.T,!n||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),r}function ule(e,t){return t||(t=_t(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var dle=wie;function fle(e){var t=bo();Ut(t,159,ule(e));for(var r=0;r<e.length;++r)Ut(t,19,dle(e[r]));return Ut(t,160),t.end()}function uM(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function Lu(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function hle(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Lu(e,4),t.U=Lu(e,4),t.W=Lu(e,4),t}function ple(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),s=[];a-- >0;)s.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=s,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function mle(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(ple(e));return t}function xle(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function gle(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Lu(e,4),t.U=Lu(e,4),t.W=Lu(e,4),t}function vle(e){var t=gle(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function dM(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function fM(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function yle(e){var t=Lu(e);switch(t.Minor){case 2:return[t.Minor,ble(e)];case 3:return[t.Minor,wle()];case 4:return[t.Minor,Nle(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function ble(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=dM(e,r),a=fM(e,e.length-e.l);return{t:"Std",h:n,v:a}}function wle(){throw new Error("File is password-protected: ECMA-376 Extensible")}function Nle(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Ls,function(s){var o=Zr(s);switch(Yc(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(l){n[l]=o[l]});break;case"<dataIntegrity":n.encryptedHmacKey=o.encryptedHmacKey,n.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(o);break;default:throw o[0]}}),n}function jle(e,t){var r={},n=r.EncryptionVersionInfo=Lu(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=dM(e,a),t-=a,r.EncryptionVerifier=fM(e,t),r}function kle(e){var t={},r=t.EncryptionVersionInfo=Lu(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function C3(e){var t=0,r,n=uM(e),a=n.length+1,s,o,l,c,u;for(r=Xd(a),r[0]=n.length,s=1;s!=a;++s)r[s]=n[s-1];for(s=a-1;s>=0;--s)o=r[s],l=(t&16384)===0?0:1,c=t<<1&32767,u=l|c,t=u^o;return t^52811}var hM=(function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(o){return(o/2|o*128)&255},a=function(o,l){return n(o^l)},s=function(o){for(var l=t[o.length-1],c=104,u=o.length-1;u>=0;--u)for(var d=o[u],h=0;h!=7;++h)d&64&&(l^=r[c]),d*=2,--c;return l};return function(o){for(var l=uM(o),c=s(l),u=l.length,d=Xd(16),h=0;h!=16;++h)d[h]=0;var m,p,y;for((u&1)===1&&(m=c>>8,d[u]=a(e[0],m),--u,m=c&255,p=l[l.length-1],d[u]=a(p,m));u>0;)--u,m=c>>8,d[u]=a(l[u],m),--u,m=c&255,d[u]=a(l[u],m);for(u=15,y=15-l.length;y>0;)m=c>>8,d[u]=a(e[y],m),--u,--y,m=c&255,d[u]=a(l[u],m),--u,--y;return d}})(),Sle=function(e,t,r,n,a){a||(a=t),n||(n=hM(e));var s,o;for(s=0;s!=t.length;++s)o=t[s],o^=n[r],o=(o>>5|o<<3)&255,a[s]=o,++r;return[a,r,n]},_le=function(e){var t=0,r=hM(e);return function(n){var a=Sle("",n,t,r);return t=a[1],a[0]}};function Ale(e,t,r,n){var a={key:pi(e),verificationBytes:pi(e)};return r.password&&(a.verifier=C3(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=_le(r.password)),a}function Ele(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=kle(e):n.Data=jle(e,t),n}function Cle(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?Ele(e,t-2,n):Ale(e,r.biff>=8?t:t-2,r,n),n}var pM=(function(){function e(a,s){switch(s.type){case"base64":return t(Uo(a),s);case"binary":return t(a,s);case"buffer":return t(xn&&Buffer.isBuffer(a)?a.toString("binary"):lf(a),s);case"array":return t(u0(a),s)}throw new Error("Unrecognized type "+s.type)}function t(a,s){var o=s||{},l=o.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,h){Array.isArray(l)&&(l[h]=[]);for(var m=/\\\w+\b/g,p=0,y,v=-1;y=m.exec(d);){switch(y[0]){case"\\cell":var g=d.slice(p,m.lastIndex-y[0].length);if(g[0]==" "&&(g=g.slice(1)),++v,g.length){var b={v:g,t:"s"};Array.isArray(l)?l[h][v]=b:l[Yr({r:h,c:v})]=b}break}p=m.lastIndex}v>u.e.c&&(u.e.c=v)}),l["!ref"]=un(u),l}function r(a,s){return cf(e(a,s),s)}function n(a){for(var s=["{\\rtf1\\ansi"],o=Rn(a["!ref"]),l,c=Array.isArray(a),u=o.s.r;u<=o.e.r;++u){s.push("\\trowd\\trautofit1");for(var d=o.s.c;d<=o.e.c;++d)s.push("\\cellx"+(d+1));for(s.push("\\pard\\intbl"),d=o.s.c;d<=o.e.c;++d){var h=Yr({r:u,c:d});l=c?(a[u]||[])[d]:a[h],!(!l||l.v==null&&(!l.f||l.F))&&(s.push(" "+(l.w||($u(l),l.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}})();function Tle(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function cx(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function Ole(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),s=Math.min(t,r,n),o=a-s;if(o===0)return[0,0,t];var l=0,c=0,u=a+s;switch(c=o/(u>1?2-u:u),a){case t:l=((r-n)/o+6)%6;break;case r:l=(n-t)/o+2;break;case n:l=(t-r)/o+4;break}return[l/6,c,u/2]}function Ple(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),s=n-a/2,o=[s,s,s],l=6*t,c;if(r!==0)switch(l|0){case 0:case 6:c=a*l,o[0]+=a,o[1]+=c;break;case 1:c=a*(2-l),o[0]+=c,o[1]+=a;break;case 2:c=a*(l-2),o[1]+=a,o[2]+=c;break;case 3:c=a*(4-l),o[1]+=c,o[2]+=a;break;case 4:c=a*(l-4),o[2]+=a,o[0]+=c;break;case 5:c=a*(6-l),o[2]+=c,o[0]+=a;break}for(var u=0;u!=3;++u)o[u]=Math.round(o[u]*255);return o}function A1(e,t){if(t===0)return e;var r=Ole(Tle(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),cx(Ple(r))}var mM=6,Ile=15,Dle=1,Cs=mM;function ux(e){return Math.floor((e+Math.round(128/Cs)/256)*Cs)}function dx(e){return Math.floor((e-5)/Cs*100+.5)/100}function E1(e){return Math.round((e*Cs+5)/Cs*256)/256}function AN(e){return E1(dx(ux(e)))}function T3(e){var t=Math.abs(e-AN(e)),r=Cs;if(t>.005)for(Cs=Dle;Cs<Ile;++Cs)Math.abs(e-AN(e))<=t&&(t=Math.abs(e-AN(e)),r=Cs);Cs=r}function Yd(e){e.width?(e.wpx=ux(e.width),e.wch=dx(e.wpx),e.MDW=Cs):e.wpx?(e.wch=dx(e.wpx),e.width=E1(e.wch),e.MDW=Cs):typeof e.wch=="number"&&(e.width=E1(e.wch),e.wpx=ux(e.width),e.MDW=Cs),e.customWidth&&delete e.customWidth}var Lle=96,xM=Lle;function fx(e){return e*96/xM}function Qh(e){return e*xM/96}var Fle={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function Mle(e,t,r,n){t.Borders=[];var a={},s=!1;(e[0].match(Ls)||[]).forEach(function(o){var l=Zr(o);switch(Yc(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},l.diagonalUp&&(a.diagonalUp=ja(l.diagonalUp)),l.diagonalDown&&(a.diagonalDown=ja(l.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+l[0]+" in borders")}})}function Rle(e,t,r,n){t.Fills=[];var a={},s=!1;(e[0].match(Ls)||[]).forEach(function(o){var l=Zr(o);switch(Yc(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":l.patternType&&(a.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),l.indexed&&(a.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(a.bgColor.theme=parseInt(l.theme,10)),l.tint&&(a.bgColor.tint=parseFloat(l.tint)),l.rgb&&(a.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),l.theme&&(a.fgColor.theme=parseInt(l.theme,10)),l.tint&&(a.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(a.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+l[0]+" in fills")}})}function Ble(e,t,r,n){t.Fonts=[];var a={},s=!1;(e[0].match(Ls)||[]).forEach(function(o){var l=Zr(o);switch(Yc(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":l.val&&(a.name=ca(l.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=l.val?ja(l.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=l.val?ja(l.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(l.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=l.val?ja(l.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=l.val?ja(l.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=l.val?ja(l.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=l.val?ja(l.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=l.val?ja(l.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":l.val&&(a.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(a.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(a.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(a.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=a3[parseInt(l.val,10)];break;case"<color":if(a.color||(a.color={}),l.auto&&(a.color.auto=ja(l.auto)),l.rgb)a.color.rgb=l.rgb.slice(-6);else if(l.indexed){a.color.index=parseInt(l.indexed,10);var c=Qf[a.color.index];a.color.index==81&&(c=Qf[1]),c||(c=Qf[1]),a.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else l.theme&&(a.color.theme=parseInt(l.theme,10),l.tint&&(a.color.tint=parseFloat(l.tint)),l.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=A1(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+l[0]+" in fonts")}})}function Ule(e,t,r){t.NumberFmt=[];for(var n=Ya(Vr),a=0;a<n.length;++a)t.NumberFmt[n[a]]=Vr[n[a]];var s=e[0].match(Ls);if(s)for(a=0;a<s.length;++a){var o=Zr(s[a]);switch(Yc(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=Mn(ca(o.formatCode)),c=parseInt(o.numFmtId,10);if(t.NumberFmt[c]=l,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=l}Du(l,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}function qle(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=tr("numFmt",null,{numFmtId:n,formatCode:ia(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=tr("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var Vg=["numFmtId","fillId","fontId","borderId","xfId"],Gg=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function $le(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(Ls)||[]).forEach(function(s){var o=Zr(s),l=0;switch(Yc(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=o,delete n[0],l=0;l<Vg.length;++l)n[Vg[l]]&&(n[Vg[l]]=parseInt(n[Vg[l]],10));for(l=0;l<Gg.length;++l)n[Gg[l]]&&(n[Gg[l]]=ja(n[Gg[l]]));if(t.NumberFmt&&n.numFmtId>392){for(l=392;l>60;--l)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[l]){n.numFmtId=l;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};o.vertical&&(c.vertical=o.vertical),o.horizontal&&(c.horizontal=o.horizontal),o.textRotation!=null&&(c.textRotation=o.textRotation),o.indent&&(c.indent=o.indent),o.wrapText&&(c.wrapText=ja(o.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}function zle(e){var t=[];return t[t.length]=tr("cellXfs",null),e.forEach(function(r){t[t.length]=tr("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=tr("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var Hle=(function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,c,u){var d={};if(!l)return d;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var h;return(h=l.match(t))&&Ule(h,d,u),(h=l.match(a))&&Ble(h,d,c,u),(h=l.match(n))&&Rle(h,d,c,u),(h=l.match(s))&&Mle(h,d,c,u),(h=l.match(r))&&$le(h,d,u),d}})();function gM(e,t){var r=[li,tr("styleSheet",null,{xmlns:b0[0],"xmlns:vt":Si.vt})],n;return e.SSF&&(n=qle(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=zle(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function Wle(e,t){var r=e.read_shift(2),n=Is(e);return[r,n]}function Vle(e,t,r){r||(r=_t(6+4*t.length)),r.write_shift(2,e),Hi(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function Gle(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=Eie(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var s=e.read_shift(2);switch(s===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(n.underline=o);var l=e.read_shift(1);l>0&&(n.family=l);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=Aie(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Is(e),n}function Kle(e,t){t||(t=_t(153)),t.write_shift(2,e.sz*20),Cie(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),k1(e.color,t);var n=0;return n=2,t.write_shift(1,n),Hi(e.name,t),t.length>t.l?t.slice(0,t.l):t}var Xle=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],EN,Yle=Ds;function x8(e,t){t||(t=_t(84)),EN||(EN=vy(Xle));var r=EN[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(k1({auto:1},t),k1({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function Jle(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function vM(e,t,r){r||(r=_t(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Hp(e,t){return t||(t=_t(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var Qle=Ds;function Zle(e,t){return t||(t=_t(51)),t.write_shift(1,0),Hp(null,t),Hp(null,t),Hp(null,t),Hp(null,t),Hp(null,t),t.length>t.l?t.slice(0,t.l):t}function ece(e,t){return t||(t=_t(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),j1(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function tce(e,t,r){var n=_t(2052);return n.write_shift(4,e),j1(t,n),j1(r,n),n.length>n.l?n.slice(0,n.l):n}function rce(e,t,r){var n={};n.NumberFmt=[];for(var a in Vr)n.NumberFmt[a]=Vr[a];n.CellXf=[],n.Fonts=[];var s=[],o=!1;return Xu(e,function(c,u,d){switch(d){case 44:n.NumberFmt[c[0]]=c[1],Du(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=A1(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:s.push(d),o=!0;break;case 38:s.pop(),o=!1;break;default:if(u.T>0)s.push(d);else if(u.T<0)s.pop();else if(!o||r.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}function nce(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(Ut(e,615,fc(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&Ut(e,44,Vle(a,t[a]))}),Ut(e,616))}}function ace(e){var t=1;Ut(e,611,fc(t)),Ut(e,43,Kle({sz:12,color:{theme:1},name:"Calibri",family:2})),Ut(e,612)}function ice(e){var t=2;Ut(e,603,fc(t)),Ut(e,45,x8({patternType:"none"})),Ut(e,45,x8({patternType:"gray125"})),Ut(e,604)}function sce(e){var t=1;Ut(e,613,fc(t)),Ut(e,46,Zle()),Ut(e,614)}function oce(e){var t=1;Ut(e,626,fc(t)),Ut(e,47,vM({numFmtId:0},65535)),Ut(e,627)}function lce(e,t){Ut(e,617,fc(t.length)),t.forEach(function(r){Ut(e,47,vM(r,0))}),Ut(e,618)}function cce(e){var t=1;Ut(e,619,fc(t)),Ut(e,48,ece({xfId:0,name:"Normal"})),Ut(e,620)}function uce(e){var t=0;Ut(e,505,fc(t)),Ut(e,506)}function dce(e){var t=0;Ut(e,508,tce(t,"TableStyleMedium9","PivotStyleMedium4")),Ut(e,509)}function fce(e,t){var r=bo();return Ut(r,278),nce(r,e.SSF),ace(r),ice(r),sce(r),oce(r),lce(r,t.cellXfs),cce(r),uce(r),dce(r),Ut(r,279),r.end()}var hce=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function pce(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Ls)||[]).forEach(function(a){var s=Zr(a);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=s.val;break;case"<a:sysClr":n.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(t.themeElements.clrScheme[hce.indexOf(s[0])]=n,n={}):n.name=s[0].slice(3,s[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function mce(){}function xce(){}var gce=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,vce=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,yce=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function bce(e,t,r){t.themeElements={};var n;[["clrScheme",gce,pce],["fontScheme",vce,mce],["fmtScheme",yce,xce]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var wce=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function yM(e,t){(!e||e.length===0)&&(e=O3());var r,n={};if(!(r=e.match(wce)))throw new Error("themeElements not found in theme");return bce(r[0],n,t),n.raw=e,n}function O3(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[li];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function Nce(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var s=e.slice(e.l);e.l=n;var o;try{o=d7(s,{type:"array"})}catch{return}var l=Mo(o,"theme/theme/theme1.xml",!0);if(l)return yM(l,r)}}function jce(e){return e.read_shift(4)}function kce(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=Sce(e,4);break;case 2:t.xclrValue=Q7(e);break;case 3:t.xclrValue=jce(e);break;case 4:e.l+=4;break}return e.l+=8,t}function Sce(e,t){return Ds(e,t)}function _ce(e,t){return Ds(e,t)}function Ace(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=kce(e);break;case 6:n[1]=_ce(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function Ece(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),s=[];a-- >0;)s.push(Ace(e,r-e.l));return{ixfe:n,ext:s}}function Cce(e,t){t.forEach(function(r){r[0]})}function Tce(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Is(e)}}function Oce(e){var t=_t(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Hi(e.name,t),t.slice(0,t.l)}function Pce(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function Ice(e){var t=_t(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function Dce(e,t){var r=_t(8+2*t.length);return r.write_shift(4,e),Hi(t,r),r.slice(0,r.l)}function Lce(e){return e.l+=4,e.read_shift(4)!=0}function Fce(e,t){var r=_t(8);return r.write_shift(4,e),r.write_shift(4,1),r}function Mce(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},s=[],o=!1,l=2;return Xu(e,function(c,u,d){switch(d){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(h){l==1?n.Cell.push({type:n.Types[h[0]-1].name,index:h[1]}):l==0&&n.Value.push({type:n.Types[h[0]-1].name,index:h[1]})});break;case 337:l=c?1:0;break;case 338:l=2;break;case 35:s.push(d),o=!0;break;case 36:s.pop(),o=!1;break;default:if(!u.T){if(!o||a.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function Rce(){var e=bo();return Ut(e,332),Ut(e,334,fc(1)),Ut(e,335,Oce({name:"XLDAPR",version:12e4,flags:3496657072})),Ut(e,336),Ut(e,339,Dce(1,"XLDAPR")),Ut(e,52),Ut(e,35,fc(514)),Ut(e,4096,fc(0)),Ut(e,4097,dl(1)),Ut(e,36),Ut(e,53),Ut(e,340),Ut(e,337,Fce(1)),Ut(e,51,Ice([[1,0]])),Ut(e,338),Ut(e,333),e.end()}function Bce(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,s=2,o;return e.replace(Ls,function(l){var c=Zr(l);switch(Yc(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==c.name&&(o=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):s==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+c.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return l}),n}function bM(){var e=[li];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function Uce(e){var t=[];if(!e)return t;var r=1;return(e.match(Ls)||[]).forEach(function(n){var a=Zr(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function qce(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Yr(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function $ce(e,t,r){var n=[];return Xu(e,function(s,o,l){switch(l){case 63:n.push(s);break;default:if(!o.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),n}function zce(e,t,r,n){if(!e)return e;var a=n||{},s=!1;Xu(e,function(l,c,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!c.T){if(!s||a.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},a)}function Hce(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}var lh=1024;function wM(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[tr("xml",null,{"xmlns:v":Io.v,"xmlns:o":Io.o,"xmlns:x":Io.x,"xmlns:mv":Io.mv}).replace(/\/>/,">"),tr("o:shapelayout",tr("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),tr("v:shapetype",[tr("v:stroke",null,{joinstyle:"miter"}),tr("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];lh<e*1e3;)lh+=1e3;return t.forEach(function(s){var o=Ra(s[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?tr("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=tr("v:fill",c,l),d={on:"t",obscured:"t"};++lh,a=a.concat(["<v:shape"+sx({id:"_x0000_s"+lh,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,tr("v:shadow",null,d),tr("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",os("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),os("x:AutoFill","False"),os("x:Row",String(o.r)),os("x:Column",String(o.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function g8(e,t,r,n){var a=Array.isArray(e),s;t.forEach(function(o){var l=Ra(o.ref);if(a?(e[l.r]||(e[l.r]=[]),s=e[l.r][l.c]):s=e[o.ref],!s){s={t:"z"},a?e[l.r][l.c]=s:e[o.ref]=s;var c=Rn(e["!ref"]||"BDWGO1000001:A1");c.s.r>l.r&&(c.s.r=l.r),c.e.r<l.r&&(c.e.r=l.r),c.s.c>l.c&&(c.s.c=l.c),c.e.c<l.c&&(c.e.c=l.c);var u=un(c);u!==e["!ref"]&&(e["!ref"]=u)}s.c||(s.c=[]);var d={a:o.author,t:o.t,r:o.r,T:r};o.h&&(d.h=o.h);for(var h=s.c.length-1;h>=0;--h){if(!r&&s.c[h].T)return;r&&!s.c[h].T&&s.c.splice(h,1)}if(r&&n){for(h=0;h<n.length;++h)if(d.a==n[h].id){d.a=n[h].name||d.a;break}}s.c.push(d)})}function Wce(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&r.push(l[1])}});var s=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?comment[^>]*>/);if(l){var c=Zr(l[0]),u={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},d=Ra(c.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var h=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),m=!!h&&!!h[1]&&E3(h[1])||{r:"",t:"",h:""};u.r=m.r,m.r=="<t></t>"&&(m.t=m.h=""),u.t=(m.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=m.h),n.push(u)}}}}),n}function NM(e){var t=[li,tr("comments",null,{xmlns:b0[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var s=ia(a.a);r.indexOf(s)==-1&&(r.push(s),t.push("<author>"+s+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,s=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(a=r.indexOf(ia(c.a))),s.push(c.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),s.length<=1)t.push(os("t",ia(s[0]||"")));else{for(var o=`Comment:
    `+s[0]+`
`,l=1;l<s.length;++l)o+=`Reply:
    `+s[l]+`
`;t.push(os("t",ia(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function Vce(e,t){var r=[],n=!1,a={},s=0;return e.replace(Ls,function(l,c){var u=Zr(l);switch(Yc(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":s=c+l.length;break;case"</text>":a.t=e.slice(s,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return l}),r}function Gce(e,t,r){var n=[li,tr("ThreadedComments",null,{xmlns:Si.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var s="";(a[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?s=c.id:c.parentId=s,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),n.push(tr("threadedComment",os("text",o.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function Kce(e,t){var r=[],n=!1;return e.replace(Ls,function(s){var o=Zr(s);switch(Yc(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return s}),r}function Xce(e){var t=[li,tr("personList",null,{xmlns:Si.TCMNT,"xmlns:x":b0[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(tr("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function Yce(e){var t={};t.iauthor=e.read_shift(4);var r=k0(e);return t.rfx=r.s,t.ref=Yr(r.s),e.l+=16,t}function Jce(e,t){return t==null&&(t=_t(36)),t.write_shift(4,e[1].iauthor),hp(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var Qce=Is;function Zce(e){return Hi(e.slice(0,54))}function eue(e,t){var r=[],n=[],a={},s=!1;return Xu(e,function(l,c,u){switch(u){case 632:n.push(l);break;case 635:a=l;break;case 637:a.t=l.t,a.h=l.h,a.r=l.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!s||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}function tue(e){var t=bo(),r=[];return Ut(t,628),Ut(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),Ut(t,632,Zce(a.a)))})}),Ut(t,631),Ut(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var s={s:Ra(n[0]),e:Ra(n[0])};Ut(t,635,Jce([s,a])),a.t&&a.t.length>0&&Ut(t,637,jie(a)),Ut(t,636),delete a.iauthor})}),Ut(t,634),Ut(t,629),t.end()}var rue="application/vnd.ms-office.vbaProject";function nue(e){var t=Rr.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Rr.utils.cfb_add(t,a,e.FileIndex[n].content)}}),Rr.write(t)}function aue(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&Rr.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var jM=["xlsb","xlsm","xlam","biff8","xla"];function iue(){return{"!type":"dialog"}}function sue(){return{"!type":"dialog"}}function oue(){return{"!type":"macro"}}function lue(){return{"!type":"macro"}}var vh=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,s,o){var l=!1,c=!1;s.length==0?c=!0:s.charAt(0)=="["&&(c=!0,s=s.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var u=s.length>0?parseInt(s,10)|0:0,d=o.length>0?parseInt(o,10)|0:0;return l?d+=t.c:--d,c?u+=t.r:--u,a+(l?"":"$")+Ma(d)+(c?"":"$")+si(u)}return function(a,s){return t=s,a.replace(e,r)}})(),P3=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,I3=(function(){return function(t,r){return t.replace(P3,function(n,a,s,o,l,c){var u=y3(o)-(s?0:r.c),d=v3(c)-(l?0:r.r),h=d==0?"":l?d+1:"["+d+"]",m=u==0?"":s?u+1:"["+u+"]";return a+"R"+h+"C"+m})}})();function kM(e,t){return e.replace(P3,function(r,n,a,s,o,l){return n+(a=="$"?a+s:Ma(y3(s)+t.c))+(o=="$"?o+l:si(v3(l)+t.r))})}function cue(e,t,r){var n=wo(t),a=n.s,s=Ra(r),o={r:s.r-a.r,c:s.c-a.c};return kM(e,o)}function uue(e){return e.length!=1}function v8(e){return e.replace(/_xlfn\./g,"")}function di(e){e.l+=1}function Jd(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function SM(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return _M(e);r.biff==12&&(n=4)}var a=e.read_shift(n),s=e.read_shift(n),o=Jd(e),l=Jd(e);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:l[0],cRel:l[1],rRel:l[2]}}}function _M(e){var t=Jd(e),r=Jd(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function due(e,t,r){if(r.biff<8)return _M(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),s=Jd(e),o=Jd(e);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function AM(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return fue(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Jd(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function fue(e){var t=Jd(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function hue(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function pue(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return mue(e);var a=e.read_shift(n>=12?4:2),s=e.read_shift(2),o=(s&16384)>>14,l=(s&32768)>>15;if(s&=16383,l==1)for(;a>524287;)a-=1048576;if(o==1)for(;s>8191;)s=s-16384;return{r:a,c:s,cRel:o,rRel:l}}function mue(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function xue(e,t,r){var n=(e[e.l++]&96)>>5,a=SM(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function gue(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var o=SM(e,s,r);return[n,a,o]}function vue(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function yue(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[n,a]}function bue(e,t,r){var n=(e[e.l++]&96)>>5,a=due(e,t-1,r);return[n,a]}function wue(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function y8(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function Nue(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],s=0;s<=n;++s)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function jue(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function kue(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Sue(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function _ue(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function EM(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function Aue(e){return e.read_shift(2),EM(e)}function Eue(e){return e.read_shift(2),EM(e)}function Cue(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=AM(e,0,r);return[n,a]}function Tue(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=pue(e,0,r);return[n,a]}function Oue(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var s=AM(e,0,r);return[n,a,s]}function Pue(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[Lde[a],OM[a],n]}function Iue(e,t,r){var n=e[e.l++],a=e.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:Due(e);return[a,(s[0]===0?OM:Dde)[s[1]]]}function Due(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function Lue(e,t,r){e.l+=r&&r.biff==2?3:4}function Fue(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Mue(e){return e.l++,Yu[e.read_shift(1)]}function Rue(e){return e.l++,e.read_shift(2)}function Bue(e){return e.l++,e.read_shift(1)!==0}function Uue(e){return e.l++,Os(e)}function que(e,t,r){return e.l++,Tx(e,t-1,r)}function $ue(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=ri(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Yu[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Os(e);break;case 2:r[1]=S0(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function zue(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],s=0;s!=n;++s)a.push((r.biff==12?k0:wy)(e));return a}function Hue(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var s=0,o=[];s!=n&&(o[s]=[]);++s)for(var l=0;l!=a;++l)o[s][l]=$ue(e,r.biff);return o}function Wue(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,s=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,s]}function Vue(e,t,r){if(r.biff==5)return Gue(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),s=e.read_shift(4);return[n,a,s]}function Gue(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function Kue(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Xue(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Yue(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function Jue(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[n,a]}var Que=Ds,Zue=Ds,ede=Ds;function Px(e,t,r){return e.l+=2,[hue(e)]}function D3(e){return e.l+=6,[]}var tde=Px,rde=D3,nde=D3,ade=Px;function CM(e){return e.l+=2,[pi(e),e.read_shift(2)&1]}var ide=Px,sde=CM,ode=D3,lde=Px,cde=Px,ude=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function dde(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),s=e.read_shift(2),o=ude[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:n,c:a,C:s}}function fde(e){return e.l+=2,[e.read_shift(4)]}function hde(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function pde(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function mde(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function xde(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function gde(e){return e.l+=4,[0,0]}var b8={1:{n:"PtgExp",f:Fue},2:{n:"PtgTbl",f:ede},3:{n:"PtgAdd",f:di},4:{n:"PtgSub",f:di},5:{n:"PtgMul",f:di},6:{n:"PtgDiv",f:di},7:{n:"PtgPower",f:di},8:{n:"PtgConcat",f:di},9:{n:"PtgLt",f:di},10:{n:"PtgLe",f:di},11:{n:"PtgEq",f:di},12:{n:"PtgGe",f:di},13:{n:"PtgGt",f:di},14:{n:"PtgNe",f:di},15:{n:"PtgIsect",f:di},16:{n:"PtgUnion",f:di},17:{n:"PtgRange",f:di},18:{n:"PtgUplus",f:di},19:{n:"PtgUminus",f:di},20:{n:"PtgPercent",f:di},21:{n:"PtgParen",f:di},22:{n:"PtgMissArg",f:di},23:{n:"PtgStr",f:que},26:{n:"PtgSheet",f:hde},27:{n:"PtgEndSheet",f:pde},28:{n:"PtgErr",f:Mue},29:{n:"PtgBool",f:Bue},30:{n:"PtgInt",f:Rue},31:{n:"PtgNum",f:Uue},32:{n:"PtgArray",f:wue},33:{n:"PtgFunc",f:Pue},34:{n:"PtgFuncVar",f:Iue},35:{n:"PtgName",f:Wue},36:{n:"PtgRef",f:Cue},37:{n:"PtgArea",f:xue},38:{n:"PtgMemArea",f:Kue},39:{n:"PtgMemErr",f:Que},40:{n:"PtgMemNoMem",f:Zue},41:{n:"PtgMemFunc",f:Xue},42:{n:"PtgRefErr",f:Yue},43:{n:"PtgAreaErr",f:vue},44:{n:"PtgRefN",f:Tue},45:{n:"PtgAreaN",f:bue},46:{n:"PtgMemAreaN",f:mde},47:{n:"PtgMemNoMemN",f:xde},57:{n:"PtgNameX",f:Vue},58:{n:"PtgRef3d",f:Oue},59:{n:"PtgArea3d",f:gue},60:{n:"PtgRefErr3d",f:Jue},61:{n:"PtgAreaErr3d",f:yue},255:{}},vde={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},yde={1:{n:"PtgElfLel",f:CM},2:{n:"PtgElfRw",f:lde},3:{n:"PtgElfCol",f:tde},6:{n:"PtgElfRwV",f:cde},7:{n:"PtgElfColV",f:ade},10:{n:"PtgElfRadical",f:ide},11:{n:"PtgElfRadicalS",f:ode},13:{n:"PtgElfColS",f:rde},15:{n:"PtgElfColSV",f:nde},16:{n:"PtgElfRadicalLel",f:sde},25:{n:"PtgList",f:dde},29:{n:"PtgSxName",f:fde},255:{}},bde={0:{n:"PtgAttrNoop",f:gde},1:{n:"PtgAttrSemi",f:_ue},2:{n:"PtgAttrIf",f:kue},4:{n:"PtgAttrChoose",f:Nue},8:{n:"PtgAttrGoto",f:jue},16:{n:"PtgAttrSum",f:Lue},32:{n:"PtgAttrBaxcel",f:y8},33:{n:"PtgAttrBaxcel",f:y8},64:{n:"PtgAttrSpace",f:Aue},65:{n:"PtgAttrSpaceSemi",f:Eue},128:{n:"PtgAttrIfError",f:Sue},255:{}};function Ix(e,t,r,n){if(n.biff<8)return Ds(e,t);for(var a=e.l+t,s=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=Hue(e,0,n),s.push(r[o][1]);break;case"PtgMemArea":r[o][2]=zue(e,r[o][1],n),s.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=e.read_shift(4),s.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=a-e.l,t!==0&&s.push(Ds(e,t)),s}function Dx(e,t,r){for(var n=e.l+t,a,s,o=[];n!=e.l;)t=n-e.l,s=e[e.l],a=b8[s]||b8[vde[s]],(s===24||s===25)&&(a=(s===24?yde:bde)[e[e.l+1]]),!a||!a.f?Ds(e,t):o.push([a.n,a.f(e,t,r)]);return o}function wde(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],s=0;s<n.length;++s){var o=n[s];o?o[0]===2?a.push('"'+o[1].replace(/"/g,'""')+'"'):a.push(o[1]):a.push("")}t.push(a.join(","))}return t.join(";")}var Nde={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function jde(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function TM(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function w8(e,t,r){var n=TM(e,t,r);return n=="#REF"?n:jde(n,r)}function _s(e,t,r,n,a){var s=a&&a.biff||8,o={s:{c:0,r:0}},l=[],c,u,d,h=0,m=0,p,y="";if(!e[0]||!e[0][0])return"";for(var v=-1,g="",b=0,w=e[0].length;b<w;++b){var j=e[0][b];switch(j[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),v>=0){switch(e[0][v][1][0]){case 0:g=Ga(" ",e[0][v][1][1]);break;case 1:g=Ga("\r",e[0][v][1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}u=u+g,v=-1}l.push(u+Nde[j[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=lm(j[1][1],o,a),l.push(cm(d,s));break;case"PtgRefN":d=r?lm(j[1][1],r,a):j[1][1],l.push(cm(d,s));break;case"PtgRef3d":h=j[1][1],d=lm(j[1][2],o,a),y=w8(n,h,a),l.push(y+"!"+cm(d,s));break;case"PtgFunc":case"PtgFuncVar":var N=j[1][0],S=j[1][1];N||(N=0),N&=127;var P=N==0?[]:l.slice(-N);l.length-=N,S==="User"&&(S=P.shift()),l.push(S+"("+P.join(",")+")");break;case"PtgBool":l.push(j[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(j[1]);break;case"PtgNum":l.push(String(j[1]));break;case"PtgStr":l.push('"'+j[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(j[1]);break;case"PtgAreaN":p=YP(j[1][1],r?{s:r}:o,a),l.push(kN(p,a));break;case"PtgArea":p=YP(j[1][1],o,a),l.push(kN(p,a));break;case"PtgArea3d":h=j[1][1],p=j[1][2],y=w8(n,h,a),l.push(y+"!"+kN(p,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":m=j[1][2];var A=(n.names||[])[m-1]||(n[0]||[])[m],O=A?A.Name:"SH33TJSNAME"+String(m);O&&O.slice(0,6)=="_xlfn."&&!a.xlfn&&(O=O.slice(6)),l.push(O);break;case"PtgNameX":var M=j[1][1];m=j[1][2];var F;if(a.biff<=5)M<0&&(M=-M),n[M]&&(F=n[M][m]);else{var E="";if(((n[M]||[])[0]||[])[0]==14849||(((n[M]||[])[0]||[])[0]==1025?n[M][m]&&n[M][m].itab>0&&(E=n.SheetNames[n[M][m].itab-1]+"!"):E=n.SheetNames[m-1]+"!"),n[M]&&n[M][m])E+=n[M][m].Name;else if(n[0]&&n[0][m])E+=n[0][m].Name;else{var T=(TM(n,M,a)||"").split(";;");T[m-1]?E=T[m-1]:E+="SH33TJSERRX"}l.push(E);break}F||(F={Name:"SH33TJSERRY"}),l.push(F.Name);break;case"PtgParen":var I="(",z=")";if(v>=0){switch(g="",e[0][v][1][0]){case 2:I=Ga(" ",e[0][v][1][1])+I;break;case 3:I=Ga("\r",e[0][v][1][1])+I;break;case 4:z=Ga(" ",e[0][v][1][1])+z;break;case 5:z=Ga("\r",e[0][v][1][1])+z;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}v=-1}l.push(I+l.pop()+z);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:j[1][1],r:j[1][0]};var Q={c:r.c,r:r.r};if(n.sharedf[Yr(d)]){var te=n.sharedf[Yr(d)];l.push(_s(te,o,Q,n,a))}else{var J=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){l.push(_s(u[1],o,Q,n,a)),J=!0;break}J||l.push(j[1])}break;case"PtgArray":l.push("{"+wde(j[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=b;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+j[1].idx+"[#"+j[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(j));default:throw new Error("Unrecognized Formula Token: "+String(j))}var ie=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&v>=0&&ie.indexOf(e[0][b][0])==-1){j=e[0][v];var X=!0;switch(j[1][0]){case 4:X=!1;case 0:g=Ga(" ",j[1][1]);break;case 5:X=!1;case 1:g=Ga("\r",j[1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+j[1][0])}l.push((X?g:"")+l.pop()+(X?"":g)),v=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function kde(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,o=e.read_shift(a);if(o==65535)return[[],Ds(e,t-2)];var l=Dx(e,o,r);return t!==o+a&&(s=Ix(e,t-o-a,l,r)),e.l=n,[l,s]}function Sde(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,o=e.read_shift(a);if(o==65535)return[[],Ds(e,t-2)];var l=Dx(e,o,r);return t!==o+a&&(s=Ix(e,t-o-a,l,r)),e.l=n,[l,s]}function _de(e,t,r,n){var a=e.l+t,s=Dx(e,n,r),o;return a!==e.l&&(o=Ix(e,a-e.l,s,r)),[s,o]}function Ade(e,t,r){var n=e.l+t,a,s=e.read_shift(2),o=Dx(e,s,r);return s==65535?[[],Ds(e,t-2)]:(t!==s+2&&(a=Ix(e,n-s-2,o,r)),[o,a])}function Ede(e){var t;if(Eu(e,e.l+6)!==65535)return[Os(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function Cde(e){if(e==null){var t=_t(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return d0(e);return d0(0)}function CN(e,t,r){var n=e.l+t,a=Jc(e);r.biff==2&&++e.l;var s=Ede(e),o=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var l=Sde(e,n-e.l,r);return{cell:a,val:s[0],formula:l,shared:o>>3&1,tt:s[1]}}function Tde(e,t,r,n,a){var s=h0(t,r,a),o=Cde(e.v),l=_t(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var u=_t(e.bf.length),d=0;d<e.bf.length;++d)u[d]=e.bf[d];var h=$i([s,o,l,u]);return h}function Ny(e,t,r){var n=e.read_shift(4),a=Dx(e,n,r),s=e.read_shift(4),o=s>0?Ix(e,s,a,r):null;return[a,o]}var Ode=Ny,jy=Ny,Pde=Ny,Ide=Ny,Dde={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},OM={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Lde={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function N8(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function Fde(e){var t="of:="+e.replace(P3,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function TN(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function Mde(e){return e.replace(/\./,"!")}var dm={},yh={},fm=typeof Map<"u";function L3(e,t,r){var n=0,a=e.length;if(r){if(fm?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var s=fm?r.get(t):r[t];n<s.length;++n)if(e[s[n]].t===t)return e.Count++,s[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(fm?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function ky(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(Cs=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=dx(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=E1(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function t0(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function uf(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,s=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){Du(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=s;++a)if(e[a].numFmtId===n)return a;return e[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function PM(e,t,r,n,a,s){try{n.cellNF&&(e.z=Vr[t])}catch(l){if(n.WTF)throw l}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Sa(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(Vr[t]==null&&Du(Dae[t]||"General",t),e.t==="e")e.w=e.w||Yu[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=ax(e.v);else if(e.t==="d"){var o=Ai(e.v);(o|0)===o?e.w=o.toString(10):e.w=ax(o)}else{if(e.v===void 0)return"";e.w=c0(e.v,yh)}else e.t==="d"?e.w=wl(t,Ai(e.v),yh):e.w=wl(t,e.v,yh)}catch(l){if(n.WTF)throw l}if(n.cellStyles&&r!=null)try{e.s=s.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=A1(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=A1(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(l){if(n.WTF&&s.Fills)throw l}}}function Rde(e,t,r){if(e&&e["!ref"]){var n=Rn(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function Bde(e,t){var r=Rn(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=un(r))}var Ude=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,qde=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,$de=/<(?:\w:)?hyperlink [^>]*>/mg,zde=/"(\w*:\w*)"/,Hde=/<(?:\w:)?col\b[^>]*[\/]?>/g,Wde=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,Vde=/<(?:\w:)?pageMargins[^>]*\/>/g,IM=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,Gde=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,Kde=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function Xde(e,t,r,n,a,s,o){if(!e)return e;n||(n={"!id":{}});var l=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",h=e.match(qde);h?(u=e.slice(0,h.index),d=e.slice(h.index+h[0].length)):u=d=e;var m=u.match(IM);m?F3(m[0],l,a,r):(m=u.match(Gde))&&Jde(m[0],m[1]||"",l,a,r);var p=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var y=u.slice(p,p+50).match(zde);y&&Bde(l,y[1])}var v=u.match(Kde);v&&v[1]&&ufe(v[1],a);var g=[];if(t.cellStyles){var b=u.match(Hde);b&&ife(g,b)}h&&hfe(h[1],l,t,c,s,o);var w=d.match(Wde);w&&(l["!autofilter"]=ofe(w[0]));var j=[],N=d.match(Ude);if(N)for(p=0;p!=N.length;++p)j[p]=Rn(N[p].slice(N[p].indexOf('"')+1));var S=d.match($de);S&&rfe(l,S,n);var P=d.match(Vde);if(P&&(l["!margins"]=nfe(Zr(P[0]))),!l["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(l["!ref"]=un(c)),t.sheetRows>0&&l["!ref"]){var A=Rn(l["!ref"]);t.sheetRows<=+A.e.r&&(A.e.r=t.sheetRows-1,A.e.r>c.e.r&&(A.e.r=c.e.r),A.e.r<A.s.r&&(A.s.r=A.e.r),A.e.c>c.e.c&&(A.e.c=c.e.c),A.e.c<A.s.c&&(A.s.c=A.e.c),l["!fullref"]=l["!ref"],l["!ref"]=un(A))}return g.length>0&&(l["!cols"]=g),j.length>0&&(l["!merges"]=j),l}function Yde(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+un(e[r])+'"/>';return t+"</mergeCells>"}function F3(e,t,r,n){var a=Zr(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=Mn(ca(a.codeName)))}function Jde(e,t,r,n,a){F3(e.slice(0,e.indexOf(">")),r,n,a)}function Qde(e,t,r,n,a){var s=!1,o={},l=null;if(n.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}s=!0,o.codeName=Uc(ia(c))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),l=(l||"")+tr("outlinePr",null,u)}!s&&!l||(a[a.length]=tr("sheetPr",l,o))}var Zde=["objects","scenarios","selectLockedCells","selectUnlockedCells"],efe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function tfe(e){var t={sheet:1};return Zde.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),efe.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=C3(e.password).toString(16).toUpperCase()),tr("sheetProtection",null,t)}function rfe(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var s=Zr(ca(t[a]),!0);if(!s.ref)return;var o=((r||{})["!id"]||[])[s.id];o?(s.Target=o.Target,s.location&&(s.Target+="#"+Mn(s.location))):(s.Target="#"+Mn(s.location),o={Target:s.Target,TargetMode:"Internal"}),s.Rel=o,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var l=Rn(s.ref),c=l.s.r;c<=l.e.r;++c)for(var u=l.s.c;u<=l.e.c;++u){var d=Yr({c:u,r:c});n?(e[c]||(e[c]=[]),e[c][u]||(e[c][u]={t:"z",v:void 0}),e[c][u].l=s):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=s)}}}function nfe(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function afe(e){return t0(e),tr("pageMargins",null,e)}function ife(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=Zr(t[n],!0);a.hidden&&(a.hidden=ja(a.hidden));var s=parseInt(a.min,10)-1,o=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,T3(a.width)),Yd(a);s<=o;)e[s++]=_a(a)}}function sfe(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=tr("col",null,ky(a,n)));return r[r.length]="</cols>",r.join("")}function ofe(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function lfe(e,t,r,n){var a=typeof e.ref=="string"?e.ref:un(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,o=wo(a);o.s.r==o.e.r&&(o.e.r=wo(t["!ref"]).e.r,a=un(o));for(var l=0;l<s.length;++l){var c=s[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),tr("autoFilter",null,{ref:a})}var cfe=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function ufe(e,t){t.Views||(t.Views=[{}]),(e.match(cfe)||[]).forEach(function(r,n){var a=Zr(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),ja(a.rightToLeft)&&(t.Views[n].RTL=!0)})}function dfe(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),tr("sheetViews",tr("sheetView",null,a),{})}function ffe(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",s=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=Yu[e.v];break;case"d":n&&n.cellDates?a=Sa(e.v,-1).toISOString():(e=_a(e),e.t="n",a=""+(e.v=Ai(Sa(e.v)))),typeof e.z>"u"&&(e.z=Vr[14]);break;default:a=e.v;break}var l=os("v",ia(a)),c={r:t},u=uf(n.cellXfs,e,n);switch(u!==0&&(c.s=u),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){l=os("v",""+L3(n.Strings,e.v,n.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=s&&(e.t=s,e.v=o),typeof e.f=="string"&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=tr("f",ia(e.f),d)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),tr("c",l,c)}var hfe=(function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,s=ix("v"),o=ix("f");return function(c,u,d,h,m,p){for(var y=0,v="",g=[],b=[],w=0,j=0,N=0,S="",P,A,O=0,M=0,F,E,T=0,I=0,z=Array.isArray(p.CellXf),Q,te=[],J=[],ie=Array.isArray(u),X=[],Z={},q=!1,C=!!d.sheetStubs,U=c.split(t),W=0,B=U.length;W!=B;++W){v=U[W].trim();var K=v.length;if(K!==0){var re=0;e:for(y=0;y<K;++y)switch(v[y]){case">":if(v[y-1]!="/"){++y;break e}if(d&&d.cellStyles){if(A=Zr(v.slice(re,y),!0),O=A.r!=null?parseInt(A.r,10):O+1,M=-1,d.sheetRows&&d.sheetRows<O)continue;Z={},q=!1,A.ht&&(q=!0,Z.hpt=parseFloat(A.ht),Z.hpx=Qh(Z.hpt)),A.hidden=="1"&&(q=!0,Z.hidden=!0),A.outlineLevel!=null&&(q=!0,Z.level=+A.outlineLevel),q&&(X[O-1]=Z)}break;case"<":re=y;break}if(re>=y)break;if(A=Zr(v.slice(re,y),!0),O=A.r!=null?parseInt(A.r,10):O+1,M=-1,!(d.sheetRows&&d.sheetRows<O)){h.s.r>O-1&&(h.s.r=O-1),h.e.r<O-1&&(h.e.r=O-1),d&&d.cellStyles&&(Z={},q=!1,A.ht&&(q=!0,Z.hpt=parseFloat(A.ht),Z.hpx=Qh(Z.hpt)),A.hidden=="1"&&(q=!0,Z.hidden=!0),A.outlineLevel!=null&&(q=!0,Z.level=+A.outlineLevel),q&&(X[O-1]=Z)),g=v.slice(y).split(e);for(var fe=0;fe!=g.length&&g[fe].trim().charAt(0)=="<";++fe);for(g=g.slice(fe),y=0;y!=g.length;++y)if(v=g[y].trim(),v.length!==0){if(b=v.match(r),w=y,j=0,N=0,v="<c "+(v.slice(0,1)=="<"?">":"")+v,b!=null&&b.length===2){for(w=0,S=b[1],j=0;j!=S.length&&!((N=S.charCodeAt(j)-64)<1||N>26);++j)w=26*w+N;--w,M=w}else++M;for(j=0;j!=v.length&&v.charCodeAt(j)!==62;++j);if(++j,A=Zr(v.slice(0,j),!0),A.r||(A.r=Yr({r:O-1,c:M})),S=v.slice(j),P={t:""},(b=S.match(s))!=null&&b[1]!==""&&(P.v=Mn(b[1])),d.cellFormula){if((b=S.match(o))!=null&&b[1]!==""){if(P.f=Mn(ca(b[1])).replace(/\r\n/g,`
`),d.xlfn||(P.f=v8(P.f)),b[0].indexOf('t="array"')>-1)P.F=(S.match(a)||[])[1],P.F.indexOf(":")>-1&&te.push([Rn(P.F),P.F]);else if(b[0].indexOf('t="shared"')>-1){E=Zr(b[0]);var ce=Mn(ca(b[1]));d.xlfn||(ce=v8(ce)),J[parseInt(E.si,10)]=[E,ce,A.r]}}else(b=S.match(/<f[^>]*\/>/))&&(E=Zr(b[0]),J[E.si]&&(P.f=cue(J[E.si][1],J[E.si][2],A.r)));var he=Ra(A.r);for(j=0;j<te.length;++j)he.r>=te[j][0].s.r&&he.r<=te[j][0].e.r&&he.c>=te[j][0].s.c&&he.c<=te[j][0].e.c&&(P.F=te[j][1])}if(A.t==null&&P.v===void 0)if(P.f||P.F)P.v=0,P.t="n";else if(C)P.t="z";else continue;else P.t=A.t||"n";switch(h.s.c>M&&(h.s.c=M),h.e.c<M&&(h.e.c=M),P.t){case"n":if(P.v==""||P.v==null){if(!C)continue;P.t="z"}else P.v=parseFloat(P.v);break;case"s":if(typeof P.v>"u"){if(!C)continue;P.t="z"}else F=dm[parseInt(P.v,10)],P.v=F.t,P.r=F.r,d.cellHTML&&(P.h=F.h);break;case"str":P.t="s",P.v=P.v!=null?ca(P.v):"",d.cellHTML&&(P.h=p3(P.v));break;case"inlineStr":b=S.match(n),P.t="s",b!=null&&(F=E3(b[1]))?(P.v=F.t,d.cellHTML&&(P.h=F.h)):P.v="";break;case"b":P.v=ja(P.v);break;case"d":d.cellDates?P.v=Sa(P.v,1):(P.v=Ai(Sa(P.v,1)),P.t="n");break;case"e":(!d||d.cellText!==!1)&&(P.w=P.v),P.v=L7[P.v];break}if(T=I=0,Q=null,z&&A.s!==void 0&&(Q=p.CellXf[A.s],Q!=null&&(Q.numFmtId!=null&&(T=Q.numFmtId),d.cellStyles&&Q.fillId!=null&&(I=Q.fillId))),PM(P,T,I,d,m,p),d.cellDates&&z&&P.t=="n"&&up(Vr[T])&&(P.t="d",P.v=by(P.v)),A.cm&&d.xlmeta){var Oe=(d.xlmeta.Cell||[])[+A.cm-1];Oe&&Oe.type=="XLDAPR"&&(P.D=!0)}if(ie){var ee=Ra(A.r);u[ee.r]||(u[ee.r]=[]),u[ee.r][ee.c]=P}else u[A.r]=P}}}}X.length>0&&(u["!rows"]=X)}})();function pfe(e,t,r,n){var a=[],s=[],o=Rn(e["!ref"]),l="",c,u="",d=[],h=0,m=0,p=e["!rows"],y=Array.isArray(e),v={r:u},g,b=-1;for(m=o.s.c;m<=o.e.c;++m)d[m]=Ma(m);for(h=o.s.r;h<=o.e.r;++h){for(s=[],u=si(h),m=o.s.c;m<=o.e.c;++m){c=d[m]+u;var w=y?(e[h]||[])[m]:e[c];w!==void 0&&(l=ffe(w,c,e,t))!=null&&s.push(l)}(s.length>0||p&&p[h])&&(v={r:u},p&&p[h]&&(g=p[h],g.hidden&&(v.hidden=1),b=-1,g.hpx?b=fx(g.hpx):g.hpt&&(b=g.hpt),b>-1&&(v.ht=b,v.customHeight=1),g.level&&(v.outlineLevel=g.level)),a[a.length]=tr("row",s.join(""),v))}if(p)for(;h<p.length;++h)p&&p[h]&&(v={r:h+1},g=p[h],g.hidden&&(v.hidden=1),b=-1,g.hpx?b=fx(g.hpx):g.hpt&&(b=g.hpt),b>-1&&(v.ht=b,v.customHeight=1),g.level&&(v.outlineLevel=g.level),a[a.length]=tr("row","",v));return a.join("")}function DM(e,t,r,n){var a=[li,tr("worksheet",null,{xmlns:b0[0],"xmlns:r":Si.r})],s=r.SheetNames[e],o=0,l="",c=r.Sheets[s];c==null&&(c={});var u=c["!ref"]||"A1",d=Rn(u);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=un(d)}n||(n={}),c["!comments"]=[];var h=[];Qde(c,r,e,t,a),a[a.length]=tr("dimension",null,{ref:u}),a[a.length]=dfe(c,t,e,r),t.sheetFormat&&(a[a.length]=tr("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=sfe(c,c["!cols"])),a[o=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=pfe(c,t),l.length>0&&(a[a.length]=l)),a.length>o+1&&(a[a.length]="</sheetData>",a[o]=a[o].replace("/>",">")),c["!protect"]&&(a[a.length]=tfe(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=lfe(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=Yde(c["!merges"]));var m=-1,p,y=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(v){v[1].Target&&(p={ref:v[0]},v[1].Target.charAt(0)!="#"&&(y=aa(n,-1,ia(v[1].Target).replace(/#.*$/,""),yn.HLINK),p["r:id"]="rId"+y),(m=v[1].Target.indexOf("#"))>-1&&(p.location=ia(v[1].Target.slice(m+1))),v[1].Tooltip&&(p.tooltip=ia(v[1].Tooltip)),a[a.length]=tr("hyperlink",null,p))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=afe(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=os("ignoredErrors",tr("ignoredError",null,{numberStoredAsText:1,sqref:u}))),h.length>0&&(y=aa(n,-1,"../drawings/drawing"+(e+1)+".xml",yn.DRAW),a[a.length]=tr("drawing",null,{"r:id":"rId"+y}),c["!drawing"]=h),c["!comments"].length>0&&(y=aa(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",yn.VML),a[a.length]=tr("legacyDrawing",null,{"r:id":"rId"+y}),c["!legacy"]=y),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function mfe(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=a/20),r}function xfe(e,t,r){var n=_t(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var s=320;a.hpx?s=fx(a.hpx)*20:a.hpt&&(s=a.hpt*20),n.write_shift(2,s),n.write_shift(1,0);var o=0;a.level&&(o|=a.level),a.hidden&&(o|=16),(a.hpx||a.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var l=0,c=n.l;n.l+=4;for(var u={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var h=-1,m=-1,p=d<<10;p<d+1<<10;++p){u.c=p;var y=Array.isArray(r)?(r[u.r]||[])[u.c]:r[Yr(u)];y&&(h<0&&(h=p),m=p)}h<0||(++l,n.write_shift(4,h),n.write_shift(4,m))}var v=n.l;return n.l=c,n.write_shift(4,l),n.l=v,n.length>n.l?n.slice(0,n.l):n}function gfe(e,t,r,n){var a=xfe(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&Ut(e,0,a)}var vfe=k0,yfe=hp;function bfe(){}function wfe(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=kie(e),r}function Nfe(e,t,r){r==null&&(r=_t(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return k1({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),T7(e,r),r.slice(0,r.l)}function jfe(e){var t=jl(e);return[t]}function kfe(e,t,r){return r==null&&(r=_t(8)),w0(t,r)}function Sfe(e){var t=N0(e);return[t]}function _fe(e,t,r){return r==null&&(r=_t(4)),j0(t,r)}function Afe(e){var t=jl(e),r=e.read_shift(1);return[t,r,"b"]}function Efe(e,t,r){return r==null&&(r=_t(9)),w0(t,r),r.write_shift(1,e.v?1:0),r}function Cfe(e){var t=N0(e),r=e.read_shift(1);return[t,r,"b"]}function Tfe(e,t,r){return r==null&&(r=_t(5)),j0(t,r),r.write_shift(1,e.v?1:0),r}function Ofe(e){var t=jl(e),r=e.read_shift(1);return[t,r,"e"]}function Pfe(e,t,r){return r==null&&(r=_t(9)),w0(t,r),r.write_shift(1,e.v),r}function Ife(e){var t=N0(e),r=e.read_shift(1);return[t,r,"e"]}function Dfe(e,t,r){return r==null&&(r=_t(8)),j0(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function Lfe(e){var t=jl(e),r=e.read_shift(4);return[t,r,"s"]}function Ffe(e,t,r){return r==null&&(r=_t(12)),w0(t,r),r.write_shift(4,t.v),r}function Mfe(e){var t=N0(e),r=e.read_shift(4);return[t,r,"s"]}function Rfe(e,t,r){return r==null&&(r=_t(8)),j0(t,r),r.write_shift(4,t.v),r}function Bfe(e){var t=jl(e),r=Os(e);return[t,r,"n"]}function Ufe(e,t,r){return r==null&&(r=_t(16)),w0(t,r),d0(e.v,r),r}function LM(e){var t=N0(e),r=Os(e);return[t,r,"n"]}function qfe(e,t,r){return r==null&&(r=_t(12)),j0(t,r),d0(e.v,r),r}function $fe(e){var t=jl(e),r=j3(e);return[t,r,"n"]}function zfe(e,t,r){return r==null&&(r=_t(12)),w0(t,r),O7(e.v,r),r}function Hfe(e){var t=N0(e),r=j3(e);return[t,r,"n"]}function Wfe(e,t,r){return r==null&&(r=_t(8)),j0(t,r),O7(e.v,r),r}function Vfe(e){var t=jl(e),r=b3(e);return[t,r,"is"]}function Gfe(e){var t=jl(e),r=Is(e);return[t,r,"str"]}function Kfe(e,t,r){return r==null&&(r=_t(12+4*e.v.length)),w0(t,r),Hi(e.v,r),r.length>r.l?r.slice(0,r.l):r}function Xfe(e){var t=N0(e),r=Is(e);return[t,r,"str"]}function Yfe(e,t,r){return r==null&&(r=_t(8+4*e.v.length)),j0(t,r),Hi(e.v,r),r.length>r.l?r.slice(0,r.l):r}function Jfe(e,t,r){var n=e.l+t,a=jl(e);a.r=r["!row"];var s=e.read_shift(1),o=[a,s,"b"];if(r.cellFormula){e.l+=2;var l=jy(e,n-e.l,r);o[3]=_s(l,null,a,r.supbooks,r)}else e.l=n;return o}function Qfe(e,t,r){var n=e.l+t,a=jl(e);a.r=r["!row"];var s=e.read_shift(1),o=[a,s,"e"];if(r.cellFormula){e.l+=2;var l=jy(e,n-e.l,r);o[3]=_s(l,null,a,r.supbooks,r)}else e.l=n;return o}function Zfe(e,t,r){var n=e.l+t,a=jl(e);a.r=r["!row"];var s=Os(e),o=[a,s,"n"];if(r.cellFormula){e.l+=2;var l=jy(e,n-e.l,r);o[3]=_s(l,null,a,r.supbooks,r)}else e.l=n;return o}function e0e(e,t,r){var n=e.l+t,a=jl(e);a.r=r["!row"];var s=Is(e),o=[a,s,"str"];if(r.cellFormula){e.l+=2;var l=jy(e,n-e.l,r);o[3]=_s(l,null,a,r.supbooks,r)}else e.l=n;return o}var t0e=k0,r0e=hp;function n0e(e,t){return t==null&&(t=_t(4)),t.write_shift(4,e),t}function a0e(e,t){var r=e.l+t,n=k0(e),a=w3(e),s=Is(e),o=Is(e),l=Is(e);e.l=r;var c={rfx:n,relId:a,loc:s,display:l};return o&&(c.Tooltip=o),c}function i0e(e,t){var r=_t(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));hp({s:Ra(e[0]),e:Ra(e[0])},r),N3("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return Hi(a||"",r),Hi(e[1].Tooltip||"",r),Hi("",r),r.slice(0,r.l)}function s0e(){}function o0e(e,t,r){var n=e.l+t,a=P7(e),s=e.read_shift(1),o=[a];if(o[2]=s,r.cellFormula){var l=Ode(e,n-e.l,r);o[1]=l}else e.l=n;return o}function l0e(e,t,r){var n=e.l+t,a=k0(e),s=[a];if(r.cellFormula){var o=Ide(e,n-e.l,r);s[1]=o,e.l=n}else e.l=n;return s}function c0e(e,t,r){r==null&&(r=_t(18));var n=ky(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var FM=["left","right","top","bottom","header","footer"];function u0e(e){var t={};return FM.forEach(function(r){t[r]=Os(e)}),t}function d0e(e,t){return t==null&&(t=_t(48)),t0(e),FM.forEach(function(r){d0(e[r],t)}),t}function f0e(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function h0e(e,t,r){r==null&&(r=_t(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function p0e(e){var t=_t(24);return t.write_shift(4,4),t.write_shift(4,1),hp(e,t),t}function m0e(e,t){return t==null&&(t=_t(66)),t.write_shift(2,e.password?C3(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function x0e(){}function g0e(){}function v0e(e,t,r,n,a,s,o){if(!e)return e;var l=t||{};n||(n={"!id":{}});var c=l.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},h=!1,m=!1,p,y,v,g,b,w,j,N,S,P=[];l.biff=12,l["!row"]=0;var A=0,O=!1,M=[],F={},E=l.supbooks||a.supbooks||[[]];if(E.sharedf=F,E.arrayf=M,E.SheetNames=a.SheetNames||a.Sheets.map(function(ie){return ie.name}),!l.supbooks&&(l.supbooks=E,a.Names))for(var T=0;T<a.Names.length;++T)E[0][T+1]=a.Names[T];var I=[],z=[],Q=!1;hx[16]={n:"BrtShortReal",f:LM};var te;if(Xu(e,function(X,Z,q){if(!m)switch(q){case 148:u=X;break;case 0:p=X,l.sheetRows&&l.sheetRows<=p.r&&(m=!0),N=si(g=p.r),l["!row"]=p.r,(X.hidden||X.hpt||X.level!=null)&&(X.hpt&&(X.hpx=Qh(X.hpt)),z[X.r]=X);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(y={t:X[2]},X[2]){case"n":y.v=X[1];break;case"s":j=dm[X[1]],y.v=j.t,y.r=j.r;break;case"b":y.v=!!X[1];break;case"e":y.v=X[1],l.cellText!==!1&&(y.w=Yu[y.v]);break;case"str":y.t="s",y.v=X[1];break;case"is":y.t="s",y.v=X[1].t;break}if((v=o.CellXf[X[0].iStyleRef])&&PM(y,v.numFmtId,null,l,s,o),b=X[0].c==-1?b+1:X[0].c,l.dense?(c[g]||(c[g]=[]),c[g][b]=y):c[Ma(b)+N]=y,l.cellFormula){for(O=!1,A=0;A<M.length;++A){var C=M[A];p.r>=C[0].s.r&&p.r<=C[0].e.r&&b>=C[0].s.c&&b<=C[0].e.c&&(y.F=un(C[0]),O=!0)}!O&&X.length>3&&(y.f=X[3])}if(d.s.r>p.r&&(d.s.r=p.r),d.s.c>b&&(d.s.c=b),d.e.r<p.r&&(d.e.r=p.r),d.e.c<b&&(d.e.c=b),l.cellDates&&v&&y.t=="n"&&up(Vr[v.numFmtId])){var U=Vf(y.v);U&&(y.t="d",y.v=new Date(U.y,U.m-1,U.d,U.H,U.M,U.S,U.u))}te&&(te.type=="XLDAPR"&&(y.D=!0),te=void 0);break;case 1:case 12:if(!l.sheetStubs||h)break;y={t:"z",v:void 0},b=X[0].c==-1?b+1:X[0].c,l.dense?(c[g]||(c[g]=[]),c[g][b]=y):c[Ma(b)+N]=y,d.s.r>p.r&&(d.s.r=p.r),d.s.c>b&&(d.s.c=b),d.e.r<p.r&&(d.e.r=p.r),d.e.c<b&&(d.e.c=b),te&&(te.type=="XLDAPR"&&(y.D=!0),te=void 0);break;case 176:P.push(X);break;case 49:te=((l.xlmeta||{}).Cell||[])[X-1];break;case 494:var W=n["!id"][X.relId];for(W?(X.Target=W.Target,X.loc&&(X.Target+="#"+X.loc),X.Rel=W):X.relId==""&&(X.Target="#"+X.loc),g=X.rfx.s.r;g<=X.rfx.e.r;++g)for(b=X.rfx.s.c;b<=X.rfx.e.c;++b)l.dense?(c[g]||(c[g]=[]),c[g][b]||(c[g][b]={t:"z",v:void 0}),c[g][b].l=X):(w=Yr({c:b,r:g}),c[w]||(c[w]={t:"z",v:void 0}),c[w].l=X);break;case 426:if(!l.cellFormula)break;M.push(X),S=l.dense?c[g][b]:c[Ma(b)+N],S.f=_s(X[1],d,{r:p.r,c:b},E,l),S.F=un(X[0]);break;case 427:if(!l.cellFormula)break;F[Yr(X[0].s)]=X[1],S=l.dense?c[g][b]:c[Ma(b)+N],S.f=_s(X[1],d,{r:p.r,c:b},E,l);break;case 60:if(!l.cellStyles)break;for(;X.e>=X.s;)I[X.e--]={width:X.w/256,hidden:!!(X.flags&1),level:X.level},Q||(Q=!0,T3(X.w/256)),Yd(I[X.e+1]);break;case 161:c["!autofilter"]={ref:un(X)};break;case 476:c["!margins"]=X;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),X.name&&(a.Sheets[r].CodeName=X.name),(X.above||X.left)&&(c["!outline"]={above:X.above,left:X.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),X.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:h=!0;break;case 36:h=!1;break;case 37:h=!0;break;case 38:h=!1;break;default:if(!Z.T){if(!h||l.WTF)throw new Error("Unexpected record 0x"+q.toString(16))}}},l),delete l.supbooks,delete l["!row"],!c["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(c["!ref"]=un(u||d)),l.sheetRows&&c["!ref"]){var J=Rn(c["!ref"]);l.sheetRows<=+J.e.r&&(J.e.r=l.sheetRows-1,J.e.r>d.e.r&&(J.e.r=d.e.r),J.e.r<J.s.r&&(J.s.r=J.e.r),J.e.c>d.e.c&&(J.e.c=d.e.c),J.e.c<J.s.c&&(J.s.c=J.e.c),c["!fullref"]=c["!ref"],c["!ref"]=un(J))}return P.length>0&&(c["!merges"]=P),I.length>0&&(c["!cols"]=I),z.length>0&&(c["!rows"]=z),c}function y0e(e,t,r,n,a,s,o){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=_a(t),t.z=t.z||Vr[14],t.v=Ai(Sa(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var c={r,c:n};switch(c.s=uf(a.cellXfs,t,a),t.l&&s["!links"].push([Yr(c),t.l]),t.c&&s["!comments"].push([Yr(c),t.c]),t.t){case"s":case"str":return a.bookSST?(l=L3(a.Strings,t.v,a.revStrings),c.t="s",c.v=l,o?Ut(e,18,Rfe(t,c)):Ut(e,7,Ffe(t,c))):(c.t="str",o?Ut(e,17,Yfe(t,c)):Ut(e,6,Kfe(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?Ut(e,13,Wfe(t,c)):Ut(e,2,zfe(t,c)):o?Ut(e,16,qfe(t,c)):Ut(e,5,Ufe(t,c)),!0;case"b":return c.t="b",o?Ut(e,15,Tfe(t,c)):Ut(e,4,Efe(t,c)),!0;case"e":return c.t="e",o?Ut(e,14,Dfe(t,c)):Ut(e,3,Pfe(t,c)),!0}return o?Ut(e,12,_fe(t,c)):Ut(e,1,kfe(t,c)),!0}function b0e(e,t,r,n){var a=Rn(t["!ref"]||"A1"),s,o="",l=[];Ut(e,145);var c=Array.isArray(t),u=a.e.r;t["!rows"]&&(u=Math.max(a.e.r,t["!rows"].length-1));for(var d=a.s.r;d<=u;++d){o=si(d),gfe(e,t,a,d);var h=!1;if(d<=a.e.r)for(var m=a.s.c;m<=a.e.c;++m){d===a.s.r&&(l[m]=Ma(m)),s=l[m]+o;var p=c?(t[d]||[])[m]:t[s];if(!p){h=!1;continue}h=y0e(e,p,d,m,n,t,h)}}Ut(e,146)}function w0e(e,t){!t||!t["!merges"]||(Ut(e,177,n0e(t["!merges"].length)),t["!merges"].forEach(function(r){Ut(e,176,r0e(r))}),Ut(e,178))}function N0e(e,t){!t||!t["!cols"]||(Ut(e,390),t["!cols"].forEach(function(r,n){r&&Ut(e,60,c0e(n,r))}),Ut(e,391))}function j0e(e,t){!t||!t["!ref"]||(Ut(e,648),Ut(e,649,p0e(Rn(t["!ref"]))),Ut(e,650))}function k0e(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=aa(r,-1,n[1].Target.replace(/#.*$/,""),yn.HLINK);Ut(e,494,i0e(n,a))}}),delete t["!links"]}function S0e(e,t,r,n){if(t["!comments"].length>0){var a=aa(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",yn.VML);Ut(e,551,N3("rId"+a)),t["!legacy"]=a}}function _0e(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],s=typeof a.ref=="string"?a.ref:un(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,l=wo(s);l.s.r==l.e.r&&(l.e.r=wo(t["!ref"]).e.r,s=un(l));for(var c=0;c<o.length;++c){var u=o[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+s;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),Ut(e,161,hp(Rn(s))),Ut(e,162)}}function A0e(e,t,r){Ut(e,133),Ut(e,137,h0e(t,r)),Ut(e,138),Ut(e,134)}function E0e(e,t){t["!protect"]&&Ut(e,535,m0e(t["!protect"]))}function C0e(e,t,r,n){var a=bo(),s=r.SheetNames[e],o=r.Sheets[s]||{},l=s;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var c=Rn(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Ut(a,129),(r.vbaraw||o["!outline"])&&Ut(a,147,Nfe(l,o["!outline"])),Ut(a,148,yfe(c)),A0e(a,o,r.Workbook),N0e(a,o),b0e(a,o,e,t),E0e(a,o),_0e(a,o,r,e),w0e(a,o),k0e(a,o,n),o["!margins"]&&Ut(a,476,d0e(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&j0e(a,o),S0e(a,o,e,n),Ut(a,130),a.end()}function T0e(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var o=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(t[+o[1]]=r?+o[2]:o[2])});var a=Mn((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){n=s.replace(/<.*?>/g,"")}),[t,a,n]}function O0e(e,t,r,n,a,s){var o=s||{"!type":"chart"};if(!e)return s;var l=0,c=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(h){var m=T0e(h);d.s.r=d.s.c=0,d.e.c=l,u=Ma(l),m[0].forEach(function(p,y){o[u+si(y)]={t:"n",v:p,z:m[1]},c=y}),d.e.r<c&&(d.e.r=c),++l}),l>0&&(o["!ref"]=un(d)),o}function P0e(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o,l=e.match(IM);return l&&F3(l[0],s,a,r),(o=e.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=o[1]),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}function I0e(e,t){e.l+=10;var r=Is(e);return{name:r}}function D0e(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o=!1;return Xu(e,function(c,u,d){switch(d){case 550:s["!rel"]=c;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),c.name&&(a.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!o||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}var M3=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],L0e=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],F0e=[],M0e=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function j8(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var s=t[a];if(n[s[0]]==null)n[s[0]]=s[1];else switch(s[2]){case"bool":typeof n[s[0]]=="string"&&(n[s[0]]=ja(n[s[0]]));break;case"int":typeof n[s[0]]=="string"&&(n[s[0]]=parseInt(n[s[0]],10));break}}}function k8(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=ja(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function MM(e){k8(e.WBProps,M3),k8(e.CalcPr,M0e),j8(e.WBView,L0e),j8(e.Sheets,F0e),yh.date1904=ja(e.WBProps.date1904)}function R0e(e){return!e.Workbook||!e.Workbook.WBProps?"false":ja(e.Workbook.WBProps.date1904)?"true":"false"}var B0e="][*?/\\".split("");function RM(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return B0e.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function U0e(e,t,r){e.forEach(function(n,a){RM(n);for(var s=0;s<a;++s)if(n==e[s])throw new Error("Duplicate Sheet Name: "+n);if(r){var o=t&&t[a]&&t[a].CodeName||n;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function q0e(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];U0e(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)Rde(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var $0e=/<\w+:workbook/;function z0e(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",s={},o=0;if(e.replace(Ls,function(c,u){var d=Zr(c);switch(Yc(d[0])){case"<?xml":break;case"<workbook":c.match($0e)&&(a="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=d[a];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":M3.forEach(function(h){if(d[h[0]]!=null)switch(h[2]){case"bool":r.WBProps[h[0]]=ja(d[h[0]]);break;case"int":r.WBProps[h[0]]=parseInt(d[h[0]],10);break;default:r.WBProps[h[0]]=d[h[0]]}}),d.codeName&&(r.WBProps.CodeName=ca(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=Mn(ca(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":s={},s.Name=ca(d.name),d.comment&&(s.Comment=d.comment),d.localSheetId&&(s.Sheet=+d.localSheetId),ja(d.hidden||"0")&&(s.Hidden=!0),o=u+c.length;break;case"</definedName>":s.Ref=Mn(ca(e.slice(o,u))),r.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return c}),b0.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return MM(r),r}function BM(e){var t=[li];t[t.length]=tr("workbook",null,{xmlns:b0[0],"xmlns:r":Si.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(M3.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=tr("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],s=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",s=0;s!=e.SheetNames.length&&!(!a[s]||!a[s].Hidden);++s);s==e.SheetNames.length&&(s=0),t[t.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",s=0;s!=e.SheetNames.length;++s){var o={name:ia(e.SheetNames[s].slice(0,31))};if(o.sheetId=""+(s+1),o["r:id"]="rId"+(s+1),a[s])switch(a[s].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=tr("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=tr("definedName",ia(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function H0e(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=jj(e),r.name=Is(e),r}function W0e(e,t){return t||(t=_t(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),N3(e.strRelID,t),Hi(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function V0e(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Is(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function G0e(e,t){t||(t=_t(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),T7(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function K0e(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function X0e(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),s=Sie(e),o=Pde(e,0,r),l=w3(e);e.l=n;var c={Name:s,Ptg:o};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function Y0e(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var s=[],o=[[]];return o.SheetNames=[],o.XTI=[],hx[16]={n:"BrtFRTArchID$",f:K0e},Xu(e,function(c,u,d){switch(d){case 156:o.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=_s(c.Ptg,null,null,o,t),delete t.SID,delete c.Ptg,s.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([d,c]):o[0]=[d,c],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(c),o.XTI=o.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(d),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!u.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),MM(r),r.Names=s,r.supbooks=o,r}function J0e(e,t){Ut(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};Ut(e,156,W0e(a))}Ut(e,144)}function Q0e(e,t){t||(t=_t(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return Hi("SheetJS",t),Hi(g1.version,t),Hi(g1.version,t),Hi("7262",t),t.length>t.l?t.slice(0,t.l):t}function Z0e(e,t){t||(t=_t(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function ehe(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,s=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&s==-1&&(s=n);s>a||(Ut(e,135),Ut(e,158,Z0e(a)),Ut(e,136))}}function the(e,t){var r=bo();return Ut(r,131),Ut(r,128,Q0e()),Ut(r,153,G0e(e.Workbook&&e.Workbook.WBProps||null)),ehe(r,e),J0e(r,e),Ut(r,132),r.end()}function rhe(e,t,r){return t.slice(-4)===".bin"?Y0e(e,r):z0e(e,r)}function nhe(e,t,r,n,a,s,o,l){return t.slice(-4)===".bin"?v0e(e,n,r,a,s,o,l):Xde(e,n,r,a,s,o,l)}function ahe(e,t,r,n,a,s,o,l){return t.slice(-4)===".bin"?D0e(e,n,r,a,s):P0e(e,n,r,a,s)}function ihe(e,t,r,n,a,s,o,l){return t.slice(-4)===".bin"?oue():lue()}function she(e,t,r,n,a,s,o,l){return t.slice(-4)===".bin"?iue():sue()}function ohe(e,t,r,n){return t.slice(-4)===".bin"?rce(e,r,n):Hle(e,r,n)}function lhe(e,t,r){return yM(e,r)}function che(e,t,r){return t.slice(-4)===".bin"?cle(e,r):sle(e,r)}function uhe(e,t,r){return t.slice(-4)===".bin"?eue(e,r):Wce(e,r)}function dhe(e,t,r){return t.slice(-4)===".bin"?$ce(e):Uce(e)}function fhe(e,t,r,n){return r.slice(-4)===".bin"?zce(e,t,r,n):void 0}function hhe(e,t,r){return t.slice(-4)===".bin"?Mce(e,t,r):Bce(e,t,r)}function phe(e,t,r){return(t.slice(-4)===".bin"?the:BM)(e)}function mhe(e,t,r,n,a){return(t.slice(-4)===".bin"?C0e:DM)(e,r,n,a)}function xhe(e,t,r){return(t.slice(-4)===".bin"?fce:gM)(e,r)}function ghe(e,t,r){return(t.slice(-4)===".bin"?fle:cM)(e,r)}function vhe(e,t,r){return(t.slice(-4)===".bin"?tue:NM)(e)}function yhe(e){return(e.slice(-4)===".bin"?Rce:bM)()}var UM=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,qM=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Ql(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(UM),s,o,l,c;if(a)for(c=0;c!=a.length;++c)s=a[c].match(qM),(o=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?l="xmlns"+s[1].slice(6):l=s[1].slice(o+1),n[l]=s[2].slice(1,s[2].length-1));return n}function bhe(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(UM),a,s,o,l;if(n)for(l=0;l!=n.length;++l)a=n[l].match(qM),(s=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(s+1),r[o]=a[2].slice(1,a[2].length-1));return r}var hm;function whe(e,t){var r=hm[e]||Mn(e);return r==="General"?c0(t):wl(r,t)}function Nhe(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=ja(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Sa(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Mn(t)]=a}function jhe(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||Yu[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=ax(e.v):e.w=c0(e.v):e.w=whe(t||"General",e.v)}catch(s){if(r.WTF)throw s}try{var n=hm[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&up(n)){var a=Vf(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(s){if(r.WTF)throw s}}}function khe(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=Fle[n.Pattern]||n.Pattern)}e[t.ID]=t}function She(e,t,r,n,a,s,o,l,c,u){var d="General",h=n.StyleID,m={};u=u||{};var p=[],y=0;for(h===void 0&&l&&(h=l.StyleID),h===void 0&&o&&(h=o.StyleID);s[h]!==void 0&&(s[h].nf&&(d=s[h].nf),s[h].Interior&&p.push(s[h].Interior),!!s[h].Parent);)h=s[h].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=ja(e);break;case"String":n.t="s",n.r=qP(Mn(e)),n.v=e.indexOf("<")>-1?Mn(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(Sa(e)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=Mn(e):n.v<60&&(n.v=n.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=L7[e],u.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=qP(t||e));break}if(jhe(n,d,u),u.cellFormula!==!1)if(n.Formula){var v=Mn(n.Formula);v.charCodeAt(0)==61&&(v=v.slice(1)),n.f=vh(v,a),delete n.Formula,n.ArrayRange=="RC"?n.F=vh("RC:RC",a):n.ArrayRange&&(n.F=vh(n.ArrayRange,a),c.push([Rn(n.F),n.F]))}else for(y=0;y<c.length;++y)a.r>=c[y][0].s.r&&a.r<=c[y][0].e.r&&a.c>=c[y][0].s.c&&a.c<=c[y][0].e.c&&(n.F=c[y][1]);u.cellStyles&&(p.forEach(function(g){!m.patternType&&g.patternType&&(m.patternType=g.patternType)}),n.s=m),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function _he(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function ON(e,t){var r=t||{};dp();var n=Yp(m3(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=ca(n));var a=n.slice(0,1024).toLowerCase(),s=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var o=_a(r);return o.type="string",Jh.to_workbook(n,o)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Se){a.indexOf("<"+Se)>=0&&(s=!0)}),s)return dpe(n,r);hm={"General Number":"General","General Date":Vr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Vr[15],"Short Date":Vr[14],"Long Time":Vr[19],"Medium Time":Vr[18],"Short Time":Vr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Vr[2],Standard:Vr[4],Percent:Vr[10],Scientific:Vr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c=[],u,d={},h=[],m=r.dense?[]:{},p="",y={},v={},g=Ql('<Data ss:Type="String">'),b=0,w=0,j=0,N={s:{r:2e6,c:2e6},e:{r:0,c:0}},S={},P={},A="",O=0,M=[],F={},E={},T=0,I=[],z=[],Q={},te=[],J,ie=!1,X=[],Z=[],q={},C=0,U=0,W={Sheets:[],WBProps:{date1904:!1}},B={};ox.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var K="";l=ox.exec(n);)switch(l[3]=(K=l[3]).toLowerCase()){case"data":if(K=="data"){if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break}if(c[c.length-1][1])break;l[1]==="/"?She(n.slice(b,l.index),A,g,c[c.length-1][0]=="comment"?Q:y,{c:w,r:j},S,te[w],v,X,r):(A="",g=Ql(l[0]),b=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(z.length>0&&(y.c=z),(!r.sheetRows||r.sheetRows>j)&&y.v!==void 0&&(r.dense?(m[j]||(m[j]=[]),m[j][w]=y):m[Ma(w)+si(j)]=y),y.HRef&&(y.l={Target:Mn(y.HRef)},y.HRefScreenTip&&(y.l.Tooltip=y.HRefScreenTip),delete y.HRef,delete y.HRefScreenTip),(y.MergeAcross||y.MergeDown)&&(C=w+(parseInt(y.MergeAcross,10)|0),U=j+(parseInt(y.MergeDown,10)|0),M.push({s:{c:w,r:j},e:{c:C,r:U}})),!r.sheetStubs)y.MergeAcross?w=C+1:++w;else if(y.MergeAcross||y.MergeDown){for(var re=w;re<=C;++re)for(var fe=j;fe<=U;++fe)(re>w||fe>j)&&(r.dense?(m[fe]||(m[fe]=[]),m[fe][re]={t:"z"}):m[Ma(re)+si(fe)]={t:"z"});w=C+1}else++w;else y=bhe(l[0]),y.Index&&(w=+y.Index-1),w<N.s.c&&(N.s.c=w),w>N.e.c&&(N.e.c=w),l[0].slice(-2)==="/>"&&++w,z=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(j<N.s.r&&(N.s.r=j),j>N.e.r&&(N.e.r=j),l[0].slice(-2)==="/>"&&(v=Ql(l[0]),v.Index&&(j=+v.Index-1)),w=0,++j):(v=Ql(l[0]),v.Index&&(j=+v.Index-1),q={},(v.AutoFitHeight=="0"||v.Height)&&(q.hpx=parseInt(v.Height,10),q.hpt=fx(q.hpx),Z[j]=q),v.Hidden=="1"&&(q.hidden=!0,Z[j]=q));break;case"worksheet":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));h.push(p),N.s.r<=N.e.r&&N.s.c<=N.e.c&&(m["!ref"]=un(N),r.sheetRows&&r.sheetRows<=N.e.r&&(m["!fullref"]=m["!ref"],N.e.r=r.sheetRows-1,m["!ref"]=un(N))),M.length&&(m["!merges"]=M),te.length>0&&(m["!cols"]=te),Z.length>0&&(m["!rows"]=Z),d[p]=m}else N={s:{r:2e6,c:2e6},e:{r:0,c:0}},j=w=0,c.push([l[3],!1]),u=Ql(l[0]),p=Mn(u.Name),m=r.dense?[]:{},M=[],X=[],Z=[],B={name:p,Hidden:0},W.Sheets.push(B);break;case"table":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else{if(l[0].slice(-2)=="/>")break;c.push([l[3],!1]),te=[],ie=!1}break;case"style":l[1]==="/"?khe(S,P,r):P=Ql(l[0]);break;case"numberformat":P.nf=Mn(Ql(l[0]).Format||"General"),hm[P.nf]&&(P.nf=hm[P.nf]);for(var ce=0;ce!=392&&Vr[ce]!=P.nf;++ce);if(ce==392){for(ce=57;ce!=392;++ce)if(Vr[ce]==null){Du(P.nf,ce);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(J=Ql(l[0]),J.Hidden&&(J.hidden=!0,delete J.Hidden),J.Width&&(J.wpx=parseInt(J.Width,10)),!ie&&J.wpx>10){ie=!0,Cs=mM;for(var he=0;he<te.length;++he)te[he]&&Yd(te[he])}ie&&Yd(J),te[J.Index-1||te.length]=J;for(var Oe=0;Oe<+J.Span;++Oe)te[te.length]=_a(J);break;case"namedrange":if(l[1]==="/")break;W.Names||(W.Names=[]);var ee=Zr(l[0]),De={Name:ee.Name,Ref:vh(ee.RefersTo.slice(1),{r:0,c:0})};W.Sheets.length>0&&(De.Sheet=W.Sheets.length-1),W.Names.push(De);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?A+=n.slice(O,l.index):O=l.index+l[0].length;break;case"interior":if(!r.cellStyles)break;P.Interior=Ql(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?Yie(F,K,n.slice(T,l.index)):T=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else c.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));_he(Q),z.push(Q)}else c.push([l[3],!1]),u=Ql(l[0]),Q={a:u.Author};break;case"autofilter":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var je=Ql(l[0]);m["!autofilter"]={ref:vh(je.Range).replace(/\$/g,"")},c.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"null":break;default:if(c.length==0&&l[3]=="document"||c.length==0&&l[3]=="uof")return C8(n,r);var oe=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:oe=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:oe=!1}break;case"excelworkbook":switch(l[3]){case"date1904":W.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:oe=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:oe=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(n.slice(T,l.index)){case"SheetHidden":B.Hidden=1;break;case"SheetVeryHidden":B.Hidden=2;break}else T=l.index+l[0].length;break;case"header":m["!margins"]||t0(m["!margins"]={},"xlml"),isNaN(+Zr(l[0]).Margin)||(m["!margins"].header=+Zr(l[0]).Margin);break;case"footer":m["!margins"]||t0(m["!margins"]={},"xlml"),isNaN(+Zr(l[0]).Margin)||(m["!margins"].footer=+Zr(l[0]).Margin);break;case"pagemargins":var ue=Zr(l[0]);m["!margins"]||t0(m["!margins"]={},"xlml"),isNaN(+ue.Top)||(m["!margins"].top=+ue.Top),isNaN(+ue.Left)||(m["!margins"].left=+ue.Left),isNaN(+ue.Right)||(m["!margins"].right=+ue.Right),isNaN(+ue.Bottom)||(m["!margins"].bottom=+ue.Bottom);break;case"displayrighttoleft":W.Views||(W.Views=[]),W.Views[0]||(W.Views[0]={}),W.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":m["!outline"]||(m["!outline"]={}),m["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":m["!outline"]||(m["!outline"]={}),m["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:oe=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:oe=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:oe=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:oe=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:oe=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:oe=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:oe=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:oe=!1}break;case"smarttags":break;default:oe=!1;break}if(oe||l[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?Nhe(E,K,I,n.slice(T,l.index)):(I=l,T=l.index+l[0].length);break}if(r.WTF)throw"Unrecognized tag: "+l[3]+"|"+c.join("|")}var _e={};return!r.bookSheets&&!r.bookProps&&(_e.Sheets=d),_e.SheetNames=h,_e.Workbook=W,_e.SSF=_a(Vr),_e.Props=F,_e.Custprops=E,_e}function Tj(e,t){switch(B3(t=t||{}),t.type||"base64"){case"base64":return ON(Uo(e),t);case"binary":case"buffer":case"file":return ON(e,t);case"array":return ON(lf(e),t)}}function Ahe(e,t){var r=[];return e.Props&&r.push(Jie(e.Props,t)),e.Custprops&&r.push(Qie(e.Props,e.Custprops)),r.join("")}function Ehe(){return""}function Che(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var s=[];s.push(tr("NumberFormat",null,{"ss:Format":ia(Vr[n.numFmtId])}));var o={"ss:ID":"s"+(21+a)};r.push(tr("Style",s.join(""),o))}),tr("Styles",r.join(""))}function $M(e){return tr("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+I3(e.Ref,{r:0,c:0})})}function The(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push($M(a)))}return tr("Names",r.join(""))}function Ohe(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,s=[],o=0;o<a.length;++o){var l=a[o];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||s.push($M(l)))}return s.join("")}function Phe(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(tr("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(tr("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(tr("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(tr("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<r&&!(n.Workbook.Sheets[s]&&!n.Workbook.Sheets[s].Hidden);++s);s==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(os("ProtectContents","True")),e["!protect"].objects&&a.push(os("ProtectObjects","True")),e["!protect"].scenarios&&a.push(os("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(os("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(os("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&a.push("<"+o[1]+"/>")})),a.length==0?"":tr("WorksheetOptions",a.join(""),{xmlns:Io.x})}function Ihe(e){return e.map(function(t){var r=eie(t.t||""),n=tr("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return tr("Comment",n,{"ss:Author":t.a})}).join("")}function Dhe(e,t,r,n,a,s,o){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+ia(I3(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var c=Ra(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=ia(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=ia(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],d=0;d!=u.length;++d)u[d].s.c!=o.c||u[d].s.r!=o.r||(u[d].e.c>u[d].s.c&&(l["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(l["ss:MergeDown"]=u[d].e.r-u[d].s.r));var h="",m="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":h="Number",m=String(e.v);break;case"b":h="Boolean",m=e.v?"1":"0";break;case"e":h="Error",m=Yu[e.v];break;case"d":h="DateTime",m=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Vr[14]);break;case"s":h="String",m=Zae(e.v||"");break}var p=uf(n.cellXfs,e,n);l["ss:StyleID"]="s"+(21+p),l["ss:Index"]=o.c+1;var y=e.v!=null?m:"",v=e.t=="z"?"":'<Data ss:Type="'+h+'">'+y+"</Data>";return(e.c||[]).length>0&&(v+=Ihe(e.c)),tr("Cell",v,l)}function Lhe(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=Qh(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function Fhe(e,t,r,n){if(!e["!ref"])return"";var a=Rn(e["!ref"]),s=e["!merges"]||[],o=0,l=[];e["!cols"]&&e["!cols"].forEach(function(g,b){Yd(g);var w=!!g.width,j=ky(b,g),N={"ss:Index":b+1};w&&(N["ss:Width"]=ux(j.width)),g.hidden&&(N["ss:Hidden"]="1"),l.push(tr("Column",null,N))});for(var c=Array.isArray(e),u=a.s.r;u<=a.e.r;++u){for(var d=[Lhe(u,(e["!rows"]||[])[u])],h=a.s.c;h<=a.e.c;++h){var m=!1;for(o=0;o!=s.length;++o)if(!(s[o].s.c>h)&&!(s[o].s.r>u)&&!(s[o].e.c<h)&&!(s[o].e.r<u)){(s[o].s.c!=h||s[o].s.r!=u)&&(m=!0);break}if(!m){var p={r:u,c:h},y=Yr(p),v=c?(e[u]||[])[h]:e[y];d.push(Dhe(v,y,e,t,r,n,p))}}d.push("</Row>"),d.length>2&&l.push(d.join(""))}return l.join("")}function Mhe(e,t,r){var n=[],a=r.SheetNames[e],s=r.Sheets[a],o=s?Ohe(s,t,e,r):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=s?Fhe(s,t,e,r):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(Phe(s,t,e,r)),n.join("")}function Rhe(e,t){t||(t={}),e.SSF||(e.SSF=_a(Vr)),e.SSF&&(dp(),gy(e.SSF),t.revssf=yy(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],uf(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(Ahe(e,t)),r.push(Ehe()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(tr("Worksheet",Mhe(n,t,e),{"ss:Name":ia(e.SheetNames[n])}));return r[2]=Che(e,t),r[3]=The(e),li+tr("Workbook",r.join(""),{xmlns:Io.ss,"xmlns:o":Io.o,"xmlns:x":Io.x,"xmlns:ss":Io.ss,"xmlns:dt":Io.dt,"xmlns:html":Io.html})}function Bhe(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=Tie(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=Oie(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var Uhe=[60,1084,2066,2165,2175];function qhe(e,t,r,n,a){var s=n,o=[],l=r.slice(r.l,r.l+s);if(a&&a.enc&&a.enc.insitu&&l.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(l)}o.push(l),r.l+=s;for(var c=Eu(r,r.l),u=Oj[c],d=0;u!=null&&Uhe.indexOf(c)>-1;)s=Eu(r,r.l+2),d=r.l+4,c==2066?d+=4:(c==2165||c==2175)&&(d+=12),l=r.slice(d,r.l+4+s),o.push(l),r.l+=4+s,u=Oj[c=Eu(r,r.l)];var h=$i(o);ss(h,0);var m=0;h.lens=[];for(var p=0;p<o.length;++p)h.lens.push(m),m+=o[p].length;if(h.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+h.length+" < "+n;return t.f(h,h.length,a)}function Pc(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Vr[n])}catch(s){if(t.WTF)throw s}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||Yu[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=ax(e.v):e.w=c0(e.v):e.w=wl(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(s){if(t.WTF)throw s}if(t.cellDates&&n&&e.t=="n"&&up(Vr[n]||String(n))){var a=Vf(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function Kg(e,t,r){return{v:e,ixfe:t,t:r}}function $he(e,t){var r={opts:{}},n={},a=t.dense?[]:{},s={},o={},l=null,c=[],u="",d={},h,m="",p,y,v,g,b={},w=[],j,N,S=[],P=[],A={Sheets:[],WBProps:{date1904:!1},Views:[{}]},O={},M=function(st){return st<8?Qf[st]:st<64&&P[st-8]||Qf[st]},F=function(st,it,Re){var vt=it.XF.data;if(!(!vt||!vt.patternType||!Re||!Re.cellStyles)){it.s={},it.s.patternType=vt.patternType;var nt;(nt=cx(M(vt.icvFore)))&&(it.s.fgColor={rgb:nt}),(nt=cx(M(vt.icvBack)))&&(it.s.bgColor={rgb:nt})}},E=function(st,it,Re){if(!(q>1)&&!(Re.sheetRows&&st.r>=Re.sheetRows)){if(Re.cellStyles&&it.XF&&it.XF.data&&F(st,it,Re),delete it.ixfe,delete it.XF,h=st,m=Yr(st),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),st.r<o.s.r&&(o.s.r=st.r),st.c<o.s.c&&(o.s.c=st.c),st.r+1>o.e.r&&(o.e.r=st.r+1),st.c+1>o.e.c&&(o.e.c=st.c+1),Re.cellFormula&&it.f){for(var vt=0;vt<w.length;++vt)if(!(w[vt][0].s.c>st.c||w[vt][0].s.r>st.r)&&!(w[vt][0].e.c<st.c||w[vt][0].e.r<st.r)){it.F=un(w[vt][0]),(w[vt][0].s.c!=st.c||w[vt][0].s.r!=st.r)&&delete it.f,it.f&&(it.f=""+_s(w[vt][1],o,st,X,T));break}}Re.dense?(a[st.r]||(a[st.r]=[]),a[st.r][st.c]=it):a[m]=it}},T={enc:!1,sbcch:0,snames:[],sharedf:b,arrayf:w,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(T.password=t.password);var I,z=[],Q=[],te=[],J=[],ie=!1,X=[];X.SheetNames=T.snames,X.sharedf=T.sharedf,X.arrayf=T.arrayf,X.names=[],X.XTI=[];var Z=0,q=0,C=0,U=[],W=[],B;T.codepage=1200,oc(1200);for(var K=!1;e.l<e.length-1;){var re=e.l,fe=e.read_shift(2);if(fe===0&&Z===10)break;var ce=e.l===e.length?0:e.read_shift(2),he=Oj[fe];if(he&&he.f){if(t.bookSheets&&Z===133&&fe!==133)break;if(Z=fe,he.r===2||he.r==12){var Oe=e.read_shift(2);if(ce-=2,!T.enc&&Oe!==fe&&((Oe&255)<<8|Oe>>8)!==fe)throw new Error("rt mismatch: "+Oe+"!="+fe);he.r==12&&(e.l+=10,ce-=10)}var ee={};if(fe===10?ee=he.f(e,ce,T):ee=qhe(fe,he,e,ce,T),q==0&&[9,521,1033,2057].indexOf(Z)===-1)continue;switch(fe){case 34:r.opts.Date1904=A.WBProps.date1904=ee;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(T.enc||(e.l=0),T.enc=ee,!t.password)throw new Error("File is password-protected");if(ee.valid==null)throw new Error("Encryption scheme unsupported");if(!ee.valid)throw new Error("Password is incorrect");break;case 92:T.lastuser=ee;break;case 66:var De=Number(ee);switch(De){case 21010:De=1200;break;case 32768:De=1e4;break;case 32769:De=1252;break}oc(T.codepage=De),K=!0;break;case 317:T.rrtabid=ee;break;case 25:T.winlocked=ee;break;case 439:r.opts.RefreshAll=ee;break;case 12:r.opts.CalcCount=ee;break;case 16:r.opts.CalcDelta=ee;break;case 17:r.opts.CalcIter=ee;break;case 13:r.opts.CalcMode=ee;break;case 14:r.opts.CalcPrecision=ee;break;case 95:r.opts.CalcSaveRecalc=ee;break;case 15:T.CalcRefMode=ee;break;case 2211:r.opts.FullCalc=ee;break;case 129:ee.fDialog&&(a["!type"]="dialog"),ee.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),ee.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:S.push(ee);break;case 430:X.push([ee]),X[X.length-1].XTI=[];break;case 35:case 547:X[X.length-1].push(ee);break;case 24:case 536:B={Name:ee.Name,Ref:_s(ee.rgce,o,null,X,T)},ee.itab>0&&(B.Sheet=ee.itab-1),X.names.push(B),X[0]||(X[0]=[],X[0].XTI=[]),X[X.length-1].push(ee),ee.Name=="_xlnm._FilterDatabase"&&ee.itab>0&&ee.rgce&&ee.rgce[0]&&ee.rgce[0][0]&&ee.rgce[0][0][0]=="PtgArea3d"&&(W[ee.itab-1]={ref:un(ee.rgce[0][0][1][2])});break;case 22:T.ExternCount=ee;break;case 23:X.length==0&&(X[0]=[],X[0].XTI=[]),X[X.length-1].XTI=X[X.length-1].XTI.concat(ee),X.XTI=X.XTI.concat(ee);break;case 2196:if(T.biff<8)break;B!=null&&(B.Comment=ee[1]);break;case 18:a["!protect"]=ee;break;case 19:ee!==0&&T.WTF&&console.error("Password verifier: "+ee);break;case 133:s[ee.pos]=ee,T.snames.push(ee.name);break;case 10:{if(--q)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,a["!ref"]=un(o),t.sheetRows&&t.sheetRows<=o.e.r){var je=o.e.r;o.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=un(o),o.e.r=je}o.e.r++,o.e.c++}z.length>0&&(a["!merges"]=z),Q.length>0&&(a["!objects"]=Q),te.length>0&&(a["!cols"]=te),J.length>0&&(a["!rows"]=J),A.Sheets.push(O)}u===""?d=a:n[u]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(T.biff===8&&(T.biff={9:2,521:3,1033:4}[fe]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[ee.BIFFVer]||8),T.biffguess=ee.BIFFVer==0,ee.BIFFVer==0&&ee.dt==4096&&(T.biff=5,K=!0,oc(T.codepage=28591)),T.biff==8&&ee.BIFFVer==0&&ee.dt==16&&(T.biff=2),q++)break;if(a=t.dense?[]:{},T.biff<8&&!K&&(K=!0,oc(T.codepage=t.codepage||1252)),T.biff<5||ee.BIFFVer==0&&ee.dt==4096){u===""&&(u="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var oe={pos:e.l-ce,name:u};s[oe.pos]=oe,T.snames.push(u)}else u=(s[re]||{name:""}).name;ee.dt==32&&(a["!type"]="chart"),ee.dt==64&&(a["!type"]="macro"),z=[],Q=[],T.arrayf=w=[],te=[],J=[],ie=!1,O={Hidden:(s[re]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[ee.r]||[])[ee.c]:a[Yr({c:ee.c,r:ee.r})])&&++ee.c,j={ixfe:ee.ixfe,XF:S[ee.ixfe]||{},v:ee.val,t:"n"},C>0&&(j.z=U[j.ixfe>>8&63]),Pc(j,t,r.opts.Date1904),E({c:ee.c,r:ee.r},j,t);break;case 5:case 517:j={ixfe:ee.ixfe,XF:S[ee.ixfe],v:ee.val,t:ee.t},C>0&&(j.z=U[j.ixfe>>8&63]),Pc(j,t,r.opts.Date1904),E({c:ee.c,r:ee.r},j,t);break;case 638:j={ixfe:ee.ixfe,XF:S[ee.ixfe],v:ee.rknum,t:"n"},C>0&&(j.z=U[j.ixfe>>8&63]),Pc(j,t,r.opts.Date1904),E({c:ee.c,r:ee.r},j,t);break;case 189:for(var ue=ee.c;ue<=ee.C;++ue){var _e=ee.rkrec[ue-ee.c][0];j={ixfe:_e,XF:S[_e],v:ee.rkrec[ue-ee.c][1],t:"n"},C>0&&(j.z=U[j.ixfe>>8&63]),Pc(j,t,r.opts.Date1904),E({c:ue,r:ee.r},j,t)}break;case 6:case 518:case 1030:{if(ee.val=="String"){l=ee;break}if(j=Kg(ee.val,ee.cell.ixfe,ee.tt),j.XF=S[j.ixfe],t.cellFormula){var Se=ee.formula;if(Se&&Se[0]&&Se[0][0]&&Se[0][0][0]=="PtgExp"){var Pe=Se[0][0][1][0],pe=Se[0][0][1][1],ae=Yr({r:Pe,c:pe});b[ae]?j.f=""+_s(ee.formula,o,ee.cell,X,T):j.F=((t.dense?(a[Pe]||[])[pe]:a[ae])||{}).F}else j.f=""+_s(ee.formula,o,ee.cell,X,T)}C>0&&(j.z=U[j.ixfe>>8&63]),Pc(j,t,r.opts.Date1904),E(ee.cell,j,t),l=ee}break;case 7:case 519:if(l)l.val=ee,j=Kg(ee,l.cell.ixfe,"s"),j.XF=S[j.ixfe],t.cellFormula&&(j.f=""+_s(l.formula,o,l.cell,X,T)),C>0&&(j.z=U[j.ixfe>>8&63]),Pc(j,t,r.opts.Date1904),E(l.cell,j,t),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{w.push(ee);var ye=Yr(ee[0].s);if(p=t.dense?(a[ee[0].s.r]||[])[ee[0].s.c]:a[ye],t.cellFormula&&p){if(!l||!ye||!p)break;p.f=""+_s(ee[1],o,ee[0],X,T),p.F=un(ee[0])}}break;case 1212:{if(!t.cellFormula)break;if(m){if(!l)break;b[Yr(l.cell)]=ee[0],p=t.dense?(a[l.cell.r]||[])[l.cell.c]:a[Yr(l.cell)],(p||{}).f=""+_s(ee[0],o,h,X,T)}}break;case 253:j=Kg(c[ee.isst].t,ee.ixfe,"s"),c[ee.isst].h&&(j.h=c[ee.isst].h),j.XF=S[j.ixfe],C>0&&(j.z=U[j.ixfe>>8&63]),Pc(j,t,r.opts.Date1904),E({c:ee.c,r:ee.r},j,t);break;case 513:t.sheetStubs&&(j={ixfe:ee.ixfe,XF:S[ee.ixfe],t:"z"},C>0&&(j.z=U[j.ixfe>>8&63]),Pc(j,t,r.opts.Date1904),E({c:ee.c,r:ee.r},j,t));break;case 190:if(t.sheetStubs)for(var Be=ee.c;Be<=ee.C;++Be){var $e=ee.ixfe[Be-ee.c];j={ixfe:$e,XF:S[$e],t:"z"},C>0&&(j.z=U[j.ixfe>>8&63]),Pc(j,t,r.opts.Date1904),E({c:Be,r:ee.r},j,t)}break;case 214:case 516:case 4:j=Kg(ee.val,ee.ixfe,"s"),j.XF=S[j.ixfe],C>0&&(j.z=U[j.ixfe>>8&63]),Pc(j,t,r.opts.Date1904),E({c:ee.c,r:ee.r},j,t);break;case 0:case 512:q===1&&(o=ee);break;case 252:c=ee;break;case 1054:if(T.biff==4){U[C++]=ee[1];for(var rt=0;rt<C+163&&Vr[rt]!=ee[1];++rt);rt>=163&&Du(ee[1],C+163)}else Du(ee[1],ee[0]);break;case 30:{U[C++]=ee;for(var ft=0;ft<C+163&&Vr[ft]!=ee;++ft);ft>=163&&Du(ee,C+163)}break;case 229:z=z.concat(ee);break;case 93:Q[ee.cmo[0]]=T.lastobj=ee;break;case 438:T.lastobj.TxO=ee;break;case 127:T.lastobj.ImData=ee;break;case 440:for(g=ee[0].s.r;g<=ee[0].e.r;++g)for(v=ee[0].s.c;v<=ee[0].e.c;++v)p=t.dense?(a[g]||[])[v]:a[Yr({c:v,r:g})],p&&(p.l=ee[1]);break;case 2048:for(g=ee[0].s.r;g<=ee[0].e.r;++g)for(v=ee[0].s.c;v<=ee[0].e.c;++v)p=t.dense?(a[g]||[])[v]:a[Yr({c:v,r:g})],p&&p.l&&(p.l.Tooltip=ee[1]);break;case 28:{if(T.biff<=5&&T.biff>=2)break;p=t.dense?(a[ee[0].r]||[])[ee[0].c]:a[Yr(ee[0])];var Nt=Q[ee[2]];p||(t.dense?(a[ee[0].r]||(a[ee[0].r]=[]),p=a[ee[0].r][ee[0].c]={t:"z"}):p=a[Yr(ee[0])]={t:"z"},o.e.r=Math.max(o.e.r,ee[0].r),o.s.r=Math.min(o.s.r,ee[0].r),o.e.c=Math.max(o.e.c,ee[0].c),o.s.c=Math.min(o.s.c,ee[0].c)),p.c||(p.c=[]),y={a:ee[1],t:Nt.TxO.t},p.c.push(y)}break;case 2173:Cce(S[ee.ixfe],ee.ext);break;case 125:{if(!T.cellStyles)break;for(;ee.e>=ee.s;)te[ee.e--]={width:ee.w/256,level:ee.level||0,hidden:!!(ee.flags&1)},ie||(ie=!0,T3(ee.w/256)),Yd(te[ee.e+1])}break;case 520:{var Ue={};ee.level!=null&&(J[ee.r]=Ue,Ue.level=ee.level),ee.hidden&&(J[ee.r]=Ue,Ue.hidden=!0),ee.hpt&&(J[ee.r]=Ue,Ue.hpt=ee.hpt,Ue.hpx=Qh(ee.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||t0(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[fe]]=ee;break;case 161:a["!margins"]||t0(a["!margins"]={}),a["!margins"].header=ee.header,a["!margins"].footer=ee.footer;break;case 574:ee.RTL&&(A.Views[0].RTL=!0);break;case 146:P=ee;break;case 2198:I=ee;break;case 140:N=ee;break;case 442:u?O.CodeName=ee||O.name:A.WBProps.CodeName=ee||"ThisWorkbook";break}}else he||console.error("Missing Info for XLS Record 0x"+fe.toString(16)),e.l+=ce}return r.SheetNames=Ya(s).sort(function(dt,st){return Number(dt)-Number(st)}).map(function(dt){return s[dt].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&W.forEach(function(dt,st){r.Sheets[r.SheetNames[st]]["!autofilter"]=dt}),r.Strings=c,r.SSF=_a(Vr),T.enc&&(r.Encryption=T.enc),I&&(r.Themes=I),r.Metadata={},N!==void 0&&(r.Metadata.Country=N),X.names.length>0&&(A.Names=X.names),r.Workbook=A,r}var pm={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function zhe(e,t,r){var n=Rr.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=i8(n,kj,pm.DSI);for(var s in a)t[s]=a[s]}catch(u){if(r.WTF)throw u}var o=Rr.find(e,"/!SummaryInformation");if(o&&o.size>0)try{var l=i8(o,Sj,pm.SI);for(var c in l)t[c]==null&&(t[c]=l[c])}catch(u){if(r.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(q7(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function Hhe(e,t){var r=[],n=[],a=[],s=0,o,l=LP(kj,"n"),c=LP(Sj,"n");if(e.Props)for(o=Ya(e.Props),s=0;s<o.length;++s)(Object.prototype.hasOwnProperty.call(l,o[s])?r:Object.prototype.hasOwnProperty.call(c,o[s])?n:a).push([o[s],e.Props[o[s]]]);if(e.Custprops)for(o=Ya(e.Custprops),s=0;s<o.length;++s)Object.prototype.hasOwnProperty.call(e.Props||{},o[s])||(Object.prototype.hasOwnProperty.call(l,o[s])?r:Object.prototype.hasOwnProperty.call(c,o[s])?n:a).push([o[s],e.Custprops[o[s]]]);var u=[];for(s=0;s<a.length;++s)K7.indexOf(a[s][0])>-1||U7.indexOf(a[s][0])>-1||a[s][1]!=null&&u.push(a[s]);n.length&&Rr.utils.cfb_add(t,"/SummaryInformation",s8(n,pm.SI,c,Sj)),(r.length||u.length)&&Rr.utils.cfb_add(t,"/DocumentSummaryInformation",s8(r,pm.DSI,l,kj,u.length?u:null,pm.UDI))}function zM(e,t){t||(t={}),B3(t),s3(),t.codepage&&i3(t.codepage);var r,n;if(e.FullPaths){if(Rr.find(e,"/encryption"))throw new Error("File is password-protected");r=Rr.find(e,"!CompObj"),n=Rr.find(e,"/Workbook")||Rr.find(e,"/Book")}else{switch(t.type){case"base64":e=Fo(Uo(e));break;case"binary":e=Fo(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}ss(e,0),n={content:e}}var a,s;if(r&&Bhe(r),t.bookProps&&!t.bookSheets)a={};else{var o=xn?"buffer":"array";if(n&&n.content)a=$he(n.content,t);else if((s=Rr.find(e,"PerfectOffice_MAIN"))&&s.content)a=e0.to_workbook(s.content,(t.type=o,t));else if((s=Rr.find(e,"NativeContent_MAIN"))&&s.content)a=e0.to_workbook(s.content,(t.type=o,t));else throw(s=Rr.find(e,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Rr.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=nue(e))}var l={};return e.FullPaths&&zhe(e,l,t),a.Props=a.Custprops=l,t.bookFiles&&(a.cfb=e),a}function Whe(e,t){var r=t||{},n=Rr.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Rr.utils.cfb_add(n,a,HM(e,r)),r.biff==8&&(e.Props||e.Custprops)&&Hhe(e,n),r.biff==8&&e.vbaraw&&aue(n,Rr.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var hx={0:{f:mfe},1:{f:jfe},2:{f:$fe},3:{f:Ofe},4:{f:Afe},5:{f:Bfe},6:{f:Gfe},7:{f:Lfe},8:{f:e0e},9:{f:Zfe},10:{f:Jfe},11:{f:Qfe},12:{f:Sfe},13:{f:Hfe},14:{f:Ife},15:{f:Cfe},16:{f:LM},17:{f:Xfe},18:{f:Mfe},19:{f:b3},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:X0e},40:{},42:{},43:{f:Gle},44:{f:Wle},45:{f:Yle},46:{f:Qle},47:{f:Jle},48:{},49:{f:vie},50:{},51:{f:Pce},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:iM},62:{f:Vfe},63:{f:qce},64:{f:x0e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ds,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:f0e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:wfe},148:{f:vfe,p:16},151:{f:s0e},152:{},153:{f:V0e},154:{},155:{},156:{f:H0e},157:{},158:{},159:{T:1,f:lle},160:{T:-1},161:{T:1,f:k0},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:t0e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Tce},336:{T:-1},337:{f:Lce,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:jj},357:{},358:{},359:{},360:{T:1},361:{},362:{f:aM},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:o0e},427:{f:l0e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:u0e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:bfe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:a0e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:jj},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Qce},633:{T:1},634:{T:-1},635:{T:1,f:Yce},636:{T:-1},637:{f:Nie},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:I0e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:g0e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},Oj={6:{f:CN},10:{f:Ed},12:{f:pi},13:{f:pi},14:{f:ri},15:{f:ri},16:{f:Os},17:{f:ri},18:{f:ri},19:{f:pi},20:{f:f8},21:{f:f8},23:{f:aM},24:{f:p8},25:{f:ri},26:{},27:{},28:{f:goe},29:{},34:{f:ri},35:{f:h8},38:{f:Os},39:{f:Os},40:{f:Os},41:{f:Os},42:{f:ri},43:{f:ri},47:{f:Cle},49:{f:Hse},51:{f:pi},60:{},61:{f:Bse},64:{f:ri},65:{f:zse},66:{f:pi},77:{},80:{},81:{},82:{},85:{f:pi},89:{},90:{},91:{},92:{f:Ese},93:{f:boe},94:{},95:{f:ri},96:{},97:{},99:{f:ri},125:{f:iM},128:{f:ioe},129:{f:Tse},130:{f:pi},131:{f:ri},132:{f:ri},133:{f:Ose},134:{},140:{f:Eoe},141:{f:pi},144:{},146:{f:Ooe},151:{},152:{},153:{},154:{},155:{},156:{f:pi},157:{},158:{},160:{f:Roe},161:{f:Doe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:toe},190:{f:roe},193:{f:Ed},197:{},198:{},199:{},200:{},201:{},202:{f:ri},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:pi},220:{},221:{f:ri},222:{},224:{f:aoe},225:{f:Ase},226:{f:Ed},227:{},229:{f:voe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:Ise},253:{f:Vse},255:{f:Lse},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:X7},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:ri},353:{f:Ed},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:uoe},431:{f:ri},432:{},433:{},434:{},437:{},438:{f:joe},439:{f:ri},440:{f:koe},441:{},442:{f:Ox},443:{},444:{f:pi},445:{},446:{},448:{f:Ed},449:{f:Rse,r:2},450:{f:Ed},512:{f:c8},513:{f:Moe},515:{f:loe},516:{f:Kse},517:{f:d8},519:{f:Boe},520:{f:Fse},523:{},545:{f:m8},549:{f:l8},566:{},574:{f:qse},638:{f:eoe},659:{},1048:{},1054:{f:Yse},1084:{},1212:{f:poe},2048:{f:_oe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Wg},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Ed},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:Poe,r:12},2173:{f:Ece,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:ri,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:hoe,r:12},2197:{},2198:{f:Nce,r:12},2199:{},2200:{},2201:{},2202:{f:moe,r:12},2203:{f:Ed},2204:{},2205:{},2206:{},2207:{},2211:{f:Mse},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:pi},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:Loe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:Toe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:c8},1:{},2:{f:Hoe},3:{f:$oe},4:{f:qoe},5:{f:d8},7:{f:Voe},8:{},9:{f:Wg},11:{},22:{f:pi},30:{f:Qse},31:{},32:{},33:{f:m8},36:{},37:{f:l8},50:{f:Goe},62:{},52:{},67:{},68:{f:pi},69:{},86:{},126:{},127:{f:Uoe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:Koe},223:{},234:{},354:{},421:{},518:{f:CN},521:{f:Wg},536:{f:p8},547:{f:h8},561:{},579:{},1030:{f:CN},1033:{f:Wg},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function rr(e,t,r,n){var a=t;if(!isNaN(a)){var s=n||(r||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,s),s>0&&g3(r)&&e.push(r)}}function Vhe(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return rr(e,t,r,a);var s=t;if(!isNaN(s)){for(var o=r.parts||[],l=0,c=0,u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;var d=e.next(4);for(d.write_shift(2,s),d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u;c<a;){for(d=e.next(4),d.write_shift(2,60),u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u}}}function Lx(e,t,r){return e||(e=_t(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function Ghe(e,t,r,n){var a=_t(9);return Lx(a,e,t),Y7(r,n||"b",a),a}function Khe(e,t,r){var n=_t(8+2*r.length);return Lx(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function Xhe(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?Ai(Sa(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?rr(e,2,Woe(r,n,a)):rr(e,3,zoe(r,n,a));return;case"b":case"e":rr(e,5,Ghe(r,n,t.v,t.t));return;case"s":case"str":rr(e,4,Khe(r,n,(t.v||"").slice(0,255)));return}rr(e,1,Lx(null,r,n))}function Yhe(e,t,r,n){var a=Array.isArray(t),s=Rn(t["!ref"]||"A1"),o,l="",c=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),o=un(s)}for(var u=s.s.r;u<=s.e.r;++u){l=si(u);for(var d=s.s.c;d<=s.e.c;++d){u===s.s.r&&(c[d]=Ma(d)),o=c[d]+l;var h=a?(t[u]||[])[d]:t[o];h&&Xhe(e,h,u,d)}}}function Jhe(e,t){for(var r=t||{},n=bo(),a=0,s=0;s<e.SheetNames.length;++s)e.SheetNames[s]==r.sheet&&(a=s);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return rr(n,r.biff==4?1033:r.biff==3?521:9,A3(e,16,r)),Yhe(n,e.Sheets[e.SheetNames[a]],a,r),rr(n,10),n.end()}function Qhe(e,t,r){rr(e,49,Wse({sz:12,name:"Arial"},r))}function Zhe(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&rr(e,1054,Jse(a,t[a],r))})}function epe(e,t){var r=_t(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),rr(e,2151,r),r=_t(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),tM(Rn(t["!ref"]||"A1"),r),r.write_shift(4,4),rr(e,2152,r)}function tpe(e,t){for(var r=0;r<16;++r)rr(e,224,u8({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){rr(e,224,u8(n,0,t))})}function rpe(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];rr(e,440,Soe(n)),n[1].Tooltip&&rr(e,2048,Aoe(n))}delete t["!links"]}function npe(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&rr(e,125,Ioe(ky(a,n),a))})}}function ape(e,t,r,n,a){var s=16+uf(a.cellXfs,t,a);if(t.v==null&&!t.bf){rr(e,513,h0(r,n,s));return}if(t.bf)rr(e,6,Tde(t,r,n,a,s));else switch(t.t){case"d":case"n":var o=t.t=="d"?Ai(Sa(t.v)):t.v;rr(e,515,coe(r,n,o,s));break;case"b":case"e":rr(e,517,ooe(r,n,t.v,s,a,t.t));break;case"s":case"str":if(a.bookSST){var l=L3(a.Strings,t.v,a.revStrings);rr(e,253,Gse(r,n,l,s))}else rr(e,516,Xse(r,n,(t.v||"").slice(0,255),s,a));break;default:rr(e,513,h0(r,n,s))}}function ipe(e,t,r){var n=bo(),a=r.SheetNames[e],s=r.Sheets[a]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(s),u=t.biff==8,d,h="",m=[],p=Rn(s["!ref"]||"A1"),y=u?65536:16384;if(p.e.c>255||p.e.r>=y){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,y-1)}rr(n,2057,A3(r,16,t)),rr(n,13,dl(1)),rr(n,12,dl(100)),rr(n,15,Js(!0)),rr(n,17,Js(!1)),rr(n,16,d0(.001)),rr(n,95,Js(!0)),rr(n,42,Js(!1)),rr(n,43,Js(!1)),rr(n,130,dl(1)),rr(n,128,soe()),rr(n,131,Js(!1)),rr(n,132,Js(!1)),u&&npe(n,s["!cols"]),rr(n,512,Zse(p,t)),u&&(s["!links"]=[]);for(var v=p.s.r;v<=p.e.r;++v){h=si(v);for(var g=p.s.c;g<=p.e.c;++g){v===p.s.r&&(m[g]=Ma(g)),d=m[g]+h;var b=c?(s[v]||[])[g]:s[d];b&&(ape(n,b,v,g,t),u&&b.l&&s["!links"].push([d,b.l]))}}var w=l.CodeName||l.name||a;return u&&rr(n,574,$se((o.Views||[])[0])),u&&(s["!merges"]||[]).length&&rr(n,229,yoe(s["!merges"])),u&&rpe(n,s),rr(n,442,J7(w)),u&&epe(n,s),rr(n,10),n.end()}function spe(e,t,r){var n=bo(),a=(e||{}).Workbook||{},s=a.Sheets||[],o=a.WBProps||{},l=r.biff==8,c=r.biff==5;if(rr(n,2057,A3(e,5,r)),r.bookType=="xla"&&rr(n,135),rr(n,225,l?dl(1200):null),rr(n,193,ose(2)),c&&rr(n,191),c&&rr(n,192),rr(n,226),rr(n,92,Cse("SheetJS",r)),rr(n,66,dl(l?1200:1252)),l&&rr(n,353,dl(0)),l&&rr(n,448),rr(n,317,Foe(e.SheetNames.length)),l&&e.vbaraw&&rr(n,211),l&&e.vbaraw){var u=o.CodeName||"ThisWorkbook";rr(n,442,J7(u))}rr(n,156,dl(17)),rr(n,25,Js(!1)),rr(n,18,Js(!1)),rr(n,19,dl(0)),l&&rr(n,431,Js(!1)),l&&rr(n,444,dl(0)),rr(n,61,Use()),rr(n,64,Js(!1)),rr(n,141,dl(0)),rr(n,34,Js(R0e(e)=="true")),rr(n,14,Js(!0)),l&&rr(n,439,Js(!1)),rr(n,218,dl(0)),Qhe(n,e,r),Zhe(n,e.SSF,r),tpe(n,r),l&&rr(n,352,Js(!1));var d=n.end(),h=bo();l&&rr(h,140,Coe()),l&&r.Strings&&Vhe(h,252,Dse(r.Strings)),rr(h,10);var m=h.end(),p=bo(),y=0,v=0;for(v=0;v<e.SheetNames.length;++v)y+=(l?12:11)+(l?2:1)*e.SheetNames[v].length;var g=d.length+y+m.length;for(v=0;v<e.SheetNames.length;++v){var b=s[v]||{};rr(p,133,Pse({pos:g,hs:b.Hidden||0,dt:0,name:e.SheetNames[v]},r)),g+=t[v].length}var w=p.end();if(y!=w.length)throw new Error("BS8 "+y+" != "+w.length);var j=[];return d.length&&j.push(d),w.length&&j.push(w),m.length&&j.push(m),$i(j)}function ope(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=_a(Vr)),e&&e.SSF&&(dp(),gy(e.SSF),r.revssf=yy(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,U3(r),r.cellXfs=[],uf(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=ipe(a,r,e);return n.unshift(spe(e,n,r)),$i(n)}function HM(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=wo(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var s=t||{};switch(s.biff||2){case 8:case 5:return ope(e,t);case 4:case 3:case 2:return Jhe(e,t)}throw new Error("invalid type "+s.bookType+" for BIFF")}function S8(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var s=e.match(/<\/table/i),o=a.index,l=s&&s.index||e.length,c=Wae(e.slice(o,l),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,h=0,m=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},y=[];for(o=0;o<c.length;++o){var v=c[o].trim(),g=v.slice(0,3).toLowerCase();if(g=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}d=0;continue}if(!(g!="<td"&&g!="<th")){var b=v.split(/<\/t[dh]>/i);for(l=0;l<b.length;++l){var w=b[l].trim();if(w.match(/<t[dh]/i)){for(var j=w,N=0;j.charAt(0)=="<"&&(N=j.indexOf(">"))>-1;)j=j.slice(N+1);for(var S=0;S<y.length;++S){var P=y[S];P.s.c==d&&P.s.r<u&&u<=P.e.r&&(d=P.e.c+1,S=-1)}var A=Zr(w.slice(0,w.indexOf(">")));m=A.colspan?+A.colspan:1,((h=+A.rowspan)>1||m>1)&&y.push({s:{r:u,c:d},e:{r:u+(h||1)-1,c:d+m-1}});var O=A.t||A["data-t"]||"";if(!j.length){d+=m;continue}if(j=p7(j),p.s.r>u&&(p.s.r=u),p.e.r<u&&(p.e.r=u),p.s.c>d&&(p.s.c=d),p.e.c<d&&(p.e.c=d),!j.length){d+=m;continue}var M={t:"s",v:j};r.raw||!j.trim().length||O=="s"||(j==="TRUE"?M={t:"b",v:!0}:j==="FALSE"?M={t:"b",v:!1}:isNaN(dc(j))?isNaN(Yh(j).getDate())||(M={t:"d",v:Sa(j)},r.cellDates||(M={t:"n",v:Ai(M.v)}),M.z=r.dateNF||Vr[14]):M={t:"n",v:dc(j)}),r.dense?(n[u]||(n[u]=[]),n[u][d]=M):n[Yr({r:u,c:d})]=M,d+=m}}}}return n["!ref"]=un(p),y.length&&(n["!merges"]=y),n}function lpe(e,t,r,n){for(var a=e["!merges"]||[],s=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>o)&&!(a[u].e.r<r||a[u].e.c<o)){if(a[u].s.r<r||a[u].s.c<o){l=-1;break}l=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(l<0)){var d=Yr({r,c:o}),h=n.dense?(e[r]||[])[o]:e[d],m=h&&h.v!=null&&(h.h||p3(h.w||($u(h),h.w)||""))||"",p={};l>1&&(p.rowspan=l),c>1&&(p.colspan=c),n.editable?m='<span contenteditable="true">'+m+"</span>":h&&(p["data-t"]=h&&h.t||"z",h.v!=null&&(p["data-v"]=h.v),h.z!=null&&(p["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(m='<a href="'+h.l.Target+'">'+m+"</a>")),p.id=(n.id||"sjs")+"-"+d,s.push(tr("td",m,p))}}var y="<tr>";return y+s.join("")+"</tr>"}var cpe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',upe="</body></html>";function dpe(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return cf(S8(r[0],t),t);var n=z3();return r.forEach(function(a,s){H3(n,S8(a,t),"Sheet"+(s+1))}),n}function fpe(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function WM(e,t){var r=t||{},n=r.header!=null?r.header:cpe,a=r.footer!=null?r.footer:upe,s=[n],o=wo(e["!ref"]);r.dense=Array.isArray(e),s.push(fpe(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)s.push(lpe(e,o,l,r));return s.push("</table>"+a),s.join("")}function VM(e,t,r){var n=r||{},a=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var o=typeof n.origin=="string"?Ra(n.origin):n.origin;a=o.r,s=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:a,c:s}};if(e["!ref"]){var d=wo(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var h=[],m=0,p=e["!rows"]||(e["!rows"]=[]),y=0,v=0,g=0,b=0,w=0,j=0;for(e["!cols"]||(e["!cols"]=[]);y<l.length&&v<c;++y){var N=l[y];if(_8(N)){if(n.display)continue;p[v]={hidden:!0}}var S=N.children;for(g=b=0;g<S.length;++g){var P=S[g];if(!(n.display&&_8(P))){var A=P.hasAttribute("data-v")?P.getAttribute("data-v"):P.hasAttribute("v")?P.getAttribute("v"):p7(P.innerHTML),O=P.getAttribute("data-z")||P.getAttribute("z");for(m=0;m<h.length;++m){var M=h[m];M.s.c==b+s&&M.s.r<v+a&&v+a<=M.e.r&&(b=M.e.c+1-s,m=-1)}j=+P.getAttribute("colspan")||1,((w=+P.getAttribute("rowspan")||1)>1||j>1)&&h.push({s:{r:v+a,c:b+s},e:{r:v+a+(w||1)-1,c:b+s+(j||1)-1}});var F={t:"s",v:A},E=P.getAttribute("data-t")||P.getAttribute("t")||"";A!=null&&(A.length==0?F.t=E||"z":n.raw||A.trim().length==0||E=="s"||(A==="TRUE"?F={t:"b",v:!0}:A==="FALSE"?F={t:"b",v:!1}:isNaN(dc(A))?isNaN(Yh(A).getDate())||(F={t:"d",v:Sa(A)},n.cellDates||(F={t:"n",v:Ai(F.v)}),F.z=n.dateNF||Vr[14]):F={t:"n",v:dc(A)})),F.z===void 0&&O!=null&&(F.z=O);var T="",I=P.getElementsByTagName("A");if(I&&I.length)for(var z=0;z<I.length&&!(I[z].hasAttribute("href")&&(T=I[z].getAttribute("href"),T.charAt(0)!="#"));++z);T&&T.charAt(0)!="#"&&(F.l={Target:T}),n.dense?(e[v+a]||(e[v+a]=[]),e[v+a][b+s]=F):e[Yr({c:b+s,r:v+a})]=F,u.e.c<b+s&&(u.e.c=b+s),b+=j}}++v}return h.length&&(e["!merges"]=(e["!merges"]||[]).concat(h)),u.e.r=Math.max(u.e.r,v-1+a),e["!ref"]=un(u),v>=c&&(e["!fullref"]=un((u.e.r=l.length-y+v-1+a,u))),e}function GM(e,t){var r=t||{},n=r.dense?[]:{};return VM(n,e,t)}function hpe(e,t){return cf(GM(e,t),t)}function _8(e){var t="",r=ppe(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function ppe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function mpe(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Mn(t.replace(/<[^>]*>/g,""));return[r]}var A8={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function KM(e,t){var r=t||{},n=m3(e),a=[],s,o,l={name:""},c="",u=0,d,h,m={},p=[],y=r.dense?[]:{},v,g,b={value:""},w="",j=0,N=[],S=-1,P=-1,A={s:{r:1e6,c:1e7},e:{r:0,c:0}},O=0,M={},F=[],E={},T=0,I=0,z=[],Q=1,te=1,J=[],ie={Names:[]},X={},Z=["",""],q=[],C={},U="",W=0,B=!1,K=!1,re=0;for(ox.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");v=ox.exec(n);)switch(v[3]=v[3].replace(/_.*$/,"")){case"table":case"":v[1]==="/"?(A.e.c>=A.s.c&&A.e.r>=A.s.r?y["!ref"]=un(A):y["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=A.e.r&&(y["!fullref"]=y["!ref"],A.e.r=r.sheetRows-1,y["!ref"]=un(A)),F.length&&(y["!merges"]=F),z.length&&(y["!rows"]=z),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),p.push(d.name),m[d.name]=y,K=!1):v[0].charAt(v[0].length-2)!=="/"&&(d=Zr(v[0],!1),S=P=-1,A.s.r=A.s.c=1e7,A.e.r=A.e.c=0,y=r.dense?[]:{},F=[],z=[],K=!0);break;case"table-row-group":v[1]==="/"?--O:++O;break;case"table-row":case"":if(v[1]==="/"){S+=Q,Q=1;break}if(h=Zr(v[0],!1),h.?S=h.-1:S==-1&&(S=0),Q=+h["number-rows-repeated"]||1,Q<10)for(re=0;re<Q;++re)O>0&&(z[S+re]={level:O});P=-1;break;case"covered-table-cell":v[1]!=="/"&&++P,r.sheetStubs&&(r.dense?(y[S]||(y[S]=[]),y[S][P]={t:"z"}):y[Yr({r:S,c:P})]={t:"z"}),w="",N=[];break;case"table-cell":case"":if(v[0].charAt(v[0].length-2)==="/")++P,b=Zr(v[0],!1),te=parseInt(b["number-columns-repeated"]||"1",10),g={t:"z",v:null},b.formula&&r.cellFormula!=!1&&(g.f=N8(Mn(b.formula))),(b.||b["value-type"])=="string"&&(g.t="s",g.v=Mn(b["string-value"]||""),r.dense?(y[S]||(y[S]=[]),y[S][P]=g):y[Yr({r:S,c:P})]=g),P+=te-1;else if(v[1]!=="/"){++P,w="",j=0,N=[],te=1;var fe=Q?S+Q-1:S;if(P>A.e.c&&(A.e.c=P),P<A.s.c&&(A.s.c=P),S<A.s.r&&(A.s.r=S),fe>A.e.r&&(A.e.r=fe),b=Zr(v[0],!1),q=[],C={},g={t:b.||b["value-type"],v:null},r.cellFormula)if(b.formula&&(b.formula=Mn(b.formula)),b["number-matrix-columns-spanned"]&&b["number-matrix-rows-spanned"]&&(T=parseInt(b["number-matrix-rows-spanned"],10)||0,I=parseInt(b["number-matrix-columns-spanned"],10)||0,E={s:{r:S,c:P},e:{r:S+T-1,c:P+I-1}},g.F=un(E),J.push([E,g.F])),b.formula)g.f=N8(b.formula);else for(re=0;re<J.length;++re)S>=J[re][0].s.r&&S<=J[re][0].e.r&&P>=J[re][0].s.c&&P<=J[re][0].e.c&&(g.F=J[re][1]);switch((b["number-columns-spanned"]||b["number-rows-spanned"])&&(T=parseInt(b["number-rows-spanned"],10)||0,I=parseInt(b["number-columns-spanned"],10)||0,E={s:{r:S,c:P},e:{r:S+T-1,c:P+I-1}},F.push(E)),b["number-columns-repeated"]&&(te=parseInt(b["number-columns-repeated"],10)),g.t){case"boolean":g.t="b",g.v=ja(b["boolean-value"]);break;case"float":g.t="n",g.v=parseFloat(b.value);break;case"percentage":g.t="n",g.v=parseFloat(b.value);break;case"currency":g.t="n",g.v=parseFloat(b.value);break;case"date":g.t="d",g.v=Sa(b["date-value"]),r.cellDates||(g.t="n",g.v=Ai(g.v)),g.z="m/d/yy";break;case"time":g.t="n",g.v=$ae(b["time-value"])/86400,r.cellDates&&(g.t="d",g.v=by(g.v)),g.z="HH:MM:SS";break;case"number":g.t="n",g.v=parseFloat(b.);break;default:if(g.t==="string"||g.t==="text"||!g.t)g.t="s",b["string-value"]!=null&&(w=Mn(b["string-value"]),N=[]);else throw new Error("Unsupported value type "+g.t)}}else{if(B=!1,g.t==="s"&&(g.v=w||"",N.length&&(g.R=N),B=j==0),X.Target&&(g.l=X),q.length>0&&(g.c=q,q=[]),w&&r.cellText!==!1&&(g.w=w),B&&(g.t="z",delete g.v),(!B||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=S))for(var ce=0;ce<Q;++ce){if(te=parseInt(b["number-columns-repeated"]||"1",10),r.dense)for(y[S+ce]||(y[S+ce]=[]),y[S+ce][P]=ce==0?g:_a(g);--te>0;)y[S+ce][P+te]=_a(g);else for(y[Yr({r:S+ce,c:P})]=g;--te>0;)y[Yr({r:S+ce,c:P+te})]=_a(g);A.e.c<=P&&(A.e.c=P)}te=parseInt(b["number-columns-repeated"]||"1",10),P+=te-1,te=0,g={},w="",N=[]}X={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(v[1]==="/"){if((s=a.pop())[0]!==v[3])throw"Bad state: "+s}else v[0].charAt(v[0].length-2)!=="/"&&a.push([v[3],!0]);break;case"annotation":if(v[1]==="/"){if((s=a.pop())[0]!==v[3])throw"Bad state: "+s;C.t=w,N.length&&(C.R=N),C.a=U,q.push(C)}else v[0].charAt(v[0].length-2)!=="/"&&a.push([v[3],!1]);U="",W=0,w="",j=0,N=[];break;case"creator":v[1]==="/"?U=n.slice(W,v.index):W=v.index+v[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(v[1]==="/"){if((s=a.pop())[0]!==v[3])throw"Bad state: "+s}else v[0].charAt(v[0].length-2)!=="/"&&a.push([v[3],!1]);w="",j=0,N=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(v[1]==="/"){if(M[l.name]=c,(s=a.pop())[0]!==v[3])throw"Bad state: "+s}else v[0].charAt(v[0].length-2)!=="/"&&(c="",l=Zr(v[0],!1),a.push([v[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":o=Zr(v[0],!1),c+=A8[v[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":o=Zr(v[0],!1),c+=A8[v[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(v[0].slice(-2)==="/>")break;if(v[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(u,v.index);break}else u=v.index+v[0].length;break;case"named-range":o=Zr(v[0],!1),Z=TN(o["cell-range-address"]);var he={Name:o.name,Ref:Z[0]+"!"+Z[1]};K&&(he.Sheet=p.length),ie.Names.push(he);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(v[1]==="/"&&(!b||!b["string-value"])){var Oe=mpe(n.slice(j,v.index));w=(w.length>0?w+`
`:"")+Oe[0]}else Zr(v[0],!1),j=v.index+v[0].length;break;case"s":break;case"database-range":if(v[1]==="/")break;try{Z=TN(Zr(v[0])["target-range-address"]),m[Z[0]]["!autofilter"]={ref:Z[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(v[1]!=="/"){if(X=Zr(v[0],!1),!X.href)break;X.Target=Mn(X.href),delete X.href,X.Target.charAt(0)=="#"&&X.Target.indexOf(".")>-1?(Z=TN(X.Target.slice(1)),X.Target="#"+Z[0]+"!"+Z[1]):X.Target.match(/^\.\.[\\\/]/)&&(X.Target=X.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(v[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(v)}}var ee={Sheets:m,SheetNames:p,Workbook:ie};return r.bookSheets&&delete ee.Sheets,ee}function E8(e,t){t=t||{},ul(e,"META-INF/manifest.xml")&&$ie(hi(e,"META-INF/manifest.xml"),t);var r=Mo(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=KM(ca(r),t);return ul(e,"meta.xml")&&(n.Props=R7(hi(e,"meta.xml"))),n}function C8(e,t){return KM(e,t)}var xpe=(function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+sx({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return li+t}})(),T8=(function(){var e=function(s){return ia(s).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(s,o,l){var c=[];c.push('      <table:table table:name="'+ia(o.SheetNames[l])+`" table:style-name="ta1">
`);var u=0,d=0,h=wo(s["!ref"]||"A1"),m=s["!merges"]||[],p=0,y=Array.isArray(s);if(s["!cols"])for(d=0;d<=h.e.c;++d)c.push("        <table:table-column"+(s["!cols"][d]?' table:style-name="co'+s["!cols"][d].ods+'"':"")+`></table:table-column>
`);var v="",g=s["!rows"]||[];for(u=0;u<h.s.r;++u)v=g[u]?' table:style-name="ro'+g[u].ods+'"':"",c.push("        <table:table-row"+v+`></table:table-row>
`);for(;u<=h.e.r;++u){for(v=g[u]?' table:style-name="ro'+g[u].ods+'"':"",c.push("        <table:table-row"+v+`>
`),d=0;d<h.s.c;++d)c.push(t);for(;d<=h.e.c;++d){var b=!1,w={},j="";for(p=0;p!=m.length;++p)if(!(m[p].s.c>d)&&!(m[p].s.r>u)&&!(m[p].e.c<d)&&!(m[p].e.r<u)){(m[p].s.c!=d||m[p].s.r!=u)&&(b=!0),w["table:number-columns-spanned"]=m[p].e.c-m[p].s.c+1,w["table:number-rows-spanned"]=m[p].e.r-m[p].s.r+1;break}if(b){c.push(r);continue}var N=Yr({r:u,c:d}),S=y?(s[u]||[])[d]:s[N];if(S&&S.f&&(w["table:formula"]=ia(Fde(S.f)),S.F&&S.F.slice(0,N.length)==N)){var P=wo(S.F);w["table:number-matrix-columns-spanned"]=P.e.c-P.s.c+1,w["table:number-matrix-rows-spanned"]=P.e.r-P.s.r+1}if(!S){c.push(t);continue}switch(S.t){case"b":j=S.v?"TRUE":"FALSE",w["office:value-type"]="boolean",w["office:boolean-value"]=S.v?"true":"false";break;case"n":j=S.w||String(S.v||0),w["office:value-type"]="float",w["office:value"]=S.v||0;break;case"s":case"str":j=S.v==null?"":S.v,w["office:value-type"]="string";break;case"d":j=S.w||Sa(S.v).toISOString(),w["office:value-type"]="date",w["office:date-value"]=Sa(S.v).toISOString(),w["table:style-name"]="ce1";break;default:c.push(t);continue}var A=e(j);if(S.l&&S.l.Target){var O=S.l.Target;O=O.charAt(0)=="#"?"#"+Mde(O.slice(1)):O,O.charAt(0)!="#"&&!O.match(/^\w+:/)&&(O="../"+O),A=tr("text:a",A,{"xlink:href":O.replace(/&/g,"&amp;")})}c.push("          "+tr("table:table-cell",tr("text:p",A,{}),w)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(s,o){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var h=u["!cols"][d];if(h.width==null&&h.wpx==null&&h.wch==null)continue;Yd(h),h.ods=l;var m=u["!cols"][d].wpx+"px";s.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+m+`"/>
`),s.push(`  </style:style>
`),++l}}});var c=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=c;var h=u["!rows"][d].hpx+"px";s.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+h+`"/>
`),s.push(`  </style:style>
`),++c}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(o,l){var c=[li],u=sx({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=sx({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+u+d+`>
`),c.push(M7().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),a(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var h=0;h!=o.SheetNames.length;++h)c.push(n(o.Sheets[o.SheetNames[h]],o,h));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}})();function XM(e,t){if(t.bookType=="fods")return T8(e,t);var r=d3(),n="",a=[],s=[];return n="mimetype",dn(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",dn(r,n,T8(e,t)),a.push([n,"text/xml"]),s.push([n,"ContentFile"]),n="styles.xml",dn(r,n,xpe(e,t)),a.push([n,"text/xml"]),s.push([n,"StylesFile"]),n="meta.xml",dn(r,n,li+M7()),a.push([n,"text/xml"]),s.push([n,"MetadataFile"]),n="manifest.rdf",dn(r,n,Wie(s)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",dn(r,n,zie(a)),r}function p0(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Pj(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):ca(lf(e))}function gpe(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Fo(Uc(e))}function vpe(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function Qd(e){var t=e.reduce(function(a,s){return a+s.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function O8(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function ype(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function bpe(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var s=0;a>=1;++s,a/=256)e[t+s]=a&255;e[t+15]|=r>=0?0:128}function px(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function na(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Xa(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function zn(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=px(e,r),s=a&7;a=Math.floor(a/8);var o=0,l;if(a==0)break;switch(s){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=px(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;default:throw new Error("PB Type ".concat(s," for Field ").concat(a," at offset ").concat(n))}var u={data:l,type:s};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function ns(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(na(n*8+a.type)),a.type==2&&t.push(na(a.data.length)),t.push(a.data))})}),Qd(t)}function R3(e,t){return e?.map(function(r){return t(r.data)})||[]}function ll(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=px(e,n),s=zn(e.slice(n[0],n[0]+a));n[0]+=a;var o={id:Xa(s[1][0].data),messages:[]};s[2].forEach(function(l){var c=zn(l.data),u=Xa(c[3][0].data);o.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=s[3])!=null&&t[0]&&(o.merge=Xa(s[3][0].data)>>>0>0),r.push(o)}return r}function Q0(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:na(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:na(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(o){a.push(o.data),o.meta[3]=[{type:0,data:na(o.data.length)}],n[2].push({data:ns(o.meta),type:2})});var s=ns(n);t.push(na(s.length)),t.push(s),a.forEach(function(o){return t.push(o)})}),Qd(t)}function wpe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=px(t,r),a=[];r[0]<t.length;){var s=t[r[0]]&3;if(s==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}a.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,u=0;if(s==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,s==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[Qd(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var d=Qd(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function cl(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(wpe(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Qd(t)}function Z0(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var s=na(n),o=s.length;t.push(s),n<=60?(o++,t.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),o+=n,a[0]=0,a[1]=o&255,a[2]=o>>8&255,a[3]=o>>16&255,r+=n}return Qd(t)}function Npe(e,t,r,n){var a=p0(e),s=a.getUint32(4,!0),o=(n>1?12:8)+O8(s&(n>1?3470:398))*4,l=-1,c=-1,u=NaN,d=new Date(2001,0,1);s&512&&(l=a.getUint32(o,!0),o+=4),o+=O8(s&(n>1?12288:4096))*4,s&16&&(c=a.getUint32(o,!0),o+=4),s&32&&(u=a.getFloat64(o,!0),o+=8),s&64&&(d.setTime(d.getTime()+a.getFloat64(o,!0)*1e3),o+=8);var h;switch(e[2]){case 0:break;case 2:h={t:"n",v:u};break;case 3:h={t:"s",v:t[c]};break;case 5:h={t:"d",v:d};break;case 6:h={t:"b",v:u>0};break;case 7:h={t:"n",v:u/86400};break;case 8:h={t:"e",v:0};break;case 9:if(l>-1)h={t:"s",v:r[l]};else if(c>-1)h={t:"s",v:t[c]};else if(!isNaN(u))h={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return h}function jpe(e,t,r){var n=p0(e),a=n.getUint32(8,!0),s=12,o=-1,l=-1,c=NaN,u=NaN,d=new Date(2001,0,1);a&1&&(c=ype(e,s),s+=16),a&2&&(u=n.getFloat64(s,!0),s+=8),a&4&&(d.setTime(d.getTime()+n.getFloat64(s,!0)*1e3),s+=8),a&8&&(l=n.getUint32(s,!0),s+=4),a&16&&(o=n.getUint32(s,!0),s+=4);var h;switch(e[1]){case 0:break;case 2:h={t:"n",v:c};break;case 3:h={t:"s",v:t[l]};break;case 5:h={t:"d",v:d};break;case 6:h={t:"b",v:u>0};break;case 7:h={t:"n",v:u/86400};break;case 8:h={t:"e",v:0};break;case 9:if(o>-1)h={t:"s",v:r[o]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:h={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return h}function PN(e,t){var r=new Uint8Array(32),n=p0(r),a=12,s=0;switch(r[0]=5,e.t){case"n":r[1]=2,bpe(r,a,e.v),s|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),s|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),s|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,s,!0),r.slice(0,a)}function IN(e,t){var r=new Uint8Array(32),n=p0(r),a=12,s=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),s|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),s|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),s|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,s,!0),r.slice(0,a)}function kpe(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return Npe(e,t,r,e[0]);case 5:return jpe(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Ss(e){var t=zn(e);return px(t[1][0].data)}function P8(e,t){var r=zn(t.data),n=Xa(r[1][0].data),a=r[3],s=[];return(a||[]).forEach(function(o){var l=zn(o.data),c=Xa(l[1][0].data)>>>0;switch(n){case 1:s[c]=Pj(l[3][0].data);break;case 8:{var u=e[Ss(l[9][0].data)][0],d=zn(u.data),h=e[Ss(d[1][0].data)][0],m=Xa(h.meta[1][0].data);if(m!=2001)throw new Error("2000 unexpected reference to ".concat(m));var p=zn(h.data);s[c]=p[3].map(function(y){return Pj(y.data)}).join("")}break}}),s}function Spe(e,t){var r,n,a,s,o,l,c,u,d,h,m,p,y,v,g=zn(e),b=Xa(g[1][0].data)>>>0,w=Xa(g[2][0].data)>>>0,j=((n=(r=g[8])==null?void 0:r[0])==null?void 0:n.data)&&Xa(g[8][0].data)>0||!1,N,S;if((s=(a=g[7])==null?void 0:a[0])!=null&&s.data&&t!=0)N=(l=(o=g[7])==null?void 0:o[0])==null?void 0:l.data,S=(u=(c=g[6])==null?void 0:c[0])==null?void 0:u.data;else if((h=(d=g[4])==null?void 0:d[0])!=null&&h.data&&t!=1)N=(p=(m=g[4])==null?void 0:m[0])==null?void 0:p.data,S=(v=(y=g[3])==null?void 0:y[0])==null?void 0:v.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var P=j?4:1,A=p0(N),O=[],M=0;M<N.length/2;++M){var F=A.getUint16(M*2,!0);F<65535&&O.push([M,F])}if(O.length!=w)throw"Expected ".concat(w," cells, found ").concat(O.length);var E=[];for(M=0;M<O.length-1;++M)E[O[M][0]]=S.subarray(O[M][1]*P,O[M+1][1]*P);return O.length>=1&&(E[O[O.length-1][0]]=S.subarray(O[O.length-1][1]*P)),{R:b,cells:E}}function _pe(e,t){var r,n=zn(t.data),a=(r=n?.[7])!=null&&r[0]?Xa(n[7][0].data)>>>0>0?1:0:-1,s=R3(n[5],function(o){return Spe(o,a)});return{nrows:Xa(n[4][0].data)>>>0,data:s.reduce(function(o,l){return o[l.R]||(o[l.R]=[]),l.cells.forEach(function(c,u){if(o[l.R][u])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(u));o[l.R][u]=c}),o},[])}}function Ape(e,t,r){var n,a=zn(t.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(Xa(a[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(s.e.c=(Xa(a[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=un(s);var o=zn(a[4][0].data),l=P8(e,e[Ss(o[4][0].data)][0]),c=(n=o[17])!=null&&n[0]?P8(e,e[Ss(o[17][0].data)][0]):[],u=zn(o[3][0].data),d=0;u[1].forEach(function(h){var m=zn(h.data),p=e[Ss(m[2][0].data)][0],y=Xa(p.meta[1][0].data);if(y!=6002)throw new Error("6001 unexpected reference to ".concat(y));var v=_pe(e,p);v.data.forEach(function(g,b){g.forEach(function(w,j){var N=Yr({r:d+b,c:j}),S=kpe(w,l,c);S&&(r[N]=S)})}),d+=v.nrows})}function Epe(e,t){var r=zn(t.data),n={"!ref":"A1"},a=e[Ss(r[2][0].data)],s=Xa(a[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return Ape(e,a[0],n),n}function Cpe(e,t){var r,n=zn(t.data),a={name:(r=n[1])!=null&&r[0]?Pj(n[1][0].data):"",sheets:[]},s=R3(n[2],Ss);return s.forEach(function(o){e[o].forEach(function(l){var c=Xa(l.meta[1][0].data);c==6e3&&a.sheets.push(Epe(e,l))})}),a}function Tpe(e,t){var r=z3(),n=zn(t.data),a=R3(n[1],Ss);if(a.forEach(function(s){e[s].forEach(function(o){var l=Xa(o.meta[1][0].data);if(l==2){var c=Cpe(e,o);c.sheets.forEach(function(u,d){H3(r,u,d==0?c.name:c.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function DN(e){var t,r,n,a,s={},o=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var u;try{u=cl(c.content)}catch(h){return console.log("?? "+c.content.length+" "+(h.message||h))}var d;try{d=ll(u)}catch(h){return console.log("## "+(h.message||h))}d.forEach(function(h){s[h.id]=h.messages,o.push(h.id)})}}),!o.length)throw new Error("File has no messages");var l=((a=(n=(r=(t=s?.[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&Xa(s[1][0].meta[1][0].data)==1&&s[1][0];if(l||o.forEach(function(c){s[c].forEach(function(u){var d=Xa(u.meta[1][0].data)>>>0;if(d==1)if(!l)l=u;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return Tpe(s,l)}function Ope(e,t,r){var n,a,s,o;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(s=e[8])==null?void 0:s[0])==null?void 0:o.data)&&Xa(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,u=p0(e[7][0].data),d=0,h=[],m=p0(e[4][0].data),p=0,y=[],v=0;v<t.length;++v){if(t[v]==null){u.setUint16(v*2,65535,!0),m.setUint16(v*2,65535);continue}u.setUint16(v*2,d,!0),m.setUint16(v*2,p,!0);var g,b;switch(typeof t[v]){case"string":g=PN({t:"s",v:t[v]},r),b=IN({t:"s",v:t[v]},r);break;case"number":g=PN({t:"n",v:t[v]},r),b=IN({t:"n",v:t[v]},r);break;case"boolean":g=PN({t:"b",v:t[v]},r),b=IN({t:"b",v:t[v]},r);break;default:throw new Error("Unsupported value "+t[v])}h.push(g),d+=g.length,y.push(b),p+=b.length,++c}for(e[2][0].data=na(c);v<e[7][0].data.length/2;++v)u.setUint16(v*2,65535,!0),m.setUint16(v*2,65535,!0);return e[6][0].data=Qd(h),e[3][0].data=Qd(y),c}function Ppe(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=wo(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(un(n)));var s=T1(r,{range:n,header:1}),o=["~Sh33tJ5~"];s.forEach(function(U){return U.forEach(function(W){typeof W=="string"&&o.push(W)})});var l={},c=[],u=Rr.read(t.numbers,{type:"base64"});u.FileIndex.map(function(U,W){return[U,u.FullPaths[W]]}).forEach(function(U){var W=U[0],B=U[1];if(W.type==2&&W.name.match(/\.iwa/)){var K=W.content,re=cl(K),fe=ll(re);fe.forEach(function(ce){c.push(ce.id),l[ce.id]={deps:[],location:B,type:Xa(ce.messages[0].meta[1][0].data)}})}}),c.sort(function(U,W){return U-W});var d=c.filter(function(U){return U>1}).map(function(U){return[U,na(U)]});u.FileIndex.map(function(U,W){return[U,u.FullPaths[W]]}).forEach(function(U){var W=U[0];if(U[1],!!W.name.match(/\.iwa/)){var B=ll(cl(W.content));B.forEach(function(K){K.messages.forEach(function(re){d.forEach(function(fe){K.messages.some(function(ce){return Xa(ce.meta[1][0].data)!=11006&&vpe(ce.data,fe[1])})&&l[fe[0]].deps.push(K.id)})})})}});for(var h=Rr.find(u,l[1].location),m=ll(cl(h.content)),p,y=0;y<m.length;++y){var v=m[y];v.id==1&&(p=v)}var g=Ss(zn(p.messages[0].data)[1][0].data);for(h=Rr.find(u,l[g].location),m=ll(cl(h.content)),y=0;y<m.length;++y)v=m[y],v.id==g&&(p=v);for(g=Ss(zn(p.messages[0].data)[2][0].data),h=Rr.find(u,l[g].location),m=ll(cl(h.content)),y=0;y<m.length;++y)v=m[y],v.id==g&&(p=v);for(g=Ss(zn(p.messages[0].data)[2][0].data),h=Rr.find(u,l[g].location),m=ll(cl(h.content)),y=0;y<m.length;++y)v=m[y],v.id==g&&(p=v);var b=zn(p.messages[0].data);{b[6][0].data=na(n.e.r+1),b[7][0].data=na(n.e.c+1);var w=Ss(b[46][0].data),j=Rr.find(u,l[w].location),N=ll(cl(j.content));{for(var S=0;S<N.length&&N[S].id!=w;++S);if(N[S].id!=w)throw"Bad ColumnRowUIDMapArchive";var P=zn(N[S].messages[0].data);P[1]=[],P[2]=[],P[3]=[];for(var A=0;A<=n.e.c;++A){var O=[];O[1]=O[2]=[{type:0,data:na(A+420690)}],P[1].push({type:2,data:ns(O)}),P[2].push({type:0,data:na(A)}),P[3].push({type:0,data:na(A)})}P[4]=[],P[5]=[],P[6]=[];for(var M=0;M<=n.e.r;++M)O=[],O[1]=O[2]=[{type:0,data:na(M+726270)}],P[4].push({type:2,data:ns(O)}),P[5].push({type:0,data:na(M)}),P[6].push({type:0,data:na(M)});N[S].messages[0].data=ns(P)}j.content=Z0(Q0(N)),j.size=j.content.length,delete b[46];var F=zn(b[4][0].data);{F[7][0].data=na(n.e.r+1);var E=zn(F[1][0].data),T=Ss(E[2][0].data);j=Rr.find(u,l[T].location),N=ll(cl(j.content));{if(N[0].id!=T)throw"Bad HeaderStorageBucket";var I=zn(N[0].messages[0].data);for(M=0;M<s.length;++M){var z=zn(I[2][0].data);z[1][0].data=na(M),z[4][0].data=na(s[M].length),I[2][M]={type:I[2][0].type,data:ns(z)}}N[0].messages[0].data=ns(I)}j.content=Z0(Q0(N)),j.size=j.content.length;var Q=Ss(F[2][0].data);j=Rr.find(u,l[Q].location),N=ll(cl(j.content));{if(N[0].id!=Q)throw"Bad HeaderStorageBucket";for(I=zn(N[0].messages[0].data),A=0;A<=n.e.c;++A)z=zn(I[2][0].data),z[1][0].data=na(A),z[4][0].data=na(n.e.r+1),I[2][A]={type:I[2][0].type,data:ns(z)};N[0].messages[0].data=ns(I)}j.content=Z0(Q0(N)),j.size=j.content.length;var te=Ss(F[4][0].data);(function(){for(var U=Rr.find(u,l[te].location),W=ll(cl(U.content)),B,K=0;K<W.length;++K){var re=W[K];re.id==te&&(B=re)}var fe=zn(B.messages[0].data);{fe[3]=[];var ce=[];o.forEach(function(ee,De){ce[1]=[{type:0,data:na(De)}],ce[2]=[{type:0,data:na(1)}],ce[3]=[{type:2,data:gpe(ee)}],fe[3].push({type:2,data:ns(ce)})})}B.messages[0].data=ns(fe);var he=Q0(W),Oe=Z0(he);U.content=Oe,U.size=U.content.length})();var J=zn(F[3][0].data);{var ie=J[1][0];delete J[2];var X=zn(ie.data);{var Z=Ss(X[2][0].data);(function(){for(var U=Rr.find(u,l[Z].location),W=ll(cl(U.content)),B,K=0;K<W.length;++K){var re=W[K];re.id==Z&&(B=re)}var fe=zn(B.messages[0].data);{delete fe[6],delete J[7];var ce=new Uint8Array(fe[5][0].data);fe[5]=[];for(var he=0,Oe=0;Oe<=n.e.r;++Oe){var ee=zn(ce);he+=Ope(ee,s[Oe],o),ee[1][0].data=na(Oe),fe[5].push({data:ns(ee),type:2})}fe[1]=[{type:0,data:na(n.e.c+1)}],fe[2]=[{type:0,data:na(n.e.r+1)}],fe[3]=[{type:0,data:na(he)}],fe[4]=[{type:0,data:na(n.e.r+1)}]}B.messages[0].data=ns(fe);var De=Q0(W),je=Z0(De);U.content=je,U.size=U.content.length})()}ie.data=ns(X)}F[3][0].data=ns(J)}b[4][0].data=ns(F)}p.messages[0].data=ns(b);var q=Q0(m),C=Z0(q);return h.content=C,h.size=h.content.length,u}function YM(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function B3(e){YM([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function U3(e){YM([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function Ipe(e){return yn.WS.indexOf(e)>-1?"sheet":e==yn.CS?"chart":e==yn.DS?"dialog":e==yn.MS?"macro":e&&e.length?e:"sheet"}function Dpe(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,Ipe(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function Lpe(e,t,r,n,a,s,o,l,c,u,d,h){try{s[n]=um(Mo(e,r,!0),t);var m=hi(e,t),p;switch(l){case"sheet":p=nhe(m,t,a,c,s[n],u,d,h);break;case"chart":if(p=ahe(m,t,a,c,s[n],u,d,h),!p||!p["!drawel"])break;var y=Qp(p["!drawel"].Target,t),v=lx(y),g=Hce(Mo(e,y,!0),um(Mo(e,v,!0),y)),b=Qp(g,y),w=lx(b);p=O0e(Mo(e,b,!0),b,c,um(Mo(e,w,!0),b),u,p);break;case"macro":p=ihe(m,t,a,c,s[n],u,d,h);break;case"dialog":p=she(m,t,a,c,s[n],u,d,h);break;default:throw new Error("Unrecognized sheet type "+l)}o[n]=p;var j=[];s&&s[n]&&Ya(s[n]).forEach(function(N){var S="";if(s[n][N].Type==yn.CMNT){S=Qp(s[n][N].Target,t);var P=uhe(hi(e,S,!0),S,c);if(!P||!P.length)return;g8(p,P,!1)}s[n][N].Type==yn.TCMNT&&(S=Qp(s[n][N].Target,t),j=j.concat(Vce(hi(e,S,!0),c)))}),j&&j.length&&g8(p,j,!0,c.people||[])}catch(N){if(c.WTF)throw N}}function sl(e){return e.charAt(0)=="/"?e.slice(1):e}function Fpe(e,t){if(dp(),t=t||{},B3(t),ul(e,"META-INF/manifest.xml")||ul(e,"objectdata.xml"))return E8(e,t);if(ul(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof DN<"u"){if(e.FileIndex)return DN(e);var r=Rr.utils.cfb_new();return RP(e).forEach(function(z){dn(r,z,Gae(e,z))}),DN(r)}throw new Error("Unsupported NUMBERS file")}if(!ul(e,"[Content_Types].xml"))throw ul(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):ul(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=RP(e),a=Uie(Mo(e,"[Content_Types].xml")),s=!1,o,l;if(a.workbooks.length===0&&(l="xl/workbook.xml",hi(e,l,!0)&&a.workbooks.push(l)),a.workbooks.length===0){if(l="xl/workbook.bin",!hi(e,l,!0))throw new Error("Could not find workbook");a.workbooks.push(l),s=!0}a.workbooks[0].slice(-3)=="bin"&&(s=!0);var c={},u={};if(!t.bookSheets&&!t.bookProps){if(dm=[],a.sst)try{dm=che(hi(e,sl(a.sst)),a.sst,t)}catch(z){if(t.WTF)throw z}t.cellStyles&&a.themes.length&&(c=lhe(Mo(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(u=ohe(hi(e,sl(a.style)),a.style,c,t))}a.links.map(function(z){try{var Q=um(Mo(e,lx(sl(z))),z);return fhe(hi(e,sl(z)),Q,z,t)}catch{}});var d=rhe(hi(e,sl(a.workbooks[0])),a.workbooks[0],t),h={},m="";a.coreprops.length&&(m=hi(e,sl(a.coreprops[0]),!0),m&&(h=R7(m)),a.extprops.length!==0&&(m=hi(e,sl(a.extprops[0]),!0),m&&Gie(m,h,t)));var p={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(m=Mo(e,sl(a.custprops[0]),!0),m&&(p=Xie(m,t)));var y={};if((t.bookSheets||t.bookProps)&&(d.Sheets?o=d.Sheets.map(function(Q){return Q.name}):h.Worksheets&&h.SheetNames.length>0&&(o=h.SheetNames),t.bookProps&&(y.Props=h,y.Custprops=p),t.bookSheets&&typeof o<"u"&&(y.SheetNames=o),t.bookSheets?y.SheetNames:t.bookProps))return y;o={};var v={};t.bookDeps&&a.calcchain&&(v=dhe(hi(e,sl(a.calcchain)),a.calcchain));var g=0,b={},w,j;{var N=d.Sheets;h.Worksheets=N.length,h.SheetNames=[];for(var S=0;S!=N.length;++S)h.SheetNames[S]=N[S].name}var P=s?"bin":"xml",A=a.workbooks[0].lastIndexOf("/"),O=(a.workbooks[0].slice(0,A+1)+"_rels/"+a.workbooks[0].slice(A+1)+".rels").replace(/^\//,"");ul(e,O)||(O="xl/_rels/workbook."+P+".rels");var M=um(Mo(e,O,!0),O.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=hhe(hi(e,sl(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=Kce(hi(e,sl(a.people[0])),t)),M&&(M=Dpe(M,d.Sheets));var F=hi(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(g=0;g!=h.Worksheets;++g){var E="sheet";if(M&&M[g]?(w="xl/"+M[g][1].replace(/[\/]?xl\//,""),ul(e,w)||(w=M[g][1]),ul(e,w)||(w=O.replace(/_rels\/.*$/,"")+M[g][1]),E=M[g][2]):(w="xl/worksheets/sheet"+(g+1-F)+"."+P,w=w.replace(/sheet0\./,"sheet.")),j=w.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(g!=t.sheets)continue e;break;case"string":if(h.SheetNames[g].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var T=!1,I=0;I!=t.sheets.length;++I)typeof t.sheets[I]=="number"&&t.sheets[I]==g&&(T=1),typeof t.sheets[I]=="string"&&t.sheets[I].toLowerCase()==h.SheetNames[g].toLowerCase()&&(T=1);if(!T)continue e}}Lpe(e,w,j,h.SheetNames[g],g,b,o,E,t,d,c,u)}return y={Directory:a,Workbook:d,Props:h,Custprops:p,Deps:v,Sheets:o,SheetNames:h.SheetNames,Strings:dm,Styles:u,Themes:c,SSF:_a(Vr)},t&&t.bookFiles&&(e.files?(y.keys=n,y.files=e.files):(y.keys=[],y.files={},e.FullPaths.forEach(function(z,Q){z=z.replace(/^Root Entry[\/]/,""),y.keys.push(z),y.files[z]=e.FileIndex[Q]}))),t&&t.bookVBA&&(a.vba.length>0?y.vbaraw=hi(e,sl(a.vba[0]),!0):a.defaults&&a.defaults.bin===rue&&(y.vbaraw=hi(e,"xl/vbaProject.bin",!0))),y}function Mpe(e,t){var r=t||{},n="Workbook",a=Rr.find(e,n);try{if(n="/!DataSpaces/Version",a=Rr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(hle(a.content),n="/!DataSpaces/DataSpaceMap",a=Rr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=mle(a.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Rr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=xle(a.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Rr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);vle(a.content)}catch{}if(n="/EncryptionInfo",a=Rr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=yle(a.content);if(n="/EncryptedPackage",a=Rr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],a.content,r.password||"",r);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function Rpe(e,t){return t.bookType=="ods"?XM(e,t):t.bookType=="numbers"?Ppe(e,t):t.bookType=="xlsb"?Bpe(e,t):Upe(e,t)}function Bpe(e,t){lh=1024,e&&!e.SSF&&(e.SSF=_a(Vr)),e&&e.SSF&&(dp(),gy(e.SSF),t.revssf=yy(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,fm?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=jM.indexOf(t.bookType)>-1,a=S3();U3(t=t||{});var s=d3(),o="",l=0;if(t.cellXfs=[],uf(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",dn(s,o,B7(e.Props,t)),a.coreprops.push(o),aa(t.rels,2,o,yn.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,dn(s,o,$7(e.Props)),a.extprops.push(o),aa(t.rels,3,o,yn.EXT_PROPS),e.Custprops!==e.Props&&Ya(e.Custprops||{}).length>0&&(o="docProps/custom.xml",dn(s,o,z7(e.Custprops)),a.custprops.push(o),aa(t.rels,4,o,yn.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var d={"!id":{}},h=e.Sheets[e.SheetNames[l-1]],m=(h||{})["!type"]||"sheet";if(o="xl/worksheets/sheet"+l+"."+r,dn(s,o,mhe(l-1,o,t,e,d)),a.sheets.push(o),aa(t.wbrels,-1,"worksheets/sheet"+l+"."+r,yn.WS[0]),h){var p=h["!comments"],y=!1,v="";p&&p.length>0&&(v="xl/comments"+l+"."+r,dn(s,v,vhe(p,v)),a.comments.push(v),aa(d,-1,"../comments"+l+"."+r,yn.CMNT),y=!0),h["!legacy"]&&y&&dn(s,"xl/drawings/vmlDrawing"+l+".vml",wM(l,h["!comments"])),delete h["!comments"],delete h["!legacy"]}d["!id"].rId1&&dn(s,lx(o),gh(d))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,dn(s,o,ghe(t.Strings,o,t)),a.strs.push(o),aa(t.wbrels,-1,"sharedStrings."+r,yn.SST)),o="xl/workbook."+r,dn(s,o,phe(e,o)),a.workbooks.push(o),aa(t.rels,1,o,yn.WB),o="xl/theme/theme1.xml",dn(s,o,O3(e.Themes,t)),a.themes.push(o),aa(t.wbrels,-1,"theme/theme1.xml",yn.THEME),o="xl/styles."+r,dn(s,o,xhe(e,o,t)),a.styles.push(o),aa(t.wbrels,-1,"styles."+r,yn.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",dn(s,o,e.vbaraw),a.vba.push(o),aa(t.wbrels,-1,"vbaProject.bin",yn.VBA)),o="xl/metadata."+r,dn(s,o,yhe(o)),a.metadata.push(o),aa(t.wbrels,-1,"metadata."+r,yn.XLMETA),dn(s,"[Content_Types].xml",F7(a,t)),dn(s,"_rels/.rels",gh(t.rels)),dn(s,"xl/_rels/workbook."+r+".rels",gh(t.wbrels)),delete t.revssf,delete t.ssf,s}function Upe(e,t){lh=1024,e&&!e.SSF&&(e.SSF=_a(Vr)),e&&e.SSF&&(dp(),gy(e.SSF),t.revssf=yy(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,fm?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=jM.indexOf(t.bookType)>-1,a=S3();U3(t=t||{});var s=d3(),o="",l=0;if(t.cellXfs=[],uf(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",dn(s,o,B7(e.Props,t)),a.coreprops.push(o),aa(t.rels,2,o,yn.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,dn(s,o,$7(e.Props)),a.extprops.push(o),aa(t.rels,3,o,yn.EXT_PROPS),e.Custprops!==e.Props&&Ya(e.Custprops||{}).length>0&&(o="docProps/custom.xml",dn(s,o,z7(e.Custprops)),a.custprops.push(o),aa(t.rels,4,o,yn.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var h={"!id":{}},m=e.Sheets[e.SheetNames[l-1]],p=(m||{})["!type"]||"sheet";if(o="xl/worksheets/sheet"+l+"."+r,dn(s,o,DM(l-1,t,e,h)),a.sheets.push(o),aa(t.wbrels,-1,"worksheets/sheet"+l+"."+r,yn.WS[0]),m){var y=m["!comments"],v=!1,g="";if(y&&y.length>0){var b=!1;y.forEach(function(w){w[1].forEach(function(j){j.T==!0&&(b=!0)})}),b&&(g="xl/threadedComments/threadedComment"+l+"."+r,dn(s,g,Gce(y,d,t)),a.threadedcomments.push(g),aa(h,-1,"../threadedComments/threadedComment"+l+"."+r,yn.TCMNT)),g="xl/comments"+l+"."+r,dn(s,g,NM(y)),a.comments.push(g),aa(h,-1,"../comments"+l+"."+r,yn.CMNT),v=!0}m["!legacy"]&&v&&dn(s,"xl/drawings/vmlDrawing"+l+".vml",wM(l,m["!comments"])),delete m["!comments"],delete m["!legacy"]}h["!id"].rId1&&dn(s,lx(o),gh(h))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,dn(s,o,cM(t.Strings,t)),a.strs.push(o),aa(t.wbrels,-1,"sharedStrings."+r,yn.SST)),o="xl/workbook."+r,dn(s,o,BM(e)),a.workbooks.push(o),aa(t.rels,1,o,yn.WB),o="xl/theme/theme1.xml",dn(s,o,O3(e.Themes,t)),a.themes.push(o),aa(t.wbrels,-1,"theme/theme1.xml",yn.THEME),o="xl/styles."+r,dn(s,o,gM(e,t)),a.styles.push(o),aa(t.wbrels,-1,"styles."+r,yn.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",dn(s,o,e.vbaraw),a.vba.push(o),aa(t.wbrels,-1,"vbaProject.bin",yn.VBA)),o="xl/metadata."+r,dn(s,o,bM()),a.metadata.push(o),aa(t.wbrels,-1,"metadata."+r,yn.XLMETA),d.length>1&&(o="xl/persons/person.xml",dn(s,o,Xce(d)),a.people.push(o),aa(t.wbrels,-1,"persons/person.xml",yn.PEOPLE)),dn(s,"[Content_Types].xml",F7(a,t)),dn(s,"_rels/.rels",gh(t.rels)),dn(s,"xl/_rels/workbook."+r+".rels",gh(t.wbrels)),delete t.revssf,delete t.ssf,s}function q3(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Uo(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function qpe(e,t){return Rr.find(e,"EncryptedPackage")?Mpe(e,t):zM(e,t)}function $pe(e,t){var r,n=e,a=t||{};return a.type||(a.type=xn&&Buffer.isBuffer(e)?"buffer":"base64"),r=d7(n,a),Fpe(r,a)}function JM(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return Tj(e.slice(r),t);default:break e}return Jh.to_workbook(e,t)}function zpe(e,t){var r="",n=q3(e,t);switch(t.type){case"base64":r=Uo(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=u0(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=ca(r)),t.type="binary",JM(r,t)}function Hpe(e,t){var r=e;return t.type=="base64"&&(r=Uo(r)),r=rx.utils.decode(1200,r.slice(2),"str"),t.type="binary",JM(r,t)}function Wpe(e){return e.match(/[^\x00-\x7F]/)?Uc(e):e}function LN(e,t,r,n){return n?(r.type="string",Jh.to_workbook(e,r)):Jh.to_workbook(t,r)}function C1(e,t){s3();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return C1(new Uint8Array(e),(r=_a(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],s=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),yh={},r.dateNF&&(yh.dateNF=r.dateNF),r.type||(r.type=xn&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=xn?"buffer":"binary",n=Bae(e),typeof Uint8Array<"u"&&!xn&&(r.type="array")),r.type=="string"&&(s=!0,r.type="binary",r.codepage=65001,n=Wpe(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),l=new Uint8Array(o);if(l.foo="bar",!l.foo)return r=_a(r),r.type="array",C1(o3(n),r)}switch((a=q3(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return qpe(Rr.read(n,r),r);break;case 9:if(a[1]<=8)return zM(n,r);break;case 60:return Tj(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return Yoe(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return oM.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?$pe(n,r):LN(e,n,r,s);case 239:return a[3]===60?Tj(n,r):LN(e,n,r,s);case 255:if(a[1]===254)return Hpe(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return e0.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return e0.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return Cj.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return pM.to_workbook(n,r);break;case 10:case 13:case 32:return zpe(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return Xoe.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?Cj.to_workbook(n,r):LN(e,n,r,s)}function QM(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Ex(t.file,Rr.write(e,{type:xn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Rr.write(e,t)}function Vpe(e,t){var r=_a(t||{}),n=Rpe(e,r);return Gpe(n,r)}function Gpe(e,t){var r={},n=xn?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?Rr.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(xy(a))}return t.password&&typeof encrypt_agile<"u"?QM(encrypt_agile(a,t.password),t):t.type==="file"?Ex(t.file,a):t.type=="string"?ca(a):a}function Kpe(e,t){var r=t||{},n=Whe(e,r);return QM(n,r)}function Dc(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return nx(Uc(n));case"binary":return Uc(n);case"string":return e;case"file":return Ex(t.file,n,"utf8");case"buffer":return xn?Ku(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Dc(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Xpe(e,t){switch(t.type){case"base64":return nx(e);case"binary":return e;case"string":return e;case"file":return Ex(t.file,e,"binary");case"buffer":return xn?Ku(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Xg(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?nx(r):t.type=="string"?ca(r):r;case"file":return Ex(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function ZM(e,t){s3(),q0e(e);var r=_a(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=ZM(e,r);return r.type="array",xy(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Dc(Rhe(e,r),r);case"slk":case"sylk":return Dc(sM.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return Dc(WM(e.Sheets[e.SheetNames[a]],r),r);case"txt":return Xpe(e9(e.Sheets[e.SheetNames[a]],r),r);case"csv":return Dc($3(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return Dc(oM.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return Xg(Cj.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return Dc(Jh.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return Dc(pM.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return Dc(lM.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return Dc(XM(e,r),r);case"wk1":return Xg(e0.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return Xg(e0.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Xg(HM(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),Kpe(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Vpe(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function Ype(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function Jpe(e,t,r){var n={};return n.type="file",n.file=t,Ype(n),ZM(e,n)}function Qpe(e,t,r,n,a,s,o,l){var c=si(r),u=l.defval,d=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),h=!0,m=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(m,"__rowNum__",{value:r,enumerable:!1})}catch{m.__rowNum__=r}else m.__rowNum__=r;if(!o||e[r])for(var p=t.s.c;p<=t.e.c;++p){var y=o?e[r][p]:e[n[p]+c];if(y===void 0||y.t===void 0){if(u===void 0)continue;s[p]!=null&&(m[s[p]]=u);continue}var v=y.v;switch(y.t){case"z":if(v==null)break;continue;case"e":v=v==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+y.t)}if(s[p]!=null){if(v==null)if(y.t=="e"&&v===null)m[s[p]]=null;else if(u!==void 0)m[s[p]]=u;else if(d&&v===null)m[s[p]]=null;else continue;else m[s[p]]=d&&(y.t!=="n"||y.t==="n"&&l.rawNumbers!==!1)?v:$u(y,v,l);v!=null&&(h=!1)}}return{row:m,isempty:h}}function T1(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,s=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=Rn(d);break;case"number":c=Rn(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(a=0);var h=si(c.s.r),m=[],p=[],y=0,v=0,g=Array.isArray(e),b=c.s.r,w=0,j={};g&&!e[b]&&(e[b]=[]);var N=u.skipHidden&&e["!cols"]||[],S=u.skipHidden&&e["!rows"]||[];for(w=c.s.c;w<=c.e.c;++w)if(!(N[w]||{}).hidden)switch(m[w]=Ma(w),r=g?e[b][w]:e[m[w]+h],n){case 1:s[w]=w-c.s.c;break;case 2:s[w]=m[w];break;case 3:s[w]=u.header[w-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=$u(r,null,u),v=j[o]||0,!v)j[o]=1;else{do l=o+"_"+v++;while(j[l]);j[o]=v,j[l]=1}s[w]=l}for(b=c.s.r+a;b<=c.e.r;++b)if(!(S[b]||{}).hidden){var P=Qpe(e,c,b,m,n,s,g,u);(P.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(p[y++]=P.row)}return p.length=y,p}var I8=/"/g;function Zpe(e,t,r,n,a,s,o,l){for(var c=!0,u=[],d="",h=si(r),m=t.s.c;m<=t.e.c;++m)if(n[m]){var p=l.dense?(e[r]||[])[m]:e[n[m]+h];if(p==null)d="";else if(p.v!=null){c=!1,d=""+(l.rawNumbers&&p.t=="n"?p.v:$u(p,null,l));for(var y=0,v=0;y!==d.length;++y)if((v=d.charCodeAt(y))===a||v===s||v===34||l.forceQuotes){d='"'+d.replace(I8,'""')+'"';break}d=="ID"&&(d='"ID"')}else p.f!=null&&!p.F?(c=!1,d="="+p.f,d.indexOf(",")>=0&&(d='"'+d.replace(I8,'""')+'"')):d="";u.push(d)}return l.blankrows===!1&&c?null:u.join(o)}function $3(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=Rn(e["!ref"]),s=n.FS!==void 0?n.FS:",",o=s.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((s=="|"?"\\|":s)+"+$"),d="",h=[];n.dense=Array.isArray(e);for(var m=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],y=a.s.c;y<=a.e.c;++y)(m[y]||{}).hidden||(h[y]=Ma(y));for(var v=0,g=a.s.r;g<=a.e.r;++g)(p[g]||{}).hidden||(d=Zpe(e,a,g,h,o,c,s,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((v++?l:"")+d)));return delete n.dense,r.join("")}function e9(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=$3(e,t);return r}function eme(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=Rn(e["!ref"]),s="",o=[],l,c=[],u=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)o[l]=Ma(l);for(var d=a.s.r;d<=a.e.r;++d)for(s=si(d),l=a.s.c;l<=a.e.c;++l)if(t=o[l]+s,r=u?(e[d]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function t9(e,t,r){var n=r||{},a=+!n.skipHeader,s=e||{},o=0,l=0;if(s&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?Ra(n.origin):n.origin;o=c.r,l=c.c}var u,d={s:{c:0,r:0},e:{c:l,r:o+t.length-1+a}};if(s["!ref"]){var h=Rn(s["!ref"]);d.e.c=Math.max(d.e.c,h.e.c),d.e.r=Math.max(d.e.r,h.e.r),o==-1&&(o=h.e.r+1,d.e.r=o+t.length-1+a)}else o==-1&&(o=0,d.e.r=t.length-1+a);var m=n.header||[],p=0;t.forEach(function(v,g){Ya(v).forEach(function(b){(p=m.indexOf(b))==-1&&(m[p=m.length]=b);var w=v[b],j="z",N="",S=Yr({c:l+p,r:o+g+a});u=mx(s,S),w&&typeof w=="object"&&!(w instanceof Date)?s[S]=w:(typeof w=="number"?j="n":typeof w=="boolean"?j="b":typeof w=="string"?j="s":w instanceof Date?(j="d",n.cellDates||(j="n",w=Ai(w)),N=n.dateNF||Vr[14]):w===null&&n.nullError&&(j="e",w=0),u?(u.t=j,u.v=w,delete u.w,delete u.R,N&&(u.z=N)):s[S]=u={t:j,v:w},N&&(u.z=N))})}),d.e.c=Math.max(d.e.c,l+m.length-1);var y=si(o);if(a)for(p=0;p<m.length;++p)s[Ma(p+l)+y]={t:"s",v:m[p]};return s["!ref"]=un(d),s}function tme(e,t){return t9(null,e,t)}function mx(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=Ra(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?mx(e,Yr(t)):mx(e,Yr({r:t,c:r||0}))}function rme(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function z3(){return{SheetNames:[],Sheets:{}}}function H3(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);a=s&&+s[2]||0;var o=s&&s[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=o+a)!=-1;++a);}if(RM(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function nme(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=rme(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function ame(e,t){return e.z=t,e}function r9(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function ime(e,t,r){return r9(e,"#"+t,r)}function sme(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function ome(e,t,r,n){for(var a=typeof t!="string"?t:Rn(t),s=typeof t=="string"?t:un(t),o=a.s.r;o<=a.e.r;++o)for(var l=a.s.c;l<=a.e.c;++l){var c=mx(e,o,l);c.t="n",c.F=s,delete c.v,o==a.s.r&&l==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var Df={encode_col:Ma,encode_row:si,encode_cell:Yr,encode_range:un,decode_col:y3,decode_row:v3,split_cell:gie,decode_cell:Ra,decode_range:wo,format_cell:$u,sheet_add_aoa:C7,sheet_add_json:t9,sheet_add_dom:VM,aoa_to_sheet:fp,json_to_sheet:tme,table_to_sheet:GM,table_to_book:hpe,sheet_to_csv:$3,sheet_to_txt:e9,sheet_to_json:T1,sheet_to_html:WM,sheet_to_formulae:eme,sheet_to_row_object_array:T1,sheet_get_cell:mx,book_new:z3,book_append_sheet:H3,book_set_sheet_visibility:nme,cell_set_number_format:ame,cell_set_hyperlink:r9,cell_set_internal_link:ime,cell_add_comment:sme,sheet_set_array_formula:ome,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const lme=({onCreateTask:e,currentUser:t})=>{const{showSuccess:r,showError:n,showInfo:a}=oi(),[s,o]=V.useState([]),[l,c]=V.useState([]),[u,d]=V.useState([]),[h,m]=V.useState(!0),[p,y]=V.useState(""),[v,g]=V.useState("active"),[b,w]=V.useState("list"),[j,N]=V.useState("none"),[S,P]=V.useState(!1),[A,O]=V.useState("upload"),[M,F]=V.useState([]),[E,T]=V.useState([]),[I,z]=V.useState({title:"",category:"",dueDate:"",description:"",priority:"",owner:""}),[Q,te]=V.useState(!1),[J,ie]=V.useState(null),[X,Z]=V.useState(null),[q,C]=V.useState(null),[U,W]=V.useState(null),[B,K]=V.useState(null),[re,fe]=V.useState(null),[ce,he]=V.useState(!1),[Oe,ee]=V.useState(!1),[De,je]=V.useState({title:"",category:"",description:"",dueDate:"",priority:"Medium",status:"Todo",assigneeId:"",projectId:""}),[oe,ue]=V.useState([]),[_e,Se]=V.useState(!1),[Pe,pe]=V.useState(!1),[ae,ye]=V.useState(!1),[Be,$e]=V.useState(!1),[rt,ft]=V.useState(""),[Nt,Ue]=V.useState(""),[dt,st]=V.useState(""),[it,Re]=V.useState(null),[vt,nt]=V.useState(!1),[Rt,er]=V.useState(null),[ar,$t]=V.useState(null),[Pr,Kt]=V.useState(!1),[Er,nn]=V.useState(""),[fr,or]=V.useState(0),[Tr,fn]=V.useState([]),[sn,We]=V.useState(!1),[Ct,At]=V.useState([]),[ir,vr]=V.useState(!1),Wr=V.useRef(null),Br=V.useRef(null),Hr=V.useRef(null),ne=Le=>{const ht=Le.getFullYear(),ct=Le.getMonth(),zt=Le.getDate();return`${ht}-${String(ct+1).padStart(2,"0")}-${String(zt).padStart(2,"0")}`},ge=Le=>{if(!Le||!/^\d{4}-\d{2}-\d{2}$/.test(Le))return Le;const[ht,ct,zt]=Le.split("-").map(Number);return new Date(ht,ct-1,zt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},ve=Le=>{const ht=new Date(Le),ct=ht.getDay(),zt=ht.getDate()-ct+(ct===0?-6:1);return new Date(ht.setDate(zt))},ke=Le=>{const ht=new Date(Le);ht.setHours(0,0,0,0);const ct=new Date(ht);return ct.setDate(ht.getDate()+6),ct.setHours(23,59,59,999),{start:ht,end:ct}},Ie=Le=>{if(!Le||!/^\d{4}-\d{2}-\d{2}$/.test(Le))return null;const[ht,ct,zt]=Le.split("-").map(Number),Zt=new Date(ht,ct-1,zt),Gt=ve(Zt);return`${Gt.getFullYear()}-${String(Gt.getMonth()+1).padStart(2,"0")}-${String(Gt.getDate()).padStart(2,"0")}`},Te=async()=>{m(!0);try{const Le=t?.id||JSON.parse(localStorage.getItem("user_data")||"{}").id;console.log("[TASKS] Fetching data (all tasks). Current userId:",Le);const[ht,ct,zt]=await Promise.all([Gh(),Ax(),Kc()]);console.log("[TASKS] API Responses:",{tasks:ht,tasksData:ht?.data,tasksCount:Array.isArray(ht?.data)?ht.data.length:Array.isArray(ht)?ht.length:"not array",projects:ct?.data?.length??(Array.isArray(ct)?ct.length:"unknown"),users:zt?.data?.length??(Array.isArray(zt)?zt.length:"unknown")});let Zt=[];Array.isArray(ht)?Zt=ht:(ht?.data&&Array.isArray(ht.data)||ht?.success&&ht?.data&&Array.isArray(ht.data))&&(Zt=ht.data);let Gt=[];Array.isArray(ct)?Gt=ct:(ct?.data&&Array.isArray(ct.data)||ct?.success&&ct?.data&&Array.isArray(ct.data))&&(Gt=ct.data);let dr=[];Array.isArray(zt)?dr=zt:(zt?.data&&Array.isArray(zt.data)||zt?.success&&zt?.data&&Array.isArray(zt.data))&&(dr=zt.data),o(Zt),c(Gt),d(dr),console.log("[TASKS] State updated:",{tasksCount:Array.isArray(Zt)?Zt.length:0,projectsCount:Array.isArray(Gt)?Gt.length:0,usersCount:Array.isArray(dr)?dr.length:0})}catch(Le){console.error("[TASKS] Fetch error:",Le),n(Le.message||"Failed to load tasks")}finally{m(!1)}};V.useEffect(()=>{Te()},[t]),V.useEffect(()=>{const Le=()=>Te();return window.addEventListener("refresh-tasks",Le),()=>window.removeEventListener("refresh-tasks",Le)},[]),V.useEffect(()=>{re&&!ce&&je({title:re.title,category:re.category||"",description:re.description||"",dueDate:re.dueDate||"",priority:re.priority||"Medium",status:re.status||"Todo",assigneeId:re.assigneeId,projectId:re.projectId||""})},[re,ce]),V.useEffect(()=>{if(!re)return;let Le=!1;return(async()=>{try{const ht=await p1(),ct=Array.isArray(ht?.data)?ht.data:[];Le||At(ct)}catch{Le||At([])}})(),()=>{Le=!0}},[re?.id]),V.useEffect(()=>{if(!ce){vr(!1);return}De.category&&Ct.includes(De.category)?vr(!1):De.category&&!Ct.includes(De.category)&&vr(!0)},[ce,De.category,Ct]);const ze=async Le=>{if(s.find(ct=>ct.id===Le)){Z(Le);try{await Nu(Le,{archived:v==="active"}),o(ct=>ct.map(zt=>zt.id===Le?{...zt,archived:v==="active"}:zt)),W(null),r(v==="active"?"Task archived":"Task restored")}catch{n("Update failed")}finally{Z(null)}}},et=async Le=>{ie(Le);try{await pj(Le),o(ht=>ht.filter(ct=>ct.id!==Le)),K(null),r("Task deleted successfully"),Te()}catch{n("Failed to delete task")}finally{ie(null)}},Ge=()=>{oe.length===en.length?ue([]):ue(en.map(Le=>Le.id))},Je=async()=>{Se(!0);try{const Le=[...oe];await Promise.all(Le.map(ht=>pj(ht))),o(ht=>ht.filter(ct=>!Le.includes(ct.id))),ue([]),pe(!1),r(`Successfully deleted ${Le.length} task${Le.length>1?"s":""}`),Te()}catch(Le){n(Le.message||"Failed to delete tasks")}finally{Se(!1)}},at=async()=>{if(!rt){n("Please select a project");return}$e(!0);try{const Le=[...oe];await Promise.all(Le.map(ht=>Nu(ht,{projectId:rt==="__none__"?null:rt}))),o(ht=>ht.map(ct=>Le.includes(ct.id)?{...ct,projectId:rt==="__none__"?null:rt}:ct)),ue([]),ye(!1),ft(""),r(`Assigned ${Le.length} task${Le.length>1?"s":""} to ${rt==="__none__"?"No project":l.find(ht=>ht.id===rt)?.title||"project"}`),Te()}catch(Le){n(Le.message||"Failed to assign project")}finally{$e(!1)}},wt=()=>{const Le=new Date;Le.setDate(Le.getDate()+30);const ht=Le.getDate(),ct=Le.getMonth()+1,zt=Le.getFullYear(),Zt=`${ht}-${ct}-${zt}`,Gt=Df.aoa_to_sheet([["Title","Task Category","Due Date","Priority (Low/Medium/High)","Description","Owner (Name or Email)"],["Update Logistics Map","Operations",Zt,"High","Audit the EMEA transit routes","rpk@wx.agency"]]),dr=Df.book_new();Df.book_append_sheet(dr,Gt,"Tasks"),Jpe(dr,"ImpactFlow_Task_Import_Template.xlsx"),a("Registry template downloaded")},Pt=async()=>{if(!I.title){n("Please map the required field: Title");return}if(E.length===0){n("No data to import");return}te(!0);try{console.log("[IMPORT] ===== STARTING IMPORT PROCESS ====="),console.log("[IMPORT] Column mapping:",I),console.log("[IMPORT] Parsed data rows:",E.length),console.log("[IMPORT] Sample parsed row:",E[0]);const Le=t?.id||JSON.parse(localStorage.getItem("user_data")||"{}").id;if(!Le){n("Please log in to import tasks"),te(!1);return}console.log("[IMPORT] Starting import with:",{parsedDataRows:E.length,columnMapping:I,usersCount:u.length,currentUserId:Le});const ht=E.map((Wt,Xt)=>{console.log(`[IMPORT] Processing row ${Xt}:`,Wt),console.log("[IMPORT] Column mapping:",I);const yt=String(Wt[I.title]||"").trim(),Ur=I.category?String(Wt[I.category]||"").trim():"",xt=String(Wt[I.dueDate]||"").trim(),yr=I.description?String(Wt[I.description]||"").trim():"",An=I.priority?String(Wt[I.priority]||"").trim():"Medium",On=I.owner?String(Wt[I.owner]||"").trim():"";console.log(`[IMPORT] Extracted values for row ${Xt}:`,{title:yt,category:Ur,dueDateRaw:xt,description:yr,priorityRaw:An,ownerRaw:On,rowKeys:Object.keys(Wt),mappedTitleKey:I.title,mappedDueDateKey:I.dueDate});let Jt="";if(xt&&xt.toLowerCase().trim()==="ongoing")Jt="";else if(xt)if(/^\d+$/.test(xt)&&parseFloat(xt)>25569){const Sr=new Date(1900,0,1),jr=parseFloat(xt)-2,Gr=new Date(Sr.getTime()+jr*24*60*60*1e3);isNaN(Gr.getTime())||(Jt=ne(Gr))}else{let Sr=null;if(/^\d{4}-\d{2}-\d{2}$/.test(xt))Jt=xt,Sr=new Date(0);else if(xt.includes("-")&&/^\d{1,2}-\d{1,2}-\d{4}$/.test(xt)){const jr=xt.split("-").map(Gr=>Gr.trim());if(jr.length===3){const Gr=parseInt(jr[0],10),pn=parseInt(jr[1],10)-1,Ee=parseInt(jr[2],10);!isNaN(Gr)&&!isNaN(pn)&&!isNaN(Ee)&&Gr>=1&&Gr<=31&&pn>=0&&pn<=11&&(Sr=new Date(Ee,pn,Gr),console.log(`[IMPORT] Parsed hyphen-separated date "${xt}" as day-month-year -> ${ne(Sr)}`))}}else if(xt.includes("/")){const jr=xt.split("/").map(Gr=>Gr.trim());if(jr.length===3){const Gr=parseInt(jr[0],10),pn=parseInt(jr[1],10)-1;let Ee=parseInt(jr[2],10);Ee<100&&(Ee+=2e3),!isNaN(Gr)&&!isNaN(pn)&&!isNaN(Ee)&&(Sr=new Date(Ee,pn,Gr))}}else if(xt.match(/^\d{1,2}\/\d{1,2}\/\d{4}$/)){const jr=xt.split("/"),Gr=parseInt(jr[0],10)-1,pn=parseInt(jr[1],10),Ee=parseInt(jr[2],10);!isNaN(pn)&&!isNaN(Gr)&&!isNaN(Ee)&&(Sr=new Date(Ee,Gr,pn))}else if(!Sr||isNaN(Sr.getTime())){const jr=xt.match(/^([A-Za-z]+)\s+(\d{1,2}),?\s*(\d{4})$/);if(jr){const[,Gr,pn,Ee]=jr,lr=["january","february","march","april","may","june","july","august","september","october","november","december"],cr=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],gr=Gr.toLowerCase().trim();let Fr=-1;for(let qr=0;qr<lr.length;qr++)if(gr.startsWith(lr[qr])||gr.startsWith(cr[qr])){Fr=qr;break}if(Fr>=0){const qr=parseInt(pn,10),In=parseInt(Ee,10);Sr=new Date(In,Fr,qr),Sr.getFullYear()!==In||Sr.getMonth()!==Fr||Sr.getDate()!==qr?(console.warn(`[IMPORT] Invalid date parsed from "${xt}": year=${In}, month=${Fr}, day=${qr}`),Sr=null):console.log(`[IMPORT] Successfully parsed date "${xt}" -> ${ne(Sr)}`)}else console.warn(`[IMPORT] Could not match month name in "${xt}"`)}}if(!Sr||isNaN(Sr.getTime())){const jr=new Date(xt);if(!isNaN(jr.getTime())){const Gr=jr.getFullYear(),pn=jr.getMonth(),Ee=jr.getDate();Sr=new Date(Gr,pn,Ee),console.log(`[IMPORT] Used fallback date parsing for "${xt}" -> ${ne(Sr)}`)}}Sr&&!isNaN(Sr.getTime())&&!Jt?(Jt=ne(Sr),console.log(`[IMPORT] Final dueDate for row ${Xt}: "${xt}" -> "${Jt}"`)):xt&&!Jt&&console.error(`[IMPORT] Failed to parse date "${xt}" for row ${Xt}`)}const En={low:"Low",medium:"Medium",high:"High",l:"Low",m:"Medium",h:"High"}[An.toLowerCase()]||"Medium";let Pn=Le;if(On&&u.length>0){const Sr=On.toLowerCase().trim(),jr=u.find(Gr=>Gr.name.toLowerCase().trim()===Sr||Gr.email.toLowerCase().trim()===Sr||Gr.name.toLowerCase().trim().includes(Sr)||Gr.email.toLowerCase().trim().includes(Sr));jr?(Pn=jr.id,console.log(`[IMPORT] Matched owner "${On}" to user:`,jr.name,jr.id)):console.warn(`[IMPORT] Could not match owner "${On}", using current user`)}Pn||(console.error("[IMPORT] No assigneeId available, using current user as fallback"),Pn=Le);const ua={title:yt.trim(),category:Ur||void 0,dueDate:Jt||null,description:yr.trim()||"",priority:En,status:"Todo",assigneeId:Pn,_rowIndex:Xt,_rawDate:xt};return(!ua.title||!ua.assigneeId)&&console.error(`[IMPORT] Row ${Xt} missing required fields:`,{hasTitle:!!ua.title,hasAssigneeId:!!ua.assigneeId,taskData:ua}),Pn||console.warn(`[IMPORT] Row ${Xt}: No assigneeId found, using current user:`,{title:yt,ownerRaw:On,userId:Le}),console.log(`[IMPORT] Task data for row ${Xt}:`,ua),ua}).filter(Wt=>{const Xt=Wt.title&&Wt.assigneeId;return Xt?console.log("[IMPORT] Valid task:",{title:Wt.title,dueDate:Wt.dueDate||"Not set",assigneeId:Wt.assigneeId,priority:Wt.priority,status:Wt.status}):console.error("[IMPORT] Filtered out invalid task:",{title:Wt.title,dueDate:Wt.dueDate,assigneeId:Wt.assigneeId,rawDate:Wt._rawDate,rowIndex:Wt._rowIndex,fullTask:Wt,missingFields:{title:!Wt.title,assigneeId:!Wt.assigneeId}}),Xt}).map(({_rowIndex:Wt,_rawDate:Xt,...yt})=>(yt.assigneeId||(console.warn("[IMPORT] Task missing assigneeId, using current user:",yt),yt.assigneeId=Le),yt));if(console.log("[IMPORT] Final tasks to import:",ht),console.log("[IMPORT] Tasks count:",ht.length),ht.length===0){const Wt=E[0],Xt=Wt?String(Wt[I.title]||"").trim():"N/A",yt=Wt?String(Wt[I.dueDate]||"").trim():"N/A";console.error("[IMPORT] Validation failed - no valid tasks:",{totalRows:E.length,columnMapping:I,mappedTitle:I.title,mappedDueDate:I.dueDate,sampleRow:Wt,sampleTitle:Xt,sampleDate:yt,sampleRowKeys:Wt?Object.keys(Wt):[],parsedData:E.slice(0,3)}),n(`No valid tasks found to import. Please check that:
1. Title column is mapped correctly (current: "${I.title}")
2. Due Date column is mapped correctly (current: "${I.dueDate}")
3. Date format is valid (15-2-2026, DD-MM-YYYY, YYYY-MM-DD, February 15 2026, or "Ongoing" for no date)

Sample data - Title: "${Xt}", Date: "${yt}"

Available columns: ${M.join(", ")}`),te(!1);return}console.log("[IMPORT] ===== STARTING API CALL =====");const ct=ht.map(({_rowIndex:Wt,_rawDate:Xt,...yt})=>yt);console.log("[IMPORT] Tasks to import count:",ct.length),console.log("[IMPORT] Tasks for API (cleaned):",JSON.stringify(ct,null,2)),console.log("[IMPORT] Sample task structure:",{title:ct[0]?.title,dueDate:ct[0]?.dueDate,assigneeId:ct[0]?.assigneeId,priority:ct[0]?.priority,status:ct[0]?.status,description:ct[0]?.description,hasProjectId:!!ct[0]?.projectId});const zt=ct.filter(Wt=>!Wt.title||!Wt.assigneeId);if(zt.length>0){console.error("[IMPORT] Invalid tasks found:",zt),n(`Cannot import: ${zt.length} task(s) missing required fields (title or assigneeId)`),te(!1);return}let Zt;try{Zt=await Qte(ct),console.log("[IMPORT] API call successful")}catch(Wt){console.error("[IMPORT] API call failed:",Wt),console.error("[IMPORT] Error details:",{message:Wt.message,status:Wt.status,code:Wt.code,stack:Wt.stack}),n(`Failed to import tasks: ${Wt.message||"Unknown error"}`),te(!1);return}console.log("[IMPORT] Raw API Response:",JSON.stringify(Zt,null,2)),console.log("[IMPORT] Response type:",typeof Zt),console.log("[IMPORT] Response keys:",Zt?Object.keys(Zt):"null");let Gt={},dr=[];if(Zt)Zt.success&&Zt.data?(Gt=Zt.data,dr=Gt.created||[]):Zt.data&&Array.isArray(Zt.data.created)?(Gt=Zt.data,dr=Gt.created||[]):Zt.created&&Array.isArray(Zt.created)?(Gt=Zt,dr=Gt.created||[]):(console.warn("[IMPORT] Unexpected response structure, searching for created tasks..."),Gt=Zt.data||Zt,dr=Gt.created||Gt.data?.created||[]),console.log("[IMPORT] Extracted importData:",Gt),console.log("[IMPORT] Created tasks:",dr),console.log("[IMPORT] Created tasks count:",dr.length),console.log("[IMPORT] Created task IDs:",dr.map(Wt=>Wt?.id)),console.log("[IMPORT] Created task details:",dr.map(Wt=>({id:Wt.id,title:Wt.title,assigneeId:Wt.assigneeId})));else{console.error("[IMPORT] No response received from API"),n("No response received from server. Please check your connection."),te(!1);return}const tn=Gt.successful??dr.length??0,hn=Gt.failed??0;if(console.log("[IMPORT] Import results:",{successCount:tn,failedCount:hn,total:ht.length,createdTasks:dr.length,createdTaskIds:dr.map(Wt=>Wt.id),errors:Gt.errors}),dr&&dr.length>0?(console.log("[IMPORT] ===== ADDING TASKS TO STATE ====="),console.log("[IMPORT] Adding imported tasks directly to state:",dr),console.log("[IMPORT] First created task:",dr[0]),o(Wt=>{const Xt=new Set(Wt.map(xt=>xt.id)),yt=dr.filter(xt=>{const yr=xt&&xt.id,An=!Xt.has(xt.id);return yr?An?!0:(console.warn("[IMPORT] Task already exists, skipping:",xt.id),!1):(console.error("[IMPORT] Task missing ID:",xt),!1)}).map(xt=>{const yr={id:xt.id,title:xt.title||"",category:xt.category||void 0,description:xt.description||"",dueDate:xt.dueDate||"",priority:xt.priority||"Medium",status:xt.status||"Todo",assigneeId:xt.assigneeId||Le,projectId:xt.projectId||void 0,archived:xt.archived||!1,createdAt:xt.createdAt,updatedAt:xt.updatedAt};return console.log("[IMPORT] Mapped task:",yr),yr}),Ur=[...yt,...Wt];return console.log("[IMPORT] ===== STATE UPDATE COMPLETE ====="),console.log("[IMPORT] Merged tasks:",{previousCount:Wt.length,newCount:yt.length,totalCount:Ur.length,newTaskIds:yt.map(xt=>xt.id),newTaskTitles:yt.map(xt=>xt.title)}),Ur})):(console.error("[IMPORT] ===== NO TASKS TO ADD ====="),console.error("[IMPORT] No created tasks to add to state. createdTasks:",dr),console.error("[IMPORT] Response structure:",Zt),console.error("[IMPORT] Import data:",Gt)),hn>0){const Wt=Gt.errors?.map(Xt=>`Row ${Xt.index+1}: ${Xt.error}`).join(`
`)||"";n(`Imported ${tn} task(s), but ${hn} failed.
${Wt}`)}else r(`Successfully imported ${tn} task(s)`);T([]),F([]),z({title:"",category:"",dueDate:"",description:"",priority:"",owner:""}),Wr.current&&(Wr.current.value=""),P(!1),setTimeout(async()=>{console.log("[IMPORT] Refreshing tasks list from server...");try{await Te(),console.log("[IMPORT] Tasks list refreshed from server");const Wt=s.length;if(console.log("[IMPORT] Current tasks count after refresh:",Wt),Wt===0&&dr.length>0){console.warn("[IMPORT] Tasks not showing after refresh, fetching all tasks...");const Xt=await Gh();console.log("[IMPORT] All tasks response:",Xt)}}catch(Wt){console.error("[IMPORT] Error refreshing tasks:",Wt)}},1500),window.dispatchEvent(new Event("refresh-tasks"))}catch(Le){console.error("Import error:",Le),n(Le.message||"Failed to import tasks. Please check your data format.")}finally{te(!1)}},It=Le=>{if(!Le||Le.length===0)return console.log("[IMPORT] Header detection: empty or null firstRow"),!1;console.log("[IMPORT] Header detection - firstRow:",Le),console.log("[IMPORT] Header detection - firstRow length:",Le.length),console.log("[IMPORT] Header detection - firstRow values:",Le.map((Gt,dr)=>`[${dr}]: "${Gt}"`));const ht=["task","title","name","category","due","date","priority","description","owner","assignee","status","project","desc"];let ct=0;const zt=Le.filter(Gt=>Gt&&String(Gt).trim()!=="");console.log("[IMPORT] Header detection - non-empty cells:",zt);for(const Gt of zt){const dr=String(Gt).toLowerCase().trim();ht.some(tn=>dr.includes(tn))&&(ct++,console.log(`[IMPORT] Header detection - matched keyword in: "${Gt}"`)),dr.match(/^(task|due|owner|assignee|priority|description|category|status)/)&&(ct++,console.log(`[IMPORT] Header detection - matched pattern in: "${Gt}"`))}const Zt=zt.length>0?ct/zt.length:0;return console.log("[IMPORT] Header detection result:",{firstRow:Le,totalCells:Le.length,cellsToCheck:zt.length,matchCount:ct,matchRatio:Zt,isHeader:Zt>=.4}),Zt>=.4},Lt=async Le=>{const ht=Le.target.files?.[0];if(ht)try{const ct=ht.name.split(".").pop()?.toLowerCase();if(ct==="csv"){const zt=new FileReader;zt.onload=Zt=>{try{const Gt=new Uint8Array(Zt.target?.result),dr=C1(Gt,{type:"array",sheetStubs:!0}),tn=dr.SheetNames[0],hn=dr.Sheets[tn],Wt=Df.decode_range(hn["!ref"]||"A1"),Xt=Wt.e.c-Wt.s.c+1;console.log("[IMPORT] CSV worksheet range:",hn["!ref"]),console.log("[IMPORT] CSV number of columns from range:",Xt);const yt=Df.sheet_to_json(hn,{header:1,defval:"",raw:!1,dateNF:"yyyy-mm-dd",blankrows:!0});if(console.log("[IMPORT] CSV raw data length:",yt.length),console.log("[IMPORT] CSV first row length:",yt[0]?.length),console.log("[IMPORT] CSV first row:",yt[0]),yt.length===0){n("File is empty");return}if(yt[0]&&yt[0].length<Xt)for(console.log(`[IMPORT] CSV: Padding first row from ${yt[0].length} to ${Xt} columns`);yt[0].length<Xt;)yt[0].push("");const Ur=It(yt[0]);console.log("[IMPORT] CSV Header detection result:",Ur);let xt,yr;if(Ur?(xt=yt[0].map((Jt,Bn)=>String(Jt||"").trim()||`Column ${Bn+1}`),yr=1,console.log("[IMPORT] CSV raw first row:",yt[0]),console.log("[IMPORT] CSV processed headers:",xt)):(xt=yt[0].map((Jt,Bn)=>`Column ${Bn+1}`),yr=0,a("No header row detected. Using generic column names (Column 1, Column 2, etc.)")),xt.length===0){n("No columns found in file");return}console.log("[IMPORT] CSV detected headers:",xt),console.log("[IMPORT] CSV detected headers count:",xt.length),console.log("[IMPORT] CSV detected headers array:",xt),F(xt),console.log("[IMPORT] CSV setDetectedColumns called with:",xt);const An=[];for(let Jt=yr;Jt<yt.length;Jt++){const Bn={},En=yt[Jt]||[];for(;En.length<xt.length;)En.push("");xt.forEach((Pn,ua)=>{const Sr=En[ua];if(typeof Sr=="number"&&Sr>25569&&Pn.toLowerCase().includes("date")){const jr=new Date(1900,0,1),Gr=Sr-2,pn=new Date(jr.getTime()+Gr*24*60*60*1e3);Bn[Pn]=pn.toISOString().split("T")[0]}else Bn[Pn]=Sr!=null?String(Sr).trim():""}),Object.values(Bn).some(Pn=>Pn)&&An.push(Bn)}console.log("[IMPORT] CSV parsed rows:",An),console.log("[IMPORT] CSV parsed rows count:",An.length),T(An);const On={title:xt.find(Jt=>Jt.toLowerCase().includes("title")||Jt.toLowerCase().includes("task")&&Jt.toLowerCase().includes("name")||!Jt.toLowerCase().includes("category")&&Jt.toLowerCase().includes("name"))||"",category:xt.find(Jt=>Jt.toLowerCase().includes("category")||Jt.toLowerCase().includes("task")&&Jt.toLowerCase().includes("cat"))||"",dueDate:xt.find(Jt=>Jt.toLowerCase().includes("due")||Jt.toLowerCase().includes("date")&&!Jt.toLowerCase().includes("created")&&!Jt.toLowerCase().includes("updated"))||"",description:xt.find(Jt=>Jt.toLowerCase().includes("description")||Jt.toLowerCase().includes("desc"))||"",priority:xt.find(Jt=>Jt.toLowerCase().includes("priority")||Jt.toLowerCase().includes("prio"))||"",owner:xt.find(Jt=>Jt.toLowerCase().includes("owner")||Jt.toLowerCase().includes("assignee")||Jt.toLowerCase().includes("assigned")||Jt.toLowerCase().includes("task")&&Jt.toLowerCase().includes("owner"))||""};z(On),O("mapping")}catch(Gt){console.error("CSV parse error:",Gt),n("Failed to parse CSV file: "+(Gt.message||"Unknown error"))}},zt.readAsArrayBuffer(ht)}else if(ct==="xlsx"||ct==="xls"){const zt=new FileReader;zt.onload=Zt=>{const Gt=new Uint8Array(Zt.target?.result),dr=C1(Gt,{type:"array"}),tn=dr.SheetNames[0],hn=dr.Sheets[tn],Wt=Df.decode_range(hn["!ref"]||"A1"),Xt=Wt.e.c-Wt.s.c+1;console.log("[IMPORT] Excel worksheet range:",hn["!ref"]),console.log("[IMPORT] Excel number of columns from range:",Xt);const yt=Df.sheet_to_json(hn,{header:1,raw:!0,defval:"",blankrows:!0});if(console.log("[IMPORT] Excel raw data length:",yt.length),console.log("[IMPORT] Excel first row length:",yt[0]?.length),console.log("[IMPORT] Excel first row:",yt[0]),yt.length===0){n("File is empty");return}if(yt[0]&&yt[0].length<Xt)for(console.log(`[IMPORT] Padding first row from ${yt[0].length} to ${Xt} columns`);yt[0].length<Xt;)yt[0].push("");const Ur=It(yt[0]);console.log("[IMPORT] Excel Header detection result:",Ur);let xt,yr;Ur?(xt=yt[0].map((Jt,Bn)=>String(Jt||"").trim()||`Column ${Bn+1}`),yr=1,console.log("[IMPORT] Excel raw first row:",yt[0]),console.log("[IMPORT] Excel processed headers:",xt)):(xt=yt[0].map((Jt,Bn)=>`Column ${Bn+1}`),yr=0,a("No header row detected. Using generic column names (Column 1, Column 2, etc.)")),console.log("[IMPORT] Detected headers:",xt),console.log("[IMPORT] Detected headers count:",xt.length),console.log("[IMPORT] Detected headers array:",xt),console.log("[IMPORT] Raw JSON data:",yt),F(xt),console.log("[IMPORT] setDetectedColumns called with:",xt);const An=[];for(let Jt=yr;Jt<yt.length;Jt++){const Bn={},En=yt[Jt]||[];for(;En.length<xt.length;)En.push("");xt.forEach((Pn,ua)=>{const Sr=En[ua];if(typeof Sr=="number"&&Sr>25569&&Pn.toLowerCase().includes("date")){const jr=new Date(1900,0,1),Gr=Sr-2,pn=new Date(jr.getTime()+Gr*24*60*60*1e3),Ee=pn.getFullYear(),lr=pn.getMonth(),cr=pn.getDate();Bn[Pn]=`${Ee}-${String(lr+1).padStart(2,"0")}-${String(cr).padStart(2,"0")}`}else Bn[Pn]=Sr!=null?String(Sr).trim():""}),Object.values(Bn).some(Pn=>Pn)&&An.push(Bn)}console.log("[IMPORT] Parsed rows:",An),console.log("[IMPORT] Parsed rows count:",An.length),T(An);const On={title:xt.find(Jt=>Jt.toLowerCase().includes("title")||Jt.toLowerCase().includes("task")&&Jt.toLowerCase().includes("name")||!Jt.toLowerCase().includes("category")&&Jt.toLowerCase().includes("name"))||"",category:xt.find(Jt=>Jt.toLowerCase().includes("category")||Jt.toLowerCase().includes("task")&&Jt.toLowerCase().includes("cat"))||"",dueDate:xt.find(Jt=>Jt.toLowerCase().includes("due")||Jt.toLowerCase().includes("date")&&!Jt.toLowerCase().includes("created")&&!Jt.toLowerCase().includes("updated"))||"",description:xt.find(Jt=>Jt.toLowerCase().includes("description")||Jt.toLowerCase().includes("desc"))||"",priority:xt.find(Jt=>Jt.toLowerCase().includes("priority")||Jt.toLowerCase().includes("prio"))||"",owner:xt.find(Jt=>Jt.toLowerCase().includes("owner")||Jt.toLowerCase().includes("assignee")||Jt.toLowerCase().includes("assigned")||Jt.toLowerCase().includes("task")&&Jt.toLowerCase().includes("owner"))||""};console.log("[IMPORT] Auto-mapping:",On),z(On),O("mapping")},zt.readAsArrayBuffer(ht)}else n("Unsupported file format. Please use CSV, XLS, or XLSX.")}catch(ct){console.error("Error parsing file:",ct),n("Failed to parse file: "+(ct.message||"Unknown error"))}},Dt=async(Le,ht,ct)=>{ct.stopPropagation();const zt=ht==="Done"?"Todo":"Done";C(Le);try{await Nu(Le,{status:zt}),o(Zt=>Zt.map(Gt=>Gt.id===Le?{...Gt,status:zt}:Gt)),re?.id===Le&&fe({...re,status:zt}),r(zt==="Done"?"Task marked as done":"Task marked as todo")}catch{n("Status update failed")}finally{C(null)}},kr=async()=>{if(re){if(!De.title.trim()){n("Task title is required");return}if(!De.assigneeId){n("Assignee is required");return}ee(!0);try{await Nu(re.id,{title:De.title.trim(),category:De.category.trim()||void 0,description:De.description.trim()||"",dueDate:De.dueDate||null,priority:De.priority,status:De.status,assigneeId:De.assigneeId,projectId:De.projectId||null}),o(Le=>Le.map(ht=>ht.id===re.id?{...ht,title:De.title.trim(),category:De.category.trim()||void 0,description:De.description.trim()||"",dueDate:De.dueDate||"",priority:De.priority,status:De.status,assigneeId:De.assigneeId,projectId:De.projectId||void 0}:ht)),fe({...re,title:De.title.trim(),category:De.category.trim()||void 0,description:De.description.trim()||"",dueDate:De.dueDate||"",priority:De.priority,status:De.status,assigneeId:De.assigneeId,projectId:De.projectId||void 0}),he(!1),r("Task updated successfully"),window.dispatchEvent(new Event("refresh-tasks"))}catch(Le){n(Le.message||"Failed to update task")}finally{ee(!1)}}},Dr=(Le,ht=1200,ct=1200,zt=.8)=>new Promise((Zt,Gt)=>{const dr=new FileReader;dr.onload=tn=>{const hn=new Image;hn.onload=()=>{let Wt=hn.width,Xt=hn.height;Wt>Xt?Wt>ht&&(Xt=Xt*ht/Wt,Wt=ht):Xt>ct&&(Wt=Wt*ct/Xt,Xt=ct);const yt=document.createElement("canvas");yt.width=Wt,yt.height=Xt;const Ur=yt.getContext("2d");Ur?(Ur.drawImage(hn,0,0,Wt,Xt),Zt(yt.toDataURL("image/jpeg",zt))):Gt(new Error("Canvas context not available"))},hn.onerror=()=>Gt(new Error("Failed to load image")),hn.src=tn.target?.result},dr.onerror=()=>Gt(new Error("Failed to read file")),dr.readAsDataURL(Le)}),an=async Le=>{const ht=Le.target.files?.[0];if(ht){if(!ht.type.startsWith("image/")){n("Please select an image file");return}if(ht.size>10*1024*1024){n("Image size must be less than 10MB");return}try{const ct=await Dr(ht,1200,1200,.8);st(ct),Re(ht)}catch(ct){n(ct.message||"Failed to process image")}}},Nn=Le=>{const ht=Le.target.value,ct=Le.target.selectionStart;Ue(ht),or(ct);const zt=ht.substring(0,ct),Zt=zt.lastIndexOf("@");if(Zt!==-1){const Gt=zt.substring(Zt+1),dr=Zt>0?zt[Zt-1]:" ";if((dr===" "||dr===`
`||Zt===0)&&!Gt.includes(" ")&&!Gt.includes(`
`)){nn(Gt);const tn=u.filter(hn=>hn.name.toLowerCase().includes(Gt.toLowerCase())||hn.email.toLowerCase().includes(Gt.toLowerCase()));fn(tn.slice(0,5)),Kt(!0);return}}Kt(!1)},va=Le=>{const ct=Nt.substring(0,fr).lastIndexOf("@"),zt=Nt.substring(fr),Gt=`${Nt.substring(0,ct)}@${Le.name} ${zt}`;if(Ue(Gt),Kt(!1),Hr.current){Hr.current.focus();const dr=ct+Le.name.length+2;Hr.current.setSelectionRange(dr,dr)}},Ba=Le=>{const ht=/@([A-Za-z0-9\s]+?)(?=\s|$|[.,!?])/g,ct=[];let zt;for(;(zt=ht.exec(Le))!==null;){const Zt=zt[1].trim(),Gt=u.find(dr=>dr.name.toLowerCase()===Zt.toLowerCase());Gt&&Gt.id!==(t?.id||JSON.parse(localStorage.getItem("user_data")||"{}").id)&&ct.push(Gt.id)}return[...new Set(ct)]},pa=Le=>{const ht=/@([A-Za-z0-9\s]+?)(?=\s|$|[.,!?])/g,ct=[];let zt=0,Zt;for(;(Zt=ht.exec(Le))!==null;){Zt.index>zt&&ct.push(Le.substring(zt,Zt.index));const Gt=Zt[1].trim(),dr=u.find(tn=>tn.name.toLowerCase()===Gt.toLowerCase());dr?ct.push(i.jsxs("span",{className:"bg-indigo-100 text-indigo-700 px-1.5 py-0.5 rounded font-bold",children:["@",dr.name]},Zt.index)):ct.push(`@${Gt}`),zt=Zt.index+Zt[0].length}return zt<Le.length&&ct.push(Le.substring(zt)),ct.length>0?ct:Le},_n=async()=>{if(re){if(!Nt.trim()&&!it){n("Please enter a note or upload an image");return}nt(!0);try{const Le=t?.id||JSON.parse(localStorage.getItem("user_data")||"{}").id,ht=t?.name||JSON.parse(localStorage.getItem("user_data")||"{}").name||"Unknown User",ct={id:`note_${Date.now()}`,userId:Le,userName:ht,text:Nt.trim(),imageUrl:dt||void 0,imageName:it?.name||void 0,imageMimeType:it?.type||void 0,createdAt:new Date().toISOString()},zt=[...re.notes||[],ct];await Nu(re.id,{notes:zt}),fe({...re,notes:zt}),o(dr=>dr.map(tn=>tn.id===re.id?{...tn,notes:zt}:tn));const Zt=Ba(Nt);for(const dr of Zt)try{await Kh({userId:dr,type:"mention",title:"You were mentioned in a task",message:`${ht} mentioned you in task "${re.title}"`,relatedId:re.id,relatedType:"task",read:!1})}catch(tn){console.error("Failed to send notification:",tn)}Ue(""),st(""),Re(null),Br.current&&(Br.current.value="");const Gt=Zt.length>0?`Note added and ${Zt.length} user(s) notified`:"Note added successfully";r(Gt)}catch(Le){n(Le.message||"Failed to add note")}finally{nt(!1)}}},Ta=async()=>{if(!(!re||!t||!ar))try{er(ar);const Le=re.notes?.filter(ht=>ht.id!==ar)||[];await Nu(re.id,{notes:Le}),fe({...re,notes:Le}),o(ht=>ht.map(ct=>ct.id===re.id?{...ct,notes:Le}:ct)),r("Note deleted successfully"),$t(null)}catch(Le){n(Le.message||"Failed to delete note")}finally{er(null)}},gn=()=>{fe(null),he(!1),Ue(""),st(""),Re(null),Kt(!1),We(!1),Br.current&&(Br.current.value="")};let en=s.filter(Le=>{if(v==="archived"){if(!Le.archived)return!1}else if(v==="week"){if(Le.archived)return!1}else if(Le.archived)return!1;return p.trim()?Le.title.toLowerCase().includes(p.toLowerCase()):!0});if(j==="dueDate")en=[...en].sort((Le,ht)=>!Le.dueDate&&!ht.dueDate?0:Le.dueDate?ht.dueDate?(Le.dueDate||"").localeCompare(ht.dueDate||""):-1:1);else if(j==="priority"){const Le={High:1,Medium:2,Low:3};en=[...en].sort((ht,ct)=>{const zt=Le[ht.priority]||4,Zt=Le[ct.priority]||4;return zt-Zt})}else j==="category"?en=[...en].sort((Le,ht)=>{const ct=(Le.category||"Uncategorized").toLowerCase(),zt=(ht.category||"Uncategorized").toLowerCase();return ct.localeCompare(zt)}):j==="owner"&&(en=[...en].sort((Le,ht)=>{const ct=u.find(Zt=>Zt.id===Le.assigneeId)?.name||"Unassigned",zt=u.find(Zt=>Zt.id===ht.assigneeId)?.name||"Unassigned";return ct.localeCompare(zt)}));return i.jsxs("div",{className:"space-y-6 animate-in slide-in-from-bottom-2 duration-500 pb-10",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Tasks"}),i.jsxs("div",{className:"flex gap-4 mt-2",children:[i.jsx("button",{onClick:()=>{g("active"),ue([])},className:`text-sm font-bold pb-1 transition-all ${v==="active"?"text-indigo-600 border-b-2 border-indigo-600":"text-slate-400"}`,children:"Active"}),i.jsxs("button",{onClick:()=>{g("archived"),ue([])},className:`text-sm font-bold pb-1 transition-all ${v==="archived"?"text-indigo-600 border-b-2 border-indigo-600":"text-slate-400"}`,children:["Archive (",s.filter(Le=>Le.archived).length,")"]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:()=>{P(!0),O("upload")},className:"px-3 py-2 bg-white border border-slate-200 text-slate-600 rounded-lg text-xs font-bold flex items-center gap-2 hover:bg-slate-50 transition-all",children:[i.jsx(l_,{className:"w-4 h-4"})," Bulk Import"]}),i.jsxs("button",{onClick:e,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg text-sm font-bold flex items-center gap-2 hover:bg-indigo-700 shadow-lg",children:[i.jsx(kn,{className:"w-4 h-4"})," New Task"]})]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(zu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),i.jsx("input",{type:"text",placeholder:"Search tasks...",value:p,onChange:Le=>{y(Le.target.value),ue([])},className:"w-full pl-10 pr-4 py-2.5 bg-white border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-indigo-100"})]}),i.jsxs("div",{className:"relative",children:[i.jsxs("select",{value:j,onChange:Le=>N(Le.target.value),className:"appearance-none pl-4 pr-10 py-2.5 bg-white border border-slate-200 rounded-xl text-sm font-medium text-slate-700 outline-none focus:ring-2 focus:ring-indigo-100 cursor-pointer hover:bg-slate-50 transition-all",children:[i.jsx("option",{value:"none",children:"No Sort"}),i.jsx("option",{value:"dueDate",children:"Sort by Due Date"}),i.jsx("option",{value:"priority",children:"Sort by Priority"}),i.jsx("option",{value:"category",children:"Sort by Category"}),i.jsx("option",{value:"owner",children:"Sort by Owner"})]}),i.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none",children:i.jsx(kh,{className:"w-4 h-4 text-slate-400"})})]}),i.jsxs("div",{className:"flex bg-white p-1 border border-slate-200 rounded-xl shadow-sm",children:[i.jsx("button",{onClick:()=>w("list"),className:`p-2 rounded-lg ${b==="list"?"bg-indigo-50 text-indigo-600":"text-slate-400"}`,children:i.jsx(TR,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>w("card"),className:`p-2 rounded-lg ${b==="card"?"bg-indigo-50 text-indigo-600":"text-slate-400"}`,children:i.jsx(SR,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>{g(v==="week"?"active":"week"),ue([])},className:`p-2 rounded-lg ${v==="week"?"bg-indigo-50 text-indigo-600":"text-slate-400"}`,title:"Week View",children:i.jsx(La,{className:"w-4 h-4"})})]})]}),!h&&en.length>0&&i.jsxs("div",{className:"flex items-center gap-3 pb-2",children:[i.jsx("input",{type:"checkbox",className:"rounded border-slate-300 text-indigo-600 focus:ring-indigo-500 w-4 h-4",checked:en.length>0&&oe.length===en.length,onChange:Ge}),i.jsx("span",{className:"text-sm font-semibold text-slate-600",children:"Select All Tasks"})]}),h?i.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm overflow-hidden min-h-[400px]",children:i.jsx("div",{className:"flex items-center justify-center py-20",children:i.jsx(Ot,{className:"w-8 h-8 animate-spin text-indigo-600"})})}):en.length===0?i.jsxs("div",{className:"py-20 bg-white rounded-3xl border border-dashed border-slate-200 text-center",children:[i.jsx(fv,{className:"w-12 h-12 text-slate-200 mx-auto mb-4"}),i.jsxs("p",{className:"text-slate-400 font-bold uppercase text-[10px] tracking-widest",children:["No ",v==="week"?"tasks":v," tasks found"]})]}):v==="week"?i.jsx("div",{className:"space-y-8",children:(()=>{const Le=en.filter(Xt=>!Ie(Xt.dueDate)),ht=en.filter(Xt=>Ie(Xt.dueDate)),ct={};ht.forEach(Xt=>{const yt=Ie(Xt.dueDate);ct[yt]||(ct[yt]=[]),ct[yt].push(Xt)});const zt=Object.keys(ct).sort(),Zt=(()=>{const Xt=ve(new Date);return`${Xt.getFullYear()}-${String(Xt.getMonth()+1).padStart(2,"0")}-${String(Xt.getDate()).padStart(2,"0")}`})(),Gt=(()=>{const Xt=ve(new Date),yt=new Date(Xt);return yt.setDate(Xt.getDate()+7),`${yt.getFullYear()}-${String(yt.getMonth()+1).padStart(2,"0")}-${String(yt.getDate()).padStart(2,"0")}`})(),dr=(Xt,yt)=>{const Ur=Xt.toLocaleDateString("en-US",{month:"short",day:"numeric"}),xt=yt.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return`${Ur} - ${xt}`},tn=Xt=>{if(Xt===Zt)return"This Week";if(Xt===Gt)return"Next Week";const[yt,Ur,xt]=Xt.split("-").map(Number),yr=new Date(yt,Ur-1,xt),{start:An,end:On}=ke(yr);return`Week of ${dr(An,On)}`},hn=Xt=>{const[yt,Ur,xt]=Xt.split("-").map(Number);return ke(new Date(yt,Ur-1,xt))};zt.forEach(Xt=>{ct[Xt].sort((yt,Ur)=>(yt.dueDate||"").localeCompare(Ur.dueDate||""))});const Wt=Xt=>Xt.length===0?null:b==="list"?i.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm overflow-hidden",children:i.jsx("div",{className:"divide-y divide-slate-50",children:Xt.map(yt=>{const Ur=oe.includes(yt.id);return i.jsxs("div",{onClick:()=>fe(yt),className:`flex items-center gap-4 p-5 hover:bg-slate-50 transition-colors cursor-pointer ${Ur?"bg-indigo-50/30 border-l-4 border-indigo-400":""}`,children:[i.jsx("div",{onClick:xt=>xt.stopPropagation(),children:i.jsx("input",{type:"checkbox",className:"rounded border-slate-300 text-indigo-600 focus:ring-indigo-500 w-4 h-4 cursor-pointer",checked:Ur,onChange:()=>ue(xt=>Ur?xt.filter(yr=>yr!==yt.id):[...xt,yt.id])})}),i.jsx("button",{onClick:xt=>Dt(yt.id,yt.status,xt),disabled:q===yt.id,className:"text-slate-300 hover:text-indigo-600 disabled:opacity-50 disabled:cursor-not-allowed transition-opacity",children:q===yt.id?i.jsx(Ot,{className:"w-6 h-6 text-indigo-600 animate-spin"}):yt.status==="Done"?i.jsx(wn,{className:"w-6 h-6 text-emerald-500"}):i.jsx($c,{className:"w-6 h-6"})}),i.jsxs("div",{className:"flex-1 overflow-hidden",children:[i.jsx("p",{className:`font-bold text-sm ${yt.status==="Done"?"line-through text-slate-400":"text-slate-900"}`,children:yt.title}),i.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[yt.category&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(Da,{className:"w-3 h-3 text-indigo-400"}),i.jsx("span",{className:"text-[10px] text-indigo-600 font-bold uppercase",children:yt.category})]}),i.jsx("span",{className:"text-slate-300",children:""})]}),i.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:l.find(xt=>xt.id===yt.projectId)?.title||"General"}),i.jsx("span",{className:"text-slate-300",children:""}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(La,{className:"w-3 h-3 text-slate-400"}),i.jsx("span",{className:"text-[10px] text-slate-400 font-bold",children:yt.dueDate?ge(yt.dueDate):"Ongoing"})]})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase ${yt.priority==="High"?"bg-red-50 text-red-600":yt.priority==="Medium"?"bg-amber-50 text-amber-600":"bg-slate-50 text-slate-600"}`,children:yt.priority}),i.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 bg-slate-50 rounded-full",children:[i.jsx(pl,{className:"w-3 h-3 text-slate-400"}),i.jsx("span",{className:"text-[10px] font-bold text-slate-600",children:u.find(xt=>xt.id===yt.assigneeId)?.name||"Unassigned"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:xt=>{xt.stopPropagation(),fe(yt)},className:"p-1.5 hover:bg-slate-100 rounded-lg text-slate-400 transition-colors",children:i.jsx($d,{className:"w-4 h-4"})}),i.jsx("button",{onClick:xt=>{xt.stopPropagation(),W(yt)},className:"p-1.5 hover:bg-slate-100 rounded-lg text-slate-400 transition-colors",children:i.jsx(Ld,{className:"w-4 h-4"})}),i.jsx("button",{onClick:xt=>{xt.stopPropagation(),K(yt)},className:"p-1.5 hover:bg-red-50 rounded-lg text-red-400 transition-colors",children:i.jsx(Ir,{className:"w-4 h-4"})})]})]})]},yt.id)})})}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Xt.map(yt=>{const Ur=oe.includes(yt.id);return i.jsxs("div",{onClick:()=>fe(yt),className:`bg-white p-6 rounded-3xl border ${Ur?"border-indigo-400 bg-indigo-50/30":"border-slate-200"} relative group cursor-pointer hover:shadow-lg transition-all`,children:[i.jsx("div",{className:"absolute top-4 left-4",onClick:xt=>xt.stopPropagation(),children:i.jsx("input",{type:"checkbox",className:`${Ur?"opacity-100":"opacity-0 group-hover:opacity-100"} transition-opacity rounded border-slate-300 text-indigo-600 focus:ring-indigo-500 w-4 h-4 cursor-pointer`,checked:Ur,onChange:()=>ue(xt=>Ur?xt.filter(yr=>yr!==yt.id):[...xt,yt.id])})}),i.jsxs("div",{className:"mt-6",children:[i.jsx("p",{className:`font-bold text-sm mb-3 ${yt.status==="Done"?"line-through text-slate-400":"text-slate-900"}`,children:yt.title}),i.jsxs("div",{className:"space-y-2 mb-4",children:[yt.category&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Da,{className:"w-3 h-3 text-indigo-400"}),i.jsx("span",{className:"text-[10px] text-indigo-600 font-bold uppercase",children:yt.category})]}),i.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:l.find(xt=>xt.id===yt.projectId)?.title||"General"})]})]}),i.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-slate-50",children:[yt.dueDate?i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(La,{className:"w-3.5 h-3.5 text-slate-400"}),i.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase",children:ge(yt.dueDate)})]}):i.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Ongoing"}),i.jsx("div",{className:`px-2.5 py-1 rounded-full text-[9px] font-black uppercase ${yt.priority==="High"?"bg-red-50 text-red-600":yt.priority==="Medium"?"bg-amber-50 text-amber-600":"bg-slate-50 text-slate-600"}`,children:yt.priority})]})]},yt.id)})});return i.jsxs(i.Fragment,{children:[zt.map(Xt=>{const yt=ct[Xt];if(!yt||yt.length===0)return null;const Ur=hn(Xt),xt=tn(Xt);return i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4 flex-wrap",children:[i.jsx("h2",{className:"text-lg font-black text-slate-900",children:xt}),i.jsx("span",{className:"px-3 py-1 bg-indigo-50 text-indigo-600 rounded-full text-xs font-black",children:dr(Ur.start,Ur.end)}),i.jsxs("span",{className:"text-sm text-slate-400 font-bold",children:["(",yt.length,")"]})]}),Wt(yt)]},Xt)}),Le.length>0&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("h2",{className:"text-lg font-black text-slate-900",children:"Ongoing"}),i.jsxs("span",{className:"text-sm text-slate-400 font-bold",children:["(",Le.length," tasks)"]})]}),Wt(Le)]})]})})()}):b==="list"?i.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm overflow-hidden",children:i.jsx("div",{className:"divide-y divide-slate-50",children:en.map(Le=>{const ht=oe.includes(Le.id);return i.jsxs("div",{onClick:()=>fe(Le),className:`flex items-center gap-4 p-5 hover:bg-slate-50 transition-colors cursor-pointer ${Le.archived?"bg-slate-50/50":""} ${ht?"bg-indigo-50/30 border-l-4 border-indigo-400":""}`,children:[i.jsx("div",{onClick:ct=>ct.stopPropagation(),children:i.jsx("input",{type:"checkbox",className:"rounded border-slate-300 text-indigo-600 focus:ring-indigo-500 w-4 h-4 cursor-pointer",checked:ht,onChange:()=>ue(ct=>ht?ct.filter(zt=>zt!==Le.id):[...ct,Le.id])})}),i.jsx("button",{onClick:ct=>Dt(Le.id,Le.status,ct),disabled:q===Le.id,className:"text-slate-300 hover:text-indigo-600 disabled:opacity-50 disabled:cursor-not-allowed transition-opacity",children:q===Le.id?i.jsx(Ot,{className:"w-6 h-6 text-indigo-600 animate-spin"}):Le.status==="Done"?i.jsx(wn,{className:"w-6 h-6 text-emerald-500"}):i.jsx($c,{className:"w-6 h-6"})}),i.jsxs("div",{className:"flex-1 overflow-hidden",children:[i.jsx("p",{className:`font-bold text-sm ${Le.status==="Done"?"line-through text-slate-400":"text-slate-900"}`,children:Le.title}),i.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[Le.category&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(Da,{className:"w-3 h-3 text-indigo-400"}),i.jsx("span",{className:"text-[10px] text-indigo-600 font-bold uppercase",children:Le.category})]}),i.jsx("span",{className:"text-slate-300",children:""})]}),i.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:l.find(ct=>ct.id===Le.projectId)?.title||"General"}),i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-slate-300",children:""}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(La,{className:"w-3 h-3 text-slate-400"}),i.jsx("span",{className:"text-[10px] text-slate-400 font-bold",children:Le.dueDate?ge(Le.dueDate):"Ongoing"})]})]})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase ${Le.priority==="High"?"bg-red-50 text-red-600":Le.priority==="Medium"?"bg-amber-50 text-amber-600":"bg-slate-50 text-slate-600"}`,children:Le.priority}),Le.assigneeId&&(()=>{const ct=u.find(zt=>zt.id===Le.assigneeId);return ct?i.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-indigo-50 rounded-full",title:ct.name,children:[i.jsx(pl,{className:"w-3 h-3 text-indigo-600"}),i.jsx("span",{className:"text-[10px] font-bold text-indigo-600 max-w-[120px] truncate",children:ct.name})]}):null})()]}),i.jsxs("div",{className:"flex items-center gap-3 ml-3",children:[i.jsx("button",{onClick:ct=>{ct.stopPropagation(),fe(Le)},className:"p-2 text-slate-300 hover:text-indigo-600 hover:bg-white rounded-lg transition-all",title:"View task",children:i.jsx($d,{className:"w-4 h-4"})}),i.jsx("button",{onClick:ct=>{ct.stopPropagation(),W(Le)},className:"p-2 text-slate-300 hover:text-indigo-600 hover:bg-white rounded-lg transition-all",children:Le.archived?i.jsx(hv,{className:"w-4 h-4"}):i.jsx(Ld,{className:"w-4 h-4"})}),i.jsx("button",{onClick:ct=>{ct.stopPropagation(),K(Le)},className:"p-2 text-slate-300 hover:text-red-500 hover:bg-white rounded-lg transition-all",children:i.jsx(Ir,{className:"w-4 h-4"})})]})]},Le.id)})})}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:en.map(Le=>{const ht=oe.includes(Le.id);return i.jsxs("div",{onClick:()=>fe(Le),className:`bg-white p-6 rounded-3xl border ${ht?"border-indigo-400 bg-indigo-50/30":"border-slate-200"} relative group cursor-pointer hover:shadow-lg transition-all`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-indigo-50 flex items-center justify-center text-indigo-600",children:i.jsx(gl,{className:"w-4 h-4"})}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:[i.jsx("button",{onClick:ct=>{ct.stopPropagation(),fe(Le)},className:"p-1.5 text-slate-400 hover:text-indigo-600",title:"View task",children:i.jsx($d,{className:"w-3.5 h-3.5"})}),i.jsx("button",{onClick:ct=>{ct.stopPropagation(),W(Le)},className:"p-1.5 text-slate-400 hover:text-indigo-600",children:i.jsx(Ld,{className:"w-3.5 h-3.5"})}),i.jsx("button",{onClick:ct=>{ct.stopPropagation(),K(Le)},className:"p-1.5 text-slate-400 hover:text-red-500",children:i.jsx(Ir,{className:"w-3.5 h-3.5"})})]}),i.jsx("div",{onClick:ct=>ct.stopPropagation(),className:`${ht?"opacity-100":"opacity-0 group-hover:opacity-100"} transition-opacity`,children:i.jsx("input",{type:"checkbox",className:"rounded border-slate-300 text-indigo-600 focus:ring-indigo-500 w-4 h-4 cursor-pointer",checked:ht,onChange:()=>ue(ct=>ht?ct.filter(zt=>zt!==Le.id):[...ct,Le.id])})})]})]}),i.jsx("h4",{className:`font-bold text-slate-900 mb-2 ${Le.status==="Done"?"line-through opacity-40":""}`,children:Le.title}),i.jsx("p",{className:"text-xs text-slate-500 line-clamp-2 mb-4",children:Le.description}),Le.category&&i.jsx("div",{className:"flex items-center gap-2 mb-2",children:i.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-indigo-50 rounded-full",children:[i.jsx(Da,{className:"w-3.5 h-3.5 text-indigo-600"}),i.jsx("span",{className:"text-[10px] font-bold text-indigo-600",children:Le.category})]})}),Le.assigneeId&&(()=>{const ct=u.find(zt=>zt.id===Le.assigneeId);return ct?i.jsx("div",{className:"flex items-center gap-2 mb-4",children:i.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-emerald-50 rounded-full",children:[i.jsx(pl,{className:"w-3.5 h-3.5 text-emerald-600"}),i.jsx("span",{className:"text-[10px] font-bold text-emerald-600",children:ct.name})]})}):null})(),i.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-slate-50",children:[Le.dueDate?i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(La,{className:"w-3.5 h-3.5 text-slate-400"}),i.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase",children:ge(Le.dueDate)})]}):i.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Ongoing"}),i.jsx("div",{className:`px-2.5 py-1 rounded-full text-[9px] font-black uppercase ${Le.priority==="High"?"bg-red-50 text-red-600":Le.priority==="Medium"?"bg-amber-50 text-amber-600":"bg-slate-50 text-slate-600"}`,children:Le.priority})]})]},Le.id)})}),S&&i.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:i.jsxs("div",{className:"bg-white rounded-[40px] w-full max-w-2xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 flex flex-col max-h-[90vh]",children:[i.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-start bg-slate-50/50 shrink-0",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-14 h-14 bg-indigo-600 rounded-2xl flex items-center justify-center text-white shadow-xl shadow-indigo-100",children:i.jsx(l_,{className:"w-7 h-7"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-black text-slate-900 tracking-tight leading-none",children:"Enterprise Registry Import"}),i.jsx("p",{className:"text-[10px] text-slate-400 uppercase tracking-[0.2em] font-black mt-2",children:"Logistical Data Migration"})]})]}),i.jsx("button",{onClick:()=>P(!1),className:"p-2 hover:bg-white rounded-full transition-colors border border-transparent hover:border-slate-200",children:i.jsx(mr,{className:"w-6 h-6 text-slate-400"})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-10 custom-scrollbar",children:A==="upload"?i.jsxs("div",{className:"space-y-10 animate-in fade-in duration-300",children:[i.jsxs("div",{className:"bg-indigo-50 border border-indigo-100 rounded-3xl p-8",children:[i.jsxs("h4",{className:"text-[10px] font-black text-indigo-600 uppercase tracking-widest flex items-center gap-2 mb-6",children:[i.jsx(Vd,{className:"w-4 h-4"})," Registry Data Requirements"]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs("p",{className:"text-xs font-black text-slate-700 uppercase tracking-tighter flex items-center gap-2",children:[i.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500"})," Column: Title *"]}),i.jsx("p",{className:"text-[10px] text-slate-500 font-medium ml-3.5",children:"Official objective identifier."})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("p",{className:"text-xs font-black text-slate-700 uppercase tracking-tighter flex items-center gap-2",children:[i.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-300"})," Column: Task Category"]}),i.jsx("p",{className:"text-[10px] text-slate-500 font-medium ml-3.5",children:"Organizational category (optional). New categories from the file are added automatically."})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("p",{className:"text-xs font-black text-slate-700 uppercase tracking-tighter flex items-center gap-2",children:[i.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500"})," Column: Due Date *"]}),i.jsx("p",{className:"text-[10px] text-slate-500 font-medium ml-3.5",children:'e.g. 15-2-2026, YYYY-MM-DD, or February 15, 2026. Use "Ongoing" for no date.'})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("p",{className:"text-xs font-black text-slate-700 uppercase tracking-tighter flex items-center gap-2",children:[i.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-300"})," Column: Priority"]}),i.jsx("p",{className:"text-[10px] text-slate-500 font-medium ml-3.5",children:"Low, Medium, or High."})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("p",{className:"text-xs font-black text-slate-700 uppercase tracking-tighter flex items-center gap-2",children:[i.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-300"})," Column: Description"]}),i.jsx("p",{className:"text-[10px] text-slate-500 font-medium ml-3.5",children:"Strategic context/notes."})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("p",{className:"text-xs font-black text-slate-700 uppercase tracking-tighter flex items-center gap-2",children:[i.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-300"})," Column: Task Owner"]}),i.jsx("p",{className:"text-[10px] text-slate-500 font-medium ml-3.5",children:"Task owner name or email (optional)."})]})]})]}),i.jsxs("div",{className:"flex flex-col gap-5",children:[i.jsxs("button",{onClick:()=>Wr.current?.click(),className:"w-full py-16 border-4 border-dashed border-slate-100 rounded-[40px] flex flex-col items-center justify-center gap-4 hover:border-indigo-400 hover:bg-indigo-50/30 transition-all group shadow-sm bg-white",children:[i.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-2xl flex items-center justify-center text-slate-300 group-hover:text-indigo-600 group-hover:scale-110 transition-all border border-slate-100 shadow-inner",children:i.jsx(NR,{className:"w-8 h-8"})}),i.jsxs("div",{className:"text-center",children:[i.jsx("span",{className:"text-lg font-black text-slate-900 block mb-1",children:"Select Local Registry"}),i.jsx("span",{className:"text-xs text-slate-400 font-bold uppercase tracking-widest",children:"Supports CSV, XLS, XLSX"})]})]}),i.jsxs("button",{onClick:wt,className:"w-full py-5 bg-white border-2 border-slate-100 text-slate-600 rounded-[24px] text-xs font-black uppercase tracking-[0.2em] flex items-center justify-center gap-3 hover:bg-slate-50 transition-all shadow-sm",children:[i.jsx(gm,{className:"w-5 h-5 text-indigo-500"})," Download Registry Schema (Excel Template)"]})]})]}):i.jsxs("div",{className:"space-y-8 animate-in slide-in-from-right-4 duration-300",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:"text-lg font-black text-slate-900",children:"Smart Mapping Interface"}),i.jsxs("span",{className:"px-3 py-1 bg-emerald-50 text-emerald-600 rounded-full text-[10px] font-black uppercase tracking-tighter flex items-center gap-1.5",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full animate-pulse"})," Data Detected"]})]}),i.jsxs("p",{className:"text-sm text-slate-500 leading-relaxed",children:["We've detected ",M.length," columns and ",E.length," rows in your file. Ensure the ImpactFlow system properties are correctly mapped below."]}),i.jsx("div",{className:"space-y-4 bg-slate-50 p-8 rounded-[32px] border border-slate-100",children:[{label:"Task Name (Title)",key:"title",required:!0,icon:i.jsx(Wa,{className:"w-4 h-4"})},{label:"Task Category",key:"category",required:!1,icon:i.jsx(Da,{className:"w-4 h-4"})},{label:"Due Date",key:"dueDate",required:!0,icon:i.jsx(La,{className:"w-4 h-4"})},{label:"Task Description",key:"description",required:!1,icon:i.jsx(Vd,{className:"w-4 h-4"})},{label:"Priority Level",key:"priority",required:!1,icon:i.jsx(Da,{className:"w-4 h-4"})},{label:"Task Owner",key:"owner",required:!1,icon:i.jsx(pl,{className:"w-4 h-4"})}].map(Le=>i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 group",children:[i.jsxs("div",{className:"flex-1 flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-white border border-slate-100 rounded-xl flex items-center justify-center text-slate-400 group-hover:text-indigo-600 group-hover:border-indigo-200 transition-all",children:Le.icon}),i.jsx("div",{children:i.jsxs("p",{className:"text-xs font-black text-slate-700 uppercase tracking-tighter",children:[Le.label," ",Le.required&&i.jsx("span",{className:"text-red-500",children:"*"})]})})]}),i.jsx(is,{className:"w-4 h-4 text-slate-300 hidden sm:block"}),i.jsxs("select",{value:I[Le.key]||"",onChange:ht=>z({...I,[Le.key]:ht.target.value}),className:"flex-1 px-4 py-2.5 bg-white border border-slate-200 rounded-xl text-xs font-bold text-slate-600 outline-none focus:ring-2 focus:ring-indigo-100",children:[i.jsx("option",{value:"",children:"-- Select Source Column --"}),M.map(ht=>i.jsx("option",{value:ht,children:ht},ht))]})]},Le.key))}),i.jsxs("div",{className:"flex gap-4 pt-6",children:[i.jsx("button",{onClick:()=>{O("upload"),T([]),F([]),z({title:"",category:"",dueDate:"",description:"",priority:"",owner:""}),Wr.current&&(Wr.current.value="")},className:"flex-1 py-5 border border-slate-200 text-slate-400 font-black uppercase text-xs tracking-widest rounded-[24px] hover:bg-slate-50 transition-all",children:"Back to Upload"}),i.jsx("button",{onClick:Pt,disabled:Q||!I.title||!I.dueDate,className:"flex-[2] py-5 bg-indigo-600 text-white font-black uppercase text-xs tracking-[0.2em] rounded-[24px] hover:bg-indigo-700 transition-all shadow-2xl flex items-center justify-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed",children:Q?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-5 h-5 animate-spin"})," Importing..."]}):i.jsxs(i.Fragment,{children:[i.jsx(ro,{className:"w-5 h-5"})," Execute Registry Deploy"]})})]})]})}),i.jsx("input",{ref:Wr,type:"file",accept:".csv,.xls,.xlsx",className:"hidden",onChange:Lt})]})}),U&&i.jsx("div",{className:"fixed inset-0 z-[130] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:i.jsxs("div",{className:"bg-white rounded-[32px] w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"p-8 border-b border-slate-100",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center bg-indigo-50 text-indigo-600",children:U.archived?i.jsx(hv,{className:"w-6 h-6"}):i.jsx(Ld,{className:"w-6 h-6"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-black text-slate-900",children:U.archived?"Restore Task?":"Archive Task?"}),i.jsx("p",{className:"text-xs text-slate-400 font-medium mt-1",children:U.archived?"This will restore the task to active status.":"This will move the task to archive. You can restore it later."})]})]}),i.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-200",children:[i.jsx("p",{className:"text-sm font-bold text-slate-900 mb-1",children:U.title}),U.description&&i.jsx("p",{className:"text-xs text-slate-500 line-clamp-2",children:U.description})]})]}),i.jsxs("div",{className:"p-6 flex gap-3",children:[i.jsx("button",{onClick:()=>W(null),disabled:X===U.id,className:"flex-1 py-3 border border-slate-200 text-slate-400 font-black uppercase text-xs tracking-widest rounded-xl hover:bg-slate-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),i.jsx("button",{onClick:()=>ze(U.id),disabled:X===U.id,className:"flex-1 py-3 bg-indigo-600 text-white font-black uppercase text-xs tracking-widest rounded-xl hover:bg-indigo-700 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:X===U.id?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),U.archived?"Restoring...":"Archiving..."]}):U.archived?"Restore Task":"Archive Task"})]})]})}),B&&i.jsx("div",{className:"fixed inset-0 z-[130] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:i.jsxs("div",{className:"bg-white rounded-[32px] w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"p-8 border-b border-slate-100",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center bg-red-50 text-red-600",children:i.jsx(Ir,{className:"w-6 h-6"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-black text-slate-900",children:"Delete Task?"}),i.jsx("p",{className:"text-xs text-slate-400 font-medium mt-1",children:"This action cannot be undone. The task will be permanently removed."})]})]}),i.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-200",children:[i.jsx("p",{className:"text-sm font-bold text-slate-900 mb-1",children:B.title}),B.description&&i.jsx("p",{className:"text-xs text-slate-500 line-clamp-2",children:B.description})]})]}),i.jsxs("div",{className:"p-6 flex gap-3",children:[i.jsx("button",{onClick:()=>K(null),disabled:J===B.id,className:"flex-1 py-3 border border-slate-200 text-slate-400 font-black uppercase text-xs tracking-widest rounded-xl hover:bg-slate-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),i.jsx("button",{onClick:()=>et(B.id),disabled:J===B.id,className:"flex-1 py-3 bg-red-600 text-white font-black uppercase text-xs tracking-widest rounded-xl hover:bg-red-700 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:J===B.id?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):"Delete Task"})]})]})}),oe.length>0&&i.jsx("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-[100] animate-in slide-in-from-bottom-10 duration-300",children:i.jsxs("div",{className:"bg-slate-900 text-white rounded-3xl shadow-2xl px-8 py-4 flex items-center gap-8 border border-white/10 ring-4 ring-indigo-500/10",children:[i.jsxs("span",{className:"text-sm font-black flex items-center gap-3",children:[i.jsx("div",{className:"w-6 h-6 bg-indigo-500 rounded-full flex items-center justify-center text-[10px]",children:oe.length}),"Selected"]}),i.jsx("div",{className:"h-8 w-px bg-white/10"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("button",{onClick:Le=>{Le.stopPropagation(),ye(!0),ft("")},disabled:Be,className:"px-5 py-2 bg-indigo-600 hover:bg-indigo-500 rounded-xl text-xs font-black uppercase tracking-widest transition-all flex items-center gap-2 disabled:opacity-50",children:[i.jsx(uh,{className:"w-3.5 h-3.5"}),"Assign to project"]}),i.jsxs("button",{onClick:Le=>{Le.stopPropagation(),pe(!0)},disabled:_e,className:"px-5 py-2 bg-red-600 hover:bg-red-700 rounded-xl text-xs font-black uppercase tracking-widest transition-all flex items-center gap-2 disabled:opacity-50",children:[_e?i.jsx(Ot,{className:"w-3.5 h-3.5 animate-spin"}):i.jsx(Ir,{className:"w-3.5 h-3.5"}),"Delete"]}),i.jsx("button",{onClick:()=>ue([]),className:"p-2 hover:bg-white/10 rounded-xl text-slate-400 transition-colors",children:i.jsx(mr,{className:"w-5 h-5"})})]})]})}),ae&&oe.length>0&&i.jsx("div",{className:"fixed inset-0 z-[130] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:i.jsxs("div",{className:"bg-white rounded-[32px] w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"p-8 border-b border-slate-100",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center bg-indigo-50 text-indigo-600",children:i.jsx(uh,{className:"w-6 h-6"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-black text-slate-900",children:"Assign to project"}),i.jsxs("p",{className:"text-xs text-slate-400 font-medium mt-1",children:["Change the linked project for ",oe.length," selected task",oe.length>1?"s":"","."]})]})]}),i.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Project"}),i.jsxs("select",{value:rt,onChange:Le=>ft(Le.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100 focus:border-indigo-500 appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%22%3E%3Cpath%20stroke%3D%226b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22m6%208%204%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:16px_16px] bg-[right_12px_center] bg-no-repeat",children:[i.jsx("option",{value:"",children:"Select project..."}),i.jsx("option",{value:"__none__",children:"None (General)"}),l.filter(Le=>!Le.archived).map(Le=>i.jsx("option",{value:Le.id,children:Le.title},Le.id))]})]}),i.jsxs("div",{className:"p-6 flex gap-3",children:[i.jsx("button",{onClick:()=>{ye(!1),ft("")},disabled:Be,className:"flex-1 py-3 border border-slate-200 text-slate-400 font-black uppercase text-xs tracking-widest rounded-xl hover:bg-slate-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),i.jsx("button",{onClick:at,disabled:Be||!rt,className:"flex-1 py-3 bg-indigo-600 text-white font-black uppercase text-xs tracking-widest rounded-xl hover:bg-indigo-700 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:Be?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),"Assigning..."]}):`Assign ${oe.length} task${oe.length>1?"s":""}`})]})]})}),Pe&&oe.length>0&&i.jsx("div",{className:"fixed inset-0 z-[130] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:i.jsxs("div",{className:"bg-white rounded-[32px] w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"p-8 border-b border-slate-100",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center bg-red-50 text-red-600",children:i.jsx(Ir,{className:"w-6 h-6"})}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-xl font-black text-slate-900",children:["Delete ",oe.length," Task",oe.length>1?"s":"","?"]}),i.jsx("p",{className:"text-xs text-slate-400 font-medium mt-1",children:"This action cannot be undone. The tasks will be permanently removed."})]})]}),i.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-200 max-h-48 overflow-y-auto",children:[s.filter(Le=>oe.includes(Le.id)).slice(0,5).map(Le=>i.jsxs("div",{className:"flex items-center gap-3 mb-2 last:mb-0",children:[i.jsx(gl,{className:"w-4 h-4 text-indigo-500"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xs font-bold text-slate-900",children:Le.title}),i.jsx("p",{className:"text-[10px] text-slate-500",children:l.find(ht=>ht.id===Le.projectId)?.title||"General"})]})]},Le.id)),oe.length>5&&i.jsxs("p",{className:"text-xs text-slate-400 font-medium mt-2 text-center",children:["+ ",oe.length-5," more"]})]})]}),i.jsxs("div",{className:"p-6 flex gap-3",children:[i.jsx("button",{onClick:()=>pe(!1),disabled:_e,className:"flex-1 py-3 border border-slate-200 text-slate-400 font-black uppercase text-xs tracking-widest rounded-xl hover:bg-slate-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),i.jsx("button",{onClick:Je,disabled:_e,className:"flex-1 py-3 bg-red-600 text-white font-black uppercase text-xs tracking-widest rounded-xl hover:bg-red-700 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:_e?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):`Delete ${oe.length} Task${oe.length>1?"s":""}`})]})]})}),re&&i.jsxs("div",{className:"fixed inset-0 z-[110] overflow-hidden pointer-events-none",children:[i.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md pointer-events-auto animate-in fade-in duration-300",onClick:gn}),i.jsxs("div",{className:"absolute right-0 inset-y-0 w-full max-w-xl bg-white shadow-2xl pointer-events-auto animate-in slide-in-from-right duration-500 flex flex-col",children:[i.jsxs("div",{className:"p-8 border-b border-slate-100 bg-slate-50/50 relative",children:[i.jsx("button",{onClick:gn,className:"absolute top-6 right-6 p-2 hover:bg-white rounded-full text-slate-400 transition-all shadow-sm z-10",children:i.jsx(mr,{className:"w-5 h-5"})}),i.jsxs("div",{className:"flex items-center gap-5 mb-6",children:[i.jsx("div",{className:"w-16 h-16 rounded-[24px] flex items-center justify-center text-white shadow-xl bg-indigo-500 shadow-indigo-100",children:i.jsx(gl,{className:"w-8 h-8"})}),i.jsxs("div",{className:"flex-1",children:[ce?i.jsx("input",{type:"text",value:De.title,onChange:Le=>je(ht=>({...ht,title:Le.target.value})),className:"w-full px-4 py-2 bg-white border-2 border-indigo-200 rounded-xl text-xl font-black text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100",placeholder:"Task title"}):i.jsx("h2",{className:"text-2xl font-black text-slate-900 tracking-tight leading-tight",children:re.title}),i.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[i.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border ${re.status==="Done"?"bg-emerald-50 text-emerald-600 border-emerald-100":re.status==="In Progress"?"bg-blue-50 text-blue-600 border-blue-100":re.status==="Review"?"bg-amber-50 text-amber-600 border-amber-100":"bg-slate-50 text-slate-600 border-slate-100"}`,children:re.status}),i.jsxs("span",{className:"text-slate-400 text-xs font-bold",children:[" Task ID: #",re.id.substring(0,8)]})]})]})]}),i.jsx("div",{className:"flex items-center gap-2",children:ce?i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>{he(!1),je({title:re.title,description:re.description||"",dueDate:re.dueDate||"",priority:re.priority||"Medium",status:re.status||"Todo",assigneeId:re.assigneeId,projectId:re.projectId||""})},disabled:Oe,className:"px-4 py-2 border border-slate-200 text-slate-400 font-bold text-xs uppercase tracking-widest rounded-xl hover:bg-slate-50 transition-all disabled:opacity-50",children:"Cancel"}),i.jsx("button",{onClick:kr,disabled:Oe||!De.title.trim()||!De.assigneeId,className:"px-4 py-2 bg-indigo-600 text-white font-bold text-xs uppercase tracking-widest rounded-xl hover:bg-indigo-700 transition-all shadow-lg flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:Oe?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(ro,{className:"w-4 h-4"}),"Save Changes"]})})]}):i.jsxs("button",{onClick:()=>he(!0),className:"px-4 py-2 bg-indigo-600 text-white font-bold text-xs uppercase tracking-widest rounded-xl hover:bg-indigo-700 transition-all shadow-lg flex items-center gap-2",children:[i.jsx(xl,{className:"w-4 h-4"}),"Edit Task"]})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-8 space-y-8 custom-scrollbar",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsxs("div",{className:"p-6 bg-slate-50 rounded-[24px] border border-slate-100",children:[i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Assignee"}),ce?i.jsxs("select",{value:De.assigneeId,onChange:Le=>je(ht=>({...ht,assigneeId:Le.target.value})),className:"w-full px-4 py-2 bg-white border-2 border-indigo-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100 mt-2",children:[i.jsx("option",{value:"",children:"Select Assignee"}),u.map(Le=>i.jsx("option",{value:Le.id,children:Le.name},Le.id))]}):i.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[i.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-xl flex items-center justify-center text-indigo-600 font-black text-sm",children:u.find(Le=>Le.id===re.assigneeId)?.name?.charAt(0)||"U"}),i.jsx("p",{className:"text-sm font-bold text-slate-900",children:u.find(Le=>Le.id===re.assigneeId)?.name||"Unassigned"})]})]}),i.jsxs("div",{className:"p-6 bg-slate-50 rounded-[24px] border border-slate-100",children:[i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Linked Project"}),ce?i.jsxs("select",{value:De.projectId,onChange:Le=>je(ht=>({...ht,projectId:Le.target.value})),className:"w-full px-4 py-2 bg-white border-2 border-indigo-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100 mt-2",children:[i.jsx("option",{value:"",children:"None"}),l.filter(Le=>!Le.archived).map(Le=>i.jsx("option",{value:Le.id,children:Le.title},Le.id))]}):i.jsx("p",{className:"text-sm font-bold text-slate-900 mt-2",children:re.projectId?l.find(Le=>Le.id===re.projectId)?.title||"Unknown Project":"None"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[i.jsx(Wa,{className:"w-4 h-4 text-indigo-500"})," Description"]}),ce?i.jsx("textarea",{rows:6,value:De.description,onChange:Le=>je(ht=>({...ht,description:Le.target.value})),className:"w-full px-4 py-3 bg-white border-2 border-indigo-200 rounded-xl text-sm font-medium text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100 resize-none",placeholder:"Add task description..."}):i.jsxs("div",{className:"p-6 bg-slate-950 rounded-[32px] text-indigo-50 relative overflow-hidden shadow-2xl",children:[i.jsx("p",{className:"text-sm leading-relaxed italic opacity-90 z-10 relative",children:re.description||"No description provided."}),i.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-indigo-500/10 blur-[100px] rounded-full translate-x-1/2 -translate-y-1/2"})]})]}),i.jsxs("div",{className:"p-6 bg-slate-50 rounded-[24px] border border-slate-100",children:[i.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1 flex items-center gap-1.5",children:[i.jsx(Da,{className:"w-3.5 h-3.5"})," Task Category"]}),ce?i.jsxs("div",{className:"space-y-2 mt-2",children:[i.jsxs("select",{value:ir?"__new__":De.category||"",onChange:Le=>{const ht=Le.target.value;ht==="__new__"?(vr(!0),je(ct=>({...ct,category:""}))):(vr(!1),je(ct=>({...ct,category:ht})))},className:"w-full px-4 py-2 bg-white border-2 border-indigo-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100 appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%22%3E%3Cpath%20stroke%3D%226b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22m6%208%204%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:16px_16px] bg-[right_12px_center] bg-no-repeat",children:[i.jsx("option",{value:"",children:"None"}),Ct.map(Le=>i.jsx("option",{value:Le,children:Le},Le)),i.jsx("option",{value:"__new__",children:"+ Create new category..."})]}),ir&&i.jsx("input",{type:"text",value:De.category,onChange:Le=>je(ht=>({...ht,category:Le.target.value.trim()})),placeholder:"Enter new category name",className:"w-full px-4 py-2 bg-white border-2 border-indigo-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100"})]}):i.jsx("div",{className:"flex items-center gap-2 mt-2",children:re.category?i.jsxs(i.Fragment,{children:[i.jsx(Da,{className:"w-4 h-4 text-indigo-600"}),i.jsx("p",{className:"text-sm font-bold text-indigo-700",children:re.category})]}):i.jsx("p",{className:"text-sm text-slate-400",children:"No category"})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsxs("div",{className:"p-6 bg-slate-50 rounded-[24px] border border-slate-100",children:[i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Due Date"}),ce?i.jsx("input",{type:"date",value:De.dueDate,onChange:Le=>je(ht=>({...ht,dueDate:Le.target.value})),className:"w-full px-4 py-2 bg-white border-2 border-indigo-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100 mt-2"}):i.jsx("p",{className:"text-sm font-bold text-slate-900 mt-2",children:re.dueDate?ge(re.dueDate):"Ongoing"})]}),i.jsxs("div",{className:"p-6 bg-slate-50 rounded-[24px] border border-slate-100",children:[i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Priority"}),ce?i.jsx("div",{className:"flex gap-2 mt-2",children:["Low","Medium","High"].map(Le=>i.jsx("button",{onClick:()=>je(ht=>({...ht,priority:Le})),className:`flex-1 px-3 py-2 rounded-xl text-xs font-black uppercase transition-all ${De.priority===Le?"bg-indigo-600 text-white shadow-lg":"bg-white text-slate-400 border border-slate-200 hover:border-indigo-300"}`,children:Le},Le))}):i.jsx("div",{className:`inline-block px-3 py-1 rounded-full text-xs font-black uppercase mt-2 ${re.priority==="High"?"bg-red-50 text-red-600":re.priority==="Medium"?"bg-amber-50 text-amber-600":"bg-slate-50 text-slate-600"}`,children:re.priority})]})]}),i.jsxs("div",{className:"p-6 bg-slate-50 rounded-[24px] border border-slate-100",children:[i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Status"}),ce?i.jsxs("select",{value:De.status,onChange:Le=>je(ht=>({...ht,status:Le.target.value})),className:"w-full px-4 py-2 bg-white border-2 border-indigo-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100 mt-2",children:[i.jsx("option",{value:"Todo",children:"Todo"}),i.jsx("option",{value:"In Progress",children:"In Progress"}),i.jsx("option",{value:"Review",children:"Review"}),i.jsx("option",{value:"Done",children:"Done"})]}):i.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[re.status==="Done"?i.jsx(wn,{className:"w-5 h-5 text-emerald-500"}):re.status==="In Progress"?i.jsx(zi,{className:"w-5 h-5 text-blue-500 animate-pulse"}):i.jsx($c,{className:"w-5 h-5 text-slate-400"}),i.jsx("p",{className:"text-sm font-bold text-slate-900 capitalize",children:re.status})]})]}),i.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-200",children:[i.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[i.jsx(ls,{className:"w-4 h-4 text-indigo-500"}),"Notes & Comments",re.notes&&re.notes.length>0&&i.jsx("span",{className:"ml-1 px-2 py-0.5 bg-indigo-100 text-indigo-600 rounded-full text-[10px]",children:re.notes.length})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx("textarea",{ref:Hr,rows:3,value:Nt,onChange:Nn,onBlur:()=>{setTimeout(()=>Kt(!1),200)},className:"w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-sm font-medium text-slate-900 outline-none focus:ring-2 focus:ring-indigo-200 focus:border-indigo-300 resize-none",placeholder:"Add a note or comment... (Use @ to mention users)"}),Pr&&Tr.length>0&&i.jsx("div",{className:"absolute bottom-full mb-2 left-0 w-full max-w-sm bg-white border-2 border-indigo-200 rounded-xl shadow-2xl z-50 max-h-48 overflow-y-auto",children:i.jsxs("div",{className:"p-2",children:[i.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 text-xs font-bold text-slate-400 uppercase tracking-wider",children:[i.jsx(xm,{className:"w-3 h-3"}),"Mention User"]}),Tr.map(Le=>i.jsxs("button",{onClick:()=>va(Le),className:"w-full flex items-center gap-3 px-3 py-2 hover:bg-indigo-50 rounded-lg transition-all text-left",children:[i.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center text-indigo-600 font-bold text-xs",children:Le.name.charAt(0)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-bold text-slate-900 truncate",children:Le.name}),i.jsx("p",{className:"text-xs text-slate-400 truncate",children:Le.email})]})]},Le.id))]})})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("label",{className:"flex-1 cursor-pointer group",children:[i.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 bg-slate-50 border-2 border-dashed border-slate-200 rounded-xl hover:border-indigo-300 hover:bg-indigo-50/30 transition-all",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-indigo-100 flex items-center justify-center text-indigo-600 group-hover:bg-indigo-200 transition-all",children:dt?i.jsx(Qs,{className:"w-4 h-4"}):i.jsx(hc,{className:"w-4 h-4"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xs font-bold text-slate-900",children:dt?it?.name||"Image selected":"Attach Image"}),i.jsx("p",{className:"text-[10px] text-slate-400",children:"PNG, JPG (Max 10MB)"})]})]}),i.jsx("input",{ref:Br,type:"file",accept:"image/*",onChange:an,className:"hidden"})]}),i.jsx("button",{onClick:_n,disabled:vt||!Nt.trim()&&!it,className:"px-6 py-3 bg-indigo-600 text-white font-bold text-xs uppercase tracking-widest rounded-xl hover:bg-indigo-700 transition-all shadow-lg flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed shrink-0",children:vt?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),"Sending..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Mc,{className:"w-4 h-4"}),"Send"]})})]}),dt&&i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:dt,alt:"Note attachment preview",className:"w-full max-h-48 object-contain rounded-lg border-2 border-slate-200"}),i.jsx("button",{onClick:()=>{st(""),Re(null),Br.current&&(Br.current.value="")},className:"absolute top-2 right-2 p-1.5 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-all shadow-lg",children:i.jsx(mr,{className:"w-4 h-4"})})]})]}),i.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto custom-scrollbar",children:re.notes&&re.notes.length>0?[...re.notes].reverse().map(Le=>{const ht=t?.role==="Admin"||Le.userId===t?.id;return i.jsxs("div",{className:"p-4 bg-white border border-slate-200 rounded-xl space-y-2",children:[i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center text-indigo-600 font-black text-xs",children:Le.userName?.charAt(0)||"U"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-bold text-slate-900",children:Le.userName}),i.jsx("p",{className:"text-[10px] text-slate-400",children:new Date(Le.createdAt).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})})]})]}),ht&&i.jsx("button",{onClick:()=>$t(Le.id),disabled:Rt===Le.id,className:"p-2 hover:bg-red-50 rounded-lg transition-colors group disabled:opacity-50",title:"Delete note",children:Rt===Le.id?i.jsx(Ot,{className:"w-4 h-4 text-red-600 animate-spin"}):i.jsx(Ir,{className:"w-4 h-4 text-slate-400 group-hover:text-red-600 transition-colors"})})]}),Le.text&&i.jsx("p",{className:"text-sm text-slate-700 leading-relaxed pl-10",children:pa(Le.text)}),Le.imageUrl&&i.jsx("div",{className:"pl-10",children:i.jsx("img",{src:Le.imageUrl,alt:Le.imageName||"Note attachment",className:"max-w-full max-h-64 object-contain rounded-lg border border-slate-200 cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>{const ct=window.open();ct&&ct.document.write(`<img src="${Le.imageUrl}" style="max-width:100%;height:auto;" />`)}})})]},Le.id)}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(ls,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),i.jsx("p",{className:"text-sm text-slate-400 font-medium",children:"No notes yet"}),i.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Add your first note above"})]})})]}),i.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-200",children:[i.jsxs("button",{onClick:()=>We(!sn),className:"w-full flex items-center justify-between group",children:[i.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2 group-hover:text-indigo-600 transition-colors",children:[i.jsx(Kf,{className:"w-4 h-4 text-indigo-500"}),"Activity Log"]}),i.jsx(Ka,{className:`w-4 h-4 text-slate-400 transition-transform ${sn?"rotate-90":""}`})]}),sn&&i.jsxs("div",{className:"space-y-2 pl-6 border-l-2 border-indigo-100",children:[i.jsxs("div",{className:"flex items-start gap-3 pb-3",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-400 mt-1.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xs font-bold text-slate-900",children:"Task created"}),i.jsx("p",{className:"text-[10px] text-slate-400 mt-0.5",children:re.createdAt?new Date(re.createdAt).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):"Unknown"})]})]}),re.updatedAt&&re.updatedAt!==re.createdAt&&i.jsxs("div",{className:"flex items-start gap-3 pb-3",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-1.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xs font-bold text-slate-900",children:"Task updated"}),i.jsx("p",{className:"text-[10px] text-slate-400 mt-0.5",children:new Date(re.updatedAt).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})})]})]}),re.notes&&re.notes.map((Le,ht)=>i.jsxs("div",{className:"flex items-start gap-3 pb-3",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-400 mt-1.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("p",{className:"text-xs font-bold text-slate-900",children:[Le.userName," added a comment"]}),i.jsx("p",{className:"text-[10px] text-slate-400 mt-0.5",children:new Date(Le.createdAt).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})})]})]},Le.id)),(!re.notes||re.notes.length===0)&&(!re.updatedAt||re.updatedAt===re.createdAt)&&i.jsx("p",{className:"text-xs text-slate-400 italic",children:"No recent activity"})]})]})]})}),i.jsxs("div",{className:"p-8 border-t border-slate-100 bg-white flex gap-4",children:[i.jsx("button",{onClick:()=>{K(re),gn()},className:"px-6 py-4 border border-red-200 bg-white text-red-600 hover:bg-red-50 rounded-[24px] transition-all group shrink-0 active:scale-95",children:i.jsx(Ir,{className:"w-6 h-6 group-hover:scale-110 transition-transform"})}),i.jsxs("button",{onClick:gn,className:"flex-1 py-4 bg-slate-900 text-white font-black uppercase text-xs tracking-[0.2em] rounded-[24px] hover:bg-indigo-700 active:scale-95 transition-all shadow-2xl flex items-center justify-center gap-3",children:[i.jsx(wn,{className:"w-5 h-5"})," Close"]})]})]})]}),ar&&i.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 flex items-center justify-center text-red-600 mx-auto",children:i.jsx(Yn,{className:"w-6 h-6"})}),i.jsxs("div",{className:"text-center",children:[i.jsx("h3",{className:"text-lg font-black text-slate-900 mb-2",children:"Delete Note?"}),i.jsx("p",{className:"text-sm text-slate-600",children:"Are you sure you want to delete this note? This action cannot be undone."})]})]}),i.jsxs("div",{className:"flex gap-3 p-6 bg-slate-50 border-t border-slate-200",children:[i.jsx("button",{onClick:()=>$t(null),disabled:Rt===ar,className:"flex-1 px-4 py-2 bg-white border-2 border-slate-200 text-slate-700 font-bold text-sm rounded-xl hover:bg-slate-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),i.jsx("button",{onClick:Ta,disabled:Rt===ar,className:"flex-1 px-4 py-2 bg-red-600 text-white font-bold text-sm rounded-xl hover:bg-red-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:Rt===ar?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Ir,{className:"w-4 h-4"}),"Delete"]})})]})]})})]})},cme="modulepreload",ume=function(e){return"/"+e},D8={},Ij=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){let c=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");a=c(r.map(u=>{if(u=ume(u),u in D8)return;D8[u]=!0;const d=u.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":cme,d||(m.as="script"),m.crossOrigin="",m.href=u,l&&m.setAttribute("nonce",l),document.head.appendChild(m),d)return new Promise((p,y)=>{m.addEventListener("load",p),m.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})};function sa(e){"@babel/helpers - typeof";return sa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sa(e)}var Ps=Uint8Array,Ro=Uint16Array,W3=Int32Array,Sy=new Ps([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),_y=new Ps([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Dj=new Ps([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),n9=function(e,t){for(var r=new Ro(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new W3(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)a[s]=s-r[n]<<5|n;return{b:r,r:a}},a9=n9(Sy,2),i9=a9.b,Lj=a9.r;i9[28]=258,Lj[258]=28;var s9=n9(_y,0),dme=s9.b,L8=s9.r,Fj=new Ro(32768);for(var ka=0;ka<32768;++ka){var Cd=(ka&43690)>>1|(ka&21845)<<1;Cd=(Cd&52428)>>2|(Cd&13107)<<2,Cd=(Cd&61680)>>4|(Cd&3855)<<4,Fj[ka]=((Cd&65280)>>8|(Cd&255)<<8)>>1}var Wc=(function(e,t,r){for(var n=e.length,a=0,s=new Ro(t);a<n;++a)e[a]&&++s[e[a]-1];var o=new Ro(t);for(a=1;a<t;++a)o[a]=o[a-1]+s[a-1]<<1;var l;if(r){l=new Ro(1<<t);var c=15-t;for(a=0;a<n;++a)if(e[a])for(var u=a<<4|e[a],d=t-e[a],h=o[e[a]-1]++<<d,m=h|(1<<d)-1;h<=m;++h)l[Fj[h]>>c]=u}else for(l=new Ro(n),a=0;a<n;++a)e[a]&&(l[a]=Fj[o[e[a]-1]++]>>15-e[a]);return l}),Zd=new Ps(288);for(var ka=0;ka<144;++ka)Zd[ka]=8;for(var ka=144;ka<256;++ka)Zd[ka]=9;for(var ka=256;ka<280;++ka)Zd[ka]=7;for(var ka=280;ka<288;++ka)Zd[ka]=8;var xx=new Ps(32);for(var ka=0;ka<32;++ka)xx[ka]=5;var fme=Wc(Zd,9,0),hme=Wc(Zd,9,1),pme=Wc(xx,5,0),mme=Wc(xx,5,1),FN=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},Zl=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},MN=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},V3=function(e){return(e+7)/8|0},o9=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Ps(e.subarray(t,r))},xme=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],rc=function(e,t,r){var n=new Error(t||xme[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,rc),!r)throw n;return n},gme=function(e,t,r,n){var a=e.length,s=0;if(!a||t.f&&!t.l)return r||new Ps(0);var o=!r,l=o||t.i!=2,c=t.i;o&&(r=new Ps(a*3));var u=function(Oe){var ee=r.length;if(Oe>ee){var De=new Ps(Math.max(ee*2,Oe));De.set(r),r=De}},d=t.f||0,h=t.p||0,m=t.b||0,p=t.l,y=t.d,v=t.m,g=t.n,b=a*8;do{if(!p){d=Zl(e,h,1);var w=Zl(e,h+1,3);if(h+=3,w)if(w==1)p=hme,y=mme,v=9,g=5;else if(w==2){var P=Zl(e,h,31)+257,A=Zl(e,h+10,15)+4,O=P+Zl(e,h+5,31)+1;h+=14;for(var M=new Ps(O),F=new Ps(19),E=0;E<A;++E)F[Dj[E]]=Zl(e,h+E*3,7);h+=A*3;for(var T=FN(F),I=(1<<T)-1,z=Wc(F,T,1),E=0;E<O;){var Q=z[Zl(e,h,I)];h+=Q&15;var j=Q>>4;if(j<16)M[E++]=j;else{var te=0,J=0;for(j==16?(J=3+Zl(e,h,3),h+=2,te=M[E-1]):j==17?(J=3+Zl(e,h,7),h+=3):j==18&&(J=11+Zl(e,h,127),h+=7);J--;)M[E++]=te}}var ie=M.subarray(0,P),X=M.subarray(P);v=FN(ie),g=FN(X),p=Wc(ie,v,1),y=Wc(X,g,1)}else rc(1);else{var j=V3(h)+4,N=e[j-4]|e[j-3]<<8,S=j+N;if(S>a){c&&rc(0);break}l&&u(m+N),r.set(e.subarray(j,S),m),t.b=m+=N,t.p=h=S*8,t.f=d;continue}if(h>b){c&&rc(0);break}}l&&u(m+131072);for(var Z=(1<<v)-1,q=(1<<g)-1,C=h;;C=h){var te=p[MN(e,h)&Z],U=te>>4;if(h+=te&15,h>b){c&&rc(0);break}if(te||rc(2),U<256)r[m++]=U;else if(U==256){C=h,p=null;break}else{var W=U-254;if(U>264){var E=U-257,B=Sy[E];W=Zl(e,h,(1<<B)-1)+i9[E],h+=B}var K=y[MN(e,h)&q],re=K>>4;K||rc(3),h+=K&15;var X=dme[re];if(re>3){var B=_y[re];X+=MN(e,h)&(1<<B)-1,h+=B}if(h>b){c&&rc(0);break}l&&u(m+131072);var fe=m+W;if(m<X){var ce=s-X,he=Math.min(X,fe);for(ce+m<0&&rc(3);m<he;++m)r[m]=n[ce+m]}for(;m<fe;++m)r[m]=r[m-X]}}t.l=p,t.p=C,t.b=m,t.f=d,p&&(d=1,t.m=v,t.d=y,t.n=g)}while(!d);return m!=r.length&&o?o9(r,0,m):r.subarray(0,m)},wu=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Wp=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},RN=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,s=r.slice();if(!a)return{t:c9,l:0};if(a==1){var o=new Ps(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(S,P){return S.f-P.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,d=1,h=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};d!=a-1;)l=r[r[u].f<r[h].f?u++:h++],c=r[u!=d&&r[u].f<r[h].f?u++:h++],r[d++]={s:-1,f:l.f+c.f,l,r:c};for(var m=s[0].s,n=1;n<a;++n)s[n].s>m&&(m=s[n].s);var p=new Ro(m+1),y=Mj(r[d-1],p,0);if(y>t){var n=0,v=0,g=y-t,b=1<<g;for(s.sort(function(P,A){return p[A.s]-p[P.s]||P.f-A.f});n<a;++n){var w=s[n].s;if(p[w]>t)v+=b-(1<<y-p[w]),p[w]=t;else break}for(v>>=g;v>0;){var j=s[n].s;p[j]<t?v-=1<<t-p[j]++-1:++n}for(;n>=0&&v;--n){var N=s[n].s;p[N]==t&&(--p[N],++v)}y=t}return{t:new Ps(p),l:y}},Mj=function(e,t,r){return e.s==-1?Math.max(Mj(e.l,t,r+1),Mj(e.r,t,r+1)):t[e.s]=r},F8=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Ro(++t),n=0,a=e[0],s=1,o=function(c){r[n++]=c},l=1;l<=t;++l)if(e[l]==a&&l!=t)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=e[l]}return{c:r.subarray(0,n),n:t}},Vp=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},l9=function(e,t,r){var n=r.length,a=V3(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var s=0;s<n;++s)e[a+s+4]=r[s];return(a+4+n)*8},M8=function(e,t,r,n,a,s,o,l,c,u,d){wu(t,d++,r),++a[256];for(var h=RN(a,15),m=h.t,p=h.l,y=RN(s,15),v=y.t,g=y.l,b=F8(m),w=b.c,j=b.n,N=F8(v),S=N.c,P=N.n,A=new Ro(19),O=0;O<w.length;++O)++A[w[O]&31];for(var O=0;O<S.length;++O)++A[S[O]&31];for(var M=RN(A,7),F=M.t,E=M.l,T=19;T>4&&!F[Dj[T-1]];--T);var I=u+5<<3,z=Vp(a,Zd)+Vp(s,xx)+o,Q=Vp(a,m)+Vp(s,v)+o+14+3*T+Vp(A,F)+2*A[16]+3*A[17]+7*A[18];if(c>=0&&I<=z&&I<=Q)return l9(t,d,e.subarray(c,c+u));var te,J,ie,X;if(wu(t,d,1+(Q<z)),d+=2,Q<z){te=Wc(m,p,0),J=m,ie=Wc(v,g,0),X=v;var Z=Wc(F,E,0);wu(t,d,j-257),wu(t,d+5,P-1),wu(t,d+10,T-4),d+=14;for(var O=0;O<T;++O)wu(t,d+3*O,F[Dj[O]]);d+=3*T;for(var q=[w,S],C=0;C<2;++C)for(var U=q[C],O=0;O<U.length;++O){var W=U[O]&31;wu(t,d,Z[W]),d+=F[W],W>15&&(wu(t,d,U[O]>>5&127),d+=U[O]>>12)}}else te=fme,J=Zd,ie=pme,X=xx;for(var O=0;O<l;++O){var B=n[O];if(B>255){var W=B>>18&31;Wp(t,d,te[W+257]),d+=J[W+257],W>7&&(wu(t,d,B>>23&31),d+=Sy[W]);var K=B&31;Wp(t,d,ie[K]),d+=X[K],K>3&&(Wp(t,d,B>>5&8191),d+=_y[K])}else Wp(t,d,te[B]),d+=J[B]}return Wp(t,d,te[256]),d+J[256]},vme=new W3([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),c9=new Ps(0),yme=function(e,t,r,n,a,s){var o=s.z||e.length,l=new Ps(n+o+5*(1+Math.ceil(o/7e3))+a),c=l.subarray(n,l.length-a),u=s.l,d=(s.r||0)&7;if(t){d&&(c[0]=s.r>>3);for(var h=vme[t-1],m=h>>13,p=h&8191,y=(1<<r)-1,v=s.p||new Ro(32768),g=s.h||new Ro(y+1),b=Math.ceil(r/3),w=2*b,j=function(je){return(e[je]^e[je+1]<<b^e[je+2]<<w)&y},N=new W3(25e3),S=new Ro(288),P=new Ro(32),A=0,O=0,M=s.i||0,F=0,E=s.w||0,T=0;M+2<o;++M){var I=j(M),z=M&32767,Q=g[I];if(v[z]=Q,g[I]=z,E<=M){var te=o-M;if((A>7e3||F>24576)&&(te>423||!u)){d=M8(e,c,0,N,S,P,O,F,T,M-T,d),F=A=O=0,T=M;for(var J=0;J<286;++J)S[J]=0;for(var J=0;J<30;++J)P[J]=0}var ie=2,X=0,Z=p,q=z-Q&32767;if(te>2&&I==j(M-q))for(var C=Math.min(m,te)-1,U=Math.min(32767,M),W=Math.min(258,te);q<=U&&--Z&&z!=Q;){if(e[M+ie]==e[M+ie-q]){for(var B=0;B<W&&e[M+B]==e[M+B-q];++B);if(B>ie){if(ie=B,X=q,B>C)break;for(var K=Math.min(q,B-2),re=0,J=0;J<K;++J){var fe=M-q+J&32767,ce=v[fe],he=fe-ce&32767;he>re&&(re=he,Q=fe)}}}z=Q,Q=v[z],q+=z-Q&32767}if(X){N[F++]=268435456|Lj[ie]<<18|L8[X];var Oe=Lj[ie]&31,ee=L8[X]&31;O+=Sy[Oe]+_y[ee],++S[257+Oe],++P[ee],E=M+ie,++A}else N[F++]=e[M],++S[e[M]]}}for(M=Math.max(M,E);M<o;++M)N[F++]=e[M],++S[e[M]];d=M8(e,c,u,N,S,P,O,F,T,M-T,d),u||(s.r=d&7|c[d/8|0]<<3,d-=7,s.h=g,s.p=v,s.i=M,s.w=E)}else{for(var M=s.w||0;M<o+u;M+=65535){var De=M+65535;De>=o&&(c[d/8|0]=u,De=o),d=l9(c,d+1,e.subarray(M,De))}s.i=o}return o9(l,0,n+V3(d)+a)},u9=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,s=r.length|0,o=0;o!=s;){for(var l=Math.min(o+2655,s);o<l;++o)a+=n+=r[o];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},bme=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new Ps(s.length+e.length);o.set(s),o.set(e,s.length),e=o,a.w=s.length}return yme(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},d9=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},wme=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=u9();a.p(t.dictionary),d9(e,2,a.d())}},Nme=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&rc(6,"invalid zlib data"),(e[1]>>5&1)==1&&rc(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function Rj(e,t){t||(t={});var r=u9();r.p(e);var n=bme(e,t,t.dictionary?6:2,4);return wme(n,t),d9(n,n.length-4,r.d()),n}function jme(e,t){return gme(e.subarray(Nme(e),-4),{i:2},t,t)}var kme=typeof TextDecoder<"u"&&new TextDecoder,Sme=0;try{kme.decode(c9,{stream:!0}),Sme=1}catch{}var Xr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function BN(){Xr.console&&typeof Xr.console.log=="function"&&Xr.console.log.apply(Xr.console,arguments)}var fa={log:BN,warn:function(e){Xr.console&&(typeof Xr.console.warn=="function"?Xr.console.warn.apply(Xr.console,arguments):BN.call(null,arguments))},error:function(e){Xr.console&&(typeof Xr.console.error=="function"?Xr.console.error.apply(Xr.console,arguments):BN(e))}};function UN(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Mf(n.response,t,r)},n.onerror=function(){fa.error("could not download file")},n.send()}function R8(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Yg(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var mm,Bj,Mf=Xr.saveAs||((typeof window>"u"?"undefined":sa(window))!=="object"||window!==Xr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Xr.URL||Xr.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?R8(a.href)?UN(e,t,r):Yg(a,a.target="_blank"):Yg(a)):(a.href=n.createObjectURL(e),setTimeout((function(){n.revokeObjectURL(a.href)}),4e4),setTimeout((function(){Yg(a)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(R8(e))UN(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout((function(){Yg(n)}))}else navigator.msSaveOrOpenBlob((function(a,s){return s===void 0?s={autoBom:!1}:sa(s)!=="object"&&(fa.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return UN(e,t,r);var a=e.type==="application/octet-stream",s=/constructor/i.test(Xr.HTMLElement)||Xr.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&s)&&(typeof FileReader>"u"?"undefined":sa(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},l.readAsDataURL(e)}else{var c=Xr.URL||Xr.webkitURL,u=c.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout((function(){c.revokeObjectURL(u)}),4e4)}});function f9(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,s=r[n].process,o=a.exec(e);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}function qN(e,t){var r=e[0],n=e[1],a=e[2],s=e[3];r=bs(r,n,a,s,t[0],7,-680876936),s=bs(s,r,n,a,t[1],12,-389564586),a=bs(a,s,r,n,t[2],17,606105819),n=bs(n,a,s,r,t[3],22,-1044525330),r=bs(r,n,a,s,t[4],7,-176418897),s=bs(s,r,n,a,t[5],12,1200080426),a=bs(a,s,r,n,t[6],17,-1473231341),n=bs(n,a,s,r,t[7],22,-45705983),r=bs(r,n,a,s,t[8],7,1770035416),s=bs(s,r,n,a,t[9],12,-1958414417),a=bs(a,s,r,n,t[10],17,-42063),n=bs(n,a,s,r,t[11],22,-1990404162),r=bs(r,n,a,s,t[12],7,1804603682),s=bs(s,r,n,a,t[13],12,-40341101),a=bs(a,s,r,n,t[14],17,-1502002290),r=ws(r,n=bs(n,a,s,r,t[15],22,1236535329),a,s,t[1],5,-165796510),s=ws(s,r,n,a,t[6],9,-1069501632),a=ws(a,s,r,n,t[11],14,643717713),n=ws(n,a,s,r,t[0],20,-373897302),r=ws(r,n,a,s,t[5],5,-701558691),s=ws(s,r,n,a,t[10],9,38016083),a=ws(a,s,r,n,t[15],14,-660478335),n=ws(n,a,s,r,t[4],20,-405537848),r=ws(r,n,a,s,t[9],5,568446438),s=ws(s,r,n,a,t[14],9,-1019803690),a=ws(a,s,r,n,t[3],14,-187363961),n=ws(n,a,s,r,t[8],20,1163531501),r=ws(r,n,a,s,t[13],5,-1444681467),s=ws(s,r,n,a,t[2],9,-51403784),a=ws(a,s,r,n,t[7],14,1735328473),r=Ns(r,n=ws(n,a,s,r,t[12],20,-1926607734),a,s,t[5],4,-378558),s=Ns(s,r,n,a,t[8],11,-2022574463),a=Ns(a,s,r,n,t[11],16,1839030562),n=Ns(n,a,s,r,t[14],23,-35309556),r=Ns(r,n,a,s,t[1],4,-1530992060),s=Ns(s,r,n,a,t[4],11,1272893353),a=Ns(a,s,r,n,t[7],16,-155497632),n=Ns(n,a,s,r,t[10],23,-1094730640),r=Ns(r,n,a,s,t[13],4,681279174),s=Ns(s,r,n,a,t[0],11,-358537222),a=Ns(a,s,r,n,t[3],16,-722521979),n=Ns(n,a,s,r,t[6],23,76029189),r=Ns(r,n,a,s,t[9],4,-640364487),s=Ns(s,r,n,a,t[12],11,-421815835),a=Ns(a,s,r,n,t[15],16,530742520),r=js(r,n=Ns(n,a,s,r,t[2],23,-995338651),a,s,t[0],6,-198630844),s=js(s,r,n,a,t[7],10,1126891415),a=js(a,s,r,n,t[14],15,-1416354905),n=js(n,a,s,r,t[5],21,-57434055),r=js(r,n,a,s,t[12],6,1700485571),s=js(s,r,n,a,t[3],10,-1894986606),a=js(a,s,r,n,t[10],15,-1051523),n=js(n,a,s,r,t[1],21,-2054922799),r=js(r,n,a,s,t[8],6,1873313359),s=js(s,r,n,a,t[15],10,-30611744),a=js(a,s,r,n,t[6],15,-1560198380),n=js(n,a,s,r,t[13],21,1309151649),r=js(r,n,a,s,t[4],6,-145523070),s=js(s,r,n,a,t[11],10,-1120210379),a=js(a,s,r,n,t[2],15,718787259),n=js(n,a,s,r,t[9],21,-343485551),e[0]=Ud(r,e[0]),e[1]=Ud(n,e[1]),e[2]=Ud(a,e[2]),e[3]=Ud(s,e[3])}function Ay(e,t,r,n,a,s){return t=Ud(Ud(t,e),Ud(n,s)),Ud(t<<a|t>>>32-a,r)}function bs(e,t,r,n,a,s,o){return Ay(t&r|~t&n,e,t,a,s,o)}function ws(e,t,r,n,a,s,o){return Ay(t&n|r&~n,e,t,a,s,o)}function Ns(e,t,r,n,a,s,o){return Ay(t^r^n,e,t,a,s,o)}function js(e,t,r,n,a,s,o){return Ay(r^(t|~n),e,t,a,s,o)}function h9(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)qN(n,_me(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(qN(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,qN(n,a),n}function _me(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}mm=Xr.atob.bind(Xr),Bj=Xr.btoa.bind(Xr);var B8="0123456789abcdef".split("");function Ame(e){for(var t="",r=0;r<4;r++)t+=B8[e>>8*r+4&15]+B8[e>>8*r&15];return t}function Eme(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Uj(e){return h9(e).map(Eme).join("")}var Cme=(function(e){for(var t=0;t<e.length;t++)e[t]=Ame(e[t]);return e.join("")})(h9("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ud(e,t){if(Cme){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}function qj(e,t){var r,n,a,s;if(e!==r){for(var o=(a=e,s=1+(256/e.length>>0),new Array(s+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+o.charCodeAt(c))%256,l[c]=l[u],l[u]=d}r=e,n=l}else l=n;var h=t.length,m=0,p=0,y="";for(c=0;c<h;c++)p=(p+(d=l[m=(m+1)%256]))%256,l[m]=l[p],l[p]=d,o=l[(l[m]+l[p])%256],y+=String.fromCharCode(t.charCodeAt(c)^o);return y}var U8={print:4,modify:8,copy:16,"annot-forms":32};function nh(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach((function(l){if(U8.perm!==void 0)throw new Error("Invalid permission: "+l);a+=U8[l]})),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^a)),this.encryptionKey=Uj(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=qj(this.encryptionKey,this.padding)}function ah(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[n]}return t}function q8(e){if(sa(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var s=Math.random().toString(35);return t[r][s]=[n,!!a],s},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var s in t[r]){var o=t[r][s];try{o[0].apply(e,n)}catch(l){Xr.console&&fa.error("jsPDF PubSub Error",l.message,l)}o[1]&&a.push(s)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function O1(e){if(!(this instanceof O1))return new O1(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function p9(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Bf(e,t,r,n,a){if(!(this instanceof Bf))return new Bf(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,p9.call(this,n,a)}function ch(e,t,r,n,a){if(!(this instanceof ch))return new ch(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,p9.call(this,n,a)}function Kr(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],s=arguments[3],o=[],l=1,c=16,u="S",d=null;sa(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,s=e.compress||e.compressPdf||s,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(s===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,m={},p={internal:{},__private__:{}};p.__private__.PubSub=q8;var y="1.3",v=p.__private__.getPdfVersion=function(){return y};p.__private__.setPdfVersion=function(H){y=H};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return g};var b=p.__private__.getPageFormat=function(H){return g[H]};a=a||"a4";var w={COMPAT:"compat",ADVANCED:"advanced"},j=w.COMPAT;function N(){this.saveGraphicsState(),ue(new At(it,0,0,-it,0,Wo()*it).toString()+" cm"),this.setFontSize(this.getFontSize()/it),u="n",j=w.ADVANCED}function S(){this.restoreGraphicsState(),u="S",j=w.COMPAT}var P=p.__private__.combineFontStyleAndFontWeight=function(H,R){if(H=="bold"&&R=="normal"||H=="bold"&&R==400||H=="normal"&&R=="italic"||H=="bold"&&R=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return R&&(H=R==400||R==="normal"?H==="italic"?"italic":"normal":R!=700&&R!=="bold"||H!=="normal"?(R==700?"bold":R)+""+H:"bold"),H};p.advancedAPI=function(H){var R=j===w.COMPAT;return R&&N.call(this),typeof H!="function"||(H(this),R&&S.call(this)),this},p.compatAPI=function(H){var R=j===w.ADVANCED;return R&&S.call(this),typeof H!="function"||(H(this),R&&N.call(this)),this},p.isAdvancedAPI=function(){return j===w.ADVANCED};var A,O=function(H){if(j!==w.ADVANCED)throw new Error(H+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},M=p.roundToPrecision=p.__private__.roundToPrecision=function(H,R){var de=t||R;if(isNaN(H)||isNaN(de))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return H.toFixed(de).replace(/0+$/,"")};A=p.hpf=p.__private__.hpf=typeof c=="number"?function(H){if(isNaN(H))throw new Error("Invalid argument passed to jsPDF.hpf");return M(H,c)}:c==="smart"?function(H){if(isNaN(H))throw new Error("Invalid argument passed to jsPDF.hpf");return M(H,H>-1&&H<1?16:5)}:function(H){if(isNaN(H))throw new Error("Invalid argument passed to jsPDF.hpf");return M(H,16)};var F=p.f2=p.__private__.f2=function(H){if(isNaN(H))throw new Error("Invalid argument passed to jsPDF.f2");return M(H,2)},E=p.__private__.f3=function(H){if(isNaN(H))throw new Error("Invalid argument passed to jsPDF.f3");return M(H,3)},T=p.scale=p.__private__.scale=function(H){if(isNaN(H))throw new Error("Invalid argument passed to jsPDF.scale");return j===w.COMPAT?H*it:j===w.ADVANCED?H:void 0},I=function(H){return j===w.COMPAT?Wo()-H:j===w.ADVANCED?H:void 0},z=function(H){return T(I(H))};p.__private__.setPrecision=p.setPrecision=function(H){typeof parseInt(H,10)=="number"&&(t=parseInt(H,10))};var Q,te="00000000000000000000000000000000",J=p.__private__.getFileId=function(){return te},ie=p.__private__.setFileId=function(H){return te=H!==void 0&&/^[a-fA-F0-9]{32}$/.test(H)?H.toUpperCase():te.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),d!==null&&(jr=new nh(d.userPermissions,d.userPassword,d.ownerPassword,te)),te};p.setFileId=function(H){return ie(H),this},p.getFileId=function(){return J()};var X=p.__private__.convertDateToPDFDate=function(H){var R=H.getTimezoneOffset(),de=R<0?"+":"-",xe=Math.floor(Math.abs(R/60)),Me=Math.abs(R%60),He=[de,W(xe),"'",W(Me),"'"].join("");return["D:",H.getFullYear(),W(H.getMonth()+1),W(H.getDate()),W(H.getHours()),W(H.getMinutes()),W(H.getSeconds()),He].join("")},Z=p.__private__.convertPDFDateToDate=function(H){var R=parseInt(H.substr(2,4),10),de=parseInt(H.substr(6,2),10)-1,xe=parseInt(H.substr(8,2),10),Me=parseInt(H.substr(10,2),10),He=parseInt(H.substr(12,2),10),mt=parseInt(H.substr(14,2),10);return new Date(R,de,xe,Me,He,mt,0)},q=p.__private__.setCreationDate=function(H){var R;if(H===void 0&&(H=new Date),H instanceof Date)R=X(H);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(H))throw new Error("Invalid argument passed to jsPDF.setCreationDate");R=H}return Q=R},C=p.__private__.getCreationDate=function(H){var R=Q;return H==="jsDate"&&(R=Z(Q)),R};p.setCreationDate=function(H){return q(H),this},p.getCreationDate=function(H){return C(H)};var U,W=p.__private__.padd2=function(H){return("0"+parseInt(H)).slice(-2)},B=p.__private__.padd2Hex=function(H){return("00"+(H=H.toString())).substr(H.length)},K=0,re=[],fe=[],ce=0,he=[],Oe=[],ee=!1,De=fe,je=function(){K=0,ce=0,fe=[],re=[],he=[],ve=Hr(),ke=Hr()};p.__private__.setCustomOutputDestination=function(H){ee=!0,De=H};var oe=function(H){ee||(De=H)};p.__private__.resetCustomOutputDestination=function(){ee=!1,De=fe};var ue=p.__private__.out=function(H){return H=H.toString(),ce+=H.length+1,De.push(H),De},_e=p.__private__.write=function(H){return ue(arguments.length===1?H.toString():Array.prototype.join.call(arguments," "))},Se=p.__private__.getArrayBuffer=function(H){for(var R=H.length,de=new ArrayBuffer(R),xe=new Uint8Array(de);R--;)xe[R]=H.charCodeAt(R);return de},Pe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Pe};var pe=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(H){return pe=j===w.ADVANCED?H/it:H,this};var ae,ye=p.__private__.getFontSize=p.getFontSize=function(){return j===w.COMPAT?pe:pe*it},Be=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(H){return Be=H,this},p.__private__.getR2L=p.getR2L=function(){return Be};var $e,rt=p.__private__.setZoomMode=function(H){var R=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(H))ae=H;else if(isNaN(H)){if(R.indexOf(H)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+H+'" is not recognized.');ae=H}else ae=parseInt(H,10)};p.__private__.getZoomMode=function(){return ae};var ft,Nt=p.__private__.setPageMode=function(H){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(H)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+H+'" is not recognized.');$e=H};p.__private__.getPageMode=function(){return $e};var Ue=p.__private__.setLayoutMode=function(H){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(H)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+H+'" is not recognized.');ft=H};p.__private__.getLayoutMode=function(){return ft},p.__private__.setDisplayMode=p.setDisplayMode=function(H,R,de){return rt(H),Ue(R),Nt(de),this};var dt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(H){if(Object.keys(dt).indexOf(H)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return dt[H]},p.__private__.getDocumentProperties=function(){return dt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(H){for(var R in dt)dt.hasOwnProperty(R)&&H[R]&&(dt[R]=H[R]);return this},p.__private__.setDocumentProperty=function(H,R){if(Object.keys(dt).indexOf(H)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return dt[H]=R};var st,it,Re,vt,nt,Rt={},er={},ar=[],$t={},Pr={},Kt={},Er={},nn=null,fr=0,or=[],Tr=new q8(p),fn=e.hotfixes||[],sn={},We={},Ct=[],At=function H(R,de,xe,Me,He,mt){if(!(this instanceof H))return new H(R,de,xe,Me,He,mt);isNaN(R)&&(R=1),isNaN(de)&&(de=0),isNaN(xe)&&(xe=0),isNaN(Me)&&(Me=1),isNaN(He)&&(He=0),isNaN(mt)&&(mt=0),this._matrix=[R,de,xe,Me,He,mt]};Object.defineProperty(At.prototype,"sx",{get:function(){return this._matrix[0]},set:function(H){this._matrix[0]=H}}),Object.defineProperty(At.prototype,"shy",{get:function(){return this._matrix[1]},set:function(H){this._matrix[1]=H}}),Object.defineProperty(At.prototype,"shx",{get:function(){return this._matrix[2]},set:function(H){this._matrix[2]=H}}),Object.defineProperty(At.prototype,"sy",{get:function(){return this._matrix[3]},set:function(H){this._matrix[3]=H}}),Object.defineProperty(At.prototype,"tx",{get:function(){return this._matrix[4]},set:function(H){this._matrix[4]=H}}),Object.defineProperty(At.prototype,"ty",{get:function(){return this._matrix[5]},set:function(H){this._matrix[5]=H}}),Object.defineProperty(At.prototype,"a",{get:function(){return this._matrix[0]},set:function(H){this._matrix[0]=H}}),Object.defineProperty(At.prototype,"b",{get:function(){return this._matrix[1]},set:function(H){this._matrix[1]=H}}),Object.defineProperty(At.prototype,"c",{get:function(){return this._matrix[2]},set:function(H){this._matrix[2]=H}}),Object.defineProperty(At.prototype,"d",{get:function(){return this._matrix[3]},set:function(H){this._matrix[3]=H}}),Object.defineProperty(At.prototype,"e",{get:function(){return this._matrix[4]},set:function(H){this._matrix[4]=H}}),Object.defineProperty(At.prototype,"f",{get:function(){return this._matrix[5]},set:function(H){this._matrix[5]=H}}),Object.defineProperty(At.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(At.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(At.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(At.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),At.prototype.join=function(H){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(A).join(H)},At.prototype.multiply=function(H){var R=H.sx*this.sx+H.shy*this.shx,de=H.sx*this.shy+H.shy*this.sy,xe=H.shx*this.sx+H.sy*this.shx,Me=H.shx*this.shy+H.sy*this.sy,He=H.tx*this.sx+H.ty*this.shx+this.tx,mt=H.tx*this.shy+H.ty*this.sy+this.ty;return new At(R,de,xe,Me,He,mt)},At.prototype.decompose=function(){var H=this.sx,R=this.shy,de=this.shx,xe=this.sy,Me=this.tx,He=this.ty,mt=Math.sqrt(H*H+R*R),St=(H/=mt)*de+(R/=mt)*xe;de-=H*St,xe-=R*St;var Qt=Math.sqrt(de*de+xe*xe);return St/=Qt,H*(xe/=Qt)<R*(de/=Qt)&&(H=-H,R=-R,St=-St,mt=-mt),{scale:new At(mt,0,0,Qt,0,0),translate:new At(1,0,0,1,Me,He),rotate:new At(H,R,-R,H,0,0),skew:new At(1,0,St,1,0,0)}},At.prototype.toString=function(H){return this.join(" ")},At.prototype.inversed=function(){var H=this.sx,R=this.shy,de=this.shx,xe=this.sy,Me=this.tx,He=this.ty,mt=1/(H*xe-R*de),St=xe*mt,Qt=-R*mt,hr=-de*mt,br=H*mt;return new At(St,Qt,hr,br,-St*Me-hr*He,-Qt*Me-br*He)},At.prototype.applyToPoint=function(H){var R=H.x*this.sx+H.y*this.shx+this.tx,de=H.x*this.shy+H.y*this.sy+this.ty;return new io(R,de)},At.prototype.applyToRectangle=function(H){var R=this.applyToPoint(H),de=this.applyToPoint(new io(H.x+H.w,H.y+H.h));return new Ho(R.x,R.y,de.x-R.x,de.y-R.y)},At.prototype.clone=function(){var H=this.sx,R=this.shy,de=this.shx,xe=this.sy,Me=this.tx,He=this.ty;return new At(H,R,de,xe,Me,He)},p.Matrix=At;var ir=p.matrixMult=function(H,R){return R.multiply(H)},vr=new At(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=vr;var Wr=function(H,R){if(!Pr[H]){var de=(R instanceof Bf?"Sh":"P")+(Object.keys($t).length+1).toString(10);R.id=de,Pr[H]=de,$t[de]=R,Tr.publish("addPattern",R)}};p.ShadingPattern=Bf,p.TilingPattern=ch,p.addShadingPattern=function(H,R){return O("addShadingPattern()"),Wr(H,R),this},p.beginTilingPattern=function(H){O("beginTilingPattern()"),Ju(H.boundingBox[0],H.boundingBox[1],H.boundingBox[2]-H.boundingBox[0],H.boundingBox[3]-H.boundingBox[1],H.matrix)},p.endTilingPattern=function(H,R){O("endTilingPattern()"),R.stream=Oe[U].join(`
`),Wr(H,R),Tr.publish("endTilingPattern",R),Ct.pop().restore()};var Br=p.__private__.newObject=function(){var H=Hr();return ne(H,!0),H},Hr=p.__private__.newObjectDeferred=function(){return K++,re[K]=function(){return ce},K},ne=function(H,R){return R=typeof R=="boolean"&&R,re[H]=ce,R&&ue(H+" 0 obj"),H},ge=p.__private__.newAdditionalObject=function(){var H={objId:Hr(),content:""};return he.push(H),H},ve=Hr(),ke=Hr(),Ie=p.__private__.decodeColorString=function(H){var R=H.split(" ");if(R.length!==2||R[1]!=="g"&&R[1]!=="G")R.length===5&&(R[4]==="k"||R[4]==="K")&&(R=[(1-R[0])*(1-R[3]),(1-R[1])*(1-R[3]),(1-R[2])*(1-R[3]),"r"]);else{var de=parseFloat(R[0]);R=[de,de,de,"r"]}for(var xe="#",Me=0;Me<3;Me++)xe+=("0"+Math.floor(255*parseFloat(R[Me])).toString(16)).slice(-2);return xe},Te=p.__private__.encodeColorString=function(H){var R;typeof H=="string"&&(H={ch1:H});var de=H.ch1,xe=H.ch2,Me=H.ch3,He=H.ch4,mt=H.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof de=="string"&&de.charAt(0)!=="#"){var St=new f9(de);if(St.ok)de=St.toHex();else if(!/^\d*\.?\d*$/.test(de))throw new Error('Invalid color "'+de+'" passed to jsPDF.encodeColorString.')}if(typeof de=="string"&&/^#[0-9A-Fa-f]{3}$/.test(de)&&(de="#"+de[1]+de[1]+de[2]+de[2]+de[3]+de[3]),typeof de=="string"&&/^#[0-9A-Fa-f]{6}$/.test(de)){var Qt=parseInt(de.substr(1),16);de=Qt>>16&255,xe=Qt>>8&255,Me=255&Qt}if(xe===void 0||He===void 0&&de===xe&&xe===Me)typeof de=="string"?R=de+" "+mt[0]:H.precision===2?R=F(de/255)+" "+mt[0]:R=E(de/255)+" "+mt[0];else if(He===void 0||sa(He)==="object"){if(He&&!isNaN(He.a)&&He.a===0)return R=["1.","1.","1.",mt[1]].join(" ");if(typeof de=="string")R=[de,xe,Me,mt[1]].join(" ");else switch(H.precision){case 2:R=[F(de/255),F(xe/255),F(Me/255),mt[1]].join(" ");break;default:case 3:R=[E(de/255),E(xe/255),E(Me/255),mt[1]].join(" ")}}else typeof de=="string"?R=[de,xe,Me,He,mt[2]].join(" "):H.precision===2?R=[F(de),F(xe),F(Me),F(He),mt[2]].join(" "):R=[E(de),E(xe),E(Me),E(He),mt[2]].join(" ");return R},ze=p.__private__.getFilters=function(){return o},et=p.__private__.putStream=function(H){var R=(H=H||{}).data||"",de=H.filters||ze(),xe=H.alreadyAppliedFilters||[],Me=H.addLength1||!1,He=R.length,mt=H.objectId,St=function(Oi){return Oi};if(d!==null&&mt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(St=jr.encryptor(mt,0));var Qt={};de===!0&&(de=["FlateEncode"]);var hr=H.additionalKeyValues||[],br=(Qt=Kr.API.processDataByFilters!==void 0?Kr.API.processDataByFilters(R,de):{data:R,reverseChain:[]}).reverseChain+(Array.isArray(xe)?xe.join(" "):xe.toString());if(Qt.data.length!==0&&(hr.push({key:"Length",value:Qt.data.length}),Me===!0&&hr.push({key:"Length1",value:He})),br.length!=0)if(br.split("/").length-1==1)hr.push({key:"Filter",value:br});else{hr.push({key:"Filter",value:"["+br+"]"});for(var Mr=0;Mr<hr.length;Mr+=1)if(hr[Mr].key==="DecodeParms"){for(var cn=[],Vn=0;Vn<Qt.reverseChain.split("/").length-1;Vn+=1)cn.push("null");cn.push(hr[Mr].value),hr[Mr].value="["+cn.join(" ")+"]"}}ue("<<");for(var ma=0;ma<hr.length;ma++)ue("/"+hr[ma].key+" "+hr[ma].value);ue(">>"),Qt.data.length!==0&&(ue("stream"),ue(St(Qt.data)),ue("endstream"))},Ge=p.__private__.putPage=function(H){var R=H.number,de=H.data,xe=H.objId,Me=H.contentsObjId;ne(xe,!0),ue("<</Type /Page"),ue("/Parent "+H.rootDictionaryObjId+" 0 R"),ue("/Resources "+H.resourceDictionaryObjId+" 0 R"),ue("/MediaBox ["+parseFloat(A(H.mediaBox.bottomLeftX))+" "+parseFloat(A(H.mediaBox.bottomLeftY))+" "+A(H.mediaBox.topRightX)+" "+A(H.mediaBox.topRightY)+"]"),H.cropBox!==null&&ue("/CropBox ["+A(H.cropBox.bottomLeftX)+" "+A(H.cropBox.bottomLeftY)+" "+A(H.cropBox.topRightX)+" "+A(H.cropBox.topRightY)+"]"),H.bleedBox!==null&&ue("/BleedBox ["+A(H.bleedBox.bottomLeftX)+" "+A(H.bleedBox.bottomLeftY)+" "+A(H.bleedBox.topRightX)+" "+A(H.bleedBox.topRightY)+"]"),H.trimBox!==null&&ue("/TrimBox ["+A(H.trimBox.bottomLeftX)+" "+A(H.trimBox.bottomLeftY)+" "+A(H.trimBox.topRightX)+" "+A(H.trimBox.topRightY)+"]"),H.artBox!==null&&ue("/ArtBox ["+A(H.artBox.bottomLeftX)+" "+A(H.artBox.bottomLeftY)+" "+A(H.artBox.topRightX)+" "+A(H.artBox.topRightY)+"]"),typeof H.userUnit=="number"&&H.userUnit!==1&&ue("/UserUnit "+H.userUnit),Tr.publish("putPage",{objId:xe,pageContext:or[R],pageNumber:R,page:de}),ue("/Contents "+Me+" 0 R"),ue(">>"),ue("endobj");var He=de.join(`
`);return j===w.ADVANCED&&(He+=`
Q`),ne(Me,!0),et({data:He,filters:ze(),objectId:Me}),ue("endobj"),xe},Je=p.__private__.putPages=function(){var H,R,de=[];for(H=1;H<=fr;H++)or[H].objId=Hr(),or[H].contentsObjId=Hr();for(H=1;H<=fr;H++)de.push(Ge({number:H,data:Oe[H],objId:or[H].objId,contentsObjId:or[H].contentsObjId,mediaBox:or[H].mediaBox,cropBox:or[H].cropBox,bleedBox:or[H].bleedBox,trimBox:or[H].trimBox,artBox:or[H].artBox,userUnit:or[H].userUnit,rootDictionaryObjId:ve,resourceDictionaryObjId:ke}));ne(ve,!0),ue("<</Type /Pages");var xe="/Kids [";for(R=0;R<fr;R++)xe+=de[R]+" 0 R ";ue(xe+"]"),ue("/Count "+fr),ue(">>"),ue("endobj"),Tr.publish("postPutPages")},at=function(H){Tr.publish("putFont",{font:H,out:ue,newObject:Br,putStream:et}),H.isAlreadyPutted!==!0&&(H.objectNumber=Br(),ue("<<"),ue("/Type /Font"),ue("/BaseFont /"+ah(H.postScriptName)),ue("/Subtype /Type1"),typeof H.encoding=="string"&&ue("/Encoding /"+H.encoding),ue("/FirstChar 32"),ue("/LastChar 255"),ue(">>"),ue("endobj"))},wt=function(){for(var H in Rt)Rt.hasOwnProperty(H)&&(h===!1||h===!0&&m.hasOwnProperty(H))&&at(Rt[H])},Pt=function(H){H.objectNumber=Br();var R=[];R.push({key:"Type",value:"/XObject"}),R.push({key:"Subtype",value:"/Form"}),R.push({key:"BBox",value:"["+[A(H.x),A(H.y),A(H.x+H.width),A(H.y+H.height)].join(" ")+"]"}),R.push({key:"Matrix",value:"["+H.matrix.toString()+"]"});var de=H.pages[1].join(`
`);et({data:de,additionalKeyValues:R,objectId:H.objectNumber}),ue("endobj")},It=function(){for(var H in sn)sn.hasOwnProperty(H)&&Pt(sn[H])},Lt=function(H,R){var de,xe=[],Me=1/(R-1);for(de=0;de<1;de+=Me)xe.push(de);if(xe.push(1),H[0].offset!=0){var He={offset:0,color:H[0].color};H.unshift(He)}if(H[H.length-1].offset!=1){var mt={offset:1,color:H[H.length-1].color};H.push(mt)}for(var St="",Qt=0,hr=0;hr<xe.length;hr++){for(de=xe[hr];de>H[Qt+1].offset;)Qt++;var br=H[Qt].offset,Mr=(de-br)/(H[Qt+1].offset-br),cn=H[Qt].color,Vn=H[Qt+1].color;St+=B(Math.round((1-Mr)*cn[0]+Mr*Vn[0]).toString(16))+B(Math.round((1-Mr)*cn[1]+Mr*Vn[1]).toString(16))+B(Math.round((1-Mr)*cn[2]+Mr*Vn[2]).toString(16))}return St.trim()},Dt=function(H,R){R||(R=21);var de=Br(),xe=Lt(H.colors,R),Me=[];Me.push({key:"FunctionType",value:"0"}),Me.push({key:"Domain",value:"[0.0 1.0]"}),Me.push({key:"Size",value:"["+R+"]"}),Me.push({key:"BitsPerSample",value:"8"}),Me.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Me.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),et({data:xe,additionalKeyValues:Me,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:de}),ue("endobj"),H.objectNumber=Br(),ue("<< /ShadingType "+H.type),ue("/ColorSpace /DeviceRGB");var He="/Coords ["+A(parseFloat(H.coords[0]))+" "+A(parseFloat(H.coords[1]))+" ";H.type===2?He+=A(parseFloat(H.coords[2]))+" "+A(parseFloat(H.coords[3])):He+=A(parseFloat(H.coords[2]))+" "+A(parseFloat(H.coords[3]))+" "+A(parseFloat(H.coords[4]))+" "+A(parseFloat(H.coords[5])),ue(He+="]"),H.matrix&&ue("/Matrix ["+H.matrix.toString()+"]"),ue("/Function "+de+" 0 R"),ue("/Extend [true true]"),ue(">>"),ue("endobj")},kr=function(H,R){var de=Hr(),xe=Br();R.push({resourcesOid:de,objectOid:xe}),H.objectNumber=xe;var Me=[];Me.push({key:"Type",value:"/Pattern"}),Me.push({key:"PatternType",value:"1"}),Me.push({key:"PaintType",value:"1"}),Me.push({key:"TilingType",value:"1"}),Me.push({key:"BBox",value:"["+H.boundingBox.map(A).join(" ")+"]"}),Me.push({key:"XStep",value:A(H.xStep)}),Me.push({key:"YStep",value:A(H.yStep)}),Me.push({key:"Resources",value:de+" 0 R"}),H.matrix&&Me.push({key:"Matrix",value:"["+H.matrix.toString()+"]"}),et({data:H.stream,additionalKeyValues:Me,objectId:H.objectNumber}),ue("endobj")},Dr=function(H){var R;for(R in $t)$t.hasOwnProperty(R)&&($t[R]instanceof Bf?Dt($t[R]):$t[R]instanceof ch&&kr($t[R],H))},an=function(H){for(var R in H.objectNumber=Br(),ue("<<"),H)switch(R){case"opacity":ue("/ca "+F(H[R]));break;case"stroke-opacity":ue("/CA "+F(H[R]))}ue(">>"),ue("endobj")},Nn=function(){var H;for(H in Kt)Kt.hasOwnProperty(H)&&an(Kt[H])},va=function(){for(var H in ue("/XObject <<"),sn)sn.hasOwnProperty(H)&&sn[H].objectNumber>=0&&ue("/"+H+" "+sn[H].objectNumber+" 0 R");Tr.publish("putXobjectDict"),ue(">>")},Ba=function(){jr.oid=Br(),ue("<<"),ue("/Filter /Standard"),ue("/V "+jr.v),ue("/R "+jr.r),ue("/U <"+jr.toHexString(jr.U)+">"),ue("/O <"+jr.toHexString(jr.O)+">"),ue("/P "+jr.P),ue(">>"),ue("endobj")},pa=function(){for(var H in ue("/Font <<"),Rt)Rt.hasOwnProperty(H)&&(h===!1||h===!0&&m.hasOwnProperty(H))&&ue("/"+H+" "+Rt[H].objectNumber+" 0 R");ue(">>")},_n=function(){if(Object.keys($t).length>0){for(var H in ue("/Shading <<"),$t)$t.hasOwnProperty(H)&&$t[H]instanceof Bf&&$t[H].objectNumber>=0&&ue("/"+H+" "+$t[H].objectNumber+" 0 R");Tr.publish("putShadingPatternDict"),ue(">>")}},Ta=function(H){if(Object.keys($t).length>0){for(var R in ue("/Pattern <<"),$t)$t.hasOwnProperty(R)&&$t[R]instanceof p.TilingPattern&&$t[R].objectNumber>=0&&$t[R].objectNumber<H&&ue("/"+R+" "+$t[R].objectNumber+" 0 R");Tr.publish("putTilingPatternDict"),ue(">>")}},gn=function(){if(Object.keys(Kt).length>0){var H;for(H in ue("/ExtGState <<"),Kt)Kt.hasOwnProperty(H)&&Kt[H].objectNumber>=0&&ue("/"+H+" "+Kt[H].objectNumber+" 0 R");Tr.publish("putGStateDict"),ue(">>")}},en=function(H){ne(H.resourcesOid,!0),ue("<<"),ue("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),pa(),_n(),Ta(H.objectOid),gn(),va(),ue(">>"),ue("endobj")},Le=function(){var H=[];wt(),Nn(),It(),Dr(H),Tr.publish("putResources"),H.forEach(en),en({resourcesOid:ke,objectOid:Number.MAX_SAFE_INTEGER}),Tr.publish("postPutResources")},ht=function(){Tr.publish("putAdditionalObjects");for(var H=0;H<he.length;H++){var R=he[H];ne(R.objId,!0),ue(R.content),ue("endobj")}Tr.publish("postPutAdditionalObjects")},ct=function(H){er[H.fontName]=er[H.fontName]||{},er[H.fontName][H.fontStyle]=H.id},zt=function(H,R,de,xe,Me){var He={id:"F"+(Object.keys(Rt).length+1).toString(10),postScriptName:H,fontName:R,fontStyle:de,encoding:xe,isStandardFont:Me||!1,metadata:{}};return Tr.publish("addFont",{font:He,instance:this}),Rt[He.id]=He,ct(He),He.id},Zt=function(H){for(var R=0,de=Pe.length;R<de;R++){var xe=zt.call(this,H[R][0],H[R][1],H[R][2],Pe[R][3],!0);h===!1&&(m[xe]=!0);var Me=H[R][0].split("-");ct({id:xe,fontName:Me[0],fontStyle:Me[1]||""})}Tr.publish("addFonts",{fonts:Rt,dictionary:er})},Gt=function(H){return H.foo=function(){try{return H.apply(this,arguments)}catch(xe){var R=xe.stack||"";~R.indexOf(" at ")&&(R=R.split(" at ")[1]);var de="Error in function "+R.split(`
`)[0].split("<")[0]+": "+xe.message;if(!Xr.console)throw new Error(de);Xr.console.error(de,xe),Xr.alert&&alert(de)}},H.foo.bar=H,H.foo},dr=function(H,R){var de,xe,Me,He,mt,St,Qt,hr,br;if(Me=(R=R||{}).sourceEncoding||"Unicode",mt=R.outputEncoding,(R.autoencode||mt)&&Rt[st].metadata&&Rt[st].metadata[Me]&&Rt[st].metadata[Me].encoding&&(He=Rt[st].metadata[Me].encoding,!mt&&Rt[st].encoding&&(mt=Rt[st].encoding),!mt&&He.codePages&&(mt=He.codePages[0]),typeof mt=="string"&&(mt=He[mt]),mt)){for(Qt=!1,St=[],de=0,xe=H.length;de<xe;de++)(hr=mt[H.charCodeAt(de)])?St.push(String.fromCharCode(hr)):St.push(H[de]),St[de].charCodeAt(0)>>8&&(Qt=!0);H=St.join("")}for(de=H.length;Qt===void 0&&de!==0;)H.charCodeAt(de-1)>>8&&(Qt=!0),de--;if(!Qt)return H;for(St=R.noBOM?[]:[254,255],de=0,xe=H.length;de<xe;de++){if((br=(hr=H.charCodeAt(de))>>8)>>8)throw new Error("Character at position "+de+" of string '"+H+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");St.push(br),St.push(hr-(br<<8))}return String.fromCharCode.apply(void 0,St)},tn=p.__private__.pdfEscape=p.pdfEscape=function(H,R){return dr(H,R).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},hn=p.__private__.beginPage=function(H){Oe[++fr]=[],or[fr]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(H[0]),topRightY:Number(H[1])}},yt(fr),oe(Oe[U])},Wt=function(H,R){var de,xe,Me;switch(r=R||r,typeof H=="string"&&(de=b(H.toLowerCase()),Array.isArray(de)&&(xe=de[0],Me=de[1])),Array.isArray(H)&&(xe=H[0]*it,Me=H[1]*it),isNaN(xe)&&(xe=a[0],Me=a[1]),(xe>14400||Me>14400)&&(fa.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),xe=Math.min(14400,xe),Me=Math.min(14400,Me)),a=[xe,Me],r.substr(0,1)){case"l":Me>xe&&(a=[Me,xe]);break;case"p":xe>Me&&(a=[Me,xe])}hn(a),Sl(qo),ue(Ti),El!==0&&ue(El+" J"),Cl!==0&&ue(Cl+" j"),Tr.publish("addPage",{pageNumber:fr})},Xt=function(H){H>0&&H<=fr&&(Oe.splice(H,1),or.splice(H,1),fr--,U>fr&&(U=fr),this.setPage(U))},yt=function(H){H>0&&H<=fr&&(U=H)},Ur=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Oe.length-1},xt=function(H,R,de){var xe,Me=void 0;return de=de||{},H=H!==void 0?H:Rt[st].fontName,R=R!==void 0?R:Rt[st].fontStyle,xe=H.toLowerCase(),er[xe]!==void 0&&er[xe][R]!==void 0?Me=er[xe][R]:er[H]!==void 0&&er[H][R]!==void 0?Me=er[H][R]:de.disableWarning===!1&&fa.warn("Unable to look up font label for font '"+H+"', '"+R+"'. Refer to getFontList() for available fonts."),Me||de.noFallback||(Me=er.times[R])==null&&(Me=er.times.normal),Me},yr=p.__private__.putInfo=function(){var H=Br(),R=function(xe){return xe};for(var de in d!==null&&(R=jr.encryptor(H,0)),ue("<<"),ue("/Producer ("+tn(R("jsPDF "+Kr.version))+")"),dt)dt.hasOwnProperty(de)&&dt[de]&&ue("/"+de.substr(0,1).toUpperCase()+de.substr(1)+" ("+tn(R(dt[de]))+")");ue("/CreationDate ("+tn(R(Q))+")"),ue(">>"),ue("endobj")},An=p.__private__.putCatalog=function(H){var R=(H=H||{}).rootDictionaryObjId||ve;switch(Br(),ue("<<"),ue("/Type /Catalog"),ue("/Pages "+R+" 0 R"),ae||(ae="fullwidth"),ae){case"fullwidth":ue("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ue("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ue("/OpenAction [3 0 R /Fit]");break;case"original":ue("/OpenAction [3 0 R /XYZ null null 1]");break;default:var de=""+ae;de.substr(de.length-1)==="%"&&(ae=parseInt(ae)/100),typeof ae=="number"&&ue("/OpenAction [3 0 R /XYZ null null "+F(ae)+"]")}switch(ft||(ft="continuous"),ft){case"continuous":ue("/PageLayout /OneColumn");break;case"single":ue("/PageLayout /SinglePage");break;case"two":case"twoleft":ue("/PageLayout /TwoColumnLeft");break;case"tworight":ue("/PageLayout /TwoColumnRight")}$e&&ue("/PageMode /"+$e),Tr.publish("putCatalog"),ue(">>"),ue("endobj")},On=p.__private__.putTrailer=function(){ue("trailer"),ue("<<"),ue("/Size "+(K+1)),ue("/Root "+K+" 0 R"),ue("/Info "+(K-1)+" 0 R"),d!==null&&ue("/Encrypt "+jr.oid+" 0 R"),ue("/ID [ <"+te+"> <"+te+"> ]"),ue(">>")},Jt=p.__private__.putHeader=function(){ue("%PDF-"+y),ue("%")},Bn=p.__private__.putXRef=function(){var H="0000000000";ue("xref"),ue("0 "+(K+1)),ue("0000000000 65535 f ");for(var R=1;R<=K;R++)typeof re[R]=="function"?ue((H+re[R]()).slice(-10)+" 00000 n "):re[R]!==void 0?ue((H+re[R]).slice(-10)+" 00000 n "):ue("0000000000 00000 n ")},En=p.__private__.buildDocument=function(){je(),oe(fe),Tr.publish("buildDocument"),Jt(),Je(),ht(),Le(),d!==null&&Ba(),yr(),An();var H=ce;return Bn(),On(),ue("startxref"),ue(""+H),ue("%%EOF"),oe(Oe[U]),fe.join(`
`)},Pn=p.__private__.getBlob=function(H){return new Blob([Se(H)],{type:"application/pdf"})},ua=p.output=p.__private__.output=Gt((function(H,R){switch(typeof(R=R||{})=="string"?R={filename:R}:R.filename=R.filename||"generated.pdf",H){case void 0:return En();case"save":p.save(R.filename);break;case"arraybuffer":return Se(En());case"blob":return Pn(En());case"bloburi":case"bloburl":if(Xr.URL!==void 0&&typeof Xr.URL.createObjectURL=="function")return Xr.URL&&Xr.URL.createObjectURL(Pn(En()))||void 0;fa.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var de="",xe=En();try{de=Bj(xe)}catch{de=Bj(unescape(encodeURIComponent(xe)))}return"data:application/pdf;filename="+R.filename+";base64,"+de;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Xr)==="[object Window]"){var Me="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",He=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';R.pdfObjectUrl&&(Me=R.pdfObjectUrl,He="");var mt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Me+'"'+He+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(R)+");<\/script></body></html>",St=Xr.open();return St!==null&&St.document.write(mt),St}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Xr)==="[object Window]"){var Qt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(R.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+R.filename+'" width="500px" height="400px" /></body></html>',hr=Xr.open();if(hr!==null){hr.document.write(Qt);var br=this;hr.document.documentElement.querySelector("#pdfViewer").onload=function(){hr.document.title=R.filename,hr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(br.output("bloburl"))}}return hr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Xr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Mr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",R)+'"></iframe></body></html>',cn=Xr.open();if(cn!==null&&(cn.document.write(Mr),cn.document.title=R.filename),cn||typeof safari>"u")return cn;break;case"datauri":case"dataurl":return Xr.document.location.href=this.output("datauristring",R);default:return null}})),Sr=function(H){return Array.isArray(fn)===!0&&fn.indexOf(H)>-1};switch(n){case"pt":it=1;break;case"mm":it=72/25.4;break;case"cm":it=72/2.54;break;case"in":it=72;break;case"px":it=Sr("px_scaling")==1?.75:96/72;break;case"pc":case"em":it=12;break;case"ex":it=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);it=n}var jr=null;q(),ie();var Gr=function(H){return d!==null?jr.encryptor(H,0):function(R){return R}},pn=p.__private__.getPageInfo=p.getPageInfo=function(H){if(isNaN(H)||H%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:or[H].objId,pageNumber:H,pageContext:or[H]}},Ee=p.__private__.getPageInfoByObjId=function(H){if(isNaN(H)||H%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var R in or)if(or[R].objId===H)break;return pn(R)},lr=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:or[U].objId,pageNumber:U,pageContext:or[U]}};p.addPage=function(){return Wt.apply(this,arguments),this},p.setPage=function(){return yt.apply(this,arguments),oe.call(this,Oe[U]),this},p.insertPage=function(H){return this.addPage(),this.movePage(U,H),this},p.movePage=function(H,R){var de,xe;if(H>R){de=Oe[H],xe=or[H];for(var Me=H;Me>R;Me--)Oe[Me]=Oe[Me-1],or[Me]=or[Me-1];Oe[R]=de,or[R]=xe,this.setPage(R)}else if(H<R){de=Oe[H],xe=or[H];for(var He=H;He<R;He++)Oe[He]=Oe[He+1],or[He]=or[He+1];Oe[R]=de,or[R]=xe,this.setPage(R)}return this},p.deletePage=function(){return Xt.apply(this,arguments),this},p.__private__.text=p.text=function(H,R,de,xe,Me){var He,mt,St,Qt,hr,br,Mr,cn,Vn,ma=(xe=xe||{}).scope||this;if(typeof H=="number"&&typeof R=="number"&&(typeof de=="string"||Array.isArray(de))){var Oi=de;de=R,R=H,H=Oi}if(arguments[3]instanceof At?(O("The transform parameter of text() with a Matrix value"),Vn=Me):(St=arguments[4],Qt=arguments[5],sa(Mr=arguments[3])==="object"&&Mr!==null||(typeof St=="string"&&(Qt=St,St=null),typeof Mr=="string"&&(Qt=Mr,Mr=null),typeof Mr=="number"&&(St=Mr,Mr=null),xe={flags:Mr,angle:St,align:Qt})),isNaN(R)||isNaN(de)||H==null)throw new Error("Invalid arguments passed to jsPDF.text");if(H.length===0)return ma;var ci="",So=!1,Bs=typeof xe.lineHeightFactor=="number"?xe.lineHeightFactor:kl,so=ma.internal.scaleFactor;function wc(ta){return ta=ta.split("	").join(Array(xe.TabLen||9).join(" ")),tn(ta,Mr)}function hf(ta){for(var Gn,Ea=ta.concat(),Ua=[],Ko=Ea.length;Ko--;)typeof(Gn=Ea.shift())=="string"?Ua.push(Gn):Array.isArray(ta)&&(Gn.length===1||Gn[1]===void 0&&Gn[2]===void 0)?Ua.push(Gn[0]):Ua.push([Gn[0],Gn[1],Gn[2]]);return Ua}function Qu(ta,Gn){var Ea;if(typeof ta=="string")Ea=Gn(ta)[0];else if(Array.isArray(ta)){for(var Ua,Ko,ld=ta.concat(),ou=[],xf=ld.length;xf--;)typeof(Ua=ld.shift())=="string"?ou.push(Gn(Ua)[0]):Array.isArray(Ua)&&typeof Ua[0]=="string"&&(Ko=Gn(Ua[0],Ua[1],Ua[2]),ou.push([Ko[0],Ko[1],Ko[2]]));Ea=ou}return Ea}var eu=!1,Zu=!0;if(typeof H=="string")eu=!0;else if(Array.isArray(H)){var ed=H.concat();mt=[];for(var tu,Aa=ed.length;Aa--;)(typeof(tu=ed.shift())!="string"||Array.isArray(tu)&&typeof tu[0]!="string")&&(Zu=!1);eu=Zu}if(eu===!1)throw new Error('Type of text must be string or Array. "'+H+'" is not recognized.');typeof H=="string"&&(H=H.match(/[\r?\n]/)?H.split(/\r\n|\r|\n/g):[H]);var td=pe/ma.internal.scaleFactor,rd=td*(Bs-1);switch(xe.baseline){case"bottom":de-=rd;break;case"top":de+=td-rd;break;case"hanging":de+=td-2*rd;break;case"middle":de+=td/2-rd}if((br=xe.maxWidth||0)>0&&(typeof H=="string"?H=ma.splitTextToSize(H,br):Object.prototype.toString.call(H)==="[object Array]"&&(H=H.reduce((function(ta,Gn){return ta.concat(ma.splitTextToSize(Gn,br))}),[]))),He={text:H,x:R,y:de,options:xe,mutex:{pdfEscape:tn,activeFontKey:st,fonts:Rt,activeFontSize:pe}},Tr.publish("preProcessText",He),H=He.text,St=(xe=He.options).angle,!(Vn instanceof At)&&St&&typeof St=="number"){St*=Math.PI/180,xe.rotationDirection===0&&(St=-St),j===w.ADVANCED&&(St=-St);var nd=Math.cos(St),ad=Math.sin(St);Vn=new At(nd,ad,-ad,nd,0,0)}else St&&St instanceof At&&(Vn=St);j!==w.ADVANCED||Vn||(Vn=vr),(hr=xe.charSpace||zo)!==void 0&&(ci+=A(T(hr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(cn=xe.horizontalScale)!==void 0&&(ci+=A(100*cn)+` Tz
`),xe.lang;var Xi=-1,ru=xe.renderingMode!==void 0?xe.renderingMode:xe.stroke,Pl=ma.internal.getCurrentPageInfo().pageContext;switch(ru){case 0:case!1:case"fill":Xi=0;break;case 1:case!0:case"stroke":Xi=1;break;case 2:case"fillThenStroke":Xi=2;break;case 3:case"invisible":Xi=3;break;case 4:case"fillAndAddForClipping":Xi=4;break;case 5:case"strokeAndAddPathForClipping":Xi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Xi=6;break;case 7:case"addToPathForClipping":Xi=7}var A0=Pl.usedRenderingMode!==void 0?Pl.usedRenderingMode:-1;Xi!==-1?ci+=Xi+` Tr
`:A0!==-1&&(ci+=`0 Tr
`),Xi!==-1&&(Pl.usedRenderingMode=Xi),Qt=xe.align||"left";var Yi,id=pe*Bs,pf=ma.internal.pageSize.getWidth(),sd=Rt[st];hr=xe.charSpace||zo,br=xe.maxWidth||0,Mr=Object.assign({autoencode:!0,noBOM:!0},xe.flags);var Vo=[],Nc=function(ta){return ma.getStringUnitWidth(ta,{font:sd,charSpace:hr,fontSize:pe,doKerning:!1})*pe/so};if(Object.prototype.toString.call(H)==="[object Array]"){var Ji;mt=hf(H),Qt!=="left"&&(Yi=mt.map(Nc));var Pi,jc=0;if(Qt==="right"){R-=Yi[0],H=[],Aa=mt.length;for(var Il=0;Il<Aa;Il++)Il===0?(Pi=Ci(R),Ji=Gi(de)):(Pi=T(jc-Yi[Il]),Ji=-id),H.push([mt[Il],Pi,Ji]),jc=Yi[Il]}else if(Qt==="center"){R-=Yi[0]/2,H=[],Aa=mt.length;for(var Dl=0;Dl<Aa;Dl++)Dl===0?(Pi=Ci(R),Ji=Gi(de)):(Pi=T((jc-Yi[Dl])/2),Ji=-id),H.push([mt[Dl],Pi,Ji]),jc=Yi[Dl]}else if(Qt==="left"){H=[],Aa=mt.length;for(var od=0;od<Aa;od++)H.push(mt[od])}else if(Qt==="justify"&&sd.encoding==="Identity-H"){H=[],Aa=mt.length,br=br!==0?br:pf;for(var Ll=0,Ln=0;Ln<Aa;Ln++)if(Ji=Ln===0?Gi(de):-id,Pi=Ln===0?Ci(R):Ll,Ln<Aa-1){var Fl=T((br-Yi[Ln])/(mt[Ln].split(" ").length-1)),Ii=mt[Ln].split(" ");H.push([Ii[0]+" ",Pi,Ji]),Ll=0;for(var Us=1;Us<Ii.length;Us++){var nu=(Nc(Ii[Us-1]+" "+Ii[Us])-Nc(Ii[Us]))*so+Fl;Us==Ii.length-1?H.push([Ii[Us],nu,0]):H.push([Ii[Us]+" ",nu,0]),Ll-=nu}}else H.push([mt[Ln],Pi,Ji]);H.push(["",Ll,0])}else{if(Qt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(H=[],Aa=mt.length,br=br!==0?br:pf,Ln=0;Ln<Aa;Ln++)Ji=Ln===0?Gi(de):-id,Pi=Ln===0?Ci(R):0,Ln<Aa-1?Vo.push(A(T((br-Yi[Ln])/(mt[Ln].split(" ").length-1)))):Vo.push(0),H.push([mt[Ln],Pi,Ji])}}var mf=typeof xe.R2L=="boolean"?xe.R2L:Be;mf===!0&&(H=Qu(H,(function(ta,Gn,Ea){return[ta.split("").reverse().join(""),Gn,Ea]}))),He={text:H,x:R,y:de,options:xe,mutex:{pdfEscape:tn,activeFontKey:st,fonts:Rt,activeFontSize:pe}},Tr.publish("postProcessText",He),H=He.text,So=He.mutex.isHex||!1;var au=Rt[st].encoding;au!=="WinAnsiEncoding"&&au!=="StandardEncoding"||(H=Qu(H,(function(ta,Gn,Ea){return[wc(ta),Gn,Ea]}))),mt=hf(H),H=[];for(var iu,su,qs,Ml=0,Go=1,Rl=Array.isArray(mt[0])?Go:Ml,Bl="",kc=function(ta,Gn,Ea){var Ua="";return Ea instanceof At?(Ea=typeof xe.angle=="number"?ir(Ea,new At(1,0,0,1,ta,Gn)):ir(new At(1,0,0,1,ta,Gn),Ea),j===w.ADVANCED&&(Ea=ir(new At(1,0,0,-1,0,0),Ea)),Ua=Ea.join(" ")+` Tm
`):Ua=A(ta)+" "+A(Gn)+` Td
`,Ua},vi=0;vi<mt.length;vi++){switch(Bl="",Rl){case Go:qs=(So?"<":"(")+mt[vi][0]+(So?">":")"),iu=parseFloat(mt[vi][1]),su=parseFloat(mt[vi][2]);break;case Ml:qs=(So?"<":"(")+mt[vi]+(So?">":")"),iu=Ci(R),su=Gi(de)}Vo!==void 0&&Vo[vi]!==void 0&&(Bl=Vo[vi]+` Tw
`),vi===0?H.push(Bl+kc(iu,su,Vn)+qs):Rl===Ml?H.push(Bl+qs):Rl===Go&&H.push(Bl+kc(iu,su,Vn)+qs)}H=Rl===Ml?H.join(` Tj
T* `):H.join(` Tj
`),H+=` Tj
`;var ds=`BT
/`;return ds+=st+" "+pe+` Tf
`,ds+=A(pe*Bs)+` TL
`,ds+=Oa+`
`,ds+=ci,ds+=H,ue(ds+="ET"),m[st]=!0,ma};var cr=p.__private__.clip=p.clip=function(H){return ue(H==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return cr("evenodd")},p.__private__.discardPath=p.discardPath=function(){return ue("n"),this};var gr=p.__private__.isValidStyle=function(H){var R=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(H)!==-1&&(R=!0),R};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(H){return gr(H)&&(u=H),this};var Fr=p.__private__.getStyle=p.getStyle=function(H){var R=u;switch(H){case"D":case"S":R="S";break;case"F":R="f";break;case"FD":case"DF":R="B";break;case"f":case"f*":case"B":case"B*":R=H}return R},qr=p.close=function(){return ue("h"),this};p.stroke=function(){return ue("S"),this},p.fill=function(H){return In("f",H),this},p.fillEvenOdd=function(H){return In("f*",H),this},p.fillStroke=function(H){return In("B",H),this},p.fillStrokeEvenOdd=function(H){return In("B*",H),this};var In=function(H,R){sa(R)==="object"?Zc(R,H):ue(H)},Dn=function(H){H===null||j===w.ADVANCED&&H===void 0||(H=Fr(H),ue(H))};function Vi(H,R,de,xe,Me){var He=new ch(R||this.boundingBox,de||this.xStep,xe||this.yStep,this.gState,Me||this.matrix);He.stream=this.stream;var mt=H+"$$"+this.cloneIndex+++"$$";return Wr(mt,He),He}var Zc=function(H,R){var de=Pr[H.key],xe=$t[de];if(xe instanceof Bf)ue("q"),ue(df(R)),xe.gState&&p.setGState(xe.gState),ue(H.matrix.toString()+" cm"),ue("/"+de+" sh"),ue("Q");else if(xe instanceof ch){var Me=new At(1,0,0,-1,0,Wo());H.matrix&&(Me=Me.multiply(H.matrix||vr),de=Vi.call(xe,H.key,H.boundingBox,H.xStep,H.yStep,Me).id),ue("q"),ue("/Pattern cs"),ue("/"+de+" scn"),xe.gState&&p.setGState(xe.gState),ue(R),ue("Q")}},df=function(H){switch(H){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Fs=p.moveTo=function(H,R){return ue(A(T(H))+" "+A(z(R))+" m"),this},us=p.lineTo=function(H,R){return ue(A(T(H))+" "+A(z(R))+" l"),this},gi=p.curveTo=function(H,R,de,xe,Me,He){return ue([A(T(H)),A(z(R)),A(T(de)),A(z(xe)),A(T(Me)),A(z(He)),"c"].join(" ")),this};p.__private__.line=p.line=function(H,R,de,xe,Me){if(isNaN(H)||isNaN(R)||isNaN(de)||isNaN(xe)||!gr(Me))throw new Error("Invalid arguments passed to jsPDF.line");return j===w.COMPAT?this.lines([[de-H,xe-R]],H,R,[1,1],Me||"S"):this.lines([[de-H,xe-R]],H,R,[1,1]).stroke()},p.__private__.lines=p.lines=function(H,R,de,xe,Me,He){var mt,St,Qt,hr,br,Mr,cn,Vn,ma,Oi,ci,So;if(typeof H=="number"&&(So=de,de=R,R=H,H=So),xe=xe||[1,1],He=He||!1,isNaN(R)||isNaN(de)||!Array.isArray(H)||!Array.isArray(xe)||!gr(Me)||typeof He!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Fs(R,de),mt=xe[0],St=xe[1],hr=H.length,Oi=R,ci=de,Qt=0;Qt<hr;Qt++)(br=H[Qt]).length===2?(Oi=br[0]*mt+Oi,ci=br[1]*St+ci,us(Oi,ci)):(Mr=br[0]*mt+Oi,cn=br[1]*St+ci,Vn=br[2]*mt+Oi,ma=br[3]*St+ci,Oi=br[4]*mt+Oi,ci=br[5]*St+ci,gi(Mr,cn,Vn,ma,Oi,ci));return He&&qr(),Dn(Me),this},p.path=function(H){for(var R=0;R<H.length;R++){var de=H[R],xe=de.c;switch(de.op){case"m":Fs(xe[0],xe[1]);break;case"l":us(xe[0],xe[1]);break;case"c":gi.apply(this,xe);break;case"h":qr()}}return this},p.__private__.rect=p.rect=function(H,R,de,xe,Me){if(isNaN(H)||isNaN(R)||isNaN(de)||isNaN(xe)||!gr(Me))throw new Error("Invalid arguments passed to jsPDF.rect");return j===w.COMPAT&&(xe=-xe),ue([A(T(H)),A(z(R)),A(T(de)),A(T(xe)),"re"].join(" ")),Dn(Me),this},p.__private__.triangle=p.triangle=function(H,R,de,xe,Me,He,mt){if(isNaN(H)||isNaN(R)||isNaN(de)||isNaN(xe)||isNaN(Me)||isNaN(He)||!gr(mt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[de-H,xe-R],[Me-de,He-xe],[H-Me,R-He]],H,R,[1,1],mt,!0),this},p.__private__.roundedRect=p.roundedRect=function(H,R,de,xe,Me,He,mt){if(isNaN(H)||isNaN(R)||isNaN(de)||isNaN(xe)||isNaN(Me)||isNaN(He)||!gr(mt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var St=4/3*(Math.SQRT2-1);return Me=Math.min(Me,.5*de),He=Math.min(He,.5*xe),this.lines([[de-2*Me,0],[Me*St,0,Me,He-He*St,Me,He],[0,xe-2*He],[0,He*St,-Me*St,He,-Me,He],[2*Me-de,0],[-Me*St,0,-Me,-He*St,-Me,-He],[0,2*He-xe],[0,-He*St,Me*St,-He,Me,-He]],H+Me,R,[1,1],mt,!0),this},p.__private__.ellipse=p.ellipse=function(H,R,de,xe,Me){if(isNaN(H)||isNaN(R)||isNaN(de)||isNaN(xe)||!gr(Me))throw new Error("Invalid arguments passed to jsPDF.ellipse");var He=4/3*(Math.SQRT2-1)*de,mt=4/3*(Math.SQRT2-1)*xe;return Fs(H+de,R),gi(H+de,R-mt,H+He,R-xe,H,R-xe),gi(H-He,R-xe,H-de,R-mt,H-de,R),gi(H-de,R+mt,H-He,R+xe,H,R+xe),gi(H+He,R+xe,H+de,R+mt,H+de,R),Dn(Me),this},p.__private__.circle=p.circle=function(H,R,de,xe){if(isNaN(H)||isNaN(R)||isNaN(de)||!gr(xe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(H,R,de,de,xe)},p.setFont=function(H,R,de){return de&&(R=P(R,de)),st=xt(H,R,{disableWarning:!1}),this};var gc=p.__private__.getFont=p.getFont=function(){return Rt[xt.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var H,R,de={};for(H in er)if(er.hasOwnProperty(H))for(R in de[H]=[],er[H])er[H].hasOwnProperty(R)&&de[H].push(R);return de},p.addFont=function(H,R,de,xe,Me){var He=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&He.indexOf(arguments[3])!==-1?Me=arguments[3]:arguments[3]&&He.indexOf(arguments[3])==-1&&(de=P(de,xe)),Me=Me||"Identity-H",zt.call(this,H,R,de,Me)};var kl,qo=e.lineWidth||.200025,no=p.__private__.getLineWidth=p.getLineWidth=function(){return qo},Sl=p.__private__.setLineWidth=p.setLineWidth=function(H){return qo=H,ue(A(T(H))+" w"),this};p.__private__.setLineDash=Kr.API.setLineDash=Kr.API.setLineDashPattern=function(H,R){if(H=H||[],R=R||0,isNaN(R)||!Array.isArray(H))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return H=H.map((function(de){return A(T(de))})).join(" "),R=A(T(R)),ue("["+H+"] "+R+" d"),this};var _l=p.__private__.getLineHeight=p.getLineHeight=function(){return pe*kl};p.__private__.getLineHeight=p.getLineHeight=function(){return pe*kl};var Al=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(H){return typeof(H=H||1.15)=="number"&&(kl=H),this},Ms=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return kl};Al(e.lineHeight);var Ci=p.__private__.getHorizontalCoordinate=function(H){return T(H)},Gi=p.__private__.getVerticalCoordinate=function(H){return j===w.ADVANCED?H:or[U].mediaBox.topRightY-or[U].mediaBox.bottomLeftY-T(H)},ao=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(H){return A(Ci(H))},Ja=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(H){return A(Gi(H))},Ti=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Ie(Ti)},p.__private__.setStrokeColor=p.setDrawColor=function(H,R,de,xe){return Ti=Te({ch1:H,ch2:R,ch3:de,ch4:xe,pdfColorType:"draw",precision:2}),ue(Ti),this};var vc=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Ie(vc)},p.__private__.setFillColor=p.setFillColor=function(H,R,de,xe){return vc=Te({ch1:H,ch2:R,ch3:de,ch4:xe,pdfColorType:"fill",precision:2}),ue(vc),this};var Oa=e.textColor||"0 g",$o=p.__private__.getTextColor=p.getTextColor=function(){return Ie(Oa)};p.__private__.setTextColor=p.setTextColor=function(H,R,de,xe){return Oa=Te({ch1:H,ch2:R,ch3:de,ch4:xe,pdfColorType:"text",precision:3}),this};var zo=e.charSpace,ko=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(zo||0)};p.__private__.setCharSpace=p.setCharSpace=function(H){if(isNaN(H))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return zo=H,this};var El=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(H){var R=p.CapJoinStyles[H];if(R===void 0)throw new Error("Line cap style of '"+H+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return El=R,ue(R+" J"),this};var Cl=0;p.__private__.setLineJoin=p.setLineJoin=function(H){var R=p.CapJoinStyles[H];if(R===void 0)throw new Error("Line join style of '"+H+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Cl=R,ue(R+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(H){if(H=H||0,isNaN(H))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ue(A(T(H))+" M"),this},p.GState=O1,p.setGState=function(H){(H=typeof H=="string"?Kt[Er[H]]:yc(null,H)).equals(nn)||(ue("/"+H.id+" gs"),nn=H)};var yc=function(H,R){if(!H||!Er[H]){var de=!1;for(var xe in Kt)if(Kt.hasOwnProperty(xe)&&Kt[xe].equals(R)){de=!0;break}if(de)R=Kt[xe];else{var Me="GS"+(Object.keys(Kt).length+1).toString(10);Kt[Me]=R,R.id=Me}return H&&(Er[H]=R.id),Tr.publish("addGState",R),R}};p.addGState=function(H,R){return yc(H,R),this},p.saveGraphicsState=function(){return ue("q"),ar.push({key:st,size:pe,color:Oa}),this},p.restoreGraphicsState=function(){ue("Q");var H=ar.pop();return st=H.key,pe=H.size,Oa=H.color,nn=null,this},p.setCurrentTransformationMatrix=function(H){return ue(H.toString()+" cm"),this},p.comment=function(H){return ue("#"+H),this};var io=function(H,R){var de=H||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return de},set:function(He){isNaN(He)||(de=parseFloat(He))}});var xe=R||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return xe},set:function(He){isNaN(He)||(xe=parseFloat(He))}});var Me="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Me},set:function(He){Me=He.toString()}}),this},Ho=function(H,R,de,xe){io.call(this,H,R),this.type="rect";var Me=de||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Me},set:function(mt){isNaN(mt)||(Me=parseFloat(mt))}});var He=xe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return He},set:function(mt){isNaN(mt)||(He=parseFloat(mt))}}),this},Tl=function(){this.page=fr,this.currentPage=U,this.pages=Oe.slice(0),this.pagesContext=or.slice(0),this.x=Re,this.y=vt,this.matrix=nt,this.width=Ki(U),this.height=Wo(U),this.outputDestination=De,this.id="",this.objectNumber=-1};Tl.prototype.restore=function(){fr=this.page,U=this.currentPage,or=this.pagesContext,Oe=this.pages,Re=this.x,vt=this.y,nt=this.matrix,Rs(U,this.width),bc(U,this.height),De=this.outputDestination};var Ju=function(H,R,de,xe,Me){Ct.push(new Tl),fr=U=0,Oe=[],Re=H,vt=R,nt=Me,hn([de,xe])},ff=function(H){if(We[H])Ct.pop().restore();else{var R=new Tl,de="Xo"+(Object.keys(sn).length+1).toString(10);R.id=de,We[H]=de,sn[de]=R,Tr.publish("addFormObject",R),Ct.pop().restore()}};for(var Ol in p.beginFormObject=function(H,R,de,xe,Me){return Ju(H,R,de,xe,Me),this},p.endFormObject=function(H){return ff(H),this},p.doFormObject=function(H,R){var de=sn[We[H]];return ue("q"),ue(R.toString()+" cm"),ue("/"+de.id+" Do"),ue("Q"),this},p.getFormObject=function(H){var R=sn[We[H]];return{x:R.x,y:R.y,width:R.width,height:R.height,matrix:R.matrix}},p.save=function(H,R){return H=H||"generated.pdf",(R=R||{}).returnPromise=R.returnPromise||!1,R.returnPromise===!1?(Mf(Pn(En()),H),typeof Mf.unload=="function"&&Xr.setTimeout&&setTimeout(Mf.unload,911),this):new Promise((function(de,xe){try{var Me=Mf(Pn(En()),H);typeof Mf.unload=="function"&&Xr.setTimeout&&setTimeout(Mf.unload,911),de(Me)}catch(He){xe(He.message)}}))},Kr.API)Kr.API.hasOwnProperty(Ol)&&(Ol==="events"&&Kr.API.events.length?(function(H,R){var de,xe,Me;for(Me=R.length-1;Me!==-1;Me--)de=R[Me][0],xe=R[Me][1],H.subscribe.apply(H,[de].concat(typeof xe=="function"?[xe]:xe))})(Tr,Kr.API.events):p[Ol]=Kr.API[Ol]);var Ki=p.getPageWidth=function(H){return(or[H=H||U].mediaBox.topRightX-or[H].mediaBox.bottomLeftX)/it},Rs=p.setPageWidth=function(H,R){or[H].mediaBox.topRightX=R*it+or[H].mediaBox.bottomLeftX},Wo=p.getPageHeight=function(H){return(or[H=H||U].mediaBox.topRightY-or[H].mediaBox.bottomLeftY)/it},bc=p.setPageHeight=function(H,R){or[H].mediaBox.topRightY=R*it+or[H].mediaBox.bottomLeftY};return p.internal={pdfEscape:tn,getStyle:Fr,getFont:gc,getFontSize:ye,getCharSpace:ko,getTextColor:$o,getLineHeight:_l,getLineHeightFactor:Ms,getLineWidth:no,write:_e,getHorizontalCoordinate:Ci,getVerticalCoordinate:Gi,getCoordinateString:ao,getVerticalCoordinateString:Ja,collections:{},newObject:Br,newAdditionalObject:ge,newObjectDeferred:Hr,newObjectDeferredBegin:ne,getFilters:ze,putStream:et,events:Tr,scaleFactor:it,pageSize:{getWidth:function(){return Ki(U)},setWidth:function(H){Rs(U,H)},getHeight:function(){return Wo(U)},setHeight:function(H){bc(U,H)}},encryptionOptions:d,encryption:jr,getEncryptor:Gr,output:ua,getNumberOfPages:Ur,pages:Oe,out:ue,f2:F,f3:E,getPageInfo:pn,getPageInfoByObjId:Ee,getCurrentPageInfo:lr,getPDFVersion:v,Point:io,Rectangle:Ho,Matrix:At,hasHotfix:Sr},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Ki(U)},set:function(H){Rs(U,H)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Wo(U)},set:function(H){bc(U,H)},enumerable:!0,configurable:!0}),Zt.call(p,Pe),st="F1",Wt(a,r),Tr.publish("initialized"),p}nh.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},nh.prototype.toHexString=function(e){return e.split("").map((function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)})).join("")},nh.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},nh.prototype.processOwnerPassword=function(e,t){return qj(Uj(t).substr(0,5),e)},nh.prototype.encryptor=function(e,t){var r=Uj(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return qj(r,n)}},O1.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||sa(e)!==sa(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Kr.API={events:[]},Kr.version="2.5.2";var Ha=Kr.API,G3=1,_0=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},eh=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},on=function(e){return e.toFixed(2)},Td=function(e){return e.toFixed(5)};Ha.__acroform__={};var jo=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},$8=function(e){return e*G3},Lc=function(e){var t=new x9,r=Ar.internal.getHeight(e)||0,n=Ar.internal.getWidth(e)||0;return t.BBox=[0,0,Number(on(n)),Number(on(r))],t},Tme=Ha.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},Ome=Ha.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},Pme=Ha.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(e&1<<t)==0?0:1},ni=Ha.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Pme(e,t-1)},ai=Ha.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Tme(e,t-1)},ii=Ha.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Ome(e,t-1)},Ime=Ha.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],s=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(s+l)||0,c.upperRight_X=r(a+o)||0,c.upperRight_Y=n(s)||0,[Number(on(c.lowerLeft_X)),Number(on(c.lowerLeft_Y)),Number(on(c.upperRight_X)),Number(on(c.upperRight_Y))]},Dme=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=$j(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+on(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=Lc(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},$j=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map((function(E){return E.split(`
`)})):a.map((function(E){return[E]}));var s=r,o=Ar.internal.getHeight(e)||0;o=o<0?-o:o;var l=Ar.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(E,T,I){if(E+1<a.length){var z=T+" "+a[E+1][0];return Jg(z,e,I).width<=l-4}return!1};s++;e:for(;s>0;){t="",s--;var u,d,h=Jg("3",e,s).height,m=e.multiline?o-s:(o-h)/2,p=m+=2,y=0,v=0,g=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+Jg(t,e,s=12).width+", FieldWidth:"+l+`
`;break}for(var b="",w=0,j=0;j<a.length;j++)if(a.hasOwnProperty(j)){var N=!1;if(a[j].length!==1&&g!==a[j].length-1){if((h+2)*(w+2)+2>o)continue e;b+=a[j][g],N=!0,v=j,j--}else{b=(b+=a[j][g]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var S=parseInt(j),P=c(S,b,s),A=j>=a.length-1;if(P&&!A){b+=" ",g=0;continue}if(P||A){if(A)v=S;else if(e.multiline&&(h+2)*(w+2)+2>o)continue e}else{if(!e.multiline||(h+2)*(w+2)+2>o)continue e;v=S}}for(var O="",M=y;M<=v;M++){var F=a[M];if(e.multiline){if(M===v){O+=F[g]+" ",g=(g+1)%F.length;continue}if(M===y){O+=F[F.length-1]+" ";continue}}O+=F[0]+" "}switch(O=O.substr(O.length-1)==" "?O.substr(0,O.length-1):O,d=Jg(O,e,s).width,e.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;default:u=2}t+=on(u)+" "+on(p)+` Td
`,t+="("+_0(O)+`) Tj
`,t+=-on(u)+` 0 Td
`,p=-(s+2),d=0,y=N?v:v+1,w++,b=""}break}return n.text=t,n.fontSize=s,n},Jg=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},Lme={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Fme=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find((function(n){return n.type===r.type&&n.object===r.object}))===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},Mme=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),sa(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},Rme=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(mc.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Lme)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");G3=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new g9,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",(function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)})),e.internal.events.subscribe("buildDocument",(function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var s=n[a];s.objId=void 0,s.hasAnnotation&&Fme(s,r)}})(e)})),e.internal.events.subscribe("putCatalog",(function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)})),e.internal.events.subscribe("postPutPages",(function(r){(function(n,a){var s=!n;for(var o in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],u=l.Rect;if(l.Rect&&(l.Rect=Ime(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Ar.createDefaultAppearanceStream(l),sa(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=Dme(l);c.push({key:"AP",value:"<</N "+d+">>"}),a.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var h="";for(var m in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(m)){var p=l.appearanceStreamContent[m];if(h+="/"+m+" ",h+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var y=p[o];typeof y=="function"&&(y=y.call(a,l)),h+="/"+o+" "+y+" ",a.internal.acroformPlugin.xForms.indexOf(y)>=0||a.internal.acroformPlugin.xForms.push(y)}}else typeof(y=p)=="function"&&(y=y.call(a,l)),h+="/"+o+" "+y,a.internal.acroformPlugin.xForms.indexOf(y)>=0||a.internal.acroformPlugin.xForms.push(y);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}s&&Mme(a.internal.acroformPlugin.xForms,a)})(r,e)})),e.internal.acroformPlugin.isInitialized=!0}},m9=Ha.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var a="[",s=0;s<e.length;s++)switch(s!==0&&(a+=" "),sa(e[s])){case"boolean":case"number":case"object":a+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+_0(n(e[s].toString()))+")"):a+=e[s].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},$N=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+_0(n(e))+")"},qc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};qc.prototype.toString=function(){return this.objId+" 0 R"},qc.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},qc.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter((function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"}));for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:m9(a,this.objId,this.scope)}):a instanceof qc?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var x9=function(){qc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};jo(x9,qc);var g9=function(){qc.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+_0(r(e))+")"}},set:function(r){e=r}})};jo(g9,qc);var mc=function e(){qc.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');t=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ni(t,3)},set:function(b){b?this.F=ai(t,3):this.F=ii(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');r=b}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(b){n=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(b){n[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(b){n[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(b){n[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(b){n[3]=b}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof P1)return;s="FieldObject"+e.FieldNum++}var b=function(w){return w};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+_0(b(s))+")"},set:function(b){s=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(b){s=b}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(b){o=b}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(b){l=b}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(b){c=b}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/G3:u},set:function(b){u=b}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(b){d=b}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof P1||this instanceof r0))return $N(h,this.objId,this.scope)},set:function(b){b=b.toString(),h=b}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof qi?m:$N(m,this.objId,this.scope)},set:function(b){b=b.toString(),m=this instanceof qi?b:b.substr(0,1)==="("?eh(b.substr(1,b.length-2)):eh(b)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof qi?eh(m.substr(1,m.length-1)):m},set:function(b){b=b.toString(),m=this instanceof qi?"/"+b:b}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof qi?p:$N(p,this.objId,this.scope)},set:function(b){b=b.toString(),p=this instanceof qi?b:b.substr(0,1)==="("?eh(b.substr(1,b.length-2)):eh(b)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof qi?eh(p.substr(1,p.length-1)):p},set:function(b){b=b.toString(),p=this instanceof qi?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(b){b=!!b,v=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(b){y=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,1)},set:function(b){b?this.Ff=ai(this.Ff,1):this.Ff=ii(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,2)},set:function(b){b?this.Ff=ai(this.Ff,2):this.Ff=ii(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,3)},set:function(b){b?this.Ff=ai(this.Ff,3):this.Ff=ii(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(g!==null)return g},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');g=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(g){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:g=2;break;case"center":case 1:g=1;break;default:g=0}}})};jo(mc,qc);var bh=function(){mc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return m9(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=(function(s,o,l){l||(l=1);for(var c,u=[];c=o.exec(s);)u.push(c[l]);return u})(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,18)},set:function(r){r?this.Ff=ai(this.Ff,18):this.Ff=ii(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=ai(this.Ff,19):this.Ff=ii(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,20)},set:function(r){r?(this.Ff=ai(this.Ff,20),t.sort()):this.Ff=ii(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,22)},set:function(r){r?this.Ff=ai(this.Ff,22):this.Ff=ii(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,23)},set:function(r){r?this.Ff=ai(this.Ff,23):this.Ff=ii(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,27)},set:function(r){r?this.Ff=ai(this.Ff,27):this.Ff=ii(this.Ff,27)}}),this.hasAppearanceStream=!1};jo(bh,mc);var wh=function(){bh.call(this),this.fontName="helvetica",this.combo=!1};jo(wh,bh);var Nh=function(){wh.call(this),this.combo=!0};jo(Nh,wh);var sv=function(){Nh.call(this),this.edit=!0};jo(sv,Nh);var qi=function(){mc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,15)},set:function(r){r?this.Ff=ai(this.Ff,15):this.Ff=ii(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,16)},set:function(r){r?this.Ff=ai(this.Ff,16):this.Ff=ii(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,17)},set:function(r){r?this.Ff=ai(this.Ff,17):this.Ff=ii(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,26)},set:function(r){r?this.Ff=ai(this.Ff,26):this.Ff=ii(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+_0(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){sa(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};jo(qi,mc);var ov=function(){qi.call(this),this.pushButton=!0};jo(ov,qi);var jh=function(){qi.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};jo(jh,qi);var P1=function(){var e,t;mc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),n)o.push("/"+s+" ("+_0(a(n[s]))+")");return o.push(">>"),o.join(`
`)},set:function(a){sa(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ar.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};jo(P1,mc),jh.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},jh.prototype.createOption=function(e){var t=new P1;return t.Parent=this,t.optionName=e,this.Kids.push(t),Bme.call(this.scope,t),t};var lv=function(){qi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ar.CheckBox.createAppearanceStream()};jo(lv,qi);var r0=function(){mc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,13)},set:function(t){t?this.Ff=ai(this.Ff,13):this.Ff=ii(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,21)},set:function(t){t?this.Ff=ai(this.Ff,21):this.Ff=ii(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,23)},set:function(t){t?this.Ff=ai(this.Ff,23):this.Ff=ii(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,24)},set:function(t){t?this.Ff=ai(this.Ff,24):this.Ff=ii(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,25)},set:function(t){t?this.Ff=ai(this.Ff,25):this.Ff=ii(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,26)},set:function(t){t?this.Ff=ai(this.Ff,26):this.Ff=ii(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};jo(r0,mc);var cv=function(){r0.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,14)},set:function(e){e?this.Ff=ai(this.Ff,14):this.Ff=ii(this.Ff,14)}}),this.password=!0};jo(cv,r0);var Ar={CheckBox:{createAppearanceStream:function(){return{N:{On:Ar.CheckBox.YesNormal},D:{On:Ar.CheckBox.YesPushDown,Off:Ar.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Lc(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),s=$j(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+on(Ar.internal.getWidth(e))+" "+on(Ar.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+on(s.fontSize)+" Tf "+a),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Lc(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],s=Ar.internal.getHeight(e),o=Ar.internal.getWidth(e),l=$j(e,e.caption);return a.push("1 g"),a.push("0 0 "+on(o)+" "+on(s)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+on(o-1)+" "+on(s-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+on(l.fontSize)+" Tf "+n),a.push(l.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Lc(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+on(Ar.internal.getWidth(e))+" "+on(Ar.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Ar.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Ar.RadioButton.Circle.YesNormal,t.D[e]=Ar.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Lc(e);t.scope=e.scope;var r=[],n=Ar.internal.getWidth(e)<=Ar.internal.getHeight(e)?Ar.internal.getWidth(e)/4:Ar.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Ar.internal.Bezier_C,s=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Td(Ar.internal.getWidth(e)/2)+" "+Td(Ar.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Lc(e);t.scope=e.scope;var r=[],n=Ar.internal.getWidth(e)<=Ar.internal.getHeight(e)?Ar.internal.getWidth(e)/4:Ar.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*Ar.internal.Bezier_C).toFixed(5)),o=Number((n*Ar.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Td(Ar.internal.getWidth(e)/2)+" "+Td(Ar.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Td(Ar.internal.getWidth(e)/2)+" "+Td(Ar.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Lc(e);t.scope=e.scope;var r=[],n=Ar.internal.getWidth(e)<=Ar.internal.getHeight(e)?Ar.internal.getWidth(e)/4:Ar.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*Ar.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Td(Ar.internal.getWidth(e)/2)+" "+Td(Ar.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Ar.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Ar.RadioButton.Cross.YesNormal,t.D[e]=Ar.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Lc(e);t.scope=e.scope;var r=[],n=Ar.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+on(Ar.internal.getWidth(e)-2)+" "+on(Ar.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(on(n.x1.x)+" "+on(n.x1.y)+" m"),r.push(on(n.x2.x)+" "+on(n.x2.y)+" l"),r.push(on(n.x4.x)+" "+on(n.x4.y)+" m"),r.push(on(n.x3.x)+" "+on(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Lc(e);t.scope=e.scope;var r=Ar.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+on(Ar.internal.getWidth(e))+" "+on(Ar.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+on(Ar.internal.getWidth(e)-2)+" "+on(Ar.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(on(r.x1.x)+" "+on(r.x1.y)+" m"),n.push(on(r.x2.x)+" "+on(r.x2.y)+" l"),n.push(on(r.x4.x)+" "+on(r.x4.y)+" m"),n.push(on(r.x3.x)+" "+on(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Lc(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+on(Ar.internal.getWidth(e))+" "+on(Ar.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Ar.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Ar.internal.getWidth(e),r=Ar.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Ar.internal.getWidth=function(e){var t=0;return sa(e)==="object"&&(t=$8(e.Rect[2])),t},Ar.internal.getHeight=function(e){var t=0;return sa(e)==="object"&&(t=$8(e.Rect[3])),t};var Bme=Ha.addField=function(e){if(Rme(this,e),!(e instanceof mc))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Ha.AcroFormChoiceField=bh,Ha.AcroFormListBox=wh,Ha.AcroFormComboBox=Nh,Ha.AcroFormEditBox=sv,Ha.AcroFormButton=qi,Ha.AcroFormPushButton=ov,Ha.AcroFormRadioButton=jh,Ha.AcroFormCheckBox=lv,Ha.AcroFormTextField=r0,Ha.AcroFormPasswordField=cv,Ha.AcroFormAppearance=Ar,Ha.AcroForm={ChoiceField:bh,ListBox:wh,ComboBox:Nh,EditBox:sv,Button:qi,PushButton:ov,RadioButton:jh,CheckBox:lv,TextField:r0,PasswordField:cv,Appearance:Ar},Kr.AcroForm={ChoiceField:bh,ListBox:wh,ComboBox:Nh,EditBox:sv,Button:qi,PushButton:ov,RadioButton:jh,CheckBox:lv,TextField:r0,PasswordField:cv,Appearance:Ar};Kr.AcroForm;function v9(e){return e.reduce((function(t,r,n){return t[r]=n,t}),{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(E,T){var I,z,Q,te,J,ie=t;if((T=T||t)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(P(E))for(J in r)for(Q=r[J],I=0;I<Q.length;I+=1){for(te=!0,z=0;z<Q[I].length;z+=1)if(Q[I][z]!==void 0&&Q[I][z]!==E[z]){te=!1;break}if(te===!0){ie=J;break}}else for(J in r)for(Q=r[J],I=0;I<Q.length;I+=1){for(te=!0,z=0;z<Q[I].length;z+=1)if(Q[I][z]!==void 0&&Q[I][z]!==E.charCodeAt(z)){te=!1;break}if(te===!0){ie=J;break}}return ie===t&&T!==t&&(ie=T),ie},a=function E(T){for(var I=this.internal.write,z=this.internal.putStream,Q=(0,this.internal.getFilters)();Q.indexOf("FlateEncode")!==-1;)Q.splice(Q.indexOf("FlateEncode"),1);T.objectId=this.internal.newObject();var te=[];if(te.push({key:"Type",value:"/XObject"}),te.push({key:"Subtype",value:"/Image"}),te.push({key:"Width",value:T.width}),te.push({key:"Height",value:T.height}),T.colorSpace===g.INDEXED?te.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(T.palette.length/3-1)+" "+("sMask"in T&&T.sMask!==void 0?T.objectId+2:T.objectId+1)+" 0 R]"}):(te.push({key:"ColorSpace",value:"/"+T.colorSpace}),T.colorSpace===g.DEVICE_CMYK&&te.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),te.push({key:"BitsPerComponent",value:T.bitsPerComponent}),"decodeParameters"in T&&T.decodeParameters!==void 0&&te.push({key:"DecodeParms",value:"<<"+T.decodeParameters+">>"}),"transparency"in T&&Array.isArray(T.transparency)){for(var J="",ie=0,X=T.transparency.length;ie<X;ie++)J+=T.transparency[ie]+" "+T.transparency[ie]+" ";te.push({key:"Mask",value:"["+J+"]"})}T.sMask!==void 0&&te.push({key:"SMask",value:T.objectId+1+" 0 R"});var Z=T.filter!==void 0?["/"+T.filter]:void 0;if(z({data:T.data,additionalKeyValues:te,alreadyAppliedFilters:Z,objectId:T.objectId}),I("endobj"),"sMask"in T&&T.sMask!==void 0){var q="/Predictor "+T.predictor+" /Colors 1 /BitsPerComponent "+T.bitsPerComponent+" /Columns "+T.width,C={width:T.width,height:T.height,colorSpace:"DeviceGray",bitsPerComponent:T.bitsPerComponent,decodeParameters:q,data:T.sMask};"filter"in T&&(C.filter=T.filter),E.call(this,C)}if(T.colorSpace===g.INDEXED){var U=this.internal.newObject();z({data:O(new Uint8Array(T.palette)),objectId:U}),I("endobj")}},s=function(){var E=this.internal.collections.addImage_images;for(var T in E)a.call(this,E[T])},o=function(){var E,T=this.internal.collections.addImage_images,I=this.internal.write;for(var z in T)I("/I"+(E=T[z]).index,E.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var E=this.internal.collections.addImage_images;return l.call(this),E},u=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(E){return typeof e["process"+E.toUpperCase()]=="function"},h=function(E){return sa(E)==="object"&&E.nodeType===1},m=function(E,T){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var I=""+E.getAttribute("src");if(I.indexOf("data:image/")===0)return mm(unescape(I).split("base64,").pop());var z=e.loadFile(I,!0);if(z!==void 0)return z}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var Q;switch(T){case"PNG":Q="image/png";break;case"WEBP":Q="image/webp";break;default:Q="image/jpeg"}return mm(E.toDataURL(Q,1).split("base64,").pop())}},p=function(E){var T=this.internal.collections.addImage_images;if(T){for(var I in T)if(E===T[I].alias)return T[I]}},y=function(E,T,I){return E||T||(E=-96,T=-96),E<0&&(E=-1*I.width*72/E/this.internal.scaleFactor),T<0&&(T=-1*I.height*72/T/this.internal.scaleFactor),E===0&&(E=T*I.width/I.height),T===0&&(T=E*I.height/I.width),[E,T]},v=function(E,T,I,z,Q,te){var J=y.call(this,I,z,Q),ie=this.internal.getCoordinateString,X=this.internal.getVerticalCoordinateString,Z=c.call(this);if(I=J[0],z=J[1],Z[Q.index]=Q,te){te*=Math.PI/180;var q=Math.cos(te),C=Math.sin(te),U=function(B){return B.toFixed(4)},W=[U(q),U(C),U(-1*C),U(q),0,0,"cm"]}this.internal.write("q"),te?(this.internal.write([1,"0","0",1,ie(E),X(T+z),"cm"].join(" ")),this.internal.write(W.join(" ")),this.internal.write([ie(I),"0","0",ie(z),"0","0","cm"].join(" "))):this.internal.write([ie(I),"0","0",ie(z),ie(E),X(T+z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Q.index+" Do"),this.internal.write("Q")},g=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=e.__addimage__.sHashCode=function(E){var T,I,z=0;if(typeof E=="string")for(I=E.length,T=0;T<I;T++)z=(z<<5)-z+E.charCodeAt(T),z|=0;else if(P(E))for(I=E.byteLength/2,T=0;T<I;T++)z=(z<<5)-z+E[T],z|=0;return z},j=e.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var T=!0;return E.length===0&&(T=!1),E.length%4!=0&&(T=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(T=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(T=!1),T},N=e.__addimage__.extractImageFromDataUrl=function(E){var T=(E=E||"").split("base64,"),I=null;if(T.length===2){var z=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(T[0]);Array.isArray(z)&&(I={mimeType:z[1],charset:z[2],data:T[1]})}return I},S=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(E){return S()&&E instanceof ArrayBuffer};var P=e.__addimage__.isArrayBufferView=function(E){return S()&&typeof Uint32Array<"u"&&(E instanceof Int8Array||E instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array)},A=e.__addimage__.binaryStringToUint8Array=function(E){for(var T=E.length,I=new Uint8Array(T),z=0;z<T;z++)I[z]=E.charCodeAt(z);return I},O=e.__addimage__.arrayBufferToBinaryString=function(E){for(var T="",I=P(E)?E:new Uint8Array(E),z=0;z<I.length;z+=8192)T+=String.fromCharCode.apply(null,I.subarray(z,z+8192));return T};e.addImage=function(){var E,T,I,z,Q,te,J,ie,X;if(typeof arguments[1]=="number"?(T=t,I=arguments[1],z=arguments[2],Q=arguments[3],te=arguments[4],J=arguments[5],ie=arguments[6],X=arguments[7]):(T=arguments[1],I=arguments[2],z=arguments[3],Q=arguments[4],te=arguments[5],J=arguments[6],ie=arguments[7],X=arguments[8]),sa(E=arguments[0])==="object"&&!h(E)&&"imageData"in E){var Z=E;E=Z.imageData,T=Z.format||T||t,I=Z.x||I||0,z=Z.y||z||0,Q=Z.w||Z.width||Q,te=Z.h||Z.height||te,J=Z.alias||J,ie=Z.compression||ie,X=Z.rotation||Z.angle||X}var q=this.internal.getFilters();if(ie===void 0&&q.indexOf("FlateEncode")!==-1&&(ie="SLOW"),isNaN(I)||isNaN(z))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var C=M.call(this,E,T,J,ie);return v.call(this,I,z,Q,te,C,X),this};var M=function(E,T,I,z){var Q,te,J;if(typeof E=="string"&&n(E)===t){E=unescape(E);var ie=F(E,!1);(ie!==""||(ie=e.loadFile(E,!0))!==void 0)&&(E=ie)}if(h(E)&&(E=m(E,T)),T=n(E,T),!d(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(((J=I)==null||J.length===0)&&(I=(function(X){return typeof X=="string"||P(X)?w(X):P(X.data)?w(X.data):null})(E)),(Q=p.call(this,I))||(S()&&(E instanceof Uint8Array||T==="RGBA"||(te=E,E=A(E))),Q=this["process"+T.toUpperCase()](E,u.call(this),I,(function(X){return X&&typeof X=="string"&&(X=X.toUpperCase()),X in e.image_compression?X:b.NONE})(z),te)),!Q)throw new Error("An unknown error occurred whilst processing the image.");return Q},F=e.__addimage__.convertBase64ToBinaryString=function(E,T){var I;T=typeof T!="boolean"||T;var z,Q="";if(typeof E=="string"){z=(I=N(E))!==null?I.data:E;try{Q=mm(z)}catch(te){if(T)throw j(z)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+te.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Q};e.getImageProperties=function(E){var T,I,z="";if(h(E)&&(E=m(E)),typeof E=="string"&&n(E)===t&&((z=F(E,!1))===""&&(z=e.loadFile(E)||""),E=z),I=n(E),!d(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(!S()||E instanceof Uint8Array||(E=A(E)),!(T=this["process"+I.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return T.fileType=I,T}})(Kr.API),(function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Kr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,s,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,h=0;h<u.length&&!d;h++)switch((n=u[h]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var m=0;m<u.length;m++){n=u[m];var p=this.internal.pdfEscape,y=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),g=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(v.objId),w=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+p(b(n.contents))+")",s+=" /Popup "+g.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+p(b(w))+") >>",v.content=s;var j=v.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+j,n.open&&(s+=" /Open true"),s+=" >>",g.content=s,this.internal.write(v.objId,"0 R",g.objId,"0 R");break;case"freetext":a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var N=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+p(y(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+N+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var S=this.annotations._nameMap[n.options.name];n.options.pageNumber=S.page,n.options.top=S.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+p(y(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var P=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+P+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,s,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+a),h:u(n+s)},options:o,type:"link"})},e.textWithLink=function(r,n,a,s){var o,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){l=s.maxWidth;var d=this.splitTextToSize(r,l).length;o=Math.ceil(u*d)}else l=c,o=u;return this.text(r,n,a,s),a+=.2*u,s.align==="center"&&(n-=c/2),s.align==="right"&&(n-=c),this.link(n,a-u,l,o,s),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(Kr.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(v){return t[v.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},l=e.__arabicParser__.isArabicEndLetter=function(v){return o(v)&&s(v)&&t[v.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(v){return o(v)&&a.indexOf(v.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return o(v)&&s(v)&&t[v.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(v){return o(v)&&s(v)&&t[v.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(v){return o(v)&&s(v)&&t[v.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(v){return o(v)&&s(v)&&t[v.charCodeAt(0)].length==4},h=e.__arabicParser__.resolveLigatures=function(v){var g=0,b=r,w="",j=0;for(g=0;g<v.length;g+=1)b[v.charCodeAt(g)]!==void 0?(j++,typeof(b=b[v.charCodeAt(g)])=="number"&&(w+=String.fromCharCode(b),b=r,j=0),g===v.length-1&&(b=r,w+=v.charAt(g-(j-1)),g-=j-1,j=0)):(b=r,w+=v.charAt(g-j),g-=j,j=0);return w};e.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&n[v.charCodeAt(0)]!==void 0};var m=e.__arabicParser__.getCorrectForm=function(v,g,b){return o(v)?s(v)===!1?-1:!u(v)||!o(g)&&!o(b)||!o(b)&&l(g)||l(v)&&!o(g)||l(v)&&c(g)||l(v)&&l(g)?0:d(v)&&o(g)&&!l(g)&&o(b)&&u(b)?3:l(v)||!o(b)?1:2:-1},p=function(v){var g=0,b=0,w=0,j="",N="",S="",P=(v=v||"").split("\\s+"),A=[];for(g=0;g<P.length;g+=1){for(A.push(""),b=0;b<P[g].length;b+=1)j=P[g][b],N=P[g][b-1],S=P[g][b+1],o(j)?(w=m(j,N,S),A[g]+=w!==-1?String.fromCharCode(t[j.charCodeAt(0)][w]):j):A[g]+=j;A[g]=h(A[g])}return A.join(" ")},y=e.__arabicParser__.processArabic=e.processArabic=function(){var v,g=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(g)){var w=0;for(b=[],w=0;w<g.length;w+=1)Array.isArray(g[w])?b.push([p(g[w][0]),g[w][1],g[w][2]]):b.push([p(g[w])]);v=b}else v=p(g);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};e.events.push(["preProcessText",y])})(Kr.API),Kr.API.autoPrint=function(e){var t;return((e=e||{}).variant=e.variant||"non-conform",e.variant)==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",(function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+t+" 0 R")}))),this},(function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(l){s=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(Kr.API),(function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(v){c=v}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(v){u=v}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(v){d=v}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(v){h=v}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(v){m=v}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(v){p=v}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(v){y=v}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),h=u.font||this.getFont(),m=u.scaleFactor||this.internal.scaleFactor,p=0,y=0,v=0,g=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var b=u.maxWidth;b>0?typeof c=="string"?c=this.splitTextToSize(c,b):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce((function(j,N){return j.concat(g.splitTextToSize(N,b))}),[])):c=Array.isArray(c)?c:[c];for(var w=0;w<c.length;w++)p<(v=this.getStringUnitWidth(c[w],{font:h})*d)&&(p=v);return p!==0&&(y=c.length),{w:p/=m,h:Math.max((y*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/m,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,h=this.internal.__cell__.margins||t,m=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,p&&m&&(this.printHeaderRow(c.lineNumber,!0),c.y+=m[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,d,h,m){if(n.call(this),!d)throw new Error("No data for PDF table.");var p,y,v,g,b=[],w=[],j=[],N={},S={},P=[],A=[],O=(m=m||{}).autoSize||!1,M=m.printHeaders!==!1,F=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,E=m.margins||Object.assign({width:this.getPageWidth()},t),T=typeof m.padding=="number"?m.padding:3,I=m.headerBackgroundColor||"#c8c8c8",z=m.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=M,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=F,this.internal.__cell__.padding=T,this.internal.__cell__.headerBackgroundColor=I,this.internal.__cell__.headerTextColor=z,this.setFontSize(F),h==null)w=b=Object.keys(d[0]),j=b.map((function(){return"left"}));else if(Array.isArray(h)&&sa(h[0])==="object")for(b=h.map((function(Z){return Z.name})),w=h.map((function(Z){return Z.prompt||Z.name||""})),j=h.map((function(Z){return Z.align||"left"})),p=0;p<h.length;p+=1)S[h[p].name]=h[p].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(w=b=h,j=b.map((function(){return"left"})));if(O||Array.isArray(h)&&typeof h[0]=="string")for(p=0;p<b.length;p+=1){for(N[g=b[p]]=d.map((function(Z){return Z[g]})),this.setFont(void 0,"bold"),P.push(this.getTextDimensions(w[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=N[g],this.setFont(void 0,"normal"),v=0;v<y.length;v+=1)P.push(this.getTextDimensions(y[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);S[g]=Math.max.apply(null,P)+T+T,P=[]}if(M){var Q={};for(p=0;p<b.length;p+=1)Q[b[p]]={},Q[b[p]].text=w[p],Q[b[p]].align=j[p];var te=l.call(this,Q,S);A=b.map((function(Z){return new s(c,u,S[Z],te,Q[Z].text,void 0,Q[Z].align)})),this.setTableHeaderRow(A),this.printHeaderRow(1,!1)}var J=h.reduce((function(Z,q){return Z[q.name]=q.align,Z}),{});for(p=0;p<d.length;p+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:p,data:d[p]},this);var ie=l.call(this,d[p],S);for(v=0;v<b.length;v+=1){var X=d[p][b[v]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:p,col:v,data:X},this),o.call(this,new s(c,u,S[b[v]],ie,X,p+2,J[b[v]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(c).map((function(p){var y=c[p];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,u[p]-d-d)}),this).map((function(p){return this.getLineHeightFactor()*p.length*h/m+d+d}),this).reduce((function(p,y){return Math.max(p,y)}),0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){d=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,m.push(d)),d.lineNumber=c;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(y)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),r=!1}})(Kr.API);var y9={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},b9=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],zj=v9(b9),w9=[100,200,300,400,500,600,700,800,900],Ume=v9(w9);function Hj(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=(function(s){return y9[s=s||"normal"]?s:"normal"})(e.style),n=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(e.weight),a=(function(s){return typeof zj[s=s||"normal"]=="number"?s:"normal"})(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function z8(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var qme={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},H8={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function W8(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function $me(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},qme,r.genericFontFamilies||{}),s=null,o=null,l=0;l<t.length;++l)if(a[(s=Hj(t[l])).family]&&(s.family=a[s.family]),e.hasOwnProperty(s.family)){o=e[s.family];break}if(!(o=o||e[n]))throw new Error("Could not find a font-family for the rule '"+W8(s)+"' and default family '"+n+"'.");if(o=(function(c,u){if(u[c])return u[c];var d=zj[c],h=d<=zj.normal?-1:1,m=z8(u,b9,d,h);if(!m)throw new Error("Could not find a matching font-stretch value for "+c);return m})(s.stretch,o),o=(function(c,u){if(u[c])return u[c];for(var d=y9[c],h=0;h<d.length;++h)if(u[d[h]])return u[d[h]];throw new Error("Could not find a matching font-style for "+c)})(s.style,o),!(o=(function(c,u){if(u[c])return u[c];if(c===400&&u[500])return u[500];if(c===500&&u[400])return u[400];var d=Ume[c],h=z8(u,w9,d,c<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+c);return h})(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+W8(s)+"'.");return o}function V8(e){return e.trimLeft()}function zme(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function Hme(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Qg,G8,K8,zN=["times"];(function(e){var t,r,n,a,s,o,l,c,u,d=function(C){return C=C||{},this.isStrokeTransparent=C.isStrokeTransparent||!1,this.strokeOpacity=C.strokeOpacity||1,this.strokeStyle=C.strokeStyle||"#000000",this.fillStyle=C.fillStyle||"#000000",this.isFillTransparent=C.isFillTransparent||!1,this.fillOpacity=C.fillOpacity||1,this.font=C.font||"10px sans-serif",this.textBaseline=C.textBaseline||"alphabetic",this.textAlign=C.textAlign||"left",this.lineWidth=C.lineWidth||1,this.lineJoin=C.lineJoin||"miter",this.lineCap=C.lineCap||"butt",this.path=C.path||[],this.transform=C.transform!==void 0?C.transform.clone():new c,this.globalCompositeOperation=C.globalCompositeOperation||"normal",this.globalAlpha=C.globalAlpha||1,this.clip_path=C.clip_path||[],this.currentPoint=C.currentPoint||new o,this.miterLimit=C.miterLimit||10,this.lastPoint=C.lastPoint||new o,this.lineDashOffset=C.lineDashOffset||0,this.lineDash=C.lineDash||[],this.margin=C.margin||[0,0,0,0],this.prevPageLastElemOffset=C.prevPageLastElemOffset||0,this.ignoreClearRect=typeof C.ignoreClearRect!="boolean"||C.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var h=function(C){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var U=C;Object.defineProperty(this,"pdf",{get:function(){return U}});var W=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return W},set:function(oe){W=!!oe}});var B=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return B},set:function(oe){B=!!oe}});var K=0;Object.defineProperty(this,"posX",{get:function(){return K},set:function(oe){isNaN(oe)||(K=oe)}});var re=0;Object.defineProperty(this,"posY",{get:function(){return re},set:function(oe){isNaN(oe)||(re=oe)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(oe){var ue;typeof oe=="number"?ue=[oe,oe,oe,oe]:((ue=new Array(4))[0]=oe[0],ue[1]=oe.length>=2?oe[1]:ue[0],ue[2]=oe.length>=3?oe[2]:ue[0],ue[3]=oe.length>=4?oe[3]:ue[1]),u.margin=ue}});var fe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return fe},set:function(oe){fe=oe}});var ce=0;Object.defineProperty(this,"lastBreak",{get:function(){return ce},set:function(oe){ce=oe}});var he=[];Object.defineProperty(this,"pageBreaks",{get:function(){return he},set:function(oe){he=oe}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(oe){oe instanceof d&&(u=oe)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(oe){u.path=oe}});var Oe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Oe},set:function(oe){Oe=oe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(oe){var ue;ue=m(oe),this.ctx.fillStyle=ue.style,this.ctx.isFillTransparent=ue.a===0,this.ctx.fillOpacity=ue.a,this.pdf.setFillColor(ue.r,ue.g,ue.b,{a:ue.a}),this.pdf.setTextColor(ue.r,ue.g,ue.b,{a:ue.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(oe){var ue=m(oe);this.ctx.strokeStyle=ue.style,this.ctx.isStrokeTransparent=ue.a===0,this.ctx.strokeOpacity=ue.a,ue.a===0?this.pdf.setDrawColor(255,255,255):(ue.a,this.pdf.setDrawColor(ue.r,ue.g,ue.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(oe){["butt","round","square"].indexOf(oe)!==-1&&(this.ctx.lineCap=oe,this.pdf.setLineCap(oe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(oe){isNaN(oe)||(this.ctx.lineWidth=oe,this.pdf.setLineWidth(oe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(oe){["bevel","round","miter"].indexOf(oe)!==-1&&(this.ctx.lineJoin=oe,this.pdf.setLineJoin(oe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(oe){isNaN(oe)||(this.ctx.miterLimit=oe,this.pdf.setMiterLimit(oe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(oe){this.ctx.textBaseline=oe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(oe){["right","end","center","left","start"].indexOf(oe)!==-1&&(this.ctx.textAlign=oe)}});var ee=null;function De(oe,ue){if(ee===null){var _e=(function(Se){var Pe=[];return Object.keys(Se).forEach((function(pe){Se[pe].forEach((function(ae){var ye=null;switch(ae){case"bold":ye={family:pe,weight:"bold"};break;case"italic":ye={family:pe,style:"italic"};break;case"bolditalic":ye={family:pe,weight:"bold",style:"italic"};break;case"":case"normal":ye={family:pe}}ye!==null&&(ye.ref={name:pe,style:ae},Pe.push(ye))}))})),Pe})(oe.getFontList());ee=(function(Se){for(var Pe={},pe=0;pe<Se.length;++pe){var ae=Hj(Se[pe]),ye=ae.family,Be=ae.stretch,$e=ae.style,rt=ae.weight;Pe[ye]=Pe[ye]||{},Pe[ye][Be]=Pe[ye][Be]||{},Pe[ye][Be][$e]=Pe[ye][Be][$e]||{},Pe[ye][Be][$e][rt]=ae}return Pe})(_e.concat(ue))}return ee}var je=null;Object.defineProperty(this,"fontFaces",{get:function(){return je},set:function(oe){ee=null,je=oe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(oe){var ue;if(this.ctx.font=oe,(ue=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(oe))!==null){var _e=ue[1],Se=(ue[2],ue[3]),Pe=ue[4],pe=(ue[5],ue[6]),ae=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Pe)[2];Pe=Math.floor(ae==="px"?parseFloat(Pe)*this.pdf.internal.scaleFactor:ae==="em"?parseFloat(Pe)*this.pdf.getFontSize():parseFloat(Pe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Pe);var ye=(function(dt){var st,it,Re=[],vt=dt.trim();if(vt==="")return zN;if(vt in H8)return[H8[vt]];for(;vt!=="";){switch(it=null,st=(vt=V8(vt)).charAt(0)){case'"':case"'":it=zme(vt.substring(1),st);break;default:it=Hme(vt)}if(it===null||(Re.push(it[0]),(vt=V8(it[1]))!==""&&vt.charAt(0)!==","))return zN;vt=vt.replace(/^,/,"")}return Re})(pe);if(this.fontFaces){var Be=$me(De(this.pdf,this.fontFaces),ye.map((function(dt){return{family:dt,stretch:"normal",weight:Se,style:_e}})));this.pdf.setFont(Be.ref.name,Be.ref.style)}else{var $e="";(Se==="bold"||parseInt(Se,10)>=700||_e==="bold")&&($e="bold"),_e==="italic"&&($e+="italic"),$e.length===0&&($e="normal");for(var rt="",ft={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Nt=0;Nt<ye.length;Nt++){if(this.pdf.internal.getFont(ye[Nt],$e,{noFallback:!0,disableWarning:!0})!==void 0){rt=ye[Nt];break}if($e==="bolditalic"&&this.pdf.internal.getFont(ye[Nt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)rt=ye[Nt],$e="bold";else if(this.pdf.internal.getFont(ye[Nt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){rt=ye[Nt],$e="normal";break}}if(rt===""){for(var Ue=0;Ue<ye.length;Ue++)if(ft[ye[Ue]]){rt=ft[ye[Ue]];break}}rt=rt===""?"Times":rt,this.pdf.setFont(rt,$e)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(oe){this.ctx.globalCompositeOperation=oe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(oe){this.ctx.globalAlpha=oe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(oe){this.ctx.lineDashOffset=oe,q.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(oe){this.ctx.lineDash=oe,q.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(oe){this.ctx.ignoreClearRect=!!oe}})};h.prototype.setLineDash=function(C){this.lineDash=C},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){N.call(this,"fill",!1)},h.prototype.stroke=function(){N.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(C,U){if(isNaN(C)||isNaN(U))throw fa.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var W=this.ctx.transform.applyToPoint(new o(C,U));this.path.push({type:"mt",x:W.x,y:W.y}),this.ctx.lastPoint=new o(C,U)},h.prototype.closePath=function(){var C=new o(0,0),U=0;for(U=this.path.length-1;U!==-1;U--)if(this.path[U].type==="begin"&&sa(this.path[U+1])==="object"&&typeof this.path[U+1].x=="number"){C=new o(this.path[U+1].x,this.path[U+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(C.x,C.y)},h.prototype.lineTo=function(C,U){if(isNaN(C)||isNaN(U))throw fa.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var W=this.ctx.transform.applyToPoint(new o(C,U));this.path.push({type:"lt",x:W.x,y:W.y}),this.ctx.lastPoint=new o(W.x,W.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),N.call(this,null,!0)},h.prototype.quadraticCurveTo=function(C,U,W,B){if(isNaN(W)||isNaN(B)||isNaN(C)||isNaN(U))throw fa.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var K=this.ctx.transform.applyToPoint(new o(W,B)),re=this.ctx.transform.applyToPoint(new o(C,U));this.path.push({type:"qct",x1:re.x,y1:re.y,x:K.x,y:K.y}),this.ctx.lastPoint=new o(K.x,K.y)},h.prototype.bezierCurveTo=function(C,U,W,B,K,re){if(isNaN(K)||isNaN(re)||isNaN(C)||isNaN(U)||isNaN(W)||isNaN(B))throw fa.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var fe=this.ctx.transform.applyToPoint(new o(K,re)),ce=this.ctx.transform.applyToPoint(new o(C,U)),he=this.ctx.transform.applyToPoint(new o(W,B));this.path.push({type:"bct",x1:ce.x,y1:ce.y,x2:he.x,y2:he.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new o(fe.x,fe.y)},h.prototype.arc=function(C,U,W,B,K,re){if(isNaN(C)||isNaN(U)||isNaN(W)||isNaN(B)||isNaN(K))throw fa.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(re=!!re,!this.ctx.transform.isIdentity){var fe=this.ctx.transform.applyToPoint(new o(C,U));C=fe.x,U=fe.y;var ce=this.ctx.transform.applyToPoint(new o(0,W)),he=this.ctx.transform.applyToPoint(new o(0,0));W=Math.sqrt(Math.pow(ce.x-he.x,2)+Math.pow(ce.y-he.y,2))}Math.abs(K-B)>=2*Math.PI&&(B=0,K=2*Math.PI),this.path.push({type:"arc",x:C,y:U,radius:W,startAngle:B,endAngle:K,counterclockwise:re})},h.prototype.arcTo=function(C,U,W,B,K){throw new Error("arcTo not implemented.")},h.prototype.rect=function(C,U,W,B){if(isNaN(C)||isNaN(U)||isNaN(W)||isNaN(B))throw fa.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(C,U),this.lineTo(C+W,U),this.lineTo(C+W,U+B),this.lineTo(C,U+B),this.lineTo(C,U),this.lineTo(C+W,U),this.lineTo(C,U)},h.prototype.fillRect=function(C,U,W,B){if(isNaN(C)||isNaN(U)||isNaN(W)||isNaN(B))throw fa.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var K={};this.lineCap!=="butt"&&(K.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(K.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(C,U,W,B),this.fill(),K.hasOwnProperty("lineCap")&&(this.lineCap=K.lineCap),K.hasOwnProperty("lineJoin")&&(this.lineJoin=K.lineJoin)}},h.prototype.strokeRect=function(C,U,W,B){if(isNaN(C)||isNaN(U)||isNaN(W)||isNaN(B))throw fa.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(C,U,W,B),this.stroke())},h.prototype.clearRect=function(C,U,W,B){if(isNaN(C)||isNaN(U)||isNaN(W)||isNaN(B))throw fa.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(C,U,W,B))},h.prototype.save=function(C){C=typeof C!="boolean"||C;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("q");if(this.pdf.setPage(U),C){this.ctx.fontSize=this.pdf.internal.getFontSize();var B=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=B}},h.prototype.restore=function(C){C=typeof C!="boolean"||C;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("Q");this.pdf.setPage(U),C&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(C){var U,W,B,K;if(C.isCanvasGradient===!0&&(C=C.getColor()),!C)return{r:0,g:0,b:0,a:0,style:C};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(C))U=0,W=0,B=0,K=0;else{var re=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(C);if(re!==null)U=parseInt(re[1]),W=parseInt(re[2]),B=parseInt(re[3]),K=1;else if((re=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(C))!==null)U=parseInt(re[1]),W=parseInt(re[2]),B=parseInt(re[3]),K=parseFloat(re[4]);else{if(K=1,typeof C=="string"&&C.charAt(0)!=="#"){var fe=new f9(C);C=fe.ok?fe.toHex():"#000000"}C.length===4?(U=C.substring(1,2),U+=U,W=C.substring(2,3),W+=W,B=C.substring(3,4),B+=B):(U=C.substring(1,3),W=C.substring(3,5),B=C.substring(5,7)),U=parseInt(U,16),W=parseInt(W,16),B=parseInt(B,16)}}return{r:U,g:W,b:B,a:K,style:C}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(C,U,W,B){if(isNaN(U)||isNaN(W)||typeof C!="string")throw fa.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(B=isNaN(B)?void 0:B,!p.call(this)){var K=ie(this.ctx.transform.rotation),re=this.ctx.transform.scaleX;T.call(this,{text:C,x:U,y:W,scale:re,angle:K,align:this.textAlign,maxWidth:B})}},h.prototype.strokeText=function(C,U,W,B){if(isNaN(U)||isNaN(W)||typeof C!="string")throw fa.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){B=isNaN(B)?void 0:B;var K=ie(this.ctx.transform.rotation),re=this.ctx.transform.scaleX;T.call(this,{text:C,x:U,y:W,scale:re,renderingMode:"stroke",angle:K,align:this.textAlign,maxWidth:B})}},h.prototype.measureText=function(C){if(typeof C!="string")throw fa.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var U=this.pdf,W=this.pdf.internal.scaleFactor,B=U.internal.getFontSize(),K=U.getStringUnitWidth(C)*B/U.internal.scaleFactor,re=function(fe){var ce=(fe=fe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ce}}),this};return new re({width:K*=Math.round(96*W/72*1e4)/1e4})},h.prototype.scale=function(C,U){if(isNaN(C)||isNaN(U))throw fa.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var W=new c(C,0,0,U,0,0);this.ctx.transform=this.ctx.transform.multiply(W)},h.prototype.rotate=function(C){if(isNaN(C))throw fa.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var U=new c(Math.cos(C),Math.sin(C),-Math.sin(C),Math.cos(C),0,0);this.ctx.transform=this.ctx.transform.multiply(U)},h.prototype.translate=function(C,U){if(isNaN(C)||isNaN(U))throw fa.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var W=new c(1,0,0,1,C,U);this.ctx.transform=this.ctx.transform.multiply(W)},h.prototype.transform=function(C,U,W,B,K,re){if(isNaN(C)||isNaN(U)||isNaN(W)||isNaN(B)||isNaN(K)||isNaN(re))throw fa.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var fe=new c(C,U,W,B,K,re);this.ctx.transform=this.ctx.transform.multiply(fe)},h.prototype.setTransform=function(C,U,W,B,K,re){C=isNaN(C)?1:C,U=isNaN(U)?0:U,W=isNaN(W)?0:W,B=isNaN(B)?1:B,K=isNaN(K)?0:K,re=isNaN(re)?0:re,this.ctx.transform=new c(C,U,W,B,K,re)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(C,U,W,B,K,re,fe,ce,he){var Oe=this.pdf.getImageProperties(C),ee=1,De=1,je=1,oe=1;B!==void 0&&ce!==void 0&&(je=ce/B,oe=he/K,ee=Oe.width/B*ce/B,De=Oe.height/K*he/K),re===void 0&&(re=U,fe=W,U=0,W=0),B!==void 0&&ce===void 0&&(ce=B,he=K),B===void 0&&ce===void 0&&(ce=Oe.width,he=Oe.height);for(var ue,_e=this.ctx.transform.decompose(),Se=ie(_e.rotate.shx),Pe=new c,pe=(Pe=(Pe=(Pe=Pe.multiply(_e.translate)).multiply(_e.skew)).multiply(_e.scale)).applyToRectangle(new l(re-U*je,fe-W*oe,B*ee,K*De)),ae=g.call(this,pe),ye=[],Be=0;Be<ae.length;Be+=1)ye.indexOf(ae[Be])===-1&&ye.push(ae[Be]);if(j(ye),this.autoPaging)for(var $e=ye[0],rt=ye[ye.length-1],ft=$e;ft<rt+1;ft++){this.pdf.setPage(ft);var Nt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ue=ft===1?this.posY+this.margin[0]:this.margin[0],dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],st=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],it=ft===1?0:dt+(ft-2)*st;if(this.ctx.clip_path.length!==0){var Re=this.path;ue=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(ue,this.posX+this.margin[3],-it+Ue+this.ctx.prevPageLastElemOffset),S.call(this,"fill",!0),this.path=Re}var vt=JSON.parse(JSON.stringify(pe));vt=w([vt],this.posX+this.margin[3],-it+Ue+this.ctx.prevPageLastElemOffset)[0];var nt=(ft>$e||ft<rt)&&v.call(this);nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Nt,st,null).clip().discardPath()),this.pdf.addImage(C,"JPEG",vt.x,vt.y,vt.w,vt.h,null,null,Se),nt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(C,"JPEG",pe.x,pe.y,pe.w,pe.h,null,null,Se)};var g=function(C,U,W){var B=[];U=U||this.pdf.internal.pageSize.width,W=W||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var K=this.posY+this.ctx.prevPageLastElemOffset;switch(C.type){default:case"mt":case"lt":B.push(Math.floor((C.y+K)/W)+1);break;case"arc":B.push(Math.floor((C.y+K-C.radius)/W)+1),B.push(Math.floor((C.y+K+C.radius)/W)+1);break;case"qct":var re=X(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x,C.y);B.push(Math.floor((re.y+K)/W)+1),B.push(Math.floor((re.y+re.h+K)/W)+1);break;case"bct":var fe=Z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x2,C.y2,C.x,C.y);B.push(Math.floor((fe.y+K)/W)+1),B.push(Math.floor((fe.y+fe.h+K)/W)+1);break;case"rect":B.push(Math.floor((C.y+K)/W)+1),B.push(Math.floor((C.y+C.h+K)/W)+1)}for(var ce=0;ce<B.length;ce+=1)for(;this.pdf.internal.getNumberOfPages()<B[ce];)b.call(this);return B},b=function(){var C=this.fillStyle,U=this.strokeStyle,W=this.font,B=this.lineCap,K=this.lineWidth,re=this.lineJoin;this.pdf.addPage(),this.fillStyle=C,this.strokeStyle=U,this.font=W,this.lineCap=B,this.lineWidth=K,this.lineJoin=re},w=function(C,U,W){for(var B=0;B<C.length;B++)switch(C[B].type){case"bct":C[B].x2+=U,C[B].y2+=W;case"qct":C[B].x1+=U,C[B].y1+=W;default:C[B].x+=U,C[B].y+=W}return C},j=function(C){return C.sort((function(U,W){return U-W}))},N=function(C,U){for(var W,B,K=this.fillStyle,re=this.strokeStyle,fe=this.lineCap,ce=this.lineWidth,he=Math.abs(ce*this.ctx.transform.scaleX),Oe=this.lineJoin,ee=JSON.parse(JSON.stringify(this.path)),De=JSON.parse(JSON.stringify(this.path)),je=[],oe=0;oe<De.length;oe++)if(De[oe].x!==void 0)for(var ue=g.call(this,De[oe]),_e=0;_e<ue.length;_e+=1)je.indexOf(ue[_e])===-1&&je.push(ue[_e]);for(var Se=0;Se<je.length;Se++)for(;this.pdf.internal.getNumberOfPages()<je[Se];)b.call(this);if(j(je),this.autoPaging)for(var Pe=je[0],pe=je[je.length-1],ae=Pe;ae<pe+1;ae++){this.pdf.setPage(ae),this.fillStyle=K,this.strokeStyle=re,this.lineCap=fe,this.lineWidth=he,this.lineJoin=Oe;var ye=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Be=ae===1?this.posY+this.margin[0]:this.margin[0],$e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],rt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ft=ae===1?0:$e+(ae-2)*rt;if(this.ctx.clip_path.length!==0){var Nt=this.path;W=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(W,this.posX+this.margin[3],-ft+Be+this.ctx.prevPageLastElemOffset),S.call(this,C,!0),this.path=Nt}if(B=JSON.parse(JSON.stringify(ee)),this.path=w(B,this.posX+this.margin[3],-ft+Be+this.ctx.prevPageLastElemOffset),U===!1||ae===0){var Ue=(ae>Pe||ae<pe)&&v.call(this);Ue&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ye,rt,null).clip().discardPath()),S.call(this,C,U),Ue&&this.pdf.restoreGraphicsState()}this.lineWidth=ce}else this.lineWidth=he,S.call(this,C,U),this.lineWidth=ce;this.path=ee},S=function(C,U){if((C!=="stroke"||U||!y.call(this))&&(C==="stroke"||U||!p.call(this))){for(var W,B,K=[],re=this.path,fe=0;fe<re.length;fe++){var ce=re[fe];switch(ce.type){case"begin":K.push({begin:!0});break;case"close":K.push({close:!0});break;case"mt":K.push({start:ce,deltas:[],abs:[]});break;case"lt":var he=K.length;if(re[fe-1]&&!isNaN(re[fe-1].x)&&(W=[ce.x-re[fe-1].x,ce.y-re[fe-1].y],he>0)){for(;he>=0;he--)if(K[he-1].close!==!0&&K[he-1].begin!==!0){K[he-1].deltas.push(W),K[he-1].abs.push(ce);break}}break;case"bct":W=[ce.x1-re[fe-1].x,ce.y1-re[fe-1].y,ce.x2-re[fe-1].x,ce.y2-re[fe-1].y,ce.x-re[fe-1].x,ce.y-re[fe-1].y],K[K.length-1].deltas.push(W);break;case"qct":var Oe=re[fe-1].x+2/3*(ce.x1-re[fe-1].x),ee=re[fe-1].y+2/3*(ce.y1-re[fe-1].y),De=ce.x+2/3*(ce.x1-ce.x),je=ce.y+2/3*(ce.y1-ce.y),oe=ce.x,ue=ce.y;W=[Oe-re[fe-1].x,ee-re[fe-1].y,De-re[fe-1].x,je-re[fe-1].y,oe-re[fe-1].x,ue-re[fe-1].y],K[K.length-1].deltas.push(W);break;case"arc":K.push({deltas:[],abs:[],arc:!0}),Array.isArray(K[K.length-1].abs)&&K[K.length-1].abs.push(ce)}}B=U?null:C==="stroke"?"stroke":"fill";for(var _e=!1,Se=0;Se<K.length;Se++)if(K[Se].arc)for(var Pe=K[Se].abs,pe=0;pe<Pe.length;pe++){var ae=Pe[pe];ae.type==="arc"?O.call(this,ae.x,ae.y,ae.radius,ae.startAngle,ae.endAngle,ae.counterclockwise,void 0,U,!_e):I.call(this,ae.x,ae.y),_e=!0}else if(K[Se].close===!0)this.pdf.internal.out("h"),_e=!1;else if(K[Se].begin!==!0){var ye=K[Se].start.x,Be=K[Se].start.y;z.call(this,K[Se].deltas,ye,Be),_e=!0}B&&M.call(this,B),U&&F.call(this)}},P=function(C){var U=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,W=U*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return C-W;case"top":return C+U-W;case"hanging":return C+U-2*W;case"middle":return C+U/2-W;case"ideographic":return C;default:return C}},A=function(C){return C+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var C=function(){};return C.colorStops=[],C.addColorStop=function(U,W){this.colorStops.push([U,W])},C.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},C.isCanvasGradient=!0,C},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var O=function(C,U,W,B,K,re,fe,ce,he){for(var Oe=te.call(this,W,B,K,re),ee=0;ee<Oe.length;ee++){var De=Oe[ee];ee===0&&(he?E.call(this,De.x1+C,De.y1+U):I.call(this,De.x1+C,De.y1+U)),Q.call(this,C,U,De.x2,De.y2,De.x3,De.y3,De.x4,De.y4)}ce?F.call(this):M.call(this,fe)},M=function(C){switch(C){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},F=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(C,U){this.pdf.internal.out(r(C)+" "+n(U)+" m")},T=function(C){var U;switch(C.align){case"right":case"end":U="right";break;case"center":U="center";break;default:U="left"}var W=this.pdf.getTextDimensions(C.text),B=P.call(this,C.y),K=A.call(this,B)-W.h,re=this.ctx.transform.applyToPoint(new o(C.x,B)),fe=this.ctx.transform.decompose(),ce=new c;ce=(ce=(ce=ce.multiply(fe.translate)).multiply(fe.skew)).multiply(fe.scale);for(var he,Oe,ee,De=this.ctx.transform.applyToRectangle(new l(C.x,B,W.w,W.h)),je=ce.applyToRectangle(new l(C.x,K,W.w,W.h)),oe=g.call(this,je),ue=[],_e=0;_e<oe.length;_e+=1)ue.indexOf(oe[_e])===-1&&ue.push(oe[_e]);if(j(ue),this.autoPaging)for(var Se=ue[0],Pe=ue[ue.length-1],pe=Se;pe<Pe+1;pe++){this.pdf.setPage(pe);var ae=pe===1?this.posY+this.margin[0]:this.margin[0],ye=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Be=this.pdf.internal.pageSize.height-this.margin[2],$e=Be-this.margin[0],rt=this.pdf.internal.pageSize.width-this.margin[1],ft=rt-this.margin[3],Nt=pe===1?0:ye+(pe-2)*$e;if(this.ctx.clip_path.length!==0){var Ue=this.path;he=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(he,this.posX+this.margin[3],-1*Nt+ae),S.call(this,"fill",!0),this.path=Ue}var dt=w([JSON.parse(JSON.stringify(je))],this.posX+this.margin[3],-Nt+ae+this.ctx.prevPageLastElemOffset)[0];C.scale>=.01&&(Oe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Oe*C.scale),ee=this.lineWidth,this.lineWidth=ee*C.scale);var st=this.autoPaging!=="text";if(st||dt.y+dt.h<=Be){if(st||dt.y>=ae&&dt.x<=rt){var it=st?C.text:this.pdf.splitTextToSize(C.text,C.maxWidth||rt-dt.x)[0],Re=w([JSON.parse(JSON.stringify(De))],this.posX+this.margin[3],-Nt+ae+this.ctx.prevPageLastElemOffset)[0],vt=st&&(pe>Se||pe<Pe)&&v.call(this);vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ft,$e,null).clip().discardPath()),this.pdf.text(it,Re.x,Re.y,{angle:C.angle,align:U,renderingMode:C.renderingMode}),vt&&this.pdf.restoreGraphicsState()}}else dt.y<Be&&(this.ctx.prevPageLastElemOffset+=Be-dt.y);C.scale>=.01&&(this.pdf.setFontSize(Oe),this.lineWidth=ee)}else C.scale>=.01&&(Oe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Oe*C.scale),ee=this.lineWidth,this.lineWidth=ee*C.scale),this.pdf.text(C.text,re.x+this.posX,re.y+this.posY,{angle:C.angle,align:U,renderingMode:C.renderingMode,maxWidth:C.maxWidth}),C.scale>=.01&&(this.pdf.setFontSize(Oe),this.lineWidth=ee)},I=function(C,U,W,B){W=W||0,B=B||0,this.pdf.internal.out(r(C+W)+" "+n(U+B)+" l")},z=function(C,U,W){return this.pdf.lines(C,U,W,null,null)},Q=function(C,U,W,B,K,re,fe,ce){this.pdf.internal.out([t(a(W+C)),t(s(B+U)),t(a(K+C)),t(s(re+U)),t(a(fe+C)),t(s(ce+U)),"c"].join(" "))},te=function(C,U,W,B){for(var K=2*Math.PI,re=Math.PI/2;U>W;)U-=K;var fe=Math.abs(W-U);fe<K&&B&&(fe=K-fe);for(var ce=[],he=B?-1:1,Oe=U;fe>1e-5;){var ee=Oe+he*Math.min(fe,re);ce.push(J.call(this,C,Oe,ee)),fe-=Math.abs(ee-Oe),Oe=ee}return ce},J=function(C,U,W){var B=(W-U)/2,K=C*Math.cos(B),re=C*Math.sin(B),fe=K,ce=-re,he=fe*fe+ce*ce,Oe=he+fe*K+ce*re,ee=4/3*(Math.sqrt(2*he*Oe)-Oe)/(fe*re-ce*K),De=fe-ee*ce,je=ce+ee*fe,oe=De,ue=-je,_e=B+U,Se=Math.cos(_e),Pe=Math.sin(_e);return{x1:C*Math.cos(U),y1:C*Math.sin(U),x2:De*Se-je*Pe,y2:De*Pe+je*Se,x3:oe*Se-ue*Pe,y3:oe*Pe+ue*Se,x4:C*Math.cos(W),y4:C*Math.sin(W)}},ie=function(C){return 180*C/Math.PI},X=function(C,U,W,B,K,re){var fe=C+.5*(W-C),ce=U+.5*(B-U),he=K+.5*(W-K),Oe=re+.5*(B-re),ee=Math.min(C,K,fe,he),De=Math.max(C,K,fe,he),je=Math.min(U,re,ce,Oe),oe=Math.max(U,re,ce,Oe);return new l(ee,je,De-ee,oe-je)},Z=function(C,U,W,B,K,re,fe,ce){var he,Oe,ee,De,je,oe,ue,_e,Se,Pe,pe,ae,ye,Be,$e=W-C,rt=B-U,ft=K-W,Nt=re-B,Ue=fe-K,dt=ce-re;for(Oe=0;Oe<41;Oe++)Se=(ue=(ee=C+(he=Oe/40)*$e)+he*((je=W+he*ft)-ee))+he*(je+he*(K+he*Ue-je)-ue),Pe=(_e=(De=U+he*rt)+he*((oe=B+he*Nt)-De))+he*(oe+he*(re+he*dt-oe)-_e),Oe==0?(pe=Se,ae=Pe,ye=Se,Be=Pe):(pe=Math.min(pe,Se),ae=Math.min(ae,Pe),ye=Math.max(ye,Se),Be=Math.max(Be,Pe));return new l(Math.round(pe),Math.round(ae),Math.round(ye-pe),Math.round(Be-ae))},q=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var C,U,W=(C=this.ctx.lineDash,U=this.ctx.lineDashOffset,JSON.stringify({lineDash:C,lineDashOffset:U}));this.prevLineDash!==W&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=W)}}})(Kr.API),(function(e){var t=function(s){var o,l,c,u,d,h,m,p,y,v;for(l=[],c=0,u=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;u>c;c+=4)(d=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(h=(d=((d=((d=((d=(d-(v=d%85))/85)-(y=d%85))/85)-(p=d%85))/85)-(m=d%85))/85)%85,l.push(h+33,m+33,p+33,y+33,v+33)):l.push(122);return(function(g,b){for(var w=b;w>0;w--)g.pop()})(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(s){var o,l,c,u,d,h=String,m="length",p=255,y="charCodeAt",v="slice",g="replace";for(s[v](-2),s=s[v](0,-2)[g](/\s/g,"")[g]("z","!!!!!"),c=[],u=0,d=(s+=o="uuuuu"[v](s[m]%5||5))[m];d>u;u+=5)l=52200625*(s[y](u)-33)+614125*(s[y](u+1)-33)+7225*(s[y](u+2)-33)+85*(s[y](u+3)-33)+(s[y](u+4)-33),c.push(p&l>>24,p&l>>16,p&l>>8,p&l);return(function(b,w){for(var j=w;j>0;j--)b.pop()})(c,o[m]),h.fromCharCode.apply(h,c)},n=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var l="",c=0;c<s.length;c+=2)l+=String.fromCharCode("0x"+(s[c]+s[c+1]));return l},a=function(s){for(var o=new Uint8Array(s.length),l=s.length;l--;)o[l]=s.charCodeAt(l);return s=(o=Rj(o)).reduce((function(c,u){return c+String.fromCharCode(u)}),"")};e.processDataByFilters=function(s,o){var l=0,c=s||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map((function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)})).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}})(Kr.API),(function(e){e.loadFile=function(t,r,n){return(function(a,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=(function(c,u,d){var h=new XMLHttpRequest,m=0,p=function(y){var v=y.length,g=[],b=String.fromCharCode;for(m=0;m<v;m+=1)g.push(b(255&y.charCodeAt(m)));return g.join("")};if(h.open("GET",c,!u),h.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(h.onload=function(){h.status===200?d(p(this.responseText)):d(void 0)}),h.send(null),u&&h.status===200)return p(h.responseText)})(a,s,o)}catch{}return l})(t,r,n)},e.loadImageFile=e.loadFile})(Kr.API),(function(e){function t(){return(Xr.html2canvas?Promise.resolve(Xr.html2canvas):Ij(()=>import("./html2canvas.esm-DXEQVQnt.js"),[])).catch((function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))})).then((function(o){return o.default?o.default:o}))}function r(){return(Xr.DOMPurify?Promise.resolve(Xr.DOMPurify):Ij(()=>import("./purify.es-BpVZ_uCt.js"),[])).catch((function(o){return Promise.reject(new Error("Could not load dompurify: "+o))})).then((function(o){return o.default?o.default:o}))}var n=function(o){var l=sa(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},a=function(o,l){var c=document.createElement(o);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},s=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return u=(u=u.setProgress(1,o,1,[o])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,l){return o.__proto__=l||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,l){return this.then((function(){switch(l=l||(function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o)){case"string":return this.then(r).then((function(c){return this.set({src:a("div",{innerHTML:o,dompurify:c})})}));case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}}))},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=(function c(u,d){for(var h=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),m=u.firstChild;m;m=m.nextSibling)d!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||h.appendChild(c(m,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(h.width=u.width,h.height=u.height,h.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(h.value=u.value),h.addEventListener("load",(function(){h.scrollTop=u.scrollTop,h.scrollLeft=u.scrollLeft}),!0)),h})(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then((function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)})).then((function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)}))},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then((function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var m=0;m<u.length;++m){var p=u[m],y=p.src.find((function(v){return v.format==="truetype"}));y&&c.addFont(y.url,p.ref.name,p.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,c.context2d.save(!0),l(this.prop.container,h)})).then((function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)}))},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o}))},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},s.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},s.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(o,l)}))},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}}))},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},s.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map((function(c){if(c in s.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}}),this);return this.then((function(){return this.thenList(l)}))},s.prototype.get=function(o,l){return this.then((function(){var c=o in s.template.prop?this.prop[o]:this.opt[o];return l?l(c):c}))},s.prototype.setMargin=function(o){return this.then((function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o})).then(this.setPageSize)},s.prototype.setPageSize=function(o){function l(c,u){return Math.floor(c*u/72*96)}return this.then((function(){(o=o||Kr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o}))},s.prototype.setProgress=function(o,l,c,u){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,l,c,u){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,(function(u,d){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,(function(h){return c.updateProgress(null,u),h})).then(u,d).then((function(h){return c.updateProgress(1),h}))}))},s.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),l&&(l=l.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),d=c.call(u,o,l);return s.convert(d,this.__proto__)},s.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},s.prototype.thenList=function(o){var l=this;return o.forEach((function(c){l=l.thenCore(c)})),l},s.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return s.convert(l,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then((function(){throw new Error(o)}))},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Kr.getPageSize=function(o,l,c){if(sa(o)==="object"){var u=o;o=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var d,h=(""+c).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var p,y=0,v=0;if(m.hasOwnProperty(h))y=m[h][1]/d,v=m[h][0]/d;else try{y=c[1],v=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",v>y&&(p=v,v=y,y=p);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",y>v&&(p=v,v=y,y=p)}return{width:v,height:y,unit:l,k:d,orientation:o}},e.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(Hj):null;var c=new s(l);return l.worker?c:c.from(o).doCallback()}})(Kr.API),Kr.API.addJS=function(e){return K8=e,this.internal.events.subscribe("postPutResources",(function(){Qg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Qg+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),G8=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+K8+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){Qg!==void 0&&G8!==void 0&&this.internal.out("/Names <</JavaScript "+Qg+" 0 R>>")})),this},(function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),s=0;s<a.length;s++){var o=a[s],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(s=0;s<u;s++){var h=r.internal.newObject();d.push(h);var m=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<d.length;s++)r.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,s){var o={title:a,options:s,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var o=n.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var s=0;s<a.children.length;s++)n.count++,this.count_r(n,a.children[s]);return n.count}}])})(Kr.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,s,o,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=(function(h){for(var m,p=256*h.charCodeAt(4)+h.charCodeAt(5),y=h.length,v={width:0,height:0,numcomponents:1},g=4;g<y;g+=2){if(g+=p,t.indexOf(h.charCodeAt(g+1))!==-1){m=256*h.charCodeAt(g+5)+h.charCodeAt(g+6),v={width:256*h.charCodeAt(g+7)+h.charCodeAt(g+8),height:m,numcomponents:h.charCodeAt(g+9)};break}p=256*h.charCodeAt(g+2)+h.charCodeAt(g+3)}return v})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:a}}return d}})(Kr.API);var th,Zg,X8,Y8,J8,Wme=(function(){var e,t,r;function n(s){var o,l,c,u,d,h,m,p,y,v,g,b,w,j;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(o=this.readUInt32(),y=(function(){var N,S;for(S=[],N=0;N<4;++N)S.push(String.fromCharCode(this.data[this.pos++]));return S}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),u=this.readUInt16()||100,h.delay=1e3*d/u,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(y==="fdAT"&&(this.pos+=4,o-=4),s=h?.data||this.imgData,b=0;0<=o?b<o:b>o;0<=o?++b:--b)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((v=c-this.transparency.indexed.length)>0)for(w=0;0<=v?w<v:w>v;0<=v?++w:--w)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":m=(g=this.read(o)).indexOf(0),p=String.fromCharCode.apply(String,g.slice(0,m)),this.text[p]=String.fromCharCode.apply(String,g.slice(m+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(j=this.colorType)===4||j===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(s){var o,l;for(l=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)l.push(this.data[this.pos++]);return l},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*o),c=0,u=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function d(h,m,p,y){var v,g,b,w,j,N,S,P,A,O,M,F,E,T,I,z,Q,te,J,ie,X,Z=Math.ceil((u.width-h)/p),q=Math.ceil((u.height-m)/y),C=u.width==Z&&u.height==q;for(T=o*Z,F=C?l:new Uint8Array(T*q),N=s.length,E=0,g=0;E<q&&c<N;){switch(s[c++]){case 0:for(w=Q=0;Q<T;w=Q+=1)F[g++]=s[c++];break;case 1:for(w=te=0;te<T;w=te+=1)v=s[c++],j=w<o?0:F[g-o],F[g++]=(v+j)%256;break;case 2:for(w=J=0;J<T;w=J+=1)v=s[c++],b=(w-w%o)/o,I=E&&F[(E-1)*T+b*o+w%o],F[g++]=(I+v)%256;break;case 3:for(w=ie=0;ie<T;w=ie+=1)v=s[c++],b=(w-w%o)/o,j=w<o?0:F[g-o],I=E&&F[(E-1)*T+b*o+w%o],F[g++]=(v+Math.floor((j+I)/2))%256;break;case 4:for(w=X=0;X<T;w=X+=1)v=s[c++],b=(w-w%o)/o,j=w<o?0:F[g-o],E===0?I=z=0:(I=F[(E-1)*T+b*o+w%o],z=b&&F[(E-1)*T+(b-1)*o+w%o]),S=j+I-z,P=Math.abs(S-j),O=Math.abs(S-I),M=Math.abs(S-z),A=P<=O&&P<=M?j:O<=M?I:z,F[g++]=(v+A)%256;break;default:throw new Error("Invalid filter algorithm: "+s[c-1])}if(!C){var U=((m+E*y)*u.width+h)*o,W=E*T;for(w=0;w<Z;w+=1){for(var B=0;B<o;B+=1)l[U++]=F[W++];U+=(p-1)*o}}E++}}return s=jme(s),u.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),l},n.prototype.decodePalette=function(){var s,o,l,c,u,d,h,m,p;for(l=this.palette,d=this.transparency.indexed||[],u=new Uint8Array((d.length||0)+l.length),c=0,s=0,o=h=0,m=l.length;h<m;o=h+=3)u[c++]=l[o],u[c++]=l[o+1],u[c++]=l[o+2],u[c++]=(p=d[s++])!=null?p:255;return u},n.prototype.copyToImageData=function(s,o){var l,c,u,d,h,m,p,y,v,g,b;if(c=this.colors,v=null,l=this.hasAlphaChannel,this.palette.length&&(v=(b=this._decodedPalette)!=null?b:this._decodedPalette=this.decodePalette(),c=4,l=!0),y=(u=s.data||s).length,h=v||o,d=m=0,c===1)for(;d<y;)p=v?4*o[d/4]:m,g=h[p++],u[d++]=g,u[d++]=g,u[d++]=g,u[d++]=l?h[p++]:255,m=p;else for(;d<y;)p=v?4*o[d/4]:m,u[d++]=h[p++],u[d++]=h[p++],u[d++]=h[p++],u[d++]=l?h[p++]:255,m=p},n.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var a=function(){if(Object.prototype.toString.call(Xr)==="[object Window]"){try{t=Xr.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(s){var o;if(a()===!0)return r.width=s.width,r.height=s.height,r.clearRect(0,0,s.width,s.height),r.putImageData(s,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(s){var o,l,c,u,d,h,m,p;if(this.animation){for(p=[],l=d=0,h=(m=this.animation.frames).length;d<h;l=++d)o=m[l],c=s.createImageData(o.width,o.height),u=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,u),o.imageData=c,p.push(o.image=e(c));return p}},n.prototype.renderFrame=function(s,o){var l,c,u;return l=(c=this.animation.frames)[o],u=c[o-1],o===0&&s.clearRect(0,0,this.width,this.height),u?.disposeOp===1?s.clearRect(u.xOffset,u.yOffset,u.width,u.height):u?.disposeOp===2&&s.putImageData(u.imageData,u.xOffset,u.yOffset),l.blendOp===0&&s.clearRect(l.xOffset,l.yOffset,l.width,l.height),s.drawImage(l.image,l.xOffset,l.yOffset)},n.prototype.animate=function(s){var o,l,c,u,d,h,m=this;return l=0,h=this.animation,u=h.numFrames,c=h.frames,d=h.numPlays,(o=function(){var p,y;if(p=l++%u,y=c[p],m.renderFrame(s,p),u>1&&l/u<d)return m.animation._timeout=setTimeout(o,y.delay)})()},n.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},n.prototype.render=function(s){var o,l;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(l=o.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),o.putImageData(l,0,0))},n})();function Vme(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],s=a>>7,o=1<<(7&a)+1;e[t++],e[t++];var l=null,c=null;s&&(l=t,c=o,t+=3*o);var u=!0,d=[],h=0,m=null,p=0,y=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,y=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var v=e[t++];h=e[t++]|e[t++]<<8,m=e[t++],(1&v)==0&&(m=null),p=v>>2&7,t++;break;case 254:for(;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var g=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,j=e[t++]|e[t++]<<8,N=e[t++],S=N>>6&1,P=1<<(7&N)+1,A=l,O=c,M=!1;N>>7&&(M=!0,A=t,O=P,t+=3*P);var F=t;for(t++;;){var E;if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}d.push({x:g,y:b,width:w,height:j,has_local_palette:M,palette_offset:A,palette_size:O,data_offset:F,data_length:t-F,transparent_index:m,interlaced:!!S,delay:h,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return y},this.frameInfo=function(T){if(T<0||T>=d.length)throw new Error("Frame index out of range.");return d[T]},this.decodeAndBlitFrameBGRA=function(T,I){var z=this.frameInfo(T),Q=z.width*z.height,te=new Uint8Array(Q);Q8(e,z.data_offset,te,Q);var J=z.palette_offset,ie=z.transparent_index;ie===null&&(ie=256);var X=z.width,Z=r-X,q=X,C=4*(z.y*r+z.x),U=4*((z.y+z.height)*r+z.x),W=C,B=4*Z;z.interlaced===!0&&(B+=4*r*7);for(var K=8,re=0,fe=te.length;re<fe;++re){var ce=te[re];if(q===0&&(q=X,(W+=B)>=U&&(B=4*Z+4*r*(K-1),W=C+(X+Z)*(K<<1),K>>=1)),ce===ie)W+=4;else{var he=e[J+3*ce],Oe=e[J+3*ce+1],ee=e[J+3*ce+2];I[W++]=ee,I[W++]=Oe,I[W++]=he,I[W++]=255}--q}},this.decodeAndBlitFrameRGBA=function(T,I){var z=this.frameInfo(T),Q=z.width*z.height,te=new Uint8Array(Q);Q8(e,z.data_offset,te,Q);var J=z.palette_offset,ie=z.transparent_index;ie===null&&(ie=256);var X=z.width,Z=r-X,q=X,C=4*(z.y*r+z.x),U=4*((z.y+z.height)*r+z.x),W=C,B=4*Z;z.interlaced===!0&&(B+=4*r*7);for(var K=8,re=0,fe=te.length;re<fe;++re){var ce=te[re];if(q===0&&(q=X,(W+=B)>=U&&(B=4*Z+4*r*(K-1),W=C+(X+Z)*(K<<1),K>>=1)),ce===ie)W+=4;else{var he=e[J+3*ce],Oe=e[J+3*ce+1],ee=e[J+3*ce+2];I[W++]=he,I[W++]=Oe,I[W++]=ee,I[W++]=255}--q}}}function Q8(e,t,r,n){for(var a=e[t++],s=1<<a,o=s+1,l=o+1,c=a+1,u=(1<<c)-1,d=0,h=0,m=0,p=e[t++],y=new Int32Array(4096),v=null;;){for(;d<16&&p!==0;)h|=e[t++]<<d,d+=8,p===1?p=e[t++]:--p;if(d<c)break;var g=h&u;if(h>>=c,d-=c,g!==s){if(g===o)break;for(var b=g<l?g:v,w=0,j=b;j>s;)j=y[j]>>8,++w;var N=j;if(m+w+(b!==g?1:0)>n)return void fa.log("Warning, gif stream longer than expected.");r[m++]=N;var S=m+=w;for(b!==g&&(r[m++]=N),j=b;w--;)j=y[j],r[--S]=255&j,j>>=8;v!==null&&l<4096&&(y[l++]=v<<8|N,l>=u+1&&c<12&&(++c,u=u<<1|1)),v=g}else l=o+1,u=(1<<(c=a+1))-1,v=null}return m!==n&&fa.log("Warning, gif stream shorter than expected."),r}function HN(e){var t,r,n,a,s,o=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),h=new Array(65535),m=new Array(65535),p=new Array(64),y=new Array(64),v=[],g=0,b=7,w=new Array(64),j=new Array(64),N=new Array(64),S=new Array(256),P=new Array(2048),A=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],O=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Q=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function te(C,U){for(var W=0,B=0,K=new Array,re=1;re<=16;re++){for(var fe=1;fe<=C[re];fe++)K[U[B]]=[],K[U[B]][0]=W,K[U[B]][1]=re,B++,W++;W*=2}return K}function J(C){for(var U=C[0],W=C[1]-1;W>=0;)U&1<<W&&(g|=1<<b),W--,--b<0&&(g==255?(ie(255),ie(0)):ie(g),b=7,g=0)}function ie(C){v.push(C)}function X(C){ie(C>>8&255),ie(255&C)}function Z(C,U,W,B,K){for(var re,fe=K[0],ce=K[240],he=(function(Pe,pe){var ae,ye,Be,$e,rt,ft,Nt,Ue,dt,st,it=0;for(dt=0;dt<8;++dt){ae=Pe[it],ye=Pe[it+1],Be=Pe[it+2],$e=Pe[it+3],rt=Pe[it+4],ft=Pe[it+5],Nt=Pe[it+6];var Re=ae+(Ue=Pe[it+7]),vt=ae-Ue,nt=ye+Nt,Rt=ye-Nt,er=Be+ft,ar=Be-ft,$t=$e+rt,Pr=$e-rt,Kt=Re+$t,Er=Re-$t,nn=nt+er,fr=nt-er;Pe[it]=Kt+nn,Pe[it+4]=Kt-nn;var or=.707106781*(fr+Er);Pe[it+2]=Er+or,Pe[it+6]=Er-or;var Tr=.382683433*((Kt=Pr+ar)-(fr=Rt+vt)),fn=.5411961*Kt+Tr,sn=1.306562965*fr+Tr,We=.707106781*(nn=ar+Rt),Ct=vt+We,At=vt-We;Pe[it+5]=At+fn,Pe[it+3]=At-fn,Pe[it+1]=Ct+sn,Pe[it+7]=Ct-sn,it+=8}for(it=0,dt=0;dt<8;++dt){ae=Pe[it],ye=Pe[it+8],Be=Pe[it+16],$e=Pe[it+24],rt=Pe[it+32],ft=Pe[it+40],Nt=Pe[it+48];var ir=ae+(Ue=Pe[it+56]),vr=ae-Ue,Wr=ye+Nt,Br=ye-Nt,Hr=Be+ft,ne=Be-ft,ge=$e+rt,ve=$e-rt,ke=ir+ge,Ie=ir-ge,Te=Wr+Hr,ze=Wr-Hr;Pe[it]=ke+Te,Pe[it+32]=ke-Te;var et=.707106781*(ze+Ie);Pe[it+16]=Ie+et,Pe[it+48]=Ie-et;var Ge=.382683433*((ke=ve+ne)-(ze=Br+vr)),Je=.5411961*ke+Ge,at=1.306562965*ze+Ge,wt=.707106781*(Te=ne+Br),Pt=vr+wt,It=vr-wt;Pe[it+40]=It+Je,Pe[it+24]=It-Je,Pe[it+8]=Pt+at,Pe[it+56]=Pt-at,it++}for(dt=0;dt<64;++dt)st=Pe[dt]*pe[dt],p[dt]=st>0?st+.5|0:st-.5|0;return p})(C,U),Oe=0;Oe<64;++Oe)y[A[Oe]]=he[Oe];var ee=y[0]-W;W=y[0],ee==0?J(B[0]):(J(B[m[re=32767+ee]]),J(h[re]));for(var De=63;De>0&&y[De]==0;)De--;if(De==0)return J(fe),W;for(var je,oe=1;oe<=De;){for(var ue=oe;y[oe]==0&&oe<=De;)++oe;var _e=oe-ue;if(_e>=16){je=_e>>4;for(var Se=1;Se<=je;++Se)J(ce);_e&=15}re=32767+y[oe],J(K[(_e<<4)+m[re]]),J(h[re]),oe++}return De!=63&&J(fe),W}function q(C){C=Math.min(Math.max(C,1),100),s!=C&&((function(U){for(var W=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],B=0;B<64;B++){var K=o((W[B]*U+50)/100);K=Math.min(Math.max(K,1),255),l[A[B]]=K}for(var re=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],fe=0;fe<64;fe++){var ce=o((re[fe]*U+50)/100);ce=Math.min(Math.max(ce,1),255),c[A[fe]]=ce}for(var he=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Oe=0,ee=0;ee<8;ee++)for(var De=0;De<8;De++)u[Oe]=1/(l[A[Oe]]*he[ee]*he[De]*8),d[Oe]=1/(c[A[Oe]]*he[ee]*he[De]*8),Oe++})(C<50?Math.floor(5e3/C):Math.floor(200-2*C)),s=C)}this.encode=function(C,U){U&&q(U),v=new Array,g=0,b=7,X(65496),X(65504),X(16),ie(74),ie(70),ie(73),ie(70),ie(0),ie(1),ie(1),ie(0),X(1),X(1),ie(0),ie(0),(function(){X(65499),X(132),ie(0);for(var ye=0;ye<64;ye++)ie(l[ye]);ie(1);for(var Be=0;Be<64;Be++)ie(c[Be])})(),(function(ye,Be){X(65472),X(17),ie(8),X(Be),X(ye),ie(3),ie(1),ie(17),ie(0),ie(2),ie(17),ie(1),ie(3),ie(17),ie(1)})(C.width,C.height),(function(){X(65476),X(418),ie(0);for(var ye=0;ye<16;ye++)ie(O[ye+1]);for(var Be=0;Be<=11;Be++)ie(M[Be]);ie(16);for(var $e=0;$e<16;$e++)ie(F[$e+1]);for(var rt=0;rt<=161;rt++)ie(E[rt]);ie(1);for(var ft=0;ft<16;ft++)ie(T[ft+1]);for(var Nt=0;Nt<=11;Nt++)ie(I[Nt]);ie(17);for(var Ue=0;Ue<16;Ue++)ie(z[Ue+1]);for(var dt=0;dt<=161;dt++)ie(Q[dt])})(),X(65498),X(12),ie(3),ie(1),ie(0),ie(2),ie(17),ie(3),ie(17),ie(0),ie(63),ie(0);var W=0,B=0,K=0;g=0,b=7,this.encode.displayName="_encode_";for(var re,fe,ce,he,Oe,ee,De,je,oe,ue=C.data,_e=C.width,Se=C.height,Pe=4*_e,pe=0;pe<Se;){for(re=0;re<Pe;){for(Oe=Pe*pe+re,De=-1,je=0,oe=0;oe<64;oe++)ee=Oe+(je=oe>>3)*Pe+(De=4*(7&oe)),pe+je>=Se&&(ee-=Pe*(pe+1+je-Se)),re+De>=Pe&&(ee-=re+De-Pe+4),fe=ue[ee++],ce=ue[ee++],he=ue[ee++],w[oe]=(P[fe]+P[ce+256>>0]+P[he+512>>0]>>16)-128,j[oe]=(P[fe+768>>0]+P[ce+1024>>0]+P[he+1280>>0]>>16)-128,N[oe]=(P[fe+1280>>0]+P[ce+1536>>0]+P[he+1792>>0]>>16)-128;W=Z(w,u,W,t,n),B=Z(j,d,B,r,a),K=Z(N,d,K,r,a),re+=32}pe+=8}if(b>=0){var ae=[];ae[1]=b+1,ae[0]=(1<<b+1)-1,J(ae)}return X(65497),new Uint8Array(v)},e=e||50,(function(){for(var C=String.fromCharCode,U=0;U<256;U++)S[U]=C(U)})(),t=te(O,M),r=te(T,I),n=te(F,E),a=te(z,Q),(function(){for(var C=1,U=2,W=1;W<=15;W++){for(var B=C;B<U;B++)m[32767+B]=W,h[32767+B]=[],h[32767+B][1]=W,h[32767+B][0]=B;for(var K=-(U-1);K<=-C;K++)m[32767+K]=W,h[32767+K]=[],h[32767+K][1]=W,h[32767+K][0]=U-1+K;C<<=1,U<<=1}})(),(function(){for(var C=0;C<256;C++)P[C]=19595*C,P[C+256>>0]=38470*C,P[C+512>>0]=7471*C+32768,P[C+768>>0]=-11059*C,P[C+1024>>0]=-21709*C,P[C+1280>>0]=32768*C+8421375,P[C+1536>>0]=-27439*C,P[C+1792>>0]=-5329*C})(),q(e)}function ec(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Z8(e){function t(O){if(!O)throw Error("assert :P")}function r(O,M,F){for(var E=0;4>E;E++)if(O[M+E]!=F.charCodeAt(E))return!0;return!1}function n(O,M,F,E,T){for(var I=0;I<T;I++)O[M+I]=F[E+I]}function a(O,M,F,E){for(var T=0;T<E;T++)O[M+T]=F}function s(O){return new Int32Array(O)}function o(O,M){for(var F=[],E=0;E<O;E++)F.push(new M);return F}function l(O,M){var F=[];return(function E(T,I,z){for(var Q=z[I],te=0;te<Q&&(T.push(z.length>I+1?[]:new M),!(z.length<I+1));te++)E(T[te],I+1,z)})(F,0,O),F}var c=function(){var O=this;function M(_,L){for(var Y=1<<L-1>>>0;_&Y;)Y>>>=1;return Y?(_&Y-1)+Y:_}function F(_,L,Y,le,me){t(!(le%Y));do _[L+(le-=Y)]=me;while(0<le)}function E(_,L,Y,le,me){if(t(2328>=me),512>=me)var be=s(512);else if((be=s(me))==null)return 0;return(function(Ne,Ae,Ce,Fe,Ve,ot){var lt,tt,Ft=Ae,bt=1<<Ce,Xe=s(16),Ye=s(16);for(t(Ve!=0),t(Fe!=null),t(Ne!=null),t(0<Ce),tt=0;tt<Ve;++tt){if(15<Fe[tt])return 0;++Xe[Fe[tt]]}if(Xe[0]==Ve)return 0;for(Ye[1]=0,lt=1;15>lt;++lt){if(Xe[lt]>1<<lt)return 0;Ye[lt+1]=Ye[lt]+Xe[lt]}for(tt=0;tt<Ve;++tt)lt=Fe[tt],0<Fe[tt]&&(ot[Ye[lt]++]=tt);if(Ye[15]==1)return(Fe=new T).g=0,Fe.value=ot[0],F(Ne,Ft,1,bt,Fe),bt;var kt,jt=-1,Et=bt-1,pr=0,sr=1,Lr=1,ur=1<<Ce;for(tt=0,lt=1,Ve=2;lt<=Ce;++lt,Ve<<=1){if(sr+=Lr<<=1,0>(Lr-=Xe[lt]))return 0;for(;0<Xe[lt];--Xe[lt])(Fe=new T).g=lt,Fe.value=ot[tt++],F(Ne,Ft+pr,Ve,ur,Fe),pr=M(pr,lt)}for(lt=Ce+1,Ve=2;15>=lt;++lt,Ve<<=1){if(sr+=Lr<<=1,0>(Lr-=Xe[lt]))return 0;for(;0<Xe[lt];--Xe[lt]){if(Fe=new T,(pr&Et)!=jt){for(Ft+=ur,kt=1<<(jt=lt)-Ce;15>jt&&!(0>=(kt-=Xe[jt]));)++jt,kt<<=1;bt+=ur=1<<(kt=jt-Ce),Ne[Ae+(jt=pr&Et)].g=kt+Ce,Ne[Ae+jt].value=Ft-Ae-jt}Fe.g=lt-Ce,Fe.value=ot[tt++],F(Ne,Ft+(pr>>Ce),Ve,ur,Fe),pr=M(pr,lt)}}return sr!=2*Ye[15]-1?0:bt})(_,L,Y,le,me,be)}function T(){this.value=this.g=0}function I(){this.value=this.g=0}function z(){this.G=o(5,T),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Aa,I)}function Q(_,L,Y,le){t(_!=null),t(L!=null),t(2147483648>le),_.Ca=254,_.I=0,_.b=-8,_.Ka=0,_.oa=L,_.pa=Y,_.Jd=L,_.Yc=Y+le,_.Zc=4<=le?Y+le-4+1:Y,re(_)}function te(_,L){for(var Y=0;0<L--;)Y|=ce(_,128)<<L;return Y}function J(_,L){var Y=te(_,L);return fe(_)?-Y:Y}function ie(_,L,Y,le){var me,be=0;for(t(_!=null),t(L!=null),t(4294967288>le),_.Sb=le,_.Ra=0,_.u=0,_.h=0,4<le&&(le=4),me=0;me<le;++me)be+=L[Y+me]<<8*me;_.Ra=be,_.bb=le,_.oa=L,_.pa=Y}function X(_){for(;8<=_.u&&_.bb<_.Sb;)_.Ra>>>=8,_.Ra+=_.oa[_.pa+_.bb]<<nd-8>>>0,++_.bb,_.u-=8;W(_)&&(_.h=1,_.u=0)}function Z(_,L){if(t(0<=L),!_.h&&L<=rd){var Y=U(_)&td[L];return _.u+=L,X(_),Y}return _.h=1,_.u=0}function q(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function C(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function U(_){return _.Ra>>>(_.u&nd-1)>>>0}function W(_){return t(_.bb<=_.Sb),_.h||_.bb==_.Sb&&_.u>nd}function B(_,L){_.u=L,_.h=W(_)}function K(_){_.u>=ad&&(t(_.u>=ad),X(_))}function re(_){t(_!=null&&_.oa!=null),_.pa<_.Zc?(_.I=(_.oa[_.pa++]|_.I<<8)>>>0,_.b+=8):(t(_!=null&&_.oa!=null),_.pa<_.Yc?(_.b+=8,_.I=_.oa[_.pa++]|_.I<<8):_.Ka?_.b=0:(_.I<<=8,_.b+=8,_.Ka=1))}function fe(_){return te(_,1)}function ce(_,L){var Y=_.Ca;0>_.b&&re(_);var le=_.b,me=Y*L>>>8,be=(_.I>>>le>me)+0;for(be?(Y-=me,_.I-=me+1<<le>>>0):Y=me+1,le=Y,me=0;256<=le;)me+=8,le>>=8;return le=7^me+Xi[le],_.b-=le,_.Ca=(Y<<le)-1,be}function he(_,L,Y){_[L+0]=Y>>24&255,_[L+1]=Y>>16&255,_[L+2]=Y>>8&255,_[L+3]=Y>>0&255}function Oe(_,L){return _[L+0]<<0|_[L+1]<<8}function ee(_,L){return Oe(_,L)|_[L+2]<<16}function De(_,L){return Oe(_,L)|Oe(_,L+2)<<16}function je(_,L){var Y=1<<L;return t(_!=null),t(0<L),_.X=s(Y),_.X==null?0:(_.Mb=32-L,_.Xa=L,1)}function oe(_,L){t(_!=null),t(L!=null),t(_.Xa==L.Xa),n(L.X,0,_.X,0,1<<L.Xa)}function ue(){this.X=[],this.Xa=this.Mb=0}function _e(_,L,Y,le){t(Y!=null),t(le!=null);var me=Y[0],be=le[0];return me==0&&(me=(_*be+L/2)/L),be==0&&(be=(L*me+_/2)/_),0>=me||0>=be?0:(Y[0]=me,le[0]=be,1)}function Se(_,L){return _+(1<<L)-1>>>L}function Pe(_,L){return((4278255360&_)+(4278255360&L)>>>0&4278255360)+((16711935&_)+(16711935&L)>>>0&16711935)>>>0}function pe(_,L){O[L]=function(Y,le,me,be,Ne,Ae,Ce){var Fe;for(Fe=0;Fe<Ne;++Fe){var Ve=O[_](Ae[Ce+Fe-1],me,be+Fe);Ae[Ce+Fe]=Pe(Y[le+Fe],Ve)}}}function ae(){this.ud=this.hd=this.jd=0}function ye(_,L){return((4278124286&(_^L))>>>1)+(_&L)>>>0}function Be(_){return 0<=_&&256>_?_:0>_?0:255<_?255:void 0}function $e(_,L){return Be(_+(_-L+.5>>1))}function rt(_,L,Y){return Math.abs(L-Y)-Math.abs(_-Y)}function ft(_,L,Y,le,me,be,Ne){for(le=be[Ne-1],Y=0;Y<me;++Y)be[Ne+Y]=le=Pe(_[L+Y],le)}function Nt(_,L,Y,le,me){var be;for(be=0;be<Y;++be){var Ne=_[L+be],Ae=Ne>>8&255,Ce=16711935&(Ce=(Ce=16711935&Ne)+((Ae<<16)+Ae));le[me+be]=(4278255360&Ne)+Ce>>>0}}function Ue(_,L){L.jd=_>>0&255,L.hd=_>>8&255,L.ud=_>>16&255}function dt(_,L,Y,le,me,be){var Ne;for(Ne=0;Ne<le;++Ne){var Ae=L[Y+Ne],Ce=Ae>>>8,Fe=Ae,Ve=255&(Ve=(Ve=Ae>>>16)+((_.jd<<24>>24)*(Ce<<24>>24)>>>5));Fe=255&(Fe=(Fe=Fe+((_.hd<<24>>24)*(Ce<<24>>24)>>>5))+((_.ud<<24>>24)*(Ve<<24>>24)>>>5)),me[be+Ne]=(4278255360&Ae)+(Ve<<16)+Fe}}function st(_,L,Y,le,me){O[L]=function(be,Ne,Ae,Ce,Fe,Ve,ot,lt,tt){for(Ce=ot;Ce<lt;++Ce)for(ot=0;ot<tt;++ot)Fe[Ve++]=me(Ae[le(be[Ne++])])},O[_]=function(be,Ne,Ae,Ce,Fe,Ve,ot){var lt=8>>be.b,tt=be.Ea,Ft=be.K[0],bt=be.w;if(8>lt)for(be=(1<<be.b)-1,bt=(1<<lt)-1;Ne<Ae;++Ne){var Xe,Ye=0;for(Xe=0;Xe<tt;++Xe)Xe&be||(Ye=le(Ce[Fe++])),Ve[ot++]=me(Ft[Ye&bt]),Ye>>=lt}else O["VP8LMapColor"+Y](Ce,Fe,Ft,bt,Ve,ot,Ne,Ae,tt)}}function it(_,L,Y,le,me){for(Y=L+Y;L<Y;){var be=_[L++];le[me++]=be>>16&255,le[me++]=be>>8&255,le[me++]=be>>0&255}}function Re(_,L,Y,le,me){for(Y=L+Y;L<Y;){var be=_[L++];le[me++]=be>>16&255,le[me++]=be>>8&255,le[me++]=be>>0&255,le[me++]=be>>24&255}}function vt(_,L,Y,le,me){for(Y=L+Y;L<Y;){var be=(Ne=_[L++])>>16&240|Ne>>12&15,Ne=Ne>>0&240|Ne>>28&15;le[me++]=be,le[me++]=Ne}}function nt(_,L,Y,le,me){for(Y=L+Y;L<Y;){var be=(Ne=_[L++])>>16&248|Ne>>13&7,Ne=Ne>>5&224|Ne>>3&31;le[me++]=be,le[me++]=Ne}}function Rt(_,L,Y,le,me){for(Y=L+Y;L<Y;){var be=_[L++];le[me++]=be>>0&255,le[me++]=be>>8&255,le[me++]=be>>16&255}}function er(_,L,Y,le,me,be){if(be==0)for(Y=L+Y;L<Y;)he(le,((be=_[L++])[0]>>24|be[1]>>8&65280|be[2]<<8&16711680|be[3]<<24)>>>0),me+=32;else n(le,me,_,L,Y)}function ar(_,L){O[L][0]=O[_+"0"],O[L][1]=O[_+"1"],O[L][2]=O[_+"2"],O[L][3]=O[_+"3"],O[L][4]=O[_+"4"],O[L][5]=O[_+"5"],O[L][6]=O[_+"6"],O[L][7]=O[_+"7"],O[L][8]=O[_+"8"],O[L][9]=O[_+"9"],O[L][10]=O[_+"10"],O[L][11]=O[_+"11"],O[L][12]=O[_+"12"],O[L][13]=O[_+"13"],O[L][14]=O[_+"0"],O[L][15]=O[_+"0"]}function $t(_){return _==ud||_==lu||_==yf||_==bf}function Pr(){this.eb=[],this.size=this.A=this.fb=0}function Kt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Er(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Pr,this.f.kb=new Kt,this.sd=null}function nn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function fr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function or(_){return alert("todo:WebPSamplerProcessPlane"),_.T}function Tr(_,L){var Y=_.T,le=L.ba.f.RGBA,me=le.eb,be=le.fb+_.ka*le.A,Ne=hs[L.ba.S],Ae=_.y,Ce=_.O,Fe=_.f,Ve=_.N,ot=_.ea,lt=_.W,tt=L.cc,Ft=L.dc,bt=L.Mc,Xe=L.Nc,Ye=_.ka,kt=_.ka+_.T,jt=_.U,Et=jt+1>>1;for(Ye==0?Ne(Ae,Ce,null,null,Fe,Ve,ot,lt,Fe,Ve,ot,lt,me,be,null,null,jt):(Ne(L.ec,L.fc,Ae,Ce,tt,Ft,bt,Xe,Fe,Ve,ot,lt,me,be-le.A,me,be,jt),++Y);Ye+2<kt;Ye+=2)tt=Fe,Ft=Ve,bt=ot,Xe=lt,Ve+=_.Rc,lt+=_.Rc,be+=2*le.A,Ne(Ae,(Ce+=2*_.fa)-_.fa,Ae,Ce,tt,Ft,bt,Xe,Fe,Ve,ot,lt,me,be-le.A,me,be,jt);return Ce+=_.fa,_.j+kt<_.o?(n(L.ec,L.fc,Ae,Ce,jt),n(L.cc,L.dc,Fe,Ve,Et),n(L.Mc,L.Nc,ot,lt,Et),Y--):1&kt||Ne(Ae,Ce,null,null,Fe,Ve,ot,lt,Fe,Ve,ot,lt,me,be+le.A,null,null,jt),Y}function fn(_,L,Y){var le=_.F,me=[_.J];if(le!=null){var be=_.U,Ne=L.ba.S,Ae=Ne==vf||Ne==yf;L=L.ba.f.RGBA;var Ce=[0],Fe=_.ka;Ce[0]=_.T,_.Kb&&(Fe==0?--Ce[0]:(--Fe,me[0]-=_.width),_.j+_.ka+_.T==_.o&&(Ce[0]=_.o-_.j-Fe));var Ve=L.eb;Fe=L.fb+Fe*L.A,_=Gn(le,me[0],_.width,be,Ce,Ve,Fe+(Ae?0:3),L.A),t(Y==Ce),_&&$t(Ne)&&ds(Ve,Fe,Ae,be,Ce,L.A)}return 0}function sn(_){var L=_.ma,Y=L.ba.S,le=11>Y,me=Y==Sc||Y==gf||Y==vf||Y==ra||Y==12||$t(Y);if(L.memory=null,L.Ib=null,L.Jb=null,L.Nd=null,!Zu(L.Oa,_,me?11:12))return 0;if(me&&$t(Y)&&mt(),_.da)alert("todo:use_scaling");else{if(le){if(L.Ib=or,_.Kb){if(Y=_.U+1>>1,L.memory=s(_.U+2*Y),L.memory==null)return 0;L.ec=L.memory,L.fc=0,L.cc=L.ec,L.dc=L.fc+_.U,L.Mc=L.cc,L.Nc=L.dc+Y,L.Ib=Tr,mt()}}else alert("todo:EmitYUV");me&&(L.Jb=fn,le&&Me())}if(le&&!yi){for(_=0;256>_;++_)ps[_]=89858*(_-128)+_o>>Ul,ms[_]=-22014*(_-128)+_o,pd[_]=-45773*(_-128),fu[_]=113618*(_-128)+_o>>Ul;for(_=Kn;_<Jn;++_)L=76283*(_-16)+_o>>Ul,P0[_-Kn]=Bs(L,255),qx[_-Kn]=Bs(L+8>>4,15);yi=1}return 1}function We(_){var L=_.ma,Y=_.U,le=_.T;return t(!(1&_.ka)),0>=Y||0>=le?0:(Y=L.Ib(_,L),L.Jb!=null&&L.Jb(_,L,Y),L.Dc+=Y,1)}function Ct(_){_.ma.memory=null}function At(_,L,Y,le){return Z(_,8)!=47?0:(L[0]=Z(_,14)+1,Y[0]=Z(_,14)+1,le[0]=Z(_,1),Z(_,3)!=0?0:!_.h)}function ir(_,L){if(4>_)return _+1;var Y=_-2>>1;return(2+(1&_)<<Y)+Z(L,Y)+1}function vr(_,L){return 120<L?L-120:1<=(Y=((Y=Cy[L-1])>>4)*_+(8-(15&Y)))?Y:1;var Y}function Wr(_,L,Y){var le=U(Y),me=_[L+=255&le].g-8;return 0<me&&(B(Y,Y.u+8),le=U(Y),L+=_[L].value,L+=le&(1<<me)-1),B(Y,Y.u+_[L].g),_[L].value}function Br(_,L,Y){return Y.g+=_.g,Y.value+=_.value<<L>>>0,t(8>=Y.g),_.g}function Hr(_,L,Y){var le=_.xc;return t((L=le==0?0:_.vc[_.md*(Y>>le)+(L>>le)])<_.Wb),_.Ya[L]}function ne(_,L,Y,le){var me=_.ab,be=_.c*L,Ne=_.C;L=Ne+L;var Ae=Y,Ce=le;for(le=_.Ta,Y=_.Ua;0<me--;){var Fe=_.gc[me],Ve=Ne,ot=L,lt=Ae,tt=Ce,Ft=(Ce=le,Ae=Y,Fe.Ea);switch(t(Ve<ot),t(ot<=Fe.nc),Fe.hc){case 2:A0(lt,tt,(ot-Ve)*Ft,Ce,Ae);break;case 0:var bt=Ve,Xe=ot,Ye=Ce,kt=Ae,jt=(ur=Fe).Ea;bt==0&&(ru(lt,tt,null,null,1,Ye,kt),ft(lt,tt+1,0,0,jt-1,Ye,kt+1),tt+=jt,kt+=jt,++bt);for(var Et=1<<ur.b,pr=Et-1,sr=Se(jt,ur.b),Lr=ur.K,ur=ur.w+(bt>>ur.b)*sr;bt<Xe;){var Cn=Lr,Tn=ur,jn=1;for(Pl(lt,tt,Ye,kt-jt,1,Ye,kt);jn<jt;){var ln=(jn&~pr)+Et;ln>jt&&(ln=jt),(0,Vo[Cn[Tn++]>>8&15])(lt,tt+ +jn,Ye,kt+jn-jt,ln-jn,Ye,kt+jn),jn=ln}tt+=jt,kt+=jt,++bt&pr||(ur+=sr)}ot!=Fe.nc&&n(Ce,Ae-Ft,Ce,Ae+(ot-Ve-1)*Ft,Ft);break;case 1:for(Ft=lt,Xe=tt,jt=(lt=Fe.Ea)-(kt=lt&~(Ye=(tt=1<<Fe.b)-1)),bt=Se(lt,Fe.b),Et=Fe.K,Fe=Fe.w+(Ve>>Fe.b)*bt;Ve<ot;){for(pr=Et,sr=Fe,Lr=new ae,ur=Xe+kt,Cn=Xe+lt;Xe<ur;)Ue(pr[sr++],Lr),Nc(Lr,Ft,Xe,tt,Ce,Ae),Xe+=tt,Ae+=tt;Xe<Cn&&(Ue(pr[sr++],Lr),Nc(Lr,Ft,Xe,jt,Ce,Ae),Xe+=jt,Ae+=jt),++Ve&Ye||(Fe+=bt)}break;case 3:if(lt==Ce&&tt==Ae&&0<Fe.b){for(Xe=Ce,lt=Ft=Ae+(ot-Ve)*Ft-(kt=(ot-Ve)*Se(Fe.Ea,Fe.b)),tt=Ce,Ye=Ae,bt=[],kt=(jt=kt)-1;0<=kt;--kt)bt[kt]=tt[Ye+kt];for(kt=jt-1;0<=kt;--kt)Xe[lt+kt]=bt[kt];Yi(Fe,Ve,ot,Ce,Ft,Ce,Ae)}else Yi(Fe,Ve,ot,lt,tt,Ce,Ae)}Ae=le,Ce=Y}Ce!=Y&&n(le,Y,Ae,Ce,be)}function ge(_,L){var Y=_.V,le=_.Ba+_.c*_.C,me=L-_.C;if(t(L<=_.l.o),t(16>=me),0<me){var be=_.l,Ne=_.Ta,Ae=_.Ua,Ce=be.width;if(ne(_,me,Y,le),me=Ae=[Ae],t((Y=_.C)<(le=L)),t(be.v<be.va),le>be.o&&(le=be.o),Y<be.j){var Fe=be.j-Y;Y=be.j,me[0]+=Fe*Ce}if(Y>=le?Y=0:(me[0]+=4*be.v,be.ka=Y-be.j,be.U=be.va-be.v,be.T=le-Y,Y=1),Y){if(Ae=Ae[0],11>(Y=_.ca).S){var Ve=Y.f.RGBA,ot=(le=Y.S,me=be.U,be=be.T,Fe=Ve.eb,Ve.A),lt=be;for(Ve=Ve.fb+_.Ma*Ve.A;0<lt--;){var tt=Ne,Ft=Ae,bt=me,Xe=Fe,Ye=Ve;switch(le){case E0:Ji(tt,Ft,bt,Xe,Ye);break;case Sc:Pi(tt,Ft,bt,Xe,Ye);break;case ud:Pi(tt,Ft,bt,Xe,Ye),ds(Xe,Ye,0,bt,1,0);break;case Fx:Dl(tt,Ft,bt,Xe,Ye);break;case gf:er(tt,Ft,bt,Xe,Ye,1);break;case lu:er(tt,Ft,bt,Xe,Ye,1),ds(Xe,Ye,0,bt,1,0);break;case vf:er(tt,Ft,bt,Xe,Ye,0);break;case yf:er(tt,Ft,bt,Xe,Ye,0),ds(Xe,Ye,1,bt,1,0);break;case ra:jc(tt,Ft,bt,Xe,Ye);break;case bf:jc(tt,Ft,bt,Xe,Ye),ta(Xe,Ye,bt,1,0);break;case C0:Il(tt,Ft,bt,Xe,Ye);break;default:t(0)}Ae+=Ce,Ve+=ot}_.Ma+=be}else alert("todo:EmitRescaledRowsYUVA");t(_.Ma<=Y.height)}}_.C=L,t(_.C<=_.i)}function ve(_){var L;if(0<_.ua)return 0;for(L=0;L<_.Wb;++L){var Y=_.Ya[L].G,le=_.Ya[L].H;if(0<Y[1][le[1]+0].g||0<Y[2][le[2]+0].g||0<Y[3][le[3]+0].g)return 0}return 1}function ke(_,L,Y,le,me,be){if(_.Z!=0){var Ne=_.qd,Ae=_.rd;for(t(Di[_.Z]!=null);L<Y;++L)Di[_.Z](Ne,Ae,le,me,le,me,be),Ne=le,Ae=me,me+=be;_.qd=Ne,_.rd=Ae}}function Ie(_,L){var Y=_.l.ma,le=Y.Z==0||Y.Z==1?_.l.j:_.C;if(le=_.C<le?le:_.C,t(L<=_.l.o),L>le){var me=_.l.width,be=Y.ca,Ne=Y.tb+me*le,Ae=_.V,Ce=_.Ba+_.c*le,Fe=_.gc;t(_.ab==1),t(Fe[0].hc==3),pf(Fe[0],le,L,Ae,Ce,be,Ne),ke(Y,le,L,be,Ne,me)}_.C=_.Ma=L}function Te(_,L,Y,le,me,be,Ne){var Ae=_.$/le,Ce=_.$%le,Fe=_.m,Ve=_.s,ot=Y+_.$,lt=ot;me=Y+le*me;var tt=Y+le*be,Ft=280+Ve.ua,bt=_.Pb?Ae:16777216,Xe=0<Ve.ua?Ve.Wa:null,Ye=Ve.wc,kt=ot<tt?Hr(Ve,Ce,Ae):null;t(_.C<be),t(tt<=me);var jt=!1;e:for(;;){for(;jt||ot<tt;){var Et=0;if(Ae>=bt){var pr=ot-Y;t((bt=_).Pb),bt.wd=bt.m,bt.xd=pr,0<bt.s.ua&&oe(bt.s.Wa,bt.s.vb),bt=Ae+O0}if(Ce&Ye||(kt=Hr(Ve,Ce,Ae)),t(kt!=null),kt.Qb&&(L[ot]=kt.qb,jt=!0),!jt)if(K(Fe),kt.jc){Et=Fe,pr=L;var sr=ot,Lr=kt.pd[U(Et)&Aa-1];t(kt.jc),256>Lr.g?(B(Et,Et.u+Lr.g),pr[sr]=Lr.value,Et=0):(B(Et,Et.u+Lr.g-256),t(256<=Lr.value),Et=Lr.value),Et==0&&(jt=!0)}else Et=Wr(kt.G[0],kt.H[0],Fe);if(Fe.h)break;if(jt||256>Et){if(!jt)if(kt.nd)L[ot]=(kt.qb|Et<<8)>>>0;else{if(K(Fe),jt=Wr(kt.G[1],kt.H[1],Fe),K(Fe),pr=Wr(kt.G[2],kt.H[2],Fe),sr=Wr(kt.G[3],kt.H[3],Fe),Fe.h)break;L[ot]=(sr<<24|jt<<16|Et<<8|pr)>>>0}if(jt=!1,++ot,++Ce>=le&&(Ce=0,++Ae,Ne!=null&&Ae<=be&&!(Ae%16)&&Ne(_,Ae),Xe!=null))for(;lt<ot;)Et=L[lt++],Xe.X[(506832829*Et&4294967295)>>>Xe.Mb]=Et}else if(280>Et){if(Et=ir(Et-256,Fe),pr=Wr(kt.G[4],kt.H[4],Fe),K(Fe),pr=vr(le,pr=ir(pr,Fe)),Fe.h)break;if(ot-Y<pr||me-ot<Et)break e;for(sr=0;sr<Et;++sr)L[ot+sr]=L[ot+sr-pr];for(ot+=Et,Ce+=Et;Ce>=le;)Ce-=le,++Ae,Ne!=null&&Ae<=be&&!(Ae%16)&&Ne(_,Ae);if(t(ot<=me),Ce&Ye&&(kt=Hr(Ve,Ce,Ae)),Xe!=null)for(;lt<ot;)Et=L[lt++],Xe.X[(506832829*Et&4294967295)>>>Xe.Mb]=Et}else{if(!(Et<Ft))break e;for(jt=Et-280,t(Xe!=null);lt<ot;)Et=L[lt++],Xe.X[(506832829*Et&4294967295)>>>Xe.Mb]=Et;Et=ot,t(!(jt>>>(pr=Xe).Xa)),L[Et]=pr.X[jt],jt=!0}jt||t(Fe.h==W(Fe))}if(_.Pb&&Fe.h&&ot<me)t(_.m.h),_.a=5,_.m=_.wd,_.$=_.xd,0<_.s.ua&&oe(_.s.vb,_.s.Wa);else{if(Fe.h)break e;Ne?.(_,Ae>be?be:Ae),_.a=0,_.$=ot-Y}return 1}return _.a=3,0}function ze(_){t(_!=null),_.vc=null,_.yc=null,_.Ya=null;var L=_.Wa;L!=null&&(L.X=null),_.vb=null,t(_!=null)}function et(){var _=new ff;return _==null?null:(_.a=0,_.xb=fd,ar("Predictor","VP8LPredictors"),ar("Predictor","VP8LPredictors_C"),ar("PredictorAdd","VP8LPredictorsAdd"),ar("PredictorAdd","VP8LPredictorsAdd_C"),A0=Nt,Nc=dt,Ji=it,Pi=Re,jc=vt,Il=nt,Dl=Rt,O.VP8LMapColor32b=id,O.VP8LMapColor8b=sd,_)}function Ge(_,L,Y,le,me){var be=1,Ne=[_],Ae=[L],Ce=le.m,Fe=le.s,Ve=null,ot=0;e:for(;;){if(Y)for(;be&&Z(Ce,1);){var lt=Ne,tt=Ae,Ft=le,bt=1,Xe=Ft.m,Ye=Ft.gc[Ft.ab],kt=Z(Xe,2);if(Ft.Oc&1<<kt)be=0;else{switch(Ft.Oc|=1<<kt,Ye.hc=kt,Ye.Ea=lt[0],Ye.nc=tt[0],Ye.K=[null],++Ft.ab,t(4>=Ft.ab),kt){case 0:case 1:Ye.b=Z(Xe,3)+2,bt=Ge(Se(Ye.Ea,Ye.b),Se(Ye.nc,Ye.b),0,Ft,Ye.K),Ye.K=Ye.K[0];break;case 3:var jt,Et=Z(Xe,8)+1,pr=16<Et?0:4<Et?1:2<Et?2:3;if(lt[0]=Se(Ye.Ea,pr),Ye.b=pr,jt=bt=Ge(Et,1,0,Ft,Ye.K)){var sr,Lr=Et,ur=Ye,Cn=1<<(8>>ur.b),Tn=s(Cn);if(Tn==null)jt=0;else{var jn=ur.K[0],ln=ur.w;for(Tn[0]=ur.K[0][0],sr=1;sr<1*Lr;++sr)Tn[sr]=Pe(jn[ln+sr],Tn[sr-1]);for(;sr<4*Cn;++sr)Tn[sr]=0;ur.K[0]=null,ur.K[0]=Tn,jt=1}}bt=jt;break;case 2:break;default:t(0)}be=bt}}if(Ne=Ne[0],Ae=Ae[0],be&&Z(Ce,1)&&!(be=1<=(ot=Z(Ce,4))&&11>=ot)){le.a=3;break e}var Xn;if(Xn=be)t:{var Qn,Jr,ya,es=le,Pa=Ne,Qa=Ae,Un=ot,Li=Y,Fi=es.m,ba=es.s,Za=[null],bi=1,xs=0,co=Rx[Un];r:for(;;){if(Li&&Z(Fi,1)){var wa=Z(Fi,3)+2,qa=Se(Pa,wa),$s=Se(Qa,wa),Ec=qa*$s;if(!Ge(qa,$s,0,es,Za))break r;for(Za=Za[0],ba.xc=wa,Qn=0;Qn<Ec;++Qn){var $l=Za[Qn]>>8&65535;Za[Qn]=$l,$l>=bi&&(bi=$l+1)}}if(Fi.h)break r;for(Jr=0;5>Jr;++Jr){var qn=cu[Jr];!Jr&&0<Un&&(qn+=1<<Un),xs<qn&&(xs=qn)}var Jo=o(bi*co,T),I0=bi,yp=o(I0,z);if(yp==null)var uo=null;else t(65536>=I0),uo=yp;var fo=s(xs);if(uo==null||fo==null||Jo==null){es.a=1;break r}var pu=Jo;for(Qn=ya=0;Qn<bi;++Qn){var ho=uo[Qn],zl=ho.G,mu=ho.H,md=0,zs=1,xd=0;for(Jr=0;5>Jr;++Jr){qn=cu[Jr],zl[Jr]=pu,mu[Jr]=ya,!Jr&&0<Un&&(qn+=1<<Un);a:{var Cc,Hl=qn,gd=es,Qo=fo,zx=pu,bp=ya,da=0,Ao=gd.m,wp=Z(Ao,1);if(a(Qo,0,0,Hl),wp){var Np=Z(Ao,1)+1,D0=Z(Ao,1),L0=Z(Ao,D0==0?1:8);Qo[L0]=1,Np==2&&(Qo[L0=Z(Ao,8)]=1);var Zo=1}else{var xa=s(19),$a=Z(Ao,4)+4;if(19<$a){gd.a=3;var Ia=0;break a}for(Cc=0;Cc<$a;++Cc)xa[Ey[Cc]]=Z(Ao,3);var vd=void 0,Wl=void 0,yd=gd,Dy=xa,ei=Hl,F0=Qo,Sf=0,el=yd.m,Eo=8,Hs=o(128,T);n:for(;E(Hs,0,7,Dy,19);){if(Z(el,1)){var _f=2+2*Z(el,3);if((vd=2+Z(el,_f))>ei)break n}else vd=ei;for(Wl=0;Wl<ei&&vd--;){K(el);var M0=Hs[0+(127&U(el))];B(el,el.u+M0.g);var Tc=M0.value;if(16>Tc)F0[Wl++]=Tc,Tc!=0&&(Eo=Tc);else{var Hx=Tc==16,jp=Tc-16,Wx=T0[jp],kp=Z(el,wf[jp])+Wx;if(Wl+kp>ei)break n;for(var Vx=Hx?Eo:0;0<kp--;)F0[Wl++]=Vx}}Sf=1;break n}Sf||(yd.a=3),Zo=Sf}(Zo=Zo&&!Ao.h)&&(da=E(zx,bp,8,Qo,Hl)),Zo&&da!=0?Ia=da:(gd.a=3,Ia=0)}if(Ia==0)break r;if(zs&&Mx[Jr]==1&&(zs=pu[ya].g==0),md+=pu[ya].g,ya+=Ia,3>=Jr){var bd,R0=fo[0];for(bd=1;bd<qn;++bd)fo[bd]>R0&&(R0=fo[bd]);xd+=R0}}if(ho.nd=zs,ho.Qb=0,zs&&(ho.qb=(zl[3][mu[3]+0].value<<24|zl[1][mu[1]+0].value<<16|zl[2][mu[2]+0].value)>>>0,md==0&&256>zl[0][mu[0]+0].value&&(ho.Qb=1,ho.qb+=zl[0][mu[0]+0].value<<8)),ho.jc=!ho.Qb&&6>xd,ho.jc){var Af,Ws=ho;for(Af=0;Af<Aa;++Af){var Vl=Af,Co=Ws.pd[Vl],xu=Ws.G[0][Ws.H[0]+Vl];256<=xu.value?(Co.g=xu.g+256,Co.value=xu.value):(Co.g=0,Co.value=0,Vl>>=Br(xu,8,Co),Vl>>=Br(Ws.G[1][Ws.H[1]+Vl],16,Co),Vl>>=Br(Ws.G[2][Ws.H[2]+Vl],0,Co),Br(Ws.G[3][Ws.H[3]+Vl],24,Co))}}}ba.vc=Za,ba.Wb=bi,ba.Ya=uo,ba.yc=Jo,Xn=1;break t}Xn=0}if(!(be=Xn)){le.a=3;break e}if(0<ot){if(Fe.ua=1<<ot,!je(Fe.Wa,ot)){le.a=1,be=0;break e}}else Fe.ua=0;var B0=le,U0=Ne,Gx=Ae,q0=B0.s,$0=q0.xc;if(B0.c=U0,B0.i=Gx,q0.md=Se(U0,$0),q0.wc=$0==0?-1:(1<<$0)-1,Y){le.xb=Yo;break e}if((Ve=s(Ne*Ae))==null){le.a=1,be=0;break e}be=(be=Te(le,Ve,0,Ne,Ae,Ae,null))&&!Ce.h;break e}return be?(me!=null?me[0]=Ve:(t(Ve==null),t(Y)),le.$=0,Y||ze(Fe)):ze(Fe),be}function Je(_,L){var Y=_.c*_.i,le=Y+L+16*L;return t(_.c<=L),_.V=s(le),_.V==null?(_.Ta=null,_.Ua=0,_.a=1,0):(_.Ta=_.V,_.Ua=_.Ba+Y+L,1)}function at(_,L){var Y=_.C,le=L-Y,me=_.V,be=_.Ba+_.c*Y;for(t(L<=_.l.o);0<le;){var Ne=16<le?16:le,Ae=_.l.ma,Ce=_.l.width,Fe=Ce*Ne,Ve=Ae.ca,ot=Ae.tb+Ce*Y,lt=_.Ta,tt=_.Ua;ne(_,Ne,me,be),Ea(lt,tt,Ve,ot,Fe),ke(Ae,Y,Y+Ne,Ve,ot,Ce),le-=Ne,me+=Ne*_.c,Y+=Ne}t(Y==L),_.C=_.Ma=L}function wt(){this.ub=this.yd=this.td=this.Rb=0}function Pt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function It(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Lt(){this.Yb=(function(){var _=[];return(function L(Y,le,me){for(var be=me[le],Ne=0;Ne<be&&(Y.push(me.length>le+1?[]:0),!(me.length<le+1));Ne++)L(Y[Ne],le+1,me)})(_,0,[3,11]),_})()}function Dt(){this.jb=s(3),this.Wc=l([4,8],Lt),this.Xc=l([4,17],Lt)}function kr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Dr(){this.ld=this.La=this.dd=this.tc=0}function an(){this.Na=this.la=0}function Nn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function va(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ba(){this.uc=this.M=this.Nb=0,this.wa=Array(new Dr),this.Y=0,this.ya=Array(new va),this.aa=0,this.l=new Ta}function pa(){this.y=s(16),this.f=s(8),this.ea=s(8)}function _n(){this.cb=this.a=0,this.sc="",this.m=new q,this.Od=new wt,this.Kc=new Pt,this.ed=new kr,this.Qa=new It,this.Ic=this.$c=this.Aa=0,this.D=new Ba,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,q),this.ia=0,this.pb=o(4,Nn),this.Pa=new Dt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new pa),this.Hd=0,this.rb=Array(new an),this.sb=0,this.wa=Array(new Dr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new va),this.L=this.aa=0,this.gd=l([4,2],Dr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ta(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function gn(){var _=new _n;return _!=null&&(_.a=0,_.sc="OK",_.cb=0,_.Xb=0,uu||(uu=ct)),_}function en(_,L,Y){return _.a==0&&(_.a=L,_.sc=Y,_.cb=0),0}function Le(_,L,Y){return 3<=Y&&_[L+0]==157&&_[L+1]==1&&_[L+2]==42}function ht(_,L){if(_==null)return 0;if(_.a=0,_.sc="OK",L==null)return en(_,2,"null VP8Io passed to VP8GetHeaders()");var Y=L.data,le=L.w,me=L.ha;if(4>me)return en(_,7,"Truncated header.");var be=Y[le+0]|Y[le+1]<<8|Y[le+2]<<16,Ne=_.Od;if(Ne.Rb=!(1&be),Ne.td=be>>1&7,Ne.yd=be>>4&1,Ne.ub=be>>5,3<Ne.td)return en(_,3,"Incorrect keyframe parameters.");if(!Ne.yd)return en(_,4,"Frame not displayable.");le+=3,me-=3;var Ae=_.Kc;if(Ne.Rb){if(7>me)return en(_,7,"cannot parse picture header");if(!Le(Y,le,me))return en(_,3,"Bad code word");Ae.c=16383&(Y[le+4]<<8|Y[le+3]),Ae.Td=Y[le+4]>>6,Ae.i=16383&(Y[le+6]<<8|Y[le+5]),Ae.Ud=Y[le+6]>>6,le+=7,me-=7,_.za=Ae.c+15>>4,_.Ub=Ae.i+15>>4,L.width=Ae.c,L.height=Ae.i,L.Da=0,L.j=0,L.v=0,L.va=L.width,L.o=L.height,L.da=0,L.ib=L.width,L.hb=L.height,L.U=L.width,L.T=L.height,a((be=_.Pa).jb,0,255,be.jb.length),t((be=_.Qa)!=null),be.Cb=0,be.Bb=0,be.Fb=1,a(be.Zb,0,0,be.Zb.length),a(be.Lb,0,0,be.Lb)}if(Ne.ub>me)return en(_,7,"bad partition length");Q(be=_.m,Y,le,Ne.ub),le+=Ne.ub,me-=Ne.ub,Ne.Rb&&(Ae.Ld=fe(be),Ae.Kd=fe(be)),Ae=_.Qa;var Ce,Fe=_.Pa;if(t(be!=null),t(Ae!=null),Ae.Cb=fe(be),Ae.Cb){if(Ae.Bb=fe(be),fe(be)){for(Ae.Fb=fe(be),Ce=0;4>Ce;++Ce)Ae.Zb[Ce]=fe(be)?J(be,7):0;for(Ce=0;4>Ce;++Ce)Ae.Lb[Ce]=fe(be)?J(be,6):0}if(Ae.Bb)for(Ce=0;3>Ce;++Ce)Fe.jb[Ce]=fe(be)?te(be,8):255}else Ae.Bb=0;if(be.Ka)return en(_,3,"cannot parse segment header");if((Ae=_.ed).zd=fe(be),Ae.Tb=te(be,6),Ae.wb=te(be,3),Ae.Pc=fe(be),Ae.Pc&&fe(be)){for(Fe=0;4>Fe;++Fe)fe(be)&&(Ae.vd[Fe]=J(be,6));for(Fe=0;4>Fe;++Fe)fe(be)&&(Ae.od[Fe]=J(be,6))}if(_.L=Ae.Tb==0?0:Ae.zd?1:2,be.Ka)return en(_,3,"cannot parse filter header");var Ve=me;if(me=Ce=le,le=Ce+Ve,Ae=Ve,_.Xb=(1<<te(_.m,2))-1,Ve<3*(Fe=_.Xb))Y=7;else{for(Ce+=3*Fe,Ae-=3*Fe,Ve=0;Ve<Fe;++Ve){var ot=Y[me+0]|Y[me+1]<<8|Y[me+2]<<16;ot>Ae&&(ot=Ae),Q(_.Jc[+Ve],Y,Ce,ot),Ce+=ot,Ae-=ot,me+=3}Q(_.Jc[+Fe],Y,Ce,Ae),Y=Ce<le?0:5}if(Y!=0)return en(_,Y,"cannot parse partitions");for(Y=te(Ce=_.m,7),me=fe(Ce)?J(Ce,4):0,le=fe(Ce)?J(Ce,4):0,Ae=fe(Ce)?J(Ce,4):0,Fe=fe(Ce)?J(Ce,4):0,Ce=fe(Ce)?J(Ce,4):0,Ve=_.Qa,ot=0;4>ot;++ot){if(Ve.Cb){var lt=Ve.Zb[ot];Ve.Fb||(lt+=Y)}else{if(0<ot){_.pb[ot]=_.pb[0];continue}lt=Y}var tt=_.pb[ot];tt.Sc[0]=dd[Bs(lt+me,127)],tt.Sc[1]=Nf[Bs(lt+0,127)],tt.Eb[0]=2*dd[Bs(lt+le,127)],tt.Eb[1]=101581*Nf[Bs(lt+Ae,127)]>>16,8>tt.Eb[1]&&(tt.Eb[1]=8),tt.Qc[0]=dd[Bs(lt+Fe,117)],tt.Qc[1]=Nf[Bs(lt+Ce,127)],tt.lc=lt+Ce}if(!Ne.Rb)return en(_,4,"Not a key frame.");for(fe(be),Ne=_.Pa,Y=0;4>Y;++Y){for(me=0;8>me;++me)for(le=0;3>le;++le)for(Ae=0;11>Ae;++Ae)Fe=ce(be,Oy[Y][me][le][Ae])?te(be,8):Ux[Y][me][le][Ae],Ne.Wc[Y][me].Yb[le][Ae]=Fe;for(me=0;17>me;++me)Ne.Xc[Y][me]=Ne.Wc[Y][xp[me]]}return _.kc=fe(be),_.kc&&(_.Bd=te(be,8)),_.cb=1}function ct(_,L,Y,le,me,be,Ne){var Ae=L[me].Yb[Y];for(Y=0;16>me;++me){if(!ce(_,Ae[Y+0]))return me;for(;!ce(_,Ae[Y+1]);)if(Ae=L[++me].Yb[0],Y=0,me==16)return 16;var Ce=L[me+1].Yb;if(ce(_,Ae[Y+2])){var Fe=_,Ve=0;if(ce(Fe,(lt=Ae)[(ot=Y)+3]))if(ce(Fe,lt[ot+6])){for(Ae=0,ot=2*(Ve=ce(Fe,lt[ot+8]))+(lt=ce(Fe,lt[ot+9+Ve])),Ve=0,lt=pp[ot];lt[Ae];++Ae)Ve+=Ve+ce(Fe,lt[Ae]);Ve+=3+(8<<ot)}else ce(Fe,lt[ot+7])?(Ve=7+2*ce(Fe,165),Ve+=ce(Fe,145)):Ve=5+ce(Fe,159);else Ve=ce(Fe,lt[ot+4])?3+ce(Fe,lt[ot+5]):2;Ae=Ce[2]}else Ve=1,Ae=Ce[1];Ce=Ne+mp[me],0>(Fe=_).b&&re(Fe);var ot,lt=Fe.b,tt=(ot=Fe.Ca>>1)-(Fe.I>>lt)>>31;--Fe.b,Fe.Ca+=tt,Fe.Ca|=1,Fe.I-=(ot+1&tt)<<lt,be[Ce]=((Ve^tt)-tt)*le[(0<me)+0]}return 16}function zt(_){var L=_.rb[_.sb-1];L.la=0,L.Na=0,a(_.zc,0,0,_.zc.length),_.ja=0}function Zt(_,L){if(_==null)return 0;if(L==null)return en(_,2,"NULL VP8Io parameter in VP8Decode().");if(!_.cb&&!ht(_,L))return 0;if(t(_.cb),L.ac==null||L.ac(L)){L.ob&&(_.L=0);var Y=hu[_.L];if(_.L==2?(_.yb=0,_.zb=0):(_.yb=L.v-Y>>4,_.zb=L.j-Y>>4,0>_.yb&&(_.yb=0),0>_.zb&&(_.zb=0)),_.Va=L.o+15+Y>>4,_.Hb=L.va+15+Y>>4,_.Hb>_.za&&(_.Hb=_.za),_.Va>_.Ub&&(_.Va=_.Ub),0<_.L){var le=_.ed;for(Y=0;4>Y;++Y){var me;if(_.Qa.Cb){var be=_.Qa.Lb[Y];_.Qa.Fb||(be+=le.Tb)}else be=le.Tb;for(me=0;1>=me;++me){var Ne=_.gd[Y][me],Ae=be;if(le.Pc&&(Ae+=le.vd[0],me&&(Ae+=le.od[0])),0<(Ae=0>Ae?0:63<Ae?63:Ae)){var Ce=Ae;0<le.wb&&(Ce=4<le.wb?Ce>>2:Ce>>1)>9-le.wb&&(Ce=9-le.wb),1>Ce&&(Ce=1),Ne.dd=Ce,Ne.tc=2*Ae+Ce,Ne.ld=40<=Ae?2:15<=Ae?1:0}else Ne.tc=0;Ne.La=me}}}Y=0}else en(_,6,"Frame setup failed"),Y=_.a;if(Y=Y==0){if(Y){_.$c=0,0<_.Aa||(_.Ic=ql);e:{Y=_.Ic,le=4*(Ce=_.za);var Fe=32*Ce,Ve=Ce+1,ot=0<_.L?Ce*(0<_.Aa?2:1):0,lt=(_.Aa==2?2:1)*Ce;if((Ne=le+832+(me=3*(16*Y+hu[_.L])/2*Fe)+(be=_.Fa!=null&&0<_.Fa.length?_.Kc.c*_.Kc.i:0))!=Ne)Y=0;else{if(Ne>_.Vb){if(_.Vb=0,_.Ec=s(Ne),_.Fc=0,_.Ec==null){Y=en(_,1,"no memory during frame initialization.");break e}_.Vb=Ne}Ne=_.Ec,Ae=_.Fc,_.Ac=Ne,_.Bc=Ae,Ae+=le,_.Gd=o(Fe,pa),_.Hd=0,_.rb=o(Ve+1,an),_.sb=1,_.wa=ot?o(ot,Dr):null,_.Y=0,_.D.Nb=0,_.D.wa=_.wa,_.D.Y=_.Y,0<_.Aa&&(_.D.Y+=Ce),t(!0),_.oc=Ne,_.pc=Ae,Ae+=832,_.ya=o(lt,va),_.aa=0,_.D.ya=_.ya,_.D.aa=_.aa,_.Aa==2&&(_.D.aa+=Ce),_.R=16*Ce,_.B=8*Ce,Ce=(Fe=hu[_.L])*_.R,Fe=Fe/2*_.B,_.sa=Ne,_.ta=Ae+Ce,_.qa=_.sa,_.ra=_.ta+16*Y*_.R+Fe,_.Ha=_.qa,_.Ia=_.ra+8*Y*_.B+Fe,_.$c=0,Ae+=me,_.mb=be?Ne:null,_.nb=be?Ae:null,t(Ae+be<=_.Fc+_.Vb),zt(_),a(_.Ac,_.Bc,0,le),Y=1}}if(Y){if(L.ka=0,L.y=_.sa,L.O=_.ta,L.f=_.qa,L.N=_.ra,L.ea=_.Ha,L.Vd=_.Ia,L.fa=_.R,L.Rc=_.B,L.F=null,L.J=0,!xf){for(Y=-255;255>=Y;++Y)Ua[255+Y]=0>Y?-Y:Y;for(Y=-1020;1020>=Y;++Y)Ko[1020+Y]=-128>Y?-128:127<Y?127:Y;for(Y=-112;112>=Y;++Y)ld[112+Y]=-16>Y?-16:15<Y?15:Y;for(Y=-255;510>=Y;++Y)ou[255+Y]=0>Y?0:255<Y?255:Y;xf=1}od=yr,Ll=Xt,Fl=yt,Ii=Ur,Us=xt,Ln=Wt,nu=vc,mf=Oa,au=ko,iu=El,su=$o,qs=zo,Ml=Cl,Go=yc,Rl=Ms,Bl=Ci,kc=Gi,vi=ao,lo[0]=gr,lo[1]=On,lo[2]=lr,lo[3]=cr,lo[4]=Fr,lo[5]=In,lo[6]=qr,lo[7]=Dn,lo[8]=Zc,lo[9]=Vi,Zi[0]=Sr,Zi[1]=Bn,Zi[2]=En,Zi[3]=Pn,Zi[4]=jr,Zi[5]=Gr,Zi[6]=pn,fs[0]=gi,fs[1]=Jt,fs[2]=df,fs[3]=Fs,fs[4]=kl,fs[5]=gc,fs[6]=qo,Y=1}else Y=0}Y&&(Y=(function(tt,Ft){for(tt.M=0;tt.M<tt.Va;++tt.M){var bt,Xe=tt.Jc[tt.M&tt.Xb],Ye=tt.m,kt=tt;for(bt=0;bt<kt.za;++bt){var jt=Ye,Et=kt,pr=Et.Ac,sr=Et.Bc+4*bt,Lr=Et.zc,ur=Et.ya[Et.aa+bt];if(Et.Qa.Bb?ur.$b=ce(jt,Et.Pa.jb[0])?2+ce(jt,Et.Pa.jb[2]):ce(jt,Et.Pa.jb[1]):ur.$b=0,Et.kc&&(ur.Ad=ce(jt,Et.Bd)),ur.Za=!ce(jt,145)+0,ur.Za){var Cn=ur.Ob,Tn=0;for(Et=0;4>Et;++Et){var jn,ln=Lr[0+Et];for(jn=0;4>jn;++jn){ln=Ty[pr[sr+jn]][ln];for(var Xn=Bx[ce(jt,ln[0])];0<Xn;)Xn=Bx[2*Xn+ce(jt,ln[Xn])];ln=-Xn,pr[sr+jn]=ln}n(Cn,Tn,pr,sr,4),Tn+=4,Lr[0+Et]=ln}}else ln=ce(jt,156)?ce(jt,128)?1:3:ce(jt,163)?2:0,ur.Ob[0]=ln,a(pr,sr,ln,4),a(Lr,0,ln,4);ur.Dd=ce(jt,142)?ce(jt,114)?ce(jt,183)?1:3:2:0}if(kt.m.Ka)return en(tt,7,"Premature end-of-partition0 encountered.");for(;tt.ja<tt.za;++tt.ja){if(kt=Xe,jt=(Ye=tt).rb[Ye.sb-1],pr=Ye.rb[Ye.sb+Ye.ja],bt=Ye.ya[Ye.aa+Ye.ja],sr=Ye.kc?bt.Ad:0)jt.la=pr.la=0,bt.Za||(jt.Na=pr.Na=0),bt.Hc=0,bt.Gc=0,bt.ia=0;else{var Qn,Jr;if(jt=pr,pr=kt,sr=Ye.Pa.Xc,Lr=Ye.ya[Ye.aa+Ye.ja],ur=Ye.pb[Lr.$b],Et=Lr.ad,Cn=0,Tn=Ye.rb[Ye.sb-1],ln=jn=0,a(Et,Cn,0,384),Lr.Za)var ya=0,es=sr[3];else{Xn=s(16);var Pa=jt.Na+Tn.Na;if(Pa=uu(pr,sr[1],Pa,ur.Eb,0,Xn,0),jt.Na=Tn.Na=(0<Pa)+0,1<Pa)od(Xn,0,Et,Cn);else{var Qa=Xn[0]+3>>3;for(Xn=0;256>Xn;Xn+=16)Et[Cn+Xn]=Qa}ya=1,es=sr[0]}var Un=15&jt.la,Li=15&Tn.la;for(Xn=0;4>Xn;++Xn){var Fi=1&Li;for(Qa=Jr=0;4>Qa;++Qa)Un=Un>>1|(Fi=(Pa=uu(pr,es,Pa=Fi+(1&Un),ur.Sc,ya,Et,Cn))>ya)<<7,Jr=Jr<<2|(3<Pa?3:1<Pa?2:Et[Cn+0]!=0),Cn+=16;Un>>=4,Li=Li>>1|Fi<<7,jn=(jn<<8|Jr)>>>0}for(es=Un,ya=Li>>4,Qn=0;4>Qn;Qn+=2){for(Jr=0,Un=jt.la>>4+Qn,Li=Tn.la>>4+Qn,Xn=0;2>Xn;++Xn){for(Fi=1&Li,Qa=0;2>Qa;++Qa)Pa=Fi+(1&Un),Un=Un>>1|(Fi=0<(Pa=uu(pr,sr[2],Pa,ur.Qc,0,Et,Cn)))<<3,Jr=Jr<<2|(3<Pa?3:1<Pa?2:Et[Cn+0]!=0),Cn+=16;Un>>=2,Li=Li>>1|Fi<<5}ln|=Jr<<4*Qn,es|=Un<<4<<Qn,ya|=(240&Li)<<Qn}jt.la=es,Tn.la=ya,Lr.Hc=jn,Lr.Gc=ln,Lr.ia=43690&ln?0:ur.ia,sr=!(jn|ln)}if(0<Ye.L&&(Ye.wa[Ye.Y+Ye.ja]=Ye.gd[bt.$b][bt.Za],Ye.wa[Ye.Y+Ye.ja].La|=!sr),kt.Ka)return en(tt,7,"Premature end-of-file encountered.")}if(zt(tt),Ye=Ft,kt=1,bt=(Xe=tt).D,jt=0<Xe.L&&Xe.M>=Xe.zb&&Xe.M<=Xe.Va,Xe.Aa==0)e:{if(bt.M=Xe.M,bt.uc=jt,Qu(Xe,bt),kt=1,bt=(Jr=Xe.D).Nb,jt=(ln=hu[Xe.L])*Xe.R,pr=ln/2*Xe.B,Xn=16*bt*Xe.R,Qa=8*bt*Xe.B,sr=Xe.sa,Lr=Xe.ta-jt+Xn,ur=Xe.qa,Et=Xe.ra-pr+Qa,Cn=Xe.Ha,Tn=Xe.Ia-pr+Qa,Li=(Un=Jr.M)==0,jn=Un>=Xe.Va-1,Xe.Aa==2&&Qu(Xe,Jr),Jr.uc)for(Fi=(Pa=Xe).D.M,t(Pa.D.uc),Jr=Pa.yb;Jr<Pa.Hb;++Jr){ya=Jr,es=Fi;var ba=(Za=(qn=Pa).D).Nb;Qn=qn.R;var Za=Za.wa[Za.Y+ya],bi=qn.sa,xs=qn.ta+16*ba*Qn+16*ya,co=Za.dd,wa=Za.tc;if(wa!=0)if(t(3<=wa),qn.L==1)0<ya&&Bl(bi,xs,Qn,wa+4),Za.La&&vi(bi,xs,Qn,wa),0<es&&Rl(bi,xs,Qn,wa+4),Za.La&&kc(bi,xs,Qn,wa);else{var qa=qn.B,$s=qn.qa,Ec=qn.ra+8*ba*qa+8*ya,$l=qn.Ha,qn=qn.Ia+8*ba*qa+8*ya;ba=Za.ld,0<ya&&(mf(bi,xs,Qn,wa+4,co,ba),iu($s,Ec,$l,qn,qa,wa+4,co,ba)),Za.La&&(qs(bi,xs,Qn,wa,co,ba),Go($s,Ec,$l,qn,qa,wa,co,ba)),0<es&&(nu(bi,xs,Qn,wa+4,co,ba),au($s,Ec,$l,qn,qa,wa+4,co,ba)),Za.La&&(su(bi,xs,Qn,wa,co,ba),Ml($s,Ec,$l,qn,qa,wa,co,ba))}}if(Xe.ia&&alert("todo:DitherRow"),Ye.put!=null){if(Jr=16*Un,Un=16*(Un+1),Li?(Ye.y=Xe.sa,Ye.O=Xe.ta+Xn,Ye.f=Xe.qa,Ye.N=Xe.ra+Qa,Ye.ea=Xe.Ha,Ye.W=Xe.Ia+Qa):(Jr-=ln,Ye.y=sr,Ye.O=Lr,Ye.f=ur,Ye.N=Et,Ye.ea=Cn,Ye.W=Tn),jn||(Un-=ln),Un>Ye.o&&(Un=Ye.o),Ye.F=null,Ye.J=null,Xe.Fa!=null&&0<Xe.Fa.length&&Jr<Un&&(Ye.J=bc(Xe,Ye,Jr,Un-Jr),Ye.F=Xe.mb,Ye.F==null&&Ye.F.length==0)){kt=en(Xe,3,"Could not decode alpha data.");break e}Jr<Ye.j&&(ln=Ye.j-Jr,Jr=Ye.j,t(!(1&ln)),Ye.O+=Xe.R*ln,Ye.N+=Xe.B*(ln>>1),Ye.W+=Xe.B*(ln>>1),Ye.F!=null&&(Ye.J+=Ye.width*ln)),Jr<Un&&(Ye.O+=Ye.v,Ye.N+=Ye.v>>1,Ye.W+=Ye.v>>1,Ye.F!=null&&(Ye.J+=Ye.v),Ye.ka=Jr-Ye.j,Ye.U=Ye.va-Ye.v,Ye.T=Un-Jr,kt=Ye.put(Ye))}bt+1!=Xe.Ic||jn||(n(Xe.sa,Xe.ta-jt,sr,Lr+16*Xe.R,jt),n(Xe.qa,Xe.ra-pr,ur,Et+8*Xe.B,pr),n(Xe.Ha,Xe.Ia-pr,Cn,Tn+8*Xe.B,pr))}if(!kt)return en(tt,6,"Output aborted.")}return 1})(_,L)),L.bc!=null&&L.bc(L),Y&=1}return Y?(_.cb=0,Y):0}function Gt(_,L,Y,le,me){me=_[L+Y+32*le]+(me>>3),_[L+Y+32*le]=-256&me?0>me?0:255:me}function dr(_,L,Y,le,me,be){Gt(_,L,0,Y,le+me),Gt(_,L,1,Y,le+be),Gt(_,L,2,Y,le-be),Gt(_,L,3,Y,le-me)}function tn(_){return(20091*_>>16)+_}function hn(_,L,Y,le){var me,be=0,Ne=s(16);for(me=0;4>me;++me){var Ae=_[L+0]+_[L+8],Ce=_[L+0]-_[L+8],Fe=(35468*_[L+4]>>16)-tn(_[L+12]),Ve=tn(_[L+4])+(35468*_[L+12]>>16);Ne[be+0]=Ae+Ve,Ne[be+1]=Ce+Fe,Ne[be+2]=Ce-Fe,Ne[be+3]=Ae-Ve,be+=4,L++}for(me=be=0;4>me;++me)Ae=(_=Ne[be+0]+4)+Ne[be+8],Ce=_-Ne[be+8],Fe=(35468*Ne[be+4]>>16)-tn(Ne[be+12]),Gt(Y,le,0,0,Ae+(Ve=tn(Ne[be+4])+(35468*Ne[be+12]>>16))),Gt(Y,le,1,0,Ce+Fe),Gt(Y,le,2,0,Ce-Fe),Gt(Y,le,3,0,Ae-Ve),be++,le+=32}function Wt(_,L,Y,le){var me=_[L+0]+4,be=35468*_[L+4]>>16,Ne=tn(_[L+4]),Ae=35468*_[L+1]>>16;dr(Y,le,0,me+Ne,_=tn(_[L+1]),Ae),dr(Y,le,1,me+be,_,Ae),dr(Y,le,2,me-be,_,Ae),dr(Y,le,3,me-Ne,_,Ae)}function Xt(_,L,Y,le,me){hn(_,L,Y,le),me&&hn(_,L+16,Y,le+4)}function yt(_,L,Y,le){Ll(_,L+0,Y,le,1),Ll(_,L+32,Y,le+128,1)}function Ur(_,L,Y,le){var me;for(_=_[L+0]+4,me=0;4>me;++me)for(L=0;4>L;++L)Gt(Y,le,L,me,_)}function xt(_,L,Y,le){_[L+0]&&Ii(_,L+0,Y,le),_[L+16]&&Ii(_,L+16,Y,le+4),_[L+32]&&Ii(_,L+32,Y,le+128),_[L+48]&&Ii(_,L+48,Y,le+128+4)}function yr(_,L,Y,le){var me,be=s(16);for(me=0;4>me;++me){var Ne=_[L+0+me]+_[L+12+me],Ae=_[L+4+me]+_[L+8+me],Ce=_[L+4+me]-_[L+8+me],Fe=_[L+0+me]-_[L+12+me];be[0+me]=Ne+Ae,be[8+me]=Ne-Ae,be[4+me]=Fe+Ce,be[12+me]=Fe-Ce}for(me=0;4>me;++me)Ne=(_=be[0+4*me]+3)+be[3+4*me],Ae=be[1+4*me]+be[2+4*me],Ce=be[1+4*me]-be[2+4*me],Fe=_-be[3+4*me],Y[le+0]=Ne+Ae>>3,Y[le+16]=Fe+Ce>>3,Y[le+32]=Ne-Ae>>3,Y[le+48]=Fe-Ce>>3,le+=64}function An(_,L,Y){var le,me=L-32,be=Qi,Ne=255-_[me-1];for(le=0;le<Y;++le){var Ae,Ce=be,Fe=Ne+_[L-1];for(Ae=0;Ae<Y;++Ae)_[L+Ae]=Ce[Fe+_[me+Ae]];L+=32}}function On(_,L){An(_,L,4)}function Jt(_,L){An(_,L,8)}function Bn(_,L){An(_,L,16)}function En(_,L){var Y;for(Y=0;16>Y;++Y)n(_,L+32*Y,_,L-32,16)}function Pn(_,L){var Y;for(Y=16;0<Y;--Y)a(_,L,_[L-1],16),L+=32}function ua(_,L,Y){var le;for(le=0;16>le;++le)a(L,Y+32*le,_,16)}function Sr(_,L){var Y,le=16;for(Y=0;16>Y;++Y)le+=_[L-1+32*Y]+_[L+Y-32];ua(le>>5,_,L)}function jr(_,L){var Y,le=8;for(Y=0;16>Y;++Y)le+=_[L-1+32*Y];ua(le>>4,_,L)}function Gr(_,L){var Y,le=8;for(Y=0;16>Y;++Y)le+=_[L+Y-32];ua(le>>4,_,L)}function pn(_,L){ua(128,_,L)}function Ee(_,L,Y){return _+2*L+Y+2>>2}function lr(_,L){var Y,le=L-32;for(le=new Uint8Array([Ee(_[le-1],_[le+0],_[le+1]),Ee(_[le+0],_[le+1],_[le+2]),Ee(_[le+1],_[le+2],_[le+3]),Ee(_[le+2],_[le+3],_[le+4])]),Y=0;4>Y;++Y)n(_,L+32*Y,le,0,le.length)}function cr(_,L){var Y=_[L-1],le=_[L-1+32],me=_[L-1+64],be=_[L-1+96];he(_,L+0,16843009*Ee(_[L-1-32],Y,le)),he(_,L+32,16843009*Ee(Y,le,me)),he(_,L+64,16843009*Ee(le,me,be)),he(_,L+96,16843009*Ee(me,be,be))}function gr(_,L){var Y,le=4;for(Y=0;4>Y;++Y)le+=_[L+Y-32]+_[L-1+32*Y];for(le>>=3,Y=0;4>Y;++Y)a(_,L+32*Y,le,4)}function Fr(_,L){var Y=_[L-1+0],le=_[L-1+32],me=_[L-1+64],be=_[L-1-32],Ne=_[L+0-32],Ae=_[L+1-32],Ce=_[L+2-32],Fe=_[L+3-32];_[L+0+96]=Ee(le,me,_[L-1+96]),_[L+1+96]=_[L+0+64]=Ee(Y,le,me),_[L+2+96]=_[L+1+64]=_[L+0+32]=Ee(be,Y,le),_[L+3+96]=_[L+2+64]=_[L+1+32]=_[L+0+0]=Ee(Ne,be,Y),_[L+3+64]=_[L+2+32]=_[L+1+0]=Ee(Ae,Ne,be),_[L+3+32]=_[L+2+0]=Ee(Ce,Ae,Ne),_[L+3+0]=Ee(Fe,Ce,Ae)}function qr(_,L){var Y=_[L+1-32],le=_[L+2-32],me=_[L+3-32],be=_[L+4-32],Ne=_[L+5-32],Ae=_[L+6-32],Ce=_[L+7-32];_[L+0+0]=Ee(_[L+0-32],Y,le),_[L+1+0]=_[L+0+32]=Ee(Y,le,me),_[L+2+0]=_[L+1+32]=_[L+0+64]=Ee(le,me,be),_[L+3+0]=_[L+2+32]=_[L+1+64]=_[L+0+96]=Ee(me,be,Ne),_[L+3+32]=_[L+2+64]=_[L+1+96]=Ee(be,Ne,Ae),_[L+3+64]=_[L+2+96]=Ee(Ne,Ae,Ce),_[L+3+96]=Ee(Ae,Ce,Ce)}function In(_,L){var Y=_[L-1+0],le=_[L-1+32],me=_[L-1+64],be=_[L-1-32],Ne=_[L+0-32],Ae=_[L+1-32],Ce=_[L+2-32],Fe=_[L+3-32];_[L+0+0]=_[L+1+64]=be+Ne+1>>1,_[L+1+0]=_[L+2+64]=Ne+Ae+1>>1,_[L+2+0]=_[L+3+64]=Ae+Ce+1>>1,_[L+3+0]=Ce+Fe+1>>1,_[L+0+96]=Ee(me,le,Y),_[L+0+64]=Ee(le,Y,be),_[L+0+32]=_[L+1+96]=Ee(Y,be,Ne),_[L+1+32]=_[L+2+96]=Ee(be,Ne,Ae),_[L+2+32]=_[L+3+96]=Ee(Ne,Ae,Ce),_[L+3+32]=Ee(Ae,Ce,Fe)}function Dn(_,L){var Y=_[L+0-32],le=_[L+1-32],me=_[L+2-32],be=_[L+3-32],Ne=_[L+4-32],Ae=_[L+5-32],Ce=_[L+6-32],Fe=_[L+7-32];_[L+0+0]=Y+le+1>>1,_[L+1+0]=_[L+0+64]=le+me+1>>1,_[L+2+0]=_[L+1+64]=me+be+1>>1,_[L+3+0]=_[L+2+64]=be+Ne+1>>1,_[L+0+32]=Ee(Y,le,me),_[L+1+32]=_[L+0+96]=Ee(le,me,be),_[L+2+32]=_[L+1+96]=Ee(me,be,Ne),_[L+3+32]=_[L+2+96]=Ee(be,Ne,Ae),_[L+3+64]=Ee(Ne,Ae,Ce),_[L+3+96]=Ee(Ae,Ce,Fe)}function Vi(_,L){var Y=_[L-1+0],le=_[L-1+32],me=_[L-1+64],be=_[L-1+96];_[L+0+0]=Y+le+1>>1,_[L+2+0]=_[L+0+32]=le+me+1>>1,_[L+2+32]=_[L+0+64]=me+be+1>>1,_[L+1+0]=Ee(Y,le,me),_[L+3+0]=_[L+1+32]=Ee(le,me,be),_[L+3+32]=_[L+1+64]=Ee(me,be,be),_[L+3+64]=_[L+2+64]=_[L+0+96]=_[L+1+96]=_[L+2+96]=_[L+3+96]=be}function Zc(_,L){var Y=_[L-1+0],le=_[L-1+32],me=_[L-1+64],be=_[L-1+96],Ne=_[L-1-32],Ae=_[L+0-32],Ce=_[L+1-32],Fe=_[L+2-32];_[L+0+0]=_[L+2+32]=Y+Ne+1>>1,_[L+0+32]=_[L+2+64]=le+Y+1>>1,_[L+0+64]=_[L+2+96]=me+le+1>>1,_[L+0+96]=be+me+1>>1,_[L+3+0]=Ee(Ae,Ce,Fe),_[L+2+0]=Ee(Ne,Ae,Ce),_[L+1+0]=_[L+3+32]=Ee(Y,Ne,Ae),_[L+1+32]=_[L+3+64]=Ee(le,Y,Ne),_[L+1+64]=_[L+3+96]=Ee(me,le,Y),_[L+1+96]=Ee(be,me,le)}function df(_,L){var Y;for(Y=0;8>Y;++Y)n(_,L+32*Y,_,L-32,8)}function Fs(_,L){var Y;for(Y=0;8>Y;++Y)a(_,L,_[L-1],8),L+=32}function us(_,L,Y){var le;for(le=0;8>le;++le)a(L,Y+32*le,_,8)}function gi(_,L){var Y,le=8;for(Y=0;8>Y;++Y)le+=_[L+Y-32]+_[L-1+32*Y];us(le>>4,_,L)}function gc(_,L){var Y,le=4;for(Y=0;8>Y;++Y)le+=_[L+Y-32];us(le>>3,_,L)}function kl(_,L){var Y,le=4;for(Y=0;8>Y;++Y)le+=_[L-1+32*Y];us(le>>3,_,L)}function qo(_,L){us(128,_,L)}function no(_,L,Y){var le=_[L-Y],me=_[L+0],be=3*(me-le)+Xo[1020+_[L-2*Y]-_[L+Y]],Ne=cd[112+(be+4>>3)];_[L-Y]=Qi[255+le+cd[112+(be+3>>3)]],_[L+0]=Qi[255+me-Ne]}function Sl(_,L,Y,le){var me=_[L+0],be=_[L+Y];return oo[255+_[L-2*Y]-_[L-Y]]>le||oo[255+be-me]>le}function _l(_,L,Y,le){return 4*oo[255+_[L-Y]-_[L+0]]+oo[255+_[L-2*Y]-_[L+Y]]<=le}function Al(_,L,Y,le,me){var be=_[L-3*Y],Ne=_[L-2*Y],Ae=_[L-Y],Ce=_[L+0],Fe=_[L+Y],Ve=_[L+2*Y],ot=_[L+3*Y];return 4*oo[255+Ae-Ce]+oo[255+Ne-Fe]>le?0:oo[255+_[L-4*Y]-be]<=me&&oo[255+be-Ne]<=me&&oo[255+Ne-Ae]<=me&&oo[255+ot-Ve]<=me&&oo[255+Ve-Fe]<=me&&oo[255+Fe-Ce]<=me}function Ms(_,L,Y,le){var me=2*le+1;for(le=0;16>le;++le)_l(_,L+le,Y,me)&&no(_,L+le,Y)}function Ci(_,L,Y,le){var me=2*le+1;for(le=0;16>le;++le)_l(_,L+le*Y,1,me)&&no(_,L+le*Y,1)}function Gi(_,L,Y,le){var me;for(me=3;0<me;--me)Ms(_,L+=4*Y,Y,le)}function ao(_,L,Y,le){var me;for(me=3;0<me;--me)Ci(_,L+=4,Y,le)}function Ja(_,L,Y,le,me,be,Ne,Ae){for(be=2*be+1;0<me--;){if(Al(_,L,Y,be,Ne))if(Sl(_,L,Y,Ae))no(_,L,Y);else{var Ce=_,Fe=L,Ve=Y,ot=Ce[Fe-2*Ve],lt=Ce[Fe-Ve],tt=Ce[Fe+0],Ft=Ce[Fe+Ve],bt=Ce[Fe+2*Ve],Xe=27*(kt=Xo[1020+3*(tt-lt)+Xo[1020+ot-Ft]])+63>>7,Ye=18*kt+63>>7,kt=9*kt+63>>7;Ce[Fe-3*Ve]=Qi[255+Ce[Fe-3*Ve]+kt],Ce[Fe-2*Ve]=Qi[255+ot+Ye],Ce[Fe-Ve]=Qi[255+lt+Xe],Ce[Fe+0]=Qi[255+tt-Xe],Ce[Fe+Ve]=Qi[255+Ft-Ye],Ce[Fe+2*Ve]=Qi[255+bt-kt]}L+=le}}function Ti(_,L,Y,le,me,be,Ne,Ae){for(be=2*be+1;0<me--;){if(Al(_,L,Y,be,Ne))if(Sl(_,L,Y,Ae))no(_,L,Y);else{var Ce=_,Fe=L,Ve=Y,ot=Ce[Fe-Ve],lt=Ce[Fe+0],tt=Ce[Fe+Ve],Ft=cd[112+((bt=3*(lt-ot))+4>>3)],bt=cd[112+(bt+3>>3)],Xe=Ft+1>>1;Ce[Fe-2*Ve]=Qi[255+Ce[Fe-2*Ve]+Xe],Ce[Fe-Ve]=Qi[255+ot+bt],Ce[Fe+0]=Qi[255+lt-Ft],Ce[Fe+Ve]=Qi[255+tt-Xe]}L+=le}}function vc(_,L,Y,le,me,be){Ja(_,L,Y,1,16,le,me,be)}function Oa(_,L,Y,le,me,be){Ja(_,L,1,Y,16,le,me,be)}function $o(_,L,Y,le,me,be){var Ne;for(Ne=3;0<Ne;--Ne)Ti(_,L+=4*Y,Y,1,16,le,me,be)}function zo(_,L,Y,le,me,be){var Ne;for(Ne=3;0<Ne;--Ne)Ti(_,L+=4,1,Y,16,le,me,be)}function ko(_,L,Y,le,me,be,Ne,Ae){Ja(_,L,me,1,8,be,Ne,Ae),Ja(Y,le,me,1,8,be,Ne,Ae)}function El(_,L,Y,le,me,be,Ne,Ae){Ja(_,L,1,me,8,be,Ne,Ae),Ja(Y,le,1,me,8,be,Ne,Ae)}function Cl(_,L,Y,le,me,be,Ne,Ae){Ti(_,L+4*me,me,1,8,be,Ne,Ae),Ti(Y,le+4*me,me,1,8,be,Ne,Ae)}function yc(_,L,Y,le,me,be,Ne,Ae){Ti(_,L+4,1,me,8,be,Ne,Ae),Ti(Y,le+4,1,me,8,be,Ne,Ae)}function io(){this.ba=new Er,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new fr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ho(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Tl(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ju(){this.ua=0,this.Wa=new ue,this.vb=new ue,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new z,this.yc=new T}function ff(){this.xb=this.a=0,this.l=new Ta,this.ca=new Er,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new C,this.Pb=0,this.wd=new C,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ju,this.ab=0,this.gc=o(4,Tl),this.Oc=0}function Ol(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ta,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ki(_,L,Y,le,me,be,Ne){for(_=_==null?0:_[L+0],L=0;L<Ne;++L)me[be+L]=_+Y[le+L]&255,_=me[be+L]}function Rs(_,L,Y,le,me,be,Ne){var Ae;if(_==null)Ki(null,null,Y,le,me,be,Ne);else for(Ae=0;Ae<Ne;++Ae)me[be+Ae]=_[L+Ae]+Y[le+Ae]&255}function Wo(_,L,Y,le,me,be,Ne){if(_==null)Ki(null,null,Y,le,me,be,Ne);else{var Ae,Ce=_[L+0],Fe=Ce,Ve=Ce;for(Ae=0;Ae<Ne;++Ae)Fe=Ve+(Ce=_[L+Ae])-Fe,Ve=Y[le+Ae]+(-256&Fe?0>Fe?0:255:Fe)&255,Fe=Ce,me[be+Ae]=Ve}}function bc(_,L,Y,le){var me=L.width,be=L.o;if(t(_!=null&&L!=null),0>Y||0>=le||Y+le>be)return null;if(!_.Cc){if(_.ga==null){var Ne;if(_.ga=new Ol,(Ne=_.ga==null)||(Ne=L.width*L.o,t(_.Gb.length==0),_.Gb=s(Ne),_.Uc=0,_.Gb==null?Ne=0:(_.mb=_.Gb,_.nb=_.Uc,_.rc=null,Ne=1),Ne=!Ne),!Ne){Ne=_.ga;var Ae=_.Fa,Ce=_.P,Fe=_.qc,Ve=_.mb,ot=_.nb,lt=Ce+1,tt=Fe-1,Ft=Ne.l;if(t(Ae!=null&&Ve!=null&&L!=null),Di[0]=null,Di[1]=Ki,Di[2]=Rs,Di[3]=Wo,Ne.ca=Ve,Ne.tb=ot,Ne.c=L.width,Ne.i=L.height,t(0<Ne.c&&0<Ne.i),1>=Fe)L=0;else if(Ne.$a=Ae[Ce+0]>>0&3,Ne.Z=Ae[Ce+0]>>2&3,Ne.Lc=Ae[Ce+0]>>4&3,Ce=Ae[Ce+0]>>6&3,0>Ne.$a||1<Ne.$a||4<=Ne.Z||1<Ne.Lc||Ce)L=0;else if(Ft.put=We,Ft.ac=sn,Ft.bc=Ct,Ft.ma=Ne,Ft.width=L.width,Ft.height=L.height,Ft.Da=L.Da,Ft.v=L.v,Ft.va=L.va,Ft.j=L.j,Ft.o=L.o,Ne.$a)e:{t(Ne.$a==1),L=et();t:for(;;){if(L==null){L=0;break e}if(t(Ne!=null),Ne.mc=L,L.c=Ne.c,L.i=Ne.i,L.l=Ne.l,L.l.ma=Ne,L.l.width=Ne.c,L.l.height=Ne.i,L.a=0,ie(L.m,Ae,lt,tt),!Ge(Ne.c,Ne.i,1,L,null)||(L.ab==1&&L.gc[0].hc==3&&ve(L.s)?(Ne.ic=1,Ae=L.c*L.i,L.Ta=null,L.Ua=0,L.V=s(Ae),L.Ba=0,L.V==null?(L.a=1,L=0):L=1):(Ne.ic=0,L=Je(L,Ne.c)),!L))break t;L=1;break e}Ne.mc=null,L=0}else L=tt>=Ne.c*Ne.i;Ne=!L}if(Ne)return null;_.ga.Lc!=1?_.Ga=0:le=be-Y}t(_.ga!=null),t(Y+le<=be);e:{if(L=(Ae=_.ga).c,be=Ae.l.o,Ae.$a==0){if(lt=_.rc,tt=_.Vc,Ft=_.Fa,Ce=_.P+1+Y*L,Fe=_.mb,Ve=_.nb+Y*L,t(Ce<=_.P+_.qc),Ae.Z!=0)for(t(Di[Ae.Z]!=null),Ne=0;Ne<le;++Ne)Di[Ae.Z](lt,tt,Ft,Ce,Fe,Ve,L),lt=Fe,tt=Ve,Ve+=L,Ce+=L;else for(Ne=0;Ne<le;++Ne)n(Fe,Ve,Ft,Ce,L),lt=Fe,tt=Ve,Ve+=L,Ce+=L;_.rc=lt,_.Vc=tt}else{if(t(Ae.mc!=null),L=Y+le,t((Ne=Ae.mc)!=null),t(L<=Ne.i),Ne.C>=L)L=1;else if(Ae.ic||Me(),Ae.ic){Ae=Ne.V,lt=Ne.Ba,tt=Ne.c;var bt=Ne.i,Xe=(Ft=1,Ce=Ne.$/tt,Fe=Ne.$%tt,Ve=Ne.m,ot=Ne.s,Ne.$),Ye=tt*bt,kt=tt*L,jt=ot.wc,Et=Xe<kt?Hr(ot,Fe,Ce):null;t(Xe<=Ye),t(L<=bt),t(ve(ot));t:for(;;){for(;!Ve.h&&Xe<kt;){if(Fe&jt||(Et=Hr(ot,Fe,Ce)),t(Et!=null),K(Ve),256>(bt=Wr(Et.G[0],Et.H[0],Ve)))Ae[lt+Xe]=bt,++Xe,++Fe>=tt&&(Fe=0,++Ce<=L&&!(Ce%16)&&Ie(Ne,Ce));else{if(!(280>bt)){Ft=0;break t}bt=ir(bt-256,Ve);var pr,sr=Wr(Et.G[4],Et.H[4],Ve);if(K(Ve),!(Xe>=(sr=vr(tt,sr=ir(sr,Ve)))&&Ye-Xe>=bt)){Ft=0;break t}for(pr=0;pr<bt;++pr)Ae[lt+Xe+pr]=Ae[lt+Xe+pr-sr];for(Xe+=bt,Fe+=bt;Fe>=tt;)Fe-=tt,++Ce<=L&&!(Ce%16)&&Ie(Ne,Ce);Xe<kt&&Fe&jt&&(Et=Hr(ot,Fe,Ce))}t(Ve.h==W(Ve))}Ie(Ne,Ce>L?L:Ce);break t}!Ft||Ve.h&&Xe<Ye?(Ft=0,Ne.a=Ve.h?5:3):Ne.$=Xe,L=Ft}else L=Te(Ne,Ne.V,Ne.Ba,Ne.c,Ne.i,L,at);if(!L){le=0;break e}}Y+le>=be&&(_.Cc=1),le=1}if(!le)return null;if(_.Cc&&((le=_.ga)!=null&&(le.mc=null),_.ga=null,0<_.Ga))return alert("todo:WebPDequantizeLevels"),null}return _.nb+Y*me}function H(_,L,Y,le,me,be){for(;0<me--;){var Ne,Ae=_,Ce=L+(Y?1:0),Fe=_,Ve=L+(Y?0:3);for(Ne=0;Ne<le;++Ne){var ot=Fe[Ve+4*Ne];ot!=255&&(ot*=32897,Ae[Ce+4*Ne+0]=Ae[Ce+4*Ne+0]*ot>>23,Ae[Ce+4*Ne+1]=Ae[Ce+4*Ne+1]*ot>>23,Ae[Ce+4*Ne+2]=Ae[Ce+4*Ne+2]*ot>>23)}L+=be}}function R(_,L,Y,le,me){for(;0<le--;){var be;for(be=0;be<Y;++be){var Ne=_[L+2*be+0],Ae=15&(Fe=_[L+2*be+1]),Ce=4369*Ae,Fe=(240&Fe|Fe>>4)*Ce>>16;_[L+2*be+0]=(240&Ne|Ne>>4)*Ce>>16&240|(15&Ne|Ne<<4)*Ce>>16>>4&15,_[L+2*be+1]=240&Fe|Ae}L+=me}}function de(_,L,Y,le,me,be,Ne,Ae){var Ce,Fe,Ve=255;for(Fe=0;Fe<me;++Fe){for(Ce=0;Ce<le;++Ce){var ot=_[L+Ce];be[Ne+4*Ce]=ot,Ve&=ot}L+=Y,Ne+=Ae}return Ve!=255}function xe(_,L,Y,le,me){var be;for(be=0;be<me;++be)Y[le+be]=_[L+be]>>8}function Me(){ds=H,ta=R,Gn=de,Ea=xe}function He(_,L,Y){O[_]=function(le,me,be,Ne,Ae,Ce,Fe,Ve,ot,lt,tt,Ft,bt,Xe,Ye,kt,jt){var Et,pr=jt-1>>1,sr=Ae[Ce+0]|Fe[Ve+0]<<16,Lr=ot[lt+0]|tt[Ft+0]<<16;t(le!=null);var ur=3*sr+Lr+131074>>2;for(L(le[me+0],255&ur,ur>>16,bt,Xe),be!=null&&(ur=3*Lr+sr+131074>>2,L(be[Ne+0],255&ur,ur>>16,Ye,kt)),Et=1;Et<=pr;++Et){var Cn=Ae[Ce+Et]|Fe[Ve+Et]<<16,Tn=ot[lt+Et]|tt[Ft+Et]<<16,jn=sr+Cn+Lr+Tn+524296,ln=jn+2*(Cn+Lr)>>3;ur=ln+sr>>1,sr=(jn=jn+2*(sr+Tn)>>3)+Cn>>1,L(le[me+2*Et-1],255&ur,ur>>16,bt,Xe+(2*Et-1)*Y),L(le[me+2*Et-0],255&sr,sr>>16,bt,Xe+(2*Et-0)*Y),be!=null&&(ur=jn+Lr>>1,sr=ln+Tn>>1,L(be[Ne+2*Et-1],255&ur,ur>>16,Ye,kt+(2*Et-1)*Y),L(be[Ne+2*Et+0],255&sr,sr>>16,Ye,kt+(2*Et+0)*Y)),sr=Cn,Lr=Tn}1&jt||(ur=3*sr+Lr+131074>>2,L(le[me+jt-1],255&ur,ur>>16,bt,Xe+(jt-1)*Y),be!=null&&(ur=3*Lr+sr+131074>>2,L(be[Ne+jt-1],255&ur,ur>>16,Ye,kt+(jt-1)*Y)))}}function mt(){hs[E0]=Py,hs[Sc]=_c,hs[Fx]=Iy,hs[gf]=hd,hs[vf]=du,hs[ra]=jf,hs[C0]=gp,hs[ud]=_c,hs[lu]=hd,hs[yf]=du,hs[bf]=jf}function St(_){return _&-16384?0>_?0:255:_>>Ac}function Qt(_,L){return St((19077*_>>8)+(26149*L>>8)-14234)}function hr(_,L,Y){return St((19077*_>>8)-(6419*L>>8)-(13320*Y>>8)+8708)}function br(_,L){return St((19077*_>>8)+(33050*L>>8)-17685)}function Mr(_,L,Y,le,me){le[me+0]=Qt(_,Y),le[me+1]=hr(_,L,Y),le[me+2]=br(_,L)}function cn(_,L,Y,le,me){le[me+0]=br(_,L),le[me+1]=hr(_,L,Y),le[me+2]=Qt(_,Y)}function Vn(_,L,Y,le,me){var be=hr(_,L,Y);L=be<<3&224|br(_,L)>>3,le[me+0]=248&Qt(_,Y)|be>>5,le[me+1]=L}function ma(_,L,Y,le,me){var be=240&br(_,L)|15;le[me+0]=240&Qt(_,Y)|hr(_,L,Y)>>4,le[me+1]=be}function Oi(_,L,Y,le,me){le[me+0]=255,Mr(_,L,Y,le,me+1)}function ci(_,L,Y,le,me){cn(_,L,Y,le,me),le[me+3]=255}function So(_,L,Y,le,me){Mr(_,L,Y,le,me),le[me+3]=255}function Bs(_,L){return 0>_?0:_>L?L:_}function so(_,L,Y){O[_]=function(le,me,be,Ne,Ae,Ce,Fe,Ve,ot){for(var lt=Ve+(-2&ot)*Y;Ve!=lt;)L(le[me+0],be[Ne+0],Ae[Ce+0],Fe,Ve),L(le[me+1],be[Ne+0],Ae[Ce+0],Fe,Ve+Y),me+=2,++Ne,++Ce,Ve+=2*Y;1&ot&&L(le[me+0],be[Ne+0],Ae[Ce+0],Fe,Ve)}}function wc(_,L,Y){return Y==0?_==0?L==0?6:5:L==0?4:0:Y}function hf(_,L,Y,le,me){switch(_>>>30){case 3:Ll(L,Y,le,me,0);break;case 2:Ln(L,Y,le,me);break;case 1:Ii(L,Y,le,me)}}function Qu(_,L){var Y,le,me=L.M,be=L.Nb,Ne=_.oc,Ae=_.pc+40,Ce=_.oc,Fe=_.pc+584,Ve=_.oc,ot=_.pc+600;for(Y=0;16>Y;++Y)Ne[Ae+32*Y-1]=129;for(Y=0;8>Y;++Y)Ce[Fe+32*Y-1]=129,Ve[ot+32*Y-1]=129;for(0<me?Ne[Ae-1-32]=Ce[Fe-1-32]=Ve[ot-1-32]=129:(a(Ne,Ae-32-1,127,21),a(Ce,Fe-32-1,127,9),a(Ve,ot-32-1,127,9)),le=0;le<_.za;++le){var lt=L.ya[L.aa+le];if(0<le){for(Y=-1;16>Y;++Y)n(Ne,Ae+32*Y-4,Ne,Ae+32*Y+12,4);for(Y=-1;8>Y;++Y)n(Ce,Fe+32*Y-4,Ce,Fe+32*Y+4,4),n(Ve,ot+32*Y-4,Ve,ot+32*Y+4,4)}var tt=_.Gd,Ft=_.Hd+le,bt=lt.ad,Xe=lt.Hc;if(0<me&&(n(Ne,Ae-32,tt[Ft].y,0,16),n(Ce,Fe-32,tt[Ft].f,0,8),n(Ve,ot-32,tt[Ft].ea,0,8)),lt.Za){var Ye=Ne,kt=Ae-32+16;for(0<me&&(le>=_.za-1?a(Ye,kt,tt[Ft].y[15],4):n(Ye,kt,tt[Ft+1].y,0,4)),Y=0;4>Y;Y++)Ye[kt+128+Y]=Ye[kt+256+Y]=Ye[kt+384+Y]=Ye[kt+0+Y];for(Y=0;16>Y;++Y,Xe<<=2)Ye=Ne,kt=Ae+vp[Y],lo[lt.Ob[Y]](Ye,kt),hf(Xe,bt,16*+Y,Ye,kt)}else if(Ye=wc(le,me,lt.Ob[0]),Zi[Ye](Ne,Ae),Xe!=0)for(Y=0;16>Y;++Y,Xe<<=2)hf(Xe,bt,16*+Y,Ne,Ae+vp[Y]);for(Y=lt.Gc,Ye=wc(le,me,lt.Dd),fs[Ye](Ce,Fe),fs[Ye](Ve,ot),Xe=bt,Ye=Ce,kt=Fe,255&(lt=Y>>0)&&(170&lt?Fl(Xe,256,Ye,kt):Us(Xe,256,Ye,kt)),lt=Ve,Xe=ot,255&(Y>>=8)&&(170&Y?Fl(bt,320,lt,Xe):Us(bt,320,lt,Xe)),me<_.Ub-1&&(n(tt[Ft].y,0,Ne,Ae+480,16),n(tt[Ft].f,0,Ce,Fe+224,8),n(tt[Ft].ea,0,Ve,ot+224,8)),Y=8*be*_.B,tt=_.sa,Ft=_.ta+16*le+16*be*_.R,bt=_.qa,lt=_.ra+8*le+Y,Xe=_.Ha,Ye=_.Ia+8*le+Y,Y=0;16>Y;++Y)n(tt,Ft+Y*_.R,Ne,Ae+32*Y,16);for(Y=0;8>Y;++Y)n(bt,lt+Y*_.B,Ce,Fe+32*Y,8),n(Xe,Ye+Y*_.B,Ve,ot+32*Y,8)}}function eu(_,L,Y,le,me,be,Ne,Ae,Ce){var Fe=[0],Ve=[0],ot=0,lt=Ce!=null?Ce.kd:0,tt=Ce??new Ho;if(_==null||12>Y)return 7;tt.data=_,tt.w=L,tt.ha=Y,L=[L],Y=[Y],tt.gb=[tt.gb];e:{var Ft=L,bt=Y,Xe=tt.gb;if(t(_!=null),t(bt!=null),t(Xe!=null),Xe[0]=0,12<=bt[0]&&!r(_,Ft[0],"RIFF")){if(r(_,Ft[0]+8,"WEBP")){Xe=3;break e}var Ye=De(_,Ft[0]+4);if(12>Ye||4294967286<Ye){Xe=3;break e}if(lt&&Ye>bt[0]-8){Xe=7;break e}Xe[0]=Ye,Ft[0]+=12,bt[0]-=12}Xe=0}if(Xe!=0)return Xe;for(Ye=0<tt.gb[0],Y=Y[0];;){e:{var kt=_;bt=L,Xe=Y;var jt=Fe,Et=Ve,pr=Ft=[0];if((ur=ot=[ot])[0]=0,8>Xe[0])Xe=7;else{if(!r(kt,bt[0],"VP8X")){if(De(kt,bt[0]+4)!=10){Xe=3;break e}if(18>Xe[0]){Xe=7;break e}var sr=De(kt,bt[0]+8),Lr=1+ee(kt,bt[0]+12);if(2147483648<=Lr*(kt=1+ee(kt,bt[0]+15))){Xe=3;break e}pr!=null&&(pr[0]=sr),jt!=null&&(jt[0]=Lr),Et!=null&&(Et[0]=kt),bt[0]+=18,Xe[0]-=18,ur[0]=1}Xe=0}}if(ot=ot[0],Ft=Ft[0],Xe!=0)return Xe;if(bt=!!(2&Ft),!Ye&&ot)return 3;if(be!=null&&(be[0]=!!(16&Ft)),Ne!=null&&(Ne[0]=bt),Ae!=null&&(Ae[0]=0),Ne=Fe[0],Ft=Ve[0],ot&&bt&&Ce==null){Xe=0;break}if(4>Y){Xe=7;break}if(Ye&&ot||!Ye&&!ot&&!r(_,L[0],"ALPH")){Y=[Y],tt.na=[tt.na],tt.P=[tt.P],tt.Sa=[tt.Sa];e:{sr=_,Xe=L,Ye=Y;var ur=tt.gb;jt=tt.na,Et=tt.P,pr=tt.Sa,Lr=22,t(sr!=null),t(Ye!=null),kt=Xe[0];var Cn=Ye[0];for(t(jt!=null),t(pr!=null),jt[0]=null,Et[0]=null,pr[0]=0;;){if(Xe[0]=kt,Ye[0]=Cn,8>Cn){Xe=7;break e}var Tn=De(sr,kt+4);if(4294967286<Tn){Xe=3;break e}var jn=8+Tn+1&-2;if(Lr+=jn,0<ur&&Lr>ur){Xe=3;break e}if(!r(sr,kt,"VP8 ")||!r(sr,kt,"VP8L")){Xe=0;break e}if(Cn[0]<jn){Xe=7;break e}r(sr,kt,"ALPH")||(jt[0]=sr,Et[0]=kt+8,pr[0]=Tn),kt+=jn,Cn-=jn}}if(Y=Y[0],tt.na=tt.na[0],tt.P=tt.P[0],tt.Sa=tt.Sa[0],Xe!=0)break}Y=[Y],tt.Ja=[tt.Ja],tt.xa=[tt.xa];e:if(ur=_,Xe=L,Ye=Y,jt=tt.gb[0],Et=tt.Ja,pr=tt.xa,sr=Xe[0],kt=!r(ur,sr,"VP8 "),Lr=!r(ur,sr,"VP8L"),t(ur!=null),t(Ye!=null),t(Et!=null),t(pr!=null),8>Ye[0])Xe=7;else{if(kt||Lr){if(ur=De(ur,sr+4),12<=jt&&ur>jt-12){Xe=3;break e}if(lt&&ur>Ye[0]-8){Xe=7;break e}Et[0]=ur,Xe[0]+=8,Ye[0]-=8,pr[0]=Lr}else pr[0]=5<=Ye[0]&&ur[sr+0]==47&&!(ur[sr+4]>>5),Et[0]=Ye[0];Xe=0}if(Y=Y[0],tt.Ja=tt.Ja[0],tt.xa=tt.xa[0],L=L[0],Xe!=0)break;if(4294967286<tt.Ja)return 3;if(Ae==null||bt||(Ae[0]=tt.xa?2:1),Ne=[Ne],Ft=[Ft],tt.xa){if(5>Y){Xe=7;break}Ae=Ne,lt=Ft,bt=be,_==null||5>Y?_=0:5<=Y&&_[L+0]==47&&!(_[L+4]>>5)?(Ye=[0],ur=[0],jt=[0],ie(Et=new C,_,L,Y),At(Et,Ye,ur,jt)?(Ae!=null&&(Ae[0]=Ye[0]),lt!=null&&(lt[0]=ur[0]),bt!=null&&(bt[0]=jt[0]),_=1):_=0):_=0}else{if(10>Y){Xe=7;break}Ae=Ft,_==null||10>Y||!Le(_,L+3,Y-3)?_=0:(lt=_[L+0]|_[L+1]<<8|_[L+2]<<16,bt=16383&(_[L+7]<<8|_[L+6]),_=16383&(_[L+9]<<8|_[L+8]),1&lt||3<(lt>>1&7)||!(lt>>4&1)||lt>>5>=tt.Ja||!bt||!_?_=0:(Ne&&(Ne[0]=bt),Ae&&(Ae[0]=_),_=1))}if(!_||(Ne=Ne[0],Ft=Ft[0],ot&&(Fe[0]!=Ne||Ve[0]!=Ft)))return 3;Ce!=null&&(Ce[0]=tt,Ce.offset=L-Ce.w,t(4294967286>L-Ce.w),t(Ce.offset==Ce.ha-Y));break}return Xe==0||Xe==7&&ot&&Ce==null?(be!=null&&(be[0]|=tt.na!=null&&0<tt.na.length),le!=null&&(le[0]=Ne),me!=null&&(me[0]=Ft),0):Xe}function Zu(_,L,Y){var le=L.width,me=L.height,be=0,Ne=0,Ae=le,Ce=me;if(L.Da=_!=null&&0<_.Da,L.Da&&(Ae=_.cd,Ce=_.bd,be=_.v,Ne=_.j,11>Y||(be&=-2,Ne&=-2),0>be||0>Ne||0>=Ae||0>=Ce||be+Ae>le||Ne+Ce>me))return 0;if(L.v=be,L.j=Ne,L.va=be+Ae,L.o=Ne+Ce,L.U=Ae,L.T=Ce,L.da=_!=null&&0<_.da,L.da){if(!_e(Ae,Ce,Y=[_.ib],be=[_.hb]))return 0;L.ib=Y[0],L.hb=be[0]}return L.ob=_!=null&&_.ob,L.Kb=_==null||!_.Sd,L.da&&(L.ob=L.ib<3*le/4&&L.hb<3*me/4,L.Kb=0),1}function ed(_){if(_==null)return 2;if(11>_.S){var L=_.f.RGBA;L.fb+=(_.height-1)*L.A,L.A=-L.A}else L=_.f.kb,_=_.height,L.O+=(_-1)*L.fa,L.fa=-L.fa,L.N+=(_-1>>1)*L.Ab,L.Ab=-L.Ab,L.W+=(_-1>>1)*L.Db,L.Db=-L.Db,L.F!=null&&(L.J+=(_-1)*L.lb,L.lb=-L.lb);return 0}function tu(_,L,Y,le){if(le==null||0>=_||0>=L)return 2;if(Y!=null){if(Y.Da){var me=Y.cd,be=Y.bd,Ne=-2&Y.v,Ae=-2&Y.j;if(0>Ne||0>Ae||0>=me||0>=be||Ne+me>_||Ae+be>L)return 2;_=me,L=be}if(Y.da){if(!_e(_,L,me=[Y.ib],be=[Y.hb]))return 2;_=me[0],L=be[0]}}le.width=_,le.height=L;e:{var Ce=le.width,Fe=le.height;if(_=le.S,0>=Ce||0>=Fe||!(_>=E0&&13>_))_=2;else{if(0>=le.Rd&&le.sd==null){Ne=be=me=L=0;var Ve=(Ae=Ce*kf[_])*Fe;if(11>_||(be=(Fe+1)/2*(L=(Ce+1)/2),_==12&&(Ne=(me=Ce)*Fe)),(Fe=s(Ve+2*be+Ne))==null){_=1;break e}le.sd=Fe,11>_?((Ce=le.f.RGBA).eb=Fe,Ce.fb=0,Ce.A=Ae,Ce.size=Ve):((Ce=le.f.kb).y=Fe,Ce.O=0,Ce.fa=Ae,Ce.Fd=Ve,Ce.f=Fe,Ce.N=0+Ve,Ce.Ab=L,Ce.Cd=be,Ce.ea=Fe,Ce.W=0+Ve+be,Ce.Db=L,Ce.Ed=be,_==12&&(Ce.F=Fe,Ce.J=0+Ve+2*be),Ce.Tc=Ne,Ce.lb=me)}if(L=1,me=le.S,be=le.width,Ne=le.height,me>=E0&&13>me)if(11>me)_=le.f.RGBA,L&=(Ae=Math.abs(_.A))*(Ne-1)+be<=_.size,L&=Ae>=be*kf[me],L&=_.eb!=null;else{_=le.f.kb,Ae=(be+1)/2,Ve=(Ne+1)/2,Ce=Math.abs(_.fa),Fe=Math.abs(_.Ab);var ot=Math.abs(_.Db),lt=Math.abs(_.lb),tt=lt*(Ne-1)+be;L&=Ce*(Ne-1)+be<=_.Fd,L&=Fe*(Ve-1)+Ae<=_.Cd,L=(L&=ot*(Ve-1)+Ae<=_.Ed)&Ce>=be&Fe>=Ae&ot>=Ae,L&=_.y!=null,L&=_.f!=null,L&=_.ea!=null,me==12&&(L&=lt>=be,L&=tt<=_.Tc,L&=_.F!=null)}else L=0;_=L?0:2}}return _!=0||Y!=null&&Y.fd&&(_=ed(le)),_}var Aa=64,td=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],rd=24,nd=32,ad=8,Xi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];pe("Predictor0","PredictorAdd0"),O.Predictor0=function(){return 4278190080},O.Predictor1=function(_){return _},O.Predictor2=function(_,L,Y){return L[Y+0]},O.Predictor3=function(_,L,Y){return L[Y+1]},O.Predictor4=function(_,L,Y){return L[Y-1]},O.Predictor5=function(_,L,Y){return ye(ye(_,L[Y+1]),L[Y+0])},O.Predictor6=function(_,L,Y){return ye(_,L[Y-1])},O.Predictor7=function(_,L,Y){return ye(_,L[Y+0])},O.Predictor8=function(_,L,Y){return ye(L[Y-1],L[Y+0])},O.Predictor9=function(_,L,Y){return ye(L[Y+0],L[Y+1])},O.Predictor10=function(_,L,Y){return ye(ye(_,L[Y-1]),ye(L[Y+0],L[Y+1]))},O.Predictor11=function(_,L,Y){var le=L[Y+0];return 0>=rt(le>>24&255,_>>24&255,(L=L[Y-1])>>24&255)+rt(le>>16&255,_>>16&255,L>>16&255)+rt(le>>8&255,_>>8&255,L>>8&255)+rt(255&le,255&_,255&L)?le:_},O.Predictor12=function(_,L,Y){var le=L[Y+0];return(Be((_>>24&255)+(le>>24&255)-((L=L[Y-1])>>24&255))<<24|Be((_>>16&255)+(le>>16&255)-(L>>16&255))<<16|Be((_>>8&255)+(le>>8&255)-(L>>8&255))<<8|Be((255&_)+(255&le)-(255&L)))>>>0},O.Predictor13=function(_,L,Y){var le=L[Y-1];return($e((_=ye(_,L[Y+0]))>>24&255,le>>24&255)<<24|$e(_>>16&255,le>>16&255)<<16|$e(_>>8&255,le>>8&255)<<8|$e(_>>0&255,le>>0&255))>>>0};var ru=O.PredictorAdd0;O.PredictorAdd1=ft,pe("Predictor2","PredictorAdd2"),pe("Predictor3","PredictorAdd3"),pe("Predictor4","PredictorAdd4"),pe("Predictor5","PredictorAdd5"),pe("Predictor6","PredictorAdd6"),pe("Predictor7","PredictorAdd7"),pe("Predictor8","PredictorAdd8"),pe("Predictor9","PredictorAdd9"),pe("Predictor10","PredictorAdd10"),pe("Predictor11","PredictorAdd11"),pe("Predictor12","PredictorAdd12"),pe("Predictor13","PredictorAdd13");var Pl=O.PredictorAdd2;st("ColorIndexInverseTransform","MapARGB","32b",(function(_){return _>>8&255}),(function(_){return _})),st("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(_){return _}),(function(_){return _>>8&255}));var A0,Yi=O.ColorIndexInverseTransform,id=O.MapARGB,pf=O.VP8LColorIndexInverseTransformAlpha,sd=O.MapAlpha,Vo=O.VP8LPredictorsAdd=[];Vo.length=16,(O.VP8LPredictors=[]).length=16,(O.VP8LPredictorsAdd_C=[]).length=16,(O.VP8LPredictors_C=[]).length=16;var Nc,Ji,Pi,jc,Il,Dl,od,Ll,Ln,Fl,Ii,Us,nu,mf,au,iu,su,qs,Ml,Go,Rl,Bl,kc,vi,ds,ta,Gn,Ea,Ua=s(511),Ko=s(2041),ld=s(225),ou=s(767),xf=0,Xo=Ko,cd=ld,Qi=ou,oo=Ua,E0=0,Sc=1,Fx=2,gf=3,vf=4,ra=5,C0=6,ud=7,lu=8,yf=9,bf=10,wf=[2,3,7],T0=[3,3,11],cu=[280,256,256,256,40],Mx=[0,1,1,1,0],Ey=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Cy=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Rx=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],O0=8,dd=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Nf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],uu=null,pp=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],mp=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Bx=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Ux=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ty=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Oy=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],xp=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Zi=[],lo=[],fs=[],Yo=1,fd=2,Di=[],hs=[];He("UpsampleRgbLinePair",Mr,3),He("UpsampleBgrLinePair",cn,3),He("UpsampleRgbaLinePair",So,4),He("UpsampleBgraLinePair",ci,4),He("UpsampleArgbLinePair",Oi,4),He("UpsampleRgba4444LinePair",ma,2),He("UpsampleRgb565LinePair",Vn,2);var Py=O.UpsampleRgbLinePair,Iy=O.UpsampleBgrLinePair,_c=O.UpsampleRgbaLinePair,hd=O.UpsampleBgraLinePair,du=O.UpsampleArgbLinePair,jf=O.UpsampleRgba4444LinePair,gp=O.UpsampleRgb565LinePair,Ul=16,_o=1<<Ul-1,Kn=-227,Jn=482,Ac=6,yi=0,ps=s(256),fu=s(256),pd=s(256),ms=s(256),P0=s(Jn-Kn),qx=s(Jn-Kn);so("YuvToRgbRow",Mr,3),so("YuvToBgrRow",cn,3),so("YuvToRgbaRow",So,4),so("YuvToBgraRow",ci,4),so("YuvToArgbRow",Oi,4),so("YuvToRgba4444Row",ma,2),so("YuvToRgb565Row",Vn,2);var vp=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],hu=[0,2,8],$x=[8,7,6,4,4,2,2,2,1,1,1,1],ql=1;this.WebPDecodeRGBA=function(_,L,Y,le,me){var be=Sc,Ne=new io,Ae=new Er;Ne.ba=Ae,Ae.S=be,Ae.width=[Ae.width],Ae.height=[Ae.height];var Ce=Ae.width,Fe=Ae.height,Ve=new nn;if(Ve==null||_==null)var ot=2;else t(Ve!=null),ot=eu(_,L,Y,Ve.width,Ve.height,Ve.Pd,Ve.Qd,Ve.format,null);if(ot!=0?Ce=0:(Ce!=null&&(Ce[0]=Ve.width[0]),Fe!=null&&(Fe[0]=Ve.height[0]),Ce=1),Ce){Ae.width=Ae.width[0],Ae.height=Ae.height[0],le!=null&&(le[0]=Ae.width),me!=null&&(me[0]=Ae.height);e:{if(le=new Ta,(me=new Ho).data=_,me.w=L,me.ha=Y,me.kd=1,L=[0],t(me!=null),((_=eu(me.data,me.w,me.ha,null,null,null,L,null,me))==0||_==7)&&L[0]&&(_=4),(L=_)==0){if(t(Ne!=null),le.data=me.data,le.w=me.w+me.offset,le.ha=me.ha-me.offset,le.put=We,le.ac=sn,le.bc=Ct,le.ma=Ne,me.xa){if((_=et())==null){Ne=1;break e}if((function(lt,tt){var Ft=[0],bt=[0],Xe=[0];t:for(;;){if(lt==null)return 0;if(tt==null)return lt.a=2,0;if(lt.l=tt,lt.a=0,ie(lt.m,tt.data,tt.w,tt.ha),!At(lt.m,Ft,bt,Xe)){lt.a=3;break t}if(lt.xb=fd,tt.width=Ft[0],tt.height=bt[0],!Ge(Ft[0],bt[0],1,lt,null))break t;return 1}return t(lt.a!=0),0})(_,le)){if(le=(L=tu(le.width,le.height,Ne.Oa,Ne.ba))==0){t:{le=_;r:for(;;){if(le==null){le=0;break t}if(t(le.s.yc!=null),t(le.s.Ya!=null),t(0<le.s.Wb),t((Y=le.l)!=null),t((me=Y.ma)!=null),le.xb!=0){if(le.ca=me.ba,le.tb=me.tb,t(le.ca!=null),!Zu(me.Oa,Y,gf)){le.a=2;break r}if(!Je(le,Y.width)||Y.da)break r;if((Y.da||$t(le.ca.S))&&Me(),11>le.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),le.ca.f.kb.F!=null&&Me()),le.Pb&&0<le.s.ua&&le.s.vb.X==null&&!je(le.s.vb,le.s.Wa.Xa)){le.a=1;break r}le.xb=0}if(!Te(le,le.V,le.Ba,le.c,le.i,Y.o,ge))break r;me.Dc=le.Ma,le=1;break t}t(le.a!=0),le=0}le=!le}le&&(L=_.a)}else L=_.a}else{if((_=new gn)==null){Ne=1;break e}if(_.Fa=me.na,_.P=me.P,_.qc=me.Sa,ht(_,le)){if((L=tu(le.width,le.height,Ne.Oa,Ne.ba))==0){if(_.Aa=0,Y=Ne.Oa,t((me=_)!=null),Y!=null){if(0<(Ce=0>(Ce=Y.Md)?0:100<Ce?255:255*Ce/100)){for(Fe=Ve=0;4>Fe;++Fe)12>(ot=me.pb[Fe]).lc&&(ot.ia=Ce*$x[0>ot.lc?0:ot.lc]>>3),Ve|=ot.ia;Ve&&(alert("todo:VP8InitRandom"),me.ia=1)}me.Ga=Y.Id,100<me.Ga?me.Ga=100:0>me.Ga&&(me.Ga=0)}Zt(_,le)||(L=_.a)}}else L=_.a}L==0&&Ne.Oa!=null&&Ne.Oa.fd&&(L=ed(Ne.ba))}Ne=L}be=Ne!=0?null:11>be?Ae.f.RGBA.eb:Ae.f.kb.y}else be=null;return be};var kf=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(O,M){for(var F="",E=0;E<4;E++)F+=String.fromCharCode(O[M++]);return F}function d(O,M){return(O[M+0]<<0|O[M+1]<<8|O[M+2]<<16)>>>0}function h(O,M){return(O[M+0]<<0|O[M+1]<<8|O[M+2]<<16|O[M+3]<<24)>>>0}new c;var m=[0],p=[0],y=[],v=new c,g=e,b=(function(O,M){var F={},E=0,T=!1,I=0,z=0;if(F.frames=[],!(function(U,W,B,K){for(var re=0;re<K;re++)if(U[W+re]!=B.charCodeAt(re))return!0;return!1})(O,M,"RIFF",4)){var Q,te;for(h(O,M+=4),M+=8;M<O.length;){var J=u(O,M),ie=h(O,M+=4);M+=4;var X=ie+(1&ie);switch(J){case"VP8 ":case"VP8L":F.frames[E]===void 0&&(F.frames[E]={}),(C=F.frames[E]).src_off=T?z:M-8,C.src_size=I+ie+8,E++,T&&(T=!1,I=0,z=0);break;case"VP8X":(C=F.header={}).feature_flags=O[M];var Z=M+4;C.canvas_width=1+d(O,Z),Z+=3,C.canvas_height=1+d(O,Z),Z+=3;break;case"ALPH":T=!0,I=X+8,z=M-8;break;case"ANIM":(C=F.header).bgcolor=h(O,M),Z=M+4,C.loop_count=(Q=O)[(te=Z)+0]<<0|Q[te+1]<<8,Z+=2;break;case"ANMF":var q,C;(C=F.frames[E]={}).offset_x=2*d(O,M),M+=3,C.offset_y=2*d(O,M),M+=3,C.width=1+d(O,M),M+=3,C.height=1+d(O,M),M+=3,C.duration=d(O,M),M+=3,q=O[M++],C.dispose=1&q,C.blend=q>>1&1}J!="ANMF"&&(M+=X)}return F}})(g,0);b.response=g,b.rgbaoutput=!0,b.dataurl=!1;var w=b.header?b.header:null,j=b.frames?b.frames:null;if(w){w.loop_counter=w.loop_count,m=[w.canvas_height],p=[w.canvas_width];for(var N=0;N<j.length&&j[N].blend!=0;N++);}var S=j[0],P=v.WebPDecodeRGBA(g,S.src_off,S.src_size,p,m);S.rgba=P,S.imgwidth=p[0],S.imgheight=m[0];for(var A=0;A<p[0]*m[0]*4;A++)y[A]=P[A];return this.width=p,this.height=m,this.data=y,this}(function(e){var t=function(){return typeof Rj=="function"},r=function(m,p,y,v){var g=4,b=o;switch(v){case e.image_compression.FAST:g=1,b=s;break;case e.image_compression.MEDIUM:g=6,b=l;break;case e.image_compression.SLOW:g=9,b=c}m=n(m,p,y,b);var w=Rj(m,{level:g});return e.__addimage__.arrayBufferToBinaryString(w)},n=function(m,p,y,v){for(var g,b,w,j=m.length/p,N=new Uint8Array(m.length+j),S=d(),P=0;P<j;P+=1){if(w=P*p,g=m.subarray(w,w+p),v)N.set(v(g,y,b),w+P);else{for(var A,O=S.length,M=[];A<O;A+=1)M[A]=S[A](g,y,b);var F=h(M.concat());N.set(M[F],w+P)}b=g}return N},a=function(m){var p=Array.apply([],m);return p.unshift(0),p},s=function(m,p){var y,v=[],g=m.length;v[0]=1;for(var b=0;b<g;b+=1)y=m[b-p]||0,v[b+1]=m[b]-y+256&255;return v},o=function(m,p,y){var v,g=[],b=m.length;g[0]=2;for(var w=0;w<b;w+=1)v=y&&y[w]||0,g[w+1]=m[w]-v+256&255;return g},l=function(m,p,y){var v,g,b=[],w=m.length;b[0]=3;for(var j=0;j<w;j+=1)v=m[j-p]||0,g=y&&y[j]||0,b[j+1]=m[j]+256-(v+g>>>1)&255;return b},c=function(m,p,y){var v,g,b,w,j=[],N=m.length;j[0]=4;for(var S=0;S<N;S+=1)v=m[S-p]||0,g=y&&y[S]||0,b=y&&y[S-p]||0,w=u(v,g,b),j[S+1]=m[S]-w+256&255;return j},u=function(m,p,y){if(m===p&&p===y)return m;var v=Math.abs(p-y),g=Math.abs(m-y),b=Math.abs(m+p-y-y);return v<=g&&v<=b?m:g<=b?p:y},d=function(){return[a,s,o,l,c]},h=function(m){var p=m.map((function(y){return y.reduce((function(v,g){return v+Math.abs(g)}),0)}));return p.indexOf(Math.min.apply(null,p))};e.processPNG=function(m,p,y,v){var g,b,w,j,N,S,P,A,O,M,F,E,T,I,z,Q=this.decode.FLATE_DECODE,te="";if(this.__addimage__.isArrayBuffer(m)&&(m=new Uint8Array(m)),this.__addimage__.isArrayBufferView(m)){if(m=(w=new Wme(m)).imgData,b=w.bits,g=w.colorSpace,N=w.colors,[4,6].indexOf(w.colorType)!==-1){if(w.bits===8){O=(A=w.pixelBitlength==32?new Uint32Array(w.decodePixels().buffer):w.pixelBitlength==16?new Uint16Array(w.decodePixels().buffer):new Uint8Array(w.decodePixels().buffer)).length,F=new Uint8Array(O*w.colors),M=new Uint8Array(O);var J,ie=w.pixelBitlength-w.bits;for(I=0,z=0;I<O;I++){for(T=A[I],J=0;J<ie;)F[z++]=T>>>J&255,J+=w.bits;M[I]=T>>>J&255}}if(w.bits===16){O=(A=new Uint32Array(w.decodePixels().buffer)).length,F=new Uint8Array(O*(32/w.pixelBitlength)*w.colors),M=new Uint8Array(O*(32/w.pixelBitlength)),E=w.colors>1,I=0,z=0;for(var X=0;I<O;)T=A[I++],F[z++]=T>>>0&255,E&&(F[z++]=T>>>16&255,T=A[I++],F[z++]=T>>>0&255),M[X++]=T>>>16&255;b=8}v!==e.image_compression.NONE&&t()?(m=r(F,w.width*w.colors,w.colors,v),P=r(M,w.width,1,v)):(m=F,P=M,Q=void 0)}if(w.colorType===3&&(g=this.color_spaces.INDEXED,S=w.palette,w.transparency.indexed)){var Z=w.transparency.indexed,q=0;for(I=0,O=Z.length;I<O;++I)q+=Z[I];if((q/=255)===O-1&&Z.indexOf(0)!==-1)j=[Z.indexOf(0)];else if(q!==O){for(A=w.decodePixels(),M=new Uint8Array(A.length),I=0,O=A.length;I<O;I++)M[I]=Z[A[I]];P=r(M,w.width,1)}}var C=(function(U){var W;switch(U){case e.image_compression.FAST:W=11;break;case e.image_compression.MEDIUM:W=13;break;case e.image_compression.SLOW:W=14;break;default:W=12}return W})(v);return Q===this.decode.FLATE_DECODE&&(te="/Predictor "+C+" "),te+="/Colors "+N+" /BitsPerComponent "+b+" /Columns "+w.width,(this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),(P&&this.__addimage__.isArrayBuffer(P)||this.__addimage__.isArrayBufferView(P))&&(P=this.__addimage__.arrayBufferToBinaryString(P)),{alias:y,data:m,index:p,filter:Q,decodeParameters:te,transparency:j,palette:S,sMask:P,predictor:C,width:w.width,height:w.height,bitsPerComponent:b,colorSpace:g}}}})(Kr.API),(function(e){e.processGIF89A=function(t,r,n,a){var s=new Vme(t),o=s.width,l=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:l},d=new HN(100).encode(u,100);return e.processJPEG.call(this,d,r,n,a)},e.processGIF87A=e.processGIF89A})(Kr.API),ec.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ec.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){fa.log("bit decode error:"+r)}},ec.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[s>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},ec.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*a*4,l=s>>4,c=15&s,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*a+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},ec.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(a<this.palette.length){var o=this.palette[a];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},ec.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,l=(s>>5&t)/t*255|0,c=(s>>10&t)/t*255|0,u=s>>15?255:0,d=n*this.width*4+4*a;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=u}this.pos+=e}},ec.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&r)/r*255|0,u=(o>>11)/t*255|0,d=a*this.width*4+4*s;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=e}},ec.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=s,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},ec.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=s,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=o}},ec.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,r,n,a){var s=new ec(t,!1),o=s.width,l=s.height,c={data:s.getData(),width:o,height:l},u=new HN(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}})(Kr.API),Z8.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,r,n,a){var s=new Z8(t),o=s.width,l=s.height,c={data:s.getData(),width:o,height:l},u=new HN(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}})(Kr.API),Kr.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,s=new Uint8Array(a/4*3),o=new Uint8Array(a/4),l=0,c=0,u=0;u<a;u+=4){var d=n[u],h=n[u+1],m=n[u+2],p=n[u+3];s[l++]=d,s[l++]=h,s[l++]=m,o[c++]=p}var y=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:y,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Kr.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},th=Kr.API,Zg=th.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,u=t.kerning?t.kerning:a.metadata.Unicode.kerning,d=u.fof?u.fof:1,h=t.doKerning!==!1,m=0,p=e.length,y=0,v=l[0]||c,g=[];for(r=0;r<p;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?g.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+o*(1e3/s)||0)/1e3):(m=h&&sa(u[n])==="object"&&!isNaN(parseInt(u[n][y],10))?u[n][y]/d:0,g.push((l[n]||v)/c+m)),y=n;return g},X8=th.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return th.processArabic&&(e=th.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:Zg.apply(this,arguments).reduce((function(s,o){return s+o}),0)},Y8=function(e,t,r,n){for(var a=[],s=0,o=e.length,l=0;s!==o&&l+t[s]<r;)l+=t[s],s++;a.push(e.slice(0,s));var c=s;for(l=0;s!==o;)l+t[s]>n&&(a.push(e.slice(c,s)),l=0,c=s),l+=t[s],s++;return c!==s&&a.push(e.slice(c,s)),a},J8=function(e,t,r){r||(r={});var n,a,s,o,l,c,u,d=[],h=[d],m=r.textIndent||0,p=0,y=0,v=e.split(" "),g=Zg.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?v[0].length+2:r.lineIndent||0){var b=Array(c).join(" "),w=[];v.map((function(N){(N=N.split(/\s*\n/)).length>1?w=w.concat(N.map((function(S,P){return(P&&S.length?`
`:"")+S}))):w.push(N[0])})),v=w,c=X8.apply(this,[b,r])}for(s=0,o=v.length;s<o;s++){var j=0;if(n=v[s],c&&n[0]==`
`&&(n=n.substr(1),j=1),m+p+(y=(a=Zg.apply(this,[n,r])).reduce((function(N,S){return N+S}),0))>t||j){if(y>t){for(l=Y8.apply(this,[n,a,t-(m+p),t]),d.push(l.shift()),d=[l.pop()];l.length;)h.push([l.shift()]);y=a.slice(n.length-(d[0]?d[0].length:0)).reduce((function(N,S){return N+S}),0)}else d=[n];h.push(d),m=y+c,p=g}else d.push(n),m+=p+y,p=g}return u=c?function(N,S){return(S?b:"")+N.join(" ")}:function(N){return N.join(" ")},h.map(u)},th.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var h=this.internal.getFont(d.fontName,d.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/a;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,s.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(J8.apply(this,[n[l],o,s]));return u},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var s=function(h){return"0x"+parseInt(h,10).toString(16)},o=e.__fontmetrics__.compress=function(h){var m,p,y,v,g=["{"];for(var b in h){if(m=h[b],isNaN(parseInt(b,10))?p="'"+b+"'":(b=parseInt(b,10),p=(p=s(b).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof m=="number")m<0?(y=s(m).slice(3),v="-"):(y=s(m).slice(2),v=""),y=v+y.slice(0,-1)+n[y.slice(-1)];else{if(sa(m)!=="object")throw new Error("Don't know what to do with value type "+sa(m)+".");y=o(m)}g.push(p+y)}return g.push("}"),g.join("")},l=e.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,p,y,v,g={},b=1,w=g,j=[],N="",S="",P=h.length-1,A=1;A<P;A+=1)(v=h[A])=="'"?m?(y=m.join(""),m=void 0):m=[]:m?m.push(v):v=="{"?(j.push([w,y]),w={},y=void 0):v=="}"?((p=j.pop())[0][p[1]]=w,y=void 0,w=p[0]):v=="-"?b=-1:y===void 0?r.hasOwnProperty(v)?(N+=r[v],y=parseInt(N,16)*b,b=1,N=""):N+=v:r.hasOwnProperty(v)?(S+=r[v],w[y]=parseInt(S,16)*b,b=1,y=void 0,S=""):S+=v;return g},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(h){var m=h.font,p=d.Unicode[m.postScriptName];p&&(m.metadata.Unicode={},m.metadata.Unicode.widths=p.widths,m.metadata.Unicode.kerning=p.kerning);var y=u.Unicode[m.postScriptName];y&&(m.metadata.Unicode.encoding=y,m.encoding=y.codePages[0])}])})(Kr.API),(function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),s=0;s<n;s++)a[s]=r.charCodeAt(s);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,s=r.instance;if(!a.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=s.existsFileInVFS(a.postScriptName)===!1?s.loadFile(a.postScriptName):s.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(mm(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,n)}}])})(Kr),(function(e){function t(){return(Xr.canvg?Promise.resolve(Xr.canvg):Ij(()=>import("./index.es-CTrYuFh9.js"),[])).catch((function(r){return Promise.reject(new Error("Could not load canvg: "+r))})).then((function(r){return r.default?r.default:r}))}Kr.API.addSvgAsImage=function(r,n,a,s,o,l,c,u){if(isNaN(n)||isNaN(a))throw fa.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw fa.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=s,d.height=o;var h=d.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,d.width,d.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return t().then((function(y){return y.fromString(h,r,m)}),(function(){return Promise.reject(new Error("Could not load canvg."))})).then((function(y){return y.render(m)})).then((function(){p.addImage(d.toDataURL("image/jpeg",1),n,a,s,o,c,u)}))}})(),Kr.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},Kr.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],u=0,d=0,h=0;function m(y,v){var g,b=!1;for(g=0;g<y.length;g+=1)y[g]===v&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=l.length;for(h=0;h<p;h+=1)r[l[h]].value=r[l[h]].defaultValue,r[l[h]].explicitSet=!1}if(sa(e)==="object"){for(a in e)if(s=e[a],m(l,a)&&s!==void 0){if(r[a].type==="boolean"&&typeof s=="boolean")r[a].value=s;else if(r[a].type==="name"&&m(r[a].valueSet,s))r[a].value=s;else if(r[a].type==="integer"&&Number.isInteger(s))r[a].value=s;else if(r[a].type==="array"){for(u=0;u<s.length;u+=1)if(n=!0,s[u].length===1&&typeof s[u][0]=="number")c.push(String(s[u]-1));else if(s[u].length>1){for(d=0;d<s[u].length;d+=1)typeof s[u][d]!="number"&&(n=!1);n===!0&&c.push([s[u][0]-1,s[u][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){var y,v=[];for(y in r)r[y].explicitSet===!0&&(r[y].type==="name"?v.push("/"+y+" /"+r[y].value):v.push("/"+y+" "+r[y].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+o.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+s+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}})(Kr.API),(function(e){var t=e.API,r=t.pdfEscape16=function(s,o){for(var l,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],h=0,m=s.length;h<m;++h){if(l=o.metadata.characterToGlyph(s.charCodeAt(h)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=s.charCodeAt(h),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},n=function(s){var o,l,c,u,d,h,m;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,m=(l=Object.keys(s).sort((function(p,y){return p-y}))).length;h<m;h++)o=l[h],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(u=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var h=l.metadata.Unicode.widths,m=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",y=0;y<m.length;y++)p+=String.fromCharCode(m[y]);var v=u();d({data:p,addLength1:!0,objectId:v}),c("endobj");var g=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:g}),c("endobj");var b=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+ah(l.fontName)),c("/FontFile2 "+v+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var w=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+ah(l.fontName)),c("/FontDescriptor "+b+" 0 R"),c("/W "+e.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+g+" 0 R"),c("/BaseFont /"+ah(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+w+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var h=l.metadata.rawData,m="",p=0;p<h.length;p++)m+=String.fromCharCode(h[p]);var y=u();d({data:m,addLength1:!0,objectId:y}),c("endobj");var v=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var g=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+y+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+ah(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var b=0;b<l.metadata.hmtx.widths.length;b++)l.metadata.hmtx.widths[b]=parseInt(l.metadata.hmtx.widths[b]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+ah(l.fontName)+"/FontDescriptor "+g+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]);var a=function(s){var o,l=s.text||"",c=s.x,u=s.y,d=s.options||{},h=s.mutex||{},m=h.pdfEscape,p=h.activeFontKey,y=h.fonts,v=p,g="",b=0,w="",j=y[v].encoding;if(y[v].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:h};for(w=l,v=p,Array.isArray(l)&&(w=l[0]),b=0;b<w.length;b+=1)y[v].metadata.hasOwnProperty("cmap")&&(o=y[v].metadata.cmap.unicode.codeMap[w[b].charCodeAt(0)]),o||w[b].charCodeAt(0)<256&&y[v].metadata.hasOwnProperty("Unicode")?g+=w[b]:g+="";var N="";return parseInt(v.slice(1))<14||j==="WinAnsiEncoding"?N=m(g,v).split("").map((function(S){return S.charCodeAt(0).toString(16)})).join(""):j==="Identity-H"&&(N=r(g,y[v])),h.isHex=!0,{text:N,x:c,y:u,options:d,mutex:h}};t.events.push(["postProcessText",function(s){var o=s.text||"",l=[],c={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([a(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(a(Object.assign({},c,{text:o[u]})).text);s.text=l}else s.text=a(Object.assign({},c,{text:o})).text}])})(Kr),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(Kr.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,s,o,l,c,u,d,h=t,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},g=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,j=0;this.__bidiEngine__={};var N=function(E){var T=E.charCodeAt(),I=T>>8,z=v[I];return z!==void 0?h[256*z+(255&T)]:I===252||I===253?"AL":b.test(I)?"L":I===8?"R":"N"},S=function(E){for(var T,I=0;I<E.length;I++){if((T=N(E.charAt(I)))==="L")return!1;if(T==="R")return!0}return!1},P=function(E,T,I,z){var Q,te,J,ie,X=T[z];switch(X){case"L":case"R":w=!1;break;case"N":case"AN":break;case"EN":w&&(X="AN");break;case"AL":w=!0,X="R";break;case"WS":X="N";break;case"CS":z<1||z+1>=T.length||(Q=I[z-1])!=="EN"&&Q!=="AN"||(te=T[z+1])!=="EN"&&te!=="AN"?X="N":w&&(te="AN"),X=te===Q?te:"N";break;case"ES":X=(Q=z>0?I[z-1]:"B")==="EN"&&z+1<T.length&&T[z+1]==="EN"?"EN":"N";break;case"ET":if(z>0&&I[z-1]==="EN"){X="EN";break}if(w){X="N";break}for(J=z+1,ie=T.length;J<ie&&T[J]==="ET";)J++;X=J<ie&&T[J]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(ie=T.length,J=z+1;J<ie&&T[J]==="NSM";)J++;if(J<ie){var Z=E[z],q=Z>=1425&&Z<=2303||Z===64286;if(Q=T[J],q&&(Q==="R"||Q==="AL")){X="R";break}}}X=z<1||(Q=T[z-1])==="B"?"N":I[z-1];break;case"B":w=!1,a=!0,X=j;break;case"S":s=!0,X="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"BN":X="N"}return X},A=function(E,T,I){var z=E.split("");return I&&O(z,I,{hiLevel:j}),z.reverse(),T&&T.reverse(),z.join("")},O=function(E,T,I){var z,Q,te,J,ie,X=-1,Z=E.length,q=0,C=[],U=j?p:m,W=[];for(w=!1,a=!1,s=!1,Q=0;Q<Z;Q++)W[Q]=N(E[Q]);for(te=0;te<Z;te++){if(ie=q,C[te]=P(E,W,C,te),z=240&(q=U[ie][y[C[te]]]),q&=15,T[te]=J=U[q][5],z>0)if(z===16){for(Q=X;Q<te;Q++)T[Q]=1;X=-1}else X=-1;if(U[q][6])X===-1&&(X=te);else if(X>-1){for(Q=X;Q<te;Q++)T[Q]=J;X=-1}W[te]==="B"&&(T[te]=0),I.hiLevel|=J}s&&(function(B,K,re){for(var fe=0;fe<re;fe++)if(B[fe]==="S"){K[fe]=j;for(var ce=fe-1;ce>=0&&B[ce]==="WS";ce--)K[ce]=j}})(W,T,Z)},M=function(E,T,I,z,Q){if(!(Q.hiLevel<E)){if(E===1&&j===1&&!a)return T.reverse(),void(I&&I.reverse());for(var te,J,ie,X,Z=T.length,q=0;q<Z;){if(z[q]>=E){for(ie=q+1;ie<Z&&z[ie]>=E;)ie++;for(X=q,J=ie-1;X<J;X++,J--)te=T[X],T[X]=T[J],T[J]=te,I&&(te=I[X],I[X]=I[J],I[J]=te);q=ie}q++}}},F=function(E,T,I){var z=E.split(""),Q={hiLevel:j};return I||(I=[]),O(z,I,Q),(function(te,J,ie){if(ie.hiLevel!==0&&d)for(var X,Z=0;Z<te.length;Z++)J[Z]===1&&(X=g.indexOf(te[Z]))>=0&&(te[Z]=g[X+1])})(z,I,Q),M(2,z,T,I,Q),M(1,z,T,I,Q),z.join("")};return this.__bidiEngine__.doBidiReorder=function(E,T,I){if((function(Q,te){if(te)for(var J=0;J<Q.length;J++)te[J]=J;l===void 0&&(l=S(Q)),u===void 0&&(u=S(Q))})(E,T),o||!c||u)if(o&&c&&l^u)j=l?1:0,E=A(E,T,I);else if(!o&&c&&u)j=l?1:0,E=F(E,T,I),E=A(E,T);else if(!o||l||c||u){if(o&&!c&&l^u)E=A(E,T),l?(j=0,E=F(E,T,I)):(j=1,E=F(E,T,I),E=A(E,T));else if(o&&l&&!c&&u)j=1,E=F(E,T,I),E=A(E,T);else if(!o&&!c&&l^u){var z=d;l?(j=1,E=F(E,T,I),j=0,d=!1,E=F(E,T,I),d=z):(j=0,E=F(E,T,I),E=A(E,T),j=1,d=!1,E=F(E,T,I),d=z,E=A(E,T))}}else j=0,E=F(E,T,I);else j=l?1:0,E=F(E,T,I);return E},this.__bidiEngine__.setOptions=function(E){E&&(o=E.isInputVisual,c=E.isOutputVisual,l=E.isInputRtl,u=E.isOutputRtl,d=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text,s=(n.x,n.y,n.options||{}),o=(n.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(o=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?o.push([r.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):o.push([r.doBidiReorder(a[l])]);n.text=o}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])})(Kr),Kr.API.TTFFont=(function(){function e(t){var r;if(this.rawData=t,r=this.contents=new ef(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new oxe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Gme(this.contents),this.head=new Xme(this),this.name=new exe(this),this.cmap=new N9(this),this.toUnicode={},this.hhea=new Yme(this),this.maxp=new txe(this),this.hmtx=new rxe(this),this.post=new Qme(this),this.os2=new Jme(this),this.loca=new sxe(this),this.glyf=new nxe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,u;for(u=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),(32768&(r=a>>16))!=0&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,s,o,l;for(o=0,s=0,l=(t=""+t).length;0<=l?s<l:s>l;s=0<=l?++s:--s)a=t.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e})();var xc,ef=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,s,o,l,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^s)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*s+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,s;for(s=[],n=0,a=t.length;n<a;n++)r=t[n],s.push(this.writeByte(r));return s},e})(),Gme=(function(){var e;function t(r){var n,a,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,s=this.tableCount;0<=s?a<s:a>s;a=0<=s?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,s,o,l,c,u,d,h,m,p,y,v;for(v in p=Object.keys(r).length,c=Math.log(2),h=16*Math.floor(Math.log(p)/c),o=Math.floor(h/c),d=16*p-h,(a=new ef).writeInt(this.scalarType),a.writeShort(p),a.writeShort(h),a.writeShort(o),a.writeShort(d),s=16*p,u=a.pos+s,l=null,y=[],r)for(m=r[v],a.writeString(v),a.writeInt(e(m)),a.writeInt(u),a.writeInt(m.length),y=y.concat(m),v==="head"&&(l=u),u+=m.length;u%4;)y.push(0),u++;return a.write(y),n=2981146554-e(a.data),a.pos=l+8,a.writeUInt32(n),a.data},e=function(r){var n,a,s,o;for(r=j9.call(r);r.length%4;)r.push(0);for(s=new ef(r),a=0,n=0,o=r.length;n<o;n=n+=4)a+=s.readUInt32();return 4294967295&a},t})(),Kme={}.hasOwnProperty,Qc=function(e,t){for(var r in t)Kme.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};xc=(function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var Xme=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Qc(t,xc),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new ef).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t})(),eI=(function(){function e(t,r){var n,a,s,o,l,c,u,d,h,m,p,y,v,g,b,w,j;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),h=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(p=t.readUInt16(),m=p/2,t.pos+=6,s=(function(){var N,S;for(S=[],c=N=0;0<=m?N<m:N>m;c=0<=m?++N:--N)S.push(t.readUInt16());return S})(),t.pos+=2,v=(function(){var N,S;for(S=[],c=N=0;0<=m?N<m:N>m;c=0<=m?++N:--N)S.push(t.readUInt16());return S})(),u=(function(){var N,S;for(S=[],c=N=0;0<=m?N<m:N>m;c=0<=m?++N:--N)S.push(t.readUInt16());return S})(),d=(function(){var N,S;for(S=[],c=N=0;0<=m?N<m:N>m;c=0<=m?++N:--N)S.push(t.readUInt16());return S})(),a=(this.length-t.pos+this.offset)/2,l=(function(){var N,S;for(S=[],c=N=0;0<=a?N<a:N>a;c=0<=a?++N:--N)S.push(t.readUInt16());return S})(),c=b=0,j=s.length;b<j;c=++b)for(g=s[c],n=w=y=v[c];y<=g?w<=g:w>=g;n=y<=g?++w:--w)d[c]===0?o=n+u[c]:(o=l[d[c]/2+(n-y)-(m-c)]||0)!==0&&(o+=u[c]),this.codeMap[n]=65535&o}t.pos=h}return e.encode=function(t,r){var n,a,s,o,l,c,u,d,h,m,p,y,v,g,b,w,j,N,S,P,A,O,M,F,E,T,I,z,Q,te,J,ie,X,Z,q,C,U,W,B,K,re,fe,ce,he,Oe,ee;switch(z=new ef,o=Object.keys(t).sort((function(De,je){return De-je})),r){case"macroman":for(v=0,g=(function(){var De=[];for(y=0;y<256;++y)De.push(0);return De})(),w={0:0},s={},Q=0,X=o.length;Q<X;Q++)w[ce=t[a=o[Q]]]==null&&(w[ce]=++v),s[a]={old:t[a],new:w[t[a]]},g[a]=w[t[a]];return z.writeUInt16(1),z.writeUInt16(0),z.writeUInt32(12),z.writeUInt16(0),z.writeUInt16(262),z.writeUInt16(0),z.write(g),{charMap:s,subtable:z.data,maxGlyphID:v+1};case"unicode":for(T=[],h=[],j=0,w={},n={},b=u=null,te=0,Z=o.length;te<Z;te++)w[S=t[a=o[te]]]==null&&(w[S]=++j),n[a]={old:S,new:w[S]},l=w[S]-a,b!=null&&l===u||(b&&h.push(b),T.push(a),u=l),b=a;for(b&&h.push(b),h.push(65535),T.push(65535),F=2*(M=T.length),O=2*Math.pow(Math.log(M)/Math.LN2,2),m=Math.log(O/2)/Math.LN2,A=2*M-O,c=[],P=[],p=[],y=J=0,q=T.length;J<q;y=++J){if(E=T[y],d=h[y],E===65535){c.push(0),P.push(0);break}if(E-(I=n[E].new)>=32768)for(c.push(0),P.push(2*(p.length+M-y)),a=ie=E;E<=d?ie<=d:ie>=d;a=E<=d?++ie:--ie)p.push(n[a].new);else c.push(I-E),P.push(0)}for(z.writeUInt16(3),z.writeUInt16(1),z.writeUInt32(12),z.writeUInt16(4),z.writeUInt16(16+8*M+2*p.length),z.writeUInt16(0),z.writeUInt16(F),z.writeUInt16(O),z.writeUInt16(m),z.writeUInt16(A),re=0,C=h.length;re<C;re++)a=h[re],z.writeUInt16(a);for(z.writeUInt16(0),fe=0,U=T.length;fe<U;fe++)a=T[fe],z.writeUInt16(a);for(he=0,W=c.length;he<W;he++)l=c[he],z.writeUInt16(l);for(Oe=0,B=P.length;Oe<B;Oe++)N=P[Oe],z.writeUInt16(N);for(ee=0,K=p.length;ee<K;ee++)v=p[ee],z.writeUInt16(v);return{charMap:n,subtable:z.data,maxGlyphID:j+1}}},e})(),N9=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Qc(t,xc),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,a,s;for(r.pos=this.offset,this.version=r.readUInt16(),s=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)n=new eI(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var a,s;return n==null&&(n="macroman"),a=eI.encode(r,n),(s=new ef).writeUInt16(0),s.writeUInt16(1),a.table=s.data.concat(a.subtable),a},t})(),Yme=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Qc(t,xc),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t})(),Jme=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Qc(t,xc),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=(function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a})(),this.charRange=(function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a})(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=(function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a})(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t})(),Qme=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Qc(t,xc),t.prototype.tag="post",t.prototype.parse=function(r){var n,a,s;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var o;for(a=r.readUInt16(),this.glyphNameIndex=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],s=[];r.pos<this.offset+this.length;)n=r.readByte(),s.push(this.names.push(r.readString(n)));return s;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var l,c,u;for(u=[],o=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;o=0<=c?++l:--l)u.push(r.readUInt32());return u}).call(this)}},t})(),Zme=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},exe=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Qc(t,xc),t.prototype.tag="name",t.prototype.parse=function(r){var n,a,s,o,l,c,u,d,h,m,p;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),a=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(u={},o=h=0,m=a.length;h<m;o=++h)s=a[o],r.pos=s.offset,d=r.readString(s.length),l=new Zme(d,s),u[p=s.nameID]==null&&(u[p]=[]),u[s.nameID].push(l);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t})(),txe=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Qc(t,xc),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t})(),rxe=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Qc(t,xc),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,a,s,o,l,c,u;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,h;for(h=[],n=d=0;0<=s?d<s:d>s;n=0<=s?++d:--d)h.push(r.readInt16());return h})(),this.widths=(function(){var d,h,m,p;for(p=[],d=0,h=(m=this.metrics).length;d<h;d++)o=m[d],p.push(o.advance);return p}).call(this),a=this.widths[this.widths.length-1],u=[],n=l=0;0<=s?l<s:l>s;n=0<=s?++l:--l)u.push(this.widths.push(a));return u},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t})(),j9=[].slice,nxe=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Qc(t,xc),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,a,s,o,l,c,u,d,h,m;return r in this.cache?this.cache[r]:(o=this.file.loca,n=this.file.contents,a=o.indexOf(r),(s=o.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,l=(c=new ef(n.read(s))).readShort(),d=c.readShort(),m=c.readShort(),u=c.readShort(),h=c.readShort(),this.cache[r]=l===-1?new ixe(c,d,m,u,h):new axe(c,l,d,m,u,h),this.cache[r]))},t.prototype.encode=function(r,n,a){var s,o,l,c,u;for(l=[],o=[],c=0,u=n.length;c<u;c++)s=r[n[c]],o.push(l.length),s&&(l=l.concat(s.encode(a)));return o.push(l.length),{table:l,offsets:o}},t})(),axe=(function(){function e(t,r,n,a,s,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=s,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),ixe=(function(){function e(t,r,n,a,s){var o,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new ef(j9.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e})(),sxe=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Qc(t,xc),t.prototype.tag="loca",t.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,o;for(o=[],a=0,s=this.length;a<s;a+=2)o.push(2*r.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],a=0,s=this.length;a<s;a+=4)o.push(r.readUInt32());return o}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),s=0,o=0,l=0;l<a.length;++l)if(a[l]=s,o<n.length&&n[o]==l){++o,a[l]=s;var c=this.offsets[l],u=this.offsets[l+1]-c;u>0&&(s+=u)}for(var d=new Array(4*a.length),h=0;h<a.length;++h)d[4*h+3]=255&a[h],d[4*h+2]=(65280&a[h])>>8,d[4*h+1]=(16711680&a[h])>>16,d[4*h]=(4278190080&a[h])>>24;return d},t})(),oxe=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,s;for(r in a=this.font.cmap.tables[0].codeMap,t={},s=this.subset)n=s[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,s,o,l,c;for(a={},o=0,l=t.length;o<l;o++)a[s=t[o]]=this.font.glyf.glyphFor(s);for(s in r=[],a)(n=a[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in c=this.glyphsFor(r))n=c[s],a[s]=n;return a},e.prototype.encode=function(t,r){var n,a,s,o,l,c,u,d,h,m,p,y,v,g,b;for(a in n=N9.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),p={0:0},b=n.charMap)p[(c=b[a]).old]=c.new;for(y in m=n.maxGlyphID,o)y in p||(p[y]=m++);return d=(function(w){var j,N;for(j in N={},w)N[w[j]]=j;return N})(p),h=Object.keys(d).sort((function(w,j){return w-j})),v=(function(){var w,j,N;for(N=[],w=0,j=h.length;w<j;w++)l=h[w],N.push(d[l]);return N})(),s=this.font.glyf.encode(o,v,p),u=this.font.loca.encode(s.offsets,v),g={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(g["OS/2"]=this.font.os2.raw()),this.font.directory.encode(g)},e})();Kr.API.PDFObject=(function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,s,o;if(Array.isArray(r))return"["+(function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)n=r[l],u.push(t.convert(n));return u})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in s=["<<"],r)o=r[a],s.push("/"+a+" "+t.convert(o));return s.push(">>"),s.join(`
`)}return""+r},t})();const lxe=({onCreateInvoice:e,currentUser:t})=>{const{showSuccess:r,showError:n,showInfo:a}=oi(),[s,o]=V.useState([]),[l,c]=V.useState([]),[u,d]=V.useState(null),[h,m]=V.useState(!0),[p,y]=V.useState(!1),[v,g]=V.useState(!1),[b,w]=V.useState([]),[j,N]=V.useState(!1),[S,P]=V.useState(!1),[A,O]=V.useState(!1),[M,F]=V.useState(!1),[E,T]=V.useState([]),[I,z]=V.useState(null),[Q,te]=V.useState({description:"",quantity:1,rate:0}),[J,ie]=V.useState(!1),[X,Z]=V.useState(!1),[q,C]=V.useState(mi),U=V.useCallback(async()=>{m(!0);try{const je=t?.id||JSON.parse(localStorage.getItem("user_data")||"{}").id,oe=await _F(je),ue=oe?.data||oe||[];o(Array.isArray(ue)?ue:[]);try{const _e=await Gu();c(_e?.data||_e||[])}catch{c([])}}catch(je){n(je.message||"Failed to load invoices")}finally{m(!1)}},[t,n]);V.useEffect(()=>{U()},[U]),V.useEffect(()=>{const je=()=>U();return window.addEventListener("refresh-invoices",je),()=>window.removeEventListener("refresh-invoices",je)},[U]);const W=je=>l.find(oe=>oe.id===je),B=je=>{switch(je){case"Paid":return"bg-emerald-50 text-emerald-600 border-emerald-100";case"Overdue":return"bg-red-50 text-red-600 border-red-100";case"Sent":return"bg-blue-50 text-blue-600 border-blue-100";default:return"bg-slate-50 text-slate-600 border-slate-100"}},K={totalOutstanding:s.filter(je=>je.status!=="Paid").reduce((je,oe)=>je+(oe.amount||0),0),awaitingPayment:s.filter(je=>je.status!=="Paid").reduce((je,oe)=>je+(oe.amount||0),0),paidThisMonth:s.filter(je=>je.status==="Paid").reduce((je,oe)=>je+(oe.amount||0),0)},re=()=>{b.length===s.length?w([]):w(s.map(je=>je.id))},fe=async()=>{const je=[...b];if(je.length!==0){N(!0),a(`Processing payment status for ${je.length} items...`);try{await Promise.all(je.map(oe=>Fg(oe,{status:"Paid"}))),o(oe=>oe.map(ue=>je.includes(ue.id)?{...ue,status:"Paid"}:ue)),r(`Successfully marked ${je.length} invoices as paid`),w([]),U()}catch{n("Bulk update failed. Some items may not have been updated.")}finally{N(!1)}}},ce=async()=>{[...b].length!==0&&O(!0)},he=async()=>{const je=[...b];if(je.length!==0){N(!0),O(!1),a(`Executing batch deletion for ${je.length} registry entries...`);try{await Promise.all(je.map(oe=>nP(oe))),o(oe=>oe.filter(ue=>!je.includes(ue.id))),r(`Successfully removed ${je.length} invoices from registry`),w([]),U()}catch{n("Bulk deletion encountered an error. Refresh registry to verify state.")}finally{N(!1)}}};V.useEffect(()=>{if(u){const je=u.lineItems||u.items||[];T(je),F(!1),z(null),te({description:"",quantity:1,rate:0}),C(u.currency||mi),Z(!1)}},[u]);const Oe=async()=>{if(u){y(!0);try{await Fg(u.id,{items:E,lineItems:E}),o(je=>je.map(oe=>oe.id===u.id?{...oe,items:E,lineItems:E}:oe)),d({...u,items:E,lineItems:E}),F(!1),r("Service breakdown saved successfully!"),window.dispatchEvent(new Event("refresh-invoices"))}catch(je){console.error("Failed to save breakdown:",je),n(je.message||"Failed to save breakdown")}finally{y(!1)}}},ee=async()=>{if(u){y(!0);try{await Fg(u.id,{status:"Paid"}),o(je=>je.map(oe=>oe.id===u.id?{...oe,status:"Paid"}:oe)),d({...u,status:"Paid"}),r("Invoice marked as paid!"),window.dispatchEvent(new Event("refresh-invoices"))}catch(je){console.error("Failed to update invoice:",je),n(je.message||"Failed to update invoice")}finally{y(!1)}}},De=async()=>{if(u){g(!0);try{await nP(u.id),o(je=>je.filter(oe=>oe.id!==u.id)),d(null),P(!1),r("Invoice deleted successfully!"),window.dispatchEvent(new Event("refresh-invoices"))}catch(je){console.error("Failed to delete invoice:",je),n(je.message||"Failed to delete invoice")}finally{g(!1)}}};return i.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-10 relative h-full",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Billing & Invoicing"}),i.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Oversee payments and logistics milestone billing"})]}),i.jsxs("button",{onClick:e,className:"px-4 py-2 bg-indigo-600 text-white text-sm font-bold rounded-xl flex items-center gap-2 hover:bg-indigo-700 shadow-lg transition-all active:scale-95",children:[i.jsx(kn,{className:"w-4 h-4"})," Create Invoice"]})]}),i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[{label:"Total Outstanding",value:`$${K.totalOutstanding.toLocaleString()}`,icon:i.jsx(Mu,{}),color:"text-indigo-600",bg:"bg-indigo-50"},{label:"Awaiting Payment",value:`$${K.awaitingPayment.toLocaleString()}`,icon:i.jsx(zi,{}),color:"text-amber-600",bg:"bg-amber-50"},{label:"Paid This Month",value:`$${K.paidThisMonth.toLocaleString()}`,icon:i.jsx(wn,{}),color:"text-emerald-600",bg:"bg-emerald-50"}].map((je,oe)=>i.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm flex items-center gap-4",children:[i.jsx("div",{className:`w-12 h-12 rounded-2xl ${je.bg} ${je.color} flex items-center justify-center`,children:Qe.cloneElement(je.icon,{className:"w-6 h-6"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:je.label}),i.jsx("h3",{className:"text-xl font-black text-slate-900",children:je.value})]})]},oe))}),i.jsx("div",{className:"bg-white rounded-[32px] border border-slate-200 shadow-sm overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-slate-100 bg-slate-50/50",children:[i.jsx("th",{className:"px-6 py-4 w-10",children:i.jsx("input",{type:"checkbox",className:"rounded border-slate-300 text-indigo-600 focus:ring-indigo-500 w-4 h-4",checked:s.length>0&&b.length===s.length,onChange:re})}),i.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Invoice"}),i.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Client"}),i.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Amount"}),i.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Due Date"}),i.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Status"}),i.jsx("th",{className:"px-6 py-4 text-right"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-50",children:h?i.jsx("tr",{children:i.jsx("td",{colSpan:7,className:"py-10 text-center",children:i.jsx(Ot,{className:"w-6 h-6 animate-spin mx-auto text-indigo-600"})})}):s.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:7,className:"py-10 text-center text-slate-400 text-sm font-medium",children:"No records found in digital registry."})}):s.map(je=>{const oe=b.includes(je.id);return i.jsxs("tr",{onClick:()=>d(je),className:`group transition-colors cursor-pointer ${oe?"bg-indigo-50/60":"hover:bg-slate-50"}`,children:[i.jsx("td",{className:"px-6 py-4",onClick:ue=>ue.stopPropagation(),children:i.jsx("input",{type:"checkbox",className:"rounded border-slate-300 text-indigo-600 focus:ring-indigo-500 w-4 h-4",checked:oe,onChange:()=>w(ue=>oe?ue.filter(_e=>_e!==je.id):[...ue,je.id])})}),i.jsxs("td",{className:"px-6 py-4",children:[i.jsx("p",{className:"text-sm font-bold text-slate-900",children:je.number}),i.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:["REF: ",je.id.substring(0,8)]})]}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ki,{src:W(je.companyId)?.logo,fallbackText:W(je.companyId)?.name,className:"w-6 h-6",isAvatar:!1}),i.jsx("span",{className:"text-sm font-semibold text-slate-700",children:W(je.companyId)?.name||"Unknown Partner"})]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:"text-sm font-bold text-slate-900",children:Au(je.amount,je.currency)})}),i.jsx("td",{className:"px-6 py-4 text-xs font-semibold text-slate-500",children:je.dueDate}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase border ${B(je.status)}`,children:je.status})}),i.jsx("td",{className:"px-6 py-4 text-right",children:i.jsx(Ka,{className:"w-5 h-5 text-slate-300 group-hover:text-indigo-600"})})]},je.id)})})]})})}),b.length>0&&i.jsx("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-[100] animate-in slide-in-from-bottom-10 duration-300",children:i.jsxs("div",{className:"bg-slate-900 text-white rounded-3xl shadow-2xl px-8 py-4 flex items-center gap-8 border border-white/10 ring-4 ring-indigo-500/10",children:[i.jsxs("span",{className:"text-sm font-black flex items-center gap-3",children:[i.jsx("div",{className:"w-6 h-6 bg-indigo-500 rounded-full flex items-center justify-center text-[10px]",children:b.length}),"Selected"]}),i.jsx("div",{className:"h-8 w-px bg-white/10"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("button",{onClick:je=>{je.stopPropagation(),fe()},disabled:j,className:"px-5 py-2 bg-indigo-600 hover:bg-indigo-700 rounded-xl text-xs font-black uppercase tracking-widest transition-all flex items-center gap-2 disabled:opacity-50",children:[j?i.jsx(Ot,{className:"w-3.5 h-3.5 animate-spin"}):i.jsx(wn,{className:"w-3.5 h-3.5"}),"Mark Paid"]}),i.jsxs("button",{onClick:je=>{je.stopPropagation(),ce()},disabled:j,className:"px-5 py-2 bg-red-600 hover:bg-red-700 rounded-xl text-xs font-black uppercase tracking-widest transition-all flex items-center gap-2 disabled:opacity-50",children:[j?i.jsx(Ot,{className:"w-3.5 h-3.5 animate-spin"}):i.jsx(Ir,{className:"w-3.5 h-3.5"}),"Delete"]}),i.jsx("button",{onClick:()=>w([]),className:"p-2 hover:bg-white/10 rounded-xl text-slate-400 transition-colors",children:i.jsx(mr,{className:"w-5 h-5"})})]})]})}),u&&i.jsxs("div",{className:"fixed inset-0 z-[70] overflow-hidden pointer-events-none",children:[i.jsx("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm pointer-events-auto animate-in fade-in duration-300",onClick:()=>d(null)}),i.jsxs("div",{className:"absolute right-0 inset-y-0 w-full max-w-xl bg-white shadow-2xl pointer-events-auto animate-in slide-in-from-right duration-500 flex flex-col",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-emerald-100 rounded-lg flex items-center justify-center text-emerald-600",children:i.jsx(Wa,{className:"w-6 h-6"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-bold text-slate-900",children:u.number}),i.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold tracking-widest",children:"Billing Statement"})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Status"}),i.jsx("span",{className:`inline-block mt-1 px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-widest border ${B(u.status)}`,children:u.status})]}),i.jsx("button",{onClick:()=>d(null),className:"p-2 hover:bg-white rounded-full text-slate-400 shadow-sm border border-transparent hover:border-slate-200 transition-all",children:i.jsx(mr,{className:"w-5 h-5"})})]})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-8 space-y-10",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Client"}),i.jsxs("div",{className:"flex items-center gap-3 bg-slate-50 p-3 rounded-2xl border border-slate-100",children:[i.jsx(ki,{src:W(u.companyId)?.logo,fallbackText:W(u.companyId)?.name||"C",className:"w-10 h-10 border border-slate-200",isAvatar:!1}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-bold text-slate-900",children:W(u.companyId)?.name||"Unknown Company"}),i.jsx("p",{className:"text-xs text-slate-500",children:W(u.companyId)?.website||""})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsxs("div",{className:"p-6 bg-slate-50 rounded-[24px] border border-slate-100",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Amount Due"}),X?i.jsx("button",{onClick:async()=>{y(!0);try{await Fg(u.id,{currency:q}),o(je=>je.map(oe=>oe.id===u.id?{...oe,currency:q}:oe)),d({...u,currency:q}),Z(!1),r("Currency updated successfully!")}catch(je){n(je.message||"Failed to update currency")}finally{y(!1)}},disabled:p,className:"px-2 py-1 text-[9px] font-bold text-emerald-600 hover:bg-emerald-50 rounded-lg transition-all disabled:opacity-50",children:i.jsx(ro,{className:"w-3 h-3"})}):i.jsx("button",{onClick:()=>Z(!0),className:"px-2 py-1 text-[9px] font-bold text-indigo-600 hover:bg-indigo-50 rounded-lg transition-all",children:i.jsx(xl,{className:"w-3 h-3"})})]}),X?i.jsx("select",{value:q,onChange:je=>C(je.target.value),className:"w-full px-4 py-2 rounded-xl text-sm outline-none font-bold appearance-none bg-white border-2 border-indigo-200 focus:ring-4 focus:ring-indigo-100 text-indigo-600",style:{backgroundImage:`url('data:image/svg+xml;charset=utf-8,%3Csvg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20"%3E%3Cpath stroke="%234f46e5" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="m6 8 4 4 4-4"/%3E%3C/svg%3E')`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"16px"},children:Xh.map(je=>i.jsxs("option",{value:je.code,children:[je.code," (",je.symbol,")"]},je.code))}):i.jsx("h3",{className:"text-2xl font-black text-slate-900",children:Au(u.amount,u.currency)})]}),i.jsxs("div",{className:"p-6 bg-slate-50 rounded-[24px] border border-slate-100",children:[i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Due Date"}),i.jsx("h3",{className:"text-2xl font-black text-slate-900",children:u.dueDate})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Registry Narrative"}),i.jsx("p",{className:"text-sm text-slate-700 bg-slate-50 p-6 rounded-3xl border border-slate-100 leading-relaxed italic",children:u.description||"No additional strategic description provided for this statement."})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Service Breakdown"}),M?i.jsxs("button",{onClick:Oe,disabled:p,className:"px-3 py-1.5 text-xs font-bold text-emerald-600 hover:bg-emerald-50 rounded-lg transition-all flex items-center gap-1 disabled:opacity-50",children:[i.jsx(ro,{className:"w-3 h-3"})," ",p?"Saving...":"Save"]}):i.jsxs("button",{onClick:()=>F(!0),className:"px-3 py-1.5 text-xs font-bold text-indigo-600 hover:bg-indigo-50 rounded-lg transition-all flex items-center gap-1",children:[i.jsx(xl,{className:"w-3 h-3"})," Edit"]})]}),i.jsxs("div",{className:"divide-y divide-slate-100 border border-slate-100 rounded-3xl overflow-hidden bg-white shadow-sm",children:[E.map(je=>i.jsxs("div",{className:"p-5 flex justify-between items-center group",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-bold text-slate-800",children:je.description}),i.jsxs("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest mt-1",children:["Qty: ",je.quantity," @ ",ju(u.currency),je.rate.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),i.jsx("p",{className:"text-sm font-black text-slate-900",children:Au(je.amount,u.currency)})]},je.id)),E.length===0&&i.jsx("div",{className:"p-8 text-center text-slate-400 italic text-xs",children:"No granular items archived."})]})]})]}),i.jsxs("div",{className:"p-6 border-t border-slate-100 bg-slate-50/50 flex gap-3",children:[u.status!=="Paid"&&i.jsxs("button",{onClick:ee,disabled:p,className:"flex-1 py-4 bg-indigo-600 text-white text-sm font-black uppercase tracking-[0.1em] rounded-2xl hover:bg-indigo-700 transition-all shadow-xl flex items-center justify-center gap-2",children:[p?i.jsx(Ot,{className:"w-4 h-4 animate-spin"}):i.jsx(wn,{className:"w-4 h-4"})," Confirm Receipt"]}),i.jsx("button",{onClick:()=>P(!0),className:"px-6 py-4 border border-slate-200 bg-white text-red-500 hover:bg-red-50 rounded-2xl transition-all shadow-sm active:scale-95",children:i.jsx(Ir,{className:"w-5 h-5"})})]})]})]}),S&&u&&i.jsxs("div",{className:"fixed inset-0 z-[80] overflow-hidden pointer-events-none",children:[i.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm pointer-events-auto animate-in fade-in duration-300",onClick:()=>P(!1)}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4 pointer-events-none",children:i.jsxs("div",{className:"bg-white rounded-[36px] w-full max-w-md shadow-2xl pointer-events-auto animate-in zoom-in-95 duration-200 p-10",children:[i.jsx("div",{className:"w-16 h-16 bg-red-50 rounded-2xl flex items-center justify-center text-red-500 mb-6",children:i.jsx(Ir,{className:"w-8 h-8"})}),i.jsx("h3",{className:"text-2xl font-black text-slate-900 mb-2",children:"Archive Invoice?"}),i.jsx("p",{className:"text-sm text-slate-500 mb-10 leading-relaxed font-medium",children:"This will permanently remove the billing statement from the digital registry. This action is terminal."}),i.jsxs("div",{className:"flex gap-4",children:[i.jsx("button",{onClick:()=>P(!1),disabled:v,className:"flex-1 py-4 text-sm font-black text-slate-500 bg-slate-50 rounded-2xl uppercase tracking-widest disabled:opacity-50 disabled:cursor-not-allowed",children:"Abort"}),i.jsx("button",{onClick:De,disabled:v,className:"flex-1 py-4 bg-red-600 text-white text-sm font-black rounded-2xl uppercase tracking-widest shadow-lg shadow-red-100 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:v?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):"Terminal Delete"})]})]})})]}),A&&b.length>0&&i.jsxs("div",{className:"fixed inset-0 z-[80] overflow-hidden pointer-events-none",children:[i.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm pointer-events-auto animate-in fade-in duration-300",onClick:()=>O(!1)}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4 pointer-events-none",children:i.jsxs("div",{className:"bg-white rounded-[36px] w-full max-w-md shadow-2xl pointer-events-auto animate-in zoom-in-95 duration-200 p-10",children:[i.jsx("div",{className:"w-16 h-16 bg-red-50 rounded-2xl flex items-center justify-center text-red-500 mb-6",children:i.jsx(Ir,{className:"w-8 h-8"})}),i.jsxs("h3",{className:"text-2xl font-black text-slate-900 mb-2",children:["Delete ",b.length," Invoice",b.length>1?"s":"","?"]}),i.jsxs("p",{className:"text-sm text-slate-500 mb-10 leading-relaxed font-medium",children:["This will permanently remove ",b.length," invoice",b.length>1?"s":""," from the digital registry. This action is terminal and cannot be undone."]}),i.jsxs("div",{className:"flex gap-4",children:[i.jsx("button",{onClick:()=>O(!1),disabled:j,className:"flex-1 py-4 text-sm font-black text-slate-500 bg-slate-50 rounded-2xl uppercase tracking-widest disabled:opacity-50 disabled:cursor-not-allowed",children:"Abort"}),i.jsx("button",{onClick:he,disabled:j,className:"flex-1 py-4 bg-red-600 text-white text-sm font-black rounded-2xl uppercase tracking-widest shadow-lg shadow-red-100 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:j?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):`Delete ${b.length} Invoice${b.length>1?"s":""}`})]})]})})]})]})},cxe=()=>i.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Team Management"}),i.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Control workspace access and staff roles"})]}),i.jsxs("button",{className:"px-4 py-2 bg-indigo-600 text-white text-sm font-bold rounded-xl flex items-center gap-2 hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-100",children:[i.jsx(Zh,{className:"w-4 h-4"})," Invite Member"]})]}),i.jsxs("div",{className:"bg-white rounded-[32px] border border-slate-200 shadow-sm overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 bg-slate-50/50 flex justify-between items-center",children:[i.jsxs("div",{className:"relative w-64",children:[i.jsx(zu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),i.jsx("input",{type:"text",placeholder:"Find teammate...",className:"w-full pl-10 pr-4 py-2 bg-white border border-slate-200 rounded-xl text-xs outline-none focus:ring-2 focus:ring-indigo-500/20"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Active Seats: "}),i.jsx("span",{className:"text-[10px] font-black text-indigo-600 uppercase tracking-widest",children:"12 / 20"})]})]}),i.jsx("div",{className:"divide-y divide-slate-100",children:iv.map(e=>i.jsxs("div",{className:"p-6 flex items-center justify-between group hover:bg-slate-50 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-5",children:[i.jsxs("div",{className:"relative",children:[i.jsx(ki,{src:e.avatar,alt:e.name||"",fallbackText:e.name||e.email||"U",className:"w-12 h-12 border-2 border-white shadow-sm object-cover",isAvatar:!0}),e.active&&i.jsx("div",{className:"absolute -bottom-1 -right-1 w-3.5 h-3.5 bg-emerald-500 rounded-full border-2 border-white shadow-sm"})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"font-bold text-slate-900 flex items-center gap-2",children:[e.name,e.role==="Admin"&&i.jsx(L1,{className:"w-4 h-4 text-indigo-600"})]}),i.jsxs("p",{className:"text-xs text-slate-500 font-medium flex items-center gap-1.5 mt-0.5",children:[i.jsx(eo,{className:"w-3 h-3 text-slate-400"})," ",e.email]})]})]}),i.jsxs("div",{className:"flex items-center gap-12",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Permission Tier"}),i.jsx("p",{className:`text-xs font-bold mt-0.5 ${e.role==="Admin"?"text-indigo-600":"text-slate-700"}`,children:e.role})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{className:"px-4 py-2 text-xs font-bold text-slate-600 bg-white border border-slate-200 rounded-xl hover:bg-slate-50 transition-all shadow-sm",children:"Manage"}),i.jsx("button",{className:"p-2 text-slate-300 hover:text-slate-600 transition-colors",children:i.jsx(cI,{className:"w-5 h-5"})})]})]})]},e.id))})]})]}),uxe=({imageSrc:e,onCrop:t,onCancel:r,aspectRatio:n=1,circularCrop:a=!0})=>{const[s,o]=V.useState({x:0,y:0}),[l,c]=V.useState(.5),[u,d]=V.useState(!1),[h,m]=V.useState({x:0,y:0}),[p,y]=V.useState(!1),[v,g]=V.useState(!1),b=V.useRef(null),w=V.useRef(null),j=V.useRef(300),N=V.useCallback(()=>{if(!w.current||!b.current)return null;const F=w.current.getBoundingClientRect(),E=j.current,T=F.width/2,I=F.height/2,z=b.current.getBoundingClientRect(),Q=z.left-F.left,te=z.top-F.top,J=(T-E/2-Q-s.x)/l,ie=(I-E/2-te-s.y)/l,X=E/l;return{x:Math.max(0,J*(b.current.naturalWidth/b.current.width)),y:Math.max(0,ie*(b.current.naturalHeight/b.current.height)),width:Math.min(b.current.naturalWidth,X*(b.current.naturalWidth/b.current.width)),height:Math.min(b.current.naturalHeight,X*(b.current.naturalHeight/b.current.height))}},[s,l]),S=V.useCallback(async()=>{if(b.current){y(!0);try{const M=N();if(!M)throw new Error("Failed to calculate crop area");const F=b.current,E=document.createElement("canvas"),T=E.getContext("2d");if(!T)throw new Error("Failed to create canvas context");const I=Math.min(M.width,M.height);E.width=I,E.height=I,a&&(T.beginPath(),T.arc(I/2,I/2,I/2,0,2*Math.PI),T.clip()),T.drawImage(F,M.x,M.y,M.width,M.height,0,0,I,I);const z=E.toDataURL("image/jpeg",.9);t(z)}catch(M){console.error("Error cropping image:",M)}finally{y(!1)}}},[N,a,t]),P=V.useCallback(M=>{M.preventDefault(),d(!0),m({x:M.clientX-s.x,y:M.clientY-s.y})},[s]),A=V.useCallback(M=>{if(!u||!w.current||!b.current)return;const F=w.current,E=b.current,T=F.getBoundingClientRect(),I=E.getBoundingClientRect(),z=M.clientX-h.x,Q=M.clientY-h.y,te=I.width*l,J=I.height*l,ie=Math.max(0,(te-T.width)/2),X=Math.max(0,(J-T.height)/2);l<=1?o({x:z,y:Q}):o({x:Math.max(-ie,Math.min(ie,z)),y:Math.max(-X,Math.min(X,Q))})},[u,h,l]),O=V.useCallback(()=>{d(!1)},[]);return V.useEffect(()=>{if(u)return document.addEventListener("mousemove",A),document.addEventListener("mouseup",O),()=>{document.removeEventListener("mousemove",A),document.removeEventListener("mouseup",O)}},[u,A,O]),V.useEffect(()=>{if(w.current){const F=w.current.getBoundingClientRect();j.current=Math.min(F.width*.8,F.height*.8,300)}},[]),i.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/80 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl shadow-2xl overflow-hidden",children:[i.jsxs("div",{className:"p-6 border-b border-slate-200 flex items-center justify-between",children:[i.jsx("h3",{className:"font-black text-xl text-slate-900",children:"Crop Your Photo"}),i.jsx("button",{onClick:r,disabled:p,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors disabled:opacity-50",children:i.jsx(mr,{className:"w-5 h-5 text-slate-400"})})]}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{ref:w,className:"relative w-full h-[400px] bg-slate-100 rounded-xl overflow-hidden",style:{cursor:u?"grabbing":"grab"},children:[i.jsx("img",{ref:b,src:e,alt:"Crop",className:"absolute top-1/2 left-1/2 select-none",style:{transform:`translate(-50%, -50%) scale(${l}) translate(${s.x/l}px, ${s.y/l}px)`,maxWidth:"none",maxHeight:"none",userSelect:"none",pointerEvents:"none"},onLoad:()=>{if(g(!0),w.current&&b.current){const F=w.current.getBoundingClientRect();j.current=Math.min(F.width*.8,F.height*.8,300)}},draggable:!1}),i.jsxs("div",{className:"absolute inset-0 pointer-events-none",onMouseDown:P,style:{pointerEvents:p?"none":"auto",cursor:u?"grabbing":"grab"},children:[i.jsx("div",{className:`absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 border-2 border-white shadow-lg ${a?"rounded-full":"rounded-lg"}`,style:{width:`${j.current}px`,height:`${j.current}px`,aspectRatio:n.toString()}}),i.jsx("div",{className:"absolute inset-0 bg-slate-900/50",style:{clipPath:a?`circle(${j.current/2}px at 50% 50%)`:`inset(calc(50% - ${j.current/2}px))`}})]})]}),i.jsxs("div",{className:"mt-6",children:[i.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:["Zoom: ",Math.round(l*100),"%"]}),i.jsx("input",{type:"range",min:"0.3",max:"3",step:"0.05",value:l,onChange:M=>{const F=parseFloat(M.target.value);c(F),F<1&&o({x:0,y:0})},className:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer",disabled:p}),i.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mt-1",children:[i.jsx("span",{children:"30%"}),i.jsx("span",{children:"300%"})]})]})]}),i.jsxs("div",{className:"p-6 border-t border-slate-200 flex items-center justify-end gap-3",children:[i.jsx("button",{onClick:r,disabled:p,className:"px-6 py-2 border border-slate-200 text-slate-600 rounded-xl font-bold text-sm hover:bg-slate-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),i.jsx("button",{onClick:S,disabled:p||!v,className:"px-6 py-2 bg-indigo-600 text-white rounded-xl font-bold text-sm hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:p?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),"Processing..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Fu,{className:"w-4 h-4"}),"Apply Crop"]})})]})]})})},dxe=({currentUser:e,onUserUpdate:t})=>{const{showSuccess:r,showError:n}=oi(),[a,s]=V.useState("profile"),[o,l]=V.useState(bg),[c,u]=V.useState(!1),[d,h]=V.useState([]),[m,p]=V.useState(""),[y,v]=V.useState(!1),[g,b]=V.useState(!1),[w,j]=V.useState(!1),[N,S]=V.useState(null),[P,A]=V.useState(!1),[O,M]=V.useState(!1),[F,E]=V.useState([]),[T,I]=V.useState(!1),[z,Q]=V.useState(""),[te,J]=V.useState(!1),[ie,X]=V.useState(null),[Z,q]=V.useState(null),[C,U]=V.useState(null),[W,B]=V.useState({email:"",name:"",role:"User",jobTitle:"",department:"",phone:"",bio:"",timezone:Dp(),language:"English"}),[K,re]=V.useState(!1),[fe,ce]=V.useState({isOpen:!1,title:"",message:"",confirmText:"Confirm",cancelText:"Cancel",onConfirm:()=>{},type:"info"}),[he,Oe]=V.useState({name:"",email:"",avatar:"",phone:"",jobTitle:"",department:"",bio:"",timezone:Dp(),language:"English"}),[ee,De]=V.useState(!1),[je,oe]=V.useState(null),[ue,_e]=V.useState(""),[Se,Pe]=V.useState(!1),[pe,ae]=V.useState(!1),[ye,Be]=V.useState(""),$e=V.useRef(null),rt=(nt,Rt)=>{l(er=>er.map(ar=>ar.id===nt?{...ar,[Rt]:!ar[Rt]}:ar))};V.useEffect(()=>{a==="connections"&&(async()=>{const Rt=e?.id||JSON.parse(localStorage.getItem("user_data")||"{}").id;if(Rt)try{const er=await Qk(Rt);j(er.connected||!1),S(er.userEmail||null)}catch{j(!1)}})()},[a,e]);const ft=async()=>{I(!0);try{const nt=await Kc(z||void 0);E(nt.data||[])}catch{E([])}finally{I(!1)}};V.useEffect(()=>{a==="users"&&ft()},[a,z]),V.useEffect(()=>{(async()=>{if(a==="notifications")try{const Rt=e?.id||JSON.parse(localStorage.getItem("user_data")||"{}").id;if(!Rt)return;const ar=(await are(Rt)).data||[];if(ar.length>0){const $t=bg.map(Pr=>ar.find(Er=>Er.id===Pr.id)||Pr);l($t)}else l(bg)}catch(Rt){console.error("[SETTINGS] Failed to load notification preferences:",Rt),l(bg)}})()},[a,e]);const Nt=async()=>{A(!0);try{const nt=e?.id||JSON.parse(localStorage.getItem("user_data")||"{}").id,Rt=await IF(nt);Rt.authUrl&&(window.location.href=Rt.authUrl)}catch{n("Failed to connect Google Calendar"),A(!1)}},Ue=async()=>{M(!0);try{const nt=e?.id||JSON.parse(localStorage.getItem("user_data")||"{}").id;await Pre(nt),j(!1),S(null),r("Google account disconnected successfully")}catch{n("Failed to disconnect Google account")}finally{M(!1)}};V.useEffect(()=>{(async()=>{let Rt=e||JSON.parse(localStorage.getItem("user_data")||"null");if(Rt){const er=Dp();Oe({name:Rt.name||"",email:Rt.email||"",avatar:Rt.avatar||"",phone:Rt.phone||"",jobTitle:Rt.jobTitle||"",department:Rt.department||"",bio:Rt.bio||"",timezone:Rt.timezone||er,language:Rt.language||"English"}),_e(Rt.avatar||"")}})()},[e]);const dt=(nt,Rt=400,er=400,ar=.8)=>new Promise(($t,Pr)=>{if(nt.size>5242880){Pr(new Error("Image file is too large. Please use an image smaller than 5MB."));return}const Er=new FileReader;Er.onload=nn=>{const fr=new Image;fr.onload=()=>{let or=fr.width,Tr=fr.height;or>Tr?or>Rt&&(Tr=Tr*Rt/or,or=Rt):Tr>er&&(or=or*er/Tr,Tr=er);const fn=document.createElement("canvas");fn.width=or,fn.height=Tr;const sn=fn.getContext("2d");if(!sn){Pr(new Error("Failed to create canvas context"));return}sn.drawImage(fr,0,0,or,Tr);const We=fn.toDataURL("image/jpeg",ar);if(We.length>9e5)if(ar>.5){dt(nt,Rt,er,ar-.1).then($t).catch(Pr);return}else{Pr(new Error("Image is too large even after compression. Please use a smaller image."));return}$t(We)},fr.onerror=()=>Pr(new Error("Failed to load image")),fr.src=nn.target?.result},Er.onerror=()=>Pr(new Error("Failed to read file")),Er.readAsDataURL(nt)}),st=async nt=>{const Rt=nt.target.files?.[0];if(Rt){if(!Rt.type.startsWith("image/")){n("Please select a valid image file.");return}oe(null);try{const er=new FileReader;er.onload=ar=>{const $t=ar.target?.result;Be($t),ae(!0)},er.onerror=()=>{n("Failed to read image file.")},er.readAsDataURL(Rt)}catch(er){const ar=er.message||"Failed to load image. Please try a different image.";n(ar),oe(ar),$e.current&&($e.current.value="")}}},it=async nt=>{ae(!1),Pe(!0);try{const er=await(await fetch(nt)).blob(),ar=new File([er],"cropped-image.jpg",{type:"image/jpeg"}),$t=await dt(ar,400,400,.8);_e($t),Oe(Pr=>({...Pr,avatar:$t})),r('Image cropped and loaded successfully. Click "Save Changes" to update your profile.')}catch(Rt){const er=Rt.message||"Failed to process cropped image.";n(er),oe(er)}finally{Pe(!1),$e.current&&($e.current.value="")}},Re=()=>{ae(!1),Be(""),$e.current&&($e.current.value="")},vt=async()=>{if(!he.name.trim()){oe("Full name is required.");return}De(!0);try{const nt=e?.id||JSON.parse(localStorage.getItem("user_data")||"{}").id,Rt=await Vte(nt,he),er=Rt.data||Rt;localStorage.setItem("user_data",JSON.stringify(er)),t(er),r("Profile updated successfully!"),oe(null)}catch{n("Failed to update profile.")}finally{De(!1)}};return i.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-in fade-in duration-500 pb-20",children:[i.jsxs("div",{className:"flex justify-between items-end",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-left",children:"Settings"}),i.jsx("p",{className:"text-slate-500 text-sm",children:"Manage your personal account and workspace preferences"})]}),a==="profile"&&i.jsxs("button",{onClick:vt,disabled:ee,className:"px-6 py-2.5 bg-indigo-600 text-white font-bold rounded-xl flex items-center gap-2 hover:bg-indigo-700 transition-all shadow-lg active:scale-95 disabled:opacity-50",children:[ee?i.jsx(Ot,{className:"w-4 h-4 animate-spin"}):i.jsx(ro,{className:"w-4 h-4"}),"Save Changes"]})]}),i.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[i.jsx("aside",{className:"w-full lg:w-64 space-y-1",children:[{id:"profile",label:"Profile Settings",icon:i.jsx(pl,{className:"w-4 h-4"})},{id:"notifications",label:"Notifications",icon:i.jsx(D1,{className:"w-4 h-4"})},{id:"connections",label:"Connections & Sync",icon:i.jsx(c_,{className:"w-4 h-4"})},{id:"users",label:"Team Management",icon:i.jsx(dh,{className:"w-4 h-4"})}].map(nt=>i.jsxs("button",{onClick:()=>s(nt.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl font-semibold text-sm transition-all ${a===nt.id?"bg-white text-indigo-600 shadow-sm border border-slate-200":"text-slate-500 hover:text-slate-900 hover:bg-slate-100"}`,children:[nt.icon,nt.label]},nt.id))}),i.jsxs("div",{className:"flex-1 space-y-6",children:[a==="profile"&&i.jsxs("div",{className:"bg-white p-6 lg:p-8 rounded-2xl border border-slate-200 shadow-sm space-y-8 text-left",children:[je&&i.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 text-sm p-4 rounded-xl",children:je}),i.jsxs("div",{className:"flex items-center gap-6 pb-8 border-b border-slate-100",children:[i.jsxs("div",{className:"relative group",children:[i.jsx(ki,{src:ue,alt:he.name||"User",fallbackText:he.name||he.email||"U",className:"w-24 h-24 shadow-lg border-2 border-white object-cover",isAvatar:!0}),Se&&i.jsx("div",{className:"absolute inset-0 bg-black/60 rounded-3xl flex items-center justify-center z-10",children:i.jsx(Ot,{className:"w-6 h-6 text-white animate-spin"})}),i.jsx("button",{onClick:()=>$e.current?.click(),disabled:Se,className:"absolute inset-0 bg-black/40 rounded-3xl opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center text-white disabled:opacity-60 disabled:cursor-not-allowed",children:i.jsx(hc,{className:"w-6 h-6"})}),i.jsx("input",{ref:$e,type:"file",accept:"image/*",onChange:st,className:"hidden",disabled:Se})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-xl text-slate-900",children:he.name||"Set Name"}),i.jsxs("p",{className:"text-slate-500 text-sm",children:[he.jobTitle||"No Title","  ",he.department||"No Dept"]}),i.jsx("p",{className:"text-slate-400 text-xs mt-1",children:he.email})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Full Name"}),i.jsx("input",{type:"text",value:he.name,onChange:nt=>Oe({...he,name:nt.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm"})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Job Title"}),i.jsxs("div",{className:"relative",children:[i.jsx(cc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),i.jsx("input",{type:"text",value:he.jobTitle,onChange:nt=>Oe({...he,jobTitle:nt.target.value}),className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm",placeholder:"e.g. Senior Logistics Analyst"})]})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Department"}),i.jsx("input",{type:"text",value:he.department,onChange:nt=>Oe({...he,department:nt.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm",placeholder:"e.g. Operations"})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Phone Number"}),i.jsx("input",{type:"tel",value:he.phone,onChange:nt=>Oe({...he,phone:nt.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm",placeholder:"+1 555-0000"})]}),i.jsxs("div",{className:"space-y-1.5 md:col-span-2",children:[i.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Professional Bio"}),i.jsx("textarea",{value:he.bio,onChange:nt=>Oe({...he,bio:nt.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm min-h-[100px] resize-none",placeholder:"Tell the team a bit about yourself..."})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsxs("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[i.jsx(o_,{className:"w-3.5 h-3.5"})," Timezone"]}),i.jsx("select",{value:he.timezone,onChange:nt=>Oe({...he,timezone:nt.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm",children:em.map(nt=>i.jsx("option",{value:nt.value,children:nt.label},nt.value))})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2",children:"Language"}),i.jsx("select",{value:he.language,onChange:nt=>Oe({...he,language:nt.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm",children:h_.map(nt=>i.jsx("option",{value:nt.value,children:nt.label},nt.value))})]})]})]}),a==="notifications"&&i.jsxs("div",{className:"bg-white p-6 lg:p-8 rounded-2xl border border-slate-200 shadow-sm space-y-6 text-left",children:[i.jsxs("div",{className:"pb-6 border-b border-slate-100",children:[i.jsx("h3",{className:"font-bold text-xl text-slate-900 mb-2",children:"Notification Preferences"}),i.jsx("p",{className:"text-slate-500 text-sm",children:"Choose how you want to be notified about important updates and activities."})]}),i.jsx("div",{className:"space-y-4",children:o.map(nt=>i.jsx("div",{className:"p-5 bg-slate-50 rounded-xl border border-slate-200 hover:border-indigo-300 transition-all",children:i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-bold text-slate-900 text-sm mb-1",children:nt.label}),i.jsx("p",{className:"text-xs text-slate-500",children:nt.description})]}),i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xs font-semibold text-slate-600",children:"In-App"}),i.jsx("button",{onClick:()=>rt(nt.id,"inApp"),className:`relative w-11 h-6 rounded-full transition-colors ${nt.inApp?"bg-indigo-600":"bg-slate-300"}`,children:i.jsx("span",{className:`absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full transition-transform ${nt.inApp?"translate-x-5":"translate-x-0"}`})})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xs font-semibold text-slate-600",children:"Email"}),i.jsx("button",{onClick:()=>rt(nt.id,"email"),className:`relative w-11 h-6 rounded-full transition-colors ${nt.email?"bg-indigo-600":"bg-slate-300"}`,children:i.jsx("span",{className:`absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full transition-transform ${nt.email?"translate-x-5":"translate-x-0"}`})})]})]})]})},nt.id))}),i.jsx("div",{className:"pt-4 border-t border-slate-100",children:i.jsxs("button",{onClick:async()=>{try{const nt=e?.id||JSON.parse(localStorage.getItem("user_data")||"{}").id;if(!nt){n("Please log in to save preferences.");return}await ire(nt,o),r("Notification preferences saved successfully!")}catch(nt){console.error("[SETTINGS] Failed to save notification preferences:",nt),n(nt.message||"Failed to save notification preferences.")}},className:"px-6 py-2.5 bg-indigo-600 text-white font-bold rounded-xl flex items-center gap-2 hover:bg-indigo-700 transition-all shadow-lg active:scale-95",children:[i.jsx(ro,{className:"w-4 h-4"})," Save Preferences"]})})]}),a==="connections"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:[i.jsx("div",{className:"p-6 border-b border-slate-100 bg-gradient-to-r from-blue-50 to-indigo-50",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-14 h-14 rounded-2xl bg-white shadow-md flex items-center justify-center",children:i.jsxs("svg",{className:"w-8 h-8",viewBox:"0 0 48 48",children:[i.jsx("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),i.jsx("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),i.jsx("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),i.jsx("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-xl font-black text-slate-900",children:"Google Workspace"}),i.jsx("p",{className:"text-sm text-slate-500 font-medium mt-0.5",children:"Connect your Google account to sync Calendar, Drive, Docs, and Gmail"})]})]})}),i.jsx("div",{className:"p-6",children:w?i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"p-4 bg-emerald-50 border-2 border-emerald-200 rounded-xl",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(wn,{className:"w-5 h-5 text-emerald-600"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-bold text-emerald-900",children:"Connected"}),N&&i.jsx("p",{className:"text-xs text-emerald-700 mt-0.5",children:N})]})]}),i.jsx("button",{onClick:Ue,disabled:O,className:"px-4 py-2 bg-red-600 text-white text-xs font-bold uppercase tracking-widest rounded-lg hover:bg-red-700 transition-all disabled:opacity-50 flex items-center gap-2",children:O?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-3 h-3 animate-spin"}),"Disconnecting..."]}):"Disconnect"})]})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-black text-slate-900 mb-4",children:"Connected Services"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-200",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-100 flex items-center justify-center",children:i.jsx(La,{className:"w-4 h-4 text-blue-600"})}),i.jsx("span",{className:"font-bold text-slate-900",children:"Google Calendar"})]}),i.jsx("p",{className:"text-xs text-slate-600",children:"Sync events and schedules"})]}),i.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-200",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-green-100 flex items-center justify-center",children:i.jsx("svg",{className:"w-4 h-4 text-green-600",viewBox:"0 0 24 24",fill:"currentColor",children:i.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4c-1.48 0-2.85.43-4.01 1.17l1.46 1.46C10.21 6.23 11.08 6 12 6c3.04 0 5.5 2.46 5.5 5.5v.5H19c1.66 0 3 1.34 3 3 0 1.13-.64 2.11-1.56 2.62l1.45 1.45C23.16 18.16 24 16.68 24 15c0-2.64-2.05-4.78-4.65-4.96zM3 5.27l2.75 2.74C2.56 8.15 0 10.77 0 14c0 3.31 2.69 6 6 6h11.73l2 2L21 20.73 4.27 4 3 5.27zM7.73 10l8 8H6c-2.21 0-4-1.79-4-4s1.79-4 4-4h1.73z"})})}),i.jsx("span",{className:"font-bold text-slate-900",children:"Google Drive"})]}),i.jsx("p",{className:"text-xs text-slate-600",children:"Store and access documents"})]}),i.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-200",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-indigo-100 flex items-center justify-center",children:i.jsx("svg",{className:"w-4 h-4 text-indigo-600",viewBox:"0 0 24 24",fill:"currentColor",children:i.jsx("path",{d:"M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"})})}),i.jsx("span",{className:"font-bold text-slate-900",children:"Google Docs"})]}),i.jsx("p",{className:"text-xs text-slate-600",children:"Create and sign documents"})]}),i.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-200",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-red-100 flex items-center justify-center",children:i.jsx(eo,{className:"w-4 h-4 text-red-600"})}),i.jsx("span",{className:"font-bold text-slate-900",children:"Gmail"})]}),i.jsx("p",{className:"text-xs text-slate-600",children:"Access email communications"})]})]})]}),i.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-xl",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(vm,{className:"w-5 h-5 text-blue-600 shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-bold text-blue-900 mb-1",children:"Permissions Granted"}),i.jsxs("ul",{className:"text-xs text-blue-800 space-y-1",children:[i.jsx("li",{children:" View and manage calendar events"}),i.jsx("li",{children:" Create, view, and manage files in Google Drive"}),i.jsx("li",{children:" Create and edit documents in Google Docs"}),i.jsx("li",{children:" Read email messages from Gmail"})]})]})]})})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-100 flex items-center justify-center mx-auto mb-4",children:i.jsx(c_,{className:"w-8 h-8 text-slate-400"})}),i.jsx("h4",{className:"text-lg font-bold text-slate-900 mb-2",children:"Not Connected"}),i.jsx("p",{className:"text-sm text-slate-600 max-w-md mx-auto mb-6",children:"Connect your Google account to unlock powerful integrations with Calendar, Drive, Docs, and Gmail"}),i.jsx("button",{onClick:Nt,disabled:P,className:"px-6 py-3 bg-indigo-600 text-white font-bold text-sm rounded-xl hover:bg-indigo-700 transition-all shadow-lg disabled:opacity-50 inline-flex items-center gap-2",children:P?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),"Connecting..."]}):i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 48 48",children:[i.jsx("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),i.jsx("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),i.jsx("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),i.jsx("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]}),"Connect with Google"]})})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-black text-slate-900 mb-4",children:"What You'll Get"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[i.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-50 rounded-lg",children:[i.jsx(La,{className:"w-5 h-5 text-indigo-600 shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-bold text-slate-900",children:"Calendar Sync"}),i.jsx("p",{className:"text-xs text-slate-600 mt-0.5",children:"Sync events and manage schedules"})]})]}),i.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-50 rounded-lg",children:[i.jsx("svg",{className:"w-5 h-5 text-indigo-600 shrink-0 mt-0.5",viewBox:"0 0 24 24",fill:"currentColor",children:i.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4c-1.48 0-2.85.43-4.01 1.17l1.46 1.46C10.21 6.23 11.08 6 12 6c3.04 0 5.5 2.46 5.5 5.5v.5H19c1.66 0 3 1.34 3 3 0 1.13-.64 2.11-1.56 2.62l1.45 1.45C23.16 18.16 24 16.68 24 15c0-2.64-2.05-4.78-4.65-4.96zM3 5.27l2.75 2.74C2.56 8.15 0 10.77 0 14c0 3.31 2.69 6 6 6h11.73l2 2L21 20.73 4.27 4 3 5.27zM7.73 10l8 8H6c-2.21 0-4-1.79-4-4s1.79-4 4-4h1.73z"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-bold text-slate-900",children:"Drive Storage"}),i.jsx("p",{className:"text-xs text-slate-600 mt-0.5",children:"Store contracts and documents"})]})]}),i.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-50 rounded-lg",children:[i.jsx("svg",{className:"w-5 h-5 text-indigo-600 shrink-0 mt-0.5",viewBox:"0 0 24 24",fill:"currentColor",children:i.jsx("path",{d:"M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-bold text-slate-900",children:"Document Signing"}),i.jsx("p",{className:"text-xs text-slate-600 mt-0.5",children:"E-signature via Google Docs"})]})]}),i.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-50 rounded-lg",children:[i.jsx(eo,{className:"w-5 h-5 text-indigo-600 shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-bold text-slate-900",children:"Gmail Access"}),i.jsx("p",{className:"text-xs text-slate-600 mt-0.5",children:"View email communications"})]})]})]})]})]})})]}),i.jsx("div",{className:"bg-amber-50 border-2 border-amber-200 rounded-xl p-6",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx(vm,{className:"w-6 h-6 text-amber-600 shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-black text-amber-900 mb-2",children:"Security & Privacy"}),i.jsxs("ul",{className:"text-xs text-amber-800 space-y-1",children:[i.jsx("li",{children:" Your data is encrypted and securely stored"}),i.jsx("li",{children:" We only request the minimum permissions needed"}),i.jsx("li",{children:" You can disconnect at any time"}),i.jsx("li",{children:" We never share your data with third parties"})]})]})]})})]}),a==="users"&&i.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden text-left",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 bg-slate-50/50 flex justify-between items-center",children:[i.jsx("h3",{className:"font-bold text-slate-900",children:"Team Management"}),i.jsxs("button",{onClick:()=>{X(null),B({email:"",name:"",role:"User",jobTitle:"",department:"",phone:"",bio:"",timezone:Dp(),language:"English"}),J(!0)},className:"px-4 py-2 bg-indigo-600 text-white text-xs font-bold rounded-lg flex items-center gap-2 shadow-md",children:[i.jsx(Zh,{className:"w-4 h-4"})," Add User"]})]}),i.jsx("div",{className:"p-4 border-b border-slate-100",children:i.jsxs("div",{className:"relative",children:[i.jsx(zu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),i.jsx("input",{type:"text",placeholder:"Search team members...",value:z,onChange:nt=>Q(nt.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl text-sm"})]})}),i.jsx("div",{className:"divide-y divide-slate-100",children:T?i.jsx("div",{className:"p-8 text-center",children:i.jsx(Ot,{className:"w-6 h-6 animate-spin mx-auto text-indigo-600"})}):F.map(nt=>i.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ki,{src:nt.avatar,alt:nt.name||"",fallbackText:nt.name||nt.email||"U",className:"w-10 h-10 border",isAvatar:!0}),i.jsxs("div",{children:[i.jsx("p",{className:"font-bold text-slate-900 text-sm",children:nt.name}),i.jsxs("p",{className:"text-xs text-slate-500",children:[nt.email,"  ",i.jsx("span",{className:"font-bold text-indigo-600",children:nt.role})]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>{X(nt),B({email:nt.email,name:nt.name,role:nt.role||"User",jobTitle:nt.jobTitle||"",department:nt.department||"",phone:nt.phone||"",bio:nt.bio||"",timezone:nt.timezone||Dp(),language:nt.language||"English"}),J(!0)},className:"p-2 text-slate-400 hover:text-indigo-600",children:i.jsx(xl,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>U(nt),className:"p-2 text-slate-400 hover:text-red-600",children:i.jsx(Ir,{className:"w-4 h-4"})})]})]},nt.id))})]})]})]}),te&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6 space-y-4 text-left my-8",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h3",{className:"font-bold text-lg text-slate-900",children:ie?"Edit User":"Add New User"}),i.jsx("button",{onClick:()=>J(!1),className:"p-2 hover:bg-slate-100 rounded-full text-slate-400 transition-colors",children:i.jsx(mr,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto pr-2",children:[i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Full Name"}),i.jsx("input",{type:"text",value:W.name,onChange:nt=>B({...W,name:nt.target.value}),placeholder:"Full Name",className:"w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl text-sm"})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Email Address"}),i.jsx("input",{type:"email",value:W.email,onChange:nt=>B({...W,email:nt.target.value}),placeholder:"Email Address",disabled:!!ie,className:"w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl text-sm disabled:opacity-50"})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Role"}),i.jsxs("select",{value:W.role,onChange:nt=>B({...W,role:nt.target.value}),className:"w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl text-sm",children:[i.jsx("option",{value:"Admin",children:"Admin"}),i.jsx("option",{value:"User",children:"User"})]})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Job Title"}),i.jsxs("div",{className:"relative",children:[i.jsx(cc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),i.jsx("input",{type:"text",value:W.jobTitle,onChange:nt=>B({...W,jobTitle:nt.target.value}),placeholder:"e.g. Senior Logistics Analyst",className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl text-sm"})]})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Department"}),i.jsx("input",{type:"text",value:W.department,onChange:nt=>B({...W,department:nt.target.value}),placeholder:"e.g. Operations",className:"w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl text-sm"})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Phone Number"}),i.jsx("input",{type:"tel",value:W.phone,onChange:nt=>B({...W,phone:nt.target.value}),placeholder:"+1 555-0000",className:"w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl text-sm"})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Professional Bio"}),i.jsx("textarea",{value:W.bio,onChange:nt=>B({...W,bio:nt.target.value}),placeholder:"Tell the team a bit about yourself...",rows:3,className:"w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl text-sm resize-none"})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsxs("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[i.jsx(o_,{className:"w-3.5 h-3.5"})," Timezone"]}),i.jsx("select",{value:W.timezone,onChange:nt=>B({...W,timezone:nt.target.value}),className:"w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl text-sm",children:em.map(nt=>i.jsx("option",{value:nt.value,children:nt.label},nt.value))})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Language"}),i.jsx("select",{value:W.language,onChange:nt=>B({...W,language:nt.target.value}),className:"w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl text-sm",children:h_.map(nt=>i.jsx("option",{value:nt.value,children:nt.label},nt.value))})]})]}),i.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-100",children:[i.jsx("button",{onClick:()=>J(!1),className:"flex-1 py-2.5 border border-slate-200 rounded-xl font-bold text-slate-600 hover:bg-slate-50 transition-colors",children:"Cancel"}),i.jsx("button",{onClick:async()=>{re(!0);try{ie?await $te(ie.id,W):await qte(W),J(!1),ft(),r(ie?"User updated successfully!":"User created successfully!")}catch(nt){n(nt.message||"Failed to save user")}finally{re(!1)}},disabled:K||!W.name||!W.email,className:"flex-1 py-2.5 bg-indigo-600 text-white rounded-xl font-bold shadow-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-indigo-700 transition-colors flex items-center justify-center gap-2",children:K?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),ie?"Updating...":"Creating..."]}):ie?"Update":"Invite"})]})]})}),C&&i.jsx("div",{className:"fixed inset-0 z-[130] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:i.jsxs("div",{className:"bg-white rounded-[32px] w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"p-8 border-b border-slate-100",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center bg-red-50 text-red-600",children:i.jsx(Ir,{className:"w-6 h-6"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-black text-slate-900",children:"Delete User?"}),i.jsx("p",{className:"text-xs text-slate-400 font-medium mt-1",children:"This action cannot be undone. The user will be permanently removed from the system."})]})]}),i.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-200",children:[i.jsx("p",{className:"text-sm font-bold text-slate-900 mb-1",children:C.name}),i.jsx("p",{className:"text-xs text-slate-500",children:C.email}),C.role&&i.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase mt-1",children:C.role})]})]}),i.jsxs("div",{className:"p-6 flex gap-3",children:[i.jsx("button",{onClick:()=>U(null),disabled:Z===C.id,className:"flex-1 py-3 border border-slate-200 text-slate-400 font-black uppercase text-xs tracking-widest rounded-xl hover:bg-slate-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),i.jsx("button",{onClick:async()=>{q(C.id);try{await Wte(C.id),await ft(),U(null),r("User deleted successfully")}catch(nt){n(nt.message||"Failed to delete user")}finally{q(null)}},disabled:Z===C.id,className:"flex-1 py-3 bg-red-600 text-white font-black uppercase text-xs tracking-widest rounded-xl hover:bg-red-700 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:Z===C.id?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):"Delete User"})]})]})}),pe&&ye&&i.jsx(uxe,{imageSrc:ye,onCrop:it,onCancel:Re,aspectRatio:1,circularCrop:!0})]})},fxe=({currentUser:e})=>{const{showSuccess:t,showError:r}=oi(),n=e?.role==="Admin",[a,s]=V.useState("companies"),[o,l]=V.useState({companies:!1,contacts:!1,incomplete:!1,mismatches:!1}),[c,u]=V.useState({groups:[],totalDuplicates:0}),[d,h]=V.useState({groups:[],totalDuplicates:0}),[m,p]=V.useState({companies:[],contacts:[],deals:[],projects:[],invoices:[]}),[y,v]=V.useState({mismatches:[],count:0}),[g,b]=V.useState(null),[w,j]=V.useState(!1),[N,S]=V.useState({}),P=V.useCallback(async()=>{l(J=>({...J,companies:!0}));try{const J=await Are(),ie=J?.data??J;u({groups:ie.groups||[],totalDuplicates:ie.totalDuplicates??0})}catch{r("Failed to load duplicate companies"),u({groups:[],totalDuplicates:0})}finally{l(J=>({...J,companies:!1}))}},[r]),A=V.useCallback(async()=>{l(J=>({...J,contacts:!0}));try{const J=await Ere(),ie=J?.data??J;h({groups:ie.groups||[],totalDuplicates:ie.totalDuplicates??0})}catch{r("Failed to load duplicate contacts"),h({groups:[],totalDuplicates:0})}finally{l(J=>({...J,contacts:!1}))}},[r]),O=V.useCallback(async()=>{l(J=>({...J,incomplete:!0}));try{const J=await Cre(),ie=J?.data??J;p({companies:ie.companies||[],contacts:ie.contacts||[],deals:ie.deals||[],projects:ie.projects||[],invoices:ie.invoices||[]})}catch{r("Failed to load incomplete records"),p({companies:[],contacts:[],deals:[],projects:[],invoices:[]})}finally{l(J=>({...J,incomplete:!1}))}},[r]),M=V.useCallback(async()=>{l(J=>({...J,mismatches:!0}));try{const J=await Tre(),ie=J?.data??J;v({mismatches:ie.mismatches||[],count:ie.count??0})}catch{r("Failed to load domain mismatches"),v({mismatches:[],count:0})}finally{l(J=>({...J,mismatches:!1}))}},[r]);V.useEffect(()=>{n&&(a==="companies"?P():a==="contacts"?A():a==="incomplete"?O():a==="mismatches"&&M())},[n,a,P,A,O,M]);const F=()=>{a==="companies"?P():a==="contacts"?A():a==="incomplete"?O():M()},E=(J,ie,X,Z,q,C)=>{b({open:!0,type:J,primaryId:ie,secondaryId:X,primaryName:Z,secondaryName:q,groupKey:C})},T=()=>{w||b(null)},I=async()=>{if(g){j(!0);try{g.type==="company"?(await Sre(g.primaryId,g.secondaryId),t("Companies merged successfully"),P()):(await _re(g.primaryId,g.secondaryId),t("Contacts merged successfully"),A()),b(null)}catch(J){r(J?.message||"Merge failed")}finally{j(!1)}}},z=J=>{S(ie=>({...ie,[J]:!ie[J]}))};if(!n)return i.jsx("div",{className:"space-y-6 animate-in fade-in duration-500",children:i.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-2xl p-8 flex flex-col items-center justify-center text-center max-w-lg mx-auto",children:[i.jsx($R,{className:"w-12 h-12 text-amber-600 mb-4"}),i.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-2",children:"Admin Only"}),i.jsx("p",{className:"text-slate-600 text-sm",children:"Data Hygiene is available only to administrators. Contact your workspace admin if you need access."})]})});const Q=[{id:"companies",label:"Duplicate Companies",icon:i.jsx(qd,{className:"w-4 h-4"}),count:c.totalDuplicates},{id:"contacts",label:"Duplicate Contacts",icon:i.jsx(pl,{className:"w-4 h-4"}),count:d.totalDuplicates},{id:"incomplete",label:"Incomplete Records",icon:i.jsx(kR,{className:"w-4 h-4"}),count:m.companies.length+m.contacts.length+m.deals.length+m.projects.length+m.invoices.length},{id:"mismatches",label:"Domain Mismatches",icon:i.jsx(Gf,{className:"w-4 h-4"}),count:y.count}],te=o[a];return i.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Data Hygiene"}),i.jsx("p",{className:"text-slate-500 text-sm font-medium mt-0.5",children:"Find duplicates, incomplete records, and domain mismatches"})]}),i.jsxs("button",{onClick:F,disabled:te,className:"px-4 py-2 bg-white border border-slate-200 text-slate-700 text-sm font-semibold rounded-xl flex items-center gap-2 hover:bg-slate-50 transition-all shadow-sm disabled:opacity-60",children:[te?i.jsx(Ot,{className:"w-4 h-4 animate-spin"}):i.jsx(Gd,{className:"w-4 h-4"}),"Refresh"]})]}),i.jsx("div",{className:"flex flex-wrap gap-2 border-b border-slate-200 pb-4",children:Q.map(J=>i.jsxs("button",{onClick:()=>s(J.id),className:`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-medium transition-all ${a===J.id?"bg-indigo-600 text-white shadow-sm":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:[J.icon,J.label,J.count!=null&&J.count>0&&i.jsx("span",{className:`px-1.5 py-0.5 rounded-md text-xs font-bold ${a===J.id?"bg-white/20":"bg-slate-300 text-slate-700"}`,children:J.count})]},J.id))}),i.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:[te&&i.jsx("div",{className:"flex items-center justify-center py-16",children:i.jsx(Ot,{className:"w-8 h-8 text-indigo-600 animate-spin"})}),!te&&a==="companies"&&i.jsx("div",{className:"p-6",children:c.groups.length===0?i.jsx("p",{className:"text-slate-500 text-sm",children:"No duplicate companies found by domain."}):i.jsx("ul",{className:"space-y-4",children:c.groups.map(J=>{const ie=`company-${J.domain}`,X=N[ie]!==!1;return i.jsxs("li",{className:"border border-slate-200 rounded-xl overflow-hidden",children:[i.jsxs("button",{onClick:()=>z(ie),className:"w-full flex items-center justify-between p-4 bg-slate-50 hover:bg-slate-100 text-left",children:[i.jsx("span",{className:"font-semibold text-slate-900",children:J.domain}),i.jsxs("span",{className:"text-sm text-slate-500",children:[J.count," companies"]}),X?i.jsx(kh,{className:"w-5 h-5"}):i.jsx(Ka,{className:"w-5 h-5"})]}),X&&i.jsx("div",{className:"p-4 border-t border-slate-200 space-y-2",children:J.companies.map((Z,q)=>i.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-slate-100 last:border-0",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-slate-900",children:Z.name||""}),Z.industry&&i.jsxs("span",{className:"text-slate-500 text-sm ml-2",children:["(",Z.industry,")"]})]}),J.companies.length>=2&&i.jsx("div",{className:"flex gap-2",children:J.companies.filter(C=>C.id!==Z.id).map(C=>i.jsxs("button",{onClick:()=>E("company",Z.id,C.id,Z.name||Z.id,C.name||C.id,ie),className:"px-3 py-1.5 text-xs font-semibold bg-indigo-100 text-indigo-700 rounded-lg hover:bg-indigo-200 flex items-center gap-1",children:[i.jsx(nv,{className:"w-3.5 h-3.5"})," Merge into ",Z.name||"this"]},C.id))})]},Z.id))})]},ie)})})}),!te&&a==="contacts"&&i.jsx("div",{className:"p-6",children:d.groups.length===0?i.jsx("p",{className:"text-slate-500 text-sm",children:"No duplicate contacts found by email."}):i.jsx("ul",{className:"space-y-4",children:d.groups.map(J=>{const ie=`contact-${J.email}`,X=N[ie]!==!1;return i.jsxs("li",{className:"border border-slate-200 rounded-xl overflow-hidden",children:[i.jsxs("button",{onClick:()=>z(ie),className:"w-full flex items-center justify-between p-4 bg-slate-50 hover:bg-slate-100 text-left",children:[i.jsx("span",{className:"font-semibold text-slate-900",children:J.email}),i.jsxs("span",{className:"text-sm text-slate-500",children:[J.count," contacts"]}),X?i.jsx(kh,{className:"w-5 h-5"}):i.jsx(Ka,{className:"w-5 h-5"})]}),X&&i.jsx("div",{className:"p-4 border-t border-slate-200 space-y-2",children:J.contacts.map(Z=>i.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-slate-100 last:border-0",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-slate-900",children:Z.name||""}),i.jsx("span",{className:"text-slate-500 text-sm ml-2",children:Z.email})]}),J.contacts.filter(q=>q.id!==Z.id).map(q=>i.jsxs("button",{onClick:()=>E("contact",Z.id,q.id,Z.name||Z.id,q.name||q.id,ie),className:"px-3 py-1.5 text-xs font-semibold bg-indigo-100 text-indigo-700 rounded-lg hover:bg-indigo-200 flex items-center gap-1",children:[i.jsx(nv,{className:"w-3.5 h-3.5"})," Merge into ",Z.name||"this"]},q.id))]},Z.id))})]},ie)})})}),!te&&a==="incomplete"&&i.jsxs("div",{className:"p-6 space-y-6",children:[[{key:"companies",label:"Companies",items:m.companies,recordLabel:J=>J.name||J.id},{key:"contacts",label:"Contacts",items:m.contacts,recordLabel:J=>J.name||J.email||J.id},{key:"deals",label:"Deals",items:m.deals,recordLabel:J=>J.name||J.title||J.id},{key:"projects",label:"Projects",items:m.projects,recordLabel:J=>J.name||J.title||J.id},{key:"invoices",label:"Invoices",items:m.invoices,recordLabel:J=>J.id}].map(({key:J,label:ie,items:X,recordLabel:Z})=>X.length===0?null:i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-bold text-slate-700 uppercase tracking-wider mb-3",children:ie}),i.jsx("ul",{className:"space-y-2",children:X.map(q=>i.jsxs("li",{className:"flex items-start gap-3 p-3 bg-amber-50 border border-amber-200 rounded-xl",children:[i.jsx(Yn,{className:"w-5 h-5 text-amber-600 shrink-0 mt-0.5"}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"font-medium text-slate-900",children:Z(q.record)}),i.jsx("ul",{className:"text-sm text-amber-800 mt-1 list-disc list-inside",children:q.errors.map((C,U)=>i.jsx("li",{children:C},U))})]})]},q.record.id))})]},J)),m.companies.length+m.contacts.length+m.deals.length+m.projects.length+m.invoices.length===0&&i.jsx("p",{className:"text-slate-500 text-sm",children:"No incomplete records found."})]}),!te&&a==="mismatches"&&i.jsx("div",{className:"p-6",children:y.mismatches.length===0?i.jsx("p",{className:"text-slate-500 text-sm",children:"No domain mismatches (contact email domain matches company domain)."}):i.jsx("ul",{className:"space-y-3",children:y.mismatches.map((J,ie)=>i.jsxs("li",{className:"flex items-center gap-4 p-4 bg-amber-50 border border-amber-200 rounded-xl",children:[i.jsx(Yn,{className:"w-5 h-5 text-amber-600 shrink-0"}),i.jsxs("div",{className:"min-w-0",children:[i.jsxs("p",{className:"font-medium text-slate-900",children:[J.contact?.name," (",J.contact?.email,")"]}),i.jsxs("p",{className:"text-sm text-slate-600",children:["Contact domain: ",i.jsx("strong",{children:J.contactDomain}),"  Company domain: ",i.jsx("strong",{children:J.companyDomain})," (",J.company?.name,")"]})]})]},ie))})})]}),g&&i.jsxs("div",{className:"fixed inset-0 z-[90] overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm",onClick:T}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[i.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Confirm merge"}),i.jsx("button",{onClick:T,className:"p-2 hover:bg-slate-100 rounded-full text-slate-400",disabled:w,children:i.jsx(mr,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("p",{className:"text-sm text-slate-600",children:["Merge ",i.jsx("strong",{children:g.secondaryName})," into ",i.jsx("strong",{children:g.primaryName}),"? Related records will point to the primary. The secondary will be removed."]}),i.jsxs("div",{className:"flex gap-3 pt-2",children:[i.jsx("button",{type:"button",onClick:T,className:"flex-1 py-3 text-sm font-bold text-slate-500 hover:bg-slate-50 rounded-xl border border-slate-200",disabled:w,children:"Cancel"}),i.jsxs("button",{onClick:I,disabled:w,className:"flex-[2] py-3 bg-indigo-600 text-white text-sm font-bold rounded-xl hover:bg-indigo-700 flex items-center justify-center gap-2 disabled:opacity-60",children:[w?i.jsx(Ot,{className:"w-5 h-5 animate-spin"}):i.jsx(nv,{className:"w-5 h-5"}),"Merge"]})]})]})]})})]})]})},hxe=({currentUser:e,onNavigate:t,onNewEvent:r})=>{const{showError:n,showSuccess:a}=oi(),[s,o]=V.useState(new Date),[l,c]=V.useState("daily"),[u,d]=V.useState([]),[h,m]=V.useState([]),[p,y]=V.useState([]),[v,g]=V.useState([]),[b,w]=V.useState([]),[j,N]=V.useState(!1),[S,P]=V.useState(!1),[A,O]=V.useState(null),[M,F]=V.useState(!1),[E,T]=V.useState(!1),[I,z]=V.useState({title:"",category:"",description:"",dueDate:"",priority:"Medium",status:"Todo",assigneeId:"",projectId:""}),[Q,te]=V.useState([]),[J,ie]=V.useState(!1),[X,Z]=V.useState(""),[q,C]=V.useState(""),[U,W]=V.useState(null),[B,K]=V.useState(!1),[re,fe]=V.useState(null),[ce,he]=V.useState(null),[Oe,ee]=V.useState(!1),[De,je]=V.useState(""),[oe,ue]=V.useState(0),[_e,Se]=V.useState([]),[Pe,pe]=V.useState(!1),[ae,ye]=V.useState(null),[Be,$e]=V.useState(!0),[rt,ft]=V.useState(!0),Nt=V.useRef(null),Ue=V.useRef(null),dt=Array.from({length:24},(ne,ge)=>ge),st=V.useMemo(()=>Intl.DateTimeFormat().resolvedOptions().timeZone,[]),it=V.useMemo(()=>{const ne=s.getFullYear(),ge=String(s.getMonth()+1).padStart(2,"0"),ve=String(s.getDate()).padStart(2,"0");return`${ne}-${ge}-${ve}`},[s]);V.useEffect(()=>{(async()=>{if(e?.id)try{const ge=await Qk(e.id);N(ge.connected||!1)}catch{N(!1)}})()},[e]);const Re=ne=>ne.filter(ge=>{if(ge.recurringEventId){const ve=(ge.title||"").toLowerCase().trim();if(["office","working hours","work hours","availability","busy","out of office","lunch","break"].some(Te=>ve.includes(Te)))return!1}return!0});V.useEffect(()=>{(async()=>{P(!0);const ge=new Date(s),ve=new Date(s);if(l==="monthly")ge.setDate(1),ge.setHours(0,0,0,0),ve.setMonth(ve.getMonth()+1),ve.setDate(0),ve.setHours(23,59,59,999);else if(l==="weekly"){const ze=new Date(s),et=ze.getDay(),Ge=ze.getDate()-et+(et===0?-6:1),Je=new Date(ze.setDate(Ge));ge.setTime(Je.getTime()),ge.setHours(0,0,0,0);const at=new Date(Je);at.setDate(Je.getDate()+6),ve.setTime(at.getTime()),ve.setHours(23,59,59,999)}else ge.setHours(0,0,0,0),ve.setHours(23,59,59,999);const ke=ze=>{const et=ze.getFullYear(),Ge=String(ze.getMonth()+1).padStart(2,"0"),Je=String(ze.getDate()).padStart(2,"0");return`${et}-${Ge}-${Je}`},Ie=ke(ge),Te=ke(ve);if(j&&e?.id)try{const et=(await Ore(Ie,Te,e.id)).data||[],Ge=Re(et);d(Ge)}catch{d([])}else d([]);try{const ze=e?.id||JSON.parse(localStorage.getItem("user_data")||"{}").id;if(!ze){y([]),m([]);return}const et=await Gh(ze),Je=(Array.isArray(et?.data||et)?et?.data||et:[]).filter(wt=>{const Pt=wt.dueDate&&wt.dueDate!==null&&wt.dueDate!==void 0&&String(wt.dueDate).trim()!==""&&String(wt.dueDate).trim().toLowerCase()!=="ongoing";return!wt.archived&&Pt});y(Je);const at=Je.filter(wt=>wt.dueDate===it);m(at)}catch{y([]),m([])}try{const[ze,et,Ge]=await Promise.all([Ax(e?.id),Kc(),p1()]);g(Array.isArray(ze?.data||ze)?ze?.data||ze:[]),w(Array.isArray(et?.data||et)?et?.data||et:[]),te(Array.isArray(Ge?.data)?Ge.data:[])}catch{g([]),w([]),te([])}P(!1)})()},[it,j,e,l,s]);const vt=()=>{const ne=new Date(s);l==="daily"?ne.setDate(ne.getDate()-1):l==="weekly"?ne.setDate(ne.getDate()-7):ne.setMonth(ne.getMonth()-1),o(ne)},nt=()=>{const ne=new Date(s);l==="daily"?ne.setDate(ne.getDate()+1):l==="weekly"?ne.setDate(ne.getDate()+7):ne.setMonth(ne.getMonth()+1),o(ne)},Rt=()=>{const ne=new Date;return s.toDateString()===ne.toDateString()},er=ne=>{let ge=new Date(ne.start),ve=new Date(ne.end);const ke=new Date(s);ke.setHours(0,0,0,0);const Ie=(ge.getTime()-ke.getTime())/(1e3*60),Te=(ve.getTime()-ge.getTime())/(1e3*60),ze=Ie*(80/60)+20,et=Te*(80/60);return{top:ze,height:Math.max(et,50)}},ar=ne=>{try{return new Date(ne).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}catch{return ne}},$t=ne=>{switch(ne){case"High":return"text-red-500 bg-red-50 border-red-100";case"Medium":return"text-amber-500 bg-amber-50 border-amber-100";default:return"text-blue-500 bg-blue-50 border-blue-100"}},Pr=ne=>{const ge=new Date(ne),ve=ge.getDay(),ke=ge.getDate()-ve+(ve===0?-6:1);return new Date(ge.setDate(ke))},Kt=ne=>{const ge=Pr(ne);return Array.from({length:7},(ve,ke)=>{const Ie=new Date(ge);return Ie.setDate(ge.getDate()+ke),Ie})},Er=ne=>{const ge=ne.getFullYear(),ve=ne.getMonth(),ke=new Date(ge,ve,1),Ie=new Date(ge,ve+1,0),Te=new Date(ke);Te.setDate(Te.getDate()-Te.getDay());const ze=[],et=new Date(Te);for(;(et<=Ie||ze.length<42)&&(ze.push(new Date(et)),et.setDate(et.getDate()+1),!(ze.length>=42)););return ze},nn=ne=>{const ge=ne.getFullYear(),ve=String(ne.getMonth()+1).padStart(2,"0"),ke=String(ne.getDate()).padStart(2,"0");return`${ge}-${ve}-${ke}`},fr=ne=>p.filter(ge=>ge.dueDate===ne),or=ne=>{nn(ne);const ge=new Date(ne);ge.setHours(0,0,0,0);const ve=new Date(ne);return ve.setHours(23,59,59,999),u.filter(ke=>{const Ie=new Date(ke.start),Te=ke.end?new Date(ke.end):Ie;return Ie<=ve&&Te>=ge})},Tr=ne=>{if(!ne||!/^\d{4}-\d{2}-\d{2}$/.test(ne))return ne;const[ge,ve,ke]=ne.split("-").map(Number);return new Date(ge,ve-1,ke).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})};V.useEffect(()=>{A&&!M&&z({title:A.title,category:A.category||"",description:A.description||"",dueDate:A.dueDate||"",priority:A.priority||"Medium",status:A.status||"Todo",assigneeId:A.assigneeId,projectId:A.projectId||""})},[A,M]),V.useEffect(()=>{if(!M){ie(!1);return}A?.category&&!Q.includes(A.category)?ie(!0):I.category&&Q.includes(I.category)?ie(!1):I.category&&!Q.includes(I.category)&&ie(!0)},[M,I.category,Q]),V.useEffect(()=>{if(!A)return;let ne=!1;return(async()=>{try{const ge=await p1(),ve=Array.isArray(ge?.data)?ge.data:[];ne||te(ve)}catch{ne||te([])}})(),()=>{ne=!0}},[A?.id]);const fn=()=>{O(null),F(!1),Z(""),C(""),W(null),ee(!1),pe(!1),Ue.current&&(Ue.current.value="")},sn=async()=>{if(A){if(!I.title.trim()){n("Task title is required");return}if(!I.assigneeId){n("Assignee is required");return}T(!0);try{await Nu(A.id,{title:I.title.trim(),category:I.category.trim()||void 0,description:I.description.trim()||"",dueDate:I.dueDate||null,priority:I.priority,status:I.status,assigneeId:I.assigneeId,projectId:I.projectId||null}),y(ne=>ne.map(ge=>ge.id===A.id?{...ge,title:I.title.trim(),category:I.category.trim()||void 0,description:I.description.trim()||"",dueDate:I.dueDate||"",priority:I.priority,status:I.status,assigneeId:I.assigneeId,projectId:I.projectId||void 0}:ge)),O({...A,title:I.title.trim(),category:I.category.trim()||void 0,description:I.description.trim()||"",dueDate:I.dueDate||"",priority:I.priority,status:I.status,assigneeId:I.assigneeId,projectId:I.projectId||void 0,updatedAt:new Date().toISOString()}),F(!1),a("Task updated successfully")}catch(ne){n(ne.message||"Failed to update task")}finally{T(!1)}}},We=(ne,ge=1200,ve=1200,ke=.8)=>new Promise((Ie,Te)=>{const ze=new FileReader;ze.onload=et=>{const Ge=new Image;Ge.onload=()=>{let Je=Ge.width,at=Ge.height;Je>at?Je>ge&&(at=at*ge/Je,Je=ge):at>ve&&(Je=Je*ve/at,at=ve);const wt=document.createElement("canvas");wt.width=Je,wt.height=at;const Pt=wt.getContext("2d");Pt?(Pt.drawImage(Ge,0,0,Je,at),Ie(wt.toDataURL("image/jpeg",ke))):Te(new Error("Canvas context not available"))},Ge.onerror=()=>Te(new Error("Failed to load image")),Ge.src=et.target?.result},ze.onerror=()=>Te(new Error("Failed to read file")),ze.readAsDataURL(ne)}),Ct=async ne=>{const ge=ne.target.files?.[0];if(ge){if(!ge.type.startsWith("image/")){n("Please select an image file");return}if(ge.size>10*1024*1024){n("Image size must be less than 10MB");return}try{const ve=await We(ge,1200,1200,.8);C(ve),W(ge)}catch(ve){n(ve.message||"Failed to process image")}}},At=ne=>{const ge=ne.target.value,ve=ne.target.selectionStart;Z(ge),ue(ve);const ke=ge.substring(0,ve),Ie=ke.lastIndexOf("@");if(Ie!==-1){const Te=ke.substring(Ie+1),ze=Ie>0?ke[Ie-1]:" ";if((ze===" "||ze===`
`||Ie===0)&&!Te.includes(" ")&&!Te.includes(`
`)){je(Te);const et=b.filter(Ge=>Ge.name.toLowerCase().includes(Te.toLowerCase())||Ge.email.toLowerCase().includes(Te.toLowerCase()));Se(et.slice(0,5)),ee(!0);return}}ee(!1)},ir=ne=>{const ve=X.substring(0,oe).lastIndexOf("@"),ke=X.substring(oe),Te=`${X.substring(0,ve)}@${ne.name} ${ke}`;if(Z(Te),ee(!1),Nt.current){Nt.current.focus();const ze=ve+ne.name.length+2;Nt.current.setSelectionRange(ze,ze)}},vr=ne=>{const ge=/@([A-Za-z0-9\s]+?)(?=\s|$|[.,!?])/g,ve=[];let ke;for(;(ke=ge.exec(ne))!==null;){const Ie=ke[1].trim(),Te=b.find(ze=>ze.name.toLowerCase()===Ie.toLowerCase());Te&&Te.id!==(e?.id||JSON.parse(localStorage.getItem("user_data")||"{}").id)&&ve.push(Te.id)}return[...new Set(ve)]},Wr=ne=>{const ge=[],ve=/@([A-Za-z0-9\s]+?)(?=\s|$|[.,!?])/g;let ke=0,Ie,Te=0;for(;(Ie=ve.exec(ne))!==null;){Ie.index>ke&&ge.push(ne.substring(ke,Ie.index));const ze=Ie[1].trim();b.find(Ge=>Ge.name.toLowerCase()===ze.toLowerCase())?ge.push(i.jsxs("span",{className:"font-bold text-indigo-600",children:["@",ze]},Te++)):ge.push(`@${ze}`),ke=ve.lastIndex}return ke<ne.length&&ge.push(ne.substring(ke)),ge.length>0?ge:ne},Br=async()=>{if(A){if(!X.trim()&&!U){n("Please add a note or attach an image");return}K(!0);try{const ne=JSON.parse(localStorage.getItem("user_data")||"{}"),ge={id:`note_${Date.now()}`,userId:ne.id,userName:ne.name||"Unknown User",text:X.trim(),createdAt:new Date().toISOString()};q&&U&&(ge.imageUrl=q,ge.imageName=U.name,ge.imageMimeType=U.type);const ve=[...A.notes||[],ge];await Nu(A.id,{notes:ve});const ke=vr(X);if(ke.length>0)for(const Ie of ke)try{await Kh({userId:Ie,notificationType:"task-mention",title:"You were mentioned in a task",message:`${ne.name||"Someone"} mentioned you in task: "${A.title}"`,link:`/?tab=tasks&task=${A.id}`})}catch(Te){console.error("Failed to send mention notification:",Te)}O({...A,notes:ve}),y(Ie=>Ie.map(Te=>Te.id===A.id?{...Te,notes:ve}:Te)),Z(""),C(""),W(null),Ue.current&&(Ue.current.value=""),a("Note added successfully")}catch(ne){n(ne.message||"Failed to add note")}finally{K(!1)}}},Hr=()=>{if(l==="daily")return i.jsxs("div",{className:"p-8 pt-12 pb-12 relative min-h-[2000px] bg-white",children:[dt.map(ne=>{const ge=ne*80+20;return i.jsxs("div",{className:"absolute left-0 right-0 group",style:{top:`${ge}px`},children:[i.jsx("span",{className:"absolute left-4 top-0 -translate-y-1/2 text-[10px] font-black text-slate-300 w-16 text-right pr-6 uppercase tracking-widest",children:ne===0?"12 AM":ne===12?"12 PM":ne>12?`${ne-12} PM`:`${ne} AM`}),i.jsx("div",{className:"absolute left-24 top-0 -translate-x-1/2 w-1.5 h-1.5 rounded-full bg-slate-100 group-hover:bg-indigo-200 transition-colors"}),i.jsx("div",{className:"absolute left-24 top-0 right-8 h-px bg-slate-50"})]},ne)}),Be&&u.map(ne=>{const ge=er(ne);return i.jsxs("div",{className:"absolute left-28 right-8 p-4 rounded-3xl border shadow-sm transition-all hover:scale-[1.01] hover:shadow-xl group overflow-hidden bg-indigo-50 border-indigo-100",style:{top:`${ge.top}px`,height:`${ge.height}px`},children:[i.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-indigo-500/20 group-hover:w-2 transition-all"}),i.jsxs("div",{className:"flex justify-between items-start gap-4",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"font-black text-sm truncate text-indigo-900",children:ne.title}),i.jsx("div",{className:"flex flex-wrap items-center gap-4 mt-2",children:i.jsxs("span",{className:"flex items-center gap-1.5 text-[9px] font-black text-slate-400 uppercase tracking-widest",children:[i.jsx(zi,{className:"w-3 h-3 text-indigo-400"})," ",ar(ne.start)," - ",ar(ne.end)]})})]}),ne.htmlLink&&i.jsx("a",{href:ne.htmlLink,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-white rounded-xl border border-slate-100 shadow-sm text-slate-400 hover:text-indigo-600 transition-all active:scale-95",children:i.jsx(ic,{className:"w-3.5 h-3.5"})})]})]},ne.id)}),!S&&(Be&&u.length===0||!Be&&(!rt||h.length===0))&&i.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center opacity-40",children:[i.jsx(La,{className:"w-16 h-16 text-slate-200 mb-4"}),i.jsx("p",{className:"text-slate-400 font-black uppercase text-[10px] tracking-[0.2em]",children:"No schedule entries for this day"})]})]});if(l==="weekly"){const ne=Kt(s),ge=new Date;return ge.setHours(0,0,0,0),i.jsxs("div",{className:"p-6 bg-white",children:[i.jsx("div",{className:"grid grid-cols-7 gap-2 mb-4",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map((ve,ke)=>i.jsx("div",{className:"text-center py-2",children:i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:ve})},ve))}),i.jsx("div",{className:"grid grid-cols-7 gap-2",children:ne.map((ve,ke)=>{const Ie=nn(ve),Te=rt?fr(Ie):[],ze=Be?or(ve):[];let et=[],Ge=[];rt&&Be?Te.length>0&&ze.length>0?(et=Te.slice(0,1),Ge=ze.slice(0,1)):Te.length>0?et=Te.slice(0,2):ze.length>0&&(Ge=ze.slice(0,2)):rt?et=Te.slice(0,2):Be&&(Ge=ze.slice(0,2));const Je=[...Te,...ze],at=ve.toDateString()===ge.toDateString(),wt=ve.getMonth()===s.getMonth();return i.jsxs("div",{onClick:()=>{o(new Date(ve)),c("daily")},className:`min-h-[120px] p-2 rounded-xl border-2 transition-all cursor-pointer ${at?"bg-indigo-50 border-indigo-300":wt?"bg-white border-slate-100 hover:border-slate-200":"bg-slate-50 border-slate-50"}`,children:[i.jsx("div",{className:`text-xs font-black mb-2 ${at?"text-indigo-600":wt?"text-slate-900":"text-slate-400"}`,children:ve.getDate()}),i.jsxs("div",{className:"space-y-1 max-h-[80px] overflow-y-auto",children:[rt&&et.map(Pt=>i.jsx("div",{onClick:It=>{It.stopPropagation(),O(Pt)},className:`p-1.5 rounded-lg text-[9px] font-bold cursor-pointer hover:opacity-80 transition-all truncate ${Pt.priority==="High"?"bg-red-100 text-red-700":Pt.priority==="Medium"?"bg-amber-100 text-amber-700":"bg-blue-100 text-blue-700"}`,title:Pt.title,children:Pt.title},Pt.id)),Be&&Ge.map(Pt=>i.jsx("div",{onClick:It=>{It.stopPropagation(),Pt.htmlLink&&window.open(Pt.htmlLink,"_blank")},className:"p-1.5 rounded-lg text-[9px] font-bold cursor-pointer hover:opacity-80 transition-all truncate bg-indigo-100 text-indigo-700",title:Pt.title,children:Pt.title},Pt.id)),et.length+Ge.length<Je.length&&i.jsxs("div",{className:"text-[9px] text-slate-400 font-bold px-1.5",children:["+",Je.length-(et.length+Ge.length)," more"]})]})]},ke)})})]})}if(l==="monthly"){const ne=Er(s),ge=new Date;ge.setHours(0,0,0,0);const ve=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return i.jsxs("div",{className:"p-6 bg-white",children:[i.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:ve.map(ke=>i.jsx("div",{className:"text-center py-2",children:i.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:ke})},ke))}),i.jsx("div",{className:"grid grid-cols-7 gap-1",children:ne.map((ke,Ie)=>{const Te=nn(ke),ze=rt?fr(Te):[],et=Be?or(ke):[];let Ge=[],Je=[];rt&&Be?ze.length>0&&et.length>0?(Ge=ze.slice(0,1),Je=et.slice(0,1)):ze.length>0?Ge=ze.slice(0,1):et.length>0&&(Je=et.slice(0,1)):rt?Ge=ze.slice(0,1):Be&&(Je=et.slice(0,1));const at=[...ze,...et],wt=ke.toDateString()===ge.toDateString(),Pt=ke.getMonth()===s.getMonth();return i.jsxs("div",{onClick:()=>{o(new Date(ke)),c("daily")},className:`min-h-[100px] p-1.5 rounded-lg border transition-all cursor-pointer ${wt?"bg-indigo-50 border-indigo-300":Pt?"bg-white border-slate-100 hover:border-slate-200":"bg-slate-50 border-slate-50"}`,children:[i.jsx("div",{className:`text-[10px] font-black mb-1 ${wt?"text-indigo-600":Pt?"text-slate-900":"text-slate-400"}`,children:ke.getDate()}),i.jsxs("div",{className:"space-y-0.5 max-h-[70px] overflow-y-auto",children:[rt&&Ge.map(It=>i.jsx("div",{onClick:Lt=>{Lt.stopPropagation(),O(It)},className:`p-1 rounded text-[8px] font-bold cursor-pointer hover:opacity-80 transition-all truncate ${It.priority==="High"?"bg-red-100 text-red-700":It.priority==="Medium"?"bg-amber-100 text-amber-700":"bg-blue-100 text-blue-700"}`,title:It.title,children:It.title},It.id)),Be&&Je.map(It=>i.jsx("div",{onClick:Lt=>{Lt.stopPropagation(),It.htmlLink&&window.open(It.htmlLink,"_blank")},className:"p-1 rounded text-[8px] font-bold cursor-pointer hover:opacity-80 transition-all truncate bg-indigo-100 text-indigo-700",title:It.title,children:It.title},It.id)),Ge.length+Je.length<at.length&&i.jsxs("div",{className:"text-[8px] text-slate-400 font-bold px-1",children:["+",at.length-(Ge.length+Je.length)]})]})]},Ie)})})]})}};return i.jsxs("div",{className:"h-full flex flex-col gap-6 animate-in fade-in slide-in-from-bottom-4 duration-500 pb-10",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Schedule"}),i.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[l==="monthly"?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>{const ne=new Date(s);ne.setMonth(ne.getMonth()-1),o(ne)},className:"p-1.5 hover:bg-slate-100 rounded-lg text-slate-400 hover:text-slate-600 transition-colors",title:"Previous month",children:i.jsx(VN,{className:"w-4 h-4"})}),i.jsx("p",{className:"text-slate-500 text-sm font-medium min-w-[140px] text-center",children:s.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),i.jsx("button",{onClick:()=>{const ne=new Date(s);ne.setMonth(ne.getMonth()+1),o(ne)},className:"p-1.5 hover:bg-slate-100 rounded-lg text-slate-400 hover:text-slate-600 transition-colors",title:"Next month",children:i.jsx(Ka,{className:"w-4 h-4"})})]}):l==="weekly"?i.jsx("p",{className:"text-slate-500 text-sm font-medium",children:(()=>{const ne=Kt(s),ge=ne[0],ve=ne[6];return`${ge.toLocaleDateString("en-US",{month:"short",day:"numeric"})} - ${ve.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`})()}):i.jsx("p",{className:"text-slate-500 text-sm font-medium",children:s.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})}),i.jsx("span",{className:"text-slate-300",children:""}),i.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 bg-indigo-50 border border-indigo-100 rounded-lg",children:[i.jsx(zi,{className:"w-3 h-3 text-indigo-600"}),i.jsx("span",{className:"text-[10px] font-bold text-indigo-600 tracking-wide",children:st})]})]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-3 bg-white px-3 py-2 rounded-xl border border-slate-200 shadow-sm",children:[i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"checkbox",checked:Be,onChange:ne=>$e(ne.target.checked),className:"sr-only"}),i.jsx("div",{className:`w-5 h-5 rounded border-2 transition-all flex items-center justify-center ${Be?"bg-indigo-600 border-indigo-600":"bg-white border-slate-300 group-hover:border-indigo-400"}`,children:Be&&i.jsx(Fu,{className:"w-3 h-3 text-white"})})]}),i.jsx("span",{className:"text-[10px] font-bold text-slate-700 uppercase tracking-wider",children:"Events"})]}),i.jsx("div",{className:"w-px h-4 bg-slate-200"}),i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"checkbox",checked:rt,onChange:ne=>ft(ne.target.checked),className:"sr-only"}),i.jsx("div",{className:`w-5 h-5 rounded border-2 transition-all flex items-center justify-center ${rt?"bg-indigo-600 border-indigo-600":"bg-white border-slate-300 group-hover:border-indigo-400"}`,children:rt&&i.jsx(Fu,{className:"w-3 h-3 text-white"})})]}),i.jsx("span",{className:"text-[10px] font-bold text-slate-700 uppercase tracking-wider",children:"Tasks"})]})]}),i.jsx("div",{className:"flex bg-white p-1 rounded-xl border border-slate-200 shadow-sm",children:["daily","weekly","monthly"].map(ne=>i.jsx("button",{onClick:()=>c(ne),className:`px-4 py-1.5 text-[10px] font-black uppercase tracking-widest rounded-lg transition-all ${l===ne?"bg-indigo-600 text-white shadow-md":"text-slate-400 hover:text-slate-600"}`,children:ne},ne))}),i.jsxs("div",{className:"flex items-center gap-2 bg-white p-1 rounded-2xl border border-slate-200 shadow-sm",children:[i.jsx("button",{onClick:vt,className:"p-2 hover:bg-slate-50 rounded-xl text-slate-400 hover:text-slate-600 transition-colors",children:i.jsx(VN,{className:"w-5 h-5"})}),i.jsx("button",{onClick:()=>o(new Date),className:`px-4 py-1.5 font-bold text-[10px] uppercase tracking-widest rounded-xl transition-all ${Rt()?"bg-indigo-50 text-indigo-700":"text-slate-500 hover:text-slate-700 hover:bg-slate-50"}`,children:"Today"}),i.jsx("button",{onClick:nt,className:"p-2 hover:bg-slate-50 rounded-xl text-slate-400 hover:text-slate-600 transition-colors",children:i.jsx(Ka,{className:"w-5 h-5"})})]}),i.jsxs("button",{onClick:r,className:"px-5 py-2.5 bg-indigo-600 text-white rounded-xl text-sm font-black shadow-lg shadow-indigo-100 hover:bg-indigo-700 transition-all flex items-center gap-2",children:[i.jsx(kn,{className:"w-4 h-4"}),"New Entry"]})]})]}),i.jsxs("div",{className:"flex-1 grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-2 bg-white rounded-[32px] border border-slate-200 shadow-sm overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 bg-slate-50/50 flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Schedule"}),i.jsx("span",{className:"text-slate-300",children:""}),i.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 bg-slate-100 rounded-lg",children:[i.jsx(zi,{className:"w-3 h-3 text-slate-500"}),i.jsx("span",{className:"text-[9px] font-bold text-slate-500 tracking-wide",children:st})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[S&&i.jsx(Ot,{className:"w-3 h-3 animate-spin text-indigo-600"}),i.jsx("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-wider ${j?"bg-emerald-50 text-emerald-600 border border-emerald-100":"bg-slate-100 text-slate-400"}`,children:j?"Google Workspace Connected":"Google Disconnected"})]})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto relative bg-white",children:[l==="daily"&&rt&&h.length>0&&i.jsxs("div",{className:"px-6 py-6 bg-slate-50/50 border-b border-slate-100 space-y-3",children:[i.jsxs("h4",{className:"text-[10px] font-black text-indigo-400 uppercase tracking-widest flex items-center gap-2",children:[i.jsx(wn,{className:"w-3 h-3"})," Today's Deliverables"]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:h.map(ne=>i.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-slate-200 shadow-sm group hover:border-indigo-200 transition-all flex items-start gap-3",children:[i.jsx("div",{className:"mt-1",children:ne.status==="Done"?i.jsx(wn,{className:"w-4 h-4 text-emerald-500"}):i.jsx($c,{className:"w-4 h-4 text-slate-300 group-hover:text-indigo-400"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:`text-xs font-bold truncate ${ne.status==="Done"?"line-through text-slate-400":"text-slate-900"}`,children:ne.title}),i.jsx("div",{className:"flex items-center gap-2 mt-1",children:i.jsx("span",{className:`text-[8px] font-black px-1.5 py-0.5 rounded border uppercase ${$t(ne.priority)}`,children:ne.priority})})]})]},ne.id))})]}),Hr()]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-slate-900 rounded-[32px] p-8 text-white shadow-2xl relative overflow-hidden group",children:[i.jsxs("div",{className:"relative z-10",children:[i.jsx(Ts,{className:"w-8 h-8 text-indigo-400 mb-6"}),i.jsx("h3",{className:"text-2xl font-black mb-2 leading-tight",children:"Unified Workspace"}),i.jsx("p",{className:"text-slate-400 text-sm leading-relaxed mb-8 opacity-80",children:"Synchronize your calendar, billing, and accounting software in one central hub."}),i.jsx("button",{onClick:()=>t("integrations"),className:"w-full py-4 bg-indigo-600 text-white font-black uppercase text-xs tracking-widest rounded-2xl hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-900 flex items-center justify-center gap-3",children:"Go to Integrations"})]}),i.jsx("div",{className:"absolute -right-8 -bottom-8 w-48 h-48 bg-indigo-500/10 rounded-full blur-3xl group-hover:bg-indigo-500/20 transition-all pointer-events-none"})]}),i.jsxs("div",{className:"bg-white rounded-[32px] border border-slate-200 p-8 shadow-sm flex flex-col items-center justify-center text-center space-y-4",children:[i.jsx("div",{className:"w-12 h-12 bg-slate-50 rounded-full flex items-center justify-center text-slate-300",children:i.jsx(Vd,{className:"w-6 h-6"})}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-xs font-bold text-slate-900 uppercase tracking-widest",children:"Workspace Statistics"}),i.jsx("p",{className:"text-[10px] text-slate-400 font-medium leading-relaxed",children:"No data collected for current period. Stats will populate as you add tasks and events."})]})]})]})]}),A&&i.jsxs("div",{className:"fixed inset-0 z-[110] overflow-hidden pointer-events-none",children:[i.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md pointer-events-auto animate-in fade-in duration-300",onClick:fn}),i.jsxs("div",{className:"absolute right-0 inset-y-0 w-full max-w-xl bg-white shadow-2xl pointer-events-auto animate-in slide-in-from-right duration-500 flex flex-col",children:[i.jsxs("div",{className:"p-8 border-b border-slate-100 bg-slate-50/50 relative",children:[i.jsx("button",{onClick:fn,className:"absolute top-6 right-6 p-2 hover:bg-white rounded-full text-slate-400 transition-all shadow-sm z-10",children:i.jsx(mr,{className:"w-5 h-5"})}),i.jsxs("div",{className:"flex items-center gap-5 mb-6",children:[i.jsx("div",{className:"w-16 h-16 rounded-[24px] flex items-center justify-center text-white shadow-xl bg-indigo-500 shadow-indigo-100",children:i.jsx(wn,{className:"w-8 h-8"})}),i.jsxs("div",{className:"flex-1",children:[M?i.jsx("input",{type:"text",value:I.title,onChange:ne=>z(ge=>({...ge,title:ne.target.value})),className:"w-full px-4 py-2 bg-white border-2 border-indigo-200 rounded-xl text-xl font-black text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100",placeholder:"Task title"}):i.jsx("h2",{className:"text-2xl font-black text-slate-900 tracking-tight leading-tight",children:A.title}),i.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[i.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border ${A.status==="Done"?"bg-emerald-50 text-emerald-600 border-emerald-100":A.status==="In Progress"?"bg-blue-50 text-blue-600 border-blue-100":A.status==="Review"?"bg-amber-50 text-amber-600 border-amber-100":"bg-slate-50 text-slate-600 border-slate-100"}`,children:A.status}),i.jsxs("span",{className:"text-slate-400 text-xs font-bold",children:[" Task ID: #",A.id.substring(0,8)]})]})]})]}),i.jsx("div",{className:"flex items-center gap-2",children:M?i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>{F(!1),z({title:A.title,category:A.category||"",description:A.description||"",dueDate:A.dueDate||"",priority:A.priority||"Medium",status:A.status||"Todo",assigneeId:A.assigneeId,projectId:A.projectId||""})},disabled:E,className:"px-4 py-2 border border-slate-200 text-slate-400 font-bold text-xs uppercase tracking-widest rounded-xl hover:bg-slate-50 transition-all disabled:opacity-50",children:"Cancel"}),i.jsx("button",{onClick:sn,disabled:E||!I.title.trim()||!I.assigneeId,className:"px-4 py-2 bg-indigo-600 text-white font-bold text-xs uppercase tracking-widest rounded-xl hover:bg-indigo-700 transition-all shadow-lg flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:E?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(ro,{className:"w-4 h-4"}),"Save Changes"]})})]}):i.jsxs("button",{onClick:()=>F(!0),className:"px-4 py-2 bg-indigo-600 text-white font-bold text-xs uppercase tracking-widest rounded-xl hover:bg-indigo-700 transition-all shadow-lg flex items-center gap-2",children:[i.jsx(xl,{className:"w-4 h-4"}),"Edit Task"]})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-8 space-y-8 custom-scrollbar",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsxs("div",{className:"p-6 bg-slate-50 rounded-[24px] border border-slate-100",children:[i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Assignee"}),M?i.jsxs("select",{value:I.assigneeId,onChange:ne=>z(ge=>({...ge,assigneeId:ne.target.value})),className:"w-full px-4 py-2 bg-white border-2 border-indigo-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100 mt-2",children:[i.jsx("option",{value:"",children:"Select Assignee"}),b.map(ne=>i.jsx("option",{value:ne.id,children:ne.name},ne.id))]}):i.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[i.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-xl flex items-center justify-center text-indigo-600 font-black text-sm",children:b.find(ne=>ne.id===A.assigneeId)?.name?.charAt(0)||"U"}),i.jsx("p",{className:"text-sm font-bold text-slate-900",children:b.find(ne=>ne.id===A.assigneeId)?.name||"Unassigned"})]})]}),i.jsxs("div",{className:"p-6 bg-slate-50 rounded-[24px] border border-slate-100",children:[i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Linked Project"}),M?i.jsxs("select",{value:I.projectId,onChange:ne=>z(ge=>({...ge,projectId:ne.target.value})),className:"w-full px-4 py-2 bg-white border-2 border-indigo-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100 mt-2",children:[i.jsx("option",{value:"",children:"None"}),v.filter(ne=>!ne.archived).map(ne=>i.jsx("option",{value:ne.id,children:ne.title},ne.id))]}):i.jsx("p",{className:"text-sm font-bold text-slate-900 mt-2",children:A.projectId?v.find(ne=>ne.id===A.projectId)?.title||"Unknown Project":"None"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[i.jsx(Wa,{className:"w-4 h-4 text-indigo-500"})," Description"]}),M?i.jsx("textarea",{rows:6,value:I.description,onChange:ne=>z(ge=>({...ge,description:ne.target.value})),className:"w-full px-4 py-3 bg-white border-2 border-indigo-200 rounded-xl text-sm font-medium text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100 resize-none",placeholder:"Add task description..."}):i.jsxs("div",{className:"p-6 bg-slate-950 rounded-[32px] text-indigo-50 relative overflow-hidden shadow-2xl",children:[i.jsx("p",{className:"text-sm leading-relaxed italic opacity-90 z-10 relative",children:A.description||"No description provided."}),i.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-indigo-500/10 blur-[100px] rounded-full translate-x-1/2 -translate-y-1/2"})]})]}),i.jsxs("div",{className:"p-6 bg-slate-50 rounded-[24px] border border-slate-100",children:[i.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1 flex items-center gap-1.5",children:[i.jsx(Da,{className:"w-3.5 h-3.5"})," Task Category"]}),M?i.jsxs("div",{className:"space-y-2 mt-2",children:[i.jsxs("select",{value:J?"__new__":I.category||"",onChange:ne=>{const ge=ne.target.value;ge==="__new__"?(ie(!0),z(ve=>({...ve,category:""}))):(ie(!1),z(ve=>({...ve,category:ge})))},className:"w-full px-4 py-2 bg-white border-2 border-indigo-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100 appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%22%3E%3Cpath%20stroke%3D%226b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22m6%208%204%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:16px_16px] bg-[right_12px_center] bg-no-repeat",children:[i.jsx("option",{value:"",children:"None"}),Q.map(ne=>i.jsx("option",{value:ne,children:ne},ne)),i.jsx("option",{value:"__new__",children:"+ Create new category..."})]}),J&&i.jsx("input",{type:"text",value:I.category,onChange:ne=>z(ge=>({...ge,category:ne.target.value.trim()})),placeholder:"Enter new category name",className:"w-full px-4 py-2 bg-white border-2 border-indigo-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100"})]}):i.jsx("div",{className:"flex items-center gap-2 mt-2",children:A.category?i.jsxs(i.Fragment,{children:[i.jsx(Da,{className:"w-4 h-4 text-indigo-600"}),i.jsx("p",{className:"text-sm font-bold text-indigo-700",children:A.category})]}):i.jsx("p",{className:"text-sm text-slate-400",children:"No category"})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsxs("div",{className:"p-6 bg-slate-50 rounded-[24px] border border-slate-100",children:[i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Due Date"}),M?i.jsx("input",{type:"date",value:I.dueDate,onChange:ne=>z(ge=>({...ge,dueDate:ne.target.value})),className:"w-full px-4 py-2 bg-white border-2 border-indigo-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100 mt-2"}):i.jsx("p",{className:"text-sm font-bold text-slate-900 mt-2",children:A.dueDate?Tr(A.dueDate):"Ongoing"})]}),i.jsxs("div",{className:"p-6 bg-slate-50 rounded-[24px] border border-slate-100",children:[i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Priority"}),M?i.jsx("div",{className:"flex gap-2 mt-2",children:["Low","Medium","High"].map(ne=>i.jsx("button",{onClick:()=>z(ge=>({...ge,priority:ne})),className:`flex-1 px-3 py-2 rounded-xl text-xs font-black uppercase transition-all ${I.priority===ne?"bg-indigo-600 text-white shadow-lg":"bg-white text-slate-400 border border-slate-200 hover:border-indigo-300"}`,children:ne},ne))}):i.jsx("div",{className:`inline-block px-3 py-1 rounded-full text-xs font-black uppercase mt-2 ${A.priority==="High"?"bg-red-50 text-red-600":A.priority==="Medium"?"bg-amber-50 text-amber-600":"bg-slate-50 text-slate-600"}`,children:A.priority})]})]}),i.jsxs("div",{className:"p-6 bg-slate-50 rounded-[24px] border border-slate-100",children:[i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Status"}),M?i.jsxs("select",{value:I.status,onChange:ne=>z(ge=>({...ge,status:ne.target.value})),className:"w-full px-4 py-2 bg-white border-2 border-indigo-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100 mt-2",children:[i.jsx("option",{value:"Todo",children:"Todo"}),i.jsx("option",{value:"In Progress",children:"In Progress"}),i.jsx("option",{value:"Review",children:"Review"}),i.jsx("option",{value:"Done",children:"Done"})]}):i.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[A.status==="Done"?i.jsx(wn,{className:"w-5 h-5 text-emerald-500"}):A.status==="In Progress"?i.jsx(zi,{className:"w-5 h-5 text-blue-500 animate-pulse"}):i.jsx($c,{className:"w-5 h-5 text-slate-400"}),i.jsx("p",{className:"text-sm font-bold text-slate-900 capitalize",children:A.status})]})]}),i.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-200",children:[i.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[i.jsx(ls,{className:"w-4 h-4 text-indigo-500"}),"Notes & Comments",A.notes&&A.notes.length>0&&i.jsx("span",{className:"ml-1 px-2 py-0.5 bg-indigo-100 text-indigo-600 rounded-full text-[10px]",children:A.notes.length})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx("textarea",{ref:Nt,rows:3,value:X,onChange:At,onBlur:()=>{setTimeout(()=>ee(!1),200)},className:"w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-sm font-medium text-slate-900 outline-none focus:ring-2 focus:ring-indigo-200 focus:border-indigo-300 resize-none",placeholder:"Add a note or comment... (Use @ to mention users)"}),Oe&&_e.length>0&&i.jsx("div",{className:"absolute bottom-full mb-2 left-0 w-full max-w-sm bg-white border-2 border-indigo-200 rounded-xl shadow-2xl z-50 max-h-48 overflow-y-auto",children:i.jsxs("div",{className:"p-2",children:[i.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 text-xs font-bold text-slate-400 uppercase tracking-wider",children:[i.jsx(xm,{className:"w-3 h-3"}),"Mention User"]}),_e.map(ne=>i.jsxs("button",{onClick:()=>ir(ne),className:"w-full flex items-center gap-3 px-3 py-2 hover:bg-indigo-50 rounded-lg transition-all text-left",children:[i.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center text-indigo-600 font-bold text-xs",children:ne.name.charAt(0)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-bold text-slate-900 truncate",children:ne.name}),i.jsx("p",{className:"text-xs text-slate-400 truncate",children:ne.email})]})]},ne.id))]})})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("label",{className:"flex-1 cursor-pointer group",children:[i.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 bg-slate-50 border-2 border-dashed border-slate-200 rounded-xl hover:border-indigo-300 hover:bg-indigo-50/30 transition-all",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-indigo-100 flex items-center justify-center text-indigo-600 group-hover:bg-indigo-200 transition-all",children:q?i.jsx(Qs,{className:"w-4 h-4"}):i.jsx(hc,{className:"w-4 h-4"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xs font-bold text-slate-900",children:q?U?.name||"Image selected":"Attach Image"}),i.jsx("p",{className:"text-[10px] text-slate-400",children:"PNG, JPG (Max 10MB)"})]})]}),i.jsx("input",{ref:Ue,type:"file",accept:"image/*",onChange:Ct,className:"hidden"})]}),i.jsx("button",{onClick:Br,disabled:B||!X.trim()&&!U,className:"px-6 py-3 bg-indigo-600 text-white font-bold text-xs uppercase tracking-widest rounded-xl hover:bg-indigo-700 transition-all shadow-lg flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed shrink-0",children:B?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),"Sending..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Mc,{className:"w-4 h-4"}),"Send"]})})]}),q&&i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:q,alt:"Note attachment preview",className:"w-full max-h-48 object-contain rounded-lg border-2 border-slate-200"}),i.jsx("button",{onClick:()=>{C(""),W(null),Ue.current&&(Ue.current.value="")},className:"absolute top-2 right-2 p-1.5 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-all shadow-lg",children:i.jsx(mr,{className:"w-4 h-4"})})]})]}),i.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto custom-scrollbar",children:A.notes&&A.notes.length>0?[...A.notes].reverse().map(ne=>{const ge=e?.role==="Admin"||ne.userId===e?.id;return i.jsxs("div",{className:"p-4 bg-white border border-slate-200 rounded-xl space-y-2",children:[i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center text-indigo-600 font-black text-xs",children:ne.userName?.charAt(0)||"U"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-bold text-slate-900",children:ne.userName}),i.jsx("p",{className:"text-[10px] text-slate-400",children:new Date(ne.createdAt).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})})]})]}),ge&&i.jsx("button",{onClick:()=>he(ne.id),disabled:re===ne.id,className:"p-2 hover:bg-red-50 rounded-lg transition-colors group disabled:opacity-50",title:"Delete note",children:re===ne.id?i.jsx(Ot,{className:"w-4 h-4 text-red-600 animate-spin"}):i.jsx(Ir,{className:"w-4 h-4 text-slate-400 group-hover:text-red-600 transition-colors"})})]}),ne.text&&i.jsx("p",{className:"text-sm text-slate-700 leading-relaxed pl-10",children:Wr(ne.text)}),ne.imageUrl&&i.jsx("div",{className:"pl-10",children:i.jsx("img",{src:ne.imageUrl,alt:ne.imageName||"Note attachment",className:"max-w-full max-h-64 object-contain rounded-lg border border-slate-200 cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>{const ve=window.open();ve&&ve.document.write(`<img src="${ne.imageUrl}" style="max-width:100%;height:auto;" />`)}})})]},ne.id)}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(ls,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),i.jsx("p",{className:"text-sm text-slate-400 font-medium",children:"No notes yet"}),i.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Add your first note above"})]})})]}),i.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-200",children:[i.jsxs("button",{onClick:()=>pe(!Pe),className:"w-full flex items-center justify-between group",children:[i.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2 group-hover:text-indigo-600 transition-colors",children:[i.jsx(Kf,{className:"w-4 h-4 text-indigo-500"}),"Activity Log"]}),i.jsx(Ka,{className:`w-4 h-4 text-slate-400 transition-transform ${Pe?"rotate-90":""}`})]}),Pe&&i.jsxs("div",{className:"space-y-2 pl-6 border-l-2 border-indigo-100",children:[i.jsxs("div",{className:"flex items-start gap-3 pb-3",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-400 mt-1.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xs font-bold text-slate-900",children:"Task created"}),i.jsx("p",{className:"text-[10px] text-slate-400 mt-0.5",children:A.createdAt?new Date(A.createdAt).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):"Unknown"})]})]}),A.updatedAt&&A.updatedAt!==A.createdAt&&i.jsxs("div",{className:"flex items-start gap-3 pb-3",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-1.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xs font-bold text-slate-900",children:"Task updated"}),i.jsx("p",{className:"text-[10px] text-slate-400 mt-0.5",children:new Date(A.updatedAt).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})})]})]}),A.notes&&A.notes.map((ne,ge)=>i.jsxs("div",{className:"flex items-start gap-3 pb-3",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-400 mt-1.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("p",{className:"text-xs font-bold text-slate-900",children:[ne.userName," added a comment"]}),i.jsx("p",{className:"text-[10px] text-slate-400 mt-0.5",children:new Date(ne.createdAt).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})})]})]},ne.id)),(!A.notes||A.notes.length===0)&&(!A.updatedAt||A.updatedAt===A.createdAt)&&i.jsx("p",{className:"text-xs text-slate-400 italic",children:"No recent activity"})]})]})]})}),i.jsxs("div",{className:"p-8 border-t border-slate-100 bg-white flex gap-4 shrink-0",children:[i.jsx("button",{onClick:()=>{ye(A),fn()},className:"px-6 py-4 border border-red-200 bg-white text-red-600 hover:bg-red-50 rounded-[24px] transition-all group shrink-0 active:scale-95",children:i.jsx(Ir,{className:"w-6 h-6 group-hover:scale-110 transition-transform"})}),i.jsxs("button",{onClick:fn,className:"flex-1 py-4 bg-slate-900 text-white font-black uppercase text-xs tracking-[0.2em] rounded-[24px] hover:bg-indigo-700 active:scale-95 transition-all shadow-2xl flex items-center justify-center gap-3",children:[i.jsx(wn,{className:"w-5 h-5"})," Close"]})]})]})]}),ae&&i.jsx("div",{className:"fixed inset-0 z-[130] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:i.jsxs("div",{className:"bg-white rounded-[32px] w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"p-8 border-b border-slate-100",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center bg-red-50 text-red-600",children:i.jsx(Ir,{className:"w-6 h-6"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-black text-slate-900",children:"Delete Task?"}),i.jsx("p",{className:"text-xs text-slate-400 font-medium mt-1",children:"This action cannot be undone. The task will be permanently removed."})]})]}),i.jsx("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-200",children:i.jsx("p",{className:"text-xs font-bold text-slate-900",children:ae.title})})]}),i.jsxs("div",{className:"p-6 flex gap-3",children:[i.jsx("button",{onClick:()=>ye(null),className:"flex-1 py-3 border border-slate-200 text-slate-400 font-black uppercase text-xs tracking-widest rounded-xl hover:bg-slate-50 transition-all",children:"Cancel"}),i.jsx("button",{onClick:async()=>{if(ae)try{await pj(ae.id),y(ne=>ne.filter(ge=>ge.id!==ae.id)),m(ne=>ne.filter(ge=>ge.id!==ae.id)),ye(null),O(null),a("Task deleted successfully")}catch(ne){n(ne.message||"Failed to delete task")}},className:"flex-1 py-3 bg-red-600 text-white font-black uppercase text-xs tracking-widest rounded-xl hover:bg-red-700 transition-all shadow-lg",children:"Delete Task"})]})]})})]})},pxe=()=>{const{showSuccess:e}=oi(),[t,r]=V.useState(null),[n,a]=V.useState([]),s=l=>{r(l),setTimeout(()=>{a(c=>[...c,l]),r(null),e(`${l.charAt(0).toUpperCase()+l.slice(1)} connected successfully!`)},1500)},o=[{id:"google",name:"Google Workspace",description:"Sync your Gmail, Calendar, and Drive to streamline communication and scheduling.",icon:i.jsx(eo,{className:"w-8 h-8 text-blue-500"}),color:"bg-blue-50",status:"Communication & Scheduling",isComingSoon:!0},{id:"stripe",name:"Stripe",description:"Automate invoice payments and financial reporting with the world's leading payment platform.",icon:i.jsx(lI,{className:"w-8 h-8 text-indigo-500"}),color:"bg-indigo-50",status:"Payment Processing",isComingSoon:!0},{id:"zoho",name:"Zoho Books",description:"Bi-directional sync of contacts, invoices, and accounting data with your Zoho workspace.",icon:i.jsx(Gf,{className:"w-8 h-8 text-emerald-500"}),color:"bg-emerald-50",status:"Accounting & Finance",isComingSoon:!0}];return i.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Integrations"}),i.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Connect your favorite tools to the ImpactFlow OS ."})]}),i.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-emerald-50 text-emerald-700 rounded-xl text-xs font-black uppercase tracking-widest border border-emerald-100",children:[i.jsx(L1,{className:"w-4 h-4"})," Secure Enterprise Sync"]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:o.map(l=>{const c=n.includes(l.id),u=t===l.id;return i.jsxs("div",{className:"bg-white rounded-[32px] border border-slate-200 p-8 shadow-sm flex flex-col h-full hover:border-indigo-300 transition-all group relative overflow-hidden",children:[l.isComingSoon&&i.jsxs("div",{className:"absolute top-4 right-4 bg-indigo-100 text-indigo-700 text-[9px] font-black uppercase tracking-widest px-2.5 py-1 rounded-full border border-indigo-200 flex items-center gap-1.5 shadow-sm",children:[i.jsx(Ts,{className:"w-3 h-3"})," Coming Soon"]}),i.jsxs("div",{className:"flex justify-between items-start mb-8",children:[i.jsx("div",{className:`w-16 h-16 ${l.color} rounded-[20px] flex items-center justify-center group-hover:scale-110 transition-transform`,children:l.icon}),c?i.jsxs("div",{className:"px-3 py-1 bg-emerald-50 text-emerald-600 rounded-full text-[10px] font-black uppercase tracking-tighter flex items-center gap-1.5",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full animate-pulse"})," Active"]}):i.jsx("div",{className:"px-3 py-1 bg-slate-50 text-slate-400 rounded-full text-[10px] font-black uppercase tracking-tighter",children:l.isComingSoon?"In Development":"Disconnected"})]}),i.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:l.name}),i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] mb-4",children:l.status}),i.jsx("p",{className:"text-sm text-slate-500 leading-relaxed flex-1 mb-8",children:l.description}),i.jsxs("div",{className:"pt-6 border-t border-slate-50 space-y-3",children:[i.jsx("button",{onClick:()=>!c&&!l.isComingSoon&&s(l.id),disabled:u||c||l.isComingSoon,className:`w-full py-4 rounded-2xl font-black text-xs uppercase tracking-widest transition-all flex items-center justify-center gap-2 ${c?"bg-slate-50 text-slate-400 cursor-default":l.isComingSoon?"bg-slate-50 text-slate-400 cursor-not-allowed opacity-60":"bg-indigo-600 text-white shadow-lg shadow-indigo-100 hover:bg-indigo-700 active:scale-[0.98]"}`,children:u?i.jsx(Ot,{className:"w-4 h-4 animate-spin"}):c?i.jsxs(i.Fragment,{children:["Connected ",i.jsx(wn,{className:"w-4 h-4"})]}):l.isComingSoon?i.jsx(i.Fragment,{children:"Development in Progress"}):i.jsxs(i.Fragment,{children:["Connect ",l.name," ",i.jsx(is,{className:"w-4 h-4"})]})}),i.jsxs("button",{className:"w-full py-2.5 text-slate-400 hover:text-slate-600 text-[10px] font-black uppercase tracking-widest flex items-center justify-center gap-2",children:["View API Docs ",i.jsx(ic,{className:"w-3 h-3"})]})]})]},l.id)})}),i.jsxs("div",{className:"bg-slate-900 rounded-[40px] p-12 text-white relative overflow-hidden group shadow-2xl",children:[i.jsxs("div",{className:"relative z-10 max-w-2xl text-left",children:[i.jsx("div",{className:"w-12 h-12 bg-white/10 rounded-2xl flex items-center justify-center mb-8 backdrop-blur-md",children:i.jsx(pv,{className:"w-6 h-6 text-indigo-400"})}),i.jsxs("h2",{className:"text-4xl font-black mb-4 tracking-tight leading-tight",children:["Request Custom ",i.jsx("br",{}),i.jsx("span",{className:"text-indigo-400",children:"Webhooks & API Sync"})]}),i.jsx("p",{className:"text-slate-400 text-lg leading-relaxed mb-10 opacity-80",children:"Need to connect your specialized logistics software or internal ERP? Our engineering team builds custom bridges for Impact Enterprise clients."}),i.jsx("button",{className:"px-10 py-5 bg-white text-slate-900 font-black uppercase text-xs tracking-widest rounded-2xl hover:bg-indigo-50 transition-all active:scale-95 shadow-xl",children:"Contact Integration Team"})]}),i.jsx("div",{className:"absolute right-0 top-0 w-1/2 h-full opacity-10 translate-x-1/4 pointer-events-none",children:i.jsx(pv,{className:"w-full h-full text-indigo-600"})})]})]})};var uv={exports:{}};var mxe=uv.exports,tI;function xxe(){return tI||(tI=1,(function(e,t){(function(n,a){e.exports=a()})(typeof self<"u"?self:mxe,function(){return(function(r){var n={};function a(s){if(n[s])return n[s].exports;var o=n[s]={i:s,l:!1,exports:{}};return r[s].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=r,a.c=n,a.d=function(s,o,l){a.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:l})},a.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return a.d(o,"a",o),o},a.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},a.p="",a(a.s=109)})([(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=a(17),o=a(18),l=a(19),c=a(45),u=a(46),d=a(47),h=a(48),m=a(49),p=a(12),y=a(32),v=a(33),g=a(31),b=a(1),w={Scope:b.Scope,create:b.create,find:b.find,query:b.query,register:b.register,Container:s.default,Format:o.default,Leaf:l.default,Embed:h.default,Scroll:c.default,Block:d.default,Inline:u.default,Text:m.default,Attributor:{Attribute:p.default,Class:y.default,Style:v.default,Store:g.default}};n.default=w}),(function(r,n,a){var s=this&&this.__extends||(function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,w){b.__proto__=w}||function(b,w){for(var j in w)w.hasOwnProperty(j)&&(b[j]=w[j])};return function(b,w){g(b,w);function j(){this.constructor=b}b.prototype=w===null?Object.create(w):(j.prototype=w.prototype,new j)}})();Object.defineProperty(n,"__esModule",{value:!0});var o=(function(g){s(b,g);function b(w){var j=this;return w="[Parchment] "+w,j=g.call(this,w)||this,j.message=w,j.name=j.constructor.name,j}return b})(Error);n.ParchmentError=o;var l={},c={},u={},d={};n.DATA_KEY="__blot";var h;(function(g){g[g.TYPE=3]="TYPE",g[g.LEVEL=12]="LEVEL",g[g.ATTRIBUTE=13]="ATTRIBUTE",g[g.BLOT=14]="BLOT",g[g.INLINE=7]="INLINE",g[g.BLOCK=11]="BLOCK",g[g.BLOCK_BLOT=10]="BLOCK_BLOT",g[g.INLINE_BLOT=6]="INLINE_BLOT",g[g.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",g[g.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",g[g.ANY=15]="ANY"})(h=n.Scope||(n.Scope={}));function m(g,b){var w=y(g);if(w==null)throw new o("Unable to create "+g+" blot");var j=w,N=g instanceof Node||g.nodeType===Node.TEXT_NODE?g:j.create(b);return new j(N,b)}n.create=m;function p(g,b){return b===void 0&&(b=!1),g==null?null:g[n.DATA_KEY]!=null?g[n.DATA_KEY].blot:b?p(g.parentNode,b):null}n.find=p;function y(g,b){b===void 0&&(b=h.ANY);var w;if(typeof g=="string")w=d[g]||l[g];else if(g instanceof Text||g.nodeType===Node.TEXT_NODE)w=d.text;else if(typeof g=="number")g&h.LEVEL&h.BLOCK?w=d.block:g&h.LEVEL&h.INLINE&&(w=d.inline);else if(g instanceof HTMLElement){var j=(g.getAttribute("class")||"").split(/\s+/);for(var N in j)if(w=c[j[N]],w)break;w=w||u[g.tagName]}return w==null?null:b&h.LEVEL&w.scope&&b&h.TYPE&w.scope?w:null}n.query=y;function v(){for(var g=[],b=0;b<arguments.length;b++)g[b]=arguments[b];if(g.length>1)return g.map(function(N){return v(N)});var w=g[0];if(typeof w.blotName!="string"&&typeof w.attrName!="string")throw new o("Invalid definition");if(w.blotName==="abstract")throw new o("Cannot register abstract class");if(d[w.blotName||w.attrName]=w,typeof w.keyName=="string")l[w.keyName]=w;else if(w.className!=null&&(c[w.className]=w),w.tagName!=null){Array.isArray(w.tagName)?w.tagName=w.tagName.map(function(N){return N.toUpperCase()}):w.tagName=w.tagName.toUpperCase();var j=Array.isArray(w.tagName)?w.tagName:[w.tagName];j.forEach(function(N){(u[N]==null||w.className==null)&&(u[N]=w)})}return w}n.register=v}),(function(r,n,a){var s=a(51),o=a(11),l=a(3),c=a(20),u="\0",d=function(h){Array.isArray(h)?this.ops=h:h!=null&&Array.isArray(h.ops)?this.ops=h.ops:this.ops=[]};d.prototype.insert=function(h,m){var p={};return h.length===0?this:(p.insert=h,m!=null&&typeof m=="object"&&Object.keys(m).length>0&&(p.attributes=m),this.push(p))},d.prototype.delete=function(h){return h<=0?this:this.push({delete:h})},d.prototype.retain=function(h,m){if(h<=0)return this;var p={retain:h};return m!=null&&typeof m=="object"&&Object.keys(m).length>0&&(p.attributes=m),this.push(p)},d.prototype.push=function(h){var m=this.ops.length,p=this.ops[m-1];if(h=l(!0,{},h),typeof p=="object"){if(typeof h.delete=="number"&&typeof p.delete=="number")return this.ops[m-1]={delete:p.delete+h.delete},this;if(typeof p.delete=="number"&&h.insert!=null&&(m-=1,p=this.ops[m-1],typeof p!="object"))return this.ops.unshift(h),this;if(o(h.attributes,p.attributes)){if(typeof h.insert=="string"&&typeof p.insert=="string")return this.ops[m-1]={insert:p.insert+h.insert},typeof h.attributes=="object"&&(this.ops[m-1].attributes=h.attributes),this;if(typeof h.retain=="number"&&typeof p.retain=="number")return this.ops[m-1]={retain:p.retain+h.retain},typeof h.attributes=="object"&&(this.ops[m-1].attributes=h.attributes),this}}return m===this.ops.length?this.ops.push(h):this.ops.splice(m,0,h),this},d.prototype.chop=function(){var h=this.ops[this.ops.length-1];return h&&h.retain&&!h.attributes&&this.ops.pop(),this},d.prototype.filter=function(h){return this.ops.filter(h)},d.prototype.forEach=function(h){this.ops.forEach(h)},d.prototype.map=function(h){return this.ops.map(h)},d.prototype.partition=function(h){var m=[],p=[];return this.forEach(function(y){var v=h(y)?m:p;v.push(y)}),[m,p]},d.prototype.reduce=function(h,m){return this.ops.reduce(h,m)},d.prototype.changeLength=function(){return this.reduce(function(h,m){return m.insert?h+c.length(m):m.delete?h-m.delete:h},0)},d.prototype.length=function(){return this.reduce(function(h,m){return h+c.length(m)},0)},d.prototype.slice=function(h,m){h=h||0,typeof m!="number"&&(m=1/0);for(var p=[],y=c.iterator(this.ops),v=0;v<m&&y.hasNext();){var g;v<h?g=y.next(h-v):(g=y.next(m-v),p.push(g)),v+=c.length(g)}return new d(p)},d.prototype.compose=function(h){var m=c.iterator(this.ops),p=c.iterator(h.ops),y=[],v=p.peek();if(v!=null&&typeof v.retain=="number"&&v.attributes==null){for(var g=v.retain;m.peekType()==="insert"&&m.peekLength()<=g;)g-=m.peekLength(),y.push(m.next());v.retain-g>0&&p.next(v.retain-g)}for(var b=new d(y);m.hasNext()||p.hasNext();)if(p.peekType()==="insert")b.push(p.next());else if(m.peekType()==="delete")b.push(m.next());else{var w=Math.min(m.peekLength(),p.peekLength()),j=m.next(w),N=p.next(w);if(typeof N.retain=="number"){var S={};typeof j.retain=="number"?S.retain=w:S.insert=j.insert;var P=c.attributes.compose(j.attributes,N.attributes,typeof j.retain=="number");if(P&&(S.attributes=P),b.push(S),!p.hasNext()&&o(b.ops[b.ops.length-1],S)){var A=new d(m.rest());return b.concat(A).chop()}}else typeof N.delete=="number"&&typeof j.retain=="number"&&b.push(N)}return b.chop()},d.prototype.concat=function(h){var m=new d(this.ops.slice());return h.ops.length>0&&(m.push(h.ops[0]),m.ops=m.ops.concat(h.ops.slice(1))),m},d.prototype.diff=function(h,m){if(this.ops===h.ops)return new d;var p=[this,h].map(function(w){return w.map(function(j){if(j.insert!=null)return typeof j.insert=="string"?j.insert:u;var N=w===h?"on":"with";throw new Error("diff() called "+N+" non-document")}).join("")}),y=new d,v=s(p[0],p[1],m),g=c.iterator(this.ops),b=c.iterator(h.ops);return v.forEach(function(w){for(var j=w[1].length;j>0;){var N=0;switch(w[0]){case s.INSERT:N=Math.min(b.peekLength(),j),y.push(b.next(N));break;case s.DELETE:N=Math.min(j,g.peekLength()),g.next(N),y.delete(N);break;case s.EQUAL:N=Math.min(g.peekLength(),b.peekLength(),j);var S=g.next(N),P=b.next(N);o(S.insert,P.insert)?y.retain(N,c.attributes.diff(S.attributes,P.attributes)):y.push(P).delete(N);break}j-=N}}),y.chop()},d.prototype.eachLine=function(h,m){m=m||`
`;for(var p=c.iterator(this.ops),y=new d,v=0;p.hasNext();){if(p.peekType()!=="insert")return;var g=p.peek(),b=c.length(g)-p.peekLength(),w=typeof g.insert=="string"?g.insert.indexOf(m,b)-b:-1;if(w<0)y.push(p.next());else if(w>0)y.push(p.next(w));else{if(h(y,p.next(1).attributes||{},v)===!1)return;v+=1,y=new d}}y.length()>0&&h(y,{},v)},d.prototype.transform=function(h,m){if(m=!!m,typeof h=="number")return this.transformPosition(h,m);for(var p=c.iterator(this.ops),y=c.iterator(h.ops),v=new d;p.hasNext()||y.hasNext();)if(p.peekType()==="insert"&&(m||y.peekType()!=="insert"))v.retain(c.length(p.next()));else if(y.peekType()==="insert")v.push(y.next());else{var g=Math.min(p.peekLength(),y.peekLength()),b=p.next(g),w=y.next(g);if(b.delete)continue;w.delete?v.push(w):v.retain(g,c.attributes.transform(b.attributes,w.attributes,m))}return v.chop()},d.prototype.transformPosition=function(h,m){m=!!m;for(var p=c.iterator(this.ops),y=0;p.hasNext()&&y<=h;){var v=p.peekLength(),g=p.peekType();if(p.next(),g==="delete"){h-=Math.min(v,h-y);continue}else g==="insert"&&(y<h||!m)&&(h+=v);y+=v}return h},r.exports=d}),(function(r,n){var a=Object.prototype.hasOwnProperty,s=Object.prototype.toString,o=Object.defineProperty,l=Object.getOwnPropertyDescriptor,c=function(p){return typeof Array.isArray=="function"?Array.isArray(p):s.call(p)==="[object Array]"},u=function(p){if(!p||s.call(p)!=="[object Object]")return!1;var y=a.call(p,"constructor"),v=p.constructor&&p.constructor.prototype&&a.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!y&&!v)return!1;var g;for(g in p);return typeof g>"u"||a.call(p,g)},d=function(p,y){o&&y.name==="__proto__"?o(p,y.name,{enumerable:!0,configurable:!0,value:y.newValue,writable:!0}):p[y.name]=y.newValue},h=function(p,y){if(y==="__proto__")if(a.call(p,y)){if(l)return l(p,y).value}else return;return p[y]};r.exports=function m(){var p,y,v,g,b,w,j=arguments[0],N=1,S=arguments.length,P=!1;for(typeof j=="boolean"&&(P=j,j=arguments[1]||{},N=2),(j==null||typeof j!="object"&&typeof j!="function")&&(j={});N<S;++N)if(p=arguments[N],p!=null)for(y in p)v=h(j,y),g=h(p,y),j!==g&&(P&&g&&(u(g)||(b=c(g)))?(b?(b=!1,w=v&&c(v)?v:[]):w=v&&u(v)?v:{},d(j,{name:y,newValue:m(P,w,g)})):typeof g<"u"&&d(j,{name:y,newValue:g}));return j}}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BlockEmbed=n.bubbleFormats=void 0;var s=(function(){function E(T,I){for(var z=0;z<I.length;z++){var Q=I[z];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(T,Q.key,Q)}}return function(T,I,z){return I&&E(T.prototype,I),z&&E(T,z),T}})(),o=function E(T,I,z){T===null&&(T=Function.prototype);var Q=Object.getOwnPropertyDescriptor(T,I);if(Q===void 0){var te=Object.getPrototypeOf(T);return te===null?void 0:E(te,I,z)}else{if("value"in Q)return Q.value;var J=Q.get;return J===void 0?void 0:J.call(z)}},l=a(3),c=j(l),u=a(2),d=j(u),h=a(0),m=j(h),p=a(16),y=j(p),v=a(6),g=j(v),b=a(7),w=j(b);function j(E){return E&&E.__esModule?E:{default:E}}function N(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")}function S(E,T){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:E}function P(E,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);E.prototype=Object.create(T&&T.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(E,T):E.__proto__=T)}var A=1,O=(function(E){P(T,E);function T(){return N(this,T),S(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return s(T,[{key:"attach",value:function(){o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"attach",this).call(this),this.attributes=new m.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new d.default().insert(this.value(),(0,c.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(z,Q){var te=m.default.query(z,m.default.Scope.BLOCK_ATTRIBUTE);te!=null&&this.attributes.attribute(te,Q)}},{key:"formatAt",value:function(z,Q,te,J){this.format(te,J)}},{key:"insertAt",value:function(z,Q,te){if(typeof Q=="string"&&Q.endsWith(`
`)){var J=m.default.create(M.blotName);this.parent.insertBefore(J,z===0?this:this.next),J.insertAt(0,Q.slice(0,-1))}else o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,z,Q,te)}}]),T})(m.default.Embed);O.scope=m.default.Scope.BLOCK_BLOT;var M=(function(E){P(T,E);function T(I){N(this,T);var z=S(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,I));return z.cache={},z}return s(T,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(m.default.Leaf).reduce(function(z,Q){return Q.length()===0?z:z.insert(Q.value(),F(Q))},new d.default).insert(`
`,F(this))),this.cache.delta}},{key:"deleteAt",value:function(z,Q){o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"deleteAt",this).call(this,z,Q),this.cache={}}},{key:"formatAt",value:function(z,Q,te,J){Q<=0||(m.default.query(te,m.default.Scope.BLOCK)?z+Q===this.length()&&this.format(te,J):o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"formatAt",this).call(this,z,Math.min(Q,this.length()-z-1),te,J),this.cache={})}},{key:"insertAt",value:function(z,Q,te){if(te!=null)return o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,z,Q,te);if(Q.length!==0){var J=Q.split(`
`),ie=J.shift();ie.length>0&&(z<this.length()-1||this.children.tail==null?o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,Math.min(z,this.length()-1),ie):this.children.tail.insertAt(this.children.tail.length(),ie),this.cache={});var X=this;J.reduce(function(Z,q){return X=X.split(Z,!0),X.insertAt(0,q),q.length},z+ie.length)}}},{key:"insertBefore",value:function(z,Q){var te=this.children.head;o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertBefore",this).call(this,z,Q),te instanceof y.default&&te.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"length",this).call(this)+A),this.cache.length}},{key:"moveChildren",value:function(z,Q){o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"moveChildren",this).call(this,z,Q),this.cache={}}},{key:"optimize",value:function(z){o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"optimize",this).call(this,z),this.cache={}}},{key:"path",value:function(z){return o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"path",this).call(this,z,!0)}},{key:"removeChild",value:function(z){o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"removeChild",this).call(this,z),this.cache={}}},{key:"split",value:function(z){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Q&&(z===0||z>=this.length()-A)){var te=this.clone();return z===0?(this.parent.insertBefore(te,this),this):(this.parent.insertBefore(te,this.next),te)}else{var J=o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"split",this).call(this,z,Q);return this.cache={},J}}}]),T})(m.default.Block);M.blotName="block",M.tagName="P",M.defaultChild="break",M.allowedChildren=[g.default,m.default.Embed,w.default];function F(E){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return E==null||(typeof E.formats=="function"&&(T=(0,c.default)(T,E.formats())),E.parent==null||E.parent.blotName=="scroll"||E.parent.statics.scope!==E.statics.scope)?T:F(E.parent,T)}n.bubbleFormats=F,n.BlockEmbed=O,n.default=M}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.overload=n.expandConfig=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X},o=(function(){function X(Z,q){var C=[],U=!0,W=!1,B=void 0;try{for(var K=Z[Symbol.iterator](),re;!(U=(re=K.next()).done)&&(C.push(re.value),!(q&&C.length===q));U=!0);}catch(fe){W=!0,B=fe}finally{try{!U&&K.return&&K.return()}finally{if(W)throw B}}return C}return function(Z,q){if(Array.isArray(Z))return Z;if(Symbol.iterator in Object(Z))return X(Z,q);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function X(Z,q){for(var C=0;C<q.length;C++){var U=q[C];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(Z,U.key,U)}}return function(Z,q,C){return q&&X(Z.prototype,q),C&&X(Z,C),Z}})();a(50);var c=a(2),u=F(c),d=a(14),h=F(d),m=a(8),p=F(m),y=a(9),v=F(y),g=a(0),b=F(g),w=a(15),j=F(w),N=a(3),S=F(N),P=a(10),A=F(P),O=a(34),M=F(O);function F(X){return X&&X.__esModule?X:{default:X}}function E(X,Z,q){return Z in X?Object.defineProperty(X,Z,{value:q,enumerable:!0,configurable:!0,writable:!0}):X[Z]=q,X}function T(X,Z){if(!(X instanceof Z))throw new TypeError("Cannot call a class as a function")}var I=(0,A.default)("quill"),z=(function(){l(X,null,[{key:"debug",value:function(q){q===!0&&(q="log"),A.default.level(q)}},{key:"find",value:function(q){return q.__quill||b.default.find(q)}},{key:"import",value:function(q){return this.imports[q]==null&&I.error("Cannot import "+q+". Are you sure it was registered?"),this.imports[q]}},{key:"register",value:function(q,C){var U=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof q!="string"){var B=q.attrName||q.blotName;typeof B=="string"?this.register("formats/"+B,q,C):Object.keys(q).forEach(function(K){U.register(K,q[K],C)})}else this.imports[q]!=null&&!W&&I.warn("Overwriting "+q+" with",C),this.imports[q]=C,(q.startsWith("blots/")||q.startsWith("formats/"))&&C.blotName!=="abstract"?b.default.register(C):q.startsWith("modules")&&typeof C.register=="function"&&C.register()}}]);function X(Z){var q=this,C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(T(this,X),this.options=Q(Z,C),this.container=this.options.container,this.container==null)return I.error("Invalid Quill container",Z);this.options.debug&&X.debug(this.options.debug);var U=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new p.default,this.scroll=b.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new h.default(this.scroll),this.selection=new j.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(p.default.events.EDITOR_CHANGE,function(B){B===p.default.events.TEXT_CHANGE&&q.root.classList.toggle("ql-blank",q.editor.isBlank())}),this.emitter.on(p.default.events.SCROLL_UPDATE,function(B,K){var re=q.selection.lastRange,fe=re&&re.length===0?re.index:void 0;te.call(q,function(){return q.editor.update(null,K,fe)},B)});var W=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+U+"<p><br></p></div>");this.setContents(W),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return l(X,[{key:"addContainer",value:function(q){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof q=="string"){var U=q;q=document.createElement("div"),q.classList.add(U)}return this.container.insertBefore(q,C),q}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(q,C,U){var W=this,B=J(q,C,U),K=o(B,4);return q=K[0],C=K[1],U=K[3],te.call(this,function(){return W.editor.deleteText(q,C)},U,q,-1*C)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(q),this.container.classList.toggle("ql-disabled",!q)}},{key:"focus",value:function(){var q=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=q,this.scrollIntoView()}},{key:"format",value:function(q,C){var U=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;return te.call(this,function(){var B=U.getSelection(!0),K=new u.default;if(B==null)return K;if(b.default.query(q,b.default.Scope.BLOCK))K=U.editor.formatLine(B.index,B.length,E({},q,C));else{if(B.length===0)return U.selection.format(q,C),K;K=U.editor.formatText(B.index,B.length,E({},q,C))}return U.setSelection(B,p.default.sources.SILENT),K},W)}},{key:"formatLine",value:function(q,C,U,W,B){var K=this,re=void 0,fe=J(q,C,U,W,B),ce=o(fe,4);return q=ce[0],C=ce[1],re=ce[2],B=ce[3],te.call(this,function(){return K.editor.formatLine(q,C,re)},B,q,0)}},{key:"formatText",value:function(q,C,U,W,B){var K=this,re=void 0,fe=J(q,C,U,W,B),ce=o(fe,4);return q=ce[0],C=ce[1],re=ce[2],B=ce[3],te.call(this,function(){return K.editor.formatText(q,C,re)},B,q,0)}},{key:"getBounds",value:function(q){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,U=void 0;typeof q=="number"?U=this.selection.getBounds(q,C):U=this.selection.getBounds(q.index,q.length);var W=this.container.getBoundingClientRect();return{bottom:U.bottom-W.top,height:U.height,left:U.left-W.left,right:U.right-W.left,top:U.top-W.top,width:U.width}}},{key:"getContents",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-q,U=J(q,C),W=o(U,2);return q=W[0],C=W[1],this.editor.getContents(q,C)}},{key:"getFormat",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof q=="number"?this.editor.getFormat(q,C):this.editor.getFormat(q.index,q.length)}},{key:"getIndex",value:function(q){return q.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(q){return this.scroll.leaf(q)}},{key:"getLine",value:function(q){return this.scroll.line(q)}},{key:"getLines",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof q!="number"?this.scroll.lines(q.index,q.length):this.scroll.lines(q,C)}},{key:"getModule",value:function(q){return this.theme.modules[q]}},{key:"getSelection",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return q&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-q,U=J(q,C),W=o(U,2);return q=W[0],C=W[1],this.editor.getText(q,C)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(q,C,U){var W=this,B=arguments.length>3&&arguments[3]!==void 0?arguments[3]:X.sources.API;return te.call(this,function(){return W.editor.insertEmbed(q,C,U)},B,q)}},{key:"insertText",value:function(q,C,U,W,B){var K=this,re=void 0,fe=J(q,0,U,W,B),ce=o(fe,4);return q=ce[0],re=ce[2],B=ce[3],te.call(this,function(){return K.editor.insertText(q,C,re)},B,q,C.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(q,C,U){this.clipboard.dangerouslyPasteHTML(q,C,U)}},{key:"removeFormat",value:function(q,C,U){var W=this,B=J(q,C,U),K=o(B,4);return q=K[0],C=K[1],U=K[3],te.call(this,function(){return W.editor.removeFormat(q,C)},U,q)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(q){var C=this,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return te.call(this,function(){q=new u.default(q);var W=C.getLength(),B=C.editor.deleteText(0,W),K=C.editor.applyDelta(q),re=K.ops[K.ops.length-1];re!=null&&typeof re.insert=="string"&&re.insert[re.insert.length-1]===`
`&&(C.editor.deleteText(C.getLength()-1,1),K.delete(1));var fe=B.compose(K);return fe},U)}},{key:"setSelection",value:function(q,C,U){if(q==null)this.selection.setRange(null,C||X.sources.API);else{var W=J(q,C,U),B=o(W,4);q=B[0],C=B[1],U=B[3],this.selection.setRange(new w.Range(q,C),U),U!==p.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(q){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API,U=new u.default().insert(q);return this.setContents(U,C)}},{key:"update",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,C=this.scroll.update(q);return this.selection.update(q),C}},{key:"updateContents",value:function(q){var C=this,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return te.call(this,function(){return q=new u.default(q),C.editor.applyDelta(q,U)},U,!0)}}]),X})();z.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},z.events=p.default.events,z.sources=p.default.sources,z.version="1.3.7",z.imports={delta:u.default,parchment:b.default,"core/module":v.default,"core/theme":M.default};function Q(X,Z){if(Z=(0,S.default)(!0,{container:X,modules:{clipboard:!0,keyboard:!0,history:!0}},Z),!Z.theme||Z.theme===z.DEFAULTS.theme)Z.theme=M.default;else if(Z.theme=z.import("themes/"+Z.theme),Z.theme==null)throw new Error("Invalid theme "+Z.theme+". Did you register it?");var q=(0,S.default)(!0,{},Z.theme.DEFAULTS);[q,Z].forEach(function(W){W.modules=W.modules||{},Object.keys(W.modules).forEach(function(B){W.modules[B]===!0&&(W.modules[B]={})})});var C=Object.keys(q.modules).concat(Object.keys(Z.modules)),U=C.reduce(function(W,B){var K=z.import("modules/"+B);return K==null?I.error("Cannot load "+B+" module. Are you sure you registered it?"):W[B]=K.DEFAULTS||{},W},{});return Z.modules!=null&&Z.modules.toolbar&&Z.modules.toolbar.constructor!==Object&&(Z.modules.toolbar={container:Z.modules.toolbar}),Z=(0,S.default)(!0,{},z.DEFAULTS,{modules:U},q,Z),["bounds","container","scrollingContainer"].forEach(function(W){typeof Z[W]=="string"&&(Z[W]=document.querySelector(Z[W]))}),Z.modules=Object.keys(Z.modules).reduce(function(W,B){return Z.modules[B]&&(W[B]=Z.modules[B]),W},{}),Z}function te(X,Z,q,C){if(this.options.strict&&!this.isEnabled()&&Z===p.default.sources.USER)return new u.default;var U=q==null?null:this.getSelection(),W=this.editor.delta,B=X();if(U!=null&&(q===!0&&(q=U.index),C==null?U=ie(U,B,Z):C!==0&&(U=ie(U,q,C,Z)),this.setSelection(U,p.default.sources.SILENT)),B.length()>0){var K,re=[p.default.events.TEXT_CHANGE,B,W,Z];if((K=this.emitter).emit.apply(K,[p.default.events.EDITOR_CHANGE].concat(re)),Z!==p.default.sources.SILENT){var fe;(fe=this.emitter).emit.apply(fe,re)}}return B}function J(X,Z,q,C,U){var W={};return typeof X.index=="number"&&typeof X.length=="number"?typeof Z!="number"?(U=C,C=q,q=Z,Z=X.length,X=X.index):(Z=X.length,X=X.index):typeof Z!="number"&&(U=C,C=q,q=Z,Z=0),(typeof q>"u"?"undefined":s(q))==="object"?(W=q,U=C):typeof q=="string"&&(C!=null?W[q]=C:U=q),U=U||p.default.sources.API,[X,Z,W,U]}function ie(X,Z,q,C){if(X==null)return null;var U=void 0,W=void 0;if(Z instanceof u.default){var B=[X.index,X.index+X.length].map(function(ce){return Z.transformPosition(ce,C!==p.default.sources.USER)}),K=o(B,2);U=K[0],W=K[1]}else{var re=[X.index,X.index+X.length].map(function(ce){return ce<Z||ce===Z&&C===p.default.sources.USER?ce:q>=0?ce+q:Math.max(Z,ce+q)}),fe=o(re,2);U=fe[0],W=fe[1]}return new w.Range(U,W-U)}n.expandConfig=Q,n.overload=J,n.default=z}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=(function(){function g(b,w){for(var j=0;j<w.length;j++){var N=w[j];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(b,N.key,N)}}return function(b,w,j){return w&&g(b.prototype,w),j&&g(b,j),b}})(),o=function g(b,w,j){b===null&&(b=Function.prototype);var N=Object.getOwnPropertyDescriptor(b,w);if(N===void 0){var S=Object.getPrototypeOf(b);return S===null?void 0:g(S,w,j)}else{if("value"in N)return N.value;var P=N.get;return P===void 0?void 0:P.call(j)}},l=a(7),c=h(l),u=a(0),d=h(u);function h(g){return g&&g.__esModule?g:{default:g}}function m(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}function p(g,b){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:g}function y(g,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);g.prototype=Object.create(b&&b.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(g,b):g.__proto__=b)}var v=(function(g){y(b,g);function b(){return m(this,b),p(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"formatAt",value:function(j,N,S,P){if(b.compare(this.statics.blotName,S)<0&&d.default.query(S,d.default.Scope.BLOT)){var A=this.isolate(j,N);P&&A.wrap(S,P)}else o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"formatAt",this).call(this,j,N,S,P)}},{key:"optimize",value:function(j){if(o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"optimize",this).call(this,j),this.parent instanceof b&&b.compare(this.statics.blotName,this.parent.statics.blotName)>0){var N=this.parent.isolate(this.offset(),this.length());this.moveChildren(N),N.wrap(this)}}}],[{key:"compare",value:function(j,N){var S=b.order.indexOf(j),P=b.order.indexOf(N);return S>=0||P>=0?S-P:j===N?0:j<N?-1:1}}]),b})(d.default.Inline);v.allowedChildren=[v,d.default.Embed,c.default],v.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],n.default=v}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=a(0),o=l(s);function l(m){return m&&m.__esModule?m:{default:m}}function c(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function u(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function d(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var h=(function(m){d(p,m);function p(){return c(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(o.default.Text);n.default=h}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=(function(){function w(j,N){for(var S=0;S<N.length;S++){var P=N[S];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(j,P.key,P)}}return function(j,N,S){return N&&w(j.prototype,N),S&&w(j,S),j}})(),o=function w(j,N,S){j===null&&(j=Function.prototype);var P=Object.getOwnPropertyDescriptor(j,N);if(P===void 0){var A=Object.getPrototypeOf(j);return A===null?void 0:w(A,N,S)}else{if("value"in P)return P.value;var O=P.get;return O===void 0?void 0:O.call(S)}},l=a(54),c=h(l),u=a(10),d=h(u);function h(w){return w&&w.__esModule?w:{default:w}}function m(w,j){if(!(w instanceof j))throw new TypeError("Cannot call a class as a function")}function p(w,j){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:w}function y(w,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);w.prototype=Object.create(j&&j.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(w,j):w.__proto__=j)}var v=(0,d.default)("quill:events"),g=["selectionchange","mousedown","mouseup","click"];g.forEach(function(w){document.addEventListener(w,function(){for(var j=arguments.length,N=Array(j),S=0;S<j;S++)N[S]=arguments[S];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(P){if(P.__quill&&P.__quill.emitter){var A;(A=P.__quill.emitter).handleDOM.apply(A,N)}})})});var b=(function(w){y(j,w);function j(){m(this,j);var N=p(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return N.listeners={},N.on("error",v.error),N}return s(j,[{key:"emit",value:function(){v.log.apply(v,arguments),o(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(S){for(var P=arguments.length,A=Array(P>1?P-1:0),O=1;O<P;O++)A[O-1]=arguments[O];(this.listeners[S.type]||[]).forEach(function(M){var F=M.node,E=M.handler;(S.target===F||F.contains(S.target))&&E.apply(void 0,[S].concat(A))})}},{key:"listenDOM",value:function(S,P,A){this.listeners[S]||(this.listeners[S]=[]),this.listeners[S].push({node:P,handler:A})}}]),j})(c.default);b.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},b.sources={API:"api",SILENT:"silent",USER:"user"},n.default=b}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});function s(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var o=function l(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s(this,l),this.quill=c,this.options=u};o.DEFAULTS={},n.default=o}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=["error","warn","log","info"],o="warn";function l(u){if(s.indexOf(u)<=s.indexOf(o)){for(var d,h=arguments.length,m=Array(h>1?h-1:0),p=1;p<h;p++)m[p-1]=arguments[p];(d=console)[u].apply(d,m)}}function c(u){return s.reduce(function(d,h){return d[h]=l.bind(console,h,u),d},{})}l.level=c.level=function(u){o=u},n.default=c}),(function(r,n,a){var s=Array.prototype.slice,o=a(52),l=a(53),c=r.exports=function(m,p,y){return y||(y={}),m===p?!0:m instanceof Date&&p instanceof Date?m.getTime()===p.getTime():!m||!p||typeof m!="object"&&typeof p!="object"?y.strict?m===p:m==p:h(m,p,y)};function u(m){return m==null}function d(m){return!(!m||typeof m!="object"||typeof m.length!="number"||typeof m.copy!="function"||typeof m.slice!="function"||m.length>0&&typeof m[0]!="number")}function h(m,p,y){var v,g;if(u(m)||u(p)||m.prototype!==p.prototype)return!1;if(l(m))return l(p)?(m=s.call(m),p=s.call(p),c(m,p,y)):!1;if(d(m)){if(!d(p)||m.length!==p.length)return!1;for(v=0;v<m.length;v++)if(m[v]!==p[v])return!1;return!0}try{var b=o(m),w=o(p)}catch{return!1}if(b.length!=w.length)return!1;for(b.sort(),w.sort(),v=b.length-1;v>=0;v--)if(b[v]!=w[v])return!1;for(v=b.length-1;v>=0;v--)if(g=b[v],!c(m[g],p[g],y))return!1;return typeof m==typeof p}}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=a(1),o=(function(){function l(c,u,d){d===void 0&&(d={}),this.attrName=c,this.keyName=u;var h=s.Scope.TYPE&s.Scope.ATTRIBUTE;d.scope!=null?this.scope=d.scope&s.Scope.LEVEL|h:this.scope=s.Scope.ATTRIBUTE,d.whitelist!=null&&(this.whitelist=d.whitelist)}return l.keys=function(c){return[].map.call(c.attributes,function(u){return u.name})},l.prototype.add=function(c,u){return this.canAdd(c,u)?(c.setAttribute(this.keyName,u),!0):!1},l.prototype.canAdd=function(c,u){var d=s.query(c,s.Scope.BLOT&(this.scope|s.Scope.TYPE));return d==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},l.prototype.remove=function(c){c.removeAttribute(this.keyName)},l.prototype.value=function(c){var u=c.getAttribute(this.keyName);return this.canAdd(c,u)&&u?u:""},l})();n.default=o}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Code=void 0;var s=(function(){function O(M,F){var E=[],T=!0,I=!1,z=void 0;try{for(var Q=M[Symbol.iterator](),te;!(T=(te=Q.next()).done)&&(E.push(te.value),!(F&&E.length===F));T=!0);}catch(J){I=!0,z=J}finally{try{!T&&Q.return&&Q.return()}finally{if(I)throw z}}return E}return function(M,F){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return O(M,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function O(M,F){for(var E=0;E<F.length;E++){var T=F[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(M,T.key,T)}}return function(M,F,E){return F&&O(M.prototype,F),E&&O(M,E),M}})(),l=function O(M,F,E){M===null&&(M=Function.prototype);var T=Object.getOwnPropertyDescriptor(M,F);if(T===void 0){var I=Object.getPrototypeOf(M);return I===null?void 0:O(I,F,E)}else{if("value"in T)return T.value;var z=T.get;return z===void 0?void 0:z.call(E)}},c=a(2),u=w(c),d=a(0),h=w(d),m=a(4),p=w(m),y=a(6),v=w(y),g=a(7),b=w(g);function w(O){return O&&O.__esModule?O:{default:O}}function j(O,M){if(!(O instanceof M))throw new TypeError("Cannot call a class as a function")}function N(O,M){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:O}function S(O,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);O.prototype=Object.create(M&&M.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(O,M):O.__proto__=M)}var P=(function(O){S(M,O);function M(){return j(this,M),N(this,(M.__proto__||Object.getPrototypeOf(M)).apply(this,arguments))}return M})(v.default);P.blotName="code",P.tagName="CODE";var A=(function(O){S(M,O);function M(){return j(this,M),N(this,(M.__proto__||Object.getPrototypeOf(M)).apply(this,arguments))}return o(M,[{key:"delta",value:function(){var E=this,T=this.domNode.textContent;return T.endsWith(`
`)&&(T=T.slice(0,-1)),T.split(`
`).reduce(function(I,z){return I.insert(z).insert(`
`,E.formats())},new u.default)}},{key:"format",value:function(E,T){if(!(E===this.statics.blotName&&T)){var I=this.descendant(b.default,this.length()-1),z=s(I,1),Q=z[0];Q?.deleteAt(Q.length()-1,1),l(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"format",this).call(this,E,T)}}},{key:"formatAt",value:function(E,T,I,z){if(T!==0&&!(h.default.query(I,h.default.Scope.BLOCK)==null||I===this.statics.blotName&&z===this.statics.formats(this.domNode))){var Q=this.newlineIndex(E);if(!(Q<0||Q>=E+T)){var te=this.newlineIndex(E,!0)+1,J=Q-te+1,ie=this.isolate(te,J),X=ie.next;ie.format(I,z),X instanceof M&&X.formatAt(0,E-te+T-J,I,z)}}}},{key:"insertAt",value:function(E,T,I){if(I==null){var z=this.descendant(b.default,E),Q=s(z,2),te=Q[0],J=Q[1];te.insertAt(J,T)}}},{key:"length",value:function(){var E=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?E:E+1}},{key:"newlineIndex",value:function(E){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(T)return this.domNode.textContent.slice(0,E).lastIndexOf(`
`);var I=this.domNode.textContent.slice(E).indexOf(`
`);return I>-1?E+I:-1}},{key:"optimize",value:function(E){this.domNode.textContent.endsWith(`
`)||this.appendChild(h.default.create("text",`
`)),l(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"optimize",this).call(this,E);var T=this.next;T!=null&&T.prev===this&&T.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===T.statics.formats(T.domNode)&&(T.optimize(E),T.moveChildren(this),T.remove())}},{key:"replace",value:function(E){l(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"replace",this).call(this,E),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(T){var I=h.default.find(T);I==null?T.parentNode.removeChild(T):I instanceof h.default.Embed?I.remove():I.unwrap()})}}],[{key:"create",value:function(E){var T=l(M.__proto__||Object.getPrototypeOf(M),"create",this).call(this,E);return T.setAttribute("spellcheck",!1),T}},{key:"formats",value:function(){return!0}}]),M})(p.default);A.blotName="code-block",A.tagName="PRE",A.TAB="  ",n.Code=P,n.default=A}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X},o=(function(){function X(Z,q){var C=[],U=!0,W=!1,B=void 0;try{for(var K=Z[Symbol.iterator](),re;!(U=(re=K.next()).done)&&(C.push(re.value),!(q&&C.length===q));U=!0);}catch(fe){W=!0,B=fe}finally{try{!U&&K.return&&K.return()}finally{if(W)throw B}}return C}return function(Z,q){if(Array.isArray(Z))return Z;if(Symbol.iterator in Object(Z))return X(Z,q);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function X(Z,q){for(var C=0;C<q.length;C++){var U=q[C];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(Z,U.key,U)}}return function(Z,q,C){return q&&X(Z.prototype,q),C&&X(Z,C),Z}})(),c=a(2),u=T(c),d=a(20),h=T(d),m=a(0),p=T(m),y=a(13),v=T(y),g=a(24),b=T(g),w=a(4),j=T(w),N=a(16),S=T(N),P=a(21),A=T(P),O=a(11),M=T(O),F=a(3),E=T(F);function T(X){return X&&X.__esModule?X:{default:X}}function I(X,Z,q){return Z in X?Object.defineProperty(X,Z,{value:q,enumerable:!0,configurable:!0,writable:!0}):X[Z]=q,X}function z(X,Z){if(!(X instanceof Z))throw new TypeError("Cannot call a class as a function")}var Q=/^[ -~]*$/,te=(function(){function X(Z){z(this,X),this.scroll=Z,this.delta=this.getDelta()}return l(X,[{key:"applyDelta",value:function(q){var C=this,U=!1;this.scroll.update();var W=this.scroll.length();return this.scroll.batchStart(),q=ie(q),q.reduce(function(B,K){var re=K.retain||K.delete||K.insert.length||1,fe=K.attributes||{};if(K.insert!=null){if(typeof K.insert=="string"){var ce=K.insert;ce.endsWith(`
`)&&U&&(U=!1,ce=ce.slice(0,-1)),B>=W&&!ce.endsWith(`
`)&&(U=!0),C.scroll.insertAt(B,ce);var he=C.scroll.line(B),Oe=o(he,2),ee=Oe[0],De=Oe[1],je=(0,E.default)({},(0,w.bubbleFormats)(ee));if(ee instanceof j.default){var oe=ee.descendant(p.default.Leaf,De),ue=o(oe,1),_e=ue[0];je=(0,E.default)(je,(0,w.bubbleFormats)(_e))}fe=h.default.attributes.diff(je,fe)||{}}else if(s(K.insert)==="object"){var Se=Object.keys(K.insert)[0];if(Se==null)return B;C.scroll.insertAt(B,Se,K.insert[Se])}W+=re}return Object.keys(fe).forEach(function(Pe){C.scroll.formatAt(B,re,Pe,fe[Pe])}),B+re},0),q.reduce(function(B,K){return typeof K.delete=="number"?(C.scroll.deleteAt(B,K.delete),B):B+(K.retain||K.insert.length||1)},0),this.scroll.batchEnd(),this.update(q)}},{key:"deleteText",value:function(q,C){return this.scroll.deleteAt(q,C),this.update(new u.default().retain(q).delete(C))}},{key:"formatLine",value:function(q,C){var U=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(W).forEach(function(B){if(!(U.scroll.whitelist!=null&&!U.scroll.whitelist[B])){var K=U.scroll.lines(q,Math.max(C,1)),re=C;K.forEach(function(fe){var ce=fe.length();if(!(fe instanceof v.default))fe.format(B,W[B]);else{var he=q-fe.offset(U.scroll),Oe=fe.newlineIndex(he+re)-he+1;fe.formatAt(he,Oe,B,W[B])}re-=ce})}}),this.scroll.optimize(),this.update(new u.default().retain(q).retain(C,(0,A.default)(W)))}},{key:"formatText",value:function(q,C){var U=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(W).forEach(function(B){U.scroll.formatAt(q,C,B,W[B])}),this.update(new u.default().retain(q).retain(C,(0,A.default)(W)))}},{key:"getContents",value:function(q,C){return this.delta.slice(q,q+C)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(q,C){return q.concat(C.delta())},new u.default)}},{key:"getFormat",value:function(q){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,U=[],W=[];C===0?this.scroll.path(q).forEach(function(K){var re=o(K,1),fe=re[0];fe instanceof j.default?U.push(fe):fe instanceof p.default.Leaf&&W.push(fe)}):(U=this.scroll.lines(q,C),W=this.scroll.descendants(p.default.Leaf,q,C));var B=[U,W].map(function(K){if(K.length===0)return{};for(var re=(0,w.bubbleFormats)(K.shift());Object.keys(re).length>0;){var fe=K.shift();if(fe==null)return re;re=J((0,w.bubbleFormats)(fe),re)}return re});return E.default.apply(E.default,B)}},{key:"getText",value:function(q,C){return this.getContents(q,C).filter(function(U){return typeof U.insert=="string"}).map(function(U){return U.insert}).join("")}},{key:"insertEmbed",value:function(q,C,U){return this.scroll.insertAt(q,C,U),this.update(new u.default().retain(q).insert(I({},C,U)))}},{key:"insertText",value:function(q,C){var U=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return C=C.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(q,C),Object.keys(W).forEach(function(B){U.scroll.formatAt(q,C.length,B,W[B])}),this.update(new u.default().retain(q).insert(C,(0,A.default)(W)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var q=this.scroll.children.head;return q.statics.blotName!==j.default.blotName||q.children.length>1?!1:q.children.head instanceof S.default}},{key:"removeFormat",value:function(q,C){var U=this.getText(q,C),W=this.scroll.line(q+C),B=o(W,2),K=B[0],re=B[1],fe=0,ce=new u.default;K!=null&&(K instanceof v.default?fe=K.newlineIndex(re)-re+1:fe=K.length()-re,ce=K.delta().slice(re,re+fe-1).insert(`
`));var he=this.getContents(q,C+fe),Oe=he.diff(new u.default().insert(U).concat(ce)),ee=new u.default().retain(q).concat(Oe);return this.applyDelta(ee)}},{key:"update",value:function(q){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,W=this.delta;if(C.length===1&&C[0].type==="characterData"&&C[0].target.data.match(Q)&&p.default.find(C[0].target)){var B=p.default.find(C[0].target),K=(0,w.bubbleFormats)(B),re=B.offset(this.scroll),fe=C[0].oldValue.replace(b.default.CONTENTS,""),ce=new u.default().insert(fe),he=new u.default().insert(B.value()),Oe=new u.default().retain(re).concat(ce.diff(he,U));q=Oe.reduce(function(ee,De){return De.insert?ee.insert(De.insert,K):ee.push(De)},new u.default),this.delta=W.compose(q)}else this.delta=this.getDelta(),(!q||!(0,M.default)(W.compose(q),this.delta))&&(q=W.diff(this.delta,U));return q}}]),X})();function J(X,Z){return Object.keys(Z).reduce(function(q,C){return X[C]==null||(Z[C]===X[C]?q[C]=Z[C]:Array.isArray(Z[C])?Z[C].indexOf(X[C])<0&&(q[C]=Z[C].concat([X[C]])):q[C]=[Z[C],X[C]]),q},{})}function ie(X){return X.reduce(function(Z,q){if(q.insert===1){var C=(0,A.default)(q.attributes);return delete C.image,Z.insert({image:q.attributes.image},C)}if(q.attributes!=null&&(q.attributes.list===!0||q.attributes.bullet===!0)&&(q=(0,A.default)(q),q.attributes.list?q.attributes.list="ordered":(q.attributes.list="bullet",delete q.attributes.bullet)),typeof q.insert=="string"){var U=q.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return Z.insert(U,q.attributes)}return Z.push(q)},new u.default)}n.default=te}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Range=void 0;var s=(function(){function O(M,F){var E=[],T=!0,I=!1,z=void 0;try{for(var Q=M[Symbol.iterator](),te;!(T=(te=Q.next()).done)&&(E.push(te.value),!(F&&E.length===F));T=!0);}catch(J){I=!0,z=J}finally{try{!T&&Q.return&&Q.return()}finally{if(I)throw z}}return E}return function(M,F){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return O(M,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function O(M,F){for(var E=0;E<F.length;E++){var T=F[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(M,T.key,T)}}return function(M,F,E){return F&&O(M.prototype,F),E&&O(M,E),M}})(),l=a(0),c=b(l),u=a(21),d=b(u),h=a(11),m=b(h),p=a(8),y=b(p),v=a(10),g=b(v);function b(O){return O&&O.__esModule?O:{default:O}}function w(O){if(Array.isArray(O)){for(var M=0,F=Array(O.length);M<O.length;M++)F[M]=O[M];return F}else return Array.from(O)}function j(O,M){if(!(O instanceof M))throw new TypeError("Cannot call a class as a function")}var N=(0,g.default)("quill:selection"),S=function O(M){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;j(this,O),this.index=M,this.length=F},P=(function(){function O(M,F){var E=this;j(this,O),this.emitter=F,this.scroll=M,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=c.default.create("cursor",this),this.lastRange=this.savedRange=new S(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){E.mouseDown||setTimeout(E.update.bind(E,y.default.sources.USER),1)}),this.emitter.on(y.default.events.EDITOR_CHANGE,function(T,I){T===y.default.events.TEXT_CHANGE&&I.length()>0&&E.update(y.default.sources.SILENT)}),this.emitter.on(y.default.events.SCROLL_BEFORE_UPDATE,function(){if(E.hasFocus()){var T=E.getNativeRange();T!=null&&T.start.node!==E.cursor.textNode&&E.emitter.once(y.default.events.SCROLL_UPDATE,function(){try{E.setNativeRange(T.start.node,T.start.offset,T.end.node,T.end.offset)}catch{}})}}),this.emitter.on(y.default.events.SCROLL_OPTIMIZE,function(T,I){if(I.range){var z=I.range,Q=z.startNode,te=z.startOffset,J=z.endNode,ie=z.endOffset;E.setNativeRange(Q,te,J,ie)}}),this.update(y.default.sources.SILENT)}return o(O,[{key:"handleComposition",value:function(){var F=this;this.root.addEventListener("compositionstart",function(){F.composing=!0}),this.root.addEventListener("compositionend",function(){if(F.composing=!1,F.cursor.parent){var E=F.cursor.restore();if(!E)return;setTimeout(function(){F.setNativeRange(E.startNode,E.startOffset,E.endNode,E.endOffset)},1)}})}},{key:"handleDragging",value:function(){var F=this;this.emitter.listenDOM("mousedown",document.body,function(){F.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){F.mouseDown=!1,F.update(y.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(F,E){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[F])){this.scroll.update();var T=this.getNativeRange();if(!(T==null||!T.native.collapsed||c.default.query(F,c.default.Scope.BLOCK))){if(T.start.node!==this.cursor.textNode){var I=c.default.find(T.start.node,!1);if(I==null)return;if(I instanceof c.default.Leaf){var z=I.split(T.start.offset);I.parent.insertBefore(this.cursor,z)}else I.insertBefore(this.cursor,T.start.node);this.cursor.attach()}this.cursor.format(F,E),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(F){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,T=this.scroll.length();F=Math.min(F,T-1),E=Math.min(F+E,T-1)-F;var I=void 0,z=this.scroll.leaf(F),Q=s(z,2),te=Q[0],J=Q[1];if(te==null)return null;var ie=te.position(J,!0),X=s(ie,2);I=X[0],J=X[1];var Z=document.createRange();if(E>0){Z.setStart(I,J);var q=this.scroll.leaf(F+E),C=s(q,2);if(te=C[0],J=C[1],te==null)return null;var U=te.position(J,!0),W=s(U,2);return I=W[0],J=W[1],Z.setEnd(I,J),Z.getBoundingClientRect()}else{var B="left",K=void 0;return I instanceof Text?(J<I.data.length?(Z.setStart(I,J),Z.setEnd(I,J+1)):(Z.setStart(I,J-1),Z.setEnd(I,J),B="right"),K=Z.getBoundingClientRect()):(K=te.domNode.getBoundingClientRect(),J>0&&(B="right")),{bottom:K.top+K.height,height:K.height,left:K[B],right:K[B],top:K.top,width:0}}}},{key:"getNativeRange",value:function(){var F=document.getSelection();if(F==null||F.rangeCount<=0)return null;var E=F.getRangeAt(0);if(E==null)return null;var T=this.normalizeNative(E);return N.info("getNativeRange",T),T}},{key:"getRange",value:function(){var F=this.getNativeRange();if(F==null)return[null,null];var E=this.normalizedToRange(F);return[E,F]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(F){var E=this,T=[[F.start.node,F.start.offset]];F.native.collapsed||T.push([F.end.node,F.end.offset]);var I=T.map(function(te){var J=s(te,2),ie=J[0],X=J[1],Z=c.default.find(ie,!0),q=Z.offset(E.scroll);return X===0?q:Z instanceof c.default.Container?q+Z.length():q+Z.index(ie,X)}),z=Math.min(Math.max.apply(Math,w(I)),this.scroll.length()-1),Q=Math.min.apply(Math,[z].concat(w(I)));return new S(Q,z-Q)}},{key:"normalizeNative",value:function(F){if(!A(this.root,F.startContainer)||!F.collapsed&&!A(this.root,F.endContainer))return null;var E={start:{node:F.startContainer,offset:F.startOffset},end:{node:F.endContainer,offset:F.endOffset},native:F};return[E.start,E.end].forEach(function(T){for(var I=T.node,z=T.offset;!(I instanceof Text)&&I.childNodes.length>0;)if(I.childNodes.length>z)I=I.childNodes[z],z=0;else if(I.childNodes.length===z)I=I.lastChild,z=I instanceof Text?I.data.length:I.childNodes.length+1;else break;T.node=I,T.offset=z}),E}},{key:"rangeToNative",value:function(F){var E=this,T=F.collapsed?[F.index]:[F.index,F.index+F.length],I=[],z=this.scroll.length();return T.forEach(function(Q,te){Q=Math.min(z-1,Q);var J=void 0,ie=E.scroll.leaf(Q),X=s(ie,2),Z=X[0],q=X[1],C=Z.position(q,te!==0),U=s(C,2);J=U[0],q=U[1],I.push(J,q)}),I.length<2&&(I=I.concat(I)),I}},{key:"scrollIntoView",value:function(F){var E=this.lastRange;if(E!=null){var T=this.getBounds(E.index,E.length);if(T!=null){var I=this.scroll.length()-1,z=this.scroll.line(Math.min(E.index,I)),Q=s(z,1),te=Q[0],J=te;if(E.length>0){var ie=this.scroll.line(Math.min(E.index+E.length,I)),X=s(ie,1);J=X[0]}if(!(te==null||J==null)){var Z=F.getBoundingClientRect();T.top<Z.top?F.scrollTop-=Z.top-T.top:T.bottom>Z.bottom&&(F.scrollTop+=T.bottom-Z.bottom)}}}}},{key:"setNativeRange",value:function(F,E){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:F,I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:E,z=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(N.info("setNativeRange",F,E,T,I),!(F!=null&&(this.root.parentNode==null||F.parentNode==null||T.parentNode==null))){var Q=document.getSelection();if(Q!=null)if(F!=null){this.hasFocus()||this.root.focus();var te=(this.getNativeRange()||{}).native;if(te==null||z||F!==te.startContainer||E!==te.startOffset||T!==te.endContainer||I!==te.endOffset){F.tagName=="BR"&&(E=[].indexOf.call(F.parentNode.childNodes,F),F=F.parentNode),T.tagName=="BR"&&(I=[].indexOf.call(T.parentNode.childNodes,T),T=T.parentNode);var J=document.createRange();J.setStart(F,E),J.setEnd(T,I),Q.removeAllRanges(),Q.addRange(J)}}else Q.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(F){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;if(typeof E=="string"&&(T=E,E=!1),N.info("setRange",F),F!=null){var I=this.rangeToNative(F);this.setNativeRange.apply(this,w(I).concat([E]))}else this.setNativeRange(null);this.update(T)}},{key:"update",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y.default.sources.USER,E=this.lastRange,T=this.getRange(),I=s(T,2),z=I[0],Q=I[1];if(this.lastRange=z,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,m.default)(E,this.lastRange)){var te;!this.composing&&Q!=null&&Q.native.collapsed&&Q.start.node!==this.cursor.textNode&&this.cursor.restore();var J=[y.default.events.SELECTION_CHANGE,(0,d.default)(this.lastRange),(0,d.default)(E),F];if((te=this.emitter).emit.apply(te,[y.default.events.EDITOR_CHANGE].concat(J)),F!==y.default.sources.SILENT){var ie;(ie=this.emitter).emit.apply(ie,J)}}}}]),O})();function A(O,M){try{M.parentNode}catch{return!1}return M instanceof Text&&(M=M.parentNode),O.contains(M)}n.Range=S,n.default=P}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=(function(){function y(v,g){for(var b=0;b<g.length;b++){var w=g[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(v,w.key,w)}}return function(v,g,b){return g&&y(v.prototype,g),b&&y(v,b),v}})(),o=function y(v,g,b){v===null&&(v=Function.prototype);var w=Object.getOwnPropertyDescriptor(v,g);if(w===void 0){var j=Object.getPrototypeOf(v);return j===null?void 0:y(j,g,b)}else{if("value"in w)return w.value;var N=w.get;return N===void 0?void 0:N.call(b)}},l=a(0),c=u(l);function u(y){return y&&y.__esModule?y:{default:y}}function d(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function h(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function m(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var p=(function(y){m(v,y);function v(){return d(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return s(v,[{key:"insertInto",value:function(b,w){b.children.length===0?o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"insertInto",this).call(this,b,w):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),v})(c.default.Embed);p.blotName="break",p.tagName="BR",n.default=p}),(function(r,n,a){var s=this&&this.__extends||(function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,p){m.__proto__=p}||function(m,p){for(var y in p)p.hasOwnProperty(y)&&(m[y]=p[y])};return function(m,p){h(m,p);function y(){this.constructor=m}m.prototype=p===null?Object.create(p):(y.prototype=p.prototype,new y)}})();Object.defineProperty(n,"__esModule",{value:!0});var o=a(44),l=a(30),c=a(1),u=(function(h){s(m,h);function m(p){var y=h.call(this,p)||this;return y.build(),y}return m.prototype.appendChild=function(p){this.insertBefore(p)},m.prototype.attach=function(){h.prototype.attach.call(this),this.children.forEach(function(p){p.attach()})},m.prototype.build=function(){var p=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(y){try{var v=d(y);p.insertBefore(v,p.children.head||void 0)}catch(g){if(g instanceof c.ParchmentError)return;throw g}})},m.prototype.deleteAt=function(p,y){if(p===0&&y===this.length())return this.remove();this.children.forEachAt(p,y,function(v,g,b){v.deleteAt(g,b)})},m.prototype.descendant=function(p,y){var v=this.children.find(y),g=v[0],b=v[1];return p.blotName==null&&p(g)||p.blotName!=null&&g instanceof p?[g,b]:g instanceof m?g.descendant(p,b):[null,-1]},m.prototype.descendants=function(p,y,v){y===void 0&&(y=0),v===void 0&&(v=Number.MAX_VALUE);var g=[],b=v;return this.children.forEachAt(y,v,function(w,j,N){(p.blotName==null&&p(w)||p.blotName!=null&&w instanceof p)&&g.push(w),w instanceof m&&(g=g.concat(w.descendants(p,j,b))),b-=N}),g},m.prototype.detach=function(){this.children.forEach(function(p){p.detach()}),h.prototype.detach.call(this)},m.prototype.formatAt=function(p,y,v,g){this.children.forEachAt(p,y,function(b,w,j){b.formatAt(w,j,v,g)})},m.prototype.insertAt=function(p,y,v){var g=this.children.find(p),b=g[0],w=g[1];if(b)b.insertAt(w,y,v);else{var j=v==null?c.create("text",y):c.create(y,v);this.appendChild(j)}},m.prototype.insertBefore=function(p,y){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(v){return p instanceof v}))throw new c.ParchmentError("Cannot insert "+p.statics.blotName+" into "+this.statics.blotName);p.insertInto(this,y)},m.prototype.length=function(){return this.children.reduce(function(p,y){return p+y.length()},0)},m.prototype.moveChildren=function(p,y){this.children.forEach(function(v){p.insertBefore(v,y)})},m.prototype.optimize=function(p){if(h.prototype.optimize.call(this,p),this.children.length===0)if(this.statics.defaultChild!=null){var y=c.create(this.statics.defaultChild);this.appendChild(y),y.optimize(p)}else this.remove()},m.prototype.path=function(p,y){y===void 0&&(y=!1);var v=this.children.find(p,y),g=v[0],b=v[1],w=[[this,p]];return g instanceof m?w.concat(g.path(b,y)):(g!=null&&w.push([g,b]),w)},m.prototype.removeChild=function(p){this.children.remove(p)},m.prototype.replace=function(p){p instanceof m&&p.moveChildren(this),h.prototype.replace.call(this,p)},m.prototype.split=function(p,y){if(y===void 0&&(y=!1),!y){if(p===0)return this;if(p===this.length())return this.next}var v=this.clone();return this.parent.insertBefore(v,this.next),this.children.forEachAt(p,this.length(),function(g,b,w){g=g.split(b,y),v.appendChild(g)}),v},m.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},m.prototype.update=function(p,y){var v=this,g=[],b=[];p.forEach(function(w){w.target===v.domNode&&w.type==="childList"&&(g.push.apply(g,w.addedNodes),b.push.apply(b,w.removedNodes))}),b.forEach(function(w){if(!(w.parentNode!=null&&w.tagName!=="IFRAME"&&document.body.compareDocumentPosition(w)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var j=c.find(w);j!=null&&(j.domNode.parentNode==null||j.domNode.parentNode===v.domNode)&&j.detach()}}),g.filter(function(w){return w.parentNode==v.domNode}).sort(function(w,j){return w===j?0:w.compareDocumentPosition(j)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(w){var j=null;w.nextSibling!=null&&(j=c.find(w.nextSibling));var N=d(w);(N.next!=j||N.next==null)&&(N.parent!=null&&N.parent.removeChild(v),v.insertBefore(N,j||void 0))})},m})(l.default);function d(h){var m=c.find(h);if(m==null)try{m=c.create(h)}catch{m=c.create(c.Scope.INLINE),[].slice.call(h.childNodes).forEach(function(y){m.domNode.appendChild(y)}),h.parentNode&&h.parentNode.replaceChild(m.domNode,h),m.attach()}return m}n.default=u}),(function(r,n,a){var s=this&&this.__extends||(function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,p){m.__proto__=p}||function(m,p){for(var y in p)p.hasOwnProperty(y)&&(m[y]=p[y])};return function(m,p){h(m,p);function y(){this.constructor=m}m.prototype=p===null?Object.create(p):(y.prototype=p.prototype,new y)}})();Object.defineProperty(n,"__esModule",{value:!0});var o=a(12),l=a(31),c=a(17),u=a(1),d=(function(h){s(m,h);function m(p){var y=h.call(this,p)||this;return y.attributes=new l.default(y.domNode),y}return m.formats=function(p){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return p.tagName.toLowerCase()},m.prototype.format=function(p,y){var v=u.query(p);v instanceof o.default?this.attributes.attribute(v,y):y&&v!=null&&(p!==this.statics.blotName||this.formats()[p]!==y)&&this.replaceWith(p,y)},m.prototype.formats=function(){var p=this.attributes.values(),y=this.statics.formats(this.domNode);return y!=null&&(p[this.statics.blotName]=y),p},m.prototype.replaceWith=function(p,y){var v=h.prototype.replaceWith.call(this,p,y);return this.attributes.copy(v),v},m.prototype.update=function(p,y){var v=this;h.prototype.update.call(this,p,y),p.some(function(g){return g.target===v.domNode&&g.type==="attributes"})&&this.attributes.build()},m.prototype.wrap=function(p,y){var v=h.prototype.wrap.call(this,p,y);return v instanceof m&&v.statics.scope===this.statics.scope&&this.attributes.move(v),v},m})(c.default);n.default=d}),(function(r,n,a){var s=this&&this.__extends||(function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var m in h)h.hasOwnProperty(m)&&(d[m]=h[m])};return function(d,h){u(d,h);function m(){this.constructor=d}d.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}})();Object.defineProperty(n,"__esModule",{value:!0});var o=a(30),l=a(1),c=(function(u){s(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.value=function(h){return!0},d.prototype.index=function(h,m){return this.domNode===h||this.domNode.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(m,1):-1},d.prototype.position=function(h,m){var p=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return h>0&&(p+=1),[this.parent.domNode,p]},d.prototype.value=function(){var h;return h={},h[this.statics.blotName]=this.statics.value(this.domNode)||!0,h},d.scope=l.Scope.INLINE_BLOT,d})(o.default);n.default=c}),(function(r,n,a){var s=a(11),o=a(3),l={attributes:{compose:function(u,d,h){typeof u!="object"&&(u={}),typeof d!="object"&&(d={});var m=o(!0,{},d);h||(m=Object.keys(m).reduce(function(y,v){return m[v]!=null&&(y[v]=m[v]),y},{}));for(var p in u)u[p]!==void 0&&d[p]===void 0&&(m[p]=u[p]);return Object.keys(m).length>0?m:void 0},diff:function(u,d){typeof u!="object"&&(u={}),typeof d!="object"&&(d={});var h=Object.keys(u).concat(Object.keys(d)).reduce(function(m,p){return s(u[p],d[p])||(m[p]=d[p]===void 0?null:d[p]),m},{});return Object.keys(h).length>0?h:void 0},transform:function(u,d,h){if(typeof u!="object")return d;if(typeof d=="object"){if(!h)return d;var m=Object.keys(d).reduce(function(p,y){return u[y]===void 0&&(p[y]=d[y]),p},{});return Object.keys(m).length>0?m:void 0}}},iterator:function(u){return new c(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function c(u){this.ops=u,this.index=0,this.offset=0}c.prototype.hasNext=function(){return this.peekLength()<1/0},c.prototype.next=function(u){u||(u=1/0);var d=this.ops[this.index];if(d){var h=this.offset,m=l.length(d);if(u>=m-h?(u=m-h,this.index+=1,this.offset=0):this.offset+=u,typeof d.delete=="number")return{delete:u};var p={};return d.attributes&&(p.attributes=d.attributes),typeof d.retain=="number"?p.retain=u:typeof d.insert=="string"?p.insert=d.insert.substr(h,u):p.insert=d.insert,p}else return{retain:1/0}},c.prototype.peek=function(){return this.ops[this.index]},c.prototype.peekLength=function(){return this.ops[this.index]?l.length(this.ops[this.index])-this.offset:1/0},c.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},c.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,d=this.index,h=this.next(),m=this.ops.slice(this.index);return this.offset=u,this.index=d,[h].concat(m)}else return[]},r.exports=l}),(function(r,n){var a=(function(){function s(v,g){return g!=null&&v instanceof g}var o;try{o=Map}catch{o=function(){}}var l;try{l=Set}catch{l=function(){}}var c;try{c=Promise}catch{c=function(){}}function u(v,g,b,w,j){typeof g=="object"&&(b=g.depth,w=g.prototype,j=g.includeNonEnumerable,g=g.circular);var N=[],S=[],P=typeof Buffer<"u";typeof g>"u"&&(g=!0),typeof b>"u"&&(b=1/0);function A(O,M){if(O===null)return null;if(M===0)return O;var F,E;if(typeof O!="object")return O;if(s(O,o))F=new o;else if(s(O,l))F=new l;else if(s(O,c))F=new c(function(Z,q){O.then(function(C){Z(A(C,M-1))},function(C){q(A(C,M-1))})});else if(u.__isArray(O))F=[];else if(u.__isRegExp(O))F=new RegExp(O.source,y(O)),O.lastIndex&&(F.lastIndex=O.lastIndex);else if(u.__isDate(O))F=new Date(O.getTime());else{if(P&&Buffer.isBuffer(O))return Buffer.allocUnsafe?F=Buffer.allocUnsafe(O.length):F=new Buffer(O.length),O.copy(F),F;s(O,Error)?F=Object.create(O):typeof w>"u"?(E=Object.getPrototypeOf(O),F=Object.create(E)):(F=Object.create(w),E=w)}if(g){var T=N.indexOf(O);if(T!=-1)return S[T];N.push(O),S.push(F)}s(O,o)&&O.forEach(function(Z,q){var C=A(q,M-1),U=A(Z,M-1);F.set(C,U)}),s(O,l)&&O.forEach(function(Z){var q=A(Z,M-1);F.add(q)});for(var I in O){var z;E&&(z=Object.getOwnPropertyDescriptor(E,I)),!(z&&z.set==null)&&(F[I]=A(O[I],M-1))}if(Object.getOwnPropertySymbols)for(var Q=Object.getOwnPropertySymbols(O),I=0;I<Q.length;I++){var te=Q[I],J=Object.getOwnPropertyDescriptor(O,te);J&&!J.enumerable&&!j||(F[te]=A(O[te],M-1),J.enumerable||Object.defineProperty(F,te,{enumerable:!1}))}if(j)for(var ie=Object.getOwnPropertyNames(O),I=0;I<ie.length;I++){var X=ie[I],J=Object.getOwnPropertyDescriptor(O,X);J&&J.enumerable||(F[X]=A(O[X],M-1),Object.defineProperty(F,X,{enumerable:!1}))}return F}return A(v,b)}u.clonePrototype=function(g){if(g===null)return null;var b=function(){};return b.prototype=g,new b};function d(v){return Object.prototype.toString.call(v)}u.__objToStr=d;function h(v){return typeof v=="object"&&d(v)==="[object Date]"}u.__isDate=h;function m(v){return typeof v=="object"&&d(v)==="[object Array]"}u.__isArray=m;function p(v){return typeof v=="object"&&d(v)==="[object RegExp]"}u.__isRegExp=p;function y(v){var g="";return v.global&&(g+="g"),v.ignoreCase&&(g+="i"),v.multiline&&(g+="m"),g}return u.__getRegExpFlags=y,u})();typeof r=="object"&&r.exports&&(r.exports=a)}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=(function(){function F(E,T){var I=[],z=!0,Q=!1,te=void 0;try{for(var J=E[Symbol.iterator](),ie;!(z=(ie=J.next()).done)&&(I.push(ie.value),!(T&&I.length===T));z=!0);}catch(X){Q=!0,te=X}finally{try{!z&&J.return&&J.return()}finally{if(Q)throw te}}return I}return function(E,T){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return F(E,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function F(E,T){for(var I=0;I<T.length;I++){var z=T[I];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(E,z.key,z)}}return function(E,T,I){return T&&F(E.prototype,T),I&&F(E,I),E}})(),l=function F(E,T,I){E===null&&(E=Function.prototype);var z=Object.getOwnPropertyDescriptor(E,T);if(z===void 0){var Q=Object.getPrototypeOf(E);return Q===null?void 0:F(Q,T,I)}else{if("value"in z)return z.value;var te=z.get;return te===void 0?void 0:te.call(I)}},c=a(0),u=N(c),d=a(8),h=N(d),m=a(4),p=N(m),y=a(16),v=N(y),g=a(13),b=N(g),w=a(25),j=N(w);function N(F){return F&&F.__esModule?F:{default:F}}function S(F,E){if(!(F instanceof E))throw new TypeError("Cannot call a class as a function")}function P(F,E){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:F}function A(F,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);F.prototype=Object.create(E&&E.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(F,E):F.__proto__=E)}function O(F){return F instanceof p.default||F instanceof m.BlockEmbed}var M=(function(F){A(E,F);function E(T,I){S(this,E);var z=P(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,T));return z.emitter=I.emitter,Array.isArray(I.whitelist)&&(z.whitelist=I.whitelist.reduce(function(Q,te){return Q[te]=!0,Q},{})),z.domNode.addEventListener("DOMNodeInserted",function(){}),z.optimize(),z.enable(),z}return o(E,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(I,z){var Q=this.line(I),te=s(Q,2),J=te[0],ie=te[1],X=this.line(I+z),Z=s(X,1),q=Z[0];if(l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"deleteAt",this).call(this,I,z),q!=null&&J!==q&&ie>0){if(J instanceof m.BlockEmbed||q instanceof m.BlockEmbed){this.optimize();return}if(J instanceof b.default){var C=J.newlineIndex(J.length(),!0);if(C>-1&&(J=J.split(C+1),J===q)){this.optimize();return}}else if(q instanceof b.default){var U=q.newlineIndex(0);U>-1&&q.split(U+1)}var W=q.children.head instanceof v.default?null:q.children.head;J.moveChildren(q,W),J.remove()}this.optimize()}},{key:"enable",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",I)}},{key:"formatAt",value:function(I,z,Q,te){this.whitelist!=null&&!this.whitelist[Q]||(l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"formatAt",this).call(this,I,z,Q,te),this.optimize())}},{key:"insertAt",value:function(I,z,Q){if(!(Q!=null&&this.whitelist!=null&&!this.whitelist[z])){if(I>=this.length())if(Q==null||u.default.query(z,u.default.Scope.BLOCK)==null){var te=u.default.create(this.statics.defaultChild);this.appendChild(te),Q==null&&z.endsWith(`
`)&&(z=z.slice(0,-1)),te.insertAt(0,z,Q)}else{var J=u.default.create(z,Q);this.appendChild(J)}else l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertAt",this).call(this,I,z,Q);this.optimize()}}},{key:"insertBefore",value:function(I,z){if(I.statics.scope===u.default.Scope.INLINE_BLOT){var Q=u.default.create(this.statics.defaultChild);Q.appendChild(I),I=Q}l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertBefore",this).call(this,I,z)}},{key:"leaf",value:function(I){return this.path(I).pop()||[null,-1]}},{key:"line",value:function(I){return I===this.length()?this.line(I-1):this.descendant(O,I)}},{key:"lines",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,Q=function te(J,ie,X){var Z=[],q=X;return J.children.forEachAt(ie,X,function(C,U,W){O(C)?Z.push(C):C instanceof u.default.Container&&(Z=Z.concat(te(C,U,q))),q-=W}),Z};return Q(this,I,z)}},{key:"optimize",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"optimize",this).call(this,I,z),I.length>0&&this.emitter.emit(h.default.events.SCROLL_OPTIMIZE,I,z))}},{key:"path",value:function(I){return l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"path",this).call(this,I).slice(1)}},{key:"update",value:function(I){if(this.batch!==!0){var z=h.default.sources.USER;typeof I=="string"&&(z=I),Array.isArray(I)||(I=this.observer.takeRecords()),I.length>0&&this.emitter.emit(h.default.events.SCROLL_BEFORE_UPDATE,z,I),l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"update",this).call(this,I.concat([])),I.length>0&&this.emitter.emit(h.default.events.SCROLL_UPDATE,z,I)}}}]),E})(u.default.Scroll);M.blotName="scroll",M.className="ql-editor",M.tagName="DIV",M.defaultChild="block",M.allowedChildren=[p.default,m.BlockEmbed,j.default],n.default=M}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.SHORTKEY=n.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},o=(function(){function K(re,fe){var ce=[],he=!0,Oe=!1,ee=void 0;try{for(var De=re[Symbol.iterator](),je;!(he=(je=De.next()).done)&&(ce.push(je.value),!(fe&&ce.length===fe));he=!0);}catch(oe){Oe=!0,ee=oe}finally{try{!he&&De.return&&De.return()}finally{if(Oe)throw ee}}return ce}return function(re,fe){if(Array.isArray(re))return re;if(Symbol.iterator in Object(re))return K(re,fe);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function K(re,fe){for(var ce=0;ce<fe.length;ce++){var he=fe[ce];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(re,he.key,he)}}return function(re,fe,ce){return fe&&K(re.prototype,fe),ce&&K(re,ce),re}})(),c=a(21),u=F(c),d=a(11),h=F(d),m=a(3),p=F(m),y=a(2),v=F(y),g=a(20),b=F(g),w=a(0),j=F(w),N=a(5),S=F(N),P=a(10),A=F(P),O=a(9),M=F(O);function F(K){return K&&K.__esModule?K:{default:K}}function E(K,re,fe){return re in K?Object.defineProperty(K,re,{value:fe,enumerable:!0,configurable:!0,writable:!0}):K[re]=fe,K}function T(K,re){if(!(K instanceof re))throw new TypeError("Cannot call a class as a function")}function I(K,re){if(!K)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return re&&(typeof re=="object"||typeof re=="function")?re:K}function z(K,re){if(typeof re!="function"&&re!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof re);K.prototype=Object.create(re&&re.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),re&&(Object.setPrototypeOf?Object.setPrototypeOf(K,re):K.__proto__=re)}var Q=(0,A.default)("quill:keyboard"),te=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",J=(function(K){z(re,K),l(re,null,[{key:"match",value:function(ce,he){return he=B(he),["altKey","ctrlKey","metaKey","shiftKey"].some(function(Oe){return!!he[Oe]!==ce[Oe]&&he[Oe]!==null})?!1:he.key===(ce.which||ce.keyCode)}}]);function re(fe,ce){T(this,re);var he=I(this,(re.__proto__||Object.getPrototypeOf(re)).call(this,fe,ce));return he.bindings={},Object.keys(he.options.bindings).forEach(function(Oe){Oe==="list autofill"&&fe.scroll.whitelist!=null&&!fe.scroll.whitelist.list||he.options.bindings[Oe]&&he.addBinding(he.options.bindings[Oe])}),he.addBinding({key:re.keys.ENTER,shiftKey:null},C),he.addBinding({key:re.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(he.addBinding({key:re.keys.BACKSPACE},{collapsed:!0},X),he.addBinding({key:re.keys.DELETE},{collapsed:!0},Z)):(he.addBinding({key:re.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},X),he.addBinding({key:re.keys.DELETE},{collapsed:!0,suffix:/^.?$/},Z)),he.addBinding({key:re.keys.BACKSPACE},{collapsed:!1},q),he.addBinding({key:re.keys.DELETE},{collapsed:!1},q),he.addBinding({key:re.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},X),he.listen(),he}return l(re,[{key:"addBinding",value:function(ce){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ee=B(ce);if(ee==null||ee.key==null)return Q.warn("Attempted to add invalid keyboard binding",ee);typeof he=="function"&&(he={handler:he}),typeof Oe=="function"&&(Oe={handler:Oe}),ee=(0,p.default)(ee,he,Oe),this.bindings[ee.key]=this.bindings[ee.key]||[],this.bindings[ee.key].push(ee)}},{key:"listen",value:function(){var ce=this;this.quill.root.addEventListener("keydown",function(he){if(!he.defaultPrevented){var Oe=he.which||he.keyCode,ee=(ce.bindings[Oe]||[]).filter(function(st){return re.match(he,st)});if(ee.length!==0){var De=ce.quill.getSelection();if(!(De==null||!ce.quill.hasFocus())){var je=ce.quill.getLine(De.index),oe=o(je,2),ue=oe[0],_e=oe[1],Se=ce.quill.getLeaf(De.index),Pe=o(Se,2),pe=Pe[0],ae=Pe[1],ye=De.length===0?[pe,ae]:ce.quill.getLeaf(De.index+De.length),Be=o(ye,2),$e=Be[0],rt=Be[1],ft=pe instanceof j.default.Text?pe.value().slice(0,ae):"",Nt=$e instanceof j.default.Text?$e.value().slice(rt):"",Ue={collapsed:De.length===0,empty:De.length===0&&ue.length()<=1,format:ce.quill.getFormat(De),offset:_e,prefix:ft,suffix:Nt},dt=ee.some(function(st){if(st.collapsed!=null&&st.collapsed!==Ue.collapsed||st.empty!=null&&st.empty!==Ue.empty||st.offset!=null&&st.offset!==Ue.offset)return!1;if(Array.isArray(st.format)){if(st.format.every(function(it){return Ue.format[it]==null}))return!1}else if(s(st.format)==="object"&&!Object.keys(st.format).every(function(it){return st.format[it]===!0?Ue.format[it]!=null:st.format[it]===!1?Ue.format[it]==null:(0,h.default)(st.format[it],Ue.format[it])}))return!1;return st.prefix!=null&&!st.prefix.test(Ue.prefix)||st.suffix!=null&&!st.suffix.test(Ue.suffix)?!1:st.handler.call(ce,De,Ue)!==!0});dt&&he.preventDefault()}}}})}}]),re})(M.default);J.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},J.DEFAULTS={bindings:{bold:W("bold"),italic:W("italic"),underline:W("underline"),indent:{key:J.keys.TAB,format:["blockquote","indent","list"],handler:function(re,fe){if(fe.collapsed&&fe.offset!==0)return!0;this.quill.format("indent","+1",S.default.sources.USER)}},outdent:{key:J.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(re,fe){if(fe.collapsed&&fe.offset!==0)return!0;this.quill.format("indent","-1",S.default.sources.USER)}},"outdent backspace":{key:J.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(re,fe){fe.format.indent!=null?this.quill.format("indent","-1",S.default.sources.USER):fe.format.list!=null&&this.quill.format("list",!1,S.default.sources.USER)}},"indent code-block":U(!0),"outdent code-block":U(!1),"remove tab":{key:J.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(re){this.quill.deleteText(re.index-1,1,S.default.sources.USER)}},tab:{key:J.keys.TAB,handler:function(re){this.quill.history.cutoff();var fe=new v.default().retain(re.index).delete(re.length).insert("	");this.quill.updateContents(fe,S.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(re.index+1,S.default.sources.SILENT)}},"list empty enter":{key:J.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(re,fe){this.quill.format("list",!1,S.default.sources.USER),fe.format.indent&&this.quill.format("indent",!1,S.default.sources.USER)}},"checklist enter":{key:J.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(re){var fe=this.quill.getLine(re.index),ce=o(fe,2),he=ce[0],Oe=ce[1],ee=(0,p.default)({},he.formats(),{list:"checked"}),De=new v.default().retain(re.index).insert(`
`,ee).retain(he.length()-Oe-1).retain(1,{list:"unchecked"});this.quill.updateContents(De,S.default.sources.USER),this.quill.setSelection(re.index+1,S.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:J.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(re,fe){var ce=this.quill.getLine(re.index),he=o(ce,2),Oe=he[0],ee=he[1],De=new v.default().retain(re.index).insert(`
`,fe.format).retain(Oe.length()-ee-1).retain(1,{header:null});this.quill.updateContents(De,S.default.sources.USER),this.quill.setSelection(re.index+1,S.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(re,fe){var ce=fe.prefix.length,he=this.quill.getLine(re.index),Oe=o(he,2),ee=Oe[0],De=Oe[1];if(De>ce)return!0;var je=void 0;switch(fe.prefix.trim()){case"[]":case"[ ]":je="unchecked";break;case"[x]":je="checked";break;case"-":case"*":je="bullet";break;default:je="ordered"}this.quill.insertText(re.index," ",S.default.sources.USER),this.quill.history.cutoff();var oe=new v.default().retain(re.index-De).delete(ce+1).retain(ee.length()-2-De).retain(1,{list:je});this.quill.updateContents(oe,S.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(re.index-ce,S.default.sources.SILENT)}},"code exit":{key:J.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(re){var fe=this.quill.getLine(re.index),ce=o(fe,2),he=ce[0],Oe=ce[1],ee=new v.default().retain(re.index+he.length()-Oe-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ee,S.default.sources.USER)}},"embed left":ie(J.keys.LEFT,!1),"embed left shift":ie(J.keys.LEFT,!0),"embed right":ie(J.keys.RIGHT,!1),"embed right shift":ie(J.keys.RIGHT,!0)}};function ie(K,re){var fe,ce=K===J.keys.LEFT?"prefix":"suffix";return fe={key:K,shiftKey:re,altKey:null},E(fe,ce,/^$/),E(fe,"handler",function(Oe){var ee=Oe.index;K===J.keys.RIGHT&&(ee+=Oe.length+1);var De=this.quill.getLeaf(ee),je=o(De,1),oe=je[0];return oe instanceof j.default.Embed?(K===J.keys.LEFT?re?this.quill.setSelection(Oe.index-1,Oe.length+1,S.default.sources.USER):this.quill.setSelection(Oe.index-1,S.default.sources.USER):re?this.quill.setSelection(Oe.index,Oe.length+1,S.default.sources.USER):this.quill.setSelection(Oe.index+Oe.length+1,S.default.sources.USER),!1):!0}),fe}function X(K,re){if(!(K.index===0||this.quill.getLength()<=1)){var fe=this.quill.getLine(K.index),ce=o(fe,1),he=ce[0],Oe={};if(re.offset===0){var ee=this.quill.getLine(K.index-1),De=o(ee,1),je=De[0];if(je!=null&&je.length()>1){var oe=he.formats(),ue=this.quill.getFormat(K.index-1,1);Oe=b.default.attributes.diff(oe,ue)||{}}}var _e=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(re.prefix)?2:1;this.quill.deleteText(K.index-_e,_e,S.default.sources.USER),Object.keys(Oe).length>0&&this.quill.formatLine(K.index-_e,_e,Oe,S.default.sources.USER),this.quill.focus()}}function Z(K,re){var fe=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(re.suffix)?2:1;if(!(K.index>=this.quill.getLength()-fe)){var ce={},he=0,Oe=this.quill.getLine(K.index),ee=o(Oe,1),De=ee[0];if(re.offset>=De.length()-1){var je=this.quill.getLine(K.index+1),oe=o(je,1),ue=oe[0];if(ue){var _e=De.formats(),Se=this.quill.getFormat(K.index,1);ce=b.default.attributes.diff(_e,Se)||{},he=ue.length()}}this.quill.deleteText(K.index,fe,S.default.sources.USER),Object.keys(ce).length>0&&this.quill.formatLine(K.index+he-1,fe,ce,S.default.sources.USER)}}function q(K){var re=this.quill.getLines(K),fe={};if(re.length>1){var ce=re[0].formats(),he=re[re.length-1].formats();fe=b.default.attributes.diff(he,ce)||{}}this.quill.deleteText(K,S.default.sources.USER),Object.keys(fe).length>0&&this.quill.formatLine(K.index,1,fe,S.default.sources.USER),this.quill.setSelection(K.index,S.default.sources.SILENT),this.quill.focus()}function C(K,re){var fe=this;K.length>0&&this.quill.scroll.deleteAt(K.index,K.length);var ce=Object.keys(re.format).reduce(function(he,Oe){return j.default.query(Oe,j.default.Scope.BLOCK)&&!Array.isArray(re.format[Oe])&&(he[Oe]=re.format[Oe]),he},{});this.quill.insertText(K.index,`
`,ce,S.default.sources.USER),this.quill.setSelection(K.index+1,S.default.sources.SILENT),this.quill.focus(),Object.keys(re.format).forEach(function(he){ce[he]==null&&(Array.isArray(re.format[he])||he!=="link"&&fe.quill.format(he,re.format[he],S.default.sources.USER))})}function U(K){return{key:J.keys.TAB,shiftKey:!K,format:{"code-block":!0},handler:function(fe){var ce=j.default.query("code-block"),he=fe.index,Oe=fe.length,ee=this.quill.scroll.descendant(ce,he),De=o(ee,2),je=De[0],oe=De[1];if(je!=null){var ue=this.quill.getIndex(je),_e=je.newlineIndex(oe,!0)+1,Se=je.newlineIndex(ue+oe+Oe),Pe=je.domNode.textContent.slice(_e,Se).split(`
`);oe=0,Pe.forEach(function(pe,ae){K?(je.insertAt(_e+oe,ce.TAB),oe+=ce.TAB.length,ae===0?he+=ce.TAB.length:Oe+=ce.TAB.length):pe.startsWith(ce.TAB)&&(je.deleteAt(_e+oe,ce.TAB.length),oe-=ce.TAB.length,ae===0?he-=ce.TAB.length:Oe-=ce.TAB.length),oe+=pe.length+1}),this.quill.update(S.default.sources.USER),this.quill.setSelection(he,Oe,S.default.sources.SILENT)}}}}function W(K){return{key:K[0].toUpperCase(),shortKey:!0,handler:function(fe,ce){this.quill.format(K,!ce.format[K],S.default.sources.USER)}}}function B(K){if(typeof K=="string"||typeof K=="number")return B({key:K});if((typeof K>"u"?"undefined":s(K))==="object"&&(K=(0,u.default)(K,!1)),typeof K.key=="string")if(J.keys[K.key.toUpperCase()]!=null)K.key=J.keys[K.key.toUpperCase()];else if(K.key.length===1)K.key=K.key.toUpperCase().charCodeAt(0);else return null;return K.shortKey&&(K[te]=K.shortKey,delete K.shortKey),K}n.default=J,n.SHORTKEY=te}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=(function(){function b(w,j){var N=[],S=!0,P=!1,A=void 0;try{for(var O=w[Symbol.iterator](),M;!(S=(M=O.next()).done)&&(N.push(M.value),!(j&&N.length===j));S=!0);}catch(F){P=!0,A=F}finally{try{!S&&O.return&&O.return()}finally{if(P)throw A}}return N}return function(w,j){if(Array.isArray(w))return w;if(Symbol.iterator in Object(w))return b(w,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=function b(w,j,N){w===null&&(w=Function.prototype);var S=Object.getOwnPropertyDescriptor(w,j);if(S===void 0){var P=Object.getPrototypeOf(w);return P===null?void 0:b(P,j,N)}else{if("value"in S)return S.value;var A=S.get;return A===void 0?void 0:A.call(N)}},l=(function(){function b(w,j){for(var N=0;N<j.length;N++){var S=j[N];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(w,S.key,S)}}return function(w,j,N){return j&&b(w.prototype,j),N&&b(w,N),w}})(),c=a(0),u=m(c),d=a(7),h=m(d);function m(b){return b&&b.__esModule?b:{default:b}}function p(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function y(b,w){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:b}function v(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(b,w):b.__proto__=w)}var g=(function(b){v(w,b),l(w,null,[{key:"value",value:function(){}}]);function w(j,N){p(this,w);var S=y(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,j));return S.selection=N,S.textNode=document.createTextNode(w.CONTENTS),S.domNode.appendChild(S.textNode),S._length=0,S}return l(w,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(N,S){if(this._length!==0)return o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,N,S);for(var P=this,A=0;P!=null&&P.statics.scope!==u.default.Scope.BLOCK_BLOT;)A+=P.offset(P.parent),P=P.parent;P!=null&&(this._length=w.CONTENTS.length,P.optimize(),P.formatAt(A,w.CONTENTS.length,N,S),this._length=0)}},{key:"index",value:function(N,S){return N===this.textNode?0:o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"index",this).call(this,N,S)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var N=this.textNode,S=this.selection.getNativeRange(),P=void 0,A=void 0,O=void 0;if(S!=null&&S.start.node===N&&S.end.node===N){var M=[N,S.start.offset,S.end.offset];P=M[0],A=M[1],O=M[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==w.CONTENTS){var F=this.textNode.data.split(w.CONTENTS).join("");this.next instanceof h.default?(P=this.next.domNode,this.next.insertAt(0,F),this.textNode.data=w.CONTENTS):(this.textNode.data=F,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(w.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),A!=null){var E=[A,O].map(function(I){return Math.max(0,Math.min(P.data.length,I-1))}),T=s(E,2);return A=T[0],O=T[1],{startNode:P,startOffset:A,endNode:P,endOffset:O}}}}},{key:"update",value:function(N,S){var P=this;if(N.some(function(O){return O.type==="characterData"&&O.target===P.textNode})){var A=this.restore();A&&(S.range=A)}}},{key:"value",value:function(){return""}}]),w})(u.default.Embed);g.blotName="cursor",g.className="ql-cursor",g.tagName="span",g.CONTENTS="\uFEFF",n.default=g}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=a(0),o=u(s),l=a(4),c=u(l);function u(y){return y&&y.__esModule?y:{default:y}}function d(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function h(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function m(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var p=(function(y){m(v,y);function v(){return d(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v})(o.default.Container);p.allowedChildren=[c.default,l.BlockEmbed,p],n.default=p}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.ColorStyle=n.ColorClass=n.ColorAttributor=void 0;var s=(function(){function g(b,w){for(var j=0;j<w.length;j++){var N=w[j];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(b,N.key,N)}}return function(b,w,j){return w&&g(b.prototype,w),j&&g(b,j),b}})(),o=function g(b,w,j){b===null&&(b=Function.prototype);var N=Object.getOwnPropertyDescriptor(b,w);if(N===void 0){var S=Object.getPrototypeOf(b);return S===null?void 0:g(S,w,j)}else{if("value"in N)return N.value;var P=N.get;return P===void 0?void 0:P.call(j)}},l=a(0),c=u(l);function u(g){return g&&g.__esModule?g:{default:g}}function d(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}function h(g,b){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:g}function m(g,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);g.prototype=Object.create(b&&b.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(g,b):g.__proto__=b)}var p=(function(g){m(b,g);function b(){return d(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"value",value:function(j){var N=o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,j);return N.startsWith("rgb(")?(N=N.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+N.split(",").map(function(S){return("00"+parseInt(S).toString(16)).slice(-2)}).join("")):N}}]),b})(c.default.Attributor.Style),y=new c.default.Attributor.Class("color","ql-color",{scope:c.default.Scope.INLINE}),v=new p("color","color",{scope:c.default.Scope.INLINE});n.ColorAttributor=p,n.ColorClass=y,n.ColorStyle=v}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.sanitize=n.default=void 0;var s=(function(){function v(g,b){for(var w=0;w<b.length;w++){var j=b[w];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(g,j.key,j)}}return function(g,b,w){return b&&v(g.prototype,b),w&&v(g,w),g}})(),o=function v(g,b,w){g===null&&(g=Function.prototype);var j=Object.getOwnPropertyDescriptor(g,b);if(j===void 0){var N=Object.getPrototypeOf(g);return N===null?void 0:v(N,b,w)}else{if("value"in j)return j.value;var S=j.get;return S===void 0?void 0:S.call(w)}},l=a(6),c=u(l);function u(v){return v&&v.__esModule?v:{default:v}}function d(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function h(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function m(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=(function(v){m(g,v);function g(){return d(this,g),h(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,[{key:"format",value:function(w,j){if(w!==this.statics.blotName||!j)return o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,w,j);j=this.constructor.sanitize(j),this.domNode.setAttribute("href",j)}}],[{key:"create",value:function(w){var j=o(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,w);return w=this.sanitize(w),j.setAttribute("href",w),j.setAttribute("rel","noopener noreferrer"),j.setAttribute("target","_blank"),j}},{key:"formats",value:function(w){return w.getAttribute("href")}},{key:"sanitize",value:function(w){return y(w,this.PROTOCOL_WHITELIST)?w:this.SANITIZED_URL}}]),g})(c.default);p.blotName="link",p.tagName="A",p.SANITIZED_URL="about:blank",p.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function y(v,g){var b=document.createElement("a");b.href=v;var w=b.href.slice(0,b.href.indexOf(":"));return g.indexOf(w)>-1}n.default=p,n.sanitize=y}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},o=(function(){function g(b,w){for(var j=0;j<w.length;j++){var N=w[j];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(b,N.key,N)}}return function(b,w,j){return w&&g(b.prototype,w),j&&g(b,j),b}})(),l=a(23),c=h(l),u=a(107),d=h(u);function h(g){return g&&g.__esModule?g:{default:g}}function m(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}var p=0;function y(g,b){g.setAttribute(b,g.getAttribute(b)!=="true")}var v=(function(){function g(b){var w=this;m(this,g),this.select=b,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){w.togglePicker()}),this.label.addEventListener("keydown",function(j){switch(j.keyCode){case c.default.keys.ENTER:w.togglePicker();break;case c.default.keys.ESCAPE:w.escape(),j.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(g,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),y(this.label,"aria-expanded"),y(this.options,"aria-hidden")}},{key:"buildItem",value:function(w){var j=this,N=document.createElement("span");return N.tabIndex="0",N.setAttribute("role","button"),N.classList.add("ql-picker-item"),w.hasAttribute("value")&&N.setAttribute("data-value",w.getAttribute("value")),w.textContent&&N.setAttribute("data-label",w.textContent),N.addEventListener("click",function(){j.selectItem(N,!0)}),N.addEventListener("keydown",function(S){switch(S.keyCode){case c.default.keys.ENTER:j.selectItem(N,!0),S.preventDefault();break;case c.default.keys.ESCAPE:j.escape(),S.preventDefault();break}}),N}},{key:"buildLabel",value:function(){var w=document.createElement("span");return w.classList.add("ql-picker-label"),w.innerHTML=d.default,w.tabIndex="0",w.setAttribute("role","button"),w.setAttribute("aria-expanded","false"),this.container.appendChild(w),w}},{key:"buildOptions",value:function(){var w=this,j=document.createElement("span");j.classList.add("ql-picker-options"),j.setAttribute("aria-hidden","true"),j.tabIndex="-1",j.id="ql-picker-options-"+p,p+=1,this.label.setAttribute("aria-controls",j.id),this.options=j,[].slice.call(this.select.options).forEach(function(N){var S=w.buildItem(N);j.appendChild(S),N.selected===!0&&w.selectItem(S)}),this.container.appendChild(j)}},{key:"buildPicker",value:function(){var w=this;[].slice.call(this.select.attributes).forEach(function(j){w.container.setAttribute(j.name,j.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var w=this;this.close(),setTimeout(function(){return w.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(w){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,N=this.container.querySelector(".ql-selected");if(w!==N&&(N?.classList.remove("ql-selected"),w!=null&&(w.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(w.parentNode.children,w),w.hasAttribute("data-value")?this.label.setAttribute("data-value",w.getAttribute("data-value")):this.label.removeAttribute("data-value"),w.hasAttribute("data-label")?this.label.setAttribute("data-label",w.getAttribute("data-label")):this.label.removeAttribute("data-label"),j))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":s(Event))==="object"){var S=document.createEvent("Event");S.initEvent("change",!0,!0),this.select.dispatchEvent(S)}this.close()}}},{key:"update",value:function(){var w=void 0;if(this.select.selectedIndex>-1){var j=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];w=this.select.options[this.select.selectedIndex],this.selectItem(j)}else this.selectItem(null);var N=w!=null&&w!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",N)}}]),g})();n.default=v}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=a(0),o=Q(s),l=a(5),c=Q(l),u=a(4),d=Q(u),h=a(16),m=Q(h),p=a(25),y=Q(p),v=a(24),g=Q(v),b=a(35),w=Q(b),j=a(6),N=Q(j),S=a(22),P=Q(S),A=a(7),O=Q(A),M=a(55),F=Q(M),E=a(42),T=Q(E),I=a(23),z=Q(I);function Q(te){return te&&te.__esModule?te:{default:te}}c.default.register({"blots/block":d.default,"blots/block/embed":u.BlockEmbed,"blots/break":m.default,"blots/container":y.default,"blots/cursor":g.default,"blots/embed":w.default,"blots/inline":N.default,"blots/scroll":P.default,"blots/text":O.default,"modules/clipboard":F.default,"modules/history":T.default,"modules/keyboard":z.default}),o.default.register(d.default,m.default,g.default,N.default,P.default,O.default),n.default=c.default}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=a(1),o=(function(){function l(c){this.domNode=c,this.domNode[s.DATA_KEY]={blot:this}}return Object.defineProperty(l.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),l.create=function(c){if(this.tagName==null)throw new s.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof c=="string"&&(c=c.toUpperCase(),parseInt(c).toString()===c&&(c=parseInt(c))),typeof c=="number"?u=document.createElement(this.tagName[c-1]):this.tagName.indexOf(c)>-1?u=document.createElement(c):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},l.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},l.prototype.clone=function(){var c=this.domNode.cloneNode(!1);return s.create(c)},l.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[s.DATA_KEY]},l.prototype.deleteAt=function(c,u){var d=this.isolate(c,u);d.remove()},l.prototype.formatAt=function(c,u,d,h){var m=this.isolate(c,u);if(s.query(d,s.Scope.BLOT)!=null&&h)m.wrap(d,h);else if(s.query(d,s.Scope.ATTRIBUTE)!=null){var p=s.create(this.statics.scope);m.wrap(p),p.format(d,h)}},l.prototype.insertAt=function(c,u,d){var h=d==null?s.create("text",u):s.create(u,d),m=this.split(c);this.parent.insertBefore(h,m)},l.prototype.insertInto=function(c,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var d=null;c.children.insertBefore(this,u),u!=null&&(d=u.domNode),(this.domNode.parentNode!=c.domNode||this.domNode.nextSibling!=d)&&c.domNode.insertBefore(this.domNode,d),this.parent=c,this.attach()},l.prototype.isolate=function(c,u){var d=this.split(c);return d.split(u),d},l.prototype.length=function(){return 1},l.prototype.offset=function(c){return c===void 0&&(c=this.parent),this.parent==null||this==c?0:this.parent.children.offset(this)+this.parent.offset(c)},l.prototype.optimize=function(c){this.domNode[s.DATA_KEY]!=null&&delete this.domNode[s.DATA_KEY].mutations},l.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},l.prototype.replace=function(c){c.parent!=null&&(c.parent.insertBefore(this,c.next),c.remove())},l.prototype.replaceWith=function(c,u){var d=typeof c=="string"?s.create(c,u):c;return d.replace(this),d},l.prototype.split=function(c,u){return c===0?this:this.next},l.prototype.update=function(c,u){},l.prototype.wrap=function(c,u){var d=typeof c=="string"?s.create(c,u):c;return this.parent!=null&&this.parent.insertBefore(d,this.next),d.appendChild(this),d},l.blotName="abstract",l})();n.default=o}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=a(12),o=a(32),l=a(33),c=a(1),u=(function(){function d(h){this.attributes={},this.domNode=h,this.build()}return d.prototype.attribute=function(h,m){m?h.add(this.domNode,m)&&(h.value(this.domNode)!=null?this.attributes[h.attrName]=h:delete this.attributes[h.attrName]):(h.remove(this.domNode),delete this.attributes[h.attrName])},d.prototype.build=function(){var h=this;this.attributes={};var m=s.default.keys(this.domNode),p=o.default.keys(this.domNode),y=l.default.keys(this.domNode);m.concat(p).concat(y).forEach(function(v){var g=c.query(v,c.Scope.ATTRIBUTE);g instanceof s.default&&(h.attributes[g.attrName]=g)})},d.prototype.copy=function(h){var m=this;Object.keys(this.attributes).forEach(function(p){var y=m.attributes[p].value(m.domNode);h.format(p,y)})},d.prototype.move=function(h){var m=this;this.copy(h),Object.keys(this.attributes).forEach(function(p){m.attributes[p].remove(m.domNode)}),this.attributes={}},d.prototype.values=function(){var h=this;return Object.keys(this.attributes).reduce(function(m,p){return m[p]=h.attributes[p].value(h.domNode),m},{})},d})();n.default=u}),(function(r,n,a){var s=this&&this.__extends||(function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var m in h)h.hasOwnProperty(m)&&(d[m]=h[m])};return function(d,h){u(d,h);function m(){this.constructor=d}d.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}})();Object.defineProperty(n,"__esModule",{value:!0});var o=a(12);function l(u,d){var h=u.getAttribute("class")||"";return h.split(/\s+/).filter(function(m){return m.indexOf(d+"-")===0})}var c=(function(u){s(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.keys=function(h){return(h.getAttribute("class")||"").split(/\s+/).map(function(m){return m.split("-").slice(0,-1).join("-")})},d.prototype.add=function(h,m){return this.canAdd(h,m)?(this.remove(h),h.classList.add(this.keyName+"-"+m),!0):!1},d.prototype.remove=function(h){var m=l(h,this.keyName);m.forEach(function(p){h.classList.remove(p)}),h.classList.length===0&&h.removeAttribute("class")},d.prototype.value=function(h){var m=l(h,this.keyName)[0]||"",p=m.slice(this.keyName.length+1);return this.canAdd(h,p)?p:""},d})(o.default);n.default=c}),(function(r,n,a){var s=this&&this.__extends||(function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var m in h)h.hasOwnProperty(m)&&(d[m]=h[m])};return function(d,h){u(d,h);function m(){this.constructor=d}d.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}})();Object.defineProperty(n,"__esModule",{value:!0});var o=a(12);function l(u){var d=u.split("-"),h=d.slice(1).map(function(m){return m[0].toUpperCase()+m.slice(1)}).join("");return d[0]+h}var c=(function(u){s(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.keys=function(h){return(h.getAttribute("style")||"").split(";").map(function(m){var p=m.split(":");return p[0].trim()})},d.prototype.add=function(h,m){return this.canAdd(h,m)?(h.style[l(this.keyName)]=m,!0):!1},d.prototype.remove=function(h){h.style[l(this.keyName)]="",h.getAttribute("style")||h.removeAttribute("style")},d.prototype.value=function(h){var m=h.style[l(this.keyName)];return this.canAdd(h,m)?m:""},d})(o.default);n.default=c}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=(function(){function c(u,d){for(var h=0;h<d.length;h++){var m=d[h];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(u,m.key,m)}}return function(u,d,h){return d&&c(u.prototype,d),h&&c(u,h),u}})();function o(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}var l=(function(){function c(u,d){o(this,c),this.quill=u,this.options=d,this.modules={}}return s(c,[{key:"init",value:function(){var d=this;Object.keys(this.options.modules).forEach(function(h){d.modules[h]==null&&d.addModule(h)})}},{key:"addModule",value:function(d){var h=this.quill.constructor.import("modules/"+d);return this.modules[d]=new h(this.quill,this.options.modules[d]||{}),this.modules[d]}}]),c})();l.DEFAULTS={modules:{}},l.themes={default:l},n.default=l}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=(function(){function b(w,j){for(var N=0;N<j.length;N++){var S=j[N];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(w,S.key,S)}}return function(w,j,N){return j&&b(w.prototype,j),N&&b(w,N),w}})(),o=function b(w,j,N){w===null&&(w=Function.prototype);var S=Object.getOwnPropertyDescriptor(w,j);if(S===void 0){var P=Object.getPrototypeOf(w);return P===null?void 0:b(P,j,N)}else{if("value"in S)return S.value;var A=S.get;return A===void 0?void 0:A.call(N)}},l=a(0),c=h(l),u=a(7),d=h(u);function h(b){return b&&b.__esModule?b:{default:b}}function m(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function p(b,w){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:b}function y(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(b,w):b.__proto__=w)}var v="\uFEFF",g=(function(b){y(w,b);function w(j){m(this,w);var N=p(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,j));return N.contentNode=document.createElement("span"),N.contentNode.setAttribute("contenteditable",!1),[].slice.call(N.domNode.childNodes).forEach(function(S){N.contentNode.appendChild(S)}),N.leftGuard=document.createTextNode(v),N.rightGuard=document.createTextNode(v),N.domNode.appendChild(N.leftGuard),N.domNode.appendChild(N.contentNode),N.domNode.appendChild(N.rightGuard),N}return s(w,[{key:"index",value:function(N,S){return N===this.leftGuard?0:N===this.rightGuard?1:o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"index",this).call(this,N,S)}},{key:"restore",value:function(N){var S=void 0,P=void 0,A=N.data.split(v).join("");if(N===this.leftGuard)if(this.prev instanceof d.default){var O=this.prev.length();this.prev.insertAt(O,A),S={startNode:this.prev.domNode,startOffset:O+A.length}}else P=document.createTextNode(A),this.parent.insertBefore(c.default.create(P),this),S={startNode:P,startOffset:A.length};else N===this.rightGuard&&(this.next instanceof d.default?(this.next.insertAt(0,A),S={startNode:this.next.domNode,startOffset:A.length}):(P=document.createTextNode(A),this.parent.insertBefore(c.default.create(P),this.next),S={startNode:P,startOffset:A.length}));return N.data=v,S}},{key:"update",value:function(N,S){var P=this;N.forEach(function(A){if(A.type==="characterData"&&(A.target===P.leftGuard||A.target===P.rightGuard)){var O=P.restore(A.target);O&&(S.range=O)}})}}]),w})(c.default.Embed);n.default=g}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.AlignStyle=n.AlignClass=n.AlignAttribute=void 0;var s=a(0),o=l(s);function l(m){return m&&m.__esModule?m:{default:m}}var c={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new o.default.Attributor.Attribute("align","align",c),d=new o.default.Attributor.Class("align","ql-align",c),h=new o.default.Attributor.Style("align","text-align",c);n.AlignAttribute=u,n.AlignClass=d,n.AlignStyle=h}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.BackgroundStyle=n.BackgroundClass=void 0;var s=a(0),o=c(s),l=a(26);function c(h){return h&&h.__esModule?h:{default:h}}var u=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),d=new l.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});n.BackgroundClass=u,n.BackgroundStyle=d}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.DirectionStyle=n.DirectionClass=n.DirectionAttribute=void 0;var s=a(0),o=l(s);function l(m){return m&&m.__esModule?m:{default:m}}var c={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},u=new o.default.Attributor.Attribute("direction","dir",c),d=new o.default.Attributor.Class("direction","ql-direction",c),h=new o.default.Attributor.Style("direction","direction",c);n.DirectionAttribute=u,n.DirectionClass=d,n.DirectionStyle=h}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.FontClass=n.FontStyle=void 0;var s=(function(){function b(w,j){for(var N=0;N<j.length;N++){var S=j[N];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(w,S.key,S)}}return function(w,j,N){return j&&b(w.prototype,j),N&&b(w,N),w}})(),o=function b(w,j,N){w===null&&(w=Function.prototype);var S=Object.getOwnPropertyDescriptor(w,j);if(S===void 0){var P=Object.getPrototypeOf(w);return P===null?void 0:b(P,j,N)}else{if("value"in S)return S.value;var A=S.get;return A===void 0?void 0:A.call(N)}},l=a(0),c=u(l);function u(b){return b&&b.__esModule?b:{default:b}}function d(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function h(b,w){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:b}function m(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(b,w):b.__proto__=w)}var p={scope:c.default.Scope.INLINE,whitelist:["serif","monospace"]},y=new c.default.Attributor.Class("font","ql-font",p),v=(function(b){m(w,b);function w(){return d(this,w),h(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return s(w,[{key:"value",value:function(N){return o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"value",this).call(this,N).replace(/["']/g,"")}}]),w})(c.default.Attributor.Style),g=new v("font","font-family",p);n.FontStyle=g,n.FontClass=y}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.SizeStyle=n.SizeClass=void 0;var s=a(0),o=l(s);function l(d){return d&&d.__esModule?d:{default:d}}var c=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});n.SizeClass=c,n.SizeStyle=u}),(function(r,n,a){r.exports={align:{"":a(76),center:a(77),right:a(78),justify:a(79)},background:a(80),blockquote:a(81),bold:a(82),clean:a(83),code:a(58),"code-block":a(58),color:a(84),direction:{"":a(85),rtl:a(86)},float:{center:a(87),full:a(88),left:a(89),right:a(90)},formula:a(91),header:{1:a(92),2:a(93)},italic:a(94),image:a(95),indent:{"+1":a(96),"-1":a(97)},link:a(98),list:{ordered:a(99),bullet:a(100),check:a(101)},script:{sub:a(102),super:a(103)},strike:a(104),underline:a(105),video:a(106)}}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.getLastChangeIndex=n.default=void 0;var s=(function(){function j(N,S){for(var P=0;P<S.length;P++){var A=S[P];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(N,A.key,A)}}return function(N,S,P){return S&&j(N.prototype,S),P&&j(N,P),N}})(),o=a(0),l=m(o),c=a(5),u=m(c),d=a(9),h=m(d);function m(j){return j&&j.__esModule?j:{default:j}}function p(j,N){if(!(j instanceof N))throw new TypeError("Cannot call a class as a function")}function y(j,N){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:j}function v(j,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);j.prototype=Object.create(N&&N.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(j,N):j.__proto__=N)}var g=(function(j){v(N,j);function N(S,P){p(this,N);var A=y(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,S,P));return A.lastRecorded=0,A.ignoreChange=!1,A.clear(),A.quill.on(u.default.events.EDITOR_CHANGE,function(O,M,F,E){O!==u.default.events.TEXT_CHANGE||A.ignoreChange||(!A.options.userOnly||E===u.default.sources.USER?A.record(M,F):A.transform(M))}),A.quill.keyboard.addBinding({key:"Z",shortKey:!0},A.undo.bind(A)),A.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},A.redo.bind(A)),/Win/i.test(navigator.platform)&&A.quill.keyboard.addBinding({key:"Y",shortKey:!0},A.redo.bind(A)),A}return s(N,[{key:"change",value:function(P,A){if(this.stack[P].length!==0){var O=this.stack[P].pop();this.stack[A].push(O),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(O[P],u.default.sources.USER),this.ignoreChange=!1;var M=w(O[P]);this.quill.setSelection(M)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(P,A){if(P.ops.length!==0){this.stack.redo=[];var O=this.quill.getContents().diff(A),M=Date.now();if(this.lastRecorded+this.options.delay>M&&this.stack.undo.length>0){var F=this.stack.undo.pop();O=O.compose(F.undo),P=F.redo.compose(P)}else this.lastRecorded=M;this.stack.undo.push({redo:P,undo:O}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(P){this.stack.undo.forEach(function(A){A.undo=P.transform(A.undo,!0),A.redo=P.transform(A.redo,!0)}),this.stack.redo.forEach(function(A){A.undo=P.transform(A.undo,!0),A.redo=P.transform(A.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),N})(h.default);g.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function b(j){var N=j.ops[j.ops.length-1];return N==null?!1:N.insert!=null?typeof N.insert=="string"&&N.insert.endsWith(`
`):N.attributes!=null?Object.keys(N.attributes).some(function(S){return l.default.query(S,l.default.Scope.BLOCK)!=null}):!1}function w(j){var N=j.reduce(function(P,A){return P+=A.delete||0,P},0),S=j.length()-N;return b(j)&&(S-=1),S}n.default=g,n.getLastChangeIndex=w}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BaseTooltip=void 0;var s=(function(){function C(U,W){for(var B=0;B<W.length;B++){var K=W[B];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(U,K.key,K)}}return function(U,W,B){return W&&C(U.prototype,W),B&&C(U,B),U}})(),o=function C(U,W,B){U===null&&(U=Function.prototype);var K=Object.getOwnPropertyDescriptor(U,W);if(K===void 0){var re=Object.getPrototypeOf(U);return re===null?void 0:C(re,W,B)}else{if("value"in K)return K.value;var fe=K.get;return fe===void 0?void 0:fe.call(B)}},l=a(3),c=M(l),u=a(2),d=M(u),h=a(8),m=M(h),p=a(23),y=M(p),v=a(34),g=M(v),b=a(59),w=M(b),j=a(60),N=M(j),S=a(28),P=M(S),A=a(61),O=M(A);function M(C){return C&&C.__esModule?C:{default:C}}function F(C,U){if(!(C instanceof U))throw new TypeError("Cannot call a class as a function")}function E(C,U){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U&&(typeof U=="object"||typeof U=="function")?U:C}function T(C,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof U);C.prototype=Object.create(U&&U.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(C,U):C.__proto__=U)}var I=[!1,"center","right","justify"],z=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],Q=[!1,"serif","monospace"],te=["1","2","3",!1],J=["small",!1,"large","huge"],ie=(function(C){T(U,C);function U(W,B){F(this,U);var K=E(this,(U.__proto__||Object.getPrototypeOf(U)).call(this,W,B)),re=function fe(ce){if(!document.body.contains(W.root))return document.body.removeEventListener("click",fe);K.tooltip!=null&&!K.tooltip.root.contains(ce.target)&&document.activeElement!==K.tooltip.textbox&&!K.quill.hasFocus()&&K.tooltip.hide(),K.pickers!=null&&K.pickers.forEach(function(he){he.container.contains(ce.target)||he.close()})};return W.emitter.listenDOM("click",document.body,re),K}return s(U,[{key:"addModule",value:function(B){var K=o(U.prototype.__proto__||Object.getPrototypeOf(U.prototype),"addModule",this).call(this,B);return B==="toolbar"&&this.extendToolbar(K),K}},{key:"buildButtons",value:function(B,K){B.forEach(function(re){var fe=re.getAttribute("class")||"";fe.split(/\s+/).forEach(function(ce){if(ce.startsWith("ql-")&&(ce=ce.slice(3),K[ce]!=null))if(ce==="direction")re.innerHTML=K[ce][""]+K[ce].rtl;else if(typeof K[ce]=="string")re.innerHTML=K[ce];else{var he=re.value||"";he!=null&&K[ce][he]&&(re.innerHTML=K[ce][he])}})})}},{key:"buildPickers",value:function(B,K){var re=this;this.pickers=B.map(function(ce){if(ce.classList.contains("ql-align"))return ce.querySelector("option")==null&&q(ce,I),new N.default(ce,K.align);if(ce.classList.contains("ql-background")||ce.classList.contains("ql-color")){var he=ce.classList.contains("ql-background")?"background":"color";return ce.querySelector("option")==null&&q(ce,z,he==="background"?"#ffffff":"#000000"),new w.default(ce,K[he])}else return ce.querySelector("option")==null&&(ce.classList.contains("ql-font")?q(ce,Q):ce.classList.contains("ql-header")?q(ce,te):ce.classList.contains("ql-size")&&q(ce,J)),new P.default(ce)});var fe=function(){re.pickers.forEach(function(he){he.update()})};this.quill.on(m.default.events.EDITOR_CHANGE,fe)}}]),U})(g.default);ie.DEFAULTS=(0,c.default)(!0,{},g.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var U=this,W=this.container.querySelector("input.ql-image[type=file]");W==null&&(W=document.createElement("input"),W.setAttribute("type","file"),W.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),W.classList.add("ql-image"),W.addEventListener("change",function(){if(W.files!=null&&W.files[0]!=null){var B=new FileReader;B.onload=function(K){var re=U.quill.getSelection(!0);U.quill.updateContents(new d.default().retain(re.index).delete(re.length).insert({image:K.target.result}),m.default.sources.USER),U.quill.setSelection(re.index+1,m.default.sources.SILENT),W.value=""},B.readAsDataURL(W.files[0])}}),this.container.appendChild(W)),W.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var X=(function(C){T(U,C);function U(W,B){F(this,U);var K=E(this,(U.__proto__||Object.getPrototypeOf(U)).call(this,W,B));return K.textbox=K.root.querySelector('input[type="text"]'),K.listen(),K}return s(U,[{key:"listen",value:function(){var B=this;this.textbox.addEventListener("keydown",function(K){y.default.match(K,"enter")?(B.save(),K.preventDefault()):y.default.match(K,"escape")&&(B.cancel(),K.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),K!=null?this.textbox.value=K:B!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+B)||""),this.root.setAttribute("data-mode",B)}},{key:"restoreFocus",value:function(){var B=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=B}},{key:"save",value:function(){var B=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var K=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",B,m.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",B,m.default.sources.USER)),this.quill.root.scrollTop=K;break}case"video":B=Z(B);case"formula":{if(!B)break;var re=this.quill.getSelection(!0);if(re!=null){var fe=re.index+re.length;this.quill.insertEmbed(fe,this.root.getAttribute("data-mode"),B,m.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(fe+1," ",m.default.sources.USER),this.quill.setSelection(fe+2,m.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),U})(O.default);function Z(C){var U=C.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||C.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return U?(U[1]||"https")+"://www.youtube.com/embed/"+U[2]+"?showinfo=0":(U=C.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(U[1]||"https")+"://player.vimeo.com/video/"+U[2]+"/":C}function q(C,U){var W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;U.forEach(function(B){var K=document.createElement("option");B===W?K.setAttribute("selected","selected"):K.setAttribute("value",B),C.appendChild(K)})}n.BaseTooltip=X,n.default=ie}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=(function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];this.insertBefore(l[0],null),l.length>1&&this.append.apply(this,l.slice(1))},o.prototype.contains=function(l){for(var c,u=this.iterator();c=u();)if(c===l)return!0;return!1},o.prototype.insertBefore=function(l,c){l&&(l.next=c,c!=null?(l.prev=c.prev,c.prev!=null&&(c.prev.next=l),c.prev=l,c===this.head&&(this.head=l)):this.tail!=null?(this.tail.next=l,l.prev=this.tail,this.tail=l):(l.prev=null,this.head=this.tail=l),this.length+=1)},o.prototype.offset=function(l){for(var c=0,u=this.head;u!=null;){if(u===l)return c;c+=u.length(),u=u.next}return-1},o.prototype.remove=function(l){this.contains(l)&&(l.prev!=null&&(l.prev.next=l.next),l.next!=null&&(l.next.prev=l.prev),l===this.head&&(this.head=l.next),l===this.tail&&(this.tail=l.prev),this.length-=1)},o.prototype.iterator=function(l){return l===void 0&&(l=this.head),function(){var c=l;return l!=null&&(l=l.next),c}},o.prototype.find=function(l,c){c===void 0&&(c=!1);for(var u,d=this.iterator();u=d();){var h=u.length();if(l<h||c&&l===h&&(u.next==null||u.next.length()!==0))return[u,l];l-=h}return[null,0]},o.prototype.forEach=function(l){for(var c,u=this.iterator();c=u();)l(c)},o.prototype.forEachAt=function(l,c,u){if(!(c<=0))for(var d=this.find(l),h=d[0],m=d[1],p,y=l-m,v=this.iterator(h);(p=v())&&y<l+c;){var g=p.length();l>y?u(p,l-y,Math.min(c,y+g-l)):u(p,0,Math.min(g,l+c-y)),y+=g}},o.prototype.map=function(l){return this.reduce(function(c,u){return c.push(l(u)),c},[])},o.prototype.reduce=function(l,c){for(var u,d=this.iterator();u=d();)c=l(c,u);return c},o})();n.default=s}),(function(r,n,a){var s=this&&this.__extends||(function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,p){m.__proto__=p}||function(m,p){for(var y in p)p.hasOwnProperty(y)&&(m[y]=p[y])};return function(m,p){h(m,p);function y(){this.constructor=m}m.prototype=p===null?Object.create(p):(y.prototype=p.prototype,new y)}})();Object.defineProperty(n,"__esModule",{value:!0});var o=a(17),l=a(1),c={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,d=(function(h){s(m,h);function m(p){var y=h.call(this,p)||this;return y.scroll=y,y.observer=new MutationObserver(function(v){y.update(v)}),y.observer.observe(y.domNode,c),y.attach(),y}return m.prototype.detach=function(){h.prototype.detach.call(this),this.observer.disconnect()},m.prototype.deleteAt=function(p,y){this.update(),p===0&&y===this.length()?this.children.forEach(function(v){v.remove()}):h.prototype.deleteAt.call(this,p,y)},m.prototype.formatAt=function(p,y,v,g){this.update(),h.prototype.formatAt.call(this,p,y,v,g)},m.prototype.insertAt=function(p,y,v){this.update(),h.prototype.insertAt.call(this,p,y,v)},m.prototype.optimize=function(p,y){var v=this;p===void 0&&(p=[]),y===void 0&&(y={}),h.prototype.optimize.call(this,y);for(var g=[].slice.call(this.observer.takeRecords());g.length>0;)p.push(g.pop());for(var b=function(S,P){P===void 0&&(P=!0),!(S==null||S===v)&&S.domNode.parentNode!=null&&(S.domNode[l.DATA_KEY].mutations==null&&(S.domNode[l.DATA_KEY].mutations=[]),P&&b(S.parent))},w=function(S){S.domNode[l.DATA_KEY]==null||S.domNode[l.DATA_KEY].mutations==null||(S instanceof o.default&&S.children.forEach(w),S.optimize(y))},j=p,N=0;j.length>0;N+=1){if(N>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(j.forEach(function(S){var P=l.find(S.target,!0);P!=null&&(P.domNode===S.target&&(S.type==="childList"?(b(l.find(S.previousSibling,!1)),[].forEach.call(S.addedNodes,function(A){var O=l.find(A,!1);b(O,!1),O instanceof o.default&&O.children.forEach(function(M){b(M,!1)})})):S.type==="attributes"&&b(P.prev)),b(P))}),this.children.forEach(w),j=[].slice.call(this.observer.takeRecords()),g=j.slice();g.length>0;)p.push(g.pop())}},m.prototype.update=function(p,y){var v=this;y===void 0&&(y={}),p=p||this.observer.takeRecords(),p.map(function(g){var b=l.find(g.target,!0);return b==null?null:b.domNode[l.DATA_KEY].mutations==null?(b.domNode[l.DATA_KEY].mutations=[g],b):(b.domNode[l.DATA_KEY].mutations.push(g),null)}).forEach(function(g){g==null||g===v||g.domNode[l.DATA_KEY]==null||g.update(g.domNode[l.DATA_KEY].mutations||[],y)}),this.domNode[l.DATA_KEY].mutations!=null&&h.prototype.update.call(this,this.domNode[l.DATA_KEY].mutations,y),this.optimize(p,y)},m.blotName="scroll",m.defaultChild="block",m.scope=l.Scope.BLOCK_BLOT,m.tagName="DIV",m})(o.default);n.default=d}),(function(r,n,a){var s=this&&this.__extends||(function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,m){h.__proto__=m}||function(h,m){for(var p in m)m.hasOwnProperty(p)&&(h[p]=m[p])};return function(h,m){d(h,m);function p(){this.constructor=h}h.prototype=m===null?Object.create(m):(p.prototype=m.prototype,new p)}})();Object.defineProperty(n,"__esModule",{value:!0});var o=a(18),l=a(1);function c(d,h){if(Object.keys(d).length!==Object.keys(h).length)return!1;for(var m in d)if(d[m]!==h[m])return!1;return!0}var u=(function(d){s(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.formats=function(m){if(m.tagName!==h.tagName)return d.formats.call(this,m)},h.prototype.format=function(m,p){var y=this;m===this.statics.blotName&&!p?(this.children.forEach(function(v){v instanceof o.default||(v=v.wrap(h.blotName,!0)),y.attributes.copy(v)}),this.unwrap()):d.prototype.format.call(this,m,p)},h.prototype.formatAt=function(m,p,y,v){if(this.formats()[y]!=null||l.query(y,l.Scope.ATTRIBUTE)){var g=this.isolate(m,p);g.format(y,v)}else d.prototype.formatAt.call(this,m,p,y,v)},h.prototype.optimize=function(m){d.prototype.optimize.call(this,m);var p=this.formats();if(Object.keys(p).length===0)return this.unwrap();var y=this.next;y instanceof h&&y.prev===this&&c(p,y.formats())&&(y.moveChildren(this),y.remove())},h.blotName="inline",h.scope=l.Scope.INLINE_BLOT,h.tagName="SPAN",h})(o.default);n.default=u}),(function(r,n,a){var s=this&&this.__extends||(function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var m in h)h.hasOwnProperty(m)&&(d[m]=h[m])};return function(d,h){u(d,h);function m(){this.constructor=d}d.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}})();Object.defineProperty(n,"__esModule",{value:!0});var o=a(18),l=a(1),c=(function(u){s(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.formats=function(h){var m=l.query(d.blotName).tagName;if(h.tagName!==m)return u.formats.call(this,h)},d.prototype.format=function(h,m){l.query(h,l.Scope.BLOCK)!=null&&(h===this.statics.blotName&&!m?this.replaceWith(d.blotName):u.prototype.format.call(this,h,m))},d.prototype.formatAt=function(h,m,p,y){l.query(p,l.Scope.BLOCK)!=null?this.format(p,y):u.prototype.formatAt.call(this,h,m,p,y)},d.prototype.insertAt=function(h,m,p){if(p==null||l.query(m,l.Scope.INLINE)!=null)u.prototype.insertAt.call(this,h,m,p);else{var y=this.split(h),v=l.create(m,p);y.parent.insertBefore(v,y)}},d.prototype.update=function(h,m){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,h,m)},d.blotName="block",d.scope=l.Scope.BLOCK_BLOT,d.tagName="P",d})(o.default);n.default=c}),(function(r,n,a){var s=this&&this.__extends||(function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var h in d)d.hasOwnProperty(h)&&(u[h]=d[h])};return function(u,d){c(u,d);function h(){this.constructor=u}u.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}})();Object.defineProperty(n,"__esModule",{value:!0});var o=a(19),l=(function(c){s(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.formats=function(d){},u.prototype.format=function(d,h){c.prototype.formatAt.call(this,0,this.length(),d,h)},u.prototype.formatAt=function(d,h,m,p){d===0&&h===this.length()?this.format(m,p):c.prototype.formatAt.call(this,d,h,m,p)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u})(o.default);n.default=l}),(function(r,n,a){var s=this&&this.__extends||(function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var m in h)h.hasOwnProperty(m)&&(d[m]=h[m])};return function(d,h){u(d,h);function m(){this.constructor=d}d.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}})();Object.defineProperty(n,"__esModule",{value:!0});var o=a(19),l=a(1),c=(function(u){s(d,u);function d(h){var m=u.call(this,h)||this;return m.text=m.statics.value(m.domNode),m}return d.create=function(h){return document.createTextNode(h)},d.value=function(h){var m=h.data;return m.normalize&&(m=m.normalize()),m},d.prototype.deleteAt=function(h,m){this.domNode.data=this.text=this.text.slice(0,h)+this.text.slice(h+m)},d.prototype.index=function(h,m){return this.domNode===h?m:-1},d.prototype.insertAt=function(h,m,p){p==null?(this.text=this.text.slice(0,h)+m+this.text.slice(h),this.domNode.data=this.text):u.prototype.insertAt.call(this,h,m,p)},d.prototype.length=function(){return this.text.length},d.prototype.optimize=function(h){u.prototype.optimize.call(this,h),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof d&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},d.prototype.position=function(h,m){return[this.domNode,h]},d.prototype.split=function(h,m){if(m===void 0&&(m=!1),!m){if(h===0)return this;if(h===this.length())return this.next}var p=l.create(this.domNode.splitText(h));return this.parent.insertBefore(p,this.next),this.text=this.statics.value(this.domNode),p},d.prototype.update=function(h,m){var p=this;h.some(function(y){return y.type==="characterData"&&y.target===p.domNode})&&(this.text=this.statics.value(this.domNode))},d.prototype.value=function(){return this.text},d.blotName="text",d.scope=l.Scope.INLINE_BLOT,d})(o.default);n.default=c}),(function(r,n,a){var s=document.createElement("div");if(s.classList.toggle("test-class",!1),s.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(l,c){return arguments.length>1&&!this.contains(l)==!c?c:o.call(this,l)}}String.prototype.startsWith||(String.prototype.startsWith=function(l,c){return c=c||0,this.substr(c,l.length)===l}),String.prototype.endsWith||(String.prototype.endsWith=function(l,c){var u=this.toString();(typeof c!="number"||!isFinite(c)||Math.floor(c)!==c||c>u.length)&&(c=u.length),c-=l.length;var d=u.indexOf(l,c);return d!==-1&&d===c}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(c){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof c!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),d=u.length>>>0,h=arguments[1],m,p=0;p<d;p++)if(m=u[p],c.call(h,m,p,u))return m}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})}),(function(r,n){var a=-1,s=1,o=0;function l(N,S,P){if(N==S)return N?[[o,N]]:[];(P<0||N.length<P)&&(P=null);var A=h(N,S),O=N.substring(0,A);N=N.substring(A),S=S.substring(A),A=m(N,S);var M=N.substring(N.length-A);N=N.substring(0,N.length-A),S=S.substring(0,S.length-A);var F=c(N,S);return O&&F.unshift([o,O]),M&&F.push([o,M]),y(F),P!=null&&(F=b(F,P)),F=w(F),F}function c(N,S){var P;if(!N)return[[s,S]];if(!S)return[[a,N]];var A=N.length>S.length?N:S,O=N.length>S.length?S:N,M=A.indexOf(O);if(M!=-1)return P=[[s,A.substring(0,M)],[o,O],[s,A.substring(M+O.length)]],N.length>S.length&&(P[0][0]=P[2][0]=a),P;if(O.length==1)return[[a,N],[s,S]];var F=p(N,S);if(F){var E=F[0],T=F[1],I=F[2],z=F[3],Q=F[4],te=l(E,I),J=l(T,z);return te.concat([[o,Q]],J)}return u(N,S)}function u(N,S){for(var P=N.length,A=S.length,O=Math.ceil((P+A)/2),M=O,F=2*O,E=new Array(F),T=new Array(F),I=0;I<F;I++)E[I]=-1,T[I]=-1;E[M+1]=0,T[M+1]=0;for(var z=P-A,Q=z%2!=0,te=0,J=0,ie=0,X=0,Z=0;Z<O;Z++){for(var q=-Z+te;q<=Z-J;q+=2){var C=M+q,U;q==-Z||q!=Z&&E[C-1]<E[C+1]?U=E[C+1]:U=E[C-1]+1;for(var W=U-q;U<P&&W<A&&N.charAt(U)==S.charAt(W);)U++,W++;if(E[C]=U,U>P)J+=2;else if(W>A)te+=2;else if(Q){var B=M+z-q;if(B>=0&&B<F&&T[B]!=-1){var K=P-T[B];if(U>=K)return d(N,S,U,W)}}}for(var re=-Z+ie;re<=Z-X;re+=2){var B=M+re,K;re==-Z||re!=Z&&T[B-1]<T[B+1]?K=T[B+1]:K=T[B-1]+1;for(var fe=K-re;K<P&&fe<A&&N.charAt(P-K-1)==S.charAt(A-fe-1);)K++,fe++;if(T[B]=K,K>P)X+=2;else if(fe>A)ie+=2;else if(!Q){var C=M+z-re;if(C>=0&&C<F&&E[C]!=-1){var U=E[C],W=M+U-C;if(K=P-K,U>=K)return d(N,S,U,W)}}}}return[[a,N],[s,S]]}function d(N,S,P,A){var O=N.substring(0,P),M=S.substring(0,A),F=N.substring(P),E=S.substring(A),T=l(O,M),I=l(F,E);return T.concat(I)}function h(N,S){if(!N||!S||N.charAt(0)!=S.charAt(0))return 0;for(var P=0,A=Math.min(N.length,S.length),O=A,M=0;P<O;)N.substring(M,O)==S.substring(M,O)?(P=O,M=P):A=O,O=Math.floor((A-P)/2+P);return O}function m(N,S){if(!N||!S||N.charAt(N.length-1)!=S.charAt(S.length-1))return 0;for(var P=0,A=Math.min(N.length,S.length),O=A,M=0;P<O;)N.substring(N.length-O,N.length-M)==S.substring(S.length-O,S.length-M)?(P=O,M=P):A=O,O=Math.floor((A-P)/2+P);return O}function p(N,S){var P=N.length>S.length?N:S,A=N.length>S.length?S:N;if(P.length<4||A.length*2<P.length)return null;function O(J,ie,X){for(var Z=J.substring(X,X+Math.floor(J.length/4)),q=-1,C="",U,W,B,K;(q=ie.indexOf(Z,q+1))!=-1;){var re=h(J.substring(X),ie.substring(q)),fe=m(J.substring(0,X),ie.substring(0,q));C.length<fe+re&&(C=ie.substring(q-fe,q)+ie.substring(q,q+re),U=J.substring(0,X-fe),W=J.substring(X+re),B=ie.substring(0,q-fe),K=ie.substring(q+re))}return C.length*2>=J.length?[U,W,B,K,C]:null}var M=O(P,A,Math.ceil(P.length/4)),F=O(P,A,Math.ceil(P.length/2)),E;if(!M&&!F)return null;F?M?E=M[4].length>F[4].length?M:F:E=F:E=M;var T,I,z,Q;N.length>S.length?(T=E[0],I=E[1],z=E[2],Q=E[3]):(z=E[0],Q=E[1],T=E[2],I=E[3]);var te=E[4];return[T,I,z,Q,te]}function y(N){N.push([o,""]);for(var S=0,P=0,A=0,O="",M="",F;S<N.length;)switch(N[S][0]){case s:A++,M+=N[S][1],S++;break;case a:P++,O+=N[S][1],S++;break;case o:P+A>1?(P!==0&&A!==0&&(F=h(M,O),F!==0&&(S-P-A>0&&N[S-P-A-1][0]==o?N[S-P-A-1][1]+=M.substring(0,F):(N.splice(0,0,[o,M.substring(0,F)]),S++),M=M.substring(F),O=O.substring(F)),F=m(M,O),F!==0&&(N[S][1]=M.substring(M.length-F)+N[S][1],M=M.substring(0,M.length-F),O=O.substring(0,O.length-F))),P===0?N.splice(S-A,P+A,[s,M]):A===0?N.splice(S-P,P+A,[a,O]):N.splice(S-P-A,P+A,[a,O],[s,M]),S=S-P-A+(P?1:0)+(A?1:0)+1):S!==0&&N[S-1][0]==o?(N[S-1][1]+=N[S][1],N.splice(S,1)):S++,A=0,P=0,O="",M="";break}N[N.length-1][1]===""&&N.pop();var E=!1;for(S=1;S<N.length-1;)N[S-1][0]==o&&N[S+1][0]==o&&(N[S][1].substring(N[S][1].length-N[S-1][1].length)==N[S-1][1]?(N[S][1]=N[S-1][1]+N[S][1].substring(0,N[S][1].length-N[S-1][1].length),N[S+1][1]=N[S-1][1]+N[S+1][1],N.splice(S-1,1),E=!0):N[S][1].substring(0,N[S+1][1].length)==N[S+1][1]&&(N[S-1][1]+=N[S+1][1],N[S][1]=N[S][1].substring(N[S+1][1].length)+N[S+1][1],N.splice(S+1,1),E=!0)),S++;E&&y(N)}var v=l;v.INSERT=s,v.DELETE=a,v.EQUAL=o,r.exports=v;function g(N,S){if(S===0)return[o,N];for(var P=0,A=0;A<N.length;A++){var O=N[A];if(O[0]===a||O[0]===o){var M=P+O[1].length;if(S===M)return[A+1,N];if(S<M){N=N.slice();var F=S-P,E=[O[0],O[1].slice(0,F)],T=[O[0],O[1].slice(F)];return N.splice(A,1,E,T),[A+1,N]}else P=M}}throw new Error("cursor_pos is out of bounds!")}function b(N,S){var P=g(N,S),A=P[1],O=P[0],M=A[O],F=A[O+1];if(M==null)return N;if(M[0]!==o)return N;if(F!=null&&M[1]+F[1]===F[1]+M[1])return A.splice(O,2,F,M),j(A,O,2);if(F!=null&&F[1].indexOf(M[1])===0){A.splice(O,2,[F[0],M[1]],[0,M[1]]);var E=F[1].slice(M[1].length);return E.length>0&&A.splice(O+2,0,[F[0],E]),j(A,O,3)}else return N}function w(N){for(var S=!1,P=function(F){return F.charCodeAt(0)>=56320&&F.charCodeAt(0)<=57343},A=function(F){return F.charCodeAt(F.length-1)>=55296&&F.charCodeAt(F.length-1)<=56319},O=2;O<N.length;O+=1)N[O-2][0]===o&&A(N[O-2][1])&&N[O-1][0]===a&&P(N[O-1][1])&&N[O][0]===s&&P(N[O][1])&&(S=!0,N[O-1][1]=N[O-2][1].slice(-1)+N[O-1][1],N[O][1]=N[O-2][1].slice(-1)+N[O][1],N[O-2][1]=N[O-2][1].slice(0,-1));if(!S)return N;for(var M=[],O=0;O<N.length;O+=1)N[O][1].length>0&&M.push(N[O]);return M}function j(N,S,P){for(var A=S+P-1;A>=0&&A>=S-1;A--)if(A+1<N.length){var O=N[A],M=N[A+1];O[0]===M[1]&&N.splice(A,2,[O[0],O[1]+M[1]])}return N}}),(function(r,n){n=r.exports=typeof Object.keys=="function"?Object.keys:a,n.shim=a;function a(s){var o=[];for(var l in s)o.push(l);return o}}),(function(r,n){var a=(function(){return Object.prototype.toString.call(arguments)})()=="[object Arguments]";n=r.exports=a?s:o,n.supported=s;function s(l){return Object.prototype.toString.call(l)=="[object Arguments]"}n.unsupported=o;function o(l){return l&&typeof l=="object"&&typeof l.length=="number"&&Object.prototype.hasOwnProperty.call(l,"callee")&&!Object.prototype.propertyIsEnumerable.call(l,"callee")||!1}}),(function(r,n){var a=Object.prototype.hasOwnProperty,s="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(s=!1));function l(u,d,h){this.fn=u,this.context=d,this.once=h||!1}function c(){this._events=new o,this._eventsCount=0}c.prototype.eventNames=function(){var d=[],h,m;if(this._eventsCount===0)return d;for(m in h=this._events)a.call(h,m)&&d.push(s?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},c.prototype.listeners=function(d,h){var m=s?s+d:d,p=this._events[m];if(h)return!!p;if(!p)return[];if(p.fn)return[p.fn];for(var y=0,v=p.length,g=new Array(v);y<v;y++)g[y]=p[y].fn;return g},c.prototype.emit=function(d,h,m,p,y,v){var g=s?s+d:d;if(!this._events[g])return!1;var b=this._events[g],w=arguments.length,j,N;if(b.fn){switch(b.once&&this.removeListener(d,b.fn,void 0,!0),w){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,h),!0;case 3:return b.fn.call(b.context,h,m),!0;case 4:return b.fn.call(b.context,h,m,p),!0;case 5:return b.fn.call(b.context,h,m,p,y),!0;case 6:return b.fn.call(b.context,h,m,p,y,v),!0}for(N=1,j=new Array(w-1);N<w;N++)j[N-1]=arguments[N];b.fn.apply(b.context,j)}else{var S=b.length,P;for(N=0;N<S;N++)switch(b[N].once&&this.removeListener(d,b[N].fn,void 0,!0),w){case 1:b[N].fn.call(b[N].context);break;case 2:b[N].fn.call(b[N].context,h);break;case 3:b[N].fn.call(b[N].context,h,m);break;case 4:b[N].fn.call(b[N].context,h,m,p);break;default:if(!j)for(P=1,j=new Array(w-1);P<w;P++)j[P-1]=arguments[P];b[N].fn.apply(b[N].context,j)}}return!0},c.prototype.on=function(d,h,m){var p=new l(h,m||this),y=s?s+d:d;return this._events[y]?this._events[y].fn?this._events[y]=[this._events[y],p]:this._events[y].push(p):(this._events[y]=p,this._eventsCount++),this},c.prototype.once=function(d,h,m){var p=new l(h,m||this,!0),y=s?s+d:d;return this._events[y]?this._events[y].fn?this._events[y]=[this._events[y],p]:this._events[y].push(p):(this._events[y]=p,this._eventsCount++),this},c.prototype.removeListener=function(d,h,m,p){var y=s?s+d:d;if(!this._events[y])return this;if(!h)return--this._eventsCount===0?this._events=new o:delete this._events[y],this;var v=this._events[y];if(v.fn)v.fn===h&&(!p||v.once)&&(!m||v.context===m)&&(--this._eventsCount===0?this._events=new o:delete this._events[y]);else{for(var g=0,b=[],w=v.length;g<w;g++)(v[g].fn!==h||p&&!v[g].once||m&&v[g].context!==m)&&b.push(v[g]);b.length?this._events[y]=b.length===1?b[0]:b:--this._eventsCount===0?this._events=new o:delete this._events[y]}return this},c.prototype.removeAllListeners=function(d){var h;return d?(h=s?s+d:d,this._events[h]&&(--this._eventsCount===0?this._events=new o:delete this._events[h])):(this._events=new o,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prototype.setMaxListeners=function(){return this},c.prefixed=s,c.EventEmitter=c,typeof r<"u"&&(r.exports=c)}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.matchText=n.matchSpacing=n.matchNewline=n.matchBlot=n.matchAttributor=n.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Se){return typeof Se}:function(Se){return Se&&typeof Symbol=="function"&&Se.constructor===Symbol&&Se!==Symbol.prototype?"symbol":typeof Se},o=(function(){function Se(Pe,pe){var ae=[],ye=!0,Be=!1,$e=void 0;try{for(var rt=Pe[Symbol.iterator](),ft;!(ye=(ft=rt.next()).done)&&(ae.push(ft.value),!(pe&&ae.length===pe));ye=!0);}catch(Nt){Be=!0,$e=Nt}finally{try{!ye&&rt.return&&rt.return()}finally{if(Be)throw $e}}return ae}return function(Pe,pe){if(Array.isArray(Pe))return Pe;if(Symbol.iterator in Object(Pe))return Se(Pe,pe);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function Se(Pe,pe){for(var ae=0;ae<pe.length;ae++){var ye=pe[ae];ye.enumerable=ye.enumerable||!1,ye.configurable=!0,"value"in ye&&(ye.writable=!0),Object.defineProperty(Pe,ye.key,ye)}}return function(Pe,pe,ae){return pe&&Se(Pe.prototype,pe),ae&&Se(Pe,ae),Pe}})(),c=a(3),u=T(c),d=a(2),h=T(d),m=a(0),p=T(m),y=a(5),v=T(y),g=a(10),b=T(g),w=a(9),j=T(w),N=a(36),S=a(37),P=a(13),A=T(P),O=a(26),M=a(38),F=a(39),E=a(40);function T(Se){return Se&&Se.__esModule?Se:{default:Se}}function I(Se,Pe,pe){return Pe in Se?Object.defineProperty(Se,Pe,{value:pe,enumerable:!0,configurable:!0,writable:!0}):Se[Pe]=pe,Se}function z(Se,Pe){if(!(Se instanceof Pe))throw new TypeError("Cannot call a class as a function")}function Q(Se,Pe){if(!Se)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Pe&&(typeof Pe=="object"||typeof Pe=="function")?Pe:Se}function te(Se,Pe){if(typeof Pe!="function"&&Pe!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Pe);Se.prototype=Object.create(Pe&&Pe.prototype,{constructor:{value:Se,enumerable:!1,writable:!0,configurable:!0}}),Pe&&(Object.setPrototypeOf?Object.setPrototypeOf(Se,Pe):Se.__proto__=Pe)}var J=(0,b.default)("quill:clipboard"),ie="__ql-matcher",X=[[Node.TEXT_NODE,_e],[Node.TEXT_NODE,je],["br",Oe],[Node.ELEMENT_NODE,je],[Node.ELEMENT_NODE,he],[Node.ELEMENT_NODE,oe],[Node.ELEMENT_NODE,ce],[Node.ELEMENT_NODE,ue],["li",De],["b",fe.bind(fe,"bold")],["i",fe.bind(fe,"italic")],["style",ee]],Z=[N.AlignAttribute,M.DirectionAttribute].reduce(function(Se,Pe){return Se[Pe.keyName]=Pe,Se},{}),q=[N.AlignStyle,S.BackgroundStyle,O.ColorStyle,M.DirectionStyle,F.FontStyle,E.SizeStyle].reduce(function(Se,Pe){return Se[Pe.keyName]=Pe,Se},{}),C=(function(Se){te(Pe,Se);function Pe(pe,ae){z(this,Pe);var ye=Q(this,(Pe.__proto__||Object.getPrototypeOf(Pe)).call(this,pe,ae));return ye.quill.root.addEventListener("paste",ye.onPaste.bind(ye)),ye.container=ye.quill.addContainer("ql-clipboard"),ye.container.setAttribute("contenteditable",!0),ye.container.setAttribute("tabindex",-1),ye.matchers=[],X.concat(ye.options.matchers).forEach(function(Be){var $e=o(Be,2),rt=$e[0],ft=$e[1];!ae.matchVisual&&ft===oe||ye.addMatcher(rt,ft)}),ye}return l(Pe,[{key:"addMatcher",value:function(ae,ye){this.matchers.push([ae,ye])}},{key:"convert",value:function(ae){if(typeof ae=="string")return this.container.innerHTML=ae.replace(/\>\r?\n +\</g,"><"),this.convert();var ye=this.quill.getFormat(this.quill.selection.savedRange.index);if(ye[A.default.blotName]){var Be=this.container.innerText;return this.container.innerHTML="",new h.default().insert(Be,I({},A.default.blotName,ye[A.default.blotName]))}var $e=this.prepareMatching(),rt=o($e,2),ft=rt[0],Nt=rt[1],Ue=re(this.container,ft,Nt);return B(Ue,`
`)&&Ue.ops[Ue.ops.length-1].attributes==null&&(Ue=Ue.compose(new h.default().retain(Ue.length()-1).delete(1))),J.log("convert",this.container.innerHTML,Ue),this.container.innerHTML="",Ue}},{key:"dangerouslyPasteHTML",value:function(ae,ye){var Be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof ae=="string")this.quill.setContents(this.convert(ae),ye),this.quill.setSelection(0,v.default.sources.SILENT);else{var $e=this.convert(ye);this.quill.updateContents(new h.default().retain(ae).concat($e),Be),this.quill.setSelection(ae+$e.length(),v.default.sources.SILENT)}}},{key:"onPaste",value:function(ae){var ye=this;if(!(ae.defaultPrevented||!this.quill.isEnabled())){var Be=this.quill.getSelection(),$e=new h.default().retain(Be.index),rt=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(v.default.sources.SILENT),setTimeout(function(){$e=$e.concat(ye.convert()).delete(Be.length),ye.quill.updateContents($e,v.default.sources.USER),ye.quill.setSelection($e.length()-Be.length,v.default.sources.SILENT),ye.quill.scrollingContainer.scrollTop=rt,ye.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ae=this,ye=[],Be=[];return this.matchers.forEach(function($e){var rt=o($e,2),ft=rt[0],Nt=rt[1];switch(ft){case Node.TEXT_NODE:Be.push(Nt);break;case Node.ELEMENT_NODE:ye.push(Nt);break;default:[].forEach.call(ae.container.querySelectorAll(ft),function(Ue){Ue[ie]=Ue[ie]||[],Ue[ie].push(Nt)});break}}),[ye,Be]}}]),Pe})(j.default);C.DEFAULTS={matchers:[],matchVisual:!0};function U(Se,Pe,pe){return(typeof Pe>"u"?"undefined":s(Pe))==="object"?Object.keys(Pe).reduce(function(ae,ye){return U(ae,ye,Pe[ye])},Se):Se.reduce(function(ae,ye){return ye.attributes&&ye.attributes[Pe]?ae.push(ye):ae.insert(ye.insert,(0,u.default)({},I({},Pe,pe),ye.attributes))},new h.default)}function W(Se){if(Se.nodeType!==Node.ELEMENT_NODE)return{};var Pe="__ql-computed-style";return Se[Pe]||(Se[Pe]=window.getComputedStyle(Se))}function B(Se,Pe){for(var pe="",ae=Se.ops.length-1;ae>=0&&pe.length<Pe.length;--ae){var ye=Se.ops[ae];if(typeof ye.insert!="string")break;pe=ye.insert+pe}return pe.slice(-1*Pe.length)===Pe}function K(Se){if(Se.childNodes.length===0)return!1;var Pe=W(Se);return["block","list-item"].indexOf(Pe.display)>-1}function re(Se,Pe,pe){return Se.nodeType===Se.TEXT_NODE?pe.reduce(function(ae,ye){return ye(Se,ae)},new h.default):Se.nodeType===Se.ELEMENT_NODE?[].reduce.call(Se.childNodes||[],function(ae,ye){var Be=re(ye,Pe,pe);return ye.nodeType===Se.ELEMENT_NODE&&(Be=Pe.reduce(function($e,rt){return rt(ye,$e)},Be),Be=(ye[ie]||[]).reduce(function($e,rt){return rt(ye,$e)},Be)),ae.concat(Be)},new h.default):new h.default}function fe(Se,Pe,pe){return U(pe,Se,!0)}function ce(Se,Pe){var pe=p.default.Attributor.Attribute.keys(Se),ae=p.default.Attributor.Class.keys(Se),ye=p.default.Attributor.Style.keys(Se),Be={};return pe.concat(ae).concat(ye).forEach(function($e){var rt=p.default.query($e,p.default.Scope.ATTRIBUTE);rt!=null&&(Be[rt.attrName]=rt.value(Se),Be[rt.attrName])||(rt=Z[$e],rt!=null&&(rt.attrName===$e||rt.keyName===$e)&&(Be[rt.attrName]=rt.value(Se)||void 0),rt=q[$e],rt!=null&&(rt.attrName===$e||rt.keyName===$e)&&(rt=q[$e],Be[rt.attrName]=rt.value(Se)||void 0))}),Object.keys(Be).length>0&&(Pe=U(Pe,Be)),Pe}function he(Se,Pe){var pe=p.default.query(Se);if(pe==null)return Pe;if(pe.prototype instanceof p.default.Embed){var ae={},ye=pe.value(Se);ye!=null&&(ae[pe.blotName]=ye,Pe=new h.default().insert(ae,pe.formats(Se)))}else typeof pe.formats=="function"&&(Pe=U(Pe,pe.blotName,pe.formats(Se)));return Pe}function Oe(Se,Pe){return B(Pe,`
`)||Pe.insert(`
`),Pe}function ee(){return new h.default}function De(Se,Pe){var pe=p.default.query(Se);if(pe==null||pe.blotName!=="list-item"||!B(Pe,`
`))return Pe;for(var ae=-1,ye=Se.parentNode;!ye.classList.contains("ql-clipboard");)(p.default.query(ye)||{}).blotName==="list"&&(ae+=1),ye=ye.parentNode;return ae<=0?Pe:Pe.compose(new h.default().retain(Pe.length()-1).retain(1,{indent:ae}))}function je(Se,Pe){return B(Pe,`
`)||(K(Se)||Pe.length()>0&&Se.nextSibling&&K(Se.nextSibling))&&Pe.insert(`
`),Pe}function oe(Se,Pe){if(K(Se)&&Se.nextElementSibling!=null&&!B(Pe,`

`)){var pe=Se.offsetHeight+parseFloat(W(Se).marginTop)+parseFloat(W(Se).marginBottom);Se.nextElementSibling.offsetTop>Se.offsetTop+pe*1.5&&Pe.insert(`
`)}return Pe}function ue(Se,Pe){var pe={},ae=Se.style||{};return ae.fontStyle&&W(Se).fontStyle==="italic"&&(pe.italic=!0),ae.fontWeight&&(W(Se).fontWeight.startsWith("bold")||parseInt(W(Se).fontWeight)>=700)&&(pe.bold=!0),Object.keys(pe).length>0&&(Pe=U(Pe,pe)),parseFloat(ae.textIndent||0)>0&&(Pe=new h.default().insert("	").concat(Pe)),Pe}function _e(Se,Pe){var pe=Se.data;if(Se.parentNode.tagName==="O:P")return Pe.insert(pe.trim());if(pe.trim().length===0&&Se.parentNode.classList.contains("ql-clipboard"))return Pe;if(!W(Se.parentNode).whiteSpace.startsWith("pre")){var ae=function(Be,$e){return $e=$e.replace(/[^\u00a0]/g,""),$e.length<1&&Be?" ":$e};pe=pe.replace(/\r\n/g," ").replace(/\n/g," "),pe=pe.replace(/\s\s+/g,ae.bind(ae,!0)),(Se.previousSibling==null&&K(Se.parentNode)||Se.previousSibling!=null&&K(Se.previousSibling))&&(pe=pe.replace(/^\s+/,ae.bind(ae,!1))),(Se.nextSibling==null&&K(Se.parentNode)||Se.nextSibling!=null&&K(Se.nextSibling))&&(pe=pe.replace(/\s+$/,ae.bind(ae,!1)))}return Pe.insert(pe)}n.default=C,n.matchAttributor=ce,n.matchBlot=he,n.matchNewline=je,n.matchSpacing=oe,n.matchText=_e}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=(function(){function y(v,g){for(var b=0;b<g.length;b++){var w=g[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(v,w.key,w)}}return function(v,g,b){return g&&y(v.prototype,g),b&&y(v,b),v}})(),o=function y(v,g,b){v===null&&(v=Function.prototype);var w=Object.getOwnPropertyDescriptor(v,g);if(w===void 0){var j=Object.getPrototypeOf(v);return j===null?void 0:y(j,g,b)}else{if("value"in w)return w.value;var N=w.get;return N===void 0?void 0:N.call(b)}},l=a(6),c=u(l);function u(y){return y&&y.__esModule?y:{default:y}}function d(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function h(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function m(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var p=(function(y){m(v,y);function v(){return d(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return s(v,[{key:"optimize",value:function(b){o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"optimize",this).call(this,b),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),v})(c.default);p.blotName="bold",p.tagName=["STRONG","B"],n.default=p}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.addControls=n.default=void 0;var s=(function(){function E(T,I){var z=[],Q=!0,te=!1,J=void 0;try{for(var ie=T[Symbol.iterator](),X;!(Q=(X=ie.next()).done)&&(z.push(X.value),!(I&&z.length===I));Q=!0);}catch(Z){te=!0,J=Z}finally{try{!Q&&ie.return&&ie.return()}finally{if(te)throw J}}return z}return function(T,I){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return E(T,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function E(T,I){for(var z=0;z<I.length;z++){var Q=I[z];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(T,Q.key,Q)}}return function(T,I,z){return I&&E(T.prototype,I),z&&E(T,z),T}})(),l=a(2),c=b(l),u=a(0),d=b(u),h=a(5),m=b(h),p=a(10),y=b(p),v=a(9),g=b(v);function b(E){return E&&E.__esModule?E:{default:E}}function w(E,T,I){return T in E?Object.defineProperty(E,T,{value:I,enumerable:!0,configurable:!0,writable:!0}):E[T]=I,E}function j(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")}function N(E,T){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:E}function S(E,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);E.prototype=Object.create(T&&T.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(E,T):E.__proto__=T)}var P=(0,y.default)("quill:toolbar"),A=(function(E){S(T,E);function T(I,z){j(this,T);var Q=N(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,I,z));if(Array.isArray(Q.options.container)){var te=document.createElement("div");M(te,Q.options.container),I.container.parentNode.insertBefore(te,I.container),Q.container=te}else typeof Q.options.container=="string"?Q.container=document.querySelector(Q.options.container):Q.container=Q.options.container;if(!(Q.container instanceof HTMLElement)){var J;return J=P.error("Container required for toolbar",Q.options),N(Q,J)}return Q.container.classList.add("ql-toolbar"),Q.controls=[],Q.handlers={},Object.keys(Q.options.handlers).forEach(function(ie){Q.addHandler(ie,Q.options.handlers[ie])}),[].forEach.call(Q.container.querySelectorAll("button, select"),function(ie){Q.attach(ie)}),Q.quill.on(m.default.events.EDITOR_CHANGE,function(ie,X){ie===m.default.events.SELECTION_CHANGE&&Q.update(X)}),Q.quill.on(m.default.events.SCROLL_OPTIMIZE,function(){var ie=Q.quill.selection.getRange(),X=s(ie,1),Z=X[0];Q.update(Z)}),Q}return o(T,[{key:"addHandler",value:function(z,Q){this.handlers[z]=Q}},{key:"attach",value:function(z){var Q=this,te=[].find.call(z.classList,function(ie){return ie.indexOf("ql-")===0});if(te){if(te=te.slice(3),z.tagName==="BUTTON"&&z.setAttribute("type","button"),this.handlers[te]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[te]==null){P.warn("ignoring attaching to disabled format",te,z);return}if(d.default.query(te)==null){P.warn("ignoring attaching to nonexistent format",te,z);return}}var J=z.tagName==="SELECT"?"change":"click";z.addEventListener(J,function(ie){var X=void 0;if(z.tagName==="SELECT"){if(z.selectedIndex<0)return;var Z=z.options[z.selectedIndex];Z.hasAttribute("selected")?X=!1:X=Z.value||!1}else z.classList.contains("ql-active")?X=!1:X=z.value||!z.hasAttribute("value"),ie.preventDefault();Q.quill.focus();var q=Q.quill.selection.getRange(),C=s(q,1),U=C[0];if(Q.handlers[te]!=null)Q.handlers[te].call(Q,X);else if(d.default.query(te).prototype instanceof d.default.Embed){if(X=prompt("Enter "+te),!X)return;Q.quill.updateContents(new c.default().retain(U.index).delete(U.length).insert(w({},te,X)),m.default.sources.USER)}else Q.quill.format(te,X,m.default.sources.USER);Q.update(U)}),this.controls.push([te,z])}}},{key:"update",value:function(z){var Q=z==null?{}:this.quill.getFormat(z);this.controls.forEach(function(te){var J=s(te,2),ie=J[0],X=J[1];if(X.tagName==="SELECT"){var Z=void 0;if(z==null)Z=null;else if(Q[ie]==null)Z=X.querySelector("option[selected]");else if(!Array.isArray(Q[ie])){var q=Q[ie];typeof q=="string"&&(q=q.replace(/\"/g,'\\"')),Z=X.querySelector('option[value="'+q+'"]')}Z==null?(X.value="",X.selectedIndex=-1):Z.selected=!0}else if(z==null)X.classList.remove("ql-active");else if(X.hasAttribute("value")){var C=Q[ie]===X.getAttribute("value")||Q[ie]!=null&&Q[ie].toString()===X.getAttribute("value")||Q[ie]==null&&!X.getAttribute("value");X.classList.toggle("ql-active",C)}else X.classList.toggle("ql-active",Q[ie]!=null)})}}]),T})(g.default);A.DEFAULTS={};function O(E,T,I){var z=document.createElement("button");z.setAttribute("type","button"),z.classList.add("ql-"+T),I!=null&&(z.value=I),E.appendChild(z)}function M(E,T){Array.isArray(T[0])||(T=[T]),T.forEach(function(I){var z=document.createElement("span");z.classList.add("ql-formats"),I.forEach(function(Q){if(typeof Q=="string")O(z,Q);else{var te=Object.keys(Q)[0],J=Q[te];Array.isArray(J)?F(z,te,J):O(z,te,J)}}),E.appendChild(z)})}function F(E,T,I){var z=document.createElement("select");z.classList.add("ql-"+T),I.forEach(function(Q){var te=document.createElement("option");Q!==!1?te.setAttribute("value",Q):te.setAttribute("selected","selected"),z.appendChild(te)}),E.appendChild(z)}A.DEFAULTS={container:null,handlers:{clean:function(){var T=this,I=this.quill.getSelection();if(I!=null)if(I.length==0){var z=this.quill.getFormat();Object.keys(z).forEach(function(Q){d.default.query(Q,d.default.Scope.INLINE)!=null&&T.quill.format(Q,!1)})}else this.quill.removeFormat(I,m.default.sources.USER)},direction:function(T){var I=this.quill.getFormat().align;T==="rtl"&&I==null?this.quill.format("align","right",m.default.sources.USER):!T&&I==="right"&&this.quill.format("align",!1,m.default.sources.USER),this.quill.format("direction",T,m.default.sources.USER)},indent:function(T){var I=this.quill.getSelection(),z=this.quill.getFormat(I),Q=parseInt(z.indent||0);if(T==="+1"||T==="-1"){var te=T==="+1"?1:-1;z.direction==="rtl"&&(te*=-1),this.quill.format("indent",Q+te,m.default.sources.USER)}},link:function(T){T===!0&&(T=prompt("Enter link URL:")),this.quill.format("link",T,m.default.sources.USER)},list:function(T){var I=this.quill.getSelection(),z=this.quill.getFormat(I);T==="check"?z.list==="checked"||z.list==="unchecked"?this.quill.format("list",!1,m.default.sources.USER):this.quill.format("list","unchecked",m.default.sources.USER):this.quill.format("list",T,m.default.sources.USER)}}},n.default=A,n.addControls=M}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=(function(){function y(v,g){for(var b=0;b<g.length;b++){var w=g[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(v,w.key,w)}}return function(v,g,b){return g&&y(v.prototype,g),b&&y(v,b),v}})(),o=function y(v,g,b){v===null&&(v=Function.prototype);var w=Object.getOwnPropertyDescriptor(v,g);if(w===void 0){var j=Object.getPrototypeOf(v);return j===null?void 0:y(j,g,b)}else{if("value"in w)return w.value;var N=w.get;return N===void 0?void 0:N.call(b)}},l=a(28),c=u(l);function u(y){return y&&y.__esModule?y:{default:y}}function d(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function h(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function m(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var p=(function(y){m(v,y);function v(g,b){d(this,v);var w=h(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,g));return w.label.innerHTML=b,w.container.classList.add("ql-color-picker"),[].slice.call(w.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(j){j.classList.add("ql-primary")}),w}return s(v,[{key:"buildItem",value:function(b){var w=o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"buildItem",this).call(this,b);return w.style.backgroundColor=b.getAttribute("value")||"",w}},{key:"selectItem",value:function(b,w){o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,b,w);var j=this.label.querySelector(".ql-color-label"),N=b&&b.getAttribute("data-value")||"";j&&(j.tagName==="line"?j.style.stroke=N:j.style.fill=N)}}]),v})(c.default);n.default=p}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=(function(){function y(v,g){for(var b=0;b<g.length;b++){var w=g[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(v,w.key,w)}}return function(v,g,b){return g&&y(v.prototype,g),b&&y(v,b),v}})(),o=function y(v,g,b){v===null&&(v=Function.prototype);var w=Object.getOwnPropertyDescriptor(v,g);if(w===void 0){var j=Object.getPrototypeOf(v);return j===null?void 0:y(j,g,b)}else{if("value"in w)return w.value;var N=w.get;return N===void 0?void 0:N.call(b)}},l=a(28),c=u(l);function u(y){return y&&y.__esModule?y:{default:y}}function d(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function h(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function m(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var p=(function(y){m(v,y);function v(g,b){d(this,v);var w=h(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,g));return w.container.classList.add("ql-icon-picker"),[].forEach.call(w.container.querySelectorAll(".ql-picker-item"),function(j){j.innerHTML=b[j.getAttribute("data-value")||""]}),w.defaultItem=w.container.querySelector(".ql-selected"),w.selectItem(w.defaultItem),w}return s(v,[{key:"selectItem",value:function(b,w){o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,b,w),b=b||this.defaultItem,this.label.innerHTML=b.innerHTML}}]),v})(c.default);n.default=p}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=(function(){function c(u,d){for(var h=0;h<d.length;h++){var m=d[h];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(u,m.key,m)}}return function(u,d,h){return d&&c(u.prototype,d),h&&c(u,h),u}})();function o(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}var l=(function(){function c(u,d){var h=this;o(this,c),this.quill=u,this.boundsContainer=d||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){h.root.style.marginTop=-1*h.quill.root.scrollTop+"px"}),this.hide()}return s(c,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(d){var h=d.left+d.width/2-this.root.offsetWidth/2,m=d.bottom+this.quill.root.scrollTop;this.root.style.left=h+"px",this.root.style.top=m+"px",this.root.classList.remove("ql-flip");var p=this.boundsContainer.getBoundingClientRect(),y=this.root.getBoundingClientRect(),v=0;if(y.right>p.right&&(v=p.right-y.right,this.root.style.left=h+v+"px"),y.left<p.left&&(v=p.left-y.left,this.root.style.left=h+v+"px"),y.bottom>p.bottom){var g=y.bottom-y.top,b=d.bottom-d.top+g;this.root.style.top=m-b+"px",this.root.classList.add("ql-flip")}return v}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),c})();n.default=l}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=(function(){function F(E,T){var I=[],z=!0,Q=!1,te=void 0;try{for(var J=E[Symbol.iterator](),ie;!(z=(ie=J.next()).done)&&(I.push(ie.value),!(T&&I.length===T));z=!0);}catch(X){Q=!0,te=X}finally{try{!z&&J.return&&J.return()}finally{if(Q)throw te}}return I}return function(E,T){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return F(E,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=function F(E,T,I){E===null&&(E=Function.prototype);var z=Object.getOwnPropertyDescriptor(E,T);if(z===void 0){var Q=Object.getPrototypeOf(E);return Q===null?void 0:F(Q,T,I)}else{if("value"in z)return z.value;var te=z.get;return te===void 0?void 0:te.call(I)}},l=(function(){function F(E,T){for(var I=0;I<T.length;I++){var z=T[I];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(E,z.key,z)}}return function(E,T,I){return T&&F(E.prototype,T),I&&F(E,I),E}})(),c=a(3),u=j(c),d=a(8),h=j(d),m=a(43),p=j(m),y=a(27),v=j(y),g=a(15),b=a(41),w=j(b);function j(F){return F&&F.__esModule?F:{default:F}}function N(F,E){if(!(F instanceof E))throw new TypeError("Cannot call a class as a function")}function S(F,E){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:F}function P(F,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);F.prototype=Object.create(E&&E.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(F,E):F.__proto__=E)}var A=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],O=(function(F){P(E,F);function E(T,I){N(this,E),I.modules.toolbar!=null&&I.modules.toolbar.container==null&&(I.modules.toolbar.container=A);var z=S(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,T,I));return z.quill.container.classList.add("ql-snow"),z}return l(E,[{key:"extendToolbar",value:function(I){I.container.classList.add("ql-snow"),this.buildButtons([].slice.call(I.container.querySelectorAll("button")),w.default),this.buildPickers([].slice.call(I.container.querySelectorAll("select")),w.default),this.tooltip=new M(this.quill,this.options.bounds),I.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(z,Q){I.handlers.link.call(I,!Q.format.link)})}}]),E})(p.default);O.DEFAULTS=(0,u.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(E){if(E){var T=this.quill.getSelection();if(T==null||T.length==0)return;var I=this.quill.getText(T);/^\S+@\S+\.\S+$/.test(I)&&I.indexOf("mailto:")!==0&&(I="mailto:"+I);var z=this.quill.theme.tooltip;z.edit("link",I)}else this.quill.format("link",!1)}}}}});var M=(function(F){P(E,F);function E(T,I){N(this,E);var z=S(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,T,I));return z.preview=z.root.querySelector("a.ql-preview"),z}return l(E,[{key:"listen",value:function(){var I=this;o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(z){I.root.classList.contains("ql-editing")?I.save():I.edit("link",I.preview.textContent),z.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(z){if(I.linkRange!=null){var Q=I.linkRange;I.restoreFocus(),I.quill.formatText(Q,"link",!1,h.default.sources.USER),delete I.linkRange}z.preventDefault(),I.hide()}),this.quill.on(h.default.events.SELECTION_CHANGE,function(z,Q,te){if(z!=null){if(z.length===0&&te===h.default.sources.USER){var J=I.quill.scroll.descendant(v.default,z.index),ie=s(J,2),X=ie[0],Z=ie[1];if(X!=null){I.linkRange=new g.Range(z.index-Z,X.length());var q=v.default.formats(X.domNode);I.preview.textContent=q,I.preview.setAttribute("href",q),I.show(),I.position(I.quill.getBounds(I.linkRange));return}}else delete I.linkRange;I.hide()}})}},{key:"show",value:function(){o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),E})(m.BaseTooltip);M.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),n.default=O}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=a(29),o=ye(s),l=a(36),c=a(38),u=a(64),d=a(65),h=ye(d),m=a(66),p=ye(m),y=a(67),v=ye(y),g=a(37),b=a(26),w=a(39),j=a(40),N=a(56),S=ye(N),P=a(68),A=ye(P),O=a(27),M=ye(O),F=a(69),E=ye(F),T=a(70),I=ye(T),z=a(71),Q=ye(z),te=a(72),J=ye(te),ie=a(73),X=ye(ie),Z=a(13),q=ye(Z),C=a(74),U=ye(C),W=a(75),B=ye(W),K=a(57),re=ye(K),fe=a(41),ce=ye(fe),he=a(28),Oe=ye(he),ee=a(59),De=ye(ee),je=a(60),oe=ye(je),ue=a(61),_e=ye(ue),Se=a(108),Pe=ye(Se),pe=a(62),ae=ye(pe);function ye(Be){return Be&&Be.__esModule?Be:{default:Be}}o.default.register({"attributors/attribute/direction":c.DirectionAttribute,"attributors/class/align":l.AlignClass,"attributors/class/background":g.BackgroundClass,"attributors/class/color":b.ColorClass,"attributors/class/direction":c.DirectionClass,"attributors/class/font":w.FontClass,"attributors/class/size":j.SizeClass,"attributors/style/align":l.AlignStyle,"attributors/style/background":g.BackgroundStyle,"attributors/style/color":b.ColorStyle,"attributors/style/direction":c.DirectionStyle,"attributors/style/font":w.FontStyle,"attributors/style/size":j.SizeStyle},!0),o.default.register({"formats/align":l.AlignClass,"formats/direction":c.DirectionClass,"formats/indent":u.IndentClass,"formats/background":g.BackgroundStyle,"formats/color":b.ColorStyle,"formats/font":w.FontClass,"formats/size":j.SizeClass,"formats/blockquote":h.default,"formats/code-block":q.default,"formats/header":p.default,"formats/list":v.default,"formats/bold":S.default,"formats/code":Z.Code,"formats/italic":A.default,"formats/link":M.default,"formats/script":E.default,"formats/strike":I.default,"formats/underline":Q.default,"formats/image":J.default,"formats/video":X.default,"formats/list/item":y.ListItem,"modules/formula":U.default,"modules/syntax":B.default,"modules/toolbar":re.default,"themes/bubble":Pe.default,"themes/snow":ae.default,"ui/icons":ce.default,"ui/picker":Oe.default,"ui/icon-picker":oe.default,"ui/color-picker":De.default,"ui/tooltip":_e.default},!0),n.default=o.default}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.IndentClass=void 0;var s=(function(){function v(g,b){for(var w=0;w<b.length;w++){var j=b[w];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(g,j.key,j)}}return function(g,b,w){return b&&v(g.prototype,b),w&&v(g,w),g}})(),o=function v(g,b,w){g===null&&(g=Function.prototype);var j=Object.getOwnPropertyDescriptor(g,b);if(j===void 0){var N=Object.getPrototypeOf(g);return N===null?void 0:v(N,b,w)}else{if("value"in j)return j.value;var S=j.get;return S===void 0?void 0:S.call(w)}},l=a(0),c=u(l);function u(v){return v&&v.__esModule?v:{default:v}}function d(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function h(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function m(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=(function(v){m(g,v);function g(){return d(this,g),h(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,[{key:"add",value:function(w,j){if(j==="+1"||j==="-1"){var N=this.value(w)||0;j=j==="+1"?N+1:N-1}return j===0?(this.remove(w),!0):o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"add",this).call(this,w,j)}},{key:"canAdd",value:function(w,j){return o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"canAdd",this).call(this,w,j)||o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"canAdd",this).call(this,w,parseInt(j))}},{key:"value",value:function(w){return parseInt(o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"value",this).call(this,w))||void 0}}]),g})(c.default.Attributor.Class),y=new p("indent","ql-indent",{scope:c.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});n.IndentClass=y}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=a(4),o=l(s);function l(m){return m&&m.__esModule?m:{default:m}}function c(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function u(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function d(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var h=(function(m){d(p,m);function p(){return c(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(o.default);h.blotName="blockquote",h.tagName="blockquote",n.default=h}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=(function(){function p(y,v){for(var g=0;g<v.length;g++){var b=v[g];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,v,g){return v&&p(y.prototype,v),g&&p(y,g),y}})(),o=a(4),l=c(o);function c(p){return p&&p.__esModule?p:{default:p}}function u(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")}function d(p,y){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:p}function h(p,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);p.prototype=Object.create(y&&y.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(p,y):p.__proto__=y)}var m=(function(p){h(y,p);function y(){return u(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,null,[{key:"formats",value:function(g){return this.tagName.indexOf(g.tagName)+1}}]),y})(l.default);m.blotName="header",m.tagName=["H1","H2","H3","H4","H5","H6"],n.default=m}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.ListItem=void 0;var s=(function(){function N(S,P){for(var A=0;A<P.length;A++){var O=P[A];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(S,O.key,O)}}return function(S,P,A){return P&&N(S.prototype,P),A&&N(S,A),S}})(),o=function N(S,P,A){S===null&&(S=Function.prototype);var O=Object.getOwnPropertyDescriptor(S,P);if(O===void 0){var M=Object.getPrototypeOf(S);return M===null?void 0:N(M,P,A)}else{if("value"in O)return O.value;var F=O.get;return F===void 0?void 0:F.call(A)}},l=a(0),c=p(l),u=a(4),d=p(u),h=a(25),m=p(h);function p(N){return N&&N.__esModule?N:{default:N}}function y(N,S,P){return S in N?Object.defineProperty(N,S,{value:P,enumerable:!0,configurable:!0,writable:!0}):N[S]=P,N}function v(N,S){if(!(N instanceof S))throw new TypeError("Cannot call a class as a function")}function g(N,S){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:N}function b(N,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);N.prototype=Object.create(S&&S.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(N,S):N.__proto__=S)}var w=(function(N){b(S,N);function S(){return v(this,S),g(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return s(S,[{key:"format",value:function(A,O){A===j.blotName&&!O?this.replaceWith(c.default.create(this.statics.scope)):o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"format",this).call(this,A,O)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(A,O){return this.parent.isolate(this.offset(this.parent),this.length()),A===this.parent.statics.blotName?(this.parent.replaceWith(A,O),this):(this.parent.unwrap(),o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replaceWith",this).call(this,A,O))}}],[{key:"formats",value:function(A){return A.tagName===this.tagName?void 0:o(S.__proto__||Object.getPrototypeOf(S),"formats",this).call(this,A)}}]),S})(d.default);w.blotName="list-item",w.tagName="LI";var j=(function(N){b(S,N),s(S,null,[{key:"create",value:function(A){var O=A==="ordered"?"OL":"UL",M=o(S.__proto__||Object.getPrototypeOf(S),"create",this).call(this,O);return(A==="checked"||A==="unchecked")&&M.setAttribute("data-checked",A==="checked"),M}},{key:"formats",value:function(A){if(A.tagName==="OL")return"ordered";if(A.tagName==="UL")return A.hasAttribute("data-checked")?A.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function S(P){v(this,S);var A=g(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,P)),O=function(F){if(F.target.parentNode===P){var E=A.statics.formats(P),T=c.default.find(F.target);E==="checked"?T.format("list","unchecked"):E==="unchecked"&&T.format("list","checked")}};return P.addEventListener("touchstart",O),P.addEventListener("mousedown",O),A}return s(S,[{key:"format",value:function(A,O){this.children.length>0&&this.children.tail.format(A,O)}},{key:"formats",value:function(){return y({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(A,O){if(A instanceof w)o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertBefore",this).call(this,A,O);else{var M=O==null?this.length():O.offset(this),F=this.split(M);F.parent.insertBefore(A,F)}}},{key:"optimize",value:function(A){o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,A);var O=this.next;O!=null&&O.prev===this&&O.statics.blotName===this.statics.blotName&&O.domNode.tagName===this.domNode.tagName&&O.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(O.moveChildren(this),O.remove())}},{key:"replace",value:function(A){if(A.statics.blotName!==this.statics.blotName){var O=c.default.create(this.statics.defaultChild);A.moveChildren(O),this.appendChild(O)}o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replace",this).call(this,A)}}]),S})(m.default);j.blotName="list",j.scope=c.default.Scope.BLOCK_BLOT,j.tagName=["OL","UL"],j.defaultChild="list-item",j.allowedChildren=[w],n.ListItem=w,n.default=j}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=a(56),o=l(s);function l(m){return m&&m.__esModule?m:{default:m}}function c(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function u(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function d(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var h=(function(m){d(p,m);function p(){return c(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(o.default);h.blotName="italic",h.tagName=["EM","I"],n.default=h}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=(function(){function y(v,g){for(var b=0;b<g.length;b++){var w=g[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(v,w.key,w)}}return function(v,g,b){return g&&y(v.prototype,g),b&&y(v,b),v}})(),o=function y(v,g,b){v===null&&(v=Function.prototype);var w=Object.getOwnPropertyDescriptor(v,g);if(w===void 0){var j=Object.getPrototypeOf(v);return j===null?void 0:y(j,g,b)}else{if("value"in w)return w.value;var N=w.get;return N===void 0?void 0:N.call(b)}},l=a(6),c=u(l);function u(y){return y&&y.__esModule?y:{default:y}}function d(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function h(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function m(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var p=(function(y){m(v,y);function v(){return d(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return s(v,null,[{key:"create",value:function(b){return b==="super"?document.createElement("sup"):b==="sub"?document.createElement("sub"):o(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,b)}},{key:"formats",value:function(b){if(b.tagName==="SUB")return"sub";if(b.tagName==="SUP")return"super"}}]),v})(c.default);p.blotName="script",p.tagName=["SUB","SUP"],n.default=p}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=a(6),o=l(s);function l(m){return m&&m.__esModule?m:{default:m}}function c(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function u(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function d(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var h=(function(m){d(p,m);function p(){return c(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(o.default);h.blotName="strike",h.tagName="S",n.default=h}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=a(6),o=l(s);function l(m){return m&&m.__esModule?m:{default:m}}function c(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function u(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function d(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var h=(function(m){d(p,m);function p(){return c(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(o.default);h.blotName="underline",h.tagName="U",n.default=h}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=(function(){function g(b,w){for(var j=0;j<w.length;j++){var N=w[j];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(b,N.key,N)}}return function(b,w,j){return w&&g(b.prototype,w),j&&g(b,j),b}})(),o=function g(b,w,j){b===null&&(b=Function.prototype);var N=Object.getOwnPropertyDescriptor(b,w);if(N===void 0){var S=Object.getPrototypeOf(b);return S===null?void 0:g(S,w,j)}else{if("value"in N)return N.value;var P=N.get;return P===void 0?void 0:P.call(j)}},l=a(0),c=d(l),u=a(27);function d(g){return g&&g.__esModule?g:{default:g}}function h(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}function m(g,b){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:g}function p(g,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);g.prototype=Object.create(b&&b.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(g,b):g.__proto__=b)}var y=["alt","height","width"],v=(function(g){p(b,g);function b(){return h(this,b),m(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"format",value:function(j,N){y.indexOf(j)>-1?N?this.domNode.setAttribute(j,N):this.domNode.removeAttribute(j):o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,j,N)}}],[{key:"create",value:function(j){var N=o(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,j);return typeof j=="string"&&N.setAttribute("src",this.sanitize(j)),N}},{key:"formats",value:function(j){return y.reduce(function(N,S){return j.hasAttribute(S)&&(N[S]=j.getAttribute(S)),N},{})}},{key:"match",value:function(j){return/\.(jpe?g|gif|png)$/.test(j)||/^data:image\/.+;base64/.test(j)}},{key:"sanitize",value:function(j){return(0,u.sanitize)(j,["http","https","data"])?j:"//:0"}},{key:"value",value:function(j){return j.getAttribute("src")}}]),b})(c.default.Embed);v.blotName="image",v.tagName="IMG",n.default=v}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=(function(){function g(b,w){for(var j=0;j<w.length;j++){var N=w[j];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(b,N.key,N)}}return function(b,w,j){return w&&g(b.prototype,w),j&&g(b,j),b}})(),o=function g(b,w,j){b===null&&(b=Function.prototype);var N=Object.getOwnPropertyDescriptor(b,w);if(N===void 0){var S=Object.getPrototypeOf(b);return S===null?void 0:g(S,w,j)}else{if("value"in N)return N.value;var P=N.get;return P===void 0?void 0:P.call(j)}},l=a(4),c=a(27),u=d(c);function d(g){return g&&g.__esModule?g:{default:g}}function h(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}function m(g,b){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:g}function p(g,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);g.prototype=Object.create(b&&b.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(g,b):g.__proto__=b)}var y=["height","width"],v=(function(g){p(b,g);function b(){return h(this,b),m(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"format",value:function(j,N){y.indexOf(j)>-1?N?this.domNode.setAttribute(j,N):this.domNode.removeAttribute(j):o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,j,N)}}],[{key:"create",value:function(j){var N=o(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,j);return N.setAttribute("frameborder","0"),N.setAttribute("allowfullscreen",!0),N.setAttribute("src",this.sanitize(j)),N}},{key:"formats",value:function(j){return y.reduce(function(N,S){return j.hasAttribute(S)&&(N[S]=j.getAttribute(S)),N},{})}},{key:"sanitize",value:function(j){return u.default.sanitize(j)}},{key:"value",value:function(j){return j.getAttribute("src")}}]),b})(l.BlockEmbed);v.blotName="video",v.className="ql-video",v.tagName="IFRAME",n.default=v}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.FormulaBlot=void 0;var s=(function(){function j(N,S){for(var P=0;P<S.length;P++){var A=S[P];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(N,A.key,A)}}return function(N,S,P){return S&&j(N.prototype,S),P&&j(N,P),N}})(),o=function j(N,S,P){N===null&&(N=Function.prototype);var A=Object.getOwnPropertyDescriptor(N,S);if(A===void 0){var O=Object.getPrototypeOf(N);return O===null?void 0:j(O,S,P)}else{if("value"in A)return A.value;var M=A.get;return M===void 0?void 0:M.call(P)}},l=a(35),c=p(l),u=a(5),d=p(u),h=a(9),m=p(h);function p(j){return j&&j.__esModule?j:{default:j}}function y(j,N){if(!(j instanceof N))throw new TypeError("Cannot call a class as a function")}function v(j,N){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:j}function g(j,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);j.prototype=Object.create(N&&N.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(j,N):j.__proto__=N)}var b=(function(j){g(N,j);function N(){return y(this,N),v(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return s(N,null,[{key:"create",value:function(P){var A=o(N.__proto__||Object.getPrototypeOf(N),"create",this).call(this,P);return typeof P=="string"&&(window.katex.render(P,A,{throwOnError:!1,errorColor:"#f00"}),A.setAttribute("data-value",P)),A}},{key:"value",value:function(P){return P.getAttribute("data-value")}}]),N})(c.default);b.blotName="formula",b.className="ql-formula",b.tagName="SPAN";var w=(function(j){g(N,j),s(N,null,[{key:"register",value:function(){d.default.register(b,!0)}}]);function N(){y(this,N);var S=v(this,(N.__proto__||Object.getPrototypeOf(N)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return S}return N})(m.default);n.FormulaBlot=b,n.default=w}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.CodeToken=n.CodeBlock=void 0;var s=(function(){function P(A,O){for(var M=0;M<O.length;M++){var F=O[M];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(A,F.key,F)}}return function(A,O,M){return O&&P(A.prototype,O),M&&P(A,M),A}})(),o=function P(A,O,M){A===null&&(A=Function.prototype);var F=Object.getOwnPropertyDescriptor(A,O);if(F===void 0){var E=Object.getPrototypeOf(A);return E===null?void 0:P(E,O,M)}else{if("value"in F)return F.value;var T=F.get;return T===void 0?void 0:T.call(M)}},l=a(0),c=v(l),u=a(5),d=v(u),h=a(9),m=v(h),p=a(13),y=v(p);function v(P){return P&&P.__esModule?P:{default:P}}function g(P,A){if(!(P instanceof A))throw new TypeError("Cannot call a class as a function")}function b(P,A){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:P}function w(P,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);P.prototype=Object.create(A&&A.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(P,A):P.__proto__=A)}var j=(function(P){w(A,P);function A(){return g(this,A),b(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return s(A,[{key:"replaceWith",value:function(M){this.domNode.textContent=this.domNode.textContent,this.attach(),o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"replaceWith",this).call(this,M)}},{key:"highlight",value:function(M){var F=this.domNode.textContent;this.cachedText!==F&&((F.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=M(F),this.domNode.normalize(),this.attach()),this.cachedText=F)}}]),A})(y.default);j.className="ql-syntax";var N=new c.default.Attributor.Class("token","hljs",{scope:c.default.Scope.INLINE}),S=(function(P){w(A,P),s(A,null,[{key:"register",value:function(){d.default.register(N,!0),d.default.register(j,!0)}}]);function A(O,M){g(this,A);var F=b(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,O,M));if(typeof F.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var E=null;return F.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(E),E=setTimeout(function(){F.highlight(),E=null},F.options.interval)}),F.highlight(),F}return s(A,[{key:"highlight",value:function(){var M=this;if(!this.quill.selection.composing){this.quill.update(d.default.sources.USER);var F=this.quill.getSelection();this.quill.scroll.descendants(j).forEach(function(E){E.highlight(M.options.highlight)}),this.quill.update(d.default.sources.SILENT),F!=null&&this.quill.setSelection(F,d.default.sources.SILENT)}}}]),A})(m.default);S.DEFAULTS={highlight:(function(){return window.hljs==null?null:function(P){var A=window.hljs.highlightAuto(P);return A.value}})(),interval:1e3},n.CodeBlock=j,n.CodeToken=N,n.default=S}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'}),(function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'}),(function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'}),(function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'}),(function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BubbleTooltip=void 0;var s=function A(O,M,F){O===null&&(O=Function.prototype);var E=Object.getOwnPropertyDescriptor(O,M);if(E===void 0){var T=Object.getPrototypeOf(O);return T===null?void 0:A(T,M,F)}else{if("value"in E)return E.value;var I=E.get;return I===void 0?void 0:I.call(F)}},o=(function(){function A(O,M){for(var F=0;F<M.length;F++){var E=M[F];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(O,E.key,E)}}return function(O,M,F){return M&&A(O.prototype,M),F&&A(O,F),O}})(),l=a(3),c=g(l),u=a(8),d=g(u),h=a(43),m=g(h),p=a(15),y=a(41),v=g(y);function g(A){return A&&A.__esModule?A:{default:A}}function b(A,O){if(!(A instanceof O))throw new TypeError("Cannot call a class as a function")}function w(A,O){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:A}function j(A,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);A.prototype=Object.create(O&&O.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(A,O):A.__proto__=O)}var N=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],S=(function(A){j(O,A);function O(M,F){b(this,O),F.modules.toolbar!=null&&F.modules.toolbar.container==null&&(F.modules.toolbar.container=N);var E=w(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,M,F));return E.quill.container.classList.add("ql-bubble"),E}return o(O,[{key:"extendToolbar",value:function(F){this.tooltip=new P(this.quill,this.options.bounds),this.tooltip.root.appendChild(F.container),this.buildButtons([].slice.call(F.container.querySelectorAll("button")),v.default),this.buildPickers([].slice.call(F.container.querySelectorAll("select")),v.default)}}]),O})(m.default);S.DEFAULTS=(0,c.default)(!0,{},m.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(O){O?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var P=(function(A){j(O,A);function O(M,F){b(this,O);var E=w(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,M,F));return E.quill.on(d.default.events.EDITOR_CHANGE,function(T,I,z,Q){if(T===d.default.events.SELECTION_CHANGE)if(I!=null&&I.length>0&&Q===d.default.sources.USER){E.show(),E.root.style.left="0px",E.root.style.width="",E.root.style.width=E.root.offsetWidth+"px";var te=E.quill.getLines(I.index,I.length);if(te.length===1)E.position(E.quill.getBounds(I));else{var J=te[te.length-1],ie=E.quill.getIndex(J),X=Math.min(J.length()-1,I.index+I.length-ie),Z=E.quill.getBounds(new p.Range(ie,X));E.position(Z)}}else document.activeElement!==E.textbox&&E.quill.hasFocus()&&E.hide()}),E}return o(O,[{key:"listen",value:function(){var F=this;s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){F.root.classList.remove("ql-editing")}),this.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!F.root.classList.contains("ql-hidden")){var E=F.quill.getSelection();E!=null&&F.position(F.quill.getBounds(E))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(F){var E=s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"position",this).call(this,F),T=this.root.querySelector(".ql-tooltip-arrow");if(T.style.marginLeft="",E===0)return E;T.style.marginLeft=-1*E-T.offsetWidth/2+"px"}}]),O})(h.BaseTooltip);P.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),n.BubbleTooltip=P,n.default=S}),(function(r,n,a){r.exports=a(63)})]).default})})(uv)),uv.exports}var tc,rI;function gxe(){if(rI)return tc;rI=1;var e=tc&&tc.__extends||(function(){var d=function(h,m){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,y){p.__proto__=y}||function(p,y){for(var v in y)y.hasOwnProperty(v)&&(p[v]=y[v])},d(h,m)};return function(h,m){d(h,m);function p(){this.constructor=h}h.prototype=m===null?Object.create(m):(p.prototype=m.prototype,new p)}})(),t=tc&&tc.__assign||function(){return t=Object.assign||function(d){for(var h,m=1,p=arguments.length;m<p;m++){h=arguments[m];for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&(d[y]=h[y])}return d},t.apply(this,arguments)},r=tc&&tc.__spreadArrays||function(){for(var d=0,h=0,m=arguments.length;h<m;h++)d+=arguments[h].length;for(var p=Array(d),y=0,h=0;h<m;h++)for(var v=arguments[h],g=0,b=v.length;g<b;g++,y++)p[y]=v[g];return p},n=tc&&tc.__importDefault||function(d){return d&&d.__esModule?d:{default:d}},a=n(I1()),s=n(aI()),o=n(YD()),l=n(xxe()),c=(function(d){e(h,d);function h(m){var p=d.call(this,m)||this;p.dirtyProps=["modules","formats","bounds","theme","children"],p.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],p.state={generation:0},p.selection=null,p.onEditorChange=function(v,g,b,w){var j,N,S,P;v==="text-change"?(N=(j=p).onEditorChangeText)===null||N===void 0||N.call(j,p.editor.root.innerHTML,g,w,p.unprivilegedEditor):v==="selection-change"&&((P=(S=p).onEditorChangeSelection)===null||P===void 0||P.call(S,g,w,p.unprivilegedEditor))};var y=p.isControlled()?m.value:m.defaultValue;return p.value=y??"",p}return h.prototype.validateProps=function(m){var p;if(a.default.Children.count(m.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(a.default.Children.count(m.children)){var y=a.default.Children.only(m.children);if(((p=y)===null||p===void 0?void 0:p.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&m.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},h.prototype.shouldComponentUpdate=function(m,p){var y=this,v;if(this.validateProps(m),!this.editor||this.state.generation!==p.generation)return!0;if("value"in m){var g=this.getEditorContents(),b=(v=m.value,v??"");this.isEqualValue(b,g)||this.setEditorContents(this.editor,b)}return m.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,m.readOnly),r(this.cleanProps,this.dirtyProps).some(function(w){return!o.default(m[w],y.props[w])})},h.prototype.shouldComponentRegenerate=function(m){var p=this;return this.dirtyProps.some(function(y){return!o.default(m[y],p.props[y])})},h.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},h.prototype.componentWillUnmount=function(){this.destroyEditor()},h.prototype.componentDidUpdate=function(m,p){var y=this;if(this.editor&&this.shouldComponentRegenerate(m)){var v=this.editor.getContents(),g=this.editor.getSelection();this.regenerationSnapshot={delta:v,selection:g},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==p.generation){var b=this.regenerationSnapshot,v=b.delta,w=b.selection;delete this.regenerationSnapshot,this.instantiateEditor();var j=this.editor;j.setContents(v),u(function(){return y.setEditorSelection(j,w)})}},h.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},h.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},h.prototype.isControlled=function(){return"value"in this.props},h.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},h.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},h.prototype.createEditor=function(m,p){var y=new l.default(m,p);return p.tabIndex!=null&&this.setEditorTabIndex(y,p.tabIndex),this.hookEditor(y),y},h.prototype.hookEditor=function(m){this.unprivilegedEditor=this.makeUnprivilegedEditor(m),m.on("editor-change",this.onEditorChange)},h.prototype.unhookEditor=function(m){m.off("editor-change",this.onEditorChange)},h.prototype.getEditorContents=function(){return this.value},h.prototype.getEditorSelection=function(){return this.selection},h.prototype.isDelta=function(m){return m&&m.ops},h.prototype.isEqualValue=function(m,p){return this.isDelta(m)&&this.isDelta(p)?o.default(m.ops,p.ops):o.default(m,p)},h.prototype.setEditorContents=function(m,p){var y=this;this.value=p;var v=this.getEditorSelection();typeof p=="string"?m.setContents(m.clipboard.convert(p)):m.setContents(p),u(function(){return y.setEditorSelection(m,v)})},h.prototype.setEditorSelection=function(m,p){if(this.selection=p,p){var y=m.getLength();p.index=Math.max(0,Math.min(p.index,y-1)),p.length=Math.max(0,Math.min(p.length,y-1-p.index)),m.setSelection(p)}},h.prototype.setEditorTabIndex=function(m,p){var y,v;!((v=(y=m)===null||y===void 0?void 0:y.scroll)===null||v===void 0)&&v.domNode&&(m.scroll.domNode.tabIndex=p)},h.prototype.setEditorReadOnly=function(m,p){p?m.disable():m.enable()},h.prototype.makeUnprivilegedEditor=function(m){var p=m;return{getHTML:function(){return p.root.innerHTML},getLength:p.getLength.bind(p),getText:p.getText.bind(p),getContents:p.getContents.bind(p),getSelection:p.getSelection.bind(p),getBounds:p.getBounds.bind(p)}},h.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var m=s.default.findDOMNode(this.editingArea);if(!m)throw new Error("Cannot find element for editing area");if(m.nodeType===3)throw new Error("Editing area cannot be a text node");return m},h.prototype.renderEditingArea=function(){var m=this,p=this.props,y=p.children,v=p.preserveWhitespace,g=this.state.generation,b={key:g,ref:function(w){m.editingArea=w}};return a.default.Children.count(y)?a.default.cloneElement(a.default.Children.only(y),b):v?a.default.createElement("pre",t({},b)):a.default.createElement("div",t({},b))},h.prototype.render=function(){var m;return a.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(m=this.props.className,m??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},h.prototype.onEditorChangeText=function(m,p,y,v){var g,b;if(this.editor){var w=this.isDelta(this.value)?v.getContents():v.getHTML();w!==this.getEditorContents()&&(this.lastDeltaChangeSet=p,this.value=w,(b=(g=this.props).onChange)===null||b===void 0||b.call(g,m,p,y,v))}},h.prototype.onEditorChangeSelection=function(m,p,y){var v,g,b,w,j,N;if(this.editor){var S=this.getEditorSelection(),P=!S&&m,A=S&&!m;o.default(m,S)||(this.selection=m,(g=(v=this.props).onChangeSelection)===null||g===void 0||g.call(v,m,p,y),P?(w=(b=this.props).onFocus)===null||w===void 0||w.call(b,m,p,y):A&&((N=(j=this.props).onBlur)===null||N===void 0||N.call(j,S,p,y)))}},h.prototype.focus=function(){this.editor&&this.editor.focus()},h.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},h.displayName="React Quill",h.Quill=l.default,h.defaultProps={theme:"snow",modules:{},readOnly:!1},h})(a.default.Component);function u(d){Promise.resolve().then(d)}return tc=c,tc}var vxe=gxe();const yxe=oa(vxe),dv=Qe.forwardRef((e,t)=>i.jsx(yxe,{...e,ref:t}));dv.displayName="QuillEditor";const k9=({currentUser:e})=>{const{showSuccess:t,showError:r}=oi(),n=e||(typeof window<"u"?JSON.parse(localStorage.getItem("user_data")||"null"):null),a=n?.id,s=(R,de="An error occurred")=>R?typeof R=="string"?R:typeof R=="object"?typeof R.message=="string"&&R.message?R.message:R.error&&typeof R.error=="object"&&typeof R.error.message=="string"&&R.error.message?R.error.message:de:de:de,o=async(R,de)=>{try{return await R()}catch(xe){const Me=s(xe,"An error occurred");return de&&de(Me),null}},[l,c]=V.useState([]),[u,d]=V.useState(null),[h,m]=V.useState(!0),[p,y]=V.useState(!1),[v,g]=V.useState(!1),[b,w]=V.useState(""),[j,N]=V.useState(null),[S,P]=V.useState([]),[A,O]=V.useState(!1),[M,F]=V.useState(null),[E,T]=V.useState(null),[I,z]=V.useState("threads"),[Q,te]=V.useState(new Set),[J,ie]=V.useState({}),[X,Z]=V.useState(""),[q,C]=V.useState(""),[U,W]=V.useState(null),[B,K]=V.useState(!1),[re,fe]=V.useState(null),[ce,he]=V.useState(null),[Oe,ee]=V.useState([]),[De,je]=V.useState(null),[oe,ue]=V.useState(!1),_e=V.useRef(null),Se=V.useRef(null),[Pe,pe]=V.useState(!1),[ae,ye]=V.useState([]),[Be,$e]=V.useState(null),[rt,ft]=V.useState(!1),[Nt,Ue]=V.useState(""),[dt,st]=V.useState([]),[it,Re]=V.useState(!1),[vt,nt]=V.useState(""),[Rt,er]=V.useState(0),[ar,$t]=V.useState([]),[Pr,Kt]=V.useState(null),[Er,nn]=V.useState({isOpen:!1,imageUrl:"",imageName:void 0}),[fr,or]=V.useState(null),[Tr,fn]=V.useState({}),[sn,We]=V.useState([]),[Ct,At]=V.useState(!1),[ir,vr]=V.useState(null),[Wr,Br]=V.useState(!1),[Hr,ne]=V.useState(null),[ge,ve]=V.useState(!1),[ke,Ie]=V.useState(""),[Te,ze]=V.useState(!1),[et,Ge]=V.useState(""),[Je,at]=V.useState(!1),[wt,Pt]=V.useState("compose"),[It,Lt]=V.useState([]),[Dt,kr]=V.useState([]),[Dr,an]=V.useState([]),[Nn,va]=V.useState(""),[Ba,pa]=V.useState(""),[_n,Ta]=V.useState(""),[gn,en]=V.useState(""),[Le,ht]=V.useState([]),[ct,zt]=V.useState([]),[Zt,Gt]=V.useState(!1),[dr,tn]=V.useState(!1),[hn,Wt]=V.useState(!1),[Xt,yt]=V.useState(""),[Ur,xt]=V.useState(""),[yr,An]=V.useState(""),[On,Jt]=V.useState([]),[Bn,En]=V.useState(!1),[Pn,ua]=V.useState(0),[Sr,jr]=V.useState([]),Gr=V.useRef(null),[pn,Ee]=V.useState(null),[lr,cr]=V.useState(!1),gr=V.useRef(null),Fr=V.useRef(null),qr=V.useRef(null),In=V.useRef(null),Dn=V.useCallback(async()=>{if(a){m(!0),T(null);try{const R=await DF(a,b||void 0,void 0),de=R?.data??R??[],xe=Array.isArray(de)?de:[];c(xe)}catch(R){c([]);const de=R?.message||"Failed to load inbox";T(de),(R?.message?.toLowerCase().includes("google")||R?.message?.toLowerCase().includes("connected"))&&N(!1)}finally{m(!1)}}},[a,b]),Vi=V.useCallback(async()=>{if(a)try{const R=await Qk(a),de=R?.connected===!0||R?.data?.connected===!0;N(de)}catch{N(!1)}},[a]),Zc=V.useCallback(async()=>{if(a)try{const R=await Dre(a),de=R?.data??R??[],xe=Array.isArray(de)?de.filter((Me,He,mt)=>mt.findIndex(St=>St.email===Me.email&&St.userId===Me.userId)===He):[];P(xe),N(xe.length>0),xe.length>0&&!_n&&Ta(xe[0].email)}catch{P([]),N(!1)}},[a]),df=async()=>{if(a)try{const R=await IF(a),de=R?.authUrl||R?.data?.authUrl;de?window.location.href=de:r("Failed to get authorization URL")}catch(R){r(R?.message||"Failed to connect account")}};V.useEffect(()=>{if(!a){m(!1),N(!1);return}Vi(),Zc()},[a,Vi,Zc]),V.useEffect(()=>{S.length>0&&!_n&&Ta(S[0].email)},[S]),V.useEffect(()=>{if(!a)return;Dn();const R=setInterval(()=>{Dn()},6e4);return()=>clearInterval(R)},[a,Dn]),V.useEffect(()=>{a&&(async()=>{try{const de=await Kc(),xe=de?.data??de??[];st(Array.isArray(xe)?xe:[])}catch(de){const xe=de?.message||"Failed to load users";console.error("Failed to load users:",xe)}})()},[a]),V.useEffect(()=>{a&&(async()=>{try{const de=await _x(),xe=de?.data??de??[];zt(Array.isArray(xe)?xe:[])}catch(de){console.error("Failed to load contacts:",de?.message)}})()},[a]);const Fs=V.useCallback(async()=>{if(!(!a||Ct))try{At(!0);const R=await Yre(a);R.success&&R.labels&&We(R.labels)}catch(R){console.error("Error fetching labels:",R)}finally{At(!1)}},[a,Ct]);V.useEffect(()=>{a&&j&&Fs()},[a,j,Fs]),V.useEffect(()=>{a&&Je&&(async()=>{if(a)try{const de=await Kre(a),xe=de?.data??de??[];ht(Array.isArray(xe)?xe:[]);const Me=xe.find(He=>He.isDefault);Me&&en(Me.content||"")}catch(de){console.error("Failed to load signatures:",de?.message)}})()},[a,Je]);const us=async()=>{if(a){y(!0),T(null);try{const R=await Ire(a);t(R?.message||"Inbox synced with Gmail"),await Dn()}catch(R){const de=R?.message||"Sync failed";r(de),T(de)}finally{y(!1)}}},gi=async R=>{if(a){d(null),he(null),g(!0);try{const de=await Lre(R.id,a),xe=de?.data??de??{};d({...R,body:xe.body??R.lastMessage,gmailThreadId:xe.gmailThreadId}),c(Me=>Me.map(He=>He.id===R.id?{...He,isRead:!0}:He));try{const Me=await Bre(R.id),He=Me?.data??Me??[];ie(mt=>({...mt,[R.id]:He.map(St=>({id:St.id,userId:St.userId,userName:St.userName,message:St.message,timestamp:St.createdAt,imageUrl:St.imageUrl,imageName:St.imageName}))}))}catch(Me){const He=Me?.message||"Failed to load notes";console.error("Failed to load notes:",He),ie(mt=>({...mt,[R.id]:[]}))}}catch(de){r(de?.message||"Could not load email")}finally{g(!1)}}},gc=async(R,de)=>{if(a)try{await Fre(R,de,a),c(xe=>xe.map(Me=>Me.id===R?{...Me,isRead:de,syncStatus:{...Me.syncStatus||{},readStatus:"pending"}}:Me)),u?.id===R&&d(xe=>xe?{...xe,isRead:de,syncStatus:{...xe.syncStatus||{},readStatus:"pending"}}:null),t(de?"Marked as read":"Marked as unread")}catch(xe){r(xe?.message||"Update failed")}},kl=async(R,de)=>{try{await Mre(R,de),c(xe=>xe.map(Me=>Me.id===R?{...Me,isStarred:de,syncStatus:{...Me.syncStatus||{},starredStatus:"pending"}}:Me)),u?.id===R&&d(xe=>xe?{...xe,isStarred:de,syncStatus:{...xe.syncStatus||{},starredStatus:"pending"}}:null),t(de?"Starred":"Unstarred")}catch(xe){r(xe?.message||"Update failed")}},qo=R=>{if(!R)return null;switch(R){case"synced":return i.jsx(wn,{className:"w-3 h-3 text-green-500",title:"Synced to Gmail"});case"pending":return i.jsx(zi,{className:"w-3 h-3 text-amber-500 animate-pulse",title:"Syncing..."});case"failed":return i.jsx(Yn,{className:"w-3 h-3 text-red-500",title:"Sync failed"});default:return null}},no=async(R,de=[],xe=[])=>{try{if(await Qre(R,{addLabelIds:de,removeLabelIds:xe}),c(Me=>Me.map(He=>{if(He.id===R){const St=[...He.labels||[]];return de.forEach(Qt=>{St.includes(Qt)||St.push(Qt)}),xe.forEach(Qt=>{const hr=St.indexOf(Qt);hr>-1&&St.splice(hr,1)}),{...He,labels:St,syncStatus:{...He.syncStatus||{},labelsStatus:"pending"}}}return He})),u?.id===R){const He=[...u.labels||[]];de.forEach(mt=>{He.includes(mt)||He.push(mt)}),xe.forEach(mt=>{const St=He.indexOf(mt);St>-1&&He.splice(St,1)}),d({...u,labels:He,syncStatus:{...u.syncStatus||{},labelsStatus:"pending"}})}t("Labels updated")}catch(Me){r(Me?.message||"Failed to update labels")}},Sl=async(R,de)=>{try{await Zre(R,de),await no(R,[],[de])}catch(xe){r(xe?.message||"Failed to remove label")}},_l=async(R,de)=>{if(a){ze(!0);try{await Jre({userId:a,accountEmail:de,labelName:R,messageListVisibility:"show",labelListVisibility:"labelShow"}),t("Label created successfully"),await Fs(),Ie(""),ve(!1)}catch(xe){r(xe?.message||"Failed to create label")}finally{ze(!1)}}},Al=async(R,de)=>{if(a)try{await Xre(R,{userId:a,...de}),c(xe=>xe.map(Me=>Me.id===R?{...Me,...de}:Me)),u?.id===R&&d(xe=>xe?{...xe,...de}:null),t("Email updated")}catch(xe){r(xe?.message||"Update failed")}},Ms=async(R,de,xe,Me)=>{if(!a)return;const He=`${R}-${de}-view`;fn(mt=>({...mt,[He]:!0}));try{const mt=await uP(R,de,a),St=window.URL.createObjectURL(mt);or({isOpen:!0,emailId:R,attachmentId:de,filename:xe,mimeType:Me,url:St})}catch(mt){r(mt?.message||"Failed to load attachment")}finally{fn(mt=>({...mt,[He]:!1}))}},Ci=async(R,de,xe)=>{if(!a)return;const Me=`${R}-${de}-download`;fn(He=>({...He,[Me]:!0}));try{const He=await uP(R,de,a),mt=window.URL.createObjectURL(He),St=document.createElement("a");St.href=mt,St.download=xe,document.body.appendChild(St),St.click(),window.URL.revokeObjectURL(mt),document.body.removeChild(St),t("Attachment downloaded")}catch(He){r(He?.message||"Failed to download attachment")}finally{fn(He=>({...He,[Me]:!1}))}},Gi=R=>{if(R===0)return"0 Bytes";const de=1024,xe=["Bytes","KB","MB","GB"],Me=Math.floor(Math.log(R)/Math.log(de));return Math.round(R/Math.pow(de,Me)*100)/100+" "+xe[Me]},ao=R=>R.startsWith("image/"),Ja=R=>R==="application/pdf",Ti=R=>{const de=R.target.files;if(!de||de.length===0)return;const xe=25*1024*1024,Me=[];Array.from(de).forEach(He=>{if(He.size>xe){r(`File "${He.name}" is too large. Maximum size is 25MB.`);return}const mt=`${Date.now()}-${Math.random()}`;let St;He.type.startsWith("image/")&&(St=URL.createObjectURL(He)),Me.push({file:He,preview:St,id:mt})}),jr([...Sr,...Me]),Gr.current&&(Gr.current.value="")},vc=R=>{const de=Sr.find(xe=>xe.id===R);de?.preview&&URL.revokeObjectURL(de.preview),jr(Sr.filter(xe=>xe.id!==R))};V.useEffect(()=>()=>{Sr.forEach(R=>{R.preview&&URL.revokeObjectURL(R.preview)})},[Sr]),V.useEffect(()=>{!Je&&Sr.length>0&&(Sr.forEach(R=>{R.preview&&URL.revokeObjectURL(R.preview)}),jr([]))},[Je,Sr]);const Oa=(R,de=1200,xe=1200,Me=.8)=>new Promise((He,mt)=>{const St=new FileReader;St.onload=Qt=>{const hr=new Image;hr.onload=()=>{let br=hr.width,Mr=hr.height;br>Mr?br>de&&(Mr=Mr*de/br,br=de):Mr>xe&&(br=br*xe/Mr,Mr=xe);const cn=document.createElement("canvas");cn.width=br,cn.height=Mr;const Vn=cn.getContext("2d");Vn?(Vn.drawImage(hr,0,0,br,Mr),He(cn.toDataURL("image/jpeg",Me))):mt(new Error("Canvas context not available"))},hr.onerror=mt,hr.src=Qt.target?.result},St.onerror=mt,St.readAsDataURL(R)}),$o=async R=>{const de=R.target.files?.[0];if(de){if(!de.type.startsWith("image/")){r("Please select an image file");return}if(de.size>10*1024*1024){r("Image size must be less than 10MB");return}try{const xe=await Oa(de,1200,1200,.8);C(xe),W(de)}catch(xe){r(xe.message||"Failed to process image")}}},zo=R=>{const de=document.createElement("div");de.innerHTML=R;const xe=de.textContent||de.innerText||"",Me=/@([A-Za-z0-9\s]+?)(?=\s|$|[.,!?])/g,He=[];let mt;for(;(mt=Me.exec(xe))!==null;){const St=mt[1].trim(),Qt=dt.find(hr=>hr.name.toLowerCase()===St.toLowerCase());Qt&&Qt.id!==a&&He.push(Qt.id)}return[...new Set(He)]},ko=V.useMemo(()=>({toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],["link"],["clean"]],keyboard:{bindings:{mention:{key:"@",handler:()=>!0}}}}),[]),El=["header","bold","italic","underline","strike","list","bullet","link"],Cl=V.useCallback((R,de,xe,Me)=>{if(Z(R),Fr.current=Me,xe==="user"){const He=Me.getSelection(!0);if(He){const St=Me.getText().substring(0,He.index),Qt=St.lastIndexOf("@");if(Qt!==-1){const hr=St.substring(Qt+1),br=Qt>0?St[Qt-1]:" ";if(br===" "||br===`
`||Qt===0)if(!hr.includes(" ")&&!hr.includes(`
`)&&hr.length<50){Kt(Qt),nt(hr);const Mr=dt.filter(cn=>cn.name?.toLowerCase().includes(hr.toLowerCase())||cn.email?.toLowerCase().includes(hr.toLowerCase()));$t(Mr),Re(Mr.length>0)}else Re(!1),Kt(null);else Re(!1),Kt(null)}else Re(!1),Kt(null)}}},[dt]),yc=V.useCallback(R=>{const de=Fr.current;if(!de){console.error("[INBOX] Quill editor not available");return}de.focus();const xe=de.getText();let Me=Pr;if((Me===null||Me<0)&&(Me=xe.lastIndexOf("@")),Me===-1){console.error("[INBOX] Could not find @ symbol for mention"),Re(!1),Kt(null);return}const He=xe.substring(Me+1),mt=He.indexOf(" "),St=He.indexOf(`
`);let Qt=He.length;mt!==-1&&(Qt=Math.min(Qt,mt)),St!==-1&&(Qt=Math.min(Qt,St));const hr=Me,br=Me+1+Qt,Mr=br-hr;console.log("[INBOX] Inserting mention:",{atIndex:Me,deleteStartIndex:hr,deleteEndIndex:br,deleteLength:Mr,textAfterAt:He.substring(0,Qt),mentionText:`@${R.name} `}),de.setSelection(hr,Mr,"api"),de.deleteText(hr,Mr,"api");const cn=`@${R.name} `;de.insertText(hr,cn,"api"),de.formatText(hr,cn.length-1,{bold:!0,color:"#4338ca"},"api");const Vn=hr+cn.length;de.setSelection(Vn,0,"api");const ma=de.root.innerHTML;Z(ma),Re(!1),Kt(null)},[Pr]),io=async()=>{if(!u||!X.trim()&&!U||!a||!n){!X.trim()&&!U&&r("Please enter a note or upload an image");return}K(!0);try{const R=u.id,de=n.name||n.email||"You",xe=document.createElement("div");xe.innerHTML=X;const He=(xe.textContent||xe.innerText||"").trim()?X.trim():"",mt={emailId:R,userId:a,userName:de,message:He};if(q&&q.trim()){if(q.length>75e4){r("Image is too large. Please use a smaller image."),K(!1);return}mt.imageUrl=q,U?.name&&(mt.imageName=U.name)}const St=await Rre(mt),Qt=St?.data||{};if(!Qt.id&&!Qt.emailId)throw console.error("[INBOX] Invalid note response:",St),new Error("Invalid response from server. Note was not created.");const hr={id:Qt.id||`thread-${Date.now()}`,userId:a,userName:de,message:He,timestamp:Qt.createdAt||new Date().toISOString(),imageUrl:q||void 0,imageName:U?.name||void 0};ie(cn=>({...cn,[R]:[hr,...cn[R]||[]]}));const br=zo(He);if(br.length>0)for(const cn of br)try{await Kh({userId:cn,type:"mention",title:"You were mentioned in an email note",message:`${de} mentioned you in a note on email: "${u.subject||"Untitled"}"`,link:`/?tab=inbox&email=${R}`,read:!1})}catch(Vn){const ma=Vn?.message||"Failed to send notification";console.error("Failed to send notification:",ma)}Z(""),C(""),W(null),qr.current&&(qr.current.value=""),Fr.current&&Fr.current.setText("");const Mr=St?.message||(br.length>0?`Note added and ${br.length} user(s) notified`:"Internal note added");t(Mr)}catch(R){const de=s(R,"Failed to add note");console.error("[INBOX] Error adding note:",de),r(de)}finally{K(!1)}},Ho=async(R,de)=>{if(!(!a||!n)){fe(de);try{await Ure(de,a),ie(xe=>({...xe,[R]:(xe[R]||[]).filter(Me=>Me.id!==de)})),t("Note deleted")}catch(xe){const Me=s(xe,"Failed to delete note");r(Me)}finally{fe(null)}}},Tl=async R=>{if(!(!u||!a)){ue(!0),ee([]),je(null),he(null);try{const de=await qre(u.id,a,R),xe=de?.data??de??{};if(xe.variations&&Array.isArray(xe.variations)&&xe.variations.length>0)ee(xe.variations),je(0),he(xe.variations[0].draft),t(`Generated ${xe.variations.length} draft variations`);else{let Me=xe.draft;(!Me||typeof Me!="string")&&(Me=`Hi ${u.sender||"there"},

Thank you for your email regarding "${u.subject||"your inquiry"}".

[AI-generated draft response - customize as needed]

Best regards,
${n?.name||"Team"}`),he(Me),ee([{style:"default",description:"AI-generated draft",draft:Me,confidence:75}]),je(0),t("AI draft generated")}}catch(de){const xe=s(de,"Failed to generate draft");ue(!1),setTimeout(()=>{console.error("[INBOX] Error generating draft:",xe),r(xe)},0)}finally{ue(!1)}}},Ju=()=>{if(!ce)return;let R="";try{if(Se.current&&typeof Se.current.getText=="function")R=Se.current.getText();else{const de=document.createElement("div");de.innerHTML=ce,R=de.textContent||de.innerText||""}}catch(de){const xe=document.createElement("div");xe.innerHTML=ce||"",R=xe.textContent||xe.innerText||"";const Me=de?.message||"Error extracting text";console.error("[INBOX] Error extracting draft text:",Me)}navigator.clipboard.writeText(R).then(()=>{t("Draft copied to clipboard! You can paste it into your email client.")}).catch(de=>{try{const xe=document.createElement("textarea");xe.value=R,document.body.appendChild(xe),xe.select(),document.execCommand("copy"),document.body.removeChild(xe),t("Draft copied to clipboard!")}catch(xe){const Me=xe?.message||"Failed to copy to clipboard";console.error("[INBOX] Clipboard copy failed:",Me),r("Failed to copy draft. Please select and copy manually.")}})},ff=()=>{!ce||!a||!u||(Ue(""),ft(!0))},Ol=async()=>{if(!Nt||!Nt.trim()||!ce||!a||!u){r("Please enter a template name");return}try{const R=typeof ce=="string"?ce:String(ce||"");await $re({name:Nt.trim(),content:R,userId:a,category:"email-response"}),t("Template saved successfully!"),ft(!1),Ue(""),Ki()}catch(R){const de=s(R,"Failed to save template");console.error("[INBOX] Error saving template:",de),r(de)}},Ki=async()=>{if(a)try{const R=await zre(a),de=R?.data??R??[];ye(Array.isArray(de)?de:[])}catch(R){const de=R?.message||"Failed to load templates";console.error("Failed to load templates:",de)}};V.useEffect(()=>{a&&Ki()},[a]);const Rs=V.useMemo(()=>ir?l.filter(R=>(R.labels||[]).includes(ir)):l,[l,ir]),Wo=Rs.filter(R=>!R.isRead).length,bc=V.useMemo(()=>{if(I==="list")return null;const R=new Map;return Rs.forEach(de=>{const xe=de.gmailThreadId||de.id;R.has(xe)||R.set(xe,[]),R.get(xe).push(de)}),Array.from(R.entries()).map(([de,xe])=>({threadId:de,emails:xe.sort((Me,He)=>{const mt=parseInt(Me.internalDate||"0")||0;return(parseInt(He.internalDate||"0")||0)-mt}),latestEmail:xe[0],unreadCount:xe.filter(Me=>!Me.isRead).length})).sort((de,xe)=>{const Me=parseInt(de.latestEmail.internalDate||"0")||0;return(parseInt(xe.latestEmail.internalDate||"0")||0)-Me})},[Rs,I]),H=R=>{te(de=>{const xe=new Set(de);return xe.has(R)?xe.delete(R):xe.add(R),xe})};return a?i.jsxs("div",{className:"flex-1 min-h-0 flex flex-col animate-in fade-in duration-300",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 pb-4 border-b border-slate-200 shrink-0",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Shared Inbox"}),ir&&i.jsxs("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-700 text-xs font-medium rounded-lg",children:["Filtered: ",sn.find(R=>R.id===ir)?.name||ir]})]}),i.jsxs("p",{className:"text-slate-500 text-sm mt-0.5",children:["Unified view from all team members' Gmail accounts  ",Wo," unread",ir&&`  ${Rs.length} email${Rs.length!==1?"s":""} with label`]})]}),i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[sn.length>0&&i.jsx("div",{className:"relative",children:i.jsxs("select",{value:ir||"",onChange:R=>{const de=R.target.value||null;vr(de);const xe=document.querySelector(".overflow-y-auto");xe&&(xe.scrollTop=0)},className:"px-3 py-2 border border-slate-200 text-slate-700 text-sm font-medium rounded-xl hover:bg-slate-50 transition-colors cursor-pointer",children:[i.jsx("option",{value:"",children:"All Labels"}),sn.map(R=>i.jsx("option",{value:R.id,children:R.name},R.id))]})}),i.jsxs("button",{onClick:()=>z(I==="threads"?"list":"threads"),className:"inline-flex items-center gap-2 px-3 py-2 border border-slate-200 text-slate-700 text-sm font-medium rounded-xl hover:bg-slate-50 transition-colors",title:I==="threads"?"Switch to list view":"Switch to threaded view",children:[i.jsx(ls,{className:"w-4 h-4"}),I==="threads"?"Threads":"List"]}),i.jsxs("button",{onClick:us,disabled:p,className:"inline-flex items-center gap-2 px-4 py-2.5 bg-indigo-600 text-white text-sm font-semibold rounded-xl hover:bg-indigo-700 disabled:opacity-60 transition-colors",children:[p?i.jsx(Ot,{className:"w-4 h-4 animate-spin"}):i.jsx(Gd,{className:"w-4 h-4"}),p?"Syncing":"Sync from Gmail"]})]})]}),j===!1&&S.length===0&&i.jsxs("div",{className:"mt-4 p-4 bg-amber-50 border border-amber-200 rounded-xl flex items-start gap-3",children:[i.jsx(Yn,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-amber-800 font-medium text-sm",children:"Connect Gmail to sync inbox"}),i.jsx("p",{className:"text-amber-700 text-xs mt-1",children:"Link your Google account to start syncing emails. You can connect multiple Gmail accounts."}),i.jsxs("button",{onClick:df,className:"mt-3 px-4 py-2 bg-amber-600 text-white text-sm font-semibold rounded-lg hover:bg-amber-700 transition-colors flex items-center gap-2",children:[i.jsx(kn,{className:"w-4 h-4"}),"Connect Gmail Account"]})]})]}),i.jsxs("div",{className:"mt-4 relative shrink-0",children:[i.jsx(zu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),i.jsx("input",{type:"text",placeholder:"Search emails",value:b,onChange:R=>w(R.target.value),onKeyDown:R=>R.key==="Enter"&&Dn(),className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),E&&i.jsx("div",{className:"mt-3 p-3 bg-red-50 border border-red-100 rounded-xl text-red-700 text-sm",children:E}),i.jsxs("div",{className:"flex-1 min-h-0 flex flex-col lg:flex-row gap-4 mt-4 min-h-0",children:[i.jsx("div",{className:`flex flex-col min-h-0 border border-slate-200 rounded-xl bg-white overflow-hidden ${u?"lg:w-[380px] lg:flex-shrink-0":"flex-1"}`,children:h?i.jsx("div",{className:"flex-1 flex items-center justify-center py-16",children:i.jsx(Ot,{className:"w-8 h-8 text-indigo-500 animate-spin"})}):Rs.length===0?i.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center py-16 text-center px-6",children:[i.jsx(eo,{className:"w-12 h-12 text-slate-300 mb-3"}),i.jsx("p",{className:"text-slate-600 font-medium",children:ir?"No emails with this label":"No emails yet"}),i.jsx("p",{className:"text-slate-400 text-sm mt-1",children:ir?"Try selecting a different label or clear the filter to see all emails.":'Connect Gmail and tap "Sync from Gmail" to pull in your inbox.'}),ir&&i.jsx("button",{onClick:()=>vr(null),className:"mt-4 px-4 py-2 bg-indigo-600 text-white rounded-xl text-sm font-medium hover:bg-indigo-700",children:"Clear Filter"}),!ir&&i.jsx("button",{onClick:us,disabled:p,className:"mt-4 px-4 py-2 bg-slate-100 text-slate-700 rounded-xl text-sm font-medium hover:bg-slate-200 disabled:opacity-60",children:p?"Syncing":"Sync from Gmail"})]}):I==="threads"&&bc?i.jsx("ul",{className:"divide-y divide-slate-100 overflow-y-auto flex-1 min-h-0",children:bc.map(R=>{const de=Q.has(R.threadId),xe=R.latestEmail,Me=R.emails.length>1;return i.jsxs("li",{children:[i.jsxs("button",{type:"button",onClick:()=>Me?H(R.threadId):gi(xe),className:`w-full text-left px-4 py-3 hover:bg-slate-50 transition-colors flex items-start gap-3 ${u?.id===xe.id?"bg-indigo-50 border-l-4 border-indigo-500":""}`,children:[Me&&i.jsx("div",{role:"button",tabIndex:0,onClick:He=>{He.stopPropagation(),H(R.threadId)},onKeyDown:He=>{(He.key==="Enter"||He.key===" ")&&(He.preventDefault(),He.stopPropagation(),H(R.threadId))},className:"p-1 hover:bg-slate-200 rounded flex-shrink-0 mt-0.5 cursor-pointer",children:de?i.jsx(kh,{className:"w-4 h-4 text-slate-500"}):i.jsx(Ka,{className:"w-4 h-4 text-slate-500"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsx("span",{className:`truncate font-medium ${R.unreadCount>0?"text-slate-900":"text-slate-600"}`,children:xe.subject||"(No subject)"}),xe.isStarred&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(av,{className:"w-4 h-4 text-amber-500 fill-amber-500 flex-shrink-0"}),xe.syncStatus?.starredStatus&&qo(xe.syncStatus.starredStatus)]}),xe.priority&&xe.priority!=="medium"&&i.jsx("span",{className:`px-1.5 py-0.5 text-[10px] font-medium rounded ${xe.priority==="high"?"bg-red-100 text-red-700":xe.priority==="low"?"bg-blue-100 text-blue-700":""}`,children:xe.priority==="high"?"High":"Low"}),xe.threadStatus&&xe.threadStatus!=="active"&&i.jsx("span",{className:`px-1.5 py-0.5 text-[10px] font-medium rounded ${xe.threadStatus==="resolved"?"bg-emerald-100 text-emerald-700":xe.threadStatus==="pending"?"bg-amber-100 text-amber-700":xe.threadStatus==="archived"?"bg-slate-100 text-slate-700":""}`,children:xe.threadStatus.charAt(0).toUpperCase()+xe.threadStatus.slice(1)}),xe.owner&&dt.find(He=>He.id===xe.owner)&&i.jsx("span",{className:"px-1.5 py-0.5 text-[10px] font-medium rounded bg-indigo-100 text-indigo-700",children:dt.find(He=>He.id===xe.owner)?.name||"Assigned"}),Me&&i.jsx("span",{className:"px-2 py-0.5 bg-slate-100 text-slate-600 text-[10px] font-medium rounded-full",children:R.emails.length})]}),i.jsxs("p",{className:"text-xs text-slate-500 mt-0.5 truncate",children:[xe.sender||xe.email,Me&&`  ${R.emails.length} messages`]}),(xe.accountEmail||xe.accountOwnerName)&&i.jsxs("p",{className:"text-xs text-slate-400 mt-0.5 truncate",children:[xe.accountOwnerName&&i.jsxs("span",{className:"text-slate-500",children:["via ",xe.accountOwnerName]}),xe.accountEmail&&i.jsx("span",{className:"ml-1 px-1.5 py-0.5 bg-indigo-50 text-indigo-600 text-[10px] font-medium rounded",children:xe.accountEmail})]}),xe.lastMessage&&i.jsx("p",{className:"text-xs text-slate-400 mt-1 line-clamp-2",children:xe.lastMessage})]}),i.jsxs("div",{className:"flex flex-col items-end flex-shrink-0",children:[i.jsx("span",{className:"text-xs text-slate-400 whitespace-nowrap",children:xe.timestamp}),R.unreadCount>0&&i.jsx("span",{className:"w-2 h-2 rounded-full bg-indigo-500 mt-1"})]}),i.jsx(Ka,{className:"w-4 h-4 text-slate-400 flex-shrink-0 mt-1"})]}),de&&Me&&i.jsx("div",{className:"bg-slate-50/50 border-l-4 border-indigo-200 pl-4",children:R.emails.map((He,mt)=>i.jsxs("button",{type:"button",onClick:()=>gi(He),className:`w-full text-left px-4 py-2.5 hover:bg-slate-100 transition-colors flex items-start gap-3 ${u?.id===He.id?"bg-indigo-50":""}`,children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`text-xs font-medium ${He.isRead?"text-slate-600":"text-slate-900"}`,children:He.sender||He.email}),!He.isRead&&i.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500"})]}),He.lastMessage&&i.jsx("p",{className:"text-xs text-slate-500 mt-1 line-clamp-1",children:He.lastMessage})]}),i.jsx("span",{className:"text-xs text-slate-400 whitespace-nowrap flex-shrink-0",children:He.timestamp})]},He.id))})]},R.threadId)})},`threads-${ir||"all"}`):i.jsx("ul",{className:"divide-y divide-slate-100 overflow-y-auto flex-1 min-h-0",children:Rs.map(R=>i.jsx("li",{children:i.jsxs("button",{type:"button",onClick:()=>gi(R),className:`w-full text-left px-4 py-3 hover:bg-slate-50 transition-colors flex items-start gap-3 ${u?.id===R.id?"bg-indigo-50 border-l-4 border-indigo-500":""}`,children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsx("span",{className:`truncate font-medium ${R.isRead?"text-slate-600":"text-slate-900"}`,children:R.subject||"(No subject)"}),R.isStarred&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(av,{className:"w-4 h-4 text-amber-500 fill-amber-500 flex-shrink-0"}),R.syncStatus?.starredStatus&&qo(R.syncStatus.starredStatus)]}),R.priority&&R.priority!=="medium"&&i.jsx("span",{className:`px-1.5 py-0.5 text-[10px] font-medium rounded ${R.priority==="high"?"bg-red-100 text-red-700":R.priority==="low"?"bg-blue-100 text-blue-700":""}`,children:R.priority==="high"?"High":"Low"}),R.threadStatus&&R.threadStatus!=="active"&&i.jsx("span",{className:`px-1.5 py-0.5 text-[10px] font-medium rounded ${R.threadStatus==="resolved"?"bg-emerald-100 text-emerald-700":R.threadStatus==="pending"?"bg-amber-100 text-amber-700":R.threadStatus==="archived"?"bg-slate-100 text-slate-700":""}`,children:R.threadStatus.charAt(0).toUpperCase()+R.threadStatus.slice(1)}),R.owner&&dt.find(de=>de.id===R.owner)&&i.jsx("span",{className:"px-1.5 py-0.5 text-[10px] font-medium rounded bg-indigo-100 text-indigo-700",children:dt.find(de=>de.id===R.owner)?.name||"Assigned"}),R.labels&&R.labels.length>0&&i.jsxs(i.Fragment,{children:[R.labels.slice(0,3).map(de=>{const xe=sn.find(Me=>Me.id===de);return xe?i.jsx("span",{className:"px-1.5 py-0.5 text-[10px] font-medium rounded bg-purple-100 text-purple-700",title:xe.name,children:xe.name},de):null}),R.labels.length>3&&i.jsxs("span",{className:"px-1.5 py-0.5 text-[10px] font-medium rounded bg-purple-100 text-purple-700",children:["+",R.labels.length-3]})]})]}),i.jsx("p",{className:"text-xs text-slate-500 mt-0.5 truncate",children:R.sender||R.email}),(R.accountEmail||R.accountOwnerName)&&i.jsxs("p",{className:"text-xs text-slate-400 mt-0.5 truncate",children:[R.accountOwnerName&&i.jsxs("span",{className:"text-slate-500",children:["via ",R.accountOwnerName]}),R.accountEmail&&i.jsx("span",{className:"ml-1 px-1.5 py-0.5 bg-indigo-50 text-indigo-600 text-[10px] font-medium rounded",children:R.accountEmail})]}),R.lastMessage&&i.jsx("p",{className:"text-xs text-slate-400 mt-1 line-clamp-2",children:R.lastMessage})]}),i.jsxs("div",{className:"flex flex-col items-end flex-shrink-0",children:[i.jsx("span",{className:"text-xs text-slate-400 whitespace-nowrap",children:R.timestamp}),!R.isRead&&i.jsx("span",{className:"w-2 h-2 rounded-full bg-indigo-500 mt-1"})]}),i.jsx(Ka,{className:"w-4 h-4 text-slate-400 flex-shrink-0 mt-1"})]})},R.id))},`list-${ir||"all"}`)}),i.jsx("div",{className:"flex-1 min-h-0 flex flex-col border border-slate-200 rounded-xl bg-white overflow-hidden min-w-0",children:v?i.jsx("div",{className:"flex-1 flex items-center justify-center py-16",children:i.jsx(Ot,{className:"w-8 h-8 text-indigo-500 animate-spin"})}):u?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"p-4 border-b border-slate-100 flex items-start justify-between gap-4 flex-wrap shrink-0",children:[i.jsxs("div",{className:"min-w-0",children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900 truncate",children:u.subject||"(No subject)"}),i.jsxs("p",{className:"text-sm text-slate-500 mt-0.5",children:[u.sender||u.email,"  ",u.timestamp]}),(u.accountEmail||u.accountOwnerName)&&i.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:[u.accountOwnerName&&i.jsxs("span",{children:["Synced via ",i.jsx("span",{className:"font-medium text-slate-600",children:u.accountOwnerName})]}),u.accountEmail&&i.jsx("span",{className:"ml-2 px-2 py-0.5 bg-indigo-50 text-indigo-600 text-xs font-medium rounded",children:u.accountEmail})]}),u.labels&&u.labels.length>0&&i.jsx("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:u.labels.map(R=>{const de=sn.find(xe=>xe.id===R);return de?i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-purple-100 text-purple-700 text-xs font-medium rounded-lg",children:[de.name,i.jsx("button",{type:"button",onClick:()=>Sl(u.id,R),className:"hover:text-purple-900",title:"Remove label",children:i.jsx(mr,{className:"w-3 h-3"})})]},R):null})}),i.jsx("div",{className:"mt-2",children:i.jsxs("button",{type:"button",onClick:()=>{ne(u.id),Br(!0)},className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium text-purple-600 hover:text-purple-700 hover:bg-purple-50 rounded-lg transition-colors",children:[i.jsx(kn,{className:"w-3 h-3"}),u.labels&&u.labels.length>0?"Manage Labels":"Add Labels"]})})]}),i.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mr-2",children:[i.jsxs("select",{value:u.priority||"medium",onChange:R=>Al(u.id,{priority:R.target.value}),className:"px-2 py-1 text-xs border border-slate-200 rounded-lg bg-white hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-indigo-500",title:"Priority",children:[i.jsx("option",{value:"low",children:"Low"}),i.jsx("option",{value:"medium",children:"Medium"}),i.jsx("option",{value:"high",children:"High"})]}),i.jsxs("select",{value:u.threadStatus||"active",onChange:R=>Al(u.id,{threadStatus:R.target.value}),className:"px-2 py-1 text-xs border border-slate-200 rounded-lg bg-white hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-indigo-500",title:"Status",children:[i.jsx("option",{value:"active",children:"Active"}),i.jsx("option",{value:"pending",children:"Pending"}),i.jsx("option",{value:"resolved",children:"Resolved"}),i.jsx("option",{value:"archived",children:"Archived"})]}),i.jsxs("select",{value:u.owner||"",onChange:R=>Al(u.id,{owner:R.target.value||null}),className:"px-2 py-1 text-xs border border-slate-200 rounded-lg bg-white hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 min-w-[120px]",title:"Assign to",children:[i.jsx("option",{value:"",children:"Unassigned"}),dt.map(R=>i.jsx("option",{value:R.id,children:R.name||R.email},R.id))]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("button",{type:"button",onClick:()=>kl(u.id,!u.isStarred),className:"p-2 rounded-lg hover:bg-slate-100 text-slate-500",title:u.isStarred?"Unstar":"Star",children:u.isStarred?i.jsx(av,{className:"w-4 h-4 text-amber-500 fill-amber-500"}):i.jsx(zR,{className:"w-4 h-4"})}),u.syncStatus?.starredStatus&&i.jsx("div",{className:"flex-shrink-0",children:qo(u.syncStatus.starredStatus)})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("button",{type:"button",onClick:()=>gc(u.id,!u.isRead),className:"p-2 rounded-lg hover:bg-slate-100 text-slate-500 text-xs font-medium",children:u.isRead?"Mark unread":"Mark read"}),u.syncStatus?.readStatus&&i.jsx("div",{className:"flex-shrink-0",children:qo(u.syncStatus.readStatus)})]}),i.jsxs("button",{type:"button",onClick:()=>{Pt("reply"),Lt([u.email]),kr([]),an([]),va(u.subject?.startsWith("Re:")?u.subject:`Re: ${u.subject||""}`),pa(""),Ta(u.accountEmail||S[0]?.email||""),tn(!1),Wt(!1),at(!0)},className:"px-3 py-1.5 bg-indigo-600 text-white text-xs font-medium rounded-lg hover:bg-indigo-700 transition-colors flex items-center gap-2",children:[i.jsx(Mc,{className:"w-3 h-3"}),"Reply"]}),i.jsx("button",{type:"button",onClick:()=>{Pt("replyAll");const R=(u.accountEmail||"").toLowerCase(),de=[u.email,...u.to||[],...u.cc||[]].filter((xe,Me,He)=>{const mt=xe.toLowerCase();return He.findIndex(St=>St.toLowerCase()===mt)===Me&&mt!==R});Lt([u.email]),kr(de.filter(xe=>xe.toLowerCase()!==u.email.toLowerCase())),an([]),va(u.subject?.startsWith("Re:")?u.subject:`Re: ${u.subject||""}`),pa(""),Ta(u.accountEmail||S[0]?.email||""),tn(!0),Wt(!1),at(!0)},className:"px-3 py-1.5 bg-indigo-50 text-indigo-600 text-xs font-medium rounded-lg hover:bg-indigo-100 transition-colors",children:"Reply All"}),i.jsx("button",{type:"button",onClick:()=>{Pt("forward"),Lt([]),kr([]),an([]),va(u.subject?.startsWith("Fwd:")||u.subject?.startsWith("Fw:")?u.subject:`Fwd: ${u.subject||""}`);const R=u.body||u.lastMessage||"";pa(`

--- Forwarded message ---
From: ${u.sender||u.email}
Date: ${u.timestamp}
Subject: ${u.subject}
To: ${u.to?.join(", ")||u.email}

${R}`),Ta(u.accountEmail||S[0]?.email||""),tn(!1),Wt(!1),at(!0)},className:"px-3 py-1.5 bg-white text-slate-600 text-xs font-medium rounded-lg hover:bg-slate-50 transition-colors border border-slate-200",children:"Forward"})]})]}),i.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto p-4 space-y-6",children:[u.attachments&&u.attachments.length>0&&i.jsxs("div",{className:"border-b border-slate-200 pb-6",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(vg,{className:"w-4 h-4 text-slate-500"}),i.jsxs("h3",{className:"text-sm font-semibold text-slate-900",children:["Attachments (",u.attachments.length,")"]})]}),i.jsx("div",{className:"grid grid-cols-1 gap-2",children:u.attachments.map((R,de)=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg border border-slate-200 hover:bg-slate-100 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[i.jsx("div",{className:`p-2 rounded-lg ${ao(R.mimeType)?"bg-blue-50 text-blue-600":Ja(R.mimeType)?"bg-red-50 text-red-600":"bg-slate-100 text-slate-600"}`,children:ao(R.mimeType)?i.jsx(Qs,{className:"w-4 h-4"}):Ja(R.mimeType)?i.jsx(yb,{className:"w-4 h-4"}):i.jsx(vg,{className:"w-4 h-4"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-slate-900 truncate",children:R.filename}),i.jsxs("p",{className:"text-xs text-slate-500",children:[Gi(R.size),"  ",R.mimeType]})]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[(ao(R.mimeType)||Ja(R.mimeType))&&i.jsx("button",{onClick:()=>Ms(u.id,R.attachmentId,R.filename,R.mimeType),disabled:Tr[`${u.id}-${R.attachmentId}-view`],className:"p-2 rounded-lg hover:bg-slate-200 text-slate-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"View",children:Tr[`${u.id}-${R.attachmentId}-view`]?i.jsx(Ot,{className:"w-4 h-4 animate-spin"}):i.jsx($d,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>Ci(u.id,R.attachmentId,R.filename),disabled:Tr[`${u.id}-${R.attachmentId}-download`],className:"p-2 rounded-lg hover:bg-slate-200 text-slate-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Download",children:Tr[`${u.id}-${R.attachmentId}-download`]?i.jsx(Ot,{className:"w-4 h-4 animate-spin"}):i.jsx(gm,{className:"w-4 h-4"})})]})]},R.attachmentId||de))})]}),i.jsx("div",{className:"prose prose-slate max-w-none text-sm whitespace-pre-wrap break-words",children:u.body||u.lastMessage||"No content"}),i.jsxs("div",{className:"border-t border-slate-200 pt-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("h3",{className:"text-sm font-semibold text-slate-900 flex items-center gap-2",children:[i.jsx(Ts,{className:"w-4 h-4 text-indigo-500"}),"AI Reply Draft"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[Oe.length>0&&i.jsx("button",{type:"button",onClick:R=>{R.preventDefault(),R.stopPropagation(),o(()=>Tl(),de=>{})},disabled:oe,className:"inline-flex items-center gap-2 px-3 py-1.5 bg-white text-indigo-600 text-xs font-medium rounded-lg hover:bg-indigo-50 transition-colors border border-indigo-200 disabled:opacity-60",children:oe?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-3 h-3 animate-spin"}),"Regenerating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Gd,{className:"w-3 h-3"}),"Regenerate"]})}),!ce&&i.jsx("button",{type:"button",onClick:R=>{R.preventDefault(),R.stopPropagation(),o(()=>Tl(),de=>{})},disabled:oe,className:"inline-flex items-center gap-2 px-3 py-1.5 bg-indigo-50 text-indigo-700 text-xs font-medium rounded-lg hover:bg-indigo-100 disabled:opacity-60 transition-colors",children:oe?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-3 h-3 animate-spin"}),"Generating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Ts,{className:"w-3 h-3"}),"Generate Draft"]})})]})]}),Oe.length>1&&i.jsxs("div",{className:"mb-3 space-y-2",children:[i.jsx("p",{className:"text-xs font-medium text-slate-700",children:"Select a variation:"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:Oe.map((R,de)=>i.jsxs("button",{type:"button",onClick:()=>{je(de),he(R.draft)},className:`p-3 rounded-lg border-2 text-left transition-all ${De===de?"border-indigo-500 bg-indigo-50":"border-slate-200 bg-white hover:border-indigo-300 hover:bg-indigo-50/30"}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"text-xs font-semibold text-slate-900 capitalize",children:R.style}),i.jsxs("span",{className:"text-xs font-bold text-indigo-600",children:[R.confidence,"%"]})]}),i.jsx("p",{className:"text-[10px] text-slate-500 mb-2",children:R.description}),i.jsx("div",{className:"w-full bg-slate-200 rounded-full h-1.5",children:i.jsx("div",{className:`h-1.5 rounded-full ${R.confidence>=80?"bg-green-500":R.confidence>=60?"bg-indigo-500":"bg-amber-500"}`,style:{width:`${R.confidence}%`}})})]},de))})]}),ce?i.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-4 space-y-3",children:[Oe.length>1&&De!==null&&i.jsxs("div",{className:"flex items-center justify-between pb-2 border-b border-indigo-200",children:[i.jsxs("div",{children:[i.jsxs("span",{className:"text-xs font-semibold text-slate-900 capitalize",children:[Oe[De].style," Variation"]}),i.jsxs("span",{className:"ml-2 text-xs text-slate-500",children:["(",Oe[De].description,")"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xs text-slate-500",children:"Confidence:"}),i.jsxs("span",{className:"text-xs font-bold text-indigo-600",children:[Oe[De].confidence,"%"]})]})]}),i.jsx("div",{className:"quill-wrapper",children:i.jsx(dv,{ref:R=>{_e.current=R,R&&(Se.current=R.getEditor())},theme:"snow",value:ce,onChange:R=>he(R),modules:ko,formats:El,placeholder:"Edit your draft..."})}),i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsxs("button",{type:"button",onClick:Ju,className:"px-3 py-1.5 bg-indigo-600 text-white text-xs font-medium rounded-lg hover:bg-indigo-700 transition-colors flex items-center gap-2",children:[i.jsx(Mc,{className:"w-3 h-3"}),"Copy to Clipboard"]}),i.jsxs("button",{type:"button",onClick:ff,className:"px-3 py-1.5 bg-white text-indigo-600 text-xs font-medium rounded-lg hover:bg-indigo-50 transition-colors border border-indigo-200 flex items-center gap-2",children:[i.jsx(kn,{className:"w-3 h-3"}),"Save as Template"]}),i.jsx("button",{type:"button",onClick:()=>{pe(!0),Ki()},className:"px-3 py-1.5 bg-white text-slate-600 text-xs font-medium rounded-lg hover:bg-slate-50 transition-colors border border-slate-200",children:"Templates"}),i.jsx("button",{type:"button",onClick:()=>{he(null),ee([]),je(null)},className:"px-3 py-1.5 bg-white text-slate-600 text-xs font-medium rounded-lg hover:bg-slate-50 transition-colors border border-slate-200",children:"Clear"})]})]}):i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("p",{className:"text-xs text-slate-400",children:'Click "Generate Draft" to create AI-powered reply suggestions.'}),i.jsx("button",{type:"button",onClick:()=>{pe(!0),Ki()},className:"px-3 py-1.5 bg-white text-slate-600 text-xs font-medium rounded-lg hover:bg-slate-50 transition-colors border border-slate-200",children:"View Templates"})]})]}),i.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-200",children:[i.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[i.jsx(ls,{className:"w-4 h-4 text-indigo-500"}),"Notes & Comments",u?.id&&J[u.id]&&J[u.id].length>0&&i.jsx("span",{className:"ml-1 px-2 py-0.5 bg-indigo-100 text-indigo-600 rounded-full text-[10px]",children:J[u.id].length})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"relative",style:{position:"relative"},children:[i.jsxs("div",{className:"quill-wrapper",children:[i.jsx("style",{children:`
                          .quill-wrapper .ql-container {
                            border-bottom-left-radius: 0.75rem;
                            border-bottom-right-radius: 0.75rem;
                            font-size: 0.875rem;
                            min-height: 100px;
                          }
                          .quill-wrapper .ql-toolbar {
                            border-top-left-radius: 0.75rem;
                            border-top-right-radius: 0.75rem;
                            border: none;
                            border-bottom: 2px solid #e2e8f0;
                            background: #f8fafc;
                          }
                          .quill-wrapper .ql-editor {
                            min-height: 100px;
                            padding: 1rem;
                          }
                          .quill-wrapper .ql-editor.ql-blank::before {
                            color: #94a3b8;
                            font-style: normal;
                            font-size: 0.875rem;
                          }
                          .quill-wrapper .ql-snow {
                            border: 2px solid #e2e8f0;
                            border-radius: 0.75rem;
                          }
                          .quill-wrapper:focus-within .ql-snow {
                            border-color: #818cf8;
                            box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.1);
                          }
                        `}),i.jsx(dv,{ref:R=>{gr.current=R,R&&(Fr.current=R.getEditor())},theme:"snow",value:X,onChange:Cl,onBlur:()=>{setTimeout(()=>{it||Kt(null)},200)},modules:ko,formats:El,placeholder:"Add a note or comment... (Use @ to mention users)"})]}),it&&ar.length>0&&i.jsx("div",{className:"absolute top-full mt-2 left-0 w-full max-w-sm bg-white border-2 border-indigo-200 rounded-xl shadow-2xl z-[100] max-h-48 overflow-y-auto",onMouseDown:R=>{R.preventDefault()},children:i.jsxs("div",{className:"p-2",children:[i.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 text-xs font-bold text-slate-400 uppercase tracking-wider",children:[i.jsx(xm,{className:"w-3 h-3"}),"Mention User"]}),ar.map(R=>i.jsxs("button",{type:"button",onMouseDown:de=>{de.preventDefault(),de.stopPropagation(),yc(R)},onClick:de=>{de.preventDefault(),de.stopPropagation()},className:"w-full flex items-center gap-3 px-3 py-2 hover:bg-indigo-50 rounded-lg transition-all text-left",children:[i.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center text-indigo-600 font-bold text-xs",children:R.name?.charAt(0)||"U"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-bold text-slate-900 truncate",children:R.name||"Unknown"}),i.jsx("p",{className:"text-xs text-slate-400 truncate",children:R.email||""})]})]},R.id))]})})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("label",{className:"flex-1 cursor-pointer group",children:[i.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 bg-slate-50 border-2 border-dashed border-slate-200 rounded-xl hover:border-indigo-300 hover:bg-indigo-50/30 transition-all",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-indigo-100 flex items-center justify-center text-indigo-600 group-hover:bg-indigo-200 transition-all",children:q?i.jsx(Qs,{className:"w-4 h-4"}):i.jsx(hc,{className:"w-4 h-4"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xs font-bold text-slate-900",children:q?U?.name||"Image selected":"Attach Image"}),i.jsx("p",{className:"text-[10px] text-slate-400",children:"PNG, JPG (Max 10MB)"})]})]}),i.jsx("input",{ref:qr,type:"file",accept:"image/*",onChange:$o,className:"hidden"})]}),i.jsx("button",{onClick:io,disabled:B||!X.trim()&&!U,className:"px-6 py-3 bg-indigo-600 text-white font-bold text-xs uppercase tracking-widest rounded-xl hover:bg-indigo-700 transition-all shadow-lg flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed shrink-0",children:B?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),"Sending..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Mc,{className:"w-4 h-4"}),"Send"]})})]}),q&&i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:q,alt:"Note attachment preview",className:"w-full max-h-48 object-contain rounded-lg border-2 border-slate-200"}),i.jsx("button",{onClick:()=>{C(""),W(null),qr.current&&(qr.current.value="")},className:"absolute top-2 right-2 p-1.5 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-all shadow-lg",children:i.jsx(mr,{className:"w-4 h-4"})})]})]}),i.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto custom-scrollbar",children:J[u?.id]&&J[u.id]?.length>0?J[u.id].map(R=>{const de=n?.role==="Admin"||R.userId===n?.id;return i.jsxs("div",{className:"p-4 bg-white border border-slate-200 rounded-xl space-y-2",children:[i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center text-indigo-600 font-black text-xs",children:R.userName?.charAt(0)||"U"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-bold text-slate-900",children:R.userName}),i.jsx("p",{className:"text-[10px] text-slate-400",children:new Date(R.timestamp).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})})]})]}),de&&i.jsx("button",{onClick:()=>u?.id&&Ho(u.id,R.id),disabled:re===R.id,className:"p-2 hover:bg-red-50 rounded-lg transition-colors group disabled:opacity-50",title:"Delete note",children:re===R.id?i.jsx(Ot,{className:"w-4 h-4 text-red-600 animate-spin"}):i.jsx(Ir,{className:"w-4 h-4 text-slate-400 group-hover:text-red-600 transition-colors"})})]}),R.message&&i.jsx("div",{className:"text-sm text-slate-700 leading-relaxed pl-10 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:R.message}}),R.imageUrl&&i.jsx("div",{className:"pl-10",children:i.jsxs("button",{type:"button",onClick:()=>nn({isOpen:!0,imageUrl:R.imageUrl,imageName:R.imageName}),className:"inline-flex items-center gap-2 px-3 py-2 bg-slate-50 hover:bg-slate-100 border border-slate-200 rounded-lg transition-colors group",children:[i.jsx(Qs,{className:"w-4 h-4 text-slate-500 group-hover:text-indigo-600 transition-colors"}),i.jsx("span",{className:"text-xs font-medium text-slate-700 group-hover:text-indigo-600 transition-colors",children:R.imageName||"View Attachment"})]})})]},R.id)}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(ls,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),i.jsx("p",{className:"text-sm text-slate-400 font-medium",children:"No notes yet"}),i.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Add your first note above"})]})})]})]})]}):i.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center py-16 text-center px-6",children:[i.jsx(eo,{className:"w-12 h-12 text-slate-300 mb-3"}),i.jsx("p",{className:"text-slate-500 text-sm",children:"Select an email to read"})]})})]}),Er.isOpen&&i.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/90 backdrop-blur-sm animate-in fade-in duration-300",onClick:()=>nn({isOpen:!1,imageUrl:"",imageName:void 0}),children:i.jsxs("div",{className:"relative max-w-7xl max-h-[90vh] w-full h-full flex items-center justify-center",children:[i.jsx("button",{onClick:()=>nn({isOpen:!1,imageUrl:"",imageName:void 0}),className:"absolute top-4 right-4 p-3 bg-white/10 hover:bg-white/20 rounded-full text-white transition-colors backdrop-blur-sm z-10",children:i.jsx(mr,{className:"w-6 h-6"})}),i.jsx("img",{src:Er.imageUrl,alt:Er.imageName||"Note attachment",className:"max-w-full max-h-full object-contain rounded-2xl shadow-2xl",onClick:R=>R.stopPropagation()}),Er.imageName&&i.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 px-4 py-2 bg-white/90 backdrop-blur-sm rounded-lg",children:i.jsx("p",{className:"text-sm font-medium text-slate-900",children:Er.imageName})})]})}),rt&&i.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/90 backdrop-blur-sm animate-in fade-in duration-300",onClick:()=>{ft(!1),Ue("")},children:i.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-md",onClick:R=>R.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200",children:[i.jsxs("h2",{className:"text-xl font-bold text-slate-900 flex items-center gap-2",children:[i.jsx(Ts,{className:"w-5 h-5 text-indigo-500"}),"Save as Template"]}),i.jsx("button",{onClick:()=>{ft(!1),Ue("")},className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:i.jsx(mr,{className:"w-5 h-5 text-slate-500"})})]}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Template Name"}),i.jsx("input",{type:"text",value:Nt,onChange:R=>Ue(R.target.value),onKeyDown:R=>{R.key==="Enter"&&(R.preventDefault(),Ol())},placeholder:"Enter template name...",className:"w-full px-4 py-3 border-2 border-slate-200 rounded-lg focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none transition-all text-sm",autoFocus:!0})]}),i.jsxs("div",{className:"flex items-center gap-3 justify-end",children:[i.jsx("button",{onClick:()=>{ft(!1),Ue("")},className:"px-4 py-2 text-slate-600 text-sm font-medium rounded-lg hover:bg-slate-100 transition-colors",children:"Cancel"}),i.jsxs("button",{onClick:Ol,disabled:!Nt||!Nt.trim(),className:"px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[i.jsx(kn,{className:"w-4 h-4"}),"Save Template"]})]})]})]})}),Pe&&i.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/90 backdrop-blur-sm animate-in fade-in duration-300",onClick:()=>pe(!1),children:i.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col",onClick:R=>R.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200",children:[i.jsxs("h2",{className:"text-xl font-bold text-slate-900 flex items-center gap-2",children:[i.jsx(Ts,{className:"w-5 h-5 text-indigo-500"}),"Email Response Templates"]}),i.jsx("button",{onClick:()=>pe(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:i.jsx(mr,{className:"w-5 h-5 text-slate-500"})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:ae.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Ts,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),i.jsx("p",{className:"text-slate-500 text-sm",children:"No templates yet. Create one by saving a draft!"})]}):i.jsx("div",{className:"space-y-3",children:ae.map(R=>i.jsx("div",{className:"p-4 border border-slate-200 rounded-lg hover:border-indigo-300 hover:bg-indigo-50/30 transition-all cursor-pointer group",onClick:de=>{de.preventDefault(),de.stopPropagation(),u&&R.content&&(he(R.content),pe(!1),t("Template loaded"))},children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:R.name}),i.jsxs("p",{className:"text-xs text-slate-500 line-clamp-2",children:[R.content?.replace(/<[^>]*>/g,"").substring(0,100),"..."]}),i.jsxs("p",{className:"text-[10px] text-slate-400 mt-2",children:["Created ",new Date(R.createdAt).toLocaleDateString()]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:de=>{de.preventDefault(),de.stopPropagation(),u&&R.content&&(he(R.content),pe(!1),t("Template loaded"))},className:"px-3 py-1.5 bg-indigo-600 text-white text-xs font-medium rounded-lg hover:bg-indigo-700 transition-colors opacity-0 group-hover:opacity-100",children:"Use"}),i.jsx("button",{onClick:async de=>{de.preventDefault(),de.stopPropagation(),Ee(R.id)},className:"p-2 hover:bg-red-50 rounded-lg transition-colors opacity-0 group-hover:opacity-100",children:i.jsx(Ir,{className:"w-4 h-4 text-slate-400 hover:text-red-600"})})]})]})},R.id))})})]})}),pn&&i.jsxs("div",{className:"fixed inset-0 z-[250] overflow-hidden pointer-events-none",children:[i.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md pointer-events-auto animate-in fade-in duration-300",onClick:()=>Ee(null)}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4 pointer-events-none",children:i.jsxs("div",{className:"bg-white rounded-[28px] shadow-2xl max-w-md w-full pointer-events-auto animate-in zoom-in-95 duration-300 overflow-hidden",children:[i.jsxs("div",{className:"p-8 text-center",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-red-100 flex items-center justify-center text-red-600 mx-auto mb-6",children:i.jsx(Yn,{className:"w-8 h-8"})}),i.jsx("h2",{className:"text-2xl font-black text-slate-900 mb-3",children:"Delete Template?"}),i.jsx("p",{className:"text-sm text-slate-600 mb-6",children:"Are you sure you want to delete this template? This action cannot be undone."})]}),i.jsxs("div",{className:"p-6 flex gap-3 bg-slate-50 border-t border-slate-100",children:[i.jsx("button",{onClick:()=>Ee(null),className:"flex-1 px-4 py-2.5 text-sm font-semibold text-slate-700 bg-white border border-slate-300 rounded-xl hover:bg-slate-50 transition-colors",children:"Cancel"}),i.jsx("button",{onClick:async()=>{const R=pn;Ee(null);try{await Hre(R,a),t("Template deleted"),Ki()}catch(de){const xe=de?.message||"Failed to delete template";console.error("[INBOX] Error deleting template:",xe),r(xe)}},className:"flex-1 px-4 py-2.5 text-sm font-semibold text-white bg-red-600 rounded-xl hover:bg-red-700 transition-colors",children:"Delete"})]})]})})]}),lr&&i.jsxs("div",{className:"fixed inset-0 z-[250] overflow-hidden pointer-events-none",children:[i.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md pointer-events-auto animate-in fade-in duration-300",onClick:()=>cr(!1)}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4 pointer-events-none",children:i.jsxs("div",{className:"bg-white rounded-[28px] shadow-2xl max-w-md w-full pointer-events-auto animate-in zoom-in-95 duration-300 overflow-hidden",children:[i.jsxs("div",{className:"p-8 text-center",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-amber-100 flex items-center justify-center text-amber-600 mx-auto mb-6",children:i.jsx(Yn,{className:"w-8 h-8"})}),i.jsx("h2",{className:"text-2xl font-black text-slate-900 mb-3",children:"Discard Email?"}),i.jsx("p",{className:"text-sm text-slate-600 mb-6",children:"Are you sure you want to discard this email? All unsaved changes will be lost."})]}),i.jsxs("div",{className:"p-6 flex gap-3 bg-slate-50 border-t border-slate-100",children:[i.jsx("button",{onClick:()=>cr(!1),className:"flex-1 px-4 py-2.5 text-sm font-semibold text-slate-700 bg-white border border-slate-300 rounded-xl hover:bg-slate-50 transition-colors",children:"Cancel"}),i.jsx("button",{onClick:()=>{cr(!1),at(!1),Lt([]),kr([]),an([]),va(""),pa(""),yt(""),xt(""),An("")},className:"flex-1 px-4 py-2.5 text-sm font-semibold text-white bg-amber-600 rounded-xl hover:bg-amber-700 transition-colors",children:"Discard"})]})]})})]}),Je&&i.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/90 backdrop-blur-sm animate-in fade-in duration-300",onClick:()=>{cr(!0)},children:i.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col",onClick:R=>R.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200",children:[i.jsx("h2",{className:"text-xl font-bold text-slate-900",children:wt==="compose"?"Compose Email":wt==="reply"?"Reply":wt==="replyAll"?"Reply All":"Forward"}),i.jsx("button",{onClick:()=>{cr(!0)},className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:i.jsx(mr,{className:"w-5 h-5 text-slate-500"})})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[S.length>1&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"From"}),i.jsx("select",{value:_n,onChange:R=>Ta(R.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none",children:S.filter((R,de,xe)=>xe.findIndex(Me=>Me.email===R.email&&Me.userId===R.userId)===de).map((R,de)=>i.jsxs("option",{value:R.email,children:[R.email," ",R.isCurrentUser?"(You)":`(${R.ownerName})`]},`${R.email}-${R.userId}-${de}`))})]}),S.length===0&&i.jsx("div",{className:"p-3 bg-amber-50 border border-amber-200 rounded-lg text-xs text-amber-700",children:"No Gmail accounts connected. Please connect a Gmail account to send emails."}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:["To ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:"flex flex-wrap gap-2 p-2 border border-slate-200 rounded-lg min-h-[40px] focus-within:border-indigo-500 focus-within:ring-2 focus-within:ring-indigo-200",children:[It.map((R,de)=>i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-indigo-50 text-indigo-700 text-xs font-medium rounded",children:[R,i.jsx("button",{type:"button",onClick:()=>Lt(It.filter((xe,Me)=>Me!==de)),className:"hover:text-indigo-900",children:i.jsx(mr,{className:"w-3 h-3"})})]},de)),i.jsx("input",{type:"text",value:Xt,onChange:R=>{const de=R.target.value;if(yt(de),de.length>0){const xe=ct.filter(Me=>Me.email?.toLowerCase().includes(de.toLowerCase())||Me.name?.toLowerCase().includes(de.toLowerCase())).slice(0,5);Jt(xe),En(!0)}else En(!1)},onKeyDown:R=>{if(R.key==="Enter"&&Xt.trim()){R.preventDefault();const de=Xt.trim();/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(de)&&!It.includes(de)&&(Lt([...It,de]),yt(""),En(!1))}else if(R.key==="Backspace"&&Xt===""&&It.length>0)Lt(It.slice(0,-1));else if(R.key==="ArrowDown"&&Bn)R.preventDefault(),ua(de=>Math.min(de+1,On.length-1));else if(R.key==="ArrowUp"&&Bn)R.preventDefault(),ua(de=>Math.max(de-1,0));else if(R.key==="Enter"&&Bn&&On[Pn]){R.preventDefault();const de=On[Pn];de.email&&!It.includes(de.email)&&(Lt([...It,de.email]),yt(""),En(!1))}else if(R.key===","||R.key===";"){R.preventDefault();const de=Xt.trim().replace(/[,;]$/,"");/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(de)&&!It.includes(de)&&(Lt([...It,de]),yt(""),En(!1))}},onBlur:()=>{const R=Xt.trim();/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(R)&&!It.includes(R)&&(Lt([...It,R]),yt(""),En(!1))},placeholder:It.length===0?"Recipients":"",className:"flex-1 min-w-[120px] border-0 outline-none text-sm"})]}),Bn&&On.length>0&&i.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-slate-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:On.map((R,de)=>i.jsxs("button",{type:"button",onClick:()=>{R.email&&!It.includes(R.email)&&(Lt([...It,R.email]),yt(""),En(!1))},className:`w-full text-left px-3 py-2 hover:bg-indigo-50 text-sm ${de===Pn?"bg-indigo-50":""}`,children:[i.jsx("div",{className:"font-medium text-slate-900",children:R.name}),i.jsx("div",{className:"text-xs text-slate-500",children:R.email})]},R.id))})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("label",{className:"block text-xs font-medium text-slate-700",children:"Cc"}),i.jsxs("button",{type:"button",onClick:()=>tn(!dr),className:"text-xs text-indigo-600 hover:text-indigo-700",children:[dr?"Hide":"Show"," Cc"]})]}),dr&&i.jsx("div",{className:"relative",children:i.jsxs("div",{className:"flex flex-wrap gap-2 p-2 border border-slate-200 rounded-lg min-h-[40px]",children:[Dt.map((R,de)=>i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-slate-50 text-slate-700 text-xs font-medium rounded",children:[R,i.jsx("button",{type:"button",onClick:()=>kr(Dt.filter((xe,Me)=>Me!==de)),className:"hover:text-slate-900",children:i.jsx(mr,{className:"w-3 h-3"})})]},de)),i.jsx("input",{type:"text",value:Ur,onChange:R=>{xt(R.target.value)},onKeyDown:R=>{if(R.key==="Enter"&&Ur.trim()){R.preventDefault();const de=Ur.trim();/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(de)&&!Dt.includes(de)&&(kr([...Dt,de]),xt(""))}else if(R.key==="Backspace"&&Ur===""&&Dt.length>0)kr(Dt.slice(0,-1));else if(R.key===","||R.key===";"){R.preventDefault();const de=Ur.trim().replace(/[,;]$/,"");/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(de)&&!Dt.includes(de)&&(kr([...Dt,de]),xt(""))}},onBlur:()=>{const R=Ur.trim();/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(R)&&!Dt.includes(R)&&(kr([...Dt,R]),xt(""))},placeholder:Dt.length===0?"Cc":"",className:"flex-1 min-w-[120px] border-0 outline-none text-sm"})]})})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("label",{className:"block text-xs font-medium text-slate-700",children:"Bcc"}),i.jsxs("button",{type:"button",onClick:()=>Wt(!hn),className:"text-xs text-indigo-600 hover:text-indigo-700",children:[hn?"Hide":"Show"," Bcc"]})]}),hn&&i.jsxs("div",{className:"flex flex-wrap gap-2 p-2 border border-slate-200 rounded-lg min-h-[40px]",children:[Dr.map((R,de)=>i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-slate-50 text-slate-700 text-xs font-medium rounded",children:[R,i.jsx("button",{type:"button",onClick:()=>an(Dr.filter((xe,Me)=>Me!==de)),className:"hover:text-slate-900",children:i.jsx(mr,{className:"w-3 h-3"})})]},de)),i.jsx("input",{type:"text",value:yr,onChange:R=>{An(R.target.value)},onKeyDown:R=>{if(R.key==="Enter"&&yr.trim()){R.preventDefault();const de=yr.trim();/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(de)&&!Dr.includes(de)&&(an([...Dr,de]),An(""))}else if(R.key==="Backspace"&&yr===""&&Dr.length>0)an(Dr.slice(0,-1));else if(R.key===","||R.key===";"){R.preventDefault();const de=yr.trim().replace(/[,;]$/,"");/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(de)&&!Dr.includes(de)&&(an([...Dr,de]),An(""))}},onBlur:()=>{const R=yr.trim();/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(R)&&!Dr.includes(R)&&(an([...Dr,R]),An(""))},placeholder:Dr.length===0?"Bcc":"",className:"flex-1 min-w-[120px] border-0 outline-none text-sm"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:["Subject ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:Nn,onChange:R=>va(R.target.value),placeholder:"Subject",className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none"})]}),Le.length>0&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Signature"}),i.jsxs("select",{value:Le.find(R=>R.content===gn)?.id||"",onChange:R=>{const de=Le.find(xe=>xe.id===R.target.value);en(de?.content||"")},className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none",children:[i.jsx("option",{value:"",children:"No signature"}),Le.map(R=>i.jsxs("option",{value:R.id,children:[R.name," ",R.isDefault?"(Default)":""]},R.id))]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:["Message ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"quill-wrapper",children:[i.jsx("style",{children:`
                    .quill-wrapper .ql-container {
                      border-bottom-left-radius: 0.75rem;
                      border-bottom-right-radius: 0.75rem;
                      font-size: 0.875rem;
                      min-height: 300px;
                    }
                    .quill-wrapper .ql-toolbar {
                      border-top-left-radius: 0.75rem;
                      border-top-right-radius: 0.75rem;
                      border: none;
                      border-bottom: 2px solid #e2e8f0;
                      background: #f8fafc;
                    }
                    .quill-wrapper .ql-editor {
                      min-height: 300px;
                      padding: 1rem;
                    }
                    .quill-wrapper .ql-editor.ql-blank::before {
                      color: #94a3b8;
                      font-style: normal;
                      font-size: 0.875rem;
                    }
                    .quill-wrapper .ql-snow {
                      border: 2px solid #e2e8f0;
                      border-radius: 0.75rem;
                    }
                    .quill-wrapper:focus-within .ql-snow {
                      border-color: #818cf8;
                      box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.1);
                    }
                  `}),i.jsx(dv,{ref:R=>{In.current=R},theme:"snow",value:Ba,onChange:R=>{pa(R)},modules:ko,formats:El,placeholder:"Compose your message..."})]}),gn&&i.jsxs("div",{className:"mt-2 p-3 bg-slate-50 border border-slate-200 rounded-lg text-sm",children:[i.jsx("div",{className:"text-xs text-slate-500 mb-1",children:"Signature:"}),i.jsx("div",{dangerouslySetInnerHTML:{__html:gn}})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-2",children:"Attachments"}),i.jsxs("label",{className:"flex items-center gap-3 p-3 bg-slate-50 border-2 border-dashed border-slate-200 rounded-lg cursor-pointer hover:border-indigo-300 hover:bg-indigo-50/30 transition-all",children:[i.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center text-indigo-600",children:i.jsx(vg,{className:"w-4 h-4"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xs font-medium text-slate-900",children:"Add Attachment"}),i.jsx("p",{className:"text-[10px] text-slate-400",children:"Max 25MB per file"})]}),i.jsx("input",{ref:Gr,type:"file",multiple:!0,onChange:Ti,className:"hidden"})]}),Sr.length>0&&i.jsx("div",{className:"mt-3 space-y-2",children:Sr.map(R=>i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 border border-slate-200 rounded-lg",children:[i.jsx("div",{className:`p-2 rounded-lg ${ao(R.file.type)?"bg-blue-50 text-blue-600":Ja(R.file.type)?"bg-red-50 text-red-600":"bg-slate-100 text-slate-600"}`,children:ao(R.file.type)?i.jsx(Qs,{className:"w-4 h-4"}):Ja(R.file.type)?i.jsx(yb,{className:"w-4 h-4"}):i.jsx(vg,{className:"w-4 h-4"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-slate-900 truncate",children:R.file.name}),i.jsxs("p",{className:"text-xs text-slate-500",children:[Gi(R.file.size),"  ",R.file.type]})]}),R.preview&&i.jsx("button",{type:"button",onClick:()=>{or({isOpen:!0,emailId:"",attachmentId:R.id,filename:R.file.name,mimeType:R.file.type,url:R.preview})},className:"p-2 rounded-lg hover:bg-slate-200 text-slate-600 transition-colors",title:"Preview",children:i.jsx($d,{className:"w-4 h-4"})}),i.jsx("button",{type:"button",onClick:()=>vc(R.id),className:"p-2 rounded-lg hover:bg-red-50 text-red-600 transition-colors",title:"Remove",children:i.jsx(mr,{className:"w-4 h-4"})})]},R.id))})]})]}),i.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-slate-200",children:[i.jsx("button",{type:"button",onClick:()=>{cr(!0)},className:"px-4 py-2 text-slate-600 text-sm font-medium rounded-lg hover:bg-slate-100 transition-colors",children:"Cancel"}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("button",{type:"button",onClick:async()=>{if(!a||It.length===0||!Nn||!Ba){r("Please fill in all required fields (To, Subject, Message)");return}Gt(!0);try{let R=Ba;gn&&(R+=`<br><br>${gn}`);const de=await Promise.all(Sr.map(async xe=>new Promise((Me,He)=>{const mt=new FileReader;mt.onload=()=>{const St=mt.result.split(",")[1];Me({filename:xe.file.name,content:St,type:xe.file.type})},mt.onerror=He,mt.readAsDataURL(xe.file)})));wt==="reply"||wt==="replyAll"?(await Vre({emailId:u?.id||"",userId:a,accountEmail:_n||S[0]?.email,body:R,replyAll:wt==="replyAll",attachments:de.length>0?de:void 0}),t("Reply sent successfully")):wt==="forward"?(await Gre({emailId:u?.id||"",userId:a,accountEmail:_n||S[0]?.email,to:It,cc:Dt.length>0?Dt:void 0,bcc:Dr.length>0?Dr:void 0,body:R,attachments:de.length>0?de:void 0}),t("Email forwarded successfully")):(await Wre({userId:a,accountEmail:_n||S[0]?.email,to:It,cc:Dt.length>0?Dt:void 0,bcc:Dr.length>0?Dr:void 0,subject:Nn,body:R,attachments:de.length>0?de:void 0}),t("Email sent successfully")),Sr.forEach(xe=>{xe.preview&&URL.revokeObjectURL(xe.preview)}),at(!1),Lt([]),kr([]),an([]),va(""),pa(""),jr([]),yt(""),xt(""),An(""),await Dn()}catch(R){const de=s(R,"Failed to send email");r(de)}finally{Gt(!1)}},disabled:Zt||It.length===0||!Nn||!Ba||S.length===0,className:"px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:Zt?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),"Sending..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Mc,{className:"w-4 h-4"}),wt==="reply"||wt==="replyAll"?"Send Reply":wt==="forward"?"Forward":"Send"]})})})]})]})}),fr?.isOpen&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:i.jsxs("div",{className:"relative w-full h-full max-w-7xl max-h-[90vh] m-4 flex flex-col bg-white rounded-lg shadow-xl",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[(ao(fr.mimeType)||Ja(fr.mimeType))&&i.jsx(Qs,{className:"w-5 h-5 text-indigo-600"}),i.jsx("h3",{className:"text-lg font-semibold text-slate-900 truncate",children:fr.filename})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>{fr.url&&window.URL.revokeObjectURL(fr.url),or(null)},className:"p-2 rounded-lg hover:bg-slate-100 text-slate-600 transition-colors",title:"Close",children:i.jsx(mr,{className:"w-5 h-5"})}),i.jsxs("button",{onClick:()=>{u&&fr.url&&Ci(fr.emailId,fr.attachmentId,fr.filename)},className:"px-3 py-2 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700 transition-colors flex items-center gap-2",title:"Download",children:[i.jsx(gm,{className:"w-4 h-4"}),"Download"]})]})]}),i.jsx("div",{className:"flex-1 overflow-auto p-4 flex items-center justify-center bg-slate-50",children:fr.url?ao(fr.mimeType)?i.jsx("img",{src:fr.url,alt:fr.filename,className:"max-w-full max-h-full object-contain rounded-lg"}):Ja(fr.mimeType)?i.jsx("iframe",{src:fr.url,className:"w-full h-full min-h-[600px] rounded-lg border border-slate-200",title:fr.filename}):i.jsxs("div",{className:"text-center text-slate-500",children:[i.jsx(yb,{className:"w-16 h-16 mx-auto mb-4 text-slate-400"}),i.jsx("p",{className:"text-sm",children:"Preview not available for this file type"}),i.jsx("button",{onClick:()=>{u&&Ci(fr.emailId,fr.attachmentId,fr.filename)},className:"mt-4 px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700 transition-colors",children:"Download File"})]}):i.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[i.jsx(Ot,{className:"w-8 h-8 animate-spin text-indigo-600"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Loading attachment..."})]})})]})}),Wr&&Hr&&i.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/90 backdrop-blur-sm animate-in fade-in duration-300",onClick:()=>{Br(!1),ne(null)},children:i.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-md max-h-[90vh] flex flex-col",onClick:R=>R.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200",children:[i.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Manage Labels"}),i.jsx("button",{onClick:()=>{Br(!1),ne(null)},className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:i.jsx(mr,{className:"w-5 h-5 text-slate-500"})})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[S.length>0&&i.jsx("div",{className:"mb-4 pb-4 border-b border-slate-200",children:i.jsxs("button",{onClick:()=>ve(!0),className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 bg-indigo-50 border-2 border-dashed border-indigo-200 text-indigo-600 text-sm font-medium rounded-lg hover:bg-indigo-100 hover:border-indigo-300 transition-colors",children:[i.jsx(kn,{className:"w-4 h-4"}),"Create New Label"]})}),Ct?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx(Ot,{className:"w-6 h-6 animate-spin text-indigo-600"})}):sn.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("p",{className:"text-slate-500 text-sm mb-4",children:"No labels available."}),S.length>0&&i.jsxs("button",{onClick:()=>ve(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700 transition-colors",children:[i.jsx(kn,{className:"w-4 h-4"}),"Create Your First Label"]})]}):i.jsx("div",{className:"space-y-2",children:sn.map(R=>{const xe=l.find(Me=>Me.id===Hr)?.labels?.includes(R.id)||!1;return i.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-lg hover:bg-slate-50 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:xe,onChange:Me=>{Hr&&(Me.target.checked?no(Hr,[R.id],[]):no(Hr,[],[R.id]))},className:"w-4 h-4 text-indigo-600 border-slate-300 rounded focus:ring-indigo-500"}),i.jsx("span",{className:"flex-1 text-sm font-medium text-slate-900",children:R.name}),R.type==="system"&&i.jsx("span",{className:"px-2 py-0.5 text-xs font-medium text-slate-500 bg-slate-100 rounded",children:"System"})]},R.id)})})]})]})}),ge&&i.jsx("div",{className:"fixed inset-0 z-[250] flex items-center justify-center p-4 bg-slate-900/90 backdrop-blur-sm animate-in fade-in duration-300",onClick:()=>{ve(!1),Ie("")},children:i.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-md",onClick:R=>R.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200",children:[i.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Create New Label"}),i.jsx("button",{onClick:()=>{ve(!1),Ie(""),Ge("")},className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:i.jsx(mr,{className:"w-5 h-5 text-slate-500"})})]}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Label Name"}),i.jsx("input",{type:"text",value:ke,onChange:R=>Ie(R.target.value),placeholder:"e.g., Important, Follow-up, Project X",className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",onKeyDown:R=>{if(R.key==="Enter"&&ke.trim()&&(et||S.length>0)){const de=et||S[0].email;_l(ke.trim(),de)}},autoFocus:!0})]}),S.length>0&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Gmail Account"}),i.jsx("select",{value:et||S[0].email,onChange:R=>Ge(R.target.value),className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:S.map(R=>i.jsx("option",{value:R.email,children:R.email},R.email))})]}),i.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[i.jsx("button",{onClick:()=>{ve(!1),Ie(""),Ge("")},className:"flex-1 px-4 py-2.5 border border-slate-300 text-slate-700 text-sm font-medium rounded-lg hover:bg-slate-50 transition-colors",children:"Cancel"}),i.jsx("button",{onClick:()=>{if(ke.trim()&&S.length>0){const R=et||S[0].email;_l(ke.trim(),R)}},disabled:!ke.trim()||Te||S.length===0,className:"flex-1 px-4 py-2.5 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:Te?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),"Creating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(kn,{className:"w-4 h-4"}),"Create Label"]})})]})]})]})})]}):i.jsxs("div",{className:"h-full flex flex-col items-center justify-center py-20 text-center",children:[i.jsx(ER,{className:"w-14 h-14 text-slate-300 mb-4"}),i.jsx("p",{className:"text-slate-500 font-medium",children:"Sign in to view Shared Inbox"})]})},bxe=()=>{const{showSuccess:e,showError:t}=oi(),[r,n]=V.useState([]),[a,s]=V.useState(!0),[o,l]=V.useState(!1),[c,u]=V.useState({name:"",trigger:"",action:"",description:""}),[d,h]=V.useState(!1),[m,p]=V.useState(null),[y,v]=V.useState(null),[g,b]=V.useState(null),[w,j]=V.useState(null);V.useEffect(()=>{(async()=>{s(!0);try{const M=JSON.parse(localStorage.getItem("user_data")||"{}").id,F=await aP(M),E=F?.data||F||[];n(Array.isArray(E)?E:[])}catch(M){console.error("[AUTOMATIONS] Failed to fetch automations:",M),t(M.message||"Failed to load automations"),n([])}finally{s(!1)}})()},[]),V.useEffect(()=>{const O=async()=>{const M=JSON.parse(localStorage.getItem("user_data")||"{}").id;try{const F=await aP(M),E=F?.data||F||[];n(Array.isArray(E)?E:[])}catch(F){console.error("Failed to refresh automations:",F)}};return window.addEventListener("refresh-automations",O),()=>window.removeEventListener("refresh-automations",O)},[]);const N=async O=>{p(O);try{await rre(O);const M=r.find(F=>F.id===O);n(F=>F.map(E=>E.id===O?{...E,active:!E.active}:E)),e(`Automation "${M?.name}" ${M?.active?"deactivated":"activated"}.`),window.dispatchEvent(new Event("refresh-automations"))}catch(M){console.error("Failed to toggle automation:",M),t(M.message||"Failed to toggle automation")}finally{p(null)}},S=O=>{j(O),b(O.id)},P=async()=>{if(w){v(w.id);try{await nre(w.id),n(O=>O.filter(M=>M.id!==w.id)),b(null),j(null),e("Automation rule removed."),window.dispatchEvent(new Event("refresh-automations"))}catch(O){console.error("Failed to delete automation:",O),t(O.message||"Failed to delete automation")}finally{v(null)}}},A=async O=>{O.preventDefault(),h(!0);try{const M=JSON.parse(localStorage.getItem("user_data")||"{}").id;await tre({name:c.name,trigger:c.trigger,action:c.action,description:c.description,active:!0,userId:M||void 0}),h(!1),l(!1),u({name:"",trigger:"",action:"",description:""}),e("Automation recipe created successfully!"),window.dispatchEvent(new Event("refresh-automations"))}catch(M){console.error("Failed to create automation:",M),t(M.message||"Failed to create automation"),h(!1)}};return i.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-20",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Logistics Automations"}),i.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Event-driven workflows and smart triggers"})]}),i.jsxs("button",{onClick:()=>l(!0),className:"px-4 py-2 bg-indigo-600 text-white text-sm font-bold rounded-xl flex items-center gap-2 hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-100",children:[i.jsx(kn,{className:"w-4 h-4"})," Create Recipe"]})]}),a?i.jsxs("div",{className:"flex items-center justify-center py-20 bg-white border border-slate-200 rounded-2xl",children:[i.jsx(Ot,{className:"w-8 h-8 text-indigo-600 animate-spin mb-4"}),i.jsx("p",{className:"text-slate-500 text-sm",children:"Loading automations..."})]}):r.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-20 bg-white border border-dashed border-slate-300 rounded-2xl text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center text-slate-300 mb-4",children:i.jsx(mv,{className:"w-8 h-8"})}),i.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"No Automations Found"}),i.jsx("p",{className:"text-slate-500 text-sm mb-6",children:"Get started by creating your first automation recipe."}),i.jsxs("button",{onClick:()=>l(!0),className:"px-4 py-2 bg-indigo-600 text-white text-sm font-semibold rounded-lg flex items-center gap-2 hover:bg-indigo-700 transition-all shadow-sm",children:[i.jsx(kn,{className:"w-4 h-4"}),"Create Your First Automation"]})]}):i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[r.map(O=>i.jsxs("div",{className:"bg-white rounded-3xl border border-slate-200 p-6 lg:p-8 shadow-sm hover:shadow-md transition-all flex flex-col lg:flex-row lg:items-center justify-between gap-6 group",children:[i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsx("div",{onClick:()=>N(O.id),className:`w-14 h-14 rounded-2xl flex items-center justify-center cursor-pointer transition-all active:scale-90 ${O.active?"bg-indigo-600 text-white shadow-xl shadow-indigo-100":"bg-slate-100 text-slate-400"}`,children:i.jsx(mv,{className:"w-7 h-7"})}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[i.jsx("h3",{className:"text-lg font-bold text-slate-900",children:O.name}),O.active&&i.jsxs("span",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-emerald-50 text-emerald-600 rounded-full text-[9px] font-black uppercase tracking-tighter",children:[i.jsx("div",{className:"w-1 h-1 bg-emerald-500 rounded-full animate-pulse"})," Running"]})]}),i.jsx("p",{className:"text-sm text-slate-500 font-medium leading-relaxed max-w-xl",children:O.description})]})]}),i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("div",{className:"hidden sm:flex items-center gap-4 bg-slate-50 px-4 py-2 rounded-2xl border border-slate-100",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Trigger"}),i.jsx("p",{className:"text-xs font-bold text-slate-700",children:O.trigger})]}),i.jsx(is,{className:"w-4 h-4 text-slate-300"}),i.jsxs("div",{className:"text-left",children:[i.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Action"}),i.jsx("p",{className:"text-xs font-bold text-indigo-600",children:O.action})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>N(O.id),disabled:m===O.id,className:`p-3 rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed ${O.active?"text-indigo-600 hover:bg-indigo-50":"text-slate-400 hover:bg-slate-50"}`,title:O.active?"Pause Automation":"Activate Automation",children:m===O.id?i.jsx(Ot,{className:"w-5 h-5 animate-spin"}):O.active?i.jsx(MR,{className:"w-5 h-5 fill-indigo-600"}):i.jsx(RR,{className:"w-5 h-5"})}),i.jsx("button",{onClick:()=>S(O),disabled:y===O.id,className:"p-3 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed",title:"Delete Automation",children:y===O.id?i.jsx(Ot,{className:"w-5 h-5 animate-spin"}):i.jsx(Ir,{className:"w-5 h-5"})})]})]})]},O.id)),i.jsxs("div",{className:"bg-slate-900 rounded-3xl p-8 lg:p-12 text-white relative overflow-hidden group shadow-2xl",children:[i.jsxs("div",{className:"relative z-10 max-w-2xl text-left",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"p-2.5 bg-white/10 rounded-xl backdrop-blur-md",children:i.jsx(Ts,{className:"w-6 h-6 text-indigo-400"})}),i.jsx("h3",{className:"text-2xl font-bold",children:"Impact AI Copilot"})]}),i.jsx("h2",{className:"text-3xl font-black mb-4 tracking-tight leading-tight",children:"Describe the automation you need, and we'll build it."}),i.jsx("p",{className:"text-slate-400 text-base font-medium mb-8 italic",children:'"When a deal is won, create a project workspace and notify the logistics team."'}),i.jsxs("div",{className:"flex gap-4",children:[i.jsx("input",{type:"text",placeholder:"I want to automate...",className:"flex-1 bg-white/10 border border-white/10 rounded-2xl px-6 py-4 text-white placeholder:text-slate-600 outline-none focus:ring-2 focus:ring-indigo-500/50"}),i.jsxs("button",{className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold px-8 py-4 rounded-2xl shadow-xl shadow-indigo-900 transition-all active:scale-95 flex items-center gap-2",children:["Generate ",i.jsx(is,{className:"w-4 h-4"})]})]})]}),i.jsx("div",{className:"absolute top-0 right-0 w-1/3 h-full bg-indigo-600/10 blur-[120px] rounded-full translate-x-1/2 -translate-y-1/2 pointer-events-none"})]})]}),o&&i.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-[100] flex items-center justify-center p-4 animate-in fade-in duration-300",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[i.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"New Automation Recipe"}),i.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-white rounded-full text-slate-400 transition-colors",children:i.jsx(mr,{className:"w-5 h-5"})})]}),i.jsxs("form",{onSubmit:A,className:"p-6 space-y-4 text-left",children:[i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Recipe Name"}),i.jsx("input",{required:!0,type:"text",value:c.name,onChange:O=>u({...c,name:O.target.value}),className:"w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-indigo-100 outline-none",placeholder:"e.g., Lead Auto-Reply"})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Trigger Event"}),i.jsx("input",{required:!0,type:"text",value:c.trigger,onChange:O=>u({...c,trigger:O.target.value}),className:"w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-indigo-100 outline-none",placeholder:"e.g., New Contact Created"})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Automation Action"}),i.jsx("input",{required:!0,type:"text",value:c.action,onChange:O=>u({...c,action:O.target.value}),className:"w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-indigo-100 outline-none",placeholder:"e.g., Send Welcome Template"})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Description"}),i.jsx("textarea",{required:!0,value:c.description,onChange:O=>u({...c,description:O.target.value}),className:"w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-indigo-100 outline-none resize-none",rows:3,placeholder:"Briefly explain what this does..."})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx("button",{type:"button",onClick:()=>l(!1),className:"flex-1 py-3 text-sm font-bold text-slate-500 hover:bg-slate-50 rounded-xl transition-colors border border-transparent hover:border-slate-200",children:"Cancel"}),i.jsxs("button",{type:"submit",disabled:d,className:"flex-[2] py-3 bg-indigo-600 text-white text-sm font-bold rounded-xl hover:bg-indigo-700 transition-all shadow-lg flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[d?i.jsx(Ot,{className:"w-4 h-4 animate-spin"}):i.jsx(Fu,{className:"w-4 h-4"}),"Deploy Automation"]})]})]})]})}),g&&w&&i.jsxs("div",{className:"fixed inset-0 z-[110] overflow-hidden pointer-events-none",children:[i.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm pointer-events-auto animate-in fade-in duration-300",onClick:()=>b(null)}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4 pointer-events-none",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl pointer-events-auto animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:i.jsx(Kd,{className:"w-6 h-6 text-red-600"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Delete Automation"}),i.jsx("p",{className:"text-[10px] text-slate-400 uppercase tracking-widest font-bold mt-0.5",children:"This action cannot be undone"})]})]}),i.jsx("button",{onClick:()=>b(null),className:"p-2 hover:bg-white rounded-full text-slate-400 transition-colors shadow-sm",children:i.jsx(mr,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("p",{className:"text-sm text-slate-600",children:["Are you sure you want to delete automation ",i.jsxs("span",{className:"font-bold text-slate-900",children:['"',w.name,'"']}),"?"]}),i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:[i.jsx("p",{className:"text-xs text-red-700 font-semibold mb-1",children:" Warning:"}),i.jsx("p",{className:"text-xs text-red-600",children:"This will permanently delete the automation rule and all its configurations. This action cannot be undone."})]}),i.jsxs("div",{className:"flex gap-3 pt-2",children:[i.jsx("button",{type:"button",onClick:()=>b(null),disabled:y===w.id,className:"flex-1 py-3 text-sm font-bold text-slate-500 hover:bg-slate-50 rounded-xl transition-colors border border-transparent hover:border-slate-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),i.jsx("button",{onClick:P,disabled:y===w.id,className:"flex-[2] py-3 bg-red-600 text-white text-sm font-bold rounded-xl hover:bg-red-700 transition-all shadow-lg shadow-red-100 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:y===w.id?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Ir,{className:"w-4 h-4"}),"Delete Automation"]})})]})]})]})})]})]})},wxe=({currentUser:e,onNavigate:t})=>{const{showSuccess:r,showError:n}=oi(),[a,s]=V.useState("registry"),[o,l]=V.useState([]),[c,u]=V.useState([]),[d,h]=V.useState(!0),[m,p]=V.useState("all"),[y,v]=V.useState("open"),[g,b]=V.useState(null),[w,j]=V.useState(!1),[N,S]=V.useState(!1),[P,A]=V.useState({type:"feature",title:"",description:""}),[O,M]=V.useState({type:null,item:null}),[F,E]=V.useState(null),[T,I]=V.useState(!1),[z,Q]=V.useState([]),[te,J]=V.useState(!1),[ie,X]=V.useState(!1),[Z,q]=V.useState(null),[C,U]=V.useState(!1),[W,B]=V.useState(""),[K,re]=V.useState(null),fe=e?.role==="Admin",ce=async()=>{if(a==="registry"){h(!0);try{const[ae,ye]=await Promise.all([sre(),Kc()]),Be=(ae.data||[]).map($e=>{const rt=$e.url||null;let ft=[];return Array.isArray($e.attachments)&&$e.attachments.length>0&&(ft=$e.attachments.filter(Nt=>Nt&&(Nt.source==="file"||Nt.data)).map(Nt=>({type:Nt.type||"image",data:Nt.data||"",filename:Nt.filename||"attachment",mimeType:Nt.mimeType||"image/jpeg",source:"file"}))),{...$e,url:rt,attachments:ft}});l(Be),u(ye.data||[])}catch{n("Failed to synchronize roadmap registry.")}finally{h(!1)}}};V.useEffect(()=>{ce();const ae=()=>ce();return window.addEventListener("refresh-roadmap",ae),()=>window.removeEventListener("refresh-roadmap",ae)},[a]),V.useEffect(()=>{const ae=ye=>{ye.key==="Escape"&&K&&re(null)};return window.addEventListener("keydown",ae),()=>window.removeEventListener("keydown",ae)},[K]),V.useEffect(()=>{B(g&&g.description||"")},[g]);const he=async()=>{if(!(!g||!fe)){U(!0);try{await wN(g.id,{description:W.trim()}),l(ae=>ae.map(ye=>ye.id===g.id?{...ye,description:W.trim()}:ye)),b(ae=>ae&&{...ae,description:W.trim()}),r("Context updated")}catch{n("Failed to update context")}finally{U(!1)}}},Oe=async(ae,ye)=>{if(fe)try{await wN(ae,{status:ye}),l(Be=>Be.map($e=>$e.id===ae?{...$e,status:ye}:$e)),g?.id===ae&&b({...g,status:ye}),r(`Status updated to ${ye}`)}catch{n("Update failed.")}},ee=async ae=>{if(fe){I(!0);try{await oP(ae),l(ye=>ye.filter(Be=>Be.id!==ae)),g?.id===ae&&b(null),E(null),r("Entry purged from registry.")}catch{n("Purge failed.")}finally{I(!1)}}},De=()=>{z.length===pe.length?Q([]):Q(pe.map(ae=>ae.id))},je=async()=>{if(!fe){n("Only admins can delete entries");return}if(z.length===0){n("No items selected");return}J(!0);try{const ae=[...z],ye=ae.map(Be=>oP(Be));await Promise.all(ye),l(Be=>Be.filter($e=>!ae.includes($e.id))),g&&ae.includes(g.id)&&b(null),Q([]),X(!1),r(`Successfully deleted ${ae.length} entr${ae.length>1?"ies":"y"}`)}catch(ae){console.error("Bulk delete error:",ae),n(ae.message||"Failed to delete entries. Please try again.")}finally{J(!1)}},oe=async ae=>{if(ae.preventDefault(),!P.title||!P.description){n("Title and description are required");return}S(!0);try{const ye={...P,userId:e?.id||"anonymous",status:"planned"};await TF(ye),r("Entry added to Strategic Pipeline"),j(!1),A({type:"feature",title:"",description:""}),ce()}catch(ye){console.error("[FEEDBACK] Creation failed:",ye),n(`Failed to add entry: ${ye.message||"Unknown error"}`)}finally{S(!1)}},ue=async()=>{if(!O.item||!O.type)return;let ae,ye;switch(O.type){case"done":ae="done",ye="Entry marked as done";break;case"archive":ae="canceled",ye="Entry archived";break;case"in-execution":ae="in-progress",ye="Entry marked as in execution";break;default:return}try{await wN(O.item.id,{status:ae}),l(Be=>Be.map($e=>$e.id===O.item.id?{...$e,status:ae}:$e)),g?.id===O.item.id&&b({...g,status:ae}),r(ye),M({type:null,item:null})}catch{n("Failed to update entry status")}},_e=(ae,ye="w-4 h-4")=>{switch(ae){case"done":return i.jsx(wn,{className:`${ye} text-emerald-500`});case"in-progress":return i.jsx(zi,{className:`${ye} text-blue-500 animate-pulse`});case"postponed":return i.jsx(yR,{className:`${ye} text-amber-500`});case"canceled":return i.jsx(oI,{className:`${ye} text-slate-400`});default:return i.jsx(rv,{className:`${ye} text-indigo-400`})}},Se=ae=>{switch(ae){case"bug":return"bg-red-50 text-red-600 border-red-100";case"feature":return"bg-indigo-50 text-indigo-600 border-indigo-100";case"idea":return"bg-amber-50 text-amber-600 border-amber-100"}},Pe=(ae,ye="w-4 h-4")=>{switch(ae){case"bug":return i.jsx(ev,{className:ye});case"feature":return i.jsx(Ts,{className:ye});case"idea":return i.jsx(KN,{className:ye})}},pe=o.filter(ae=>(y==="open"?ae.status!=="done"&&ae.status!=="canceled":ae.status==="done"||ae.status==="canceled")?m==="all"?!0:ae.type===m:!1);return i.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-32 relative h-full",children:[i.jsxs("div",{className:"flex flex-col gap-8",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-black text-slate-900 tracking-tight",children:"Enterprise Roadmap"}),i.jsx("p",{className:"text-slate-500 text-sm font-medium mt-1",children:"Consolidated future trajectory, communication beta, and workflow automation"})]}),i.jsxs("div",{className:"flex bg-white px-5 py-2.5 rounded-[24px] border border-slate-200 shadow-sm w-fit items-center gap-3",children:[i.jsx(rv,{className:"w-4 h-4 text-indigo-500"}),i.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-700",children:"Trajectory Registry"}),i.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full text-[9px] font-black bg-emerald-50 text-emerald-600",children:"Live"})]})]}),a==="registry"&&i.jsxs("div",{className:"space-y-8 animate-in slide-in-from-bottom-4 duration-500",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-6",children:[i.jsxs("div",{className:"flex items-center gap-3 bg-white p-1.5 rounded-[20px] border border-slate-200 shadow-sm",children:[i.jsx("button",{onClick:()=>{v("open"),Q([])},className:`px-6 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${y==="open"?"bg-indigo-600 text-white shadow-lg":"text-slate-400 hover:text-slate-600"}`,children:"Strategic Pipeline"}),i.jsx("button",{onClick:()=>{v("completed"),Q([])},className:`px-6 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${y==="completed"?"bg-indigo-600 text-white shadow-lg":"text-slate-400 hover:text-slate-600"}`,children:"Archive & Done"})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[["all","bug","feature","idea"].map(ae=>i.jsx("button",{onClick:()=>{p(ae),Q([])},className:`px-4 py-2 rounded-full text-[10px] font-black uppercase tracking-widest border transition-all ${m===ae?"bg-slate-900 text-white border-slate-900":"bg-white text-slate-500 border-slate-200 hover:border-indigo-400"}`,children:ae},ae)),i.jsxs("button",{onClick:()=>{const ye=m!=="all"?{bug:"bug",feature:"feature",idea:"idea"}[m]:"feature";A({type:ye,title:"",description:""}),j(!0)},className:"px-4 py-2 bg-indigo-600 text-white rounded-full text-[10px] font-black uppercase tracking-widest hover:bg-indigo-700 transition-all shadow-lg flex items-center gap-2",children:[i.jsx(kn,{className:"w-3 h-3"})," New Entry"]})]})]}),d?i.jsxs("div",{className:"flex flex-col items-center justify-center py-32",children:[i.jsx(Ot,{className:"w-10 h-10 animate-spin text-indigo-600 mb-4"}),i.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Synchronizing Registry..."})]}):pe.length===0?i.jsxs("div",{className:"py-32 bg-white rounded-[40px] border border-dashed border-slate-200 text-center flex flex-col items-center justify-center gap-4",children:[i.jsx(fv,{className:"w-16 h-16 text-slate-100"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-lg font-black text-slate-900",children:"No Registry Entries Found"}),i.jsx("p",{className:"text-xs text-slate-400 font-medium mb-4",children:"Add a new strategic entry to get started."}),i.jsxs("button",{onClick:()=>{const ye=m!=="all"?{bug:"bug",feature:"feature",idea:"idea"}[m]:"feature";A({type:ye,title:"",description:""}),j(!0)},className:"px-6 py-3 bg-indigo-600 text-white rounded-xl text-xs font-black uppercase tracking-widest hover:bg-indigo-700 transition-all shadow-lg flex items-center gap-2 mx-auto",children:[i.jsx(kn,{className:"w-4 h-4"})," Add Entry"]})]})]}):i.jsxs(i.Fragment,{children:[pe.length>0&&i.jsxs("div",{className:"flex items-center gap-3 pb-2",children:[i.jsx("input",{type:"checkbox",className:"rounded border-slate-300 text-indigo-600 focus:ring-indigo-500 w-4 h-4 cursor-pointer",checked:pe.length>0&&z.length===pe.length,onChange:ae=>{ae.stopPropagation(),De()}}),i.jsx("span",{className:"text-sm font-semibold text-slate-600 cursor-pointer",onClick:ae=>{ae.stopPropagation(),De()},children:"Select All Entries"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:pe.map(ae=>{const ye=c.find($e=>$e.id===ae.userId),Be=z.includes(ae.id);return i.jsxs("div",{onClick:()=>{b(ae),q(null)},className:`bg-white rounded-[32px] border ${Be?"border-indigo-400 bg-indigo-50/30":"border-slate-200"} p-8 shadow-sm hover:border-indigo-300 hover:shadow-xl transition-all group flex flex-col relative cursor-pointer active:scale-[0.98] hover:scale-[1.02] overflow-visible`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-6",children:[i.jsxs("div",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-tighter border ${Se(ae.type)} flex items-center gap-1.5`,children:[Pe(ae.type,"w-2.5 h-2.5"),ae.type]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-slate-50 border border-slate-100 rounded-full text-[9px] font-black text-slate-500 uppercase",children:[_e(ae.status,"w-2.5 h-2.5"),ae.status]}),i.jsxs("div",{className:"flex items-center gap-1.5",onClick:$e=>$e.stopPropagation(),children:[i.jsx("div",{className:`${Be?"opacity-100":"opacity-0 group-hover:opacity-100"} transition-opacity flex items-center`,children:i.jsx("label",{className:`px-2 py-1 rounded-lg transition-all border flex items-center justify-center cursor-pointer ${Be?"bg-indigo-50 border-indigo-200":"bg-slate-50 border-slate-200 hover:bg-indigo-50/50 hover:border-indigo-200"}`,children:i.jsx("input",{type:"checkbox",className:"rounded border-slate-300 text-indigo-600 focus:ring-indigo-500 w-4 h-4 cursor-pointer",checked:Be,onChange:$e=>{$e.stopPropagation(),Q(rt=>rt.includes(ae.id)?rt.filter(ft=>ft!==ae.id):[...rt,ae.id])},onClick:$e=>{$e.stopPropagation()}})})}),(ae.status==="planned"||ae.status==="in-progress"||ae.status==="postponed")&&i.jsxs(i.Fragment,{children:[ae.status!=="in-progress"&&i.jsx("button",{onClick:$e=>{$e.stopPropagation(),M({type:"in-execution",item:ae})},className:"px-2 py-1 hover:bg-blue-50 rounded-lg text-blue-600 transition-all border border-blue-100 hover:border-blue-200 flex items-center justify-center",title:"Mark as In Execution",children:i.jsx(zi,{className:"w-3.5 h-3.5"})}),i.jsx("button",{onClick:$e=>{$e.stopPropagation(),M({type:"done",item:ae})},className:"px-2 py-1 hover:bg-emerald-50 rounded-lg text-emerald-600 transition-all border border-emerald-100 hover:border-emerald-200 flex items-center justify-center",title:"Mark as Done",children:i.jsx(wn,{className:"w-3.5 h-3.5"})}),i.jsx("button",{onClick:$e=>{$e.stopPropagation(),M({type:"archive",item:ae})},className:"px-2 py-1 hover:bg-slate-100 rounded-lg text-slate-500 transition-all border border-slate-200 hover:border-slate-300 flex items-center justify-center",title:"Archive",children:i.jsx(Ld,{className:"w-3.5 h-3.5"})})]}),fe&&i.jsxs("div",{className:"relative",children:[i.jsx("button",{onClick:$e=>{$e.stopPropagation(),q(Z===ae.id?null:ae.id)},className:`px-2 py-1 hover:bg-slate-50 rounded-lg text-slate-400 transition-all border border-slate-200 hover:border-slate-300 flex items-center justify-center ${Z===ae.id?"opacity-100":"opacity-0 group-hover:opacity-100"}`,title:"More options",children:i.jsx(cI,{className:"w-3.5 h-3.5"})}),Z===ae.id&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 z-[55]",onClick:$e=>{$e.stopPropagation(),q(null)}}),i.jsxs("div",{className:"absolute right-0 top-full mt-2 w-52 bg-slate-900 rounded-2xl shadow-2xl overflow-hidden z-[60] animate-in fade-in zoom-in-95 duration-200",children:[i.jsx("div",{className:"p-2 border-b border-white/5 text-[9px] font-black text-white/40 uppercase tracking-widest px-4 py-2",children:"Lifecycle Management"}),i.jsxs("div",{className:"overflow-hidden rounded-b-2xl",children:[["planned","in-progress","done","postponed","canceled"].map($e=>i.jsxs("button",{onClick:rt=>{rt.stopPropagation(),Oe(ae.id,$e),q(null)},className:`w-full px-4 py-3 text-left text-[10px] font-black uppercase tracking-widest transition-colors ${ae.status===$e?"text-indigo-400 bg-white/5":"text-slate-300 hover:bg-white/5"}`,children:["Set ",$e]},$e)),i.jsx("button",{onClick:$e=>{$e.stopPropagation(),E(ae),q(null)},className:"w-full px-4 py-3 text-left text-[10px] font-black uppercase tracking-widest text-red-400 border-t border-white/5 hover:bg-red-500 hover:text-white transition-all",children:"Delete Terminal"})]})]})]})]})]})]})]}),i.jsx("h3",{className:"text-lg font-black text-slate-900 mb-3 leading-tight group-hover:text-indigo-600 transition-colors",children:ae.title}),i.jsxs("p",{className:"text-sm text-slate-500 font-medium leading-relaxed mb-4 flex-1 line-clamp-3 italic",children:['"',ae.description,'"']}),ae.url&&i.jsx("div",{className:"mb-6",children:i.jsxs("a",{href:ae.url,target:"_blank",rel:"noopener noreferrer",onClick:$e=>$e.stopPropagation(),className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-indigo-50 text-indigo-600 rounded-lg text-[10px] font-bold hover:bg-indigo-100 transition-colors border border-indigo-200",children:[ae.url.match(/\.(jpg|jpeg|png|gif|webp|svg)(\?|$)/i)?i.jsx(Qs,{className:"w-3 h-3"}):i.jsx(ih,{className:"w-3 h-3"}),i.jsx("span",{className:"truncate max-w-[120px]",children:ae.url.length>30?`${ae.url.substring(0,30)}...`:ae.url}),i.jsx(ic,{className:"w-3 h-3"})]})}),ae.attachments&&Array.isArray(ae.attachments)&&ae.attachments.length>0&&i.jsx("div",{className:"mb-6 flex flex-wrap gap-2",children:ae.attachments.map(($e,rt)=>$e.type==="image"&&$e.data?i.jsxs("button",{type:"button",onClick:ft=>{ft.stopPropagation(),re({src:$e.data,alt:$e.filename||"Attachment"})},className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-slate-100 text-slate-700 rounded-lg text-[10px] font-bold hover:bg-slate-200 transition-colors border border-slate-200",children:[i.jsx(Qs,{className:"w-3 h-3"}),i.jsx("span",{className:"truncate max-w-[100px]",children:$e.filename||"Screenshot"})]},rt):$e.type==="video"&&$e.data?i.jsxs("a",{href:$e.data,target:"_blank",rel:"noopener noreferrer",onClick:ft=>ft.stopPropagation(),className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-slate-100 text-slate-700 rounded-lg text-[10px] font-bold hover:bg-slate-200 transition-colors border border-slate-200",children:[i.jsx(ih,{className:"w-3 h-3"}),i.jsx("span",{className:"truncate max-w-[100px]",children:$e.filename||"Video"}),i.jsx(ic,{className:"w-3 h-3"})]},rt):null)}),i.jsxs("div",{className:"pt-6 border-t border-slate-50 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-indigo-50 rounded-xl flex items-center justify-center text-indigo-600 font-black text-xs uppercase shadow-inner group-hover:scale-110 transition-transform",children:ye?.name?.charAt(0)||"U"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-black text-slate-900",children:ye?.name||"Observer"}),i.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:new Date(ae.createdAt).toLocaleDateString()})]})]}),i.jsx(Ka,{className:"w-4 h-4 text-slate-200 group-hover:text-indigo-400 group-hover:translate-x-1 transition-all"})]})]},ae.id)})})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 pb-12",children:[{label:"Total Requests",value:o.length,icon:i.jsx(rv,{className:"w-4 h-4"})},{label:"Bugs Identified",value:o.filter(ae=>ae.type==="bug").length,icon:i.jsx(ev,{className:"w-4 h-4 text-red-500"})},{label:"Features Shipped",value:o.filter(ae=>ae.status==="done").length,icon:i.jsx(Ts,{className:"w-4 h-4 text-emerald-500"})},{label:"In Execution",value:o.filter(ae=>ae.status==="in-progress").length,icon:i.jsx(zi,{className:"w-4 h-4 text-blue-500"})}].map((ae,ye)=>i.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm flex items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 bg-slate-50 rounded-2xl flex items-center justify-center text-slate-400",children:ae.icon}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:ae.label}),i.jsx("p",{className:"text-xl font-black text-slate-900",children:ae.value})]})]},ye))})]}),a==="registry"&&i.jsxs("div",{className:"mt-10 space-y-4 pb-12",children:[i.jsxs("h2",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[i.jsx(Ts,{className:"w-4 h-4 text-indigo-500"})," Features in Development"]}),i.jsxs("p",{className:"text-slate-500 text-sm max-w-2xl",children:["These confirmed feature requests are currently"," ",i.jsx("span",{className:"font-semibold text-slate-700",children:"in development"}),". You can preview their beta experiences below while the full workflows mature."]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"bg-white border border-slate-200 rounded-3xl p-5 flex flex-col gap-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-2xl bg-indigo-50 text-indigo-600 flex items-center justify-center",children:i.jsx(eo,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-slate-500",children:"Feature Request"}),i.jsx("h3",{className:"text-sm font-black text-slate-900",children:"Shared Inbox"})]})]}),i.jsx("span",{className:"px-2 py-0.5 rounded-full text-[9px] font-black bg-amber-50 text-amber-600",children:"In Development"})]}),i.jsx("p",{className:"text-xs text-slate-500",children:"Centralize customer conversations and feedback threads for your logistics team."}),i.jsxs("button",{onClick:()=>s("inbox"),className:"self-start px-4 py-2 rounded-full text-[10px] font-black uppercase tracking-widest bg-slate-900 text-white hover:bg-indigo-700 transition-all flex items-center gap-2",children:["Preview Beta",i.jsx(is,{className:"w-3 h-3"})]})]}),i.jsxs("div",{className:"bg-white border border-slate-200 rounded-3xl p-5 flex flex-col gap-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-2xl bg-slate-900 text-indigo-50 flex items-center justify-center",children:i.jsx(mv,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-slate-500",children:"Feature Request"}),i.jsx("h3",{className:"text-sm font-black text-slate-900",children:"Smart Automations"})]})]}),i.jsx("span",{className:"px-2 py-0.5 rounded-full text-[9px] font-black bg-purple-50 text-purple-600",children:"Beta  In Progress"})]}),i.jsx("p",{className:"text-xs text-slate-500",children:"Automate repetitive logistics workflows and notifications with configurable recipes."}),i.jsxs("button",{onClick:()=>s("automation"),className:"self-start px-4 py-2 rounded-full text-[10px] font-black uppercase tracking-widest bg-slate-900 text-white hover:bg-indigo-700 transition-all flex items-center gap-2",children:["Preview Beta",i.jsx(is,{className:"w-3 h-3"})]})]}),i.jsxs("div",{className:"bg-white border border-slate-200 rounded-3xl p-5 flex flex-col gap-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-2xl bg-blue-50 text-blue-600 flex items-center justify-center",children:i.jsx(lI,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-slate-500",children:"Feature Request"}),i.jsx("h3",{className:"text-sm font-black text-slate-900",children:"Business Card Scanner"})]})]}),i.jsx("span",{className:"px-2 py-0.5 rounded-full text-[9px] font-black bg-blue-50 text-blue-600",children:"Planned"})]}),i.jsx("p",{className:"text-xs text-slate-500",children:"Scan a business card and create contact and company information directly inside the application."}),i.jsxs("button",{disabled:!0,className:"self-start px-4 py-2 rounded-full text-[10px] font-black uppercase tracking-widest bg-slate-100 text-slate-400 cursor-not-allowed flex items-center gap-2",children:["Coming Soon",i.jsx(is,{className:"w-3 h-3"})]})]}),i.jsxs("div",{className:"bg-white border border-slate-200 rounded-3xl p-5 flex flex-col gap-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-2xl bg-indigo-50 text-indigo-600 flex items-center justify-center",children:i.jsx(Xf,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-slate-500",children:"Feature Request"}),i.jsx("h3",{className:"text-sm font-black text-slate-900",children:"LinkedIn Scanner"})]})]}),i.jsx("span",{className:"px-2 py-0.5 rounded-full text-[9px] font-black bg-indigo-50 text-indigo-600",children:"Planned"})]}),i.jsx("p",{className:"text-xs text-slate-500",children:"Scan a LinkedIn account and create contact and company information directly inside the application."}),i.jsxs("button",{disabled:!0,className:"self-start px-4 py-2 rounded-full text-[10px] font-black uppercase tracking-widest bg-slate-100 text-slate-400 cursor-not-allowed flex items-center gap-2",children:["Coming Soon",i.jsx(is,{className:"w-3 h-3"})]})]}),i.jsxs("div",{className:"bg-white border border-slate-200 rounded-3xl p-5 flex flex-col gap-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-2xl bg-emerald-50 text-emerald-600 flex items-center justify-center",children:i.jsx(Cu,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-slate-500",children:"Feature Request"}),i.jsx("h3",{className:"text-sm font-black text-slate-900",children:"Source Signals"})]})]}),i.jsx("span",{className:"px-2 py-0.5 rounded-full text-[9px] font-black bg-emerald-50 text-emerald-600",children:"Planned"})]}),i.jsx("p",{className:"text-xs text-slate-500",children:"Source signals, such as recent funding, new hires, M&A, lay-offs, and attach this information to the company card."}),i.jsxs("button",{disabled:!0,className:"self-start px-4 py-2 rounded-full text-[10px] font-black uppercase tracking-widest bg-slate-100 text-slate-400 cursor-not-allowed flex items-center gap-2",children:["Coming Soon",i.jsx(is,{className:"w-3 h-3"})]})]}),i.jsxs("div",{className:"bg-white border border-slate-200 rounded-3xl p-5 flex flex-col gap-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-2xl bg-purple-50 text-purple-600 flex items-center justify-center",children:i.jsx(sI,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-slate-500",children:"Feature Request"}),i.jsx("h3",{className:"text-sm font-black text-slate-900",children:"Dashboards (Sales KPIs)"})]})]}),i.jsx("span",{className:"px-2 py-0.5 rounded-full text-[9px] font-black bg-amber-50 text-amber-600",children:"In Development"})]}),i.jsx("p",{className:"text-xs text-slate-500",children:"Comprehensive sales dashboards with key performance indicators, revenue tracking, and analytics to monitor sales performance."}),i.jsxs("button",{disabled:!0,className:"self-start px-4 py-2 rounded-full text-[10px] font-black uppercase tracking-widest bg-slate-100 text-slate-400 cursor-not-allowed flex items-center gap-2",children:["Coming Soon",i.jsx(is,{className:"w-3 h-3"})]})]}),i.jsxs("div",{className:"bg-white border border-slate-200 rounded-3xl p-5 flex flex-col gap-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-2xl bg-rose-50 text-rose-600 flex items-center justify-center",children:i.jsx(jR,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-slate-500",children:"Feature Request"}),i.jsx("h3",{className:"text-sm font-black text-slate-900",children:"Gemini Video Transcript"})]})]}),i.jsx("span",{className:"px-2 py-0.5 rounded-full text-[9px] font-black bg-amber-50 text-amber-600",children:"In Development"})]}),i.jsx("p",{className:"text-xs text-slate-500",children:"Connect Gemini video transcripts and meeting sessions to company accounts for automatic note-taking and insights."}),i.jsxs("button",{disabled:!0,className:"self-start px-4 py-2 rounded-full text-[10px] font-black uppercase tracking-widest bg-slate-100 text-slate-400 cursor-not-allowed flex items-center gap-2",children:["Coming Soon",i.jsx(is,{className:"w-3 h-3"})]})]}),i.jsxs("div",{className:"bg-white border border-slate-200 rounded-3xl p-5 flex flex-col gap-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-2xl bg-violet-50 text-violet-600 flex items-center justify-center",children:i.jsx(gR,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-slate-500",children:"New Section"}),i.jsx("h3",{className:"text-sm font-black text-slate-900",children:"Playbooks"})]})]}),i.jsx("span",{className:"px-2 py-0.5 rounded-full text-[9px] font-black bg-amber-50 text-amber-600",children:"In Development"})]}),i.jsx("p",{className:"text-xs text-slate-500",children:"Create and manage sales playbooks, best practices, and standardized workflows for your team."}),i.jsxs("button",{disabled:!0,className:"self-start px-4 py-2 rounded-full text-[10px] font-black uppercase tracking-widest bg-slate-100 text-slate-400 cursor-not-allowed flex items-center gap-2",children:["Coming Soon",i.jsx(is,{className:"w-3 h-3"})]})]}),i.jsxs("div",{className:"bg-white border border-slate-200 rounded-3xl p-5 flex flex-col gap-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-2xl bg-pink-50 text-pink-600 flex items-center justify-center",children:i.jsx(_R,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-slate-500",children:"New Section"}),i.jsx("h3",{className:"text-sm font-black text-slate-900",children:"Client Satisfaction"})]})]}),i.jsx("span",{className:"px-2 py-0.5 rounded-full text-[9px] font-black bg-amber-50 text-amber-600",children:"In Development"})]}),i.jsx("p",{className:"text-xs text-slate-500",children:"Track and manage client satisfaction scores, feedback, and surveys to improve customer relationships."}),i.jsxs("button",{disabled:!0,className:"self-start px-4 py-2 rounded-full text-[10px] font-black uppercase tracking-widest bg-slate-100 text-slate-400 cursor-not-allowed flex items-center gap-2",children:["Coming Soon",i.jsx(is,{className:"w-3 h-3"})]})]}),i.jsxs("div",{className:"bg-white border border-slate-200 rounded-3xl p-5 flex flex-col gap-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-2xl bg-cyan-50 text-cyan-600 flex items-center justify-center",children:i.jsx(FR,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-slate-500",children:"New Section"}),i.jsx("h3",{className:"text-sm font-black text-slate-900",children:"Product & Service Library"})]})]}),i.jsx("span",{className:"px-2 py-0.5 rounded-full text-[9px] font-black bg-amber-50 text-amber-600",children:"In Development"})]}),i.jsx("p",{className:"text-xs text-slate-500",children:"Centralized library to manage products, services, pricing, and catalog information for your business."}),i.jsxs("button",{disabled:!0,className:"self-start px-4 py-2 rounded-full text-[10px] font-black uppercase tracking-widest bg-slate-100 text-slate-400 cursor-not-allowed flex items-center gap-2",children:["Coming Soon",i.jsx(is,{className:"w-3 h-3"})]})]}),i.jsxs("div",{className:"bg-white border border-slate-200 rounded-3xl p-5 flex flex-col gap-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-2xl bg-indigo-50 text-indigo-600 flex items-center justify-center",children:i.jsx(DR,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-slate-500",children:"New Integration"}),i.jsx("h3",{className:"text-sm font-black text-slate-900",children:"LinkedIn DMs & Sales Nav"})]})]}),i.jsx("span",{className:"px-2 py-0.5 rounded-full text-[9px] font-black bg-amber-50 text-amber-600",children:"In Development"})]}),i.jsx("p",{className:"text-xs text-slate-500",children:"Integrate LinkedIn direct messages and LinkedIn Sales Navigator to manage conversations and leads directly in the platform."}),i.jsxs("button",{disabled:!0,className:"self-start px-4 py-2 rounded-full text-[10px] font-black uppercase tracking-widest bg-slate-100 text-slate-400 cursor-not-allowed flex items-center gap-2",children:["Coming Soon",i.jsx(is,{className:"w-3 h-3"})]})]})]})]}),a==="inbox"&&i.jsx("div",{className:"animate-in slide-in-from-right-4 duration-500",children:i.jsx(k9,{currentUser:e})}),a==="automation"&&i.jsx("div",{className:"animate-in slide-in-from-right-4 duration-500",children:i.jsx(bxe,{})}),K&&i.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/90 backdrop-blur-sm animate-in fade-in duration-300",onClick:()=>re(null),children:i.jsxs("div",{className:"relative max-w-7xl max-h-[90vh] w-full h-full flex items-center justify-center",children:[i.jsx("button",{onClick:()=>re(null),className:"absolute top-4 right-4 p-3 bg-white/10 hover:bg-white/20 rounded-full text-white transition-colors backdrop-blur-sm z-10",children:i.jsx(mr,{className:"w-6 h-6"})}),i.jsx("img",{src:K.src,alt:K.alt,className:"max-w-full max-h-full object-contain rounded-2xl shadow-2xl",onClick:ae=>ae.stopPropagation()})]})}),w&&i.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:i.jsxs("div",{className:"bg-white rounded-[40px] w-full max-w-2xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 flex flex-col max-h-[90vh]",children:[i.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-start bg-slate-50/50 shrink-0",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-14 h-14 bg-indigo-600 rounded-2xl flex items-center justify-center text-white shadow-xl shadow-indigo-100",children:i.jsx(kn,{className:"w-7 h-7"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-black text-slate-900 tracking-tight leading-none",children:"New Registry Entry"}),i.jsx("p",{className:"text-[10px] text-slate-400 uppercase tracking-[0.2em] font-black mt-2",children:"Strategic Pipeline"})]})]}),i.jsx("button",{onClick:()=>{j(!1),A({type:"feature",title:"",description:""})},className:"p-2 hover:bg-white rounded-full transition-colors border border-transparent hover:border-slate-200",children:i.jsx(mr,{className:"w-6 h-6 text-slate-400"})})]}),i.jsxs("form",{onSubmit:oe,className:"flex-1 overflow-y-auto p-10 custom-scrollbar",children:[i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Classification"}),i.jsx("div",{className:"flex gap-2 p-1 bg-slate-100 rounded-2xl border border-slate-200",children:[{id:"bug",icon:i.jsx(ev,{className:"w-4 h-4"}),label:"Bug",color:"bg-red-50 text-red-600 border-red-200"},{id:"feature",icon:i.jsx(Ts,{className:"w-4 h-4"}),label:"Feature",color:"bg-indigo-50 text-indigo-600 border-indigo-200"},{id:"idea",icon:i.jsx(KN,{className:"w-4 h-4"}),label:"Idea",color:"bg-amber-50 text-amber-600 border-amber-200"}].map(ae=>i.jsxs("button",{type:"button",onClick:()=>A({...P,type:ae.id}),className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-xl text-[10px] font-black uppercase tracking-tighter transition-all border ${P.type===ae.id?`${ae.color} shadow-md`:"bg-white text-slate-400 border-transparent hover:text-slate-600"}`,children:[ae.icon," ",ae.label]},ae.id))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Title *"}),i.jsx("input",{required:!0,type:"text",placeholder:"Enter entry title...",value:P.title,onChange:ae=>A({...P,title:ae.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-bold outline-none focus:ring-4 focus:ring-indigo-50"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Description *"}),i.jsx("textarea",{required:!0,rows:6,placeholder:"Provide detailed context and strategic notes...",value:P.description,onChange:ae=>A({...P,description:ae.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-[20px] text-sm font-medium outline-none focus:ring-4 focus:ring-indigo-50 resize-none"})]})]}),i.jsxs("div",{className:"flex gap-4 pt-8 mt-8 border-t border-slate-100",children:[i.jsx("button",{type:"button",onClick:()=>{j(!1),A({type:"feature",title:"",description:""})},className:"flex-1 py-4 border border-slate-200 text-slate-400 font-black uppercase text-xs tracking-widest rounded-[24px] hover:bg-slate-50 transition-all",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:N||!P.title||!P.description,className:"flex-[2] py-4 bg-indigo-600 text-white font-black uppercase text-xs tracking-[0.2em] rounded-[24px] hover:bg-indigo-700 transition-all shadow-2xl flex items-center justify-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed",children:N?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-5 h-5 animate-spin"})," Adding..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Mc,{className:"w-5 h-5"})," Add to Pipeline"]})})]})]})]})}),g&&i.jsxs("div",{className:"fixed inset-0 z-[110] overflow-hidden pointer-events-none",children:[i.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md pointer-events-auto animate-in fade-in duration-300",onClick:()=>b(null)}),i.jsxs("div",{className:"absolute right-0 inset-y-0 w-full max-w-xl bg-white shadow-2xl pointer-events-auto animate-in slide-in-from-right duration-500 flex flex-col",children:[i.jsxs("div",{className:"p-8 border-b border-slate-100 bg-slate-50/50 relative",children:[i.jsx("button",{onClick:()=>b(null),className:"absolute top-6 right-6 p-2 hover:bg-white rounded-full text-slate-400 transition-all shadow-sm z-10",children:i.jsx(mr,{className:"w-5 h-5"})}),i.jsxs("div",{className:"flex items-center gap-5 mb-6",children:[i.jsx("div",{className:`w-16 h-16 rounded-[24px] flex items-center justify-center text-white shadow-xl ${g.type==="bug"?"bg-red-500 shadow-red-100":g.type==="feature"?"bg-indigo-500 shadow-indigo-100":"bg-amber-500 shadow-amber-100"}`,children:Pe(g.type,"w-8 h-8")}),i.jsxs("div",{children:[i.jsx("div",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border inline-block mb-1.5 ${Se(g.type)}`,children:g.type}),i.jsx("h2",{className:"text-2xl font-black text-slate-900 tracking-tight leading-tight",children:g.title})]})]}),i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("div",{className:"flex-1 p-4 bg-white rounded-2xl border border-slate-200 shadow-sm flex items-center gap-3",children:[_e(g.status,"w-5 h-5"),i.jsxs("div",{children:[i.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Pipeline Status"}),i.jsx("p",{className:"text-xs font-bold text-slate-900 capitalize",children:g.status.replace("-"," ")})]})]}),i.jsxs("div",{className:"flex-1 p-4 bg-white rounded-2xl border border-slate-200 shadow-sm flex items-center gap-3",children:[i.jsx(La,{className:"w-5 h-5 text-indigo-400"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Submitted On"}),i.jsx("p",{className:"text-xs font-bold text-slate-900",children:new Date(g.createdAt).toLocaleDateString()})]})]})]})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-10 space-y-10 custom-scrollbar",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between gap-3",children:[i.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[i.jsx(ls,{className:"w-4 h-4 text-indigo-500"})," Observation Context"]}),fe&&i.jsx("button",{type:"button",onClick:he,disabled:C||W.trim()===(g.description||"").trim(),className:"px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-widest bg-slate-900 text-white hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-default flex items-center gap-2",children:C?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-3 h-3 animate-spin"})," Saving"]}):i.jsxs(i.Fragment,{children:[i.jsx(wn,{className:"w-3 h-3"})," Save Context"]})})]}),fe?i.jsxs("div",{className:"p-4 bg-slate-950 rounded-[32px] text-indigo-50 relative shadow-2xl",children:[i.jsx("textarea",{rows:4,value:W,onChange:ae=>B(ae.target.value),className:"w-full bg-transparent border-none outline-none resize-none text-sm leading-relaxed placeholder:text-slate-500",placeholder:"Describe the bug, feature, or idea in more detail..."}),i.jsx("div",{className:"pointer-events-none absolute top-0 right-0 w-40 h-40 bg-indigo-500/10 blur-[100px] rounded-full translate-x-1/2 -translate-y-1/2"})]}):i.jsxs("div",{className:"p-8 bg-slate-950 rounded-[40px] text-indigo-50 relative overflow-hidden group shadow-2xl",children:[i.jsxs("p",{className:"text-lg leading-relaxed italic opacity-90 z-10 relative",children:['"',g.description,'"']}),i.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-indigo-500/10 blur-[100px] rounded-full translate-x-1/2 -translate-y-1/2"})]})]}),g.url&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[i.jsx(XN,{className:"w-4 h-4 text-indigo-500"})," URL Attachment"]}),i.jsx("div",{className:"flex flex-wrap gap-3",children:i.jsxs("a",{href:g.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2.5 bg-indigo-50 text-indigo-600 rounded-xl text-xs font-bold hover:bg-indigo-100 transition-colors border border-indigo-200",children:[g.url.match(/\.(jpg|jpeg|png|gif|webp|svg)(\?|$)/i)?i.jsx(Qs,{className:"w-4 h-4"}):i.jsx(ih,{className:"w-4 h-4"}),i.jsx("span",{className:"truncate max-w-[200px]",children:g.url.length>40?`${g.url.substring(0,40)}...`:g.url}),i.jsx(ic,{className:"w-4 h-4"})]})})]}),g.attachments&&g.attachments.length>0&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[i.jsx(Qs,{className:"w-4 h-4 text-indigo-500"})," File Attachments"]}),i.jsx("div",{className:"flex flex-wrap gap-3",children:g.attachments.map((ae,ye)=>ae.type==="image"&&ae.data?i.jsxs("button",{type:"button",onClick:()=>re({src:ae.data,alt:ae.filename||"Attachment"}),className:"inline-flex items-center gap-2 px-4 py-2.5 bg-slate-100 text-slate-700 rounded-xl text-xs font-bold hover:bg-slate-200 transition-colors border border-slate-200",children:[i.jsx(Qs,{className:"w-4 h-4"}),i.jsx("span",{className:"truncate max-w-[150px]",children:ae.filename||"Screenshot"})]},ye):ae.type==="video"&&ae.data?i.jsxs("a",{href:ae.data,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2.5 bg-slate-100 text-slate-700 rounded-xl text-xs font-bold hover:bg-slate-200 transition-colors border border-slate-200",children:[i.jsx(ih,{className:"w-4 h-4"}),i.jsx("span",{className:"truncate max-w-[150px]",children:ae.filename||"Video"}),i.jsx(ic,{className:"w-4 h-4"})]},ye):null)})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[i.jsx(pl,{className:"w-4 h-4 text-indigo-500"})," Contributor Details"]}),i.jsxs("div",{className:"p-6 bg-slate-50 border border-slate-100 rounded-[32px] flex items-center gap-5",children:[i.jsx("div",{className:"w-14 h-14 bg-white rounded-2xl flex items-center justify-center text-indigo-600 text-xl font-black shadow-sm border border-slate-200",children:c.find(ae=>ae.id===g.userId)?.name?.charAt(0)||"U"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-black text-slate-900",children:c.find(ae=>ae.id===g.userId)?.name||"Impact Member"}),i.jsxs("p",{className:"text-xs text-slate-500 font-bold uppercase tracking-widest",children:[c.find(ae=>ae.id===g.userId)?.role||"Stakeholder","  Enterprise Contributor"]})]})]})]}),fe&&i.jsxs("div",{className:"space-y-4 animate-in slide-in-from-bottom-4",children:[i.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[i.jsx(Kf,{className:"w-4 h-4 text-indigo-500"})," Strategic Alignment"]}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:["planned","in-progress","done","postponed","canceled"].map(ae=>i.jsxs("button",{onClick:()=>Oe(g.id,ae),className:`flex items-center gap-2 p-4 rounded-2xl border text-[10px] font-black uppercase tracking-widest transition-all ${g.status===ae?"bg-indigo-600 text-white border-indigo-600 shadow-lg":"bg-white text-slate-500 border-slate-200 hover:border-indigo-400"}`,children:[_e(ae,"w-3 h-3"),ae.replace("-"," ")]},ae))})]})]}),i.jsxs("div",{className:"p-8 border-t border-slate-100 bg-white flex gap-4",children:[i.jsx("button",{onClick:()=>E(g),className:"px-6 py-4 border border-red-200 bg-white text-red-600 hover:bg-red-50 rounded-[24px] transition-all group shrink-0 active:scale-95",children:i.jsx(Ir,{className:"w-6 h-6 group-hover:scale-110 transition-transform"})}),i.jsxs("button",{onClick:()=>b(null),className:"flex-1 py-4 bg-slate-900 text-white font-black uppercase text-xs tracking-[0.2em] rounded-[24px] hover:bg-indigo-700 active:scale-95 transition-all shadow-2xl flex items-center justify-center gap-3",children:[i.jsx(wn,{className:"w-5 h-5"})," Dismiss Audit View"]})]})]})]}),O.type&&O.item&&i.jsx("div",{className:"fixed inset-0 z-[130] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:i.jsxs("div",{className:"bg-white rounded-[32px] w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"p-8 border-b border-slate-100",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center ${O.type==="done"?"bg-emerald-50 text-emerald-600":O.type==="in-execution"?"bg-blue-50 text-blue-600":"bg-slate-100 text-slate-600"}`,children:O.type==="done"?i.jsx(wn,{className:"w-6 h-6"}):O.type==="in-execution"?i.jsx(zi,{className:"w-6 h-6"}):i.jsx(Ld,{className:"w-6 h-6"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-black text-slate-900",children:O.type==="done"?"Mark as Done?":O.type==="in-execution"?"Mark as In Execution?":"Archive Entry?"}),i.jsx("p",{className:"text-xs text-slate-400 font-medium mt-1",children:O.type==="done"?"This will move the entry to Archive & Done":O.type==="in-execution"?"This will mark the entry as in progress":"This will archive the entry"})]})]}),i.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-200",children:[i.jsx("p",{className:"text-sm font-bold text-slate-900 mb-1",children:O.item.title}),i.jsx("p",{className:"text-xs text-slate-500 line-clamp-2",children:O.item.description})]})]}),i.jsxs("div",{className:"p-6 flex gap-3",children:[i.jsx("button",{onClick:()=>M({type:null,item:null}),className:"flex-1 py-3 border border-slate-200 text-slate-400 font-black uppercase text-xs tracking-widest rounded-xl hover:bg-slate-50 transition-all",children:"Cancel"}),i.jsx("button",{onClick:ue,className:`flex-1 py-3 font-black uppercase text-xs tracking-widest rounded-xl transition-all shadow-lg ${O.type==="done"?"bg-emerald-600 text-white hover:bg-emerald-700":O.type==="in-execution"?"bg-blue-600 text-white hover:bg-blue-700":"bg-slate-600 text-white hover:bg-slate-700"}`,children:O.type==="done"?"Mark Done":O.type==="in-execution"?"Start Execution":"Archive"})]})]})}),F&&i.jsx("div",{className:"fixed inset-0 z-[130] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:i.jsxs("div",{className:"bg-white rounded-[32px] w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"p-8 border-b border-slate-100",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center bg-red-50 text-red-600",children:i.jsx(Ir,{className:"w-6 h-6"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-black text-slate-900",children:"Delete Entry?"}),i.jsx("p",{className:"text-xs text-slate-400 font-medium mt-1",children:"This action cannot be undone. The entry will be permanently removed from the registry."})]})]}),i.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-200",children:[i.jsx("p",{className:"text-sm font-bold text-slate-900 mb-1",children:F.title}),i.jsx("p",{className:"text-xs text-slate-500 line-clamp-2",children:F.description})]})]}),i.jsxs("div",{className:"p-6 flex gap-3",children:[i.jsx("button",{onClick:()=>E(null),disabled:T,className:"flex-1 py-3 border border-slate-200 text-slate-400 font-black uppercase text-xs tracking-widest rounded-xl hover:bg-slate-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),i.jsx("button",{onClick:()=>ee(F.id),disabled:T,className:"flex-1 py-3 bg-red-600 text-white font-black uppercase text-xs tracking-widest rounded-xl hover:bg-red-700 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:T?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):"Delete Entry"})]})]})}),z.length>0&&i.jsx("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-[100] animate-in slide-in-from-bottom-10 duration-300",children:i.jsxs("div",{className:"bg-slate-900 text-white rounded-3xl shadow-2xl px-8 py-4 flex items-center gap-8 border border-white/10 ring-4 ring-indigo-500/10",children:[i.jsxs("span",{className:"text-sm font-black flex items-center gap-3",children:[i.jsx("div",{className:"w-6 h-6 bg-indigo-500 rounded-full flex items-center justify-center text-[10px]",children:z.length}),"Selected"]}),i.jsx("div",{className:"h-8 w-px bg-white/10"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("button",{onClick:ae=>{if(ae.preventDefault(),ae.stopPropagation(),!fe){n("Only admins can delete entries");return}if(z.length===0){n("No items selected");return}X(!0)},disabled:te,className:"px-5 py-2 bg-red-600 hover:bg-red-700 rounded-xl text-xs font-black uppercase tracking-widest transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[te?i.jsx(Ot,{className:"w-3.5 h-3.5 animate-spin"}):i.jsx(Ir,{className:"w-3.5 h-3.5"}),"Delete"]}),i.jsx("button",{onClick:()=>Q([]),className:"p-2 hover:bg-white/10 rounded-xl text-slate-400 transition-colors",children:i.jsx(mr,{className:"w-5 h-5"})})]})]})}),ie&&z.length>0&&i.jsx("div",{className:"fixed inset-0 z-[130] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:i.jsxs("div",{className:"bg-white rounded-[32px] w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"p-8 border-b border-slate-100",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center bg-red-50 text-red-600",children:i.jsx(Ir,{className:"w-6 h-6"})}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-xl font-black text-slate-900",children:["Delete ",z.length," Entr",z.length>1?"ies":"y","?"]}),i.jsx("p",{className:"text-xs text-slate-400 font-medium mt-1",children:"This action cannot be undone. The entries will be permanently removed from the registry."})]})]}),i.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-200 max-h-48 overflow-y-auto",children:[o.filter(ae=>z.includes(ae.id)).slice(0,5).map(ae=>i.jsxs("div",{className:"flex items-center gap-3 mb-2 last:mb-0",children:[Pe(ae.type,"w-4 h-4"),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xs font-bold text-slate-900",children:ae.title}),i.jsx("p",{className:"text-[10px] text-slate-500 capitalize",children:ae.type})]})]},ae.id)),z.length>5&&i.jsxs("p",{className:"text-xs text-slate-400 font-medium mt-2 text-center",children:["+ ",z.length-5," more"]})]})]}),i.jsxs("div",{className:"p-6 flex gap-3",children:[i.jsx("button",{onClick:()=>X(!1),disabled:te,className:"flex-1 py-3 border border-slate-200 text-slate-400 font-black uppercase text-xs tracking-widest rounded-xl hover:bg-slate-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),i.jsx("button",{onClick:ae=>{ae.preventDefault(),ae.stopPropagation(),je()},disabled:te,className:"flex-1 py-3 bg-red-600 text-white font-black uppercase text-xs tracking-widest rounded-xl hover:bg-red-700 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:te?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):`Delete ${z.length} Entr${z.length>1?"ies":"y"}`})]})]})})]})},Nxe=({currentUser:e})=>{const{showSuccess:t,showError:r}=oi(),[n,a]=V.useState([]),[s,o]=V.useState([]),[l,c]=V.useState([]),[u,d]=V.useState(null),[h,m]=V.useState(!0),[p,y]=V.useState(!1),[v,g]=V.useState([]),[b,w]=V.useState(!1),[j,N]=V.useState("select"),[S,P]=V.useState(""),[A,O]=V.useState(!1),[M,F]=V.useState(!1),[E,T]=V.useState([]),[I,z]=V.useState(!1),[Q,te]=V.useState(!1),[J,ie]=V.useState(!1),[X,Z]=V.useState(!1),[q,C]=V.useState(!1),[U,W]=V.useState(!1),[B,K]=V.useState(""),[re,fe]=V.useState(!1),ce=V.useRef(null),[he,Oe]=V.useState({companyId:"",title:"",amount:"",category:"",date:new Date().toISOString().split("T")[0],description:"",status:"Pending",receiptFile:null}),ee=V.useCallback(async()=>{try{const Ue=await OF(),dt=Ue?.data||Ue||[];c(Array.isArray(dt)?dt:[])}catch{c([{id:"default-1",name:"Travel",isDefault:!0},{id:"default-2",name:"Meals",isDefault:!0},{id:"default-3",name:"Office Supplies",isDefault:!0},{id:"default-4",name:"Software",isDefault:!0},{id:"default-5",name:"Marketing",isDefault:!0},{id:"default-6",name:"Professional Services",isDefault:!0},{id:"default-7",name:"Utilities",isDefault:!0},{id:"default-8",name:"Equipment",isDefault:!0},{id:"default-9",name:"Other",isDefault:!0}])}},[]),De=V.useCallback(async()=>{m(!0);try{const Ue=e?.id||JSON.parse(localStorage.getItem("user_data")||"{}").id;if(!Ue){a([]),m(!1);return}const dt={userId:Ue};v.length===1&&(dt.companyId=v[0]);const st=await ore(dt);let it=st?.data||st||[];it=Array.isArray(it)?it:[],v.length>1&&(it=it.filter(Re=>v.includes(Re.companyId))),a(it);try{const Re=await Gu();o(Re?.data||Re||[])}catch(Re){console.error("[Expenses] Failed to fetch companies:",Re),o([])}}catch(Ue){console.error("[Expenses] Error fetching expenses:",Ue),r(Ue.message||"Failed to load expenses"),a([])}finally{m(!1)}},[e,v,r]);V.useEffect(()=>{ee()},[ee]),V.useEffect(()=>{De()},[De]),V.useEffect(()=>{const Ue=()=>De();return window.addEventListener("refresh-expenses",Ue),()=>window.removeEventListener("refresh-expenses",Ue)},[De]);const je=Ue=>s.find(dt=>dt.id===Ue),oe=Ue=>{switch(Ue){case"Approved":return"bg-emerald-50 text-emerald-600 border-emerald-100";case"Rejected":return"bg-red-50 text-red-600 border-red-100";default:return"bg-amber-50 text-amber-600 border-amber-100"}},ue=n,_e={totalExpenses:ue.reduce((Ue,dt)=>Ue+(dt.amount||0),0),pendingCount:ue.filter(Ue=>Ue.status==="Pending"||!Ue.status).length,approvedCount:ue.filter(Ue=>Ue.status==="Approved").length,thisMonth:ue.filter(Ue=>{const dt=new Date(Ue.date),st=new Date;return dt.getMonth()===st.getMonth()&&dt.getFullYear()===st.getFullYear()}).reduce((Ue,dt)=>Ue+(dt.amount||0),0)},Se=()=>{E.length===ue.length&&ue.length>0?T([]):T(ue.map(Ue=>Ue.id))},Pe=(Ue,dt=1920,st=1080,it=.8)=>new Promise((Re,vt)=>{const nt=new FileReader;nt.onload=Rt=>{const er=new Image;er.onload=()=>{let ar=er.width,$t=er.height;ar>$t?ar>dt&&($t=$t*dt/ar,ar=dt):$t>st&&(ar=ar*st/$t,$t=st);const Pr=document.createElement("canvas");Pr.width=ar,Pr.height=$t;const Kt=Pr.getContext("2d");if(!Kt){vt(new Error("Failed to create canvas context"));return}Kt.drawImage(er,0,0,ar,$t);const Er=Pr.toDataURL("image/jpeg",it);Re(Er)},er.onerror=()=>vt(new Error("Failed to load image")),er.src=Rt.target?.result},nt.onerror=()=>vt(new Error("Failed to read file")),nt.readAsDataURL(Ue)}),pe=async Ue=>{const dt=Ue.target.files?.[0];if(dt){if(!dt.type.startsWith("image/")&&!dt.type.includes("pdf")){r("Please select an image or PDF file");return}if(dt.size>10*1024*1024){r("File size must be less than 10MB");return}W(!0);try{if(dt.type.startsWith("image/")){const st=await Pe(dt,1920,1080,.8);K(st),Oe(it=>({...it,receiptFile:dt}))}else{const st=new FileReader;st.onload=()=>{K(st.result),Oe(it=>({...it,receiptFile:dt}))},st.readAsDataURL(dt)}}catch(st){r(st.message||"Failed to process receipt")}finally{W(!1)}}},ae=async Ue=>{if(Ue.preventDefault(),!he.companyId||!he.title||!he.amount||!he.category||!he.date){r("Please fill in all required fields");return}C(!0);try{const dt=e?.id||JSON.parse(localStorage.getItem("user_data")||"{}").id;let st="",it="",Re="";he.receiptFile&&(he.receiptFile.type.startsWith("image/"),st=B,it=he.receiptFile.name,Re=he.receiptFile.type),await lre({companyId:he.companyId,title:he.title,amount:parseFloat(he.amount),category:he.category,date:new Date(he.date).toISOString(),description:he.description,status:he.status,receiptUrl:st||void 0,receiptFilename:it||void 0,receiptMimeType:Re||void 0,userId:dt}),t("Expense added successfully"),Z(!1),Oe({companyId:"",title:"",amount:"",category:"",date:new Date().toISOString().split("T")[0],description:"",status:"Pending",receiptFile:null}),K(""),ce.current&&(ce.current.value=""),De(),window.dispatchEvent(new Event("refresh-expenses"))}catch(dt){r(dt.message||"Failed to add expense")}finally{C(!1)}},ye=async()=>{if(S.trim()){O(!0);try{const Ue=await PF({name:S.trim()});if(Ue?.data){const dt=Ue.data;c(st=>[...st,dt]),Oe(st=>({...st,category:dt.name})),P(""),w(!1),t("Category added successfully")}}catch(Ue){Ue.message?.includes("already exists")||Ue.message?.includes("CATEGORY_EXISTS")?r("Category with this name already exists"):r(Ue.message||"Failed to add category")}finally{O(!1)}}},Be=async(Ue,dt)=>{fe(!0);try{await cre(Ue,{status:dt}),a(st=>st.map(it=>it.id===Ue?{...it,status:dt}:it)),u&&u.id===Ue&&d({...u,status:dt}),t(`Expense status updated to ${dt}`),window.dispatchEvent(new Event("refresh-expenses"))}catch(st){r(st.message||"Failed to update expense status")}finally{fe(!1)}},$e=async()=>{if(u){y(!0);try{await lP(u.id),a(Ue=>Ue.filter(dt=>dt.id!==u.id)),d(null),ie(!1),t("Expense deleted successfully"),window.dispatchEvent(new Event("refresh-expenses"))}catch(Ue){r(Ue.message||"Failed to delete expense")}finally{y(!1)}}},rt=async()=>{const Ue=[...E];if(Ue.length!==0){z(!0),te(!1);try{await Promise.all(Ue.map(dt=>lP(dt))),a(dt=>dt.filter(st=>!Ue.includes(st.id))),T([]),t(`Successfully deleted ${Ue.length} expense(s)`),window.dispatchEvent(new Event("refresh-expenses"))}catch{r("Failed to delete some expenses")}finally{z(!1)}}},ft=Ue=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(Ue),Nt=Ue=>new Date(Ue).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return h?i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsx(Ot,{className:"w-8 h-8 animate-spin text-indigo-600"})}):i.jsxs("div",{className:"p-6 lg:p-10 max-w-7xl mx-auto pb-20",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-8",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-black text-slate-900 mb-2",children:"Expenses"}),i.jsx("p",{className:"text-slate-500 text-sm",children:"Manage company expenses and receipts"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("button",{onClick:()=>{N("manage"),w(!0)},className:"px-4 py-3 bg-white text-indigo-600 rounded-xl font-bold text-sm hover:bg-indigo-50 transition-all flex items-center gap-2 border-2 border-indigo-200",children:[i.jsx(Da,{className:"w-4 h-4"}),"Manage Categories"]}),i.jsxs("button",{onClick:()=>Z(!0),className:"px-6 py-3 bg-indigo-600 text-white rounded-xl font-bold text-sm hover:bg-indigo-700 transition-all flex items-center gap-2 shadow-lg",children:[i.jsx(kn,{className:"w-5 h-5"}),"Add Expense"]})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[{label:"Total Expenses",value:ft(_e.totalExpenses),icon:i.jsx(Mu,{className:"w-5 h-5"}),color:"text-indigo-600 bg-indigo-50"},{label:"Pending",value:_e.pendingCount.toString(),icon:i.jsx(zi,{className:"w-5 h-5"}),color:"text-amber-600 bg-amber-50"},{label:"Approved",value:_e.approvedCount.toString(),icon:i.jsx(gl,{className:"w-5 h-5"}),color:"text-emerald-600 bg-emerald-50"},{label:"This Month",value:ft(_e.thisMonth),icon:i.jsx(La,{className:"w-5 h-5"}),color:"text-blue-600 bg-blue-50"}].map((Ue,dt)=>i.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm",children:[i.jsx("div",{className:"flex items-center justify-between mb-2",children:i.jsx("div",{className:`p-2 rounded-lg ${Ue.color}`,children:Ue.icon})}),i.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:Ue.label}),i.jsx("p",{className:"text-2xl font-black text-slate-900",children:Ue.value})]},dt))}),i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(GN,{className:"w-4 h-4 text-slate-400"}),i.jsx("span",{className:"text-sm font-bold text-slate-600",children:"Filter by Company:"})]}),i.jsxs("button",{onClick:()=>F(!0),className:"px-4 py-2 border border-slate-200 rounded-lg text-sm font-bold bg-white hover:bg-slate-50 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors flex items-center gap-2",children:[i.jsx("span",{children:v.length===0?"All Companies":v.length===1?s.find(Ue=>Ue.id===v[0])?.name||"1 Selected":`${v.length} Companies Selected`}),v.length>0&&i.jsx("span",{className:"px-2 py-0.5 bg-indigo-600 text-white text-xs font-bold rounded-full",children:v.length})]}),i.jsxs("div",{className:"text-xs text-slate-400 font-bold ml-auto",children:["Showing ",ue.length," expense(s)"]})]}),E.length>0&&i.jsx("div",{className:"fixed bottom-8 left-1/2 transform -translate-x-1/2 z-50 animate-in fade-in slide-in-from-bottom-4 duration-300",children:i.jsxs("div",{className:"bg-slate-900 rounded-full px-6 py-4 shadow-2xl flex items-center gap-4 min-w-[320px]",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-500 flex items-center justify-center flex-shrink-0",children:i.jsx("span",{className:"text-white text-sm font-black",children:E.length})}),i.jsx("span",{className:"text-white text-sm font-bold",children:"Selected"}),i.jsx("div",{className:"w-px h-6 bg-white/20"}),i.jsx("button",{onClick:()=>te(!0),disabled:I,className:"px-4 py-2 bg-red-600 text-white rounded-lg font-bold text-sm hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 flex-shrink-0",children:I?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Ir,{className:"w-4 h-4"}),"DELETE"]})}),i.jsx("button",{onClick:()=>T([]),className:"p-1.5 hover:bg-white/10 rounded-full transition-colors flex-shrink-0 ml-auto","aria-label":"Dismiss",children:i.jsx(mr,{className:"w-5 h-5 text-white"})})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:`lg:col-span-2 space-y-4 ${u?"lg:pr-6":""}`,children:[ue.length>0&&i.jsx("div",{className:"flex items-center gap-3 mb-4",children:i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:E.length===ue.length&&ue.length>0,onChange:Se,className:"rounded border-slate-300 text-indigo-600 focus:ring-indigo-500 w-4 h-4"}),i.jsx("span",{className:"text-sm font-bold text-slate-600",children:"Select All"})]})}),ue.length===0?i.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-12 text-center",children:[i.jsx(JN,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-black text-slate-900 mb-2",children:"No Expenses Found"}),i.jsx("p",{className:"text-slate-500 text-sm mb-6",children:"Get started by adding your first expense"}),i.jsxs("button",{onClick:()=>Z(!0),className:"px-6 py-3 bg-indigo-600 text-white rounded-xl font-bold text-sm hover:bg-indigo-700 transition-all",children:[i.jsx(kn,{className:"w-5 h-5 inline mr-2"}),"Add Expense"]})]}):ue.map(Ue=>{const dt=je(Ue.companyId),st=E.includes(Ue.id);return i.jsxs("div",{onClick:()=>d(Ue),className:`bg-white rounded-2xl border ${st?"border-indigo-400 bg-indigo-50/30":"border-slate-200"} shadow-sm hover:shadow-xl transition-all cursor-pointer p-6 ${u?.id===Ue.id?"ring-2 ring-indigo-500":""}`,children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[i.jsx("input",{type:"checkbox",checked:st,onChange:it=>{it.stopPropagation(),T(Re=>st?Re.filter(vt=>vt!==Ue.id):[...Re,Ue.id])},onClick:it=>it.stopPropagation(),className:"rounded border-slate-300 text-indigo-600 focus:ring-indigo-500 w-4 h-4 shrink-0"}),i.jsx(ki,{src:dt?.logo,fallbackText:dt?.name,className:"w-10 h-10 rounded-xl shrink-0",isAvatar:!1}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-black text-slate-900 text-lg mb-1 truncate",children:Ue.title}),i.jsx("p",{className:"text-sm text-slate-500 truncate",children:dt?.name||"Unknown Company"})]})]}),i.jsxs("div",{className:"text-right shrink-0 ml-4",children:[i.jsx("p",{className:"text-2xl font-black text-slate-900 mb-1",children:ft(Ue.amount)}),i.jsxs("select",{value:Ue.status||"Pending",onChange:it=>{it.stopPropagation(),Be(Ue.id,it.target.value)},onClick:it=>it.stopPropagation(),disabled:re,className:`px-2 py-1 rounded-full text-[10px] font-black uppercase border outline-none cursor-pointer transition-all ${oe(Ue.status||"Pending")} ${re?"opacity-50 cursor-not-allowed":""}`,children:[i.jsx("option",{value:"Pending",children:"Pending"}),i.jsx("option",{value:"Approved",children:"Approved"}),i.jsx("option",{value:"Rejected",children:"Rejected"})]})]})]}),i.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500 mb-4",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Da,{className:"w-3 h-3"}),i.jsx("span",{className:"font-bold",children:Ue.category})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(La,{className:"w-3 h-3"}),i.jsx("span",{className:"font-bold",children:Nt(Ue.date)})]}),Ue.receiptUrl&&i.jsxs("div",{className:"flex items-center gap-1 text-indigo-600",children:[i.jsx(Wa,{className:"w-3 h-3"}),i.jsx("span",{className:"font-bold",children:"Receipt"})]})]}),Ue.description&&i.jsx("p",{className:"text-sm text-slate-600 mb-4 line-clamp-2",children:Ue.description}),i.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-100",children:[i.jsxs("button",{onClick:it=>{it.stopPropagation(),d(Ue)},className:"text-xs font-bold text-indigo-600 hover:text-indigo-700 flex items-center gap-1",children:["View Details",i.jsx(Ka,{className:"w-3 h-3"})]}),i.jsx("button",{onClick:it=>{it.stopPropagation(),d(Ue),ie(!0)},className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:i.jsx(Ir,{className:"w-4 h-4"})})]})]},Ue.id)})]}),u&&i.jsxs("div",{className:"lg:col-span-1 bg-white rounded-2xl border border-slate-200 shadow-xl p-6 sticky top-6 max-h-[calc(100vh-3rem)] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"text-xl font-black text-slate-900",children:"Expense Details"}),i.jsx("button",{onClick:()=>d(null),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:i.jsx(mr,{className:"w-5 h-5 text-slate-400"})})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Title"}),i.jsx("p",{className:"text-lg font-black text-slate-900",children:u.title})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Company"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ki,{src:je(u.companyId)?.logo,fallbackText:je(u.companyId)?.name,className:"w-6 h-6 rounded-lg",isAvatar:!1}),i.jsx("p",{className:"text-sm font-bold text-slate-900",children:je(u.companyId)?.name||"Unknown"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Amount"}),i.jsx("p",{className:"text-2xl font-black text-indigo-600",children:ft(u.amount)})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Category"}),i.jsx("span",{className:"px-3 py-1.5 bg-indigo-50 text-indigo-600 rounded-lg text-sm font-bold",children:u.category})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Status"}),i.jsxs("select",{value:u.status||"Pending",onChange:Ue=>{const dt=Ue.target.value;Be(u.id,dt)},disabled:re,className:`w-full px-3 py-1.5 rounded-lg text-sm font-bold border outline-none focus:ring-2 focus:ring-indigo-500 transition-all ${oe(u.status||"Pending")} ${re?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:[i.jsx("option",{value:"Pending",children:"Pending"}),i.jsx("option",{value:"Approved",children:"Approved"}),i.jsx("option",{value:"Rejected",children:"Rejected"})]}),re&&i.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[i.jsx(Ot,{className:"w-3 h-3 animate-spin text-indigo-600"}),i.jsx("span",{className:"text-xs text-slate-500",children:"Updating..."})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Date"}),i.jsx("p",{className:"text-sm font-bold text-slate-900",children:Nt(u.date)})]}),u.description&&i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Description"}),i.jsx("p",{className:"text-sm text-slate-600",children:u.description})]}),u.receiptUrl&&i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Receipt"}),i.jsx("div",{className:"space-y-2",children:u.receiptMimeType?.startsWith("image/")?i.jsxs("div",{className:"relative group",children:[i.jsx("img",{src:u.receiptUrl,alt:u.receiptFilename||"Receipt",className:"w-full rounded-lg border border-slate-200 cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>{const Ue=window.open();Ue&&Ue.document.write(`<img src="${u.receiptUrl}" style="max-width:100%;height:auto;" />`)}}),i.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/5 rounded-lg transition-colors flex items-center justify-center opacity-0 group-hover:opacity-100",children:i.jsx($d,{className:"w-6 h-6 text-white drop-shadow-lg"})})]}):i.jsxs("a",{href:u.receiptUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-3 bg-slate-50 border border-slate-200 rounded-lg hover:bg-slate-100 transition-colors",children:[i.jsx(Wa,{className:"w-5 h-5 text-indigo-600"}),i.jsx("span",{className:"text-sm font-bold text-slate-900 flex-1 truncate",children:u.receiptFilename||"Receipt"}),i.jsx(gm,{className:"w-4 h-4 text-slate-400"})]})})]}),i.jsx("div",{className:"pt-4 border-t border-slate-200",children:i.jsx("button",{onClick:()=>{d(u),ie(!0)},disabled:p,className:"w-full px-4 py-3 bg-red-600 text-white rounded-xl font-bold text-sm hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:p?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Ir,{className:"w-4 h-4"}),"Delete Expense"]})})})]})]})]}),X&&i.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:i.jsxs("div",{className:"bg-white rounded-[32px] w-full max-w-2xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-start bg-slate-50/50",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-14 h-14 bg-indigo-600 rounded-2xl flex items-center justify-center text-white shadow-xl shadow-indigo-100",children:i.jsx(JN,{className:"w-7 h-7"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-black text-slate-900 tracking-tight leading-none",children:"Add Expense"}),i.jsx("p",{className:"text-[10px] text-slate-400 uppercase tracking-[0.2em] font-black mt-2",children:"Company Expense Management"})]})]}),i.jsx("button",{onClick:()=>{Z(!1),Oe({companyId:"",title:"",amount:"",category:"",date:new Date().toISOString().split("T")[0],description:"",receiptFile:null}),K(""),ce.current&&(ce.current.value="")},className:"p-2 hover:bg-white rounded-full transition-colors border border-transparent hover:border-slate-200",children:i.jsx(mr,{className:"w-6 h-6 text-slate-400"})})]}),i.jsxs("form",{onSubmit:ae,className:"p-8 space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1 mb-2 block",children:"Company *"}),i.jsxs("select",{required:!0,value:he.companyId,onChange:Ue=>Oe({...he,companyId:Ue.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-bold outline-none focus:ring-4 focus:ring-indigo-50",children:[i.jsx("option",{value:"",children:"Select Company"}),s.map(Ue=>i.jsx("option",{value:Ue.id,children:Ue.name},Ue.id))]})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1 mb-2 block",children:"Title *"}),i.jsx("input",{required:!0,type:"text",placeholder:"Expense title...",value:he.title,onChange:Ue=>Oe({...he,title:Ue.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-bold outline-none focus:ring-4 focus:ring-indigo-50"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1 mb-2 block",children:"Amount *"}),i.jsx("input",{required:!0,type:"number",step:"0.01",min:"0",placeholder:"0.00",value:he.amount,onChange:Ue=>Oe({...he,amount:Ue.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-bold outline-none focus:ring-4 focus:ring-indigo-50"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1 mb-2 block",children:"Category *"}),i.jsxs("button",{type:"button",onClick:()=>{N("select"),w(!0)},className:`w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-bold outline-none focus:ring-4 focus:ring-indigo-50 text-left flex items-center justify-between ${he.category?"text-slate-900":"text-slate-400"}`,children:[i.jsx("span",{children:he.category||"Select Category"}),i.jsx(Ka,{className:"w-4 h-4 text-slate-400"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1 mb-2 block",children:"Date *"}),i.jsx("input",{required:!0,type:"date",value:he.date,onChange:Ue=>Oe({...he,date:Ue.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-bold outline-none focus:ring-4 focus:ring-indigo-50"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1 mb-2 block",children:"Status"}),i.jsxs("select",{value:he.status,onChange:Ue=>Oe({...he,status:Ue.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-bold outline-none focus:ring-4 focus:ring-indigo-50",children:[i.jsx("option",{value:"Pending",children:"Pending"}),i.jsx("option",{value:"Approved",children:"Approved"}),i.jsx("option",{value:"Rejected",children:"Rejected"})]})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1 mb-2 block",children:"Description"}),i.jsx("textarea",{rows:3,placeholder:"Additional details...",value:he.description,onChange:Ue=>Oe({...he,description:Ue.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-medium outline-none focus:ring-4 focus:ring-indigo-50 resize-none"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1 mb-2 block",children:"Receipt (Image/PDF)"}),i.jsxs("label",{className:"flex items-center gap-3 p-4 bg-slate-50 border-2 border-dashed border-slate-200 rounded-xl cursor-pointer hover:border-indigo-300 hover:bg-indigo-50/30 transition-all",children:[i.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center text-indigo-600",children:U?i.jsx(Ot,{className:"w-5 h-5 animate-spin"}):B?i.jsx(Qs,{className:"w-5 h-5"}):i.jsx(hc,{className:"w-5 h-5"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xs font-bold text-slate-900",children:B?he.receiptFile?.name||"Receipt uploaded":"Upload Receipt"}),i.jsx("p",{className:"text-[10px] text-slate-400",children:"PNG, JPG, PDF (Max 10MB)"})]}),i.jsx("input",{ref:ce,type:"file",accept:"image/*,.pdf",onChange:pe,disabled:U,className:"hidden"})]}),B&&he.receiptFile?.type.startsWith("image/")&&i.jsx("div",{className:"mt-3",children:i.jsx("img",{src:B,alt:"Receipt preview",className:"w-full max-h-48 object-contain rounded-lg border border-slate-200"})}),B&&he.receiptFile?.type.includes("pdf")&&i.jsxs("div",{className:"mt-3 p-4 bg-red-50 border-2 border-red-200 rounded-xl flex items-center gap-3",children:[i.jsx(Wa,{className:"w-8 h-8 text-red-600 shrink-0"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-bold text-red-900",children:he.receiptFile.name}),i.jsx("p",{className:"text-xs text-red-700 mt-0.5",children:"PDF document ready to upload"})]}),i.jsx("button",{type:"button",onClick:()=>{K(""),Oe(Ue=>({...Ue,receiptFile:null})),ce.current&&(ce.current.value="")},className:"p-2 hover:bg-red-100 rounded-lg text-red-600 transition-all",children:i.jsx(mr,{className:"w-4 h-4"})})]})]})]}),i.jsxs("div",{className:"flex gap-4 pt-6 border-t border-slate-100",children:[i.jsx("button",{type:"button",onClick:()=>{Z(!1),Oe({companyId:"",title:"",amount:"",category:"",date:new Date().toISOString().split("T")[0],description:"",receiptFile:null}),K(""),ce.current&&(ce.current.value="")},className:"flex-1 py-4 border border-slate-200 text-slate-400 font-black uppercase text-xs tracking-widest rounded-[24px] hover:bg-slate-50 transition-all",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:q||U,className:"flex-1 py-4 bg-indigo-600 text-white font-black uppercase text-xs tracking-widest rounded-[24px] hover:bg-indigo-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:q?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),"Adding..."]}):i.jsxs(i.Fragment,{children:[i.jsx(kn,{className:"w-4 h-4"}),"Add Expense"]})})]})]})]})}),J&&u&&i.jsx("div",{className:"fixed inset-0 z-[130] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:i.jsxs("div",{className:"bg-white rounded-[32px] w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"p-8 border-b border-slate-100",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center bg-red-50 text-red-600",children:i.jsx(Ir,{className:"w-6 h-6"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-black text-slate-900",children:"Delete Expense?"}),i.jsx("p",{className:"text-xs text-slate-400 font-medium mt-1",children:"This action cannot be undone"})]})]}),i.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-200",children:[i.jsx("p",{className:"text-sm font-bold text-slate-900 mb-1",children:u.title}),i.jsxs("p",{className:"text-xs text-slate-500",children:[ft(u.amount),"  ",je(u.companyId)?.name||"Unknown"]})]})]}),i.jsxs("div",{className:"p-6 flex gap-3",children:[i.jsx("button",{onClick:()=>{ie(!1),d(null)},className:"flex-1 py-3 border border-slate-200 text-slate-400 font-black uppercase text-xs tracking-widest rounded-xl hover:bg-slate-50 transition-all",children:"Cancel"}),i.jsx("button",{onClick:$e,disabled:p,className:"flex-1 py-3 bg-red-600 text-white font-black uppercase text-xs tracking-widest rounded-xl hover:bg-red-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:p?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):"Delete"})]})]})}),b&&i.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"p-6 border-b border-slate-200 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-black text-slate-900",children:j==="manage"?"Manage Categories":"Select Category"}),i.jsx("p",{className:"text-xs text-slate-400 mt-1",children:j==="manage"?"View and add expense categories":"Choose an expense category"})]}),i.jsx("button",{onClick:()=>{w(!1),P("")},className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:i.jsx(mr,{className:"w-5 h-5 text-slate-400"})})]}),i.jsx("div",{className:"p-6 max-h-[400px] overflow-y-auto",children:i.jsx("div",{className:"space-y-2",children:l.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Da,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),i.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"No categories yet"}),i.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Add your first category below"})]}):j==="manage"?l.map(Ue=>i.jsxs("div",{className:"px-4 py-3 rounded-xl bg-slate-50 border-2 border-slate-100 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-indigo-100 flex items-center justify-center",children:i.jsx(Da,{className:"w-4 h-4 text-indigo-600"})}),i.jsx("span",{className:"font-bold text-sm text-slate-900",children:Ue.name})]}),i.jsx(wn,{className:"w-5 h-5 text-emerald-600"})]},Ue.id)):l.map(Ue=>i.jsxs("button",{type:"button",onClick:()=>{Oe({...he,category:Ue.name}),w(!1)},className:`w-full px-4 py-3 rounded-xl text-left transition-all flex items-center justify-between ${he.category===Ue.name?"bg-indigo-50 text-indigo-600 border-2 border-indigo-200":"bg-slate-50 text-slate-900 border-2 border-transparent hover:bg-slate-100"}`,children:[i.jsx("span",{className:"font-bold text-sm",children:Ue.name}),he.category===Ue.name?i.jsx(wn,{className:"w-5 h-5 text-indigo-600"}):i.jsx($c,{className:"w-5 h-5 text-slate-300"})]},Ue.id))})}),i.jsxs("div",{className:"p-6 border-t border-slate-200 space-y-3",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"text",placeholder:"New category name...",value:S,onChange:Ue=>P(Ue.target.value),onKeyDown:Ue=>{Ue.key==="Enter"&&S.trim()&&!A&&(Ue.preventDefault(),ye())},className:"flex-1 px-4 py-2 border border-slate-200 rounded-xl text-sm font-bold outline-none focus:ring-4 focus:ring-indigo-50"}),i.jsx("button",{type:"button",onClick:ye,disabled:!S.trim()||A,className:"px-6 py-2 bg-indigo-600 text-white rounded-xl font-bold text-sm hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:A?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),"Adding..."]}):i.jsxs(i.Fragment,{children:[i.jsx(kn,{className:"w-4 h-4"}),"Add"]})})]}),i.jsx("p",{className:"text-[10px] text-slate-400 font-medium",children:"Categories are shared across budgets and expenses"})]})]})}),M&&i.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"p-6 border-b border-slate-200 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-black text-slate-900",children:"Filter by Company"}),i.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Select one or more companies"})]}),i.jsx("button",{onClick:()=>F(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:i.jsx(mr,{className:"w-5 h-5 text-slate-400"})})]}),i.jsx("div",{className:"p-6 max-h-[400px] overflow-y-auto",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-xl hover:bg-slate-50 cursor-pointer transition-colors",children:[i.jsx("input",{type:"checkbox",checked:v.length===0,onChange:()=>{g([])},className:"rounded border-slate-300 text-indigo-600 focus:ring-indigo-500 w-4 h-4"}),i.jsx("span",{className:"font-bold text-sm text-slate-900",children:"All Companies"})]}),s.map(Ue=>i.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-xl hover:bg-slate-50 cursor-pointer transition-colors",children:[i.jsx("input",{type:"checkbox",checked:v.includes(Ue.id),onChange:dt=>{dt.target.checked?g(st=>[...st,Ue.id]):g(st=>st.filter(it=>it!==Ue.id))},className:"rounded border-slate-300 text-indigo-600 focus:ring-indigo-500 w-4 h-4"}),i.jsx(ki,{src:Ue.logo,fallbackText:Ue.name,className:"w-6 h-6 rounded-lg",isAvatar:!1}),i.jsx("span",{className:"font-bold text-sm text-slate-900 flex-1",children:Ue.name})]},Ue.id))]})}),i.jsxs("div",{className:"p-6 border-t border-slate-200 flex items-center justify-between",children:[i.jsxs("button",{onClick:()=>{g([])},disabled:v.length===0,className:"px-4 py-2 border border-slate-200 text-slate-600 rounded-xl font-bold text-sm hover:bg-slate-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[i.jsx(mr,{className:"w-4 h-4"}),"Clear All"]}),i.jsxs("button",{onClick:()=>{F(!1),De()},className:"px-6 py-2 bg-indigo-600 text-white rounded-xl font-bold text-sm hover:bg-indigo-700 transition-colors",children:["Apply Filters (",v.length===0?"All":v.length,")"]})]})]})}),Q&&i.jsx("div",{className:"fixed inset-0 z-[130] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:i.jsxs("div",{className:"bg-white rounded-[32px] w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[i.jsx("div",{className:"p-8 border-b border-slate-100",children:i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center bg-red-50 text-red-600",children:i.jsx(Ir,{className:"w-6 h-6"})}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-xl font-black text-slate-900",children:["Delete ",E.length," Expense(s)?"]}),i.jsx("p",{className:"text-xs text-slate-400 font-medium mt-1",children:"This action cannot be undone"})]})]})}),i.jsxs("div",{className:"p-6 flex gap-3",children:[i.jsx("button",{onClick:()=>te(!1),className:"flex-1 py-3 border border-slate-200 text-slate-400 font-black uppercase text-xs tracking-widest rounded-xl hover:bg-slate-50 transition-all",children:"Cancel"}),i.jsx("button",{onClick:rt,disabled:I,className:"flex-1 py-3 bg-red-600 text-white font-black uppercase text-xs tracking-widest rounded-xl hover:bg-red-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:I?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):"Delete All"})]})]})})]})},jxe=({currentUser:e})=>{const{showSuccess:t,showError:r}=oi(),[n,a]=V.useState([]),[s,o]=V.useState([]),[l,c]=V.useState([]),[u,d]=V.useState(new Date().getFullYear()),[h,m]=V.useState(""),[p,y]=V.useState(null),[v,g]=V.useState(!0),[b,w]=V.useState(!1),[j,N]=V.useState("yearly"),[S,P]=V.useState(!1),[A,O]=V.useState(!1),[M,F]=V.useState(null),[E,T]=V.useState(!1),[I,z]=V.useState(!1),[Q,te]=V.useState(null),[J,ie]=V.useState(!1),[X,Z]=V.useState(""),[q,C]=V.useState(!1),[U,W]=V.useState({year:new Date().getFullYear(),department:"",categories:[]}),B=e?.role==="Admin",K=e?.id||JSON.parse(localStorage.getItem("user_data")||"{}").id,re=Array.from({length:5},(pe,ae)=>new Date().getFullYear()-2+ae),fe=V.useCallback(async()=>{try{const ae=(await mre())?.data||[];o(Array.isArray(ae)?ae:[])}catch(pe){console.error("[BUDGET] Error fetching departments:",pe)}},[]),ce=V.useCallback(async()=>{try{const ae=(await OF())?.data||[];c(Array.isArray(ae)?ae:[])}catch(pe){console.error("[BUDGET] Error fetching categories:",pe)}},[]),he=V.useCallback(async()=>{g(!0);try{const pe={year:u};h&&(pe.department=h),console.log("[Budget] Fetching budgets with params:",pe);const ye=(await ure(pe))?.data||[];console.log("[Budget] Received budgets:",ye),a(Array.isArray(ye)?ye:[])}catch(pe){console.error("[Budget] Error fetching budgets:",pe),r(pe.message||"Failed to load budgets")}finally{g(!1)}},[u,h,r]),Oe=V.useCallback(async()=>{w(!0);try{const pe={year:u};h&&(pe.department=h),console.log("[Budget] Fetching tracking with params:",pe);const ae=await pre(pe);console.log("[Budget] Received tracking:",ae?.data),y(ae?.data||null)}catch(pe){console.error("[Budget] Error fetching tracking:",pe),y(null)}finally{w(!1)}},[u,h]);V.useEffect(()=>{fe(),ce()},[fe,ce]),V.useEffect(()=>{he(),Oe()},[he,Oe]);const ee=()=>{W({year:u,department:h,categories:l.map(pe=>({categoryId:pe.id,categoryName:pe.name,yearlyBudget:0,q1Budget:0,q2Budget:0,q3Budget:0,q4Budget:0}))})},De=async()=>{if(X.trim()){C(!0);try{const pe=await PF({name:X.trim()});if(pe?.data){const ae=pe.data;c(ye=>[...ye,ae]),Z(""),t("Category added successfully"),ce()}}catch(pe){pe.message?.includes("already exists")||pe.message?.includes("CATEGORY_EXISTS")?r("Category with this name already exists"):r(pe.message||"Failed to add category")}finally{C(!1)}}},je=async()=>{if(!K){r("User not found");return}if(U.categories.length===0){r("Please add at least one category");return}if(U.categories.reduce((ae,ye)=>ae+ye.yearlyBudget,0)===0){r("Total budget cannot be zero");return}T(!0);try{await dre({year:U.year,department:U.department||null,categories:U.categories,createdBy:K}),t("Budget created successfully"),P(!1),he(),Oe()}catch(ae){r(ae.message||"Failed to create budget")}finally{T(!1)}},oe=async()=>{if(!(!M||!K)){T(!0);try{await fre(M.id,{categories:U.categories,updatedBy:K}),t("Budget updated successfully"),O(!1),F(null),he(),Oe()}catch(pe){r(pe.message||"Failed to update budget")}finally{T(!1)}}},ue=async pe=>{z(!0);try{await hre(pe.id),t("Budget deleted successfully"),te(null),he(),Oe()}catch(ae){r(ae.message||"Failed to delete budget")}finally{z(!1)}},_e=pe=>pe>=1e6?`$${(pe/1e6).toFixed(1)}M`:pe>=1e3?`$${(pe/1e3).toFixed(1)}k`:`$${pe.toLocaleString()}`,Se=pe=>pe>=100?"text-red-600":pe>=80?"text-amber-600":"text-emerald-600",Pe=pe=>pe>=100?"bg-red-500":pe>=80?"bg-amber-500":"bg-emerald-500";return i.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-10",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Budget Management"}),i.jsx("p",{className:"text-slate-500 text-sm font-medium mt-1",children:"Track spending against allocated budgets"})]}),B&&i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("button",{onClick:()=>ie(!0),className:"px-4 py-2 bg-white text-indigo-600 text-sm font-bold rounded-xl flex items-center gap-2 hover:bg-indigo-50 border-2 border-indigo-200 transition-all active:scale-95",children:[i.jsx(Da,{className:"w-4 h-4"})," Manage Categories"]}),i.jsxs("button",{onClick:()=>{ee(),P(!0)},className:"px-4 py-2 bg-indigo-600 text-white text-sm font-bold rounded-xl flex items-center gap-2 hover:bg-indigo-700 shadow-lg transition-all active:scale-95",children:[i.jsx(kn,{className:"w-4 h-4"})," Create Budget"]})]})]}),i.jsx("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Year"}),i.jsx("select",{value:u,onChange:pe=>d(parseInt(pe.target.value)),className:"w-full px-4 py-3 border border-slate-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-2 focus:ring-indigo-500",children:re.map(pe=>i.jsx("option",{value:pe,children:pe},pe))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Department"}),i.jsxs("select",{value:h,onChange:pe=>m(pe.target.value),className:"w-full px-4 py-3 border border-slate-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-2 focus:ring-indigo-500",children:[i.jsx("option",{value:"",children:"All Departments"}),s.map(pe=>i.jsx("option",{value:pe,children:pe},pe))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"View Mode"}),i.jsx("div",{className:"flex gap-2",children:["yearly","quarterly","monthly"].map(pe=>i.jsx("button",{onClick:()=>N(pe),className:`flex-1 px-3 py-3 rounded-xl text-xs font-black uppercase transition-all ${j===pe?"bg-indigo-600 text-white shadow-lg":"bg-slate-50 text-slate-400 border border-slate-200 hover:border-indigo-300"}`,children:pe},pe))})]})]})}),!v&&n.length>0&&i.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:[i.jsx("div",{className:"p-6 border-b border-slate-100 bg-gradient-to-r from-slate-50 to-white",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-black text-slate-900",children:p&&p.hasBudget!==!1?"Current Budget":"Available Budgets"}),i.jsxs("p",{className:"text-xs text-slate-500 font-medium mt-1",children:[n.length," budget",n.length!==1?"s":""," for selected filters"]})]}),p&&p.hasBudget!==!1&&B&&i.jsxs("button",{onClick:()=>{const pe=n[0];F(pe),W({year:pe.year,department:pe.department||"",categories:pe.categories.map(ae=>({...ae,q1Budget:ae.q1Budget||0,q2Budget:ae.q2Budget||0,q3Budget:ae.q3Budget||0,q4Budget:ae.q4Budget||0}))}),O(!0)},className:"px-4 py-2 bg-indigo-50 text-indigo-600 font-bold text-xs uppercase tracking-widest rounded-xl hover:bg-indigo-100 transition-all flex items-center gap-2",children:[i.jsx(xl,{className:"w-4 h-4"})," Edit Budget"]})]})}),i.jsx("div",{className:"divide-y divide-slate-100",children:n.map(pe=>i.jsx("div",{className:"p-6 hover:bg-slate-50 transition-colors",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsxs("h3",{className:"text-sm font-black text-slate-900",children:[pe.year," ",pe.department&&`- ${pe.department}`]}),!pe.department&&i.jsx("span",{className:"px-2 py-1 bg-purple-50 text-purple-600 text-[10px] font-black uppercase rounded-lg border border-purple-200",children:"Global"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Total Budget"}),i.jsx("p",{className:"text-lg font-black text-indigo-600",children:_e(pe.totalBudget)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Categories"}),i.jsxs("p",{className:"text-sm font-bold text-slate-700",children:[pe.categories.length," configured"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Created"}),i.jsx("p",{className:"text-xs text-slate-500 font-medium",children:pe.createdAt?new Date(pe.createdAt).toLocaleDateString():"N/A"})]})]}),i.jsx("div",{className:"mt-3 pt-3 border-t border-slate-100",children:i.jsxs("details",{className:"group",children:[i.jsxs("summary",{className:"text-xs font-bold text-indigo-600 cursor-pointer hover:text-indigo-700 list-none flex items-center gap-2",children:[i.jsx(Ka,{className:"w-4 h-4 transition-transform group-open:rotate-90"}),"View category breakdown"]}),i.jsx("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-2 gap-2",children:pe.categories.map(ae=>i.jsxs("div",{className:"p-2 bg-slate-50 rounded-lg",children:[i.jsx("p",{className:"text-xs font-bold text-slate-900",children:ae.categoryName}),i.jsxs("p",{className:"text-xs text-slate-600 mt-1",children:["Yearly: ",i.jsx("span",{className:"font-black",children:_e(ae.yearlyBudget)})]})]},ae.categoryId))})]})})]}),B&&!(p&&p.hasBudget!==!1)&&i.jsxs("button",{onClick:()=>{F(pe),W({year:pe.year,department:pe.department||"",categories:pe.categories.map(ae=>({...ae,q1Budget:ae.q1Budget||0,q2Budget:ae.q2Budget||0,q3Budget:ae.q3Budget||0,q4Budget:ae.q4Budget||0}))}),O(!0)},className:"px-4 py-2 bg-indigo-50 text-indigo-600 font-bold text-xs uppercase tracking-widest rounded-xl hover:bg-indigo-100 transition-all flex items-center gap-2",children:[i.jsx(xl,{className:"w-4 h-4"})," View/Edit"]})]})},pe.id))})]}),p&&p.hasBudget!==!1&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-indigo-50 flex items-center justify-center",children:i.jsx(Mu,{className:"w-5 h-5 text-indigo-600"})}),i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Total Budget"})]}),i.jsx("h3",{className:"text-2xl font-black text-slate-900",children:_e(p.totalBudget)})]}),i.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-50 flex items-center justify-center",children:i.jsx(Cu,{className:"w-5 h-5 text-blue-600"})}),i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Total Spent"})]}),i.jsx("h3",{className:"text-2xl font-black text-slate-900",children:_e(p.totalSpent)})]}),i.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:`w-10 h-10 rounded-xl ${p.totalRemaining>=0?"bg-emerald-50":"bg-red-50"} flex items-center justify-center`,children:p.totalRemaining>=0?i.jsx(wn,{className:"w-5 h-5 text-emerald-600"}):i.jsx(Yn,{className:"w-5 h-5 text-red-600"})}),i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Remaining"})]}),i.jsx("h3",{className:`text-2xl font-black ${p.totalRemaining>=0?"text-emerald-600":"text-red-600"}`,children:_e(Math.abs(p.totalRemaining))})]}),i.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-purple-50 flex items-center justify-center",children:i.jsx(Zp,{className:"w-5 h-5 text-purple-600"})}),i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"% Used"})]}),i.jsxs("h3",{className:`text-2xl font-black ${Se(p.totalPercentUsed)}`,children:[p.totalPercentUsed.toFixed(1),"%"]})]})]}),p&&p.isOverBudget&&i.jsxs("div",{className:"bg-red-50 border-2 border-red-200 rounded-2xl p-6 flex items-start gap-4 animate-in slide-in-from-top-2",children:[i.jsx(Kd,{className:"w-6 h-6 text-red-600 shrink-0 mt-1"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-lg font-black text-red-900 mb-1",children:"Budget Exceeded"}),i.jsxs("p",{className:"text-sm text-red-700",children:["You are ",i.jsx("span",{className:"font-black",children:_e(p.overBudgetAmount)})," over budget (",p.totalPercentUsed.toFixed(1),"% of total budget used)."]})]})]}),!v&&(!p||p.hasBudget===!1)&&i.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-2xl p-12 text-center",children:[i.jsx(sI,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"No Budget Set"}),i.jsx("p",{className:"text-sm text-slate-500 mb-6",children:B?`No budget has been set for ${u}${h?` - ${h}`:""}. Create one to start tracking.`:`No budget available for ${u}${h?` - ${h}`:""}.`}),B&&i.jsxs("button",{onClick:()=>{ee(),P(!0)},className:"px-6 py-3 bg-indigo-600 text-white font-bold text-sm uppercase tracking-widest rounded-xl hover:bg-indigo-700 shadow-lg transition-all flex items-center gap-2 mx-auto",children:[i.jsx(kn,{className:"w-4 h-4"})," Create Budget"]})]}),p&&p.hasBudget!==!1&&p.categories&&i.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:[i.jsx("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:i.jsx("h2",{className:"text-lg font-black text-slate-900",children:"Spending vs Budget by Category"})}),i.jsx("div",{className:"divide-y divide-slate-100",children:p.categories.map(pe=>i.jsxs("div",{className:"p-6 hover:bg-slate-50 transition-colors",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-sm font-black text-slate-900 mb-1",children:pe.categoryName}),i.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[i.jsxs("span",{className:"text-slate-500 font-medium",children:["Budget: ",i.jsx("span",{className:"font-black text-slate-900",children:_e(pe.yearlyBudget)})]}),i.jsxs("span",{className:"text-slate-500 font-medium",children:["Spent: ",i.jsx("span",{className:"font-black text-slate-900",children:_e(pe.yearlySpent)})]}),i.jsxs("span",{className:`font-black ${Se(pe.yearlyPercentUsed)}`,children:[pe.yearlyPercentUsed.toFixed(1),"%"]})]})]}),pe.isOverBudget&&i.jsxs("div",{className:"px-3 py-1 bg-red-50 text-red-600 text-xs font-black uppercase rounded-lg border border-red-200",children:["Over by ",_e(pe.overBudgetAmount)]})]}),i.jsxs("div",{className:"relative h-3 bg-slate-100 rounded-full overflow-hidden",children:[i.jsx("div",{className:`absolute left-0 top-0 h-full transition-all ${Pe(pe.yearlyPercentUsed)}`,style:{width:`${Math.min(pe.yearlyPercentUsed,100)}%`}}),pe.yearlyPercentUsed>100&&i.jsx("div",{className:"absolute left-0 top-0 h-full bg-red-500/30 border-r-2 border-red-600",style:{width:"100%"}})]}),j==="quarterly"&&i.jsx("div",{className:"grid grid-cols-4 gap-3 mt-4 pt-4 border-t border-slate-100",children:["q1","q2","q3","q4"].map((ae,ye)=>{const Be=pe.quarters[ae];return i.jsxs("div",{className:"p-3 bg-slate-50 rounded-xl",children:[i.jsxs("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-2",children:["Q",ye+1]}),i.jsxs("p",{className:"text-xs text-slate-600 font-medium",children:[i.jsx("span",{className:"font-black text-slate-900",children:_e(Be.spent)})," "," / ",_e(Be.budget)]}),i.jsxs("p",{className:`text-xs font-black mt-1 ${Se(Be.percentUsed)}`,children:[Be.percentUsed.toFixed(0),"%"]})]},ae)})})]},pe.categoryId))})]}),S&&i.jsxs("div",{className:"fixed inset-0 z-[120] overflow-hidden pointer-events-none",children:[i.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md pointer-events-auto animate-in fade-in duration-300",onClick:()=>P(!1)}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4 pointer-events-none",children:i.jsxs("div",{className:"bg-white rounded-[32px] shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden pointer-events-auto animate-in zoom-in-95 duration-300 flex flex-col",children:[i.jsx("div",{className:"p-8 border-b border-slate-100 bg-gradient-to-r from-indigo-50 to-purple-50",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-14 h-14 rounded-2xl bg-indigo-600 flex items-center justify-center text-white shadow-lg",children:i.jsx(Mu,{className:"w-7 h-7"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-black text-slate-900",children:"Create Budget"}),i.jsxs("p",{className:"text-sm text-slate-500 font-medium mt-0.5",children:["Set budget allocations for ",U.year]})]})]}),i.jsx("button",{onClick:()=>P(!1),className:"p-2 hover:bg-white rounded-full text-slate-400 hover:text-slate-600 transition-all",children:i.jsx(mr,{className:"w-5 h-5"})})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:["Year ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("select",{value:U.year,onChange:pe=>W(ae=>({...ae,year:parseInt(pe.target.value)})),className:"w-full px-4 py-3 border-2 border-slate-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100 focus:border-indigo-300",children:re.map(pe=>i.jsx("option",{value:pe,children:pe},pe))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Department"}),i.jsxs("select",{value:U.department,onChange:pe=>W(ae=>({...ae,department:pe.target.value})),className:"w-full px-4 py-3 border-2 border-slate-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100 focus:border-indigo-300",children:[i.jsx("option",{value:"",children:"All Departments"}),s.map(pe=>i.jsx("option",{value:pe,children:pe},pe))]})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-sm font-black text-slate-900 mb-4 flex items-center gap-2",children:[i.jsx(Da,{className:"w-4 h-4 text-indigo-600"})," Category Budgets"]}),i.jsx("div",{className:"space-y-4",children:U.categories.map((pe,ae)=>i.jsxs("div",{className:"p-4 border-2 border-slate-200 rounded-xl",children:[i.jsx("h4",{className:"font-black text-slate-900 mb-3",children:pe.categoryName}),i.jsxs("div",{className:"grid grid-cols-5 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1 block",children:"Yearly"}),i.jsx("input",{type:"number",value:pe.yearlyBudget||"",onChange:ye=>{const Be=[...U.categories];Be[ae].yearlyBudget=parseFloat(ye.target.value)||0,W($e=>({...$e,categories:Be}))},className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm font-bold outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"0"})]}),["q1Budget","q2Budget","q3Budget","q4Budget"].map((ye,Be)=>i.jsxs("div",{children:[i.jsxs("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1 block",children:["Q",Be+1]}),i.jsx("input",{type:"number",value:pe[ye]||"",onChange:$e=>{const rt=[...U.categories];rt[ae][ye]=parseFloat($e.target.value)||0,W(ft=>({...ft,categories:rt}))},className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm font-bold outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"0"})]},ye))]})]},pe.categoryId))}),i.jsx("div",{className:"mt-6 p-4 bg-indigo-50 border-2 border-indigo-200 rounded-xl",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm font-black text-indigo-900 uppercase tracking-widest",children:"Total Budget"}),i.jsx("span",{className:"text-2xl font-black text-indigo-600",children:_e(U.categories.reduce((pe,ae)=>pe+ae.yearlyBudget,0))})]})})]})]})}),i.jsxs("div",{className:"p-6 border-t border-slate-100 bg-slate-50 flex gap-3",children:[i.jsx("button",{onClick:()=>P(!1),disabled:E,className:"flex-1 py-3 border border-slate-200 text-slate-600 font-black uppercase text-xs tracking-widest rounded-xl hover:bg-white transition-all disabled:opacity-50",children:"Cancel"}),i.jsx("button",{onClick:je,disabled:E,className:"flex-1 py-3 bg-indigo-600 text-white font-black uppercase text-xs tracking-widest rounded-xl hover:bg-indigo-700 transition-all shadow-lg disabled:opacity-50 flex items-center justify-center gap-2",children:E?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),"Creating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(ro,{className:"w-4 h-4"}),"Create Budget"]})})]})]})})]}),A&&M&&i.jsxs("div",{className:"fixed inset-0 z-[120] overflow-hidden pointer-events-none",children:[i.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md pointer-events-auto animate-in fade-in duration-300",onClick:()=>{O(!1),F(null)}}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4 pointer-events-none",children:i.jsxs("div",{className:"bg-white rounded-[32px] shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden pointer-events-auto animate-in zoom-in-95 duration-300 flex flex-col",children:[i.jsx("div",{className:"p-8 border-b border-slate-100 bg-gradient-to-r from-indigo-50 to-purple-50",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-14 h-14 rounded-2xl bg-indigo-600 flex items-center justify-center text-white shadow-lg",children:i.jsx(xl,{className:"w-7 h-7"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-black text-slate-900",children:"Edit Budget"}),i.jsxs("p",{className:"text-sm text-slate-500 font-medium mt-0.5",children:["Update budget allocations for ",M.year,M.department&&` - ${M.department}`]})]})]}),i.jsx("button",{onClick:()=>{O(!1),F(null)},className:"p-2 hover:bg-white rounded-full text-slate-400 hover:text-slate-600 transition-all",children:i.jsx(mr,{className:"w-5 h-5"})})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar",children:i.jsxs("div",{className:"space-y-4",children:[U.categories.map((pe,ae)=>i.jsxs("div",{className:"p-4 border-2 border-slate-200 rounded-xl",children:[i.jsx("h4",{className:"font-black text-slate-900 mb-3",children:pe.categoryName}),i.jsxs("div",{className:"grid grid-cols-5 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1 block",children:"Yearly"}),i.jsx("input",{type:"number",value:pe.yearlyBudget||"",onChange:ye=>{const Be=[...U.categories];Be[ae].yearlyBudget=parseFloat(ye.target.value)||0,W($e=>({...$e,categories:Be}))},className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm font-bold outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"0"})]}),["q1Budget","q2Budget","q3Budget","q4Budget"].map((ye,Be)=>i.jsxs("div",{children:[i.jsxs("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1 block",children:["Q",Be+1]}),i.jsx("input",{type:"number",value:pe[ye]||"",onChange:$e=>{const rt=[...U.categories];rt[ae][ye]=parseFloat($e.target.value)||0,W(ft=>({...ft,categories:rt}))},className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm font-bold outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"0"})]},ye))]})]},pe.categoryId)),i.jsx("div",{className:"p-4 bg-indigo-50 border-2 border-indigo-200 rounded-xl",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm font-black text-indigo-900 uppercase tracking-widest",children:"Total Budget"}),i.jsx("span",{className:"text-2xl font-black text-indigo-600",children:_e(U.categories.reduce((pe,ae)=>pe+ae.yearlyBudget,0))})]})})]})}),i.jsxs("div",{className:"p-6 border-t border-slate-100 bg-slate-50 flex gap-3",children:[i.jsxs("button",{onClick:()=>te(M),disabled:E,className:"px-6 py-3 border-2 border-red-200 text-red-600 font-black uppercase text-xs tracking-widest rounded-xl hover:bg-red-50 transition-all disabled:opacity-50 flex items-center gap-2",children:[i.jsx(Ir,{className:"w-4 h-4"})," Delete"]}),i.jsx("button",{onClick:()=>{O(!1),F(null)},disabled:E,className:"flex-1 py-3 border border-slate-200 text-slate-600 font-black uppercase text-xs tracking-widest rounded-xl hover:bg-white transition-all disabled:opacity-50",children:"Cancel"}),i.jsx("button",{onClick:oe,disabled:E,className:"flex-1 py-3 bg-indigo-600 text-white font-black uppercase text-xs tracking-widest rounded-xl hover:bg-indigo-700 transition-all shadow-lg disabled:opacity-50 flex items-center justify-center gap-2",children:E?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(ro,{className:"w-4 h-4"}),"Save Changes"]})})]})]})})]}),Q&&i.jsxs("div",{className:"fixed inset-0 z-[130] overflow-hidden pointer-events-none",children:[i.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md pointer-events-auto animate-in fade-in duration-300",onClick:()=>te(null)}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4 pointer-events-none",children:i.jsxs("div",{className:"bg-white rounded-[28px] shadow-2xl max-w-md w-full pointer-events-auto animate-in zoom-in-95 duration-300 overflow-hidden",children:[i.jsxs("div",{className:"p-8 text-center",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-red-100 flex items-center justify-center text-red-600 mx-auto mb-6",children:i.jsx(Kd,{className:"w-8 h-8"})}),i.jsx("h2",{className:"text-2xl font-black text-slate-900 mb-3",children:"Delete Budget?"}),i.jsxs("p",{className:"text-sm text-slate-600 mb-6",children:["Are you sure you want to delete the budget for ",Q.year,Q.department&&` - ${Q.department}`,"? This action cannot be undone."]})]}),i.jsxs("div",{className:"p-6 flex gap-3 bg-slate-50 border-t border-slate-100",children:[i.jsx("button",{onClick:()=>te(null),disabled:I,className:"flex-1 py-3 border border-slate-200 text-slate-600 font-black uppercase text-xs tracking-widest rounded-xl hover:bg-white transition-all disabled:opacity-50",children:"Cancel"}),i.jsx("button",{onClick:()=>ue(Q),disabled:I,className:"flex-1 py-3 bg-red-600 text-white font-black uppercase text-xs tracking-widest rounded-xl hover:bg-red-700 transition-all shadow-lg disabled:opacity-50 flex items-center justify-center gap-2",children:I?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Ir,{className:"w-4 h-4"}),"Delete Budget"]})})]})]})})]}),J&&i.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"p-6 border-b border-slate-200 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-black text-slate-900",children:"Manage Categories"}),i.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"View and add budget/expense categories"})]}),i.jsx("button",{onClick:()=>{ie(!1),Z("")},className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:i.jsx(mr,{className:"w-5 h-5 text-slate-400"})})]}),i.jsx("div",{className:"p-6 max-h-[400px] overflow-y-auto",children:i.jsx("div",{className:"space-y-2",children:l.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Da,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),i.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"No categories yet"}),i.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Add your first category below"})]}):l.map(pe=>i.jsxs("div",{className:"px-4 py-3 rounded-xl bg-slate-50 border-2 border-slate-100 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-indigo-100 flex items-center justify-center",children:i.jsx(Da,{className:"w-4 h-4 text-indigo-600"})}),i.jsx("span",{className:"font-bold text-sm text-slate-900",children:pe.name})]}),i.jsx(wn,{className:"w-5 h-5 text-emerald-600"})]},pe.id))})}),i.jsxs("div",{className:"p-6 border-t border-slate-200 space-y-3",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"text",placeholder:"New category name...",value:X,onChange:pe=>Z(pe.target.value),onKeyDown:pe=>{pe.key==="Enter"&&X.trim()&&!q&&(pe.preventDefault(),De())},className:"flex-1 px-4 py-2 border border-slate-200 rounded-xl text-sm font-bold outline-none focus:ring-4 focus:ring-indigo-50"}),i.jsx("button",{type:"button",onClick:De,disabled:!X.trim()||q,className:"px-6 py-2 bg-indigo-600 text-white rounded-xl font-bold text-sm hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:q?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),"Adding..."]}):i.jsxs(i.Fragment,{children:[i.jsx(kn,{className:"w-4 h-4"}),"Add"]})})]}),i.jsx("p",{className:"text-[10px] text-slate-400 font-medium",children:"Categories are shared across budgets and expenses"})]})]})})]})},nI=["Draft","Pending Signature","Signed","Expired","Terminated"],kxe=({currentUser:e})=>{const{showSuccess:t,showError:r}=oi(),[n,a]=V.useState([]),[s,o]=V.useState([]),[l,c]=V.useState([]),[u,d]=V.useState([]),[h,m]=V.useState(null),[p,y]=V.useState(!0),[v,g]=V.useState(!1),[b,w]=V.useState(!1),[j,N]=V.useState(""),[S,P]=V.useState(""),[A,O]=V.useState(""),[M,F]=V.useState(!1),[E,T]=V.useState(!1),[I,z]=V.useState(!1),[Q,te]=V.useState(!1),J=V.useRef(null),[ie,X]=V.useState(!1),[Z,q]=V.useState(!1),[C,U]=V.useState(!1),[W,B]=V.useState(!1),[K,re]=V.useState(!1),[fe,ce]=V.useState(""),[he,Oe]=V.useState(!1),[ee,De]=V.useState({title:"",documentType:"",contractParty:"",companyId:"",contactId:"",expirationDate:"",renewalDate:"",signedDate:"",status:"Draft",description:"",tags:[],requiresSignature:!1,file:null,fileUrl:"",fileName:"",fileMimeType:"",fileSize:0,isGoogleDriveLinked:!1,googleDriveFileId:"",googleDriveWebViewLink:"",googleDriveDownloadLink:"",googleDriveIconUrl:""}),je=e?.id||JSON.parse(localStorage.getItem("user_data")||"{}").id,oe=V.useCallback(async()=>{y(!0);try{if(!je){a([]),y(!1);return}const[Re,vt,nt,Rt]=await Promise.all([xre({userId:je}),Gu(),_x(),wre()]);a(Re?.data||[]),o(vt?.data||[]),c(nt?.data||[]),d(Rt?.data||[])}catch(Re){r(Re.message||"Failed to load contracts")}finally{y(!1)}},[je,r]);V.useEffect(()=>{oe()},[oe]),V.useEffect(()=>{(async()=>{if(je)try{await cP({userId:je}),U(!0)}catch{U(!1)}})()},[je]);const ue=async()=>{if(!je){r("User not authenticated");return}B(!0);try{let Re;try{Re=await cP({userId:je})}catch(ar){throw ar.message?.includes("Failed to fetch")||ar.message?.includes("ERR_CONNECTION_REFUSED")||ar.message?.includes("NetworkError")?new Error("Backend server is not running. Please start the server and try again."):ar}const{accessToken:vt,apiKey:nt}=Re?.data||{};if(!vt)throw new Error("Failed to get Google Drive access token. Please ensure your Google account is connected in Settings.");console.log("Google Picker - Access Token:",vt?"Present":"Missing"),console.log("Google Picker - API Key:",nt?`Present (${nt.substring(0,10)}...)`:"Not using (optional with OAuth)"),console.log("Full token response:",Re?.data),await new Promise((ar,$t)=>{let Pr=0;const Kt=50,Er=setInterval(()=>{Pr++,window.google&&window.google.picker?(clearInterval(Er),ar()):Pr>=Kt&&(clearInterval(Er),$t(new Error("Google Picker API not loaded. Please refresh the page.")))},100)});const Rt=window.google.picker;new Rt.PickerBuilder().setOAuthToken(vt).setCallback(ar=>{B(!1);try{if(console.log("Google Picker Callback - Full response data:",JSON.stringify(ar,null,2)),console.log("Google Picker Response Action:",ar[Rt.Response.ACTION]),console.log("Google Picker Action Constants:",{PICKED:Rt.Action.PICKED,CANCEL:Rt.Action.CANCEL}),ar[Rt.Response.ACTION]===Rt.Action.PICKED){const $t=ar[Rt.Response.DOCUMENTS];if(console.log("Google Picker - Documents array:",$t),console.log("Google Picker - Number of documents:",$t?.length),$t&&$t.length>0){const Pr=$t[0];console.log("Google Picker - Selected file data:",JSON.stringify(Pr,null,2)),console.log("Google Picker - File ID:",Pr.id),console.log("Google Picker - File Name:",Pr.name),console.log("Google Picker - File MIME Type:",Pr.mimeType),console.log("Google Picker - File URL:",Pr.url),console.log("Google Picker - File Service ID:",Pr.serviceId),_e(Pr)}else console.error("Google Picker - No documents in response"),r("No file selected")}else if(ar[Rt.Response.ACTION]!==Rt.Action.CANCEL){const $t=ar[Rt.Response.ERROR];$t&&(console.error("Google Picker Error:",$t),console.error("Error details:",JSON.stringify(ar,null,2)),$t===Rt.ResponseError.ACCESS_DENIED?r("Access denied. Please reconnect your Google account in Settings."):$t===Rt.ResponseError.INVALID_CREDENTIALS?r("Invalid credentials. Please reconnect your Google account."):$t===Rt.ResponseError.INVALID_DEVELOPER_KEY?r("Google Picker configuration error. Please try again."):r(`Google Picker error: ${$t}. Check browser console for details.`))}}catch($t){console.error("Error handling picker callback:",$t),r("Failed to process selected file")}}).addView(Rt.ViewId.DOCS).enableFeature(Rt.Feature.NAV_HIDDEN).setSize(1051,650).build().setVisible(!0)}catch(Re){B(!1),console.error("Google Drive Picker Error:",Re),Re.message?.includes("Backend server is not running")?r("Backend server is not running. Please start the server on port 8050 and try again."):Re.message?.includes("not connected")||Re.message?.includes("GOOGLE_NOT_CONNECTED")?r("Google Drive not connected. Please connect your Google account in Settings."):Re.message?.includes("Failed to fetch")||Re.message?.includes("ERR_CONNECTION_REFUSED")?r("Cannot connect to server. Please ensure the backend server is running on port 8050."):r(Re.message||"Failed to open Google Drive picker. Please check your connection and try again.")}},_e=async Re=>{if(je){console.log("handleGoogleDriveFileSelected called with file:",JSON.stringify(Re,null,2)),console.log("File data from Google Picker:",{id:Re.id,name:Re.name,url:Re.url,iconUrl:Re.iconUrl,mimeType:Re.mimeType,serviceId:Re.serviceId,type:Re.type,sizeBytes:Re.sizeBytes});try{const vt=Re.url||Re.embedUrl||"",nt=Re.iconUrl||"",Rt=Re.sizeBytes?parseInt(Re.sizeBytes):0;console.log("Storing file data:",{googleDriveFileId:Re.id,publicUrl:vt,iconUrl:nt,fileName:Re.name,fileMimeType:Re.mimeType}),De(er=>({...er,isGoogleDriveLinked:!0,googleDriveFileId:Re.id,googleDriveWebViewLink:vt,googleDriveDownloadLink:vt,googleDriveIconUrl:nt,fileName:Re.name||"Untitled",fileMimeType:Re.mimeType||"",fileSize:Rt,fileUrl:vt,file:null})),t("File attached from Google Drive")}catch(vt){console.error("Error handling Google Drive file selection:",vt),r(vt.message||"Failed to attach file from Google Drive")}}},Se=async()=>{if(fe.trim()){Oe(!0);try{const Re=await Nre({name:fe.trim()});if(Re?.data){const vt=Re.data;d(nt=>[...nt,vt]),ce(""),t("Document type added successfully")}}catch(Re){Re.message?.includes("already exists")||Re.message?.includes("TYPE_EXISTS")?r("Document type with this name already exists"):r(Re.message||"Failed to add document type")}finally{Oe(!1)}}},Pe=Re=>{const vt=Re.target.files?.[0];if(!vt)return;if(vt.size>10*1024*1024){r("File size must be less than 10MB");return}te(!0);const nt=new FileReader;nt.onload=()=>{const Rt=nt.result;De(er=>({...er,file:vt,fileUrl:Rt,fileName:vt.name,fileMimeType:vt.type,fileSize:vt.size})),te(!1)},nt.onerror=()=>{r("Failed to read file"),te(!1)},nt.readAsDataURL(vt)},pe=async()=>{if(!ee.fileUrl||!je){r("Please select a file first");return}X(!0);try{const Re=await jre({fileName:ee.fileName,fileContent:ee.fileUrl,fileMimeType:ee.fileMimeType,userId:je});De(vt=>({...vt,isGoogleDriveLinked:!0,googleDriveFileId:Re.data.id,googleDriveWebViewLink:Re.data.webViewLink,googleDriveDownloadLink:Re.data.webContentLink})),t("File uploaded to Google Drive successfully")}catch(Re){r(Re.message||"Failed to upload to Google Drive")}finally{X(!1)}},ae=async(Re,vt)=>{q(!0);try{const nt=await kre({contractId:Re,userId:je,title:vt});t("Signature document created in Google Docs"),oe(),window.open(nt.data.documentLink,"_blank")}catch(nt){r(nt.message||"Failed to create signature document")}finally{q(!1)}},ye=async()=>{if(!ee.title||!ee.documentType||!ee.contractParty){r("Please fill in all required fields");return}z(!0);try{await gre({title:ee.title,documentType:ee.documentType,contractParty:ee.contractParty,companyId:ee.companyId||null,contactId:ee.contactId||null,expirationDate:ee.expirationDate||null,renewalDate:ee.renewalDate||null,signedDate:ee.signedDate||null,status:ee.status,description:ee.description||null,tags:ee.tags,requiresSignature:ee.requiresSignature,signatureStatus:ee.requiresSignature?"Pending":"Not Required",fileUrl:ee.fileUrl||null,fileName:ee.fileName||null,fileMimeType:ee.fileMimeType||null,fileSize:ee.fileSize||null,isGoogleDriveLinked:ee.isGoogleDriveLinked,googleDriveFileId:ee.googleDriveFileId||null,googleDriveWebViewLink:ee.googleDriveWebViewLink||null,googleDriveDownloadLink:ee.googleDriveDownloadLink||null,googleDriveIconUrl:ee.googleDriveIconUrl||null,userId:je}),t("Contract created successfully"),F(!1),ft(),oe()}catch(Re){r(Re.message||"Failed to create contract")}finally{z(!1)}},Be=async()=>{if(h){z(!0);try{await vre(h.id,{title:ee.title,documentType:ee.documentType,contractParty:ee.contractParty,companyId:ee.companyId||null,contactId:ee.contactId||null,expirationDate:ee.expirationDate||null,renewalDate:ee.renewalDate||null,signedDate:ee.signedDate||null,status:ee.status,description:ee.description||null,tags:ee.tags,requiresSignature:ee.requiresSignature,fileUrl:ee.fileUrl||null,fileName:ee.fileName||null,fileMimeType:ee.fileMimeType||null,fileSize:ee.fileSize||null,isGoogleDriveLinked:ee.isGoogleDriveLinked,googleDriveFileId:ee.googleDriveFileId||null,googleDriveWebViewLink:ee.googleDriveWebViewLink||null,googleDriveDownloadLink:ee.googleDriveDownloadLink||null,googleDriveIconUrl:ee.googleDriveIconUrl||null}),t("Contract updated successfully"),T(!1),m(null),ft(),oe()}catch(Re){r(Re.message||"Failed to update contract")}finally{z(!1)}}},$e=async()=>{if(h){g(!0);try{await yre(h.id),t("Contract deleted successfully"),w(!1),m(null),oe()}catch(Re){r(Re.message||"Failed to delete contract")}finally{g(!1)}}},rt=async Re=>{try{await bre(Re.id,{signedBy:je,signedDate:new Date().toISOString()}),t("Contract marked as signed"),oe()}catch(vt){r(vt.message||"Failed to mark contract as signed")}},ft=()=>{De({title:"",documentType:"",contractParty:"",companyId:"",contactId:"",expirationDate:"",renewalDate:"",signedDate:"",status:"Draft",description:"",tags:[],requiresSignature:!1,file:null,fileUrl:"",fileName:"",fileMimeType:"",fileSize:0,isGoogleDriveLinked:!1,googleDriveFileId:"",googleDriveWebViewLink:"",googleDriveDownloadLink:"",googleDriveIconUrl:""}),J.current&&(J.current.value="")},Nt=Re=>{m(Re),De({title:Re.title,documentType:Re.documentType,contractParty:Re.contractParty,companyId:Re.companyId||"",contactId:Re.contactId||"",expirationDate:Re.expirationDate||"",renewalDate:Re.renewalDate||"",signedDate:Re.signedDate||"",status:Re.status,description:Re.description||"",tags:Re.tags||[],requiresSignature:Re.requiresSignature,file:null,fileUrl:Re.fileUrl||"",fileName:Re.fileName||"",fileMimeType:Re.fileMimeType||"",fileSize:Re.fileSize||0,isGoogleDriveLinked:Re.isGoogleDriveLinked,googleDriveFileId:Re.googleDriveFileId||"",googleDriveWebViewLink:Re.googleDriveWebViewLink||"",googleDriveDownloadLink:Re.googleDriveDownloadLink||"",googleDriveIconUrl:Re.googleDriveIconUrl||""}),T(!0)},Ue=Re=>{switch(Re){case"Signed":return"bg-emerald-50 text-emerald-600 border-emerald-200";case"Pending Signature":return"bg-amber-50 text-amber-600 border-amber-200";case"Draft":return"bg-slate-50 text-slate-600 border-slate-200";case"Expired":return"bg-red-50 text-red-600 border-red-200";case"Terminated":return"bg-gray-50 text-gray-600 border-gray-200";default:return"bg-slate-50 text-slate-600 border-slate-200"}},dt=Re=>{switch(Re){case"Signed":return i.jsx(wn,{className:"w-4 h-4"});case"Pending Signature":return i.jsx(zi,{className:"w-4 h-4"});case"Draft":return i.jsx(Wa,{className:"w-4 h-4"});case"Expired":return i.jsx(Yn,{className:"w-4 h-4"});case"Terminated":return i.jsx(mr,{className:"w-4 h-4"});default:return i.jsx(Wa,{className:"w-4 h-4"})}},st=n.filter(Re=>{const vt=Re.title.toLowerCase().includes(j.toLowerCase())||Re.contractParty.toLowerCase().includes(j.toLowerCase())||Re.documentType.toLowerCase().includes(j.toLowerCase()),nt=!S||Re.status===S,Rt=!A||Re.documentType===A;return vt&&nt&&Rt}),it={total:n.length,signed:n.filter(Re=>Re.status==="Signed").length,pending:n.filter(Re=>Re.status==="Pending Signature").length,expired:n.filter(Re=>Re.status==="Expired").length};return i.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-10",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Contracts & Legal Documents"}),i.jsx("p",{className:"text-slate-500 text-sm font-medium mt-1",children:"Manage contracts with e-signature and Google Drive integration"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("button",{onClick:()=>re(!0),className:"px-4 py-2 bg-white text-indigo-600 text-sm font-bold rounded-xl flex items-center gap-2 hover:bg-indigo-50 border-2 border-indigo-200 transition-all active:scale-95",children:[i.jsx(Da,{className:"w-4 h-4"})," Manage Document Types"]}),i.jsxs("button",{onClick:()=>{ft(),F(!0)},className:"px-4 py-2 bg-indigo-600 text-white text-sm font-bold rounded-xl flex items-center gap-2 hover:bg-indigo-700 shadow-lg transition-all active:scale-95",children:[i.jsx(kn,{className:"w-4 h-4"})," Add Contract"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(Wa,{className:"w-5 h-5 text-indigo-600"}),i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Total"})]}),i.jsx("h3",{className:"text-2xl font-black text-slate-900",children:it.total})]}),i.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(wn,{className:"w-5 h-5 text-emerald-600"}),i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Signed"})]}),i.jsx("h3",{className:"text-2xl font-black text-emerald-600",children:it.signed})]}),i.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(zi,{className:"w-5 h-5 text-amber-600"}),i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Pending"})]}),i.jsx("h3",{className:"text-2xl font-black text-amber-600",children:it.pending})]}),i.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(Yn,{className:"w-5 h-5 text-red-600"}),i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Expired"})]}),i.jsx("h3",{className:"text-2xl font-black text-red-600",children:it.expired})]})]}),i.jsx("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(zu,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),i.jsx("input",{type:"text",value:j,onChange:Re=>N(Re.target.value),placeholder:"Search contracts...",className:"w-full pl-11 pr-4 py-3 border border-slate-200 rounded-xl text-sm font-medium outline-none focus:ring-2 focus:ring-indigo-500"})]}),i.jsxs("select",{value:S,onChange:Re=>P(Re.target.value),className:"px-4 py-3 border border-slate-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-2 focus:ring-indigo-500",children:[i.jsx("option",{value:"",children:"All Statuses"}),nI.map(Re=>i.jsx("option",{value:Re,children:Re},Re))]}),i.jsxs("select",{value:A,onChange:Re=>O(Re.target.value),className:"px-4 py-3 border border-slate-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-2 focus:ring-indigo-500",children:[i.jsx("option",{value:"",children:"All Types"}),u.map(Re=>i.jsx("option",{value:Re.name,children:Re.name},Re.id))]})]})}),p?i.jsx("div",{className:"flex items-center justify-center py-20",children:i.jsx(Ot,{className:"w-8 h-8 text-indigo-600 animate-spin"})}):st.length===0?i.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-2xl p-12 text-center",children:[i.jsx(Wa,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"No contracts found"}),i.jsx("p",{className:"text-sm text-slate-500 mb-6",children:j||S||A?"Try adjusting your filters":"Create your first contract to get started"}),!j&&!S&&!A&&i.jsxs("button",{onClick:()=>{ft(),F(!0)},className:"px-6 py-3 bg-indigo-600 text-white font-bold text-sm uppercase tracking-widest rounded-xl hover:bg-indigo-700 shadow-lg transition-all flex items-center gap-2 mx-auto",children:[i.jsx(kn,{className:"w-4 h-4"})," Add Contract"]})]}):i.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:i.jsx("div",{className:"divide-y divide-slate-100",children:st.map(Re=>i.jsx("div",{className:"p-6 hover:bg-slate-50 transition-colors cursor-pointer",onClick:()=>m(Re),children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("h3",{className:"text-base font-black text-slate-900",children:Re.title}),i.jsxs("span",{className:`px-2 py-1 text-xs font-black uppercase rounded-lg border ${Ue(Re.status)} flex items-center gap-1`,children:[dt(Re.status),Re.status]}),Re.isGoogleDriveLinked&&i.jsxs("span",{className:"px-2 py-1 bg-blue-50 text-blue-600 text-xs font-black uppercase rounded-lg border border-blue-200 flex items-center gap-1",children:[Re.googleDriveIconUrl?i.jsx("img",{src:Re.googleDriveIconUrl,alt:"File type",className:"w-3 h-3",onError:vt=>{vt.target.style.display="none"}}):i.jsx(Pp,{className:"w-3 h-3"}),"Drive"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 mt-3",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[i.jsx(Da,{className:"w-4 h-4 text-slate-400"}),i.jsx("span",{className:"font-medium",children:Re.documentType})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[i.jsx(pl,{className:"w-4 h-4 text-slate-400"}),i.jsx("span",{className:"font-medium",children:Re.contractParty})]}),Re.expirationDate&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[i.jsx(La,{className:"w-4 h-4 text-slate-400"}),i.jsxs("span",{className:"font-medium",children:["Expires: ",new Date(Re.expirationDate).toLocaleDateString()]})]}),Re.requiresSignature&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-600",children:[i.jsx(tv,{className:"w-4 h-4"}),i.jsx("span",{className:"font-bold",children:Re.signatureStatus})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[Re.googleDriveWebViewLink&&i.jsx("a",{href:Re.googleDriveWebViewLink,target:"_blank",rel:"noopener noreferrer",onClick:vt=>vt.stopPropagation(),className:"p-2 hover:bg-blue-50 rounded-lg text-blue-600 transition-all",title:"View in Google Drive",children:i.jsx(ic,{className:"w-4 h-4"})}),i.jsx("button",{onClick:vt=>{vt.stopPropagation(),Nt(Re)},className:"p-2 hover:bg-indigo-50 rounded-lg text-indigo-600 transition-all",children:i.jsx(xl,{className:"w-4 h-4"})}),i.jsx("button",{onClick:vt=>{vt.stopPropagation(),m(Re),w(!0)},className:"p-2 hover:bg-red-50 rounded-lg text-red-600 transition-all",children:i.jsx(Ir,{className:"w-4 h-4"})})]})]})},Re.id))})}),(M||E)&&i.jsxs("div",{className:"fixed inset-0 z-[120] overflow-hidden pointer-events-none",children:[i.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md pointer-events-auto animate-in fade-in duration-300",onClick:()=>{F(!1),T(!1),ft()}}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4 pointer-events-none",children:i.jsxs("div",{className:"bg-white rounded-[32px] shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden pointer-events-auto animate-in zoom-in-95 duration-300 flex flex-col",children:[i.jsx("div",{className:"p-8 border-b border-slate-100 bg-gradient-to-r from-indigo-50 to-purple-50",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-14 h-14 rounded-2xl bg-indigo-600 flex items-center justify-center text-white shadow-lg",children:i.jsx(Wa,{className:"w-7 h-7"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-black text-slate-900",children:M?"Add Contract":"Edit Contract"}),i.jsx("p",{className:"text-sm text-slate-500 font-medium mt-0.5",children:M?"Create a new contract with metadata and documents":"Update contract details"})]})]}),i.jsx("button",{onClick:()=>{F(!1),T(!1),ft()},className:"p-2 hover:bg-white rounded-full text-slate-400 hover:text-slate-600 transition-all",children:i.jsx(mr,{className:"w-5 h-5"})})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsxs("div",{className:"col-span-2",children:[i.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:["Contract Title ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:ee.title,onChange:Re=>De(vt=>({...vt,title:Re.target.value})),className:"w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100 focus:border-indigo-300",placeholder:"e.g., Service Agreement with Acme Corp"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:["Document Type ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{value:ee.documentType,onChange:Re=>De(vt=>({...vt,documentType:Re.target.value})),className:"w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100 focus:border-indigo-300",children:[i.jsx("option",{value:"",children:"Select type"}),u.map(Re=>i.jsx("option",{value:Re.name,children:Re.name},Re.id))]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:["Contract Party ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:ee.contractParty,onChange:Re=>De(vt=>({...vt,contractParty:Re.target.value})),className:"w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100 focus:border-indigo-300",placeholder:"Other party name"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Link to Company"}),i.jsxs("select",{value:ee.companyId,onChange:Re=>De(vt=>({...vt,companyId:Re.target.value})),className:"w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100 focus:border-indigo-300",children:[i.jsx("option",{value:"",children:"None"}),s.map(Re=>i.jsx("option",{value:Re.id,children:Re.name},Re.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Link to Contact"}),i.jsxs("select",{value:ee.contactId,onChange:Re=>De(vt=>({...vt,contactId:Re.target.value})),className:"w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100 focus:border-indigo-300",children:[i.jsx("option",{value:"",children:"None"}),l.map(Re=>i.jsx("option",{value:Re.id,children:Re.name},Re.id))]})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Expiration Date"}),i.jsx("input",{type:"date",value:ee.expirationDate,onChange:Re=>De(vt=>({...vt,expirationDate:Re.target.value})),className:"w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100 focus:border-indigo-300"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Renewal Date"}),i.jsx("input",{type:"date",value:ee.renewalDate,onChange:Re=>De(vt=>({...vt,renewalDate:Re.target.value})),className:"w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100 focus:border-indigo-300"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Signed Date"}),i.jsx("input",{type:"date",value:ee.signedDate,onChange:Re=>De(vt=>({...vt,signedDate:Re.target.value})),className:"w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100 focus:border-indigo-300"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Status"}),i.jsx("select",{value:ee.status,onChange:Re=>De(vt=>({...vt,status:Re.target.value})),className:"w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100 focus:border-indigo-300",children:nI.map(Re=>i.jsx("option",{value:Re,children:Re},Re))})]}),i.jsx("div",{className:"flex items-end",children:i.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:ee.requiresSignature,onChange:Re=>De(vt=>({...vt,requiresSignature:Re.target.checked})),className:"w-5 h-5 rounded border-2 border-slate-300 text-indigo-600 focus:ring-2 focus:ring-indigo-500"}),i.jsx("span",{className:"text-sm font-bold text-slate-900",children:"Requires E-Signature"})]})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Description"}),i.jsx("textarea",{value:ee.description,onChange:Re=>De(vt=>({...vt,description:Re.target.value})),rows:3,className:"w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-sm font-medium text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100 focus:border-indigo-300 resize-none",placeholder:"Add notes or description..."})]}),(M||E)&&i.jsxs("div",{className:"border-2 border-dashed border-slate-200 rounded-xl p-6",children:[i.jsxs("h3",{className:"text-sm font-black text-slate-900 mb-4 flex items-center gap-2",children:[i.jsx(hc,{className:"w-4 h-4 text-indigo-600"})," Document Upload"]}),i.jsx("input",{ref:J,type:"file",onChange:Pe,className:"hidden",accept:".pdf,.doc,.docx,.txt"}),!ee.fileUrl&&!ee.isGoogleDriveLinked?i.jsxs("div",{className:"space-y-3",children:[i.jsx("button",{onClick:()=>J.current?.click(),disabled:Q,className:"w-full py-4 border-2 border-slate-200 rounded-xl hover:border-indigo-300 hover:bg-indigo-50 transition-all flex items-center justify-center gap-2 text-sm font-bold text-slate-600",children:Q?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),"Processing..."]}):i.jsxs(i.Fragment,{children:[i.jsx(hc,{className:"w-4 h-4"}),"Choose File"]})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"flex-1 h-px bg-slate-200"}),i.jsx("span",{className:"text-xs text-slate-400 font-bold uppercase",children:"OR"}),i.jsx("div",{className:"flex-1 h-px bg-slate-200"})]}),i.jsx("button",{onClick:ue,disabled:!C||W,className:"w-full py-4 border-2 border-slate-200 rounded-xl hover:border-indigo-300 hover:bg-indigo-50 transition-all flex items-center justify-center gap-2 text-sm font-bold text-slate-600 disabled:opacity-50 disabled:cursor-not-allowed",children:W?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),"Opening Google Drive..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Pp,{className:"w-4 h-4"}),"Attach from Google Drive"]})})]}):i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[ee.isGoogleDriveLinked&&ee.googleDriveIconUrl?i.jsx("img",{src:ee.googleDriveIconUrl,alt:"File type icon",className:"w-5 h-5",onError:Re=>{Re.target.style.display="none";const vt=document.createElement("div");vt.innerHTML='<svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path></svg>',Re.target.parentNode?.appendChild(vt)}}):ee.isGoogleDriveLinked?i.jsx(Pp,{className:"w-5 h-5 text-blue-600"}):i.jsx(bR,{className:"w-5 h-5 text-emerald-600"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-bold text-slate-900",children:ee.fileName}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[ee.fileSize>0&&i.jsxs("p",{className:"text-xs text-slate-500",children:[(ee.fileSize/1024).toFixed(1)," KB"]}),ee.isGoogleDriveLinked&&i.jsxs(i.Fragment,{children:[ee.fileSize>0&&i.jsx("span",{className:"text-slate-300",children:""}),i.jsx("span",{className:"text-xs text-blue-600 font-bold",children:"Google Drive"})]})]})]})]}),i.jsx("button",{onClick:()=>{De(Re=>({...Re,file:null,fileUrl:"",fileName:"",fileMimeType:"",fileSize:0,isGoogleDriveLinked:!1,googleDriveFileId:"",googleDriveWebViewLink:"",googleDriveDownloadLink:"",googleDriveIconUrl:""})),J.current&&(J.current.value="")},className:"p-2 hover:bg-red-50 rounded-lg text-red-600 transition-all",children:i.jsx(mr,{className:"w-4 h-4"})})]}),!ee.isGoogleDriveLinked&&ee.fileUrl&&i.jsx("button",{onClick:pe,disabled:ie,className:"w-full py-3 bg-blue-600 text-white font-bold text-sm rounded-xl hover:bg-blue-700 transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:ie?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),"Uploading to Drive..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Pp,{className:"w-4 h-4"}),"Upload to Google Drive"]})}),ee.isGoogleDriveLinked&&ee.googleDriveWebViewLink&&i.jsxs("a",{href:ee.googleDriveWebViewLink,target:"_blank",rel:"noopener noreferrer",className:"block w-full py-3 bg-blue-50 border-2 border-blue-200 rounded-xl hover:bg-blue-100 transition-all flex items-center justify-center gap-2 text-sm font-bold text-blue-900",children:[ee.googleDriveIconUrl?i.jsx("img",{src:ee.googleDriveIconUrl,alt:"File type",className:"w-4 h-4",onError:Re=>{Re.target.style.display="none"}}):i.jsx(ic,{className:"w-4 h-4"}),"View in Google Drive"]})]})]})]})}),i.jsxs("div",{className:"p-6 border-t border-slate-100 bg-slate-50 flex gap-3",children:[i.jsx("button",{onClick:()=>{F(!1),T(!1),ft()},disabled:I,className:"flex-1 py-3 border border-slate-200 text-slate-600 font-black uppercase text-xs tracking-widest rounded-xl hover:bg-white transition-all disabled:opacity-50",children:"Cancel"}),i.jsx("button",{onClick:M?ye:Be,disabled:I,className:"flex-1 py-3 bg-indigo-600 text-white font-black uppercase text-xs tracking-widest rounded-xl hover:bg-indigo-700 transition-all shadow-lg disabled:opacity-50 flex items-center justify-center gap-2",children:I?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),M?"Creating...":"Updating..."]}):i.jsx(i.Fragment,{children:M?"Create Contract":"Update Contract"})})]})]})})]}),h&&!E&&!b&&i.jsxs("div",{className:"fixed inset-0 z-[120] overflow-hidden pointer-events-none",children:[i.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md pointer-events-auto animate-in fade-in duration-300",onClick:()=>m(null)}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4 pointer-events-none",children:i.jsxs("div",{className:"bg-white rounded-[32px] shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-hidden pointer-events-auto animate-in zoom-in-95 duration-300 flex flex-col",children:[i.jsx("div",{className:"p-8 border-b border-slate-100 bg-gradient-to-r from-indigo-50 to-purple-50",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("h2",{className:"text-2xl font-black text-slate-900",children:h.title}),i.jsxs("span",{className:`px-3 py-1 text-xs font-black uppercase rounded-lg border ${Ue(h.status)} flex items-center gap-1`,children:[dt(h.status),h.status]})]}),i.jsxs("p",{className:"text-sm text-slate-500 font-medium",children:[h.documentType," - ",h.contractParty]})]}),i.jsx("button",{onClick:()=>m(null),className:"p-2 hover:bg-white rounded-full text-slate-400 hover:text-slate-600 transition-all",children:i.jsx(mr,{className:"w-5 h-5"})})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[h.expirationDate&&i.jsxs("div",{children:[i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Expiration"}),i.jsx("p",{className:"text-sm font-bold text-slate-900",children:new Date(h.expirationDate).toLocaleDateString()})]}),h.renewalDate&&i.jsxs("div",{children:[i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Renewal"}),i.jsx("p",{className:"text-sm font-bold text-slate-900",children:new Date(h.renewalDate).toLocaleDateString()})]}),h.signedDate&&i.jsxs("div",{children:[i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Signed"}),i.jsx("p",{className:"text-sm font-bold text-slate-900",children:new Date(h.signedDate).toLocaleDateString()})]})]}),h.description&&i.jsxs("div",{children:[i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Description"}),i.jsx("p",{className:"text-sm text-slate-600",children:h.description})]}),(h.fileUrl||h.isGoogleDriveLinked)&&i.jsxs("div",{children:[i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:"Documents"}),i.jsxs("div",{className:"space-y-2",children:[h.fileName&&i.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[h.isGoogleDriveLinked&&h.googleDriveIconUrl?i.jsx("img",{src:h.googleDriveIconUrl,alt:"File type",className:"w-5 h-5",onError:Re=>{Re.target.style.display="none"}}):i.jsx(Wa,{className:"w-5 h-5 text-indigo-600"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-bold text-slate-900",children:h.fileName}),h.fileSize&&i.jsxs("p",{className:"text-xs text-slate-500",children:[(h.fileSize/1024).toFixed(1)," KB"]})]})]}),h.fileUrl&&i.jsx("a",{href:h.fileUrl,download:h.fileName,className:"p-2 hover:bg-indigo-50 rounded-lg text-indigo-600 transition-all",children:i.jsx(gm,{className:"w-4 h-4"})})]}),h.isGoogleDriveLinked&&h.googleDriveWebViewLink&&i.jsx("a",{href:h.googleDriveWebViewLink,target:"_blank",rel:"noopener noreferrer",className:"block p-4 bg-blue-50 border-2 border-blue-200 rounded-xl hover:bg-blue-100 transition-all",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Pp,{className:"w-5 h-5 text-blue-600"}),i.jsx("span",{className:"text-sm font-bold text-blue-900",children:"View in Google Drive"})]}),i.jsx(ic,{className:"w-4 h-4 text-blue-600"})]})})]})]}),h.requiresSignature&&i.jsxs("div",{className:"border-2 border-amber-200 bg-amber-50 rounded-xl p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(tv,{className:"w-5 h-5 text-amber-600"}),i.jsx("h3",{className:"text-sm font-black text-amber-900",children:"E-Signature Required"})]}),i.jsxs("p",{className:"text-sm text-amber-800 mb-4",children:["Status: ",i.jsx("span",{className:"font-black",children:h.signatureStatus})]}),h.googleDocsSignatureLink?i.jsx("a",{href:h.googleDocsSignatureLink,target:"_blank",rel:"noopener noreferrer",className:"block py-3 bg-amber-600 text-white font-bold text-sm rounded-xl hover:bg-amber-700 transition-all text-center",children:"Open Signature Document"}):i.jsx("button",{onClick:()=>ae(h.id,h.title),disabled:Z,className:"w-full py-3 bg-amber-600 text-white font-bold text-sm rounded-xl hover:bg-amber-700 transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:Z?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),"Creating Document..."]}):i.jsxs(i.Fragment,{children:[i.jsx(tv,{className:"w-4 h-4"}),"Create Signature Document"]})}),h.status!=="Signed"&&i.jsxs("button",{onClick:()=>rt(h),className:"w-full mt-3 py-3 bg-emerald-600 text-white font-bold text-sm rounded-xl hover:bg-emerald-700 transition-all flex items-center justify-center gap-2",children:[i.jsx(wn,{className:"w-4 h-4"}),"Mark as Signed"]})]})]})}),i.jsxs("div",{className:"p-6 border-t border-slate-100 bg-slate-50 flex gap-3",children:[i.jsx("button",{onClick:()=>m(null),className:"flex-1 py-3 border border-slate-200 text-slate-600 font-black uppercase text-xs tracking-widest rounded-xl hover:bg-white transition-all",children:"Close"}),i.jsxs("button",{onClick:()=>{Nt(h)},className:"flex-1 py-3 bg-indigo-600 text-white font-black uppercase text-xs tracking-widest rounded-xl hover:bg-indigo-700 transition-all shadow-lg flex items-center justify-center gap-2",children:[i.jsx(xl,{className:"w-4 h-4"}),"Edit Contract"]})]})]})})]}),b&&h&&i.jsxs("div",{className:"fixed inset-0 z-[130] overflow-hidden pointer-events-none",children:[i.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md pointer-events-auto animate-in fade-in duration-300",onClick:()=>w(!1)}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4 pointer-events-none",children:i.jsxs("div",{className:"bg-white rounded-[28px] shadow-2xl max-w-md w-full pointer-events-auto animate-in zoom-in-95 duration-300 overflow-hidden",children:[i.jsxs("div",{className:"p-8 text-center",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-red-100 flex items-center justify-center text-red-600 mx-auto mb-6",children:i.jsx(Yn,{className:"w-8 h-8"})}),i.jsx("h2",{className:"text-2xl font-black text-slate-900 mb-3",children:"Delete Contract?"}),i.jsxs("p",{className:"text-sm text-slate-600 mb-2",children:["Are you sure you want to delete ",i.jsx("span",{className:"font-black",children:h.title}),"?"]}),i.jsx("p",{className:"text-sm text-slate-500",children:"This action cannot be undone."})]}),i.jsxs("div",{className:"p-6 flex gap-3 bg-slate-50 border-t border-slate-100",children:[i.jsx("button",{onClick:()=>w(!1),disabled:v,className:"flex-1 py-3 border border-slate-200 text-slate-600 font-black uppercase text-xs tracking-widest rounded-xl hover:bg-white transition-all disabled:opacity-50",children:"Cancel"}),i.jsx("button",{onClick:$e,disabled:v,className:"flex-1 py-3 bg-red-600 text-white font-black uppercase text-xs tracking-widest rounded-xl hover:bg-red-700 transition-all shadow-lg disabled:opacity-50 flex items-center justify-center gap-2",children:v?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Ir,{className:"w-4 h-4"}),"Delete Contract"]})})]})]})})]}),K&&i.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"p-6 border-b border-slate-200 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-black text-slate-900",children:"Manage Document Types"}),i.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"View and add contract document types"})]}),i.jsx("button",{onClick:()=>{re(!1),ce("")},className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:i.jsx(mr,{className:"w-5 h-5 text-slate-400"})})]}),i.jsx("div",{className:"p-6 max-h-[400px] overflow-y-auto",children:i.jsx("div",{className:"space-y-2",children:u.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Wa,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),i.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"No document types yet"}),i.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Add your first document type below"})]}):u.map(Re=>i.jsxs("div",{className:"px-4 py-3 rounded-xl bg-slate-50 border-2 border-slate-100 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-indigo-100 flex items-center justify-center",children:i.jsx(Wa,{className:"w-4 h-4 text-indigo-600"})}),i.jsx("span",{className:"font-bold text-sm text-slate-900",children:Re.name})]}),i.jsx(wn,{className:"w-5 h-5 text-emerald-600"})]},Re.id))})}),i.jsxs("div",{className:"p-6 border-t border-slate-200 space-y-3",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"text",placeholder:"New document type...",value:fe,onChange:Re=>ce(Re.target.value),onKeyDown:Re=>{Re.key==="Enter"&&fe.trim()&&!he&&(Re.preventDefault(),Se())},className:"flex-1 px-4 py-2 bg-white border border-slate-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-4 focus:ring-indigo-50"}),i.jsx("button",{type:"button",onClick:Se,disabled:!fe.trim()||he,className:"px-6 py-2 bg-indigo-600 text-white rounded-xl font-bold text-sm hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:he?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),"Adding..."]}):i.jsxs(i.Fragment,{children:[i.jsx(kn,{className:"w-4 h-4"}),"Add"]})})]}),i.jsx("p",{className:"text-[10px] text-slate-400 font-medium",children:"Document types help categorize your contracts and legal documents"})]})]})})]})},Sxe=({onLogin:e})=>{const[t,r]=V.useState("initial"),[n,a]=V.useState(""),[s,o]=V.useState(["","","","","",""]),[l,c]=V.useState(!1),[u,d]=V.useState(null),h=V.useRef([]),m=async()=>{if(!n||!n.includes("@")){d("Please enter a valid email address");return}c(!0),d(null);try{const w=await QO({email:n});if(w?.status===404)throw new Error(w.message);d(null),o(["","","","","",""]),r("verify")}catch(w){console.error("[AUTH UI] Error caught:",w),w.message&&(w.message.includes("Account not found")||w.status===404)?d("Account not found - contact your Administrator"):d(w.message||"Failed to send code. Please check your internet connection.")}finally{c(!1)}},p=async()=>{const w=s.join("");if(w.length===6){if(!/^\d{6}$/.test(w)){d("OTP must contain only numbers");return}c(!0),d(null);try{const j=await Bte({email:n,verificationCode:w});if(j.token&&j.user)e(j);else throw new Error("Invalid response from server.")}catch(j){console.error("[AUTH] Verification error:",j),j.message?.includes("User not registered")||j.message?.includes("USER_NOT_REGISTERED")||j.message?.includes("Account not found")?d("Account not found - contact your Administrator"):d(j.message||"Invalid or expired code."),o(["","","","","",""]),setTimeout(()=>h.current[0]?.focus(),100)}finally{c(!1)}}},y=(w,j)=>{if(j&&!/^\d$/.test(j))return;const N=[...s];N[w]=j,o(N),u&&d(null),j&&w<5&&h.current[w+1]?.focus(),j&&w===5&&N.every(S=>S!=="")&&setTimeout(()=>p(),100)},v=(w,j)=>{if(j.key==="Backspace"||j.key==="Delete"){j.preventDefault();const N=[...s];s[w]?N[w]="":w>0&&(N[w-1]="",h.current[w-1]?.focus()),o(N),u&&d(null)}else j.key==="Enter"?(j.preventDefault(),p()):j.key==="ArrowLeft"&&w>0?(j.preventDefault(),h.current[w-1]?.focus()):j.key==="ArrowRight"&&w<5&&(j.preventDefault(),h.current[w+1]?.focus())},g=w=>{w.preventDefault();const j=w.clipboardData.getData("text").replace(/\D/g,"").slice(0,6),N=[...s];for(let P=0;P<6;P++)N[P]=j[P]||"";o(N),u&&d(null);const S=N.findIndex(P=>P==="");h.current[S===-1?5:S]?.focus(),j.length===6&&setTimeout(()=>p(),100)};V.useEffect(()=>{t==="verify"?setTimeout(()=>h.current[0]?.focus(),100):o(["","","","","",""])},[t]);const b=w=>{w.preventDefault(),t==="initial"?m():p()};return i.jsxs("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center p-4 relative overflow-hidden",children:[i.jsxs("div",{className:"absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none",children:[i.jsx("div",{className:"absolute top-10 left-10 w-64 h-64 bg-indigo-600 rounded-full blur-[120px]"}),i.jsx("div",{className:"absolute bottom-10 right-10 w-96 h-96 bg-blue-600 rounded-full blur-[150px]"})]}),i.jsx("div",{className:"w-full max-w-md z-10 animate-in fade-in zoom-in-95 duration-500",children:i.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-3xl p-8 lg:p-10 shadow-2xl",children:[i.jsx("div",{className:"mb-6 text-center",children:i.jsx("a",{href:"/privacy-policy",onClick:w=>{w.preventDefault(),window.history.pushState({},"","/privacy-policy"),window.dispatchEvent(new PopStateEvent("popstate"))},className:"text-xs text-slate-400 hover:text-indigo-400 underline transition-colors",title:"Privacy Policy",children:"Privacy Policy"})}),i.jsxs("div",{className:"flex flex-col items-center mb-10",children:[i.jsx("div",{className:"w-16 h-16 bg-indigo-600 rounded-2xl flex items-center justify-center text-white font-bold text-3xl shadow-xl shadow-indigo-900/40 mb-6",children:"I"}),i.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"ImpactFlow OS"}),i.jsx("p",{className:"text-slate-400 text-sm mt-2",children:"Team Access Portal"})]}),i.jsxs("form",{onSubmit:b,className:"space-y-5",children:[u&&i.jsxs("div",{className:"p-4 rounded-2xl text-xs font-bold bg-red-500/10 border border-red-500/50 text-red-400 flex items-start gap-3 animate-in slide-in-from-top-2",children:[i.jsx(Yn,{className:"w-4 h-4 shrink-0 mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[u,u.includes("Administrator")&&i.jsx("p",{className:"text-[10px] mt-1 font-medium opacity-70",children:"New accounts must be provisioned by IT before sign-in."})]})]}),t==="initial"&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest px-1",children:"Professional Email"}),i.jsxs("div",{className:"relative",children:[i.jsx(eo,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-500"}),i.jsx("input",{type:"email",required:!0,placeholder:"alex@impact247.com",value:n,onChange:w=>a(w.target.value),className:"w-full pl-12 pr-4 py-3.5 bg-white/5 border border-white/10 rounded-2xl text-white placeholder:text-slate-600 outline-none focus:ring-2 focus:ring-indigo-500/50 transition-all"})]})]}),t==="verify"&&i.jsxs("div",{className:"space-y-4 text-center",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("p",{className:"text-xs text-slate-400 mb-2",children:"Code sent to"}),i.jsx("p",{className:"text-sm font-semibold text-white",children:n})]}),i.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest block mb-6",children:"Enter Verification Code"}),i.jsx("div",{className:"flex items-center justify-center gap-2 md:gap-3",children:s.map((w,j)=>i.jsx("input",{ref:N=>{h.current[j]=N},type:"text",inputMode:"numeric",maxLength:1,value:w,onChange:N=>y(j,N.target.value),onKeyDown:N=>v(j,N),onPaste:j===0?g:void 0,className:"w-12 h-14 md:w-14 md:h-16 bg-white/5 border-2 border-white/10 rounded-xl text-white text-center text-2xl md:text-3xl font-bold outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500/50 transition-all text-center",autoComplete:"off",disabled:l},j))}),i.jsxs("div",{className:"flex flex-col items-center gap-2 mt-6",children:[i.jsx("button",{type:"button",onClick:async()=>{d(null),o(["","","","","",""]),c(!0);try{await QO({email:n}),d(null),setTimeout(()=>h.current[0]?.focus(),100)}catch(w){d(w.message||"Failed to send new code.")}finally{c(!1)}},disabled:l,className:"text-xs font-bold text-slate-500 hover:text-indigo-400 transition-colors disabled:opacity-50",children:l?"Sending...":"Request New Code"}),i.jsx("button",{type:"button",onClick:()=>{r("initial"),o(["","","","","",""]),d(null)},className:"text-xs font-bold text-slate-500 hover:text-indigo-400 transition-colors",children:"Use a different email"})]})]}),i.jsx("button",{disabled:l||t==="verify"&&s.some(w=>w===""),className:"w-full py-4 bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50 text-white font-bold rounded-2xl flex items-center justify-center gap-2 transition-all shadow-lg active:scale-[0.98]",children:l?i.jsx(Ot,{className:"w-5 h-5 animate-spin"}):i.jsxs(i.Fragment,{children:[t==="initial"?"Request Access Code":"Secure Login",i.jsx(is,{className:"w-4 h-4"})]})})]}),i.jsxs("div",{className:"mt-12 pt-8 border-t border-white/5 text-center flex flex-col items-center gap-4",children:[i.jsxs("div",{className:"flex items-center justify-center gap-4",children:[i.jsx(qd,{className:"w-5 h-5 text-slate-700"}),i.jsx("div",{className:"w-1 h-1 bg-slate-800 rounded-full"}),i.jsx("span",{className:"text-[10px] font-bold text-slate-600 uppercase tracking-[0.2em]",children:"Impact 24x7 Enterprise"})]}),i.jsxs("div",{className:"text-[10px] text-slate-500 font-medium max-w-[300px] space-y-2",children:[i.jsx("p",{children:"Access restricted to authorized personnel."}),i.jsxs("div",{className:"flex items-center justify-center gap-3 flex-wrap pt-2",children:[i.jsx("a",{href:"/help",onClick:w=>{w.preventDefault(),window.history.pushState({},"","/help"),window.dispatchEvent(new PopStateEvent("popstate"))},className:"text-indigo-400 hover:text-indigo-300 underline font-semibold transition-colors",title:"Help & Support",children:"Help"}),i.jsx("span",{className:"text-slate-600",children:""}),i.jsx("a",{href:"/privacy-policy",onClick:w=>{w.preventDefault(),window.history.pushState({},"","/privacy-policy"),window.dispatchEvent(new PopStateEvent("popstate"))},className:"text-indigo-400 hover:text-indigo-300 underline font-semibold transition-colors",title:"Privacy Policy",children:"Privacy Policy"})]})]})]})]})})]})},_xe=({children:e,onUserLoaded:t})=>{const[r,n]=V.useState(!0),[a,s]=V.useState(!1);return V.useEffect(()=>{(async()=>{const l=localStorage.getItem("auth_token"),c=localStorage.getItem("user_data");if(!l){c&&localStorage.removeItem("user_data"),n(!1);return}if(c)try{const u=JSON.parse(c);t(u),s(!0),n(!1),ZO().then(d=>{const h=d.data||d,m=JSON.parse(localStorage.getItem("user_data")||"{}");JSON.stringify(h)!==JSON.stringify(m)&&(localStorage.setItem("user_data",JSON.stringify(h)),t(h))}).catch(d=>{console.warn("Session expired:",d),localStorage.removeItem("auth_token"),localStorage.removeItem("user_data"),window.location.reload()});return}catch{localStorage.removeItem("user_data")}try{const u=await ZO(),d=u.data||u;localStorage.setItem("user_data",JSON.stringify(d)),t(d),s(!0)}catch{localStorage.removeItem("auth_token"),localStorage.removeItem("user_data"),s(!1)}finally{n(!1)}})()},[t]),r?i.jsxs("div",{className:"h-screen w-screen flex flex-col items-center justify-center bg-slate-950 text-white",children:[i.jsx(Ot,{className:"w-10 h-10 animate-spin text-indigo-500 mb-4"}),i.jsx("p",{className:"text-slate-400 font-medium animate-pulse",children:"Establishing secure session..."})]}):a?i.jsx(i.Fragment,{children:e}):i.jsx(Sxe,{onLogin:o=>{localStorage.setItem("auth_token",o.token||o.data?.token);const l=o.user||o.data?.user||o.data;l&&(localStorage.setItem("user_data",JSON.stringify(l)),t(l)),s(!0)}})},Axe=({notifications:e,onMarkAsRead:t,onMarkAllAsRead:r,onRefresh:n,isRefreshing:a=!1,onClose:s,onViewAll:o})=>{e.filter(u=>!u.read);const l=u=>{switch(u){case"lead":return i.jsx(Zh,{className:"w-4 h-4 text-blue-500"});case"deal":return i.jsx(ls,{className:"w-4 h-4 text-indigo-500"});case"task":return i.jsx(gl,{className:"w-4 h-4 text-emerald-500"});case"payment":return i.jsx(Kd,{className:"w-4 h-4 text-red-500"});default:return i.jsx(vm,{className:"w-4 h-4 text-slate-400"})}},c=u=>{switch(u){case"lead":return"bg-blue-50";case"deal":return"bg-indigo-50";case"task":return"bg-emerald-50";case"payment":return"bg-red-50";default:return"bg-slate-50"}};return i.jsxs("div",{className:"absolute top-full right-0 mt-2 w-96 bg-white border border-slate-200 rounded-xl shadow-xl z-50 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200",children:[i.jsxs("div",{className:"p-4 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[i.jsxs("h3",{className:"font-bold text-slate-900 flex items-center gap-2",children:[i.jsx(D1,{className:"w-4 h-4 text-slate-500"}),"Notifications"]}),i.jsxs("div",{className:"flex items-center gap-3",children:[n&&i.jsx("button",{onClick:n,disabled:a,className:"p-1.5 hover:bg-slate-200 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Refresh notifications",children:i.jsx(Gd,{className:`w-3.5 h-3.5 text-slate-600 ${a?"animate-spin":""}`})}),i.jsx("button",{onClick:r,className:"text-xs font-bold text-indigo-600 hover:text-indigo-700 uppercase tracking-wider",children:"Mark all as read"})]})]}),i.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:e.length>0?i.jsx("div",{className:"divide-y divide-slate-50",children:e.map(u=>i.jsxs("div",{className:`p-4 flex gap-4 hover:bg-slate-50 transition-colors relative cursor-pointer group ${u.read?"":"bg-indigo-50/10"}`,onClick:()=>{t(u.id),u.link&&(u.link.startsWith("/?tab=")||u.link.startsWith("/"),window.location.href=u.link)},children:[i.jsx("div",{className:`shrink-0 w-8 h-8 rounded-lg flex items-center justify-center ${c(u.type)}`,children:l(u.type)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex justify-between items-start gap-2",children:[i.jsx("p",{className:`text-sm font-semibold truncate ${u.read?"text-slate-600":"text-slate-900"}`,children:u.title}),i.jsx("span",{className:"text-[10px] text-slate-400 font-medium shrink-0",children:u.timestamp})]}),i.jsx("p",{className:`text-xs mt-0.5 line-clamp-2 ${u.read?"text-slate-400":"text-slate-500"}`,children:u.message})]}),!u.read&&i.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity",children:i.jsx("div",{className:"w-2 h-2 bg-indigo-500 rounded-full"})})]},u.id))}):i.jsxs("div",{className:"p-12 text-center text-slate-400",children:[i.jsx(Fu,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),i.jsx("p",{className:"text-sm font-medium",children:"All caught up!"}),i.jsx("p",{className:"text-xs",children:"No new notifications at this time."})]})}),i.jsx("div",{className:"p-3 border-t border-slate-100 bg-slate-50/50 text-center",children:i.jsx("button",{onClick:()=>{s(),o&&o()},className:"text-xs font-bold text-indigo-600 hover:text-indigo-700 uppercase tracking-widest transition-colors",children:"View all activity"})})]})},WN=20,Exe=({currentUser:e,onNavigate:t})=>{const{showSuccess:r,showError:n}=oi(),[a,s]=V.useState([]),[o,l]=V.useState(!0),[c,u]=V.useState(!1),[d,h]=V.useState(1),[m,p]=V.useState(1),[y,v]=V.useState(0),g=V.useCallback(async(F=!1)=>{try{const E=e||JSON.parse(localStorage.getItem("user_data")||"null");if(!E?.id)return;F?u(!0):l(!0);const T=await AF(E.id,500),I=T?.data||T||[],z=(Array.isArray(I)?I:[]).map(Q=>{let te="Just now";if(Q.createdAt){const J=new Date(Q.createdAt),X=new Date().getTime()-J.getTime(),Z=Math.floor(X/6e4),q=Math.floor(X/36e5),C=Math.floor(X/864e5);Z<1?te="Just now":Z<60?te=`${Z}m ago`:q<24?te=`${q}h ago`:C<7?te=`${C}d ago`:te=J.toLocaleDateString()}return{id:Q.id,userId:Q.userId,type:Q.type||"system",title:Q.title,message:Q.message,timestamp:te,read:!!Q.read,link:Q.link||void 0}});s(z),v(z.length),p(Math.ceil(z.length/WN))}catch(E){console.error("[NOTIFICATIONS] Failed to load notifications",E),n(E.message||"Failed to load notifications")}finally{l(!1),u(!1)}},[e,n]);V.useEffect(()=>{g(!1)},[g]),V.useEffect(()=>{const F=()=>{g(!0)};return window.addEventListener("refresh-notifications",F),()=>{window.removeEventListener("refresh-notifications",F)}},[g]);const b=async F=>{try{const E=e||JSON.parse(localStorage.getItem("user_data")||"null");if(!E?.id)return;await EF(F,E.id),s(T=>T.map(I=>I.id===F?{...I,read:!0}:I)),window.dispatchEvent(new Event("refresh-notifications"))}catch(E){console.error("[NOTIFICATIONS] Failed to mark as read",E),n(E.message||"Failed to mark notification as read")}},w=async()=>{try{const F=e||JSON.parse(localStorage.getItem("user_data")||"null");if(!F?.id)return;await CF(F.id),s(E=>E.map(T=>({...T,read:!0}))),r("All notifications marked as read"),window.dispatchEvent(new Event("refresh-notifications"))}catch(F){console.error("[NOTIFICATIONS] Failed to mark all as read",F),n(F.message||"Failed to mark all notifications as read")}},j=(F,E)=>{if(E?.toLowerCase().includes("pipeline"))return i.jsx(Cu,{className:"w-5 h-5 text-purple-500"});switch(F){case"lead":return i.jsx(Zh,{className:"w-5 h-5 text-blue-500"});case"deal":return i.jsx(ls,{className:"w-5 h-5 text-indigo-500"});case"task":return i.jsx(gl,{className:"w-5 h-5 text-emerald-500"});case"payment":return i.jsx(Kd,{className:"w-5 h-5 text-red-500"});default:return i.jsx(vm,{className:"w-5 h-5 text-slate-400"})}},N=(F,E)=>{if(E?.toLowerCase().includes("pipeline"))return"bg-purple-50";switch(F){case"lead":return"bg-blue-50";case"deal":return"bg-indigo-50";case"task":return"bg-emerald-50";case"payment":return"bg-red-50";default:return"bg-slate-50"}},S=F=>{if(b(F.id),F.link)if(F.link.startsWith("/?tab=")){const T=new URL(F.link,window.location.origin).searchParams.get("tab");T&&t?t(T):window.location.href=F.link}else F.link.startsWith("/"),window.location.href=F.link},P=(d-1)*WN,A=P+WN,O=a.slice(P,A),M=a.filter(F=>!F.read).length;return i.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-10",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-bold text-slate-900 flex items-center gap-3",children:[i.jsx(D1,{className:"w-6 h-6 text-indigo-600"}),"Notifications"]}),i.jsx("p",{className:"text-slate-500 text-sm font-medium mt-1",children:M>0?`${M} unread notification${M!==1?"s":""}`:"All caught up!"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("button",{onClick:()=>g(!0),disabled:c,className:"px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",title:"Refresh notifications",children:[i.jsx(Gd,{className:`w-4 h-4 ${c?"animate-spin":""}`}),"Refresh"]}),M>0&&i.jsx("button",{onClick:w,className:"px-4 py-2 text-sm font-semibold text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",children:"Mark all as read"})]})]}),o?i.jsx("div",{className:"flex items-center justify-center py-20",children:i.jsx(Gd,{className:"w-8 h-8 animate-spin text-indigo-600"})}):a.length===0?i.jsxs("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm p-12 text-center",children:[i.jsx(Fu,{className:"w-16 h-16 mx-auto mb-4 text-slate-300"}),i.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"All caught up!"}),i.jsx("p",{className:"text-sm text-slate-500",children:"No notifications at this time."})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden",children:i.jsx("div",{className:"divide-y divide-slate-100",children:O.map(F=>i.jsxs("div",{className:`p-6 flex gap-4 hover:bg-slate-50 transition-colors cursor-pointer group ${F.read?"":"bg-indigo-50/30"}`,onClick:()=>S(F),children:[i.jsx("div",{className:`shrink-0 w-10 h-10 rounded-xl flex items-center justify-center ${N(F.type,F.title)}`,children:j(F.type,F.title)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex justify-between items-start gap-4 mb-1",children:[i.jsx("p",{className:`text-sm font-semibold ${F.read?"text-slate-600":"text-slate-900 font-bold"}`,children:F.title}),i.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[i.jsx("span",{className:"text-xs text-slate-400 font-medium",children:F.timestamp}),!F.read&&i.jsx("div",{className:"w-2 h-2 bg-indigo-500 rounded-full"})]})]}),i.jsx("p",{className:`text-sm ${F.read?"text-slate-400":"text-slate-600"}`,children:F.message})]})]},F.id))})}),m>1&&i.jsxs("div",{className:"flex items-center justify-between bg-white rounded-2xl border border-slate-200 shadow-sm px-6 py-4",children:[i.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",i.jsx("span",{className:"font-semibold",children:P+1})," to"," ",i.jsx("span",{className:"font-semibold",children:Math.min(A,a.length)})," of"," ",i.jsx("span",{className:"font-semibold",children:a.length})," notifications"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>h(F=>Math.max(1,F-1)),disabled:d===1,className:"p-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i.jsx(VN,{className:"w-5 h-5"})}),i.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:m},(F,E)=>E+1).map(F=>F===1||F===m||F>=d-1&&F<=d+1?i.jsx("button",{onClick:()=>h(F),className:`px-3 py-1.5 text-sm font-semibold rounded-lg transition-colors ${d===F?"bg-indigo-600 text-white":"text-slate-600 hover:bg-slate-100"}`,children:F},F):F===d-2||F===d+2?i.jsx("span",{className:"px-2 text-slate-400",children:"..."},F):null)}),i.jsx("button",{onClick:()=>h(F=>Math.min(m,F+1)),disabled:d===m,className:"p-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i.jsx(Ka,{className:"w-5 h-5"})})]})]})]})]})},Od=e=>{if(!e||!e.trim())return null;const t=e.trim();if(t.includes("@")){const r=t.split("@");if(r.length!==2||!r[1])return null;const n=r[1].toLowerCase().trim();return n.includes(".")?n:null}try{if(!t.includes(".")&&!t.startsWith("http"))return null;const n=(t.startsWith("http")?new URL(t):new URL(`https://${t}`)).hostname.replace(/^www\./,"").toLowerCase();return n.includes(".")?n:null}catch{const n=t.replace(/^https?:\/\//,"").replace(/^www\./,"").split("/")[0].toLowerCase().trim()||null;return n&&n.includes(".")?n:null}},Cxe=(e,t)=>{if(!e||!t)return 0;const r=e.toLowerCase().trim(),n=t.toLowerCase().trim();if(r===n)return 1;const a=r.length,s=n.length;if(a===0||s===0)return 0;const o=[];for(let u=0;u<=a;u++)o[u]=[u];for(let u=0;u<=s;u++)o[0][u]=u;for(let u=1;u<=a;u++)for(let d=1;d<=s;d++){const h=r[u-1]===n[d-1]?0:1;o[u][d]=Math.min(o[u-1][d]+1,o[u][d-1]+1,o[u-1][d-1]+h)}const l=o[a][s],c=Math.max(a,s);return 1-l/c},Txe=(e,t)=>{const r=[];if(!e.email)return r;const n=e.email.toLowerCase().trim();return t.forEach(a=>{a.id!==e.id&&a.email&&a.email.toLowerCase().trim()===n&&r.push({record:a,matchType:"exact",confidence:1})}),r},Oxe=(e,t,r=.8)=>{const n=[];return e.name&&t.forEach(a=>{if(a.id===e.id)return;const s=Cxe(e.name||"",a.name||"");s>=r&&n.push({record:a,matchType:"fuzzy",confidence:s,similarity:s})}),n},Pxe=["North America","South America","Europe","Asia","Africa","Middle East","Oceania","Central America","Caribbean","Eastern Europe","Western Europe","Northern Europe","Southern Europe","Southeast Asia","East Asia","South Asia","Central Asia","North Africa","Sub-Saharan Africa","Latin America","United States","Canada","Mexico","United Kingdom","Germany","France","Italy","Spain","Netherlands","Belgium","Switzerland","Austria","Sweden","Norway","Denmark","Finland","Poland","Russia","China","Japan","India","South Korea","Singapore","Australia","New Zealand","Brazil","Argentina","Chile","United Arab Emirates","Saudi Arabia","Israel","South Africa","Global","International"],Ixe=({type:e,stage:t,lockedType:r,onClose:n,onSuccess:a})=>{const[s,o]=V.useState(e),[l,c]=V.useState("form"),[u,d]=V.useState(!1),[h,m]=V.useState(null),[p,y]=V.useState({}),[v,g]=V.useState([]),[b,w]=V.useState([]),[j,N]=V.useState([]),[S,P]=V.useState([]),[A,O]=V.useState([]),[M,F]=V.useState(!1),[E,T]=V.useState(!1),[I,z]=V.useState(""),Q=V.useRef(null),[te,J]=V.useState(null),[ie,X]=V.useState(!1),[Z,q]=V.useState(""),[C,U]=V.useState(null),W=V.useRef(null),[B,K]=V.useState({name:"",title:"",companyId:"",projectId:"",role:"",email:"",phone:"",assigneeId:"",ownerId:"",value:"",currency:mi,expectedCloseDate:"",stage:"Discovery",status:"Planning",progress:"0",description:"",industry:"",website:"",region:"",domain:"",linkedin:"",priority:"Medium",assignedUserIds:[],engagement:"",startDate:"",endDate:"",category:"",lineItems:[]});V.useEffect(()=>{const oe={name:"",title:"",companyId:"",projectId:"",role:"",email:"",phone:"",assigneeId:"",ownerId:"",value:"",expectedCloseDate:"",stage:t||"Discovery",status:"Planning",progress:"0",priority:"Medium",description:"",industry:"",website:"",region:"",domain:"",linkedin:"",assignedUserIds:[],engagement:"",startDate:"",endDate:"",category:""};e==="invoice"?(oe.lineItems=[{description:"",quantity:1,rate:0,amount:0}],oe.currency=mi):(oe.lineItems=[],e!=="deal"&&(oe.currency=mi)),K(ue=>({...ue,...oe})),m(null),y({}),c("form"),F(!1),q(""),U(null),W.current&&(W.current.value="")},[e,t]),V.useEffect(()=>{(async()=>{try{const _e=JSON.parse(localStorage.getItem("user_data")||"{}")?.id,[Se,Pe,pe,ae]=await Promise.all([Kc(),Gu(),_x(),Ax(_e)]);N(Se.data||[]),g(Pe.data||[]),w(pe.data||[]);const ye=Array.isArray(ae)?ae:ae?.data||[];if(P(ye.filter(Be=>!Be.archived)),s==="task")try{const Be=await p1(),$e=Array.isArray(Be?.data)?Be.data:[];O($e)}catch{O([])}else O([]);_e&&K(Be=>({...Be,ownerId:Be.ownerId||_e,assigneeId:Be.assigneeId||_e}))}catch(ue){console.error("[QUICK-CREATE] Data fetch failed:",ue)}})()},[s]),V.useEffect(()=>{const oe=ue=>{Q.current&&!Q.current.contains(ue.target)&&(T(!1),z(""))};if(E)return document.addEventListener("mousedown",oe),()=>document.removeEventListener("mousedown",oe)},[E]);const re=Pxe.filter(oe=>oe.toLowerCase().includes(I.toLowerCase())),fe=(oe,ue=1200,_e=1200,Se=.8)=>new Promise((Pe,pe)=>{const ae=new FileReader;ae.onload=ye=>{const Be=new Image;Be.onload=()=>{let $e=Be.width,rt=Be.height;$e>rt?$e>ue&&(rt=rt*ue/$e,$e=ue):rt>_e&&($e=$e*_e/rt,rt=_e);const ft=document.createElement("canvas");ft.width=$e,ft.height=rt;const Nt=ft.getContext("2d");Nt?(Nt.drawImage(Be,0,0,$e,rt),Pe(ft.toDataURL("image/jpeg",Se))):pe(new Error("Canvas context not available"))},Be.onerror=()=>pe(new Error("Failed to load image")),Be.src=ye.target?.result},ae.onerror=()=>pe(new Error("Failed to read file")),ae.readAsDataURL(oe)}),ce=async oe=>{const ue=oe.target.files?.[0];if(ue){if(!ue.type.startsWith("image/")){m("Please select an image file");return}if(ue.size>10*1024*1024){m("Image size must be less than 10MB");return}try{const _e=await fe(ue,1200,1200,.8);q(_e),U(ue),m(null)}catch(_e){m(_e.message||"Failed to process image")}}},he=()=>{q(""),U(null),W.current&&(W.current.value=""),n()},Oe=()=>{const oe={};if(s==="contact")B.name?.trim()||(oe.name="Full Name is required"),B.email?.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(B.email)||(oe.email="Please enter a valid email address"):oe.email="Email Address is required";else if(s==="company"){B.name?.trim()||(oe.name="Company Name is required"),(!B.region||B.region.trim()==="")&&(oe.region="Region is required"),B.ownerId?.trim()||(oe.ownerId="Assignee / Lead is required");let ue=B.domain;!ue&&B.website&&(ue=Od(B.website)||""),!ue&&B.email&&(ue=Od(B.email)||""),(!ue||ue.trim()==="")&&(oe.domain="Domain is required (can be auto-populated from website or email)",oe.website="Add website or email to auto-populate domain")}else if(s==="deal")B.title?.trim()||(oe.title="Deal Name is required"),B.companyId?.trim()||(oe.companyId="Organization is required"),(!B.value||parseFloat(B.value)<=0)&&(oe.value="Amount is required and must be greater than $0"),B.stage?.trim()||(oe.stage="Stage is required"),B.ownerId||(oe.ownerId="Assignee / Lead is required");else if(s==="project"){if(B.title?.trim()||(oe.title="Project Name is required"),B.engagement?.trim()||(oe.engagement="Engagement is required"),B.startDate?.trim()||(oe.startDate="Start Date is required"),B.endDate?.trim()||(oe.endDate="End Date is required"),B.startDate&&B.endDate){const ue=new Date(B.startDate),_e=new Date(B.endDate);!isNaN(ue.getTime())&&!isNaN(_e.getTime())&&ue>=_e&&(oe.endDate="End Date must be after Start Date")}B.ownerId||(oe.ownerId="Assignee / Lead is required")}else s==="task"?(B.title?.trim()||(oe.title="Task Title is required"),B.assigneeId||(oe.assigneeId="Designated Lead / Assignee is required")):s==="invoice"&&(B.companyId||(oe.companyId="Client (Organization) is required"),(!B.expectedCloseDate||B.expectedCloseDate.trim()==="")&&(oe.expectedCloseDate=s==="deal"?"Expected Close Date is required":"Due Date is required"),!B.lineItems||B.lineItems.length===0?oe.lineItems="At least one line item is required":(B.lineItems.forEach((_e,Se)=>{(!_e.description||!_e.description.trim())&&(oe[`lineItem_${Se}_description`]=`Line item ${Se+1}: Description is required`),(!_e.quantity||_e.quantity<=0)&&(oe[`lineItem_${Se}_quantity`]=`Line item ${Se+1}: Quantity must be greater than 0`),(!_e.rate||_e.rate<=0)&&(oe[`lineItem_${Se}_rate`]=`Line item ${Se+1}: Rate must be greater than 0`)}),B.lineItems.reduce((_e,Se)=>{const Pe=Se.amount||Se.rate*Se.quantity||0;return _e+Pe},0)<=0&&(oe.lineItems="Total amount must be greater than $0")));return y(oe),Object.keys(oe).length===0},ee=async oe=>{if(oe.preventDefault(),u)return;if(m(null),!Oe()){d(!1);return}d(!0),console.debug(`[QUICK-CREATE] Deployment Start. Type: ${s}`,B);try{const Se=JSON.parse(localStorage.getItem("user_data")||"null")?.id;if(s==="contact"){const Pe={name:B.name,email:B.email},pe=Txe(Pe,b),ae=Oxe(Pe,b,.8);if(pe.length>0||ae.length>0){const ye=new Map,Be=new Set;pe.forEach(rt=>{const ft=rt.record,Nt=ft.id||ft.email?.toLowerCase().trim()||"";Nt&&!ye.has(Nt)&&(ye.set(Nt,{...ft,matchType:"exact",matchReason:"email"}),ft.email&&Be.add(ft.email.toLowerCase().trim()))}),ae.forEach(rt=>{const ft=rt.record,Nt=ft.id||ft.email?.toLowerCase().trim()||"",Ue=ft.email?.toLowerCase().trim();Nt&&!ye.has(Nt)&&(!Ue||!Be.has(Ue))&&(ye.set(Nt,{...ft,matchType:"fuzzy",matchReason:"name",similarity:rt.similarity}),Ue&&Be.add(Ue))});const $e=Array.from(ye.values());J({open:!0,duplicates:$e,newContact:{name:B.name,email:B.email,companyId:B.companyId||void 0,role:B.role,phone:B.phone,linkedin:B.linkedin||void 0}}),d(!1);return}await eP({name:B.name,companyId:B.companyId||void 0,role:B.role,email:B.email,phone:B.phone,linkedin:B.linkedin||void 0})}else if(s==="company"){let Pe=B.domain;!Pe&&B.website&&(Pe=Od(B.website)||void 0),!Pe&&B.email&&(Pe=Od(B.email)||void 0);const pe={name:B.name?.trim(),industry:B.industry?.trim(),region:B.region?.trim()||"",website:B.website?.trim()||void 0,email:B.email?.trim()||void 0,domain:Pe||"",linkedin:B.linkedin?.trim()||void 0,ownerId:B.ownerId||Se};if(!pe.region){y({region:"Region is required"}),d(!1);return}if(!pe.domain){y({domain:"Domain is required (can be auto-populated from website or email)"}),d(!1);return}await Gte(pe)}else if(s==="deal"){if(!B.companyId||B.companyId.trim()===""){y({companyId:"Organization is required"}),d(!1);return}if(!B.value||parseFloat(B.value)<=0){y({value:"Amount is required and must be greater than $0"}),d(!1);return}if(!B.stage||B.stage.trim()===""){y({stage:"Stage is required"}),d(!1);return}await Kte({title:B.title,companyId:B.companyId.trim(),value:parseFloat(B.value),currency:B.currency||mi,stage:B.stage,pipelineType:"sales",ownerId:B.ownerId,expectedCloseDate:B.expectedCloseDate||void 0,description:B.description||void 0})}else if(s==="project"){const Pe={};if(B.title?.trim()||(Pe.title="Project Name is required"),B.engagement?.trim()||(Pe.engagement="Engagement is required"),B.startDate?.trim()||(Pe.startDate="Start Date is required"),B.endDate?.trim()||(Pe.endDate="End Date is required"),B.ownerId?.trim()||(Pe.ownerId="Assignee / Lead is required"),B.startDate&&B.endDate){const ae=new Date(B.startDate),ye=new Date(B.endDate);!isNaN(ae.getTime())&&!isNaN(ye.getTime())&&ae>=ye&&(Pe.endDate="End Date must be after Start Date")}if(Object.keys(Pe).length>0){y(Pe),d(!1);return}console.debug("[QUICK-CREATE] Attempting Project Creation...",{title:B.title,engagement:B.engagement,startDate:B.startDate,endDate:B.endDate,ownerId:B.ownerId});const pe={title:B.title.trim(),engagement:B.engagement.trim(),startDate:B.startDate,endDate:B.endDate,companyId:B.companyId&&B.companyId.trim()!==""?B.companyId:void 0,status:B.status,ownerId:B.ownerId,projectManager:B.ownerId,progress:0,description:B.description||void 0};Z&&C&&(pe.noteImage=Z,pe.noteImageName=C.name,pe.noteImageMimeType=C.type),console.debug("[QUICK-CREATE] Project payload:",pe),await Yte(pe)}else if(s==="task"){console.debug("[QUICK-CREATE] Attempting Task Creation...",{title:B.title,assigneeId:B.assigneeId});const Pe={title:B.title,projectId:B.projectId||void 0,description:B.description||void 0,dueDate:B.expectedCloseDate||void 0,priority:B.priority,status:"Todo",assigneeId:B.assigneeId,category:B.category&&B.category.trim()?B.category.trim():void 0};if(Z||B.description){const pe=JSON.parse(localStorage.getItem("user_data")||"{}"),ae={id:`note_${Date.now()}`,userId:Se||pe.id,userName:pe.name||"Unknown User",text:B.description||"",createdAt:new Date().toISOString()};Z&&C&&(ae.imageUrl=Z,ae.imageName=C.name,ae.imageMimeType=C.type),Pe.notes=[ae]}await Jte(Pe),window.dispatchEvent(new Event("refresh-tasks"))}else if(s==="invoice"){const Pe={};if(B.companyId?.trim()||(Pe.companyId="Client (Organization) is required"),B.expectedCloseDate?.trim()||(Pe.expectedCloseDate="Due Date is required"),(!B.lineItems||B.lineItems.length===0)&&(Pe.lineItems="At least one line item is required"),B.lineItems&&B.lineItems.length>0&&B.lineItems.forEach((ye,Be)=>{(!ye.description||!ye.description.trim())&&(Pe[`lineItem_${Be}_description`]=`Line item ${Be+1}: Description is required`),(!ye.quantity||ye.quantity<=0)&&(Pe[`lineItem_${Be}_quantity`]=`Line item ${Be+1}: Quantity must be greater than 0`),(!ye.rate||ye.rate<=0)&&(Pe[`lineItem_${Be}_rate`]=`Line item ${Be+1}: Rate must be greater than 0`)}),Object.keys(Pe).length>0){y(Pe),d(!1);return}const pe=B.lineItems.map(ye=>({description:ye.description.trim(),quantity:ye.quantity,rate:ye.rate,amount:ye.amount||ye.rate*ye.quantity})),ae=pe.reduce((ye,Be)=>ye+(Be.amount||0),0);if(ae<=0){y({lineItems:"At least one line item with a valid amount is required"}),d(!1);return}console.debug("[QUICK-CREATE] Creating invoice with:",{companyId:B.companyId,amount:ae,dueDate:B.expectedCloseDate,lineItemsCount:pe.length,lineItems:pe,name:B.name,description:B.description}),await Zte({companyId:B.companyId,amount:ae,currency:B.currency||mi,dueDate:B.expectedCloseDate,description:B.name||B.description||"",lineItems:pe,items:pe,status:"Draft",userId:Se||void 0}),window.dispatchEvent(new Event("refresh-invoices"))}console.debug("[QUICK-CREATE] Registry success. Finalizing UI update."),c("success"),q(""),U(null),W.current&&(W.current.value=""),s==="project"?(console.log("[QUICK-CREATE] Dispatching refresh-projects event"),window.dispatchEvent(new Event("refresh-projects"))):s==="invoice"&&(console.log("[QUICK-CREATE] Dispatching refresh-invoices event"),window.dispatchEvent(new Event("refresh-invoices"))),a&&(console.log("[QUICK-CREATE] Calling onSuccess callback"),a()),setTimeout(()=>{n()},1500)}catch(_e){if(console.error("[QUICK-CREATE] Deployment failed:",_e),console.error("[QUICK-CREATE] Error details:",{message:_e.message,code:_e.code,status:_e.status,details:_e.details,type:s}),_e.code==="DUPLICATE_DETECTED"&&_e.duplicates&&s==="contact"){const Se=new Map;_e.duplicates.forEach(pe=>{if(pe.id)if(!Se.has(pe.id))Se.set(pe.id,pe);else{const ae=Se.get(pe.id);pe.matchType==="exact"&&ae.matchType!=="exact"&&Se.set(pe.id,pe)}});const Pe=Array.from(Se.values());J({open:!0,duplicates:Pe,newContact:{name:B.name,email:B.email,companyId:B.companyId||void 0,role:B.role,phone:B.phone,linkedin:B.linkedin||void 0}}),d(!1);return}if(_e.code==="VALIDATION_ERROR"||_e.details&&_e.details.errors){const Se={};(_e.details?.errors||(_e.message?[_e.message]:[])).forEach(pe=>{const ae=pe.toLowerCase();if(ae.includes("name")||ae.includes("title"))Se.title=pe;else if(ae.includes("industry"))Se.industry=pe;else if(ae.includes("region"))Se.region=pe;else if(ae.includes("domain"))Se.domain=pe;else if(ae.includes("email"))Se.email=pe;else if(ae.includes("engagement"))Se.engagement=pe;else if(ae.includes("start date")||ae.includes("startdate"))Se.startDate=pe;else if(ae.includes("end date")||ae.includes("enddate"))Se.endDate=pe;else if(ae.includes("project manager")||ae.includes("manager"))Se.ownerId=pe;else if(ae.includes("assignee")||ae.includes("lead")||ae.includes("owner"))Se.ownerId=pe;else if(ae.includes("client")||ae.includes("company"))Se.companyId=pe;else if(ae.includes("due date")||ae.includes("duedate"))Se.expectedCloseDate=pe;else if(ae.includes("line item")){const ye=ae.match(/line item (\d+):\s*(.+)/);if(ye){const Be=parseInt(ye[1])-1,$e=ye[2];$e.includes("description")?Se[`lineItem_${Be}_description`]=pe:$e.includes("quantity")?Se[`lineItem_${Be}_quantity`]=pe:($e.includes("rate")||$e.includes("amount"))&&(Se[`lineItem_${Be}_rate`]=pe)}else Se.lineItems=pe}else ae.includes("amount")&&!ae.includes("line item")&&(Se.lineItems=pe)}),Object.keys(Se).length>0?(y(Se),m("Please correct the validation errors below")):m(_e.message||"Validation failed. Please check all required fields.")}else m(_e.message||"Operational error. Verify mandatory fields and team authorization.");d(!1)}},De=()=>{switch(s){case"deal":return"New Opportunity";case"project":return"New Project";case"task":return"New Task";case"invoice":return"New Invoice";case"company":return"Add Company";case"contact":return"Add Contact";default:return"Quick Entry"}},je=()=>i.jsx("span",{className:"text-red-500 ml-1 font-black text-base",children:"*"});return l==="success"?i.jsx("div",{className:"fixed inset-0 bg-slate-950/60 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-[40px] w-full max-w-sm p-12 text-center animate-in zoom-in-95 duration-300 shadow-2xl",children:[i.jsx("div",{className:"w-24 h-24 bg-emerald-50 rounded-full flex items-center justify-center mx-auto mb-8 text-emerald-500 ring-8 ring-emerald-50/50",children:i.jsx(wn,{className:"w-12 h-12 animate-in zoom-in duration-500"})}),i.jsx("h3",{className:"text-2xl font-black text-slate-900 mb-2 tracking-tight",children:"Deployment Success"}),i.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Record integrated into ImpactFlow OS."})]})}):i.jsxs("div",{className:"fixed inset-0 bg-slate-950/60 backdrop-blur-md z-[100] flex items-center justify-center p-4 animate-in fade-in duration-300",children:[i.jsxs("div",{className:"bg-white rounded-[48px] w-full max-w-2xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[i.jsxs("div",{className:"flex items-center gap-5",children:[i.jsxs("div",{className:"p-4 bg-indigo-600 rounded-[20px] text-white shadow-2xl shadow-indigo-100 ring-4 ring-indigo-50",children:[(s==="deal"||s==="company")&&i.jsx(qd,{className:"w-6 h-6"}),s==="project"&&i.jsx(uh,{className:"w-6 h-6"}),s==="task"&&i.jsx(gl,{className:"w-6 h-6"}),s==="invoice"&&i.jsx(Wa,{className:"w-6 h-6"}),s==="contact"&&i.jsx(pl,{className:"w-6 h-6"})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-black text-slate-900 tracking-tight leading-none mb-1",children:De()}),i.jsx("p",{className:"text-[10px] text-slate-400 uppercase tracking-[0.2em] font-black",children:"Workspace Update"})]})]}),i.jsx("button",{onClick:he,className:"p-3 hover:bg-slate-100 rounded-full text-slate-400 transition-all",children:i.jsx(mr,{className:"w-6 h-6"})})]}),i.jsxs("form",{onSubmit:ee,className:"p-8 space-y-8 max-h-[75vh] overflow-y-auto custom-scrollbar",children:[!r&&i.jsx("div",{className:"flex bg-slate-100 p-1 rounded-[20px] mb-4 overflow-x-auto scrollbar-hide border border-slate-200",children:["deal","project","task","invoice","company","contact"].map(oe=>i.jsx("button",{type:"button",onClick:()=>o(oe),className:`flex-1 min-w-[80px] flex items-center justify-center py-3 rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all ${s===oe?"bg-white text-indigo-600 shadow-md border border-slate-100":"text-slate-400 hover:text-slate-600"}`,children:oe},oe))}),h&&Object.keys(p).length===0&&i.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-600 text-xs p-5 rounded-3xl font-bold flex items-start gap-3 animate-in slide-in-from-top-2",children:[i.jsx(Yn,{className:"w-5 h-5 shrink-0"}),i.jsx("span",{children:h})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"md:col-span-2 space-y-2",children:[i.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] px-1",children:["Name"," ",i.jsx(je,{})]}),i.jsx("input",{required:!0,type:"text",placeholder:s==="deal"?"e.g., Q4 Logistics Transformation":"Name...",value:s==="deal"||s==="project"||s==="task"?B.title:B.name,onChange:oe=>{const ue=s==="deal"||s==="project"||s==="task"?"title":"name";K(_e=>({..._e,[ue]:oe.target.value})),p[ue]&&y(_e=>{const Se={..._e};return delete Se[ue],Se})},className:`w-full px-6 py-4 rounded-[20px] text-sm outline-none transition-all font-bold placeholder:text-slate-300 ${p.title||p.name?"bg-red-50 border-2 border-red-500 focus:ring-4 focus:ring-red-100 focus:border-red-600":"bg-slate-50 border border-slate-200 focus:ring-4 focus:ring-indigo-50 focus:border-indigo-600"}`}),(p.title||p.name)&&i.jsxs("p",{className:"text-xs text-red-600 font-bold px-1 flex items-center gap-1",children:[i.jsx(Yn,{className:"w-3 h-3"}),p.title||p.name]})]}),(s==="deal"||s==="project"||s==="invoice"||s==="contact")&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] px-1",children:["Organization ",(s==="deal"||s==="invoice")&&i.jsx(je,{})]}),i.jsxs("select",{required:s==="deal"||s==="invoice",value:B.companyId,onChange:oe=>{K(ue=>({...ue,companyId:oe.target.value})),p.companyId&&y(ue=>{const _e={...ue};return delete _e.companyId,_e})},className:`w-full px-6 py-4 rounded-[20px] text-sm outline-none font-bold appearance-none bg-[length:20px_20px] bg-[right_16px_center] bg-no-repeat ${p.companyId?"bg-red-50 border-2 border-red-400 focus:ring-4 focus:ring-red-100 focus:border-red-500":"bg-slate-50 border border-slate-200 focus:ring-4 focus:ring-indigo-50"} bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%22%3E%3Cpath%20stroke%3D%22${p.companyId?"%23ef4444":"%236b7280"}%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22m6%208%204%204%204-4%22%2F%3E%3C%2Fsvg%3E')]`,children:[i.jsx("option",{value:"",children:s==="deal"||s==="invoice"?"Select Organization":"No Organization"}),v.map(oe=>i.jsx("option",{value:oe.id,children:oe.name},oe.id))]}),p.companyId&&i.jsxs("p",{className:"text-xs text-red-600 font-bold px-1 flex items-center gap-1",children:[i.jsx(Yn,{className:"w-3 h-3"}),p.companyId]})]}),s==="contact"&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] px-1",children:["Email ",i.jsx(je,{})]}),i.jsx("input",{required:!0,type:"email",placeholder:"contact@company.com",value:B.email,onChange:oe=>{K(ue=>({...ue,email:oe.target.value})),p.email&&y(ue=>{const _e={...ue};return delete _e.email,_e})},className:`w-full px-6 py-4 rounded-[20px] text-sm outline-none transition-all font-bold placeholder:text-slate-300 ${p.email?"bg-red-50 border-2 border-red-500 focus:ring-4 focus:ring-red-100 focus:border-red-600":"bg-slate-50 border border-slate-200 focus:ring-4 focus:ring-indigo-50 focus:border-indigo-600"}`}),p.email&&s==="contact"&&i.jsxs("p",{className:"text-xs text-red-600 font-bold px-1 flex items-center gap-1",children:[i.jsx(Yn,{className:"w-3 h-3"}),p.email]})]}),s==="contact"&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] px-1",children:"Role / Title"}),i.jsx("input",{type:"text",placeholder:"e.g., CEO, Manager",value:B.role,onChange:oe=>K(ue=>({...ue,role:oe.target.value})),className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-[20px] text-sm outline-none focus:ring-4 focus:ring-indigo-50 font-bold placeholder:text-slate-300"})]}),s==="contact"&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] px-1",children:"Phone Number"}),i.jsx("input",{type:"tel",placeholder:"+1 (555) 000-0000",value:B.phone,onChange:oe=>K(ue=>({...ue,phone:oe.target.value})),className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-[20px] text-sm outline-none focus:ring-4 focus:ring-indigo-50 font-bold placeholder:text-slate-300"})]}),s==="company"&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] px-1",children:"Industry"}),i.jsx("input",{type:"text",placeholder:"e.g., Technology, Healthcare",value:B.industry,onChange:oe=>{K(ue=>({...ue,industry:oe.target.value})),p.industry&&y(ue=>{const _e={...ue};return delete _e.industry,_e})},className:`w-full px-6 py-4 rounded-[20px] text-sm outline-none transition-all font-bold placeholder:text-slate-300 ${p.industry?"bg-red-50 border-2 border-red-500 focus:ring-4 focus:ring-red-100 focus:border-red-600":"bg-slate-50 border border-slate-200 focus:ring-4 focus:ring-indigo-50 focus:border-indigo-600"}`}),p.industry&&i.jsxs("p",{className:"text-xs text-red-600 font-bold px-1 flex items-center gap-1",children:[i.jsx(Yn,{className:"w-3 h-3"}),p.industry]})]}),s==="company"&&i.jsxs("div",{className:"space-y-2 relative",ref:Q,children:[i.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] px-1",children:["Region ",i.jsx(je,{})]}),i.jsxs("div",{className:"relative",children:[i.jsxs("button",{type:"button",onClick:()=>{T(!E),E||z("")},className:`w-full px-6 py-4 rounded-[20px] text-sm outline-none transition-all font-bold text-left flex items-center justify-between ${p.region?"bg-red-50 border-2 border-red-500 focus:ring-4 focus:ring-red-100 focus:border-red-600":"bg-slate-50 border border-slate-200 focus:ring-4 focus:ring-indigo-50 focus:border-indigo-600"} ${B.region?"text-slate-900":"text-slate-400"}`,children:[i.jsx("span",{children:B.region||"Select Region"}),i.jsx(kh,{className:`w-4 h-4 text-slate-400 transition-transform ${E?"rotate-180":""}`})]}),E&&i.jsxs("div",{className:"absolute z-50 w-full mt-2 bg-white border border-slate-200 rounded-[20px] shadow-2xl max-h-64 overflow-hidden",children:[i.jsx("div",{className:"p-3 border-b border-slate-100",children:i.jsxs("div",{className:"relative",children:[i.jsx(zu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),i.jsx("input",{type:"text",placeholder:"Search regions...",value:I,onChange:oe=>z(oe.target.value),onClick:oe=>oe.stopPropagation(),className:"w-full pl-10 pr-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm font-bold outline-none focus:ring-2 focus:ring-indigo-500",autoFocus:!0})]})}),i.jsx("div",{className:"max-h-48 overflow-y-auto custom-scrollbar",children:re.length>0?re.map(oe=>i.jsx("button",{type:"button",onClick:()=>{const ue=oe.trim();K(_e=>({..._e,region:ue})),T(!1),z(""),y(_e=>{const Se={..._e};return delete Se.region,Se}),m(null)},className:`w-full px-6 py-3 text-left text-sm font-bold transition-colors hover:bg-indigo-50 ${B.region===oe?"bg-indigo-50 text-indigo-600":"text-slate-900"}`,children:oe},oe)):i.jsx("div",{className:"px-6 py-4 text-sm text-slate-400 font-bold text-center",children:"No regions found"})})]})]}),p.region&&i.jsxs("p",{className:"text-xs text-red-600 font-bold px-1 flex items-center gap-1 mt-1",children:[i.jsx(Yn,{className:"w-3 h-3"}),p.region]})]}),s==="company"&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] px-1",children:"Website"}),i.jsx("input",{type:"url",placeholder:"https://www.example.com",value:B.website,onChange:oe=>{const ue=oe.target.value;K(_e=>{const Se={..._e,website:ue},Pe=ue?Od(ue):null,pe=_e.email?Od(_e.email):null;return Se.domain=Pe||pe||"",Se}),(p.domain||p.website)&&y(_e=>{const Se={..._e};return delete Se.domain,delete Se.website,Se})},className:`w-full px-6 py-4 rounded-[20px] text-sm outline-none transition-all font-bold placeholder:text-slate-300 ${p.website?"bg-red-50 border-2 border-red-500 focus:ring-4 focus:ring-red-100 focus:border-red-600":"bg-slate-50 border border-slate-200 focus:ring-4 focus:ring-indigo-50 focus:border-indigo-600"}`}),p.website&&i.jsxs("p",{className:"text-xs text-red-600 font-bold px-1 flex items-center gap-1",children:[i.jsx(Yn,{className:"w-3 h-3"}),p.website]})]}),s==="company"&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] px-1",children:"Email"}),i.jsx("input",{type:"email",placeholder:"contact@company.com",value:B.email,onChange:oe=>{const ue=oe.target.value;K(_e=>{const Se={..._e,email:ue},Pe=_e.website?Od(_e.website):null,pe=ue?Od(ue):null;return Se.domain=Pe||pe||"",Se}),(p.email||p.domain)&&y(_e=>{const Se={..._e};return delete Se.email,delete Se.domain,Se})},className:`w-full px-6 py-4 rounded-[20px] text-sm outline-none transition-all font-bold placeholder:text-slate-300 ${p.email?"bg-red-50 border-2 border-red-500 focus:ring-4 focus:ring-red-100 focus:border-red-600":"bg-slate-50 border border-slate-200 focus:ring-4 focus:ring-indigo-50 focus:border-indigo-600"}`}),p.email&&s==="contact"&&i.jsxs("p",{className:"text-xs text-red-600 font-bold px-1 flex items-center gap-1",children:[i.jsx(Yn,{className:"w-3 h-3"}),p.email]})]}),s==="company"&&B.domain&&i.jsxs("div",{className:"md:col-span-2 space-y-2",children:[i.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] px-1",children:["Domain ",i.jsx("span",{className:"text-xs text-slate-400",children:"(auto-populated)"})]}),i.jsx("input",{type:"text",value:B.domain,readOnly:!0,className:`w-full px-6 py-4 rounded-[20px] text-sm outline-none font-bold cursor-not-allowed ${p.domain?"bg-red-50 border-2 border-red-500 text-red-600":"bg-slate-100 border border-slate-200 text-slate-600"}`}),p.domain&&i.jsxs("p",{className:"text-xs text-red-600 font-bold px-1 flex items-center gap-1",children:[i.jsx(Yn,{className:"w-3 h-3"}),p.domain]})]}),s==="task"&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] px-1",children:"Linked Project"}),i.jsxs("select",{value:B.projectId||"",onChange:oe=>{const ue=oe.target.value;K(_e=>({..._e,projectId:ue===""?"":ue}))},className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-[20px] text-sm outline-none focus:ring-4 focus:ring-indigo-50 focus:border-indigo-600 transition-all font-bold appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22m6%208%204%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:20px_20px] bg-[right_16px_center] bg-no-repeat",children:[i.jsx("option",{value:"",children:"None"}),S.map(oe=>i.jsx("option",{value:oe.id,children:oe.title},oe.id))]})]}),s==="task"&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] px-1 flex items-center gap-1.5",children:[i.jsx(Da,{className:"w-3.5 h-3.5"})," Task Category"]}),i.jsxs("select",{value:M?"__new__":B.category||"",onChange:oe=>{const ue=oe.target.value;ue==="__new__"?(F(!0),K(_e=>({..._e,category:""}))):(F(!1),K(_e=>({..._e,category:ue})))},className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-[20px] text-sm outline-none focus:ring-4 focus:ring-indigo-50 focus:border-indigo-600 transition-all font-bold appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%22%3E%3Cpath%20stroke%3D%226b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22m6%208%204%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:20px_20px] bg-[right_16px_center] bg-no-repeat",children:[i.jsx("option",{value:"",children:"None"}),A.map(oe=>i.jsx("option",{value:oe,children:oe},oe)),i.jsx("option",{value:"__new__",children:"+ Create new category..."})]}),M&&i.jsx("div",{className:"pt-1",children:i.jsx("input",{type:"text",value:B.category,onChange:oe=>K(ue=>({...ue,category:oe.target.value.trim()})),placeholder:"Enter new category name",className:"w-full px-6 py-3 bg-white border border-indigo-200 rounded-xl text-sm outline-none focus:ring-2 focus:ring-indigo-100 font-medium"})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] px-1",children:["Assignee / Lead ",i.jsx(je,{})]}),i.jsxs("select",{required:!0,value:s==="task"?B.assigneeId:B.ownerId,onChange:oe=>{const ue=s==="task"?"assigneeId":"ownerId";K(_e=>({..._e,[ue]:oe.target.value})),p[ue]&&y(_e=>{const Se={..._e};return delete Se[ue],Se})},className:`w-full px-6 py-4 rounded-[20px] text-sm outline-none font-bold appearance-none ${p.ownerId||p.assigneeId?"bg-red-50 border-2 border-red-500 focus:ring-4 focus:ring-red-100 focus:border-red-600":"bg-slate-50 border border-slate-200 focus:ring-4 focus:ring-indigo-50 focus:border-indigo-600"}`,children:[i.jsx("option",{value:"",children:"Select Resource Personnel"}),j.map(oe=>i.jsx("option",{value:oe.id,children:oe.name},oe.id))]}),(p.ownerId||p.assigneeId)&&i.jsxs("p",{className:"text-xs text-red-600 font-bold px-1 flex items-center gap-1",children:[i.jsx(Yn,{className:"w-3 h-3"}),p.ownerId||p.assigneeId]})]}),s==="deal"&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] px-1",children:["Value ",i.jsx(je,{})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("div",{className:"relative w-32",children:i.jsx("select",{value:B.currency||mi,onChange:oe=>{K(ue=>({...ue,currency:oe.target.value}))},className:"w-full px-4 py-4 rounded-[20px] text-sm outline-none font-bold appearance-none bg-slate-50 border border-slate-200 focus:ring-4 focus:ring-indigo-50 text-indigo-600 cursor-pointer",style:{backgroundImage:`url('data:image/svg+xml;charset=utf-8,%3Csvg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20"%3E%3Cpath stroke="%236b7280" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="m6 8 4 4 4-4"/%3E%3C/svg%3E')`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"16px"},children:Xh.map(oe=>i.jsxs("option",{value:oe.code,children:[oe.code," (",oe.symbol,")"]},oe.code))})}),i.jsxs("div",{className:"relative flex-1",children:[i.jsx("span",{className:"absolute left-6 top-1/2 -translate-y-1/2 text-indigo-500 font-black text-sm",children:ju(B.currency)}),i.jsx("input",{required:!0,type:"number",step:"0.01",placeholder:"0.00",value:B.value,onChange:oe=>{K(ue=>({...ue,value:oe.target.value})),p.value&&y(ue=>{const _e={...ue};return delete _e.value,_e})},className:`w-full pl-12 pr-6 py-4 rounded-[20px] text-sm outline-none font-black transition-all ${p.value?"bg-red-50 border-2 border-red-500 focus:ring-4 focus:ring-red-100 focus:border-red-600 text-red-600":"bg-slate-50 border border-slate-200 focus:ring-4 focus:ring-indigo-50 text-indigo-600"}`})]})]}),p.value&&i.jsxs("p",{className:"text-xs text-red-600 font-bold px-1 flex items-center gap-1",children:[i.jsx(Yn,{className:"w-3 h-3"}),p.value]})]}),s==="invoice"&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] px-1",children:"Currency"}),i.jsx("div",{className:"relative w-full",children:i.jsx("select",{value:B.currency||mi,onChange:oe=>{K(ue=>({...ue,currency:oe.target.value}))},className:"w-full px-4 py-4 rounded-[20px] text-sm outline-none font-bold appearance-none bg-slate-50 border border-slate-200 focus:ring-4 focus:ring-indigo-50 text-indigo-600 cursor-pointer",style:{backgroundImage:`url('data:image/svg+xml;charset=utf-8,%3Csvg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20"%3E%3Cpath stroke="%236b7280" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="m6 8 4 4 4-4"/%3E%3C/svg%3E')`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"16px"},children:Xh.map(oe=>i.jsxs("option",{value:oe.code,children:[oe.code," (",oe.symbol,")"]},oe.code))})})]}),s==="invoice"&&i.jsxs("div",{className:"md:col-span-2 space-y-2",children:[i.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] px-1",children:["Line Items ",i.jsx(je,{})]}),i.jsxs("div",{className:"space-y-3",children:[B.lineItems.map((oe,ue)=>i.jsxs("div",{className:"p-4 bg-slate-50 border border-slate-200 rounded-[20px] space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("span",{className:"text-xs font-bold text-slate-600",children:["Item ",ue+1]}),B.lineItems.length>1&&i.jsx("button",{type:"button",onClick:()=>{const _e=B.lineItems.filter((Se,Pe)=>Pe!==ue);K(Se=>({...Se,lineItems:_e})),y(Se=>{const Pe={...Se};return delete Pe[`lineItem_${ue}_description`],delete Pe[`lineItem_${ue}_quantity`],delete Pe[`lineItem_${ue}_rate`],Pe})},className:"text-red-500 hover:text-red-700 text-xs font-bold",children:"Remove"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest px-1 mb-1 block",children:["Description ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",placeholder:"Item description",value:oe.description,onChange:_e=>{const Se=[...B.lineItems];Se[ue]={...Se[ue],description:_e.target.value},K(Pe=>({...Pe,lineItems:Se})),p[`lineItem_${ue}_description`]&&y(Pe=>{const pe={...Pe};return delete pe[`lineItem_${ue}_description`],pe})},className:`w-full px-4 py-2 rounded-xl text-sm outline-none font-bold transition-all ${p[`lineItem_${ue}_description`]?"bg-red-50 border-2 border-red-500 focus:ring-4 focus:ring-red-100":"bg-white border border-slate-200 focus:ring-4 focus:ring-indigo-50"}`}),p[`lineItem_${ue}_description`]&&i.jsx("p",{className:"text-xs text-red-600 font-bold px-1 mt-1",children:p[`lineItem_${ue}_description`]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest px-1 mb-1 block",children:["Quantity ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"number",step:"0.01",min:"0.01",placeholder:"1",value:oe.quantity||"",onChange:_e=>{const Se=parseFloat(_e.target.value)||0,Pe=oe.rate||0,pe=[...B.lineItems];pe[ue]={...pe[ue],quantity:Se,amount:Se*Pe},K(ae=>({...ae,lineItems:pe})),p[`lineItem_${ue}_quantity`]&&y(ae=>{const ye={...ae};return delete ye[`lineItem_${ue}_quantity`],ye})},className:`w-full px-4 py-2 rounded-xl text-sm outline-none font-bold transition-all ${p[`lineItem_${ue}_quantity`]?"bg-red-50 border-2 border-red-500 focus:ring-4 focus:ring-red-100":"bg-white border border-slate-200 focus:ring-4 focus:ring-indigo-50"}`}),p[`lineItem_${ue}_quantity`]&&i.jsx("p",{className:"text-xs text-red-600 font-bold px-1 mt-1",children:p[`lineItem_${ue}_quantity`]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest px-1 mb-1 block",children:["Rate (",ju(B.currency),") ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"number",step:"0.01",min:"0.01",placeholder:"0.00",value:oe.rate||"",onChange:_e=>{const Se=parseFloat(_e.target.value)||0,Pe=oe.quantity||0,pe=[...B.lineItems];pe[ue]={...pe[ue],rate:Se,amount:Pe*Se},K(ae=>({...ae,lineItems:pe})),p[`lineItem_${ue}_rate`]&&y(ae=>{const ye={...ae};return delete ye[`lineItem_${ue}_rate`],ye})},className:`w-full px-4 py-2 rounded-xl text-sm outline-none font-bold transition-all ${p[`lineItem_${ue}_rate`]?"bg-red-50 border-2 border-red-500 focus:ring-4 focus:ring-red-100":"bg-white border border-slate-200 focus:ring-4 focus:ring-indigo-50"}`}),p[`lineItem_${ue}_rate`]&&i.jsx("p",{className:"text-xs text-red-600 font-bold px-1 mt-1",children:p[`lineItem_${ue}_rate`]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest px-1 mb-1 block",children:"Amount"}),i.jsx("div",{className:"px-4 py-2 bg-indigo-50 border border-indigo-200 rounded-xl",children:i.jsxs("p",{className:"text-sm font-black text-indigo-600",children:[ju(B.currency),((oe.quantity||0)*(oe.rate||0)).toFixed(2)]})})]})]},ue)),i.jsxs("button",{type:"button",onClick:()=>{K(oe=>({...oe,lineItems:[...oe.lineItems,{description:"",quantity:1,rate:0,amount:0}]})),p.lineItems&&y(oe=>{const ue={...oe};return delete ue.lineItems,ue})},className:"w-full px-4 py-3 bg-indigo-50 border-2 border-dashed border-indigo-300 rounded-xl text-sm font-bold text-indigo-600 hover:bg-indigo-100 hover:border-indigo-400 transition-colors flex items-center justify-center gap-2",children:[i.jsx(kn,{className:"w-4 h-4"}),"Add Line Item"]}),p.lineItems&&i.jsxs("p",{className:"text-xs text-red-600 font-bold px-1 flex items-center gap-1",children:[i.jsx(Yn,{className:"w-3 h-3"}),p.lineItems]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] px-1",children:["Total Amount (",ju(B.currency),")"]}),i.jsxs("div",{className:"relative",children:[i.jsx(Mu,{className:"absolute left-6 top-1/2 -translate-y-1/2 w-4 h-4 text-indigo-500"}),i.jsxs("div",{className:"w-full pl-12 pr-6 py-4 rounded-[20px] text-sm font-black bg-indigo-50 border-2 border-indigo-200 text-indigo-600",children:[ju(B.currency),B.lineItems.reduce((oe,ue)=>{const _e=ue.amount||ue.rate*ue.quantity||0;return oe+_e},0).toFixed(2)]})]})]})]}),s==="deal"&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] px-1",children:["Stage ",i.jsx(je,{})]}),i.jsxs("select",{required:!0,value:B.stage,onChange:oe=>{K(ue=>({...ue,stage:oe.target.value})),p.stage&&y(ue=>{const _e={...ue};return delete _e.stage,_e})},className:`w-full px-6 py-4 rounded-[20px] text-sm outline-none font-bold appearance-none bg-[length:20px_20px] bg-[right_16px_center] bg-no-repeat ${p.stage?"bg-red-50 border-2 border-red-400 focus:ring-4 focus:ring-red-100 focus:border-red-500":"bg-slate-50 border border-slate-200 focus:ring-4 focus:ring-indigo-50"} bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%22%3E%3Cpath%20stroke%3D%22${p.stage?"%23ef4444":"%236b7280"}%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22m6%208%204%204%204-4%22%2F%3E%3C%2Fsvg%3E')]`,children:[i.jsx("option",{value:"",children:"Select Stage"}),i.jsx("option",{value:"Discovery",children:"Discovery"}),i.jsx("option",{value:"Proposal",children:"Proposal"}),i.jsx("option",{value:"Negotiation",children:"Negotiation"}),i.jsx("option",{value:"Won",children:"Won"}),i.jsx("option",{value:"Lost",children:"Lost"})]}),p.stage&&i.jsxs("p",{className:"text-xs text-red-600 font-bold px-1 flex items-center gap-1",children:[i.jsx(Yn,{className:"w-3 h-3"}),p.stage]})]}),s==="project"&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] px-1",children:["Engagement ",i.jsx(je,{})]}),i.jsx("input",{required:!0,type:"text",placeholder:"e.g., Consulting, Implementation, Support",value:B.engagement,onChange:oe=>{K(ue=>({...ue,engagement:oe.target.value})),p.engagement&&y(ue=>{const _e={...ue};return delete _e.engagement,_e})},className:`w-full px-6 py-4 rounded-[20px] text-sm outline-none transition-all font-bold placeholder:text-slate-300 ${p.engagement?"bg-red-50 border-2 border-red-500 focus:ring-4 focus:ring-red-100 focus:border-red-600":"bg-slate-50 border border-slate-200 focus:ring-4 focus:ring-indigo-50 focus:border-indigo-600"}`}),p.engagement&&i.jsxs("p",{className:"text-xs text-red-600 font-bold px-1 flex items-center gap-1",children:[i.jsx(Yn,{className:"w-3 h-3"}),p.engagement]})]}),s==="project"&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] px-1",children:["Start Date ",i.jsx(je,{})]}),i.jsxs("div",{className:"relative",children:[i.jsx(La,{className:"absolute left-6 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),i.jsx("input",{required:!0,type:"date",value:B.startDate,onChange:oe=>{if(K(ue=>({...ue,startDate:oe.target.value})),p.startDate&&y(ue=>{const _e={...ue};return delete _e.startDate,_e}),oe.target.value&&B.endDate){const ue=new Date(oe.target.value),_e=new Date(B.endDate);!isNaN(ue.getTime())&&!isNaN(_e.getTime())&&ue>=_e?y(Se=>({...Se,endDate:"End Date must be after Start Date"})):p.endDate==="End Date must be after Start Date"&&y(Se=>{const Pe={...Se};return delete Pe.endDate,Pe})}},className:`w-full pl-12 pr-6 py-4 rounded-[20px] text-sm outline-none font-bold transition-all ${p.startDate?"bg-red-50 border-2 border-red-500 focus:ring-4 focus:ring-red-100 focus:border-red-600":"bg-slate-50 border border-slate-200 focus:ring-4 focus:ring-indigo-50"}`})]}),p.startDate&&i.jsxs("p",{className:"text-xs text-red-600 font-bold px-1 flex items-center gap-1",children:[i.jsx(Yn,{className:"w-3 h-3"}),p.startDate]})]}),s==="project"&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] px-1",children:["End Date ",i.jsx(je,{})]}),i.jsxs("div",{className:"relative",children:[i.jsx(La,{className:"absolute left-6 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),i.jsx("input",{required:!0,type:"date",value:B.endDate,onChange:oe=>{if(K(ue=>({...ue,endDate:oe.target.value})),p.endDate&&y(ue=>{const _e={...ue};return delete _e.endDate,_e}),B.startDate&&oe.target.value){const ue=new Date(B.startDate),_e=new Date(oe.target.value);!isNaN(ue.getTime())&&!isNaN(_e.getTime())&&ue>=_e&&y(Se=>({...Se,endDate:"End Date must be after Start Date"}))}},className:`w-full pl-12 pr-6 py-4 rounded-[20px] text-sm outline-none font-bold transition-all ${p.endDate?"bg-red-50 border-2 border-red-500 focus:ring-4 focus:ring-red-100 focus:border-red-600":"bg-slate-50 border border-slate-200 focus:ring-4 focus:ring-indigo-50"}`})]}),p.endDate&&i.jsxs("p",{className:"text-xs text-red-600 font-bold px-1 flex items-center gap-1",children:[i.jsx(Yn,{className:"w-3 h-3"}),p.endDate]})]}),s==="invoice"&&i.jsxs("div",{className:"md:col-span-2 space-y-2",children:[i.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] px-1",children:["Due Date ",i.jsx(je,{})]}),i.jsxs("div",{className:"relative",children:[i.jsx(La,{className:"absolute left-6 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),i.jsx("input",{required:!0,type:"date",value:B.expectedCloseDate,onChange:oe=>{K(ue=>({...ue,expectedCloseDate:oe.target.value})),p.expectedCloseDate&&y(ue=>{const _e={...ue};return delete _e.expectedCloseDate,_e})},className:`w-full pl-12 pr-6 py-4 rounded-[20px] text-sm outline-none font-bold transition-all ${p.expectedCloseDate?"bg-red-50 border-2 border-red-500 focus:ring-4 focus:ring-red-100 focus:border-red-600":"bg-slate-50 border border-slate-200 focus:ring-4 focus:ring-indigo-50"}`})]}),p.expectedCloseDate&&i.jsxs("p",{className:"text-xs text-red-600 font-bold px-1 flex items-center gap-1",children:[i.jsx(Yn,{className:"w-3 h-3"}),p.expectedCloseDate]})]}),s!=="invoice"&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] px-1",children:s==="deal"?"Expected Close Date":"Due Date"}),i.jsxs("div",{className:"relative",children:[i.jsx(La,{className:"absolute left-6 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),i.jsx("input",{type:"date",value:B.expectedCloseDate,onChange:oe=>K(ue=>({...ue,expectedCloseDate:oe.target.value})),className:"w-full pl-12 pr-6 py-4 bg-slate-50 border border-slate-200 rounded-[20px] text-sm outline-none focus:ring-4 focus:ring-indigo-50 font-bold"})]})]}),s==="task"&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] px-1",children:"Priority"}),i.jsx("div",{className:"flex gap-2 p-1 bg-slate-100 rounded-2xl border border-slate-200",children:["Low","Medium","High"].map(oe=>i.jsx("button",{type:"button",onClick:()=>K({...B,priority:oe}),className:`flex-1 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${B.priority===oe?"bg-white text-indigo-600 shadow-md":"text-slate-400"}`,children:oe},oe))})]}),i.jsxs("div",{className:"md:col-span-2 space-y-3",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] px-1",children:"Description"}),i.jsx("textarea",{placeholder:"Add Context or Notes...",value:B.description,onChange:oe=>K(ue=>({...ue,description:oe.target.value})),rows:3,className:"w-full px-6 py-5 bg-slate-50 border border-slate-200 rounded-[32px] text-sm outline-none focus:ring-4 focus:ring-indigo-50 resize-none font-medium placeholder:text-slate-300"}),i.jsxs("label",{className:"cursor-pointer group block",children:[i.jsxs("div",{className:"flex items-center gap-3 px-5 py-4 bg-slate-50 border-2 border-dashed border-slate-200 rounded-[24px] hover:border-indigo-300 hover:bg-indigo-50/30 transition-all",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-indigo-100 flex items-center justify-center text-indigo-600 group-hover:bg-indigo-200 transition-all",children:Z?i.jsx(Qs,{className:"w-5 h-5"}):i.jsx(hc,{className:"w-5 h-5"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xs font-black text-slate-900",children:Z?C?.name||"Image attached":"Attach Image to Note"}),i.jsx("p",{className:"text-[10px] text-slate-400 mt-0.5",children:"PNG, JPG, GIF (Max 10MB)"})]})]}),i.jsx("input",{ref:W,type:"file",accept:"image/*",onChange:ce,className:"hidden"})]}),Z&&i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:Z,alt:"Note attachment preview",className:"w-full max-h-64 object-contain rounded-[24px] border-2 border-slate-200"}),i.jsx("button",{type:"button",onClick:()=>{q(""),U(null),W.current&&(W.current.value="")},className:"absolute top-3 right-3 p-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all shadow-lg",children:i.jsx(mr,{className:"w-4 h-4"})})]})]})]}),i.jsxs("div",{className:"flex gap-6 pt-6 border-t border-slate-100",children:[i.jsx("button",{type:"button",onClick:he,className:"flex-1 py-5 text-sm font-black text-slate-400 hover:text-slate-600 transition-all uppercase tracking-[0.2em]",children:"CANCEL"}),i.jsxs("button",{type:"submit",disabled:u,className:"flex-[2] py-5 bg-slate-900 text-white font-black uppercase text-xs tracking-[0.25em] rounded-[24px] shadow-2xl shadow-indigo-100 hover:bg-indigo-700 active:scale-95 transition-all flex items-center justify-center gap-4 disabled:opacity-50",children:[u?i.jsx(Ot,{className:"w-5 h-5 animate-spin"}):i.jsx(ro,{className:"w-5 h-5"}),"SAVE"]})]})]})]}),te&&te.open&&i.jsxs("div",{className:"fixed inset-0 z-[100] overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm",onClick:()=>!ie&&J(null)}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl shadow-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Potential Duplicate Contact"}),i.jsx("p",{className:"text-sm text-slate-500 mt-1",children:te.duplicates.some(oe=>oe.matchType==="exact"||oe.matchReason==="email")?"A contact with this email already exists":"A contact with a similar name was found"})]}),i.jsx("button",{onClick:()=>!ie&&J(null),className:"p-2 hover:bg-white rounded-full text-slate-400 transition-colors",disabled:ie,children:i.jsx(mr,{className:"w-5 h-5"})})]}),i.jsx("div",{className:"p-6 overflow-y-auto flex-1",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-xl p-4",children:[i.jsx("p",{className:"text-xs font-bold text-indigo-900 uppercase tracking-wider mb-2",children:"New Contact Data"}),i.jsx("p",{className:"font-semibold text-slate-900",children:te.newContact.name||""}),te.newContact.email&&i.jsx("p",{className:"text-sm text-slate-600 mt-1",children:te.newContact.email}),te.newContact.phone&&i.jsxs("p",{className:"text-xs text-slate-600 mt-1",children:[" ",te.newContact.phone]}),te.newContact.role&&i.jsxs("p",{className:"text-xs text-slate-600 mt-1",children:[" ",te.newContact.role]})]}),i.jsxs("div",{children:[i.jsxs("p",{className:"text-xs font-bold text-slate-700 uppercase tracking-wider mb-3",children:["Existing Contact",te.duplicates.length>1?"s":""]}),i.jsx("div",{className:"space-y-3",children:te.duplicates.map((oe,ue)=>i.jsx("div",{className:"border border-slate-200 rounded-xl p-4 bg-slate-50",children:i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-semibold text-slate-900",children:oe.name||""}),oe.email&&i.jsx("p",{className:"text-sm text-slate-600 mt-1",children:oe.email}),i.jsxs("div",{className:"mt-2 space-y-1",children:[oe.role?i.jsxs("p",{className:"text-xs text-slate-500",children:[" ",oe.role]}):te.newContact.role&&i.jsxs("p",{className:"text-xs text-amber-600 font-medium",children:[" ",te.newContact.role," (will be added)"]}),oe.phone?i.jsxs("p",{className:"text-xs text-slate-500",children:[" ",oe.phone]}):te.newContact.phone&&i.jsxs("p",{className:"text-xs text-amber-600 font-medium",children:[" ",te.newContact.phone," (will be added)"]}),!oe.companyId&&te.newContact.companyId&&i.jsx("p",{className:"text-xs text-amber-600 font-medium",children:" Organization (will be linked)"})]}),oe.matchType==="fuzzy"&&oe.similarity&&i.jsxs("p",{className:"text-xs text-amber-600 mt-2 font-medium",children:[Math.round(oe.similarity*100),"% name similarity"]}),oe.matchType==="exact"&&i.jsx("p",{className:"text-xs text-red-600 mt-2 font-medium",children:"Exact email match"})]}),i.jsxs("button",{onClick:async()=>{if(!ie){X(!0);try{const _e={};te.newContact.name&&(!oe.name||oe.name.trim()===""||te.newContact.name.trim()!==oe.name.trim())&&(_e.name=te.newContact.name),te.newContact.email&&(!oe.email||oe.email.trim()==="")&&(_e.email=te.newContact.email),te.newContact.phone&&(!oe.phone||oe.phone.trim()==="")&&(_e.phone=te.newContact.phone),te.newContact.role&&(!oe.role||oe.role.trim()==="")&&(_e.role=te.newContact.role),te.newContact.companyId&&(!oe.companyId||oe.companyId.trim()==="")&&(_e.companyId=te.newContact.companyId),te.newContact.linkedin&&(!oe.linkedin||oe.linkedin.trim()==="")&&(_e.linkedin=te.newContact.linkedin),Object.keys(_e).length>0&&await kF(oe.id,_e),J(null),c("success"),a&&a(),setTimeout(()=>n(),1500)}catch(_e){console.error("[MERGE] Failed:",_e),m(_e.message||"Merge failed"),X(!1)}}},disabled:ie,className:"px-4 py-2 bg-indigo-600 text-white text-sm font-semibold rounded-xl hover:bg-indigo-700 flex items-center gap-2 disabled:opacity-60 transition-all whitespace-nowrap",children:[ie?i.jsx(Ot,{className:"w-4 h-4 animate-spin"}):i.jsx(nv,{className:"w-4 h-4"}),"Merge"]})]})},oe.id||ue))})]})]})}),i.jsxs("div",{className:"p-6 border-t border-slate-100 flex gap-3",children:[i.jsx("button",{type:"button",onClick:()=>J(null),className:"flex-1 py-3 text-sm font-bold text-slate-500 hover:bg-slate-50 rounded-xl border border-slate-200 transition-colors",disabled:ie,children:"Cancel"}),i.jsxs("button",{onClick:async()=>{if(!ie){X(!0);try{await eP(te.newContact),J(null),c("success"),a&&a(),setTimeout(()=>n(),1500)}catch(oe){console.error("[CREATE] Failed:",oe),m(oe.message||"Failed to create contact"),X(!1),J(null)}}},disabled:ie,className:"flex-[2] py-3 bg-slate-900 text-white text-sm font-bold rounded-xl hover:bg-indigo-700 flex items-center justify-center gap-2 disabled:opacity-60 transition-all",children:[ie?i.jsx(Ot,{className:"w-5 h-5 animate-spin"}):i.jsx(kn,{className:"w-5 h-5"}),"Create Anyway"]})]})]})})]})]})},Dxe=({event:e,selectedDate:t,onClose:r,onSuccess:n})=>{const{showSuccess:a,showError:s}=oi(),[o,l]=V.useState(!1),[c,u]=V.useState({title:"",description:"",start:"",end:"",type:"meeting",color:"#4f46e5"});V.useEffect(()=>{if(e)u({title:e.title,description:e.description||"",start:e.start.substring(0,16),end:e.end.substring(0,16),type:e.type,color:e.color||"#4f46e5"});else if(t){const h=new Date(t);h.setHours(9,0,0,0);const m=new Date(t);m.setHours(10,0,0,0),u(p=>({...p,start:h.toISOString().substring(0,16),end:m.toISOString().substring(0,16)}))}},[e,t]);const d=async h=>{h.preventDefault(),l(!0);try{e?(await tne(e.id,c),a("Event updated successfully")):(await ene({...c,source:"local"}),a("Event created successfully")),n(),r()}catch(m){s(m.message||"Failed to save event")}finally{l(!1)}};return i.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-[100] flex items-center justify-center p-4 animate-in fade-in duration-300",children:i.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-indigo-600 rounded-xl text-white shadow-lg shadow-indigo-100",children:i.jsx(La,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-bold text-slate-900",children:e?"Edit Event":"New Entry"}),i.jsx("p",{className:"text-[10px] text-slate-400 uppercase tracking-widest font-black",children:"Workspace Schedule"})]})]}),i.jsx("button",{onClick:r,className:"p-2 hover:bg-white rounded-full text-slate-400 transition-colors shadow-sm border border-transparent hover:border-slate-100",children:i.jsx(mr,{className:"w-5 h-5"})})]}),i.jsxs("form",{onSubmit:d,className:"p-6 space-y-5",children:[i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Event Title"}),i.jsx("input",{required:!0,type:"text",placeholder:"e.g. Project Sync w/ Client",value:c.title,onChange:h=>u({...c,title:h.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm outline-none focus:ring-2 focus:ring-indigo-100 transition-all"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-1.5",children:[i.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1 flex items-center gap-1.5",children:[i.jsx(zi,{className:"w-3 h-3"})," Start"]}),i.jsx("input",{required:!0,type:"datetime-local",value:c.start,onChange:h=>u({...c,start:h.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-xs outline-none focus:ring-2 focus:ring-indigo-100"})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1 flex items-center gap-1.5",children:[i.jsx(zi,{className:"w-3 h-3"})," End"]}),i.jsx("input",{required:!0,type:"datetime-local",value:c.end,onChange:h=>u({...c,end:h.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-xs outline-none focus:ring-2 focus:ring-indigo-100"})]})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1 flex items-center gap-1.5",children:[i.jsx(Da,{className:"w-3 h-3"})," Event Type"]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:["meeting","task","deadline","reminder"].map(h=>i.jsx("button",{type:"button",onClick:()=>u({...c,type:h}),className:`px-4 py-2 rounded-xl text-xs font-bold capitalize transition-all border ${c.type===h?"bg-indigo-600 text-white border-indigo-600 shadow-md shadow-indigo-100":"bg-white text-slate-500 border-slate-200 hover:border-indigo-300"}`,children:h},h))})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1 flex items-center gap-1.5",children:[i.jsx(xR,{className:"w-3 h-3"})," Description"]}),i.jsx("textarea",{placeholder:"Add details, notes, or agenda...",value:c.description,onChange:h=>u({...c,description:h.target.value}),rows:3,className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm outline-none focus:ring-2 focus:ring-indigo-100 resize-none"})]}),i.jsxs("div",{className:"flex gap-3 pt-2",children:[i.jsx("button",{type:"button",onClick:r,className:"flex-1 py-3 text-sm font-bold text-slate-500 hover:bg-slate-50 rounded-2xl transition-colors border border-transparent hover:border-slate-200",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:o,className:"flex-[2] py-3 bg-indigo-600 text-white text-sm font-bold rounded-2xl flex items-center justify-center gap-2 shadow-xl shadow-indigo-100 hover:bg-indigo-700 transition-all active:scale-[0.98] disabled:opacity-50",children:o?i.jsx(Ot,{className:"w-4 h-4 animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(Fu,{className:"w-4 h-4"}),e?"Save Changes":"Create Entry"]})})]})]})]})})},Lxe=({currentUser:e})=>{const{showSuccess:t,showError:r}=oi(),[n,a]=V.useState(!1),[s,o]=V.useState(!1),[l,c]=V.useState(!1),[u,d]=V.useState({type:"bug",title:"",description:""}),[h,m]=V.useState([]),[p,y]=V.useState(!1),[v,g]=V.useState("upload"),[b,w]=V.useState(""),[j,N]=V.useState(!1),S=V.useRef(null),P=V.useRef(h);V.useEffect(()=>{P.current=h},[h]),V.useEffect(()=>()=>{P.current.forEach(I=>{I.source==="file"&&I.type==="video"&&I.preview.startsWith("blob:")&&URL.revokeObjectURL(I.preview)})},[]);const A=(I,z=1920,Q=1080,te=.8)=>new Promise((J,ie)=>{const X=new FileReader;X.onload=Z=>{const q=new Image;q.onload=()=>{let C=q.width,U=q.height;C>U?C>z&&(U=U*z/C,C=z):U>Q&&(C=C*Q/U,U=Q);const W=document.createElement("canvas");W.width=C,W.height=U;const B=W.getContext("2d");if(!B){ie(new Error("Failed to create canvas context"));return}B.drawImage(q,0,0,C,U);const K=W.toDataURL("image/jpeg",te);J(K)},q.onerror=()=>ie(new Error("Failed to load image")),q.src=Z.target?.result},X.onerror=()=>ie(new Error("Failed to read file")),X.readAsDataURL(I)}),O=async I=>{const z=I.target.files;if(!(!z||z.length===0)){y(!0);try{const Q=[];for(let te=0;te<z.length;te++){const J=z[te];if(!J.type.startsWith("image/")&&!J.type.startsWith("video/")){r("Please select only image or video files");continue}if(J.size>10*1024*1024){r(`File "${J.name}" is too large. Maximum size is 10MB`);continue}const ie=J.type.startsWith("image/");let X="";ie?X=await A(J,1920,1080,.8):X=URL.createObjectURL(J),Q.push({file:J,preview:X,type:ie?"image":"video",source:"file"})}m(te=>[...te,...Q]),S.current&&(S.current.value="")}catch(Q){r(Q.message||"Failed to process file")}finally{y(!1)}}},M=I=>new Promise(z=>{const Q=new Image,te=document.createElement("video"),J=[".jpg",".jpeg",".png",".gif",".webp",".svg"],ie=[".mp4",".mov",".avi",".webm",".mkv"],X=I.toLowerCase(),Z=J.some(C=>X.includes(C))||X.includes("image")||X.match(/\.(jpg|jpeg|png|gif|webp|svg)(\?|$)/i),q=ie.some(C=>X.includes(C))||X.includes("video")||X.match(/\.(mp4|mov|avi|webm|mkv)(\?|$)/i);!Z&&!q?(Q.onload=()=>z(!0),Q.onerror=()=>{te.onloadedmetadata=()=>z(!0),te.onerror=()=>z(!1),te.src=I},Q.src=I):z(!0)}),F=async()=>{if(!b.trim()){r("Please enter a valid URL");return}try{new URL(b.trim())}catch{r("Please enter a valid URL");return}N(!0);try{if(!await M(b.trim())){r("URL does not appear to be a valid image or video");return}const z=b.toLowerCase(),Q=z.match(/\.(jpg|jpeg|png|gif|webp|svg)(\?|$)/i)||z.includes("image")||!z.match(/\.(mp4|mov|avi|webm|mkv)(\?|$)/i)&&!z.includes("video"),te={url:b.trim(),preview:b.trim(),type:Q?"image":"video",source:"url"};m(J=>[...J,te]),w(""),t("URL added successfully")}catch(I){r(I.message||"Failed to validate URL")}finally{N(!1)}},E=I=>{const z=h[I];z.source==="file"&&z.type==="video"&&z.preview.startsWith("blob:")&&URL.revokeObjectURL(z.preview),m(Q=>Q.filter((te,J)=>J!==I))},T=async I=>{if(I.preventDefault(),!(!u.title||!u.description)){o(!0);try{const z=h.filter(X=>X.source==="url"),Q=h.filter(X=>X.source==="file"),te=z.length>0?z[0].url:"",J=await Promise.all(Q.map(async X=>X.type==="image"?{type:"image",data:X.preview,filename:X.file.name,mimeType:X.file.type,source:"file"}:new Promise((Z,q)=>{const C=new FileReader;C.onload=()=>{Z({type:"video",data:C.result,filename:X.file.name,mimeType:X.file.type,source:"file"})},C.onerror=q,C.readAsDataURL(X.file)}))),ie={...u,userId:e?.id||"anonymous",status:"planned",url:te||void 0,attachments:J.length>0?J:[]};await TF(ie),c(!0),t("Integrated into Roadmap"),window.dispatchEvent(new Event("refresh-roadmap")),setTimeout(()=>{c(!1),a(!1),d({type:"bug",title:"",description:""}),h.forEach(X=>{X.type==="video"&&X.preview.startsWith("blob:")&&URL.revokeObjectURL(X.preview)}),m([])},2e3)}catch(z){console.error("[FEEDBACK] Submission failed:",z),r(`Submission error: ${z.message||"Registry error"}`)}finally{o(!1)}}};return i.jsxs("div",{className:"fixed right-0 top-1/2 -translate-y-1/2 z-[100] flex items-center pointer-events-none",children:[i.jsx("button",{onClick:()=>a(!n),className:`pointer-events-auto h-32 w-10 bg-slate-900 text-white flex flex-col items-center justify-center rounded-l-2xl shadow-2xl transition-all duration-300 hover:w-12 group border-l border-y border-white/10 ${n?"translate-x-full":""}`,children:i.jsx("span",{className:"[writing-mode:vertical-lr] text-[11px] font-black uppercase tracking-[0.3em] rotate-180",children:"Feedback"})}),i.jsx("div",{className:`pointer-events-auto fixed right-0 top-1/2 -translate-y-1/2 w-[90vw] sm:w-80 bg-white shadow-[-20px_0_60px_rgba(0,0,0,0.15)] rounded-l-[32px] border-l border-slate-100 transition-all duration-500 ease-out transform overflow-hidden ${n?"translate-x-0":"translate-x-full"}`,children:l?i.jsxs("div",{className:"p-10 text-center animate-in zoom-in-95 duration-300",children:[i.jsx("div",{className:"w-16 h-16 bg-emerald-50 rounded-full flex items-center justify-center text-emerald-500 mx-auto mb-6",children:i.jsx(wn,{className:"w-10 h-10"})}),i.jsx("h3",{className:"text-xl font-black text-slate-900 mb-2",children:"Submitted"}),i.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-widest",children:"Entry Stored Successfully"})]}):i.jsxs("div",{className:"flex flex-col h-full max-h-[80vh]",children:[i.jsxs("div",{className:"p-6 border-b border-slate-50 flex justify-between items-center bg-slate-50/50",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-indigo-600 rounded-xl text-white",children:i.jsx(ls,{className:"w-4 h-4"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-black text-slate-900",children:"Feedback Hub"}),i.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest leading-none mt-0.5",children:"Community Input"})]})]}),i.jsx("button",{onClick:()=>{a(!1),h.forEach(I=>{I.source==="file"&&I.type==="video"&&I.preview.startsWith("blob:")&&URL.revokeObjectURL(I.preview)}),m([]),w("")},className:"p-2 hover:bg-white rounded-full text-slate-400 transition-all",children:i.jsx(mr,{className:"w-4 h-4"})})]}),i.jsxs("form",{onSubmit:T,className:"p-6 space-y-6 overflow-y-auto custom-scrollbar",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Classification"}),i.jsx("div",{className:"flex gap-1 p-1 bg-slate-100 rounded-2xl border border-slate-200",children:[{id:"bug",icon:i.jsx(ev,{className:"w-3 h-3"}),label:"Bug"},{id:"feature",icon:i.jsx(Ts,{className:"w-3 h-3"}),label:"Feature"},{id:"idea",icon:i.jsx(KN,{className:"w-3 h-3"}),label:"Idea"}].map(I=>i.jsxs("button",{type:"button",onClick:()=>d({...u,type:I.id}),className:`flex-1 flex items-center justify-center gap-1.5 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-tighter transition-all ${u.type===I.id?"bg-white text-indigo-600 shadow-md border border-slate-100":"text-slate-400 hover:text-slate-600"}`,children:[I.icon," ",I.label]},I.id))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Title"}),i.jsx("input",{required:!0,type:"text",placeholder:"Summary...",value:u.title,onChange:I=>d({...u,title:I.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-bold outline-none focus:ring-4 focus:ring-indigo-50"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Context"}),i.jsx("textarea",{required:!0,rows:4,placeholder:"Provide details...",value:u.description,onChange:I=>d({...u,description:I.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-[20px] text-sm font-medium outline-none focus:ring-4 focus:ring-indigo-50 resize-none"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Attachments (Screenshots/Videos)"}),i.jsxs("div",{className:"flex gap-1 p-1 bg-slate-100 rounded-xl border border-slate-200",children:[i.jsxs("button",{type:"button",onClick:()=>g("upload"),className:`flex-1 flex items-center justify-center gap-1.5 py-2 rounded-lg text-[10px] font-black uppercase transition-all ${v==="upload"?"bg-white text-indigo-600 shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:[i.jsx(hc,{className:"w-3 h-3"}),"Upload"]}),i.jsxs("button",{type:"button",onClick:()=>g("url"),className:`flex-1 flex items-center justify-center gap-1.5 py-2 rounded-lg text-[10px] font-black uppercase transition-all ${v==="url"?"bg-white text-indigo-600 shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:[i.jsx(XN,{className:"w-3 h-3"}),"URL"]})]}),v==="upload"&&i.jsxs("label",{className:"flex items-center gap-3 p-3 bg-slate-50 border-2 border-dashed border-slate-200 rounded-xl cursor-pointer hover:border-indigo-300 hover:bg-indigo-50/30 transition-all",children:[i.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center text-indigo-600",children:p?i.jsx(Ot,{className:"w-5 h-5 animate-spin"}):i.jsx(hc,{className:"w-5 h-5"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xs font-bold text-slate-900",children:"Add Screenshot or Video"}),i.jsx("p",{className:"text-[10px] text-slate-400",children:"PNG, JPG, MP4, MOV (Max 10MB)"})]}),i.jsx("input",{ref:S,type:"file",accept:"image/*,video/*",multiple:!0,onChange:O,disabled:p,className:"hidden"})]}),v==="url"&&i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"url",placeholder:"https://example.com/image.png or video.mp4",value:b,onChange:I=>w(I.target.value),onKeyDown:I=>{I.key==="Enter"&&!j&&b.trim()&&(I.preventDefault(),F())},disabled:j,className:"flex-1 px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-medium outline-none focus:ring-4 focus:ring-indigo-50 disabled:opacity-50"}),i.jsx("button",{type:"button",onClick:F,disabled:j||!b.trim(),className:"px-4 py-3 bg-indigo-600 text-white rounded-xl font-bold text-sm hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 min-w-[80px]",children:j?i.jsxs(i.Fragment,{children:[i.jsx(Ot,{className:"w-4 h-4 animate-spin"}),i.jsx("span",{className:"hidden sm:inline",children:"Adding..."})]}):i.jsxs(i.Fragment,{children:[i.jsx(XN,{className:"w-4 h-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Add"})]})})]}),h.length>0&&i.jsx("div",{className:"space-y-2",children:h.map((I,z)=>i.jsx("div",{className:"relative group p-2 bg-slate-50 rounded-xl border border-slate-200",children:I.type==="image"?i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("img",{src:I.preview,alt:`Attachment ${z+1}`,className:"w-16 h-16 object-cover rounded-lg border border-slate-200",onError:Q=>{Q.target.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="64" height="64"%3E%3Crect fill="%23e0e7ff" width="64" height="64"/%3E%3Ctext x="50%25" y="50%25" text-anchor="middle" dy=".3em" fill="%234f46e5" font-size="24"%3E%3F%3C/text%3E%3C/svg%3E'}}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(Qs,{className:"w-4 h-4 text-indigo-600"}),i.jsx("p",{className:"text-xs font-bold text-slate-900 truncate",children:I.source==="file"?I.file.name:"Image URL"}),I.source==="url"&&i.jsx("span",{className:"px-1.5 py-0.5 bg-indigo-100 text-indigo-600 text-[9px] font-bold rounded",children:"URL"})]}),i.jsx("p",{className:"text-[10px] text-slate-400 truncate",children:I.source==="file"?`${(I.file.size/1024).toFixed(1)} KB`:I.url})]}),i.jsx("button",{type:"button",onClick:()=>E(z),className:"p-1.5 text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:i.jsx(Ir,{className:"w-4 h-4"})})]}):i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-lg flex items-center justify-center",children:i.jsx(ih,{className:"w-6 h-6 text-indigo-600"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(ih,{className:"w-4 h-4 text-indigo-600"}),i.jsx("p",{className:"text-xs font-bold text-slate-900 truncate",children:I.source==="file"?I.file.name:"Video URL"}),I.source==="url"&&i.jsx("span",{className:"px-1.5 py-0.5 bg-indigo-100 text-indigo-600 text-[9px] font-bold rounded",children:"URL"})]}),i.jsx("p",{className:"text-[10px] text-slate-400 truncate",children:I.source==="file"?`${(I.file.size/(1024*1024)).toFixed(2)} MB`:I.url})]}),i.jsx("button",{type:"button",onClick:()=>E(z),className:"p-1.5 text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:i.jsx(Ir,{className:"w-4 h-4"})})]})},z))})]}),i.jsxs("button",{type:"submit",disabled:s||p||j,className:"w-full py-4 bg-slate-900 text-white font-black uppercase text-xs tracking-widest rounded-2xl shadow-xl hover:bg-indigo-600 transition-all flex items-center justify-center gap-3 disabled:opacity-50 active:scale-95",children:[s?i.jsx(Ot,{className:"w-4 h-4 animate-spin"}):i.jsx(Mc,{className:"w-4 h-4"}),"Send Feedback"]})]})]})})]})},Fxe=({onBack:e})=>i.jsxs("div",{className:"min-h-screen bg-slate-950 flex flex-col p-4 md:p-8 relative overflow-hidden",children:[i.jsxs("div",{className:"absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none",children:[i.jsx("div",{className:"absolute top-10 left-10 w-64 h-64 bg-indigo-600 rounded-full blur-[120px]"}),i.jsx("div",{className:"absolute bottom-10 right-10 w-96 h-96 bg-blue-600 rounded-full blur-[150px]"})]}),i.jsxs("div",{className:"w-full max-w-3xl mx-auto z-10 flex flex-col gap-6 animate-in fade-in duration-300",children:[i.jsxs("a",{href:"/",onClick:t=>{t.preventDefault(),e()},className:"self-start flex items-center gap-2 text-slate-400 hover:text-white transition-colors text-sm font-medium",children:[i.jsx(Wj,{className:"w-4 h-4"}),"Back to login"]}),i.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-3xl p-8 lg:p-10 shadow-2xl space-y-8",children:[i.jsxs("div",{className:"text-center border-b border-white/10 pb-8",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-indigo-500/20 flex items-center justify-center",children:i.jsx(vR,{className:"w-6 h-6 text-indigo-400"})}),i.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"Help & Support"})]}),i.jsx("p",{className:"text-slate-400 text-sm",children:"ImpactFlow OS  Impact 24x7 Enterprise"})]}),i.jsxs("div",{className:"space-y-6 text-slate-300 text-sm",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-white font-semibold text-base mb-3",children:"How to get access"}),i.jsx("p",{className:"leading-relaxed mb-3",children:"ImpactFlow OS is restricted to authorized personnel. To gain access:"}),i.jsxs("ol",{className:"list-decimal list-inside space-y-2 ml-2",children:[i.jsx("li",{children:"Enter your professional email address in the login portal"}),i.jsx("li",{children:'Click "Request Access Code" to receive a one-time verification code'}),i.jsx("li",{children:"Enter the 6-digit code sent to your email"}),i.jsx("li",{children:"If your account has not been provisioned yet, contact your administrator or IT team"})]})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-white font-semibold text-base mb-3",children:"I didn't receive the code"}),i.jsx("p",{className:"leading-relaxed mb-3",children:"If you haven't received your verification code:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-2",children:[i.jsx("li",{children:"Check your spam or junk folder"}),i.jsx("li",{children:"Codes are valid for a limited time - request a new code if expired"}),i.jsx("li",{children:'Click "Request New Code" on the verification screen'}),i.jsx("li",{children:"Ensure your email is correctly provisioned in the system"}),i.jsx("li",{children:"Contact your administrator if the problem persists"})]})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-white font-semibold text-base mb-3",children:"Troubleshooting"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-white font-medium text-sm mb-2",children:"Account not found"}),i.jsx("p",{className:"leading-relaxed",children:`If you see an "Account not found" error, your account may not have been provisioned yet. Contact your organization's IT administrator to request access.`})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-white font-medium text-sm mb-2",children:"Code expired"}),i.jsx("p",{className:"leading-relaxed",children:'Verification codes expire after a set period for security. Simply request a new code using the "Request New Code" button.'})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-white font-medium text-sm mb-2",children:"Invalid code"}),i.jsx("p",{className:"leading-relaxed",children:"Make sure you're entering the most recent code sent to your email. Each new code request invalidates previous codes."})]})]})]}),i.jsxs("div",{className:"bg-indigo-500/10 border border-indigo-500/20 rounded-xl p-6",children:[i.jsxs("h2",{className:"text-white font-semibold text-base mb-3 flex items-center gap-2",children:[i.jsx(eo,{className:"w-5 h-5 text-indigo-400"}),"Contact support"]}),i.jsx("p",{className:"leading-relaxed mb-3",children:"For access issues, technical support, or account questions:"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-indigo-400",children:""}),i.jsx("span",{children:"Contact your organization's IT administrator"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-indigo-400",children:""}),i.jsxs("span",{children:["Email: ",i.jsx("a",{href:"mailto:support@impact247.com",className:"text-indigo-400 hover:underline",children:"support@impact247.com"})]})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-indigo-400",children:""}),i.jsx("span",{children:"Include your email address and a description of the issue"})]})]})]})]}),i.jsxs("div",{className:"pt-6 border-t border-white/10 text-center",children:[i.jsx("p",{className:"text-[10px] text-slate-500 mb-4",children:" Impact 24x7 Enterprise. Access restricted to authorized personnel."}),i.jsx("a",{href:"/",onClick:t=>{t.preventDefault(),e()},className:"inline-block px-6 py-2 bg-indigo-600 hover:bg-indigo-700 text-white text-sm font-bold rounded-xl transition-colors",children:"Back to login"})]})]})]})]}),Mxe=({onBack:e})=>i.jsxs("div",{className:"min-h-screen bg-slate-950 flex flex-col p-4 md:p-8 relative overflow-hidden",children:[i.jsxs("div",{className:"absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none",children:[i.jsx("div",{className:"absolute top-10 left-10 w-64 h-64 bg-indigo-600 rounded-full blur-[120px]"}),i.jsx("div",{className:"absolute bottom-10 right-10 w-96 h-96 bg-blue-600 rounded-full blur-[150px]"})]}),i.jsxs("div",{className:"w-full max-w-3xl mx-auto z-10 flex flex-col gap-6 animate-in fade-in duration-300",children:[i.jsxs("a",{href:"/",onClick:t=>{t.preventDefault(),e()},className:"self-start flex items-center gap-2 text-slate-400 hover:text-white transition-colors text-sm font-medium",children:[i.jsx(Wj,{className:"w-4 h-4"}),"Back to login"]}),i.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-3xl p-8 lg:p-10 shadow-2xl space-y-8",children:[i.jsxs("div",{className:"text-center border-b border-white/10 pb-8",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-indigo-500/20 flex items-center justify-center",children:i.jsx(vm,{className:"w-6 h-6 text-indigo-400"})}),i.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"Privacy Policy"})]}),i.jsx("p",{className:"text-slate-400 text-sm",children:"ImpactFlow OS  Impact 24x7 Enterprise"}),i.jsx("p",{className:"text-slate-500 text-xs mt-2",children:"Last updated: February 2026"})]}),i.jsxs("div",{className:"space-y-6 text-slate-300 text-sm",children:[i.jsx("div",{children:i.jsx("p",{className:"leading-relaxed",children:'This Privacy Policy describes how ImpactFlow OS and Impact 24x7 Enterprise ("we," "our," or "us") collect, use, disclose, and protect your information when you use our platform and services.'})}),i.jsxs("div",{children:[i.jsxs("h2",{className:"text-white font-semibold text-base mb-3 flex items-center gap-2",children:[i.jsx(Wa,{className:"w-5 h-5 text-indigo-400"}),"Information We Collect"]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-white font-medium text-sm mb-2",children:"Account Information"}),i.jsx("p",{className:"leading-relaxed",children:"We collect information you provide when creating an account or signing in, including your professional email address, name, and any profile information you choose to provide."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-white font-medium text-sm mb-2",children:"Usage Data"}),i.jsx("p",{className:"leading-relaxed",children:"We automatically collect information about how you use ImpactFlow OS, including features accessed, actions taken, and time spent on the platform. This helps us improve our services."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-white font-medium text-sm mb-2",children:"Device Information"}),i.jsx("p",{className:"leading-relaxed",children:"We may collect information about your device, browser type, IP address, and operating system for security and compatibility purposes."})]}),i.jsx("p",{className:"leading-relaxed mt-3 text-indigo-400 font-medium",children:"We do not sell your personal information to third parties."})]})]}),i.jsxs("div",{children:[i.jsxs("h2",{className:"text-white font-semibold text-base mb-3 flex items-center gap-2",children:[i.jsx(OR,{className:"w-5 h-5 text-indigo-400"}),"How We Use Your Information"]}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-2",children:[i.jsx("li",{children:"To authenticate your access and maintain your account"}),i.jsx("li",{children:"To personalize your experience and provide relevant features"}),i.jsx("li",{children:"To provide customer support and respond to your inquiries"}),i.jsx("li",{children:"To improve our services, features, and user experience"}),i.jsx("li",{children:"To ensure security and prevent fraud or abuse"}),i.jsx("li",{children:"To comply with legal obligations and enforce our terms"}),i.jsx("li",{children:"Access is role-based and limited to what is necessary for your job function"})]})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-white font-semibold text-base mb-3",children:"Data Security"}),i.jsx("p",{className:"leading-relaxed mb-3",children:"We implement industry-standard security measures to protect your information:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-2",children:[i.jsx("li",{children:"Encryption in transit (TLS/SSL) and at rest"}),i.jsx("li",{children:"Secure authentication mechanisms including multi-factor authentication"}),i.jsx("li",{children:"Access controls and role-based permissions"}),i.jsx("li",{children:"Regular security audits and monitoring"}),i.jsx("li",{children:"Restricted access to authorized personnel only"})]}),i.jsx("p",{className:"leading-relaxed mt-3",children:"While we strive to protect your information, no method of transmission over the internet is 100% secure. We cannot guarantee absolute security but are committed to maintaining the highest standards."})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-white font-semibold text-base mb-3",children:"Your Rights"}),i.jsx("p",{className:"leading-relaxed mb-3",children:"Depending on your location, you may have certain rights regarding your personal information:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Access:"})," Request access to your personal data"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Correction:"})," Request correction of inaccurate or incomplete data"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Deletion:"})," Request deletion of your personal data where applicable by law"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Portability:"})," Request transfer of your data to another service"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Objection:"})," Object to certain processing activities"]})]}),i.jsxs("p",{className:"leading-relaxed mt-3",children:["To exercise these rights, contact your administrator or our data protection contact at"," ",i.jsx("a",{href:"mailto:privacy@impact247.com",className:"text-indigo-400 hover:underline",children:"privacy@impact247.com"}),". Enterprise accounts may have additional policies defined by your organization."]})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-white font-semibold text-base mb-3",children:"Cookies and Similar Technologies"}),i.jsx("p",{className:"leading-relaxed mb-3",children:"We use essential cookies and local storage for:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-2",children:[i.jsx("li",{children:"Authentication and session management"}),i.jsx("li",{children:"Remembering your preferences"}),i.jsx("li",{children:"Security and fraud prevention"})]}),i.jsx("p",{className:"leading-relaxed mt-3",children:"We do not use third-party advertising cookies or tracking cookies. You can manage cookie preferences in your browser settings, though disabling essential cookies may affect platform functionality."})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-white font-semibold text-base mb-3",children:"Data Sharing and Disclosure"}),i.jsx("p",{className:"leading-relaxed mb-3",children:"We may share your information only in the following circumstances:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-2",children:[i.jsx("li",{children:"With your organization's administrators as part of enterprise account management"}),i.jsx("li",{children:"With service providers who assist in operating our platform (under strict confidentiality agreements)"}),i.jsx("li",{children:"When required by law or to protect our rights and safety"}),i.jsx("li",{children:"In connection with a business transfer (merger, acquisition, etc.)"})]}),i.jsx("p",{className:"leading-relaxed mt-3 font-medium text-indigo-400",children:"We do not sell, rent, or trade your personal information to third parties for marketing purposes."})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-white font-semibold text-base mb-3",children:"Data Retention"}),i.jsx("p",{className:"leading-relaxed",children:"We retain your personal information for as long as necessary to provide our services, comply with legal obligations, resolve disputes, and enforce our agreements. When you request deletion, we will delete or anonymize your data in accordance with applicable laws, except where retention is required for legal or legitimate business purposes."})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-white font-semibold text-base mb-3",children:"International Data Transfers"}),i.jsx("p",{className:"leading-relaxed",children:"Your information may be transferred to and processed in countries other than your country of residence. We ensure appropriate safeguards are in place to protect your data in accordance with this Privacy Policy and applicable data protection laws."})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-white font-semibold text-base mb-3",children:"Children's Privacy"}),i.jsx("p",{className:"leading-relaxed",children:"ImpactFlow OS is intended for business use and is not directed to individuals under the age of 18. We do not knowingly collect personal information from children. If you believe we have collected information from a child, please contact us immediately."})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-white font-semibold text-base mb-3",children:"Changes to This Policy"}),i.jsx("p",{className:"leading-relaxed",children:'We may update this Privacy Policy from time to time to reflect changes in our practices, technology, legal requirements, or other factors. The "Last updated" date at the top indicates when the policy was last revised. We will notify you of material changes by posting the updated policy on this page and, where appropriate, through other communication channels. Continued use of ImpactFlow OS after changes constitutes acceptance of the updated policy.'})]}),i.jsxs("div",{className:"bg-indigo-500/10 border border-indigo-500/20 rounded-xl p-6",children:[i.jsxs("h2",{className:"text-white font-semibold text-base mb-3 flex items-center gap-2",children:[i.jsx(eo,{className:"w-5 h-5 text-indigo-400"}),"Contact Us"]}),i.jsx("p",{className:"leading-relaxed mb-3",children:"If you have questions, concerns, or requests regarding this Privacy Policy or our data practices:"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-indigo-400",children:""}),i.jsxs("span",{children:["Email: ",i.jsx("a",{href:"mailto:privacy@impact247.com",className:"text-indigo-400 hover:underline",children:"privacy@impact247.com"})]})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-indigo-400",children:""}),i.jsx("span",{children:"Contact your organization's data protection officer or IT administrator"})]})]})]})]}),i.jsxs("div",{className:"pt-6 border-t border-white/10 text-center",children:[i.jsx("p",{className:"text-[10px] text-slate-500 mb-4",children:" Impact 24x7 Enterprise. Access restricted to authorized personnel."}),i.jsx("a",{href:"/",onClick:t=>{t.preventDefault(),e()},className:"inline-block px-6 py-2 bg-indigo-600 hover:bg-indigo-700 text-white text-sm font-bold rounded-xl transition-colors",children:"Back to login"})]})]})]})]}),Rxe=new Dne({defaultOptions:{queries:{staleTime:30*1e3,gcTime:300*1e3,refetchOnWindowFocus:!0,refetchOnReconnect:!0,refetchOnMount:!0,refetchInterval:60*1e3,retry:1,placeholderData:e=>e},mutations:{retry:1}}}),Bxe=({children:e})=>i.jsx(Lne,{client:Rxe,children:e}),Uxe=()=>{const[e,t]=V.useState(()=>localStorage.getItem("activeTab")||"dashboard"),[r,n]=V.useState(!1),[a,s]=V.useState(null),[o,l]=V.useState(!1),[c,u]=V.useState(""),[d,h]=V.useState(!1),[m,p]=V.useState({isOpen:!1,type:"deal"}),[y,v]=V.useState({isOpen:!1,event:null}),[g,b]=V.useState([]),[w,j]=V.useState(!1),[N,S]=V.useState(!1),P=g.filter(q=>!q.read).length,A=V.useRef(null),O=V.useCallback(async(q=!1)=>{try{const C=a||JSON.parse(localStorage.getItem("user_data")||"null");if(!C?.id)return;q&&S(!0);const U=await AF(C.id,20),W=U?.data||U||[],B=(Array.isArray(W)?W:[]).map(K=>{let re="Just now";if(K.createdAt){const fe=new Date(K.createdAt),he=new Date().getTime()-fe.getTime(),Oe=Math.floor(he/6e4),ee=Math.floor(he/36e5),De=Math.floor(he/864e5);Oe<1?re="Just now":Oe<60?re=`${Oe}m ago`:ee<24?re=`${ee}h ago`:De<7?re=`${De}d ago`:re=fe.toLocaleDateString()}return{id:K.id,userId:K.userId,type:K.type||"system",title:K.title,message:K.message,timestamp:re,read:!!K.read,link:K.link||void 0}});b(B)}catch(C){console.error("[NOTIFICATIONS] Failed to load notifications",C)}finally{q&&S(!1)}},[a]);V.useEffect(()=>{O();const q=setInterval(()=>{O(!1)},1e4),C=()=>{O(!0)};return window.addEventListener("refresh-notifications",C),()=>{clearInterval(q),window.removeEventListener("refresh-notifications",C)}},[O]),V.useEffect(()=>{w&&O(!0)},[w,O]),V.useEffect(()=>{const q=()=>{const C=window.innerWidth<1024;l(C),n(!C)};return q(),window.addEventListener("resize",q),()=>window.removeEventListener("resize",q)},[]),V.useEffect(()=>{const q=new URLSearchParams(window.location.search),C=q.get("tab");if(C&&["dashboard","schedule","crm","pipeline","projects","tasks","invoices","roadmap","users","settings","integrations"].includes(C)){t(C),localStorage.setItem("activeTab",C),q.delete("tab");const W=q.toString()?`${window.location.pathname}?${q.toString()}`:window.location.pathname;window.history.replaceState({},"",W)}},[]),V.useEffect(()=>{const q=C=>{A.current&&!A.current.contains(C.target)&&j(!1)};return document.addEventListener("mousedown",q),()=>document.removeEventListener("mousedown",q)},[]);const M=async()=>{await Ute(),window.location.reload()},F=async q=>{const C=a?.id||JSON.parse(localStorage.getItem("user_data")||"null")?.id;if(C){b(U=>U.map(W=>W.id===q?{...W,read:!0}:W));try{await EF(q,C)}catch{}}},E=async()=>{const q=a?.id||JSON.parse(localStorage.getItem("user_data")||"null")?.id;if(q){b(C=>C.map(U=>({...U,read:!0})));try{await CF(q)}catch{}}},T=(q,C)=>{p({isOpen:!0,type:q,stage:C||void 0})},I=(q,C)=>{v({isOpen:!0,event:null,selectedDate:C})},z=()=>{v({isOpen:!1,event:null})},Q=()=>{e==="schedule"&&window.dispatchEvent(new CustomEvent("refresh-schedule"))},te=typeof window<"u"?window.location.pathname:"",[J,ie]=V.useState(()=>te==="/privacy-policy"||te==="/privacy"?"privacy":te==="/help"?"help":null);if(V.useEffect(()=>{const q=window.location.pathname;ie(q==="/privacy-policy"||q==="/privacy"?"privacy":q==="/help"?"help":null)},[]),V.useEffect(()=>{const q=()=>{const C=window.location.pathname;ie(C==="/privacy-policy"||C==="/privacy"?"privacy":C==="/help"?"help":null)};return window.addEventListener("popstate",q),()=>window.removeEventListener("popstate",q)},[]),J==="privacy")return i.jsx(Mxe,{onBack:()=>{window.history.pushState({},"","/"),ie(null),window.dispatchEvent(new PopStateEvent("popstate"))}});if(J==="help")return i.jsx(Fxe,{onBack:()=>{window.history.pushState({},"","/"),ie(null),window.dispatchEvent(new PopStateEvent("popstate"))}});const X=()=>{switch(e){case"dashboard":return i.jsx(fP,{onNavigate:t});case"schedule":return i.jsx(hxe,{currentUser:a,onNavigate:t,onNewEvent:()=>I()});case"crm":return i.jsx(aae,{onNavigate:t,onAddCompany:()=>T("company"),onAddContact:()=>T("contact"),externalSearchQuery:c});case"pipeline":return i.jsx(iae,{onNavigate:t,onNewDeal:q=>T("deal",q),currentUser:a});case"projects":return i.jsx(sae,{onNavigate:t,onCreateProject:()=>T("project"),currentUser:a});case"tasks":return i.jsx(lme,{onCreateTask:()=>T("task"),currentUser:a});case"invoices":return i.jsx(lxe,{onCreateInvoice:()=>T("invoice"),currentUser:a});case"expenses":return i.jsx(Nxe,{currentUser:a});case"budget":return i.jsx(jxe,{currentUser:a});case"contracts":return i.jsx(kxe,{currentUser:a});case"inbox":return i.jsx(k9,{currentUser:a});case"roadmap":return i.jsx(wxe,{currentUser:a,onNavigate:t});case"users":return i.jsx(cxe,{});case"settings":return i.jsx(dxe,{currentUser:a,onUserUpdate:s});case"data-hygiene":return i.jsx(fxe,{currentUser:a});case"integrations":return i.jsx(pxe,{});case"notifications":return i.jsx(Exe,{currentUser:a,onNavigate:t});default:return i.jsx(fP,{onNavigate:t})}},Z=q=>{t(q),localStorage.setItem("activeTab",q),u(""),o&&n(!1)};return i.jsx(Bxe,{children:i.jsx(lne,{children:i.jsx(_xe,{onUserLoaded:s,children:i.jsxs("div",{className:"flex h-screen bg-slate-50 overflow-hidden font-sans text-slate-900",children:[o&&r&&i.jsx("div",{className:"fixed inset-0 bg-slate-900/40 backdrop-blur-sm z-40 transition-opacity",onClick:()=>n(!1)}),i.jsxs("aside",{className:`
          fixed lg:static inset-y-0 left-0 z-50
          bg-white border-r border-slate-200 transition-all duration-300 
          ${r?"w-64 translate-x-0":"w-0 -translate-x-full lg:w-20 lg:translate-x-0"} 
          flex flex-col overflow-hidden
        `,children:[i.jsxs("div",{className:"p-6 flex items-center justify-between gap-3 shrink-0",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center text-white font-bold text-xl shadow-indigo-100 shadow-lg",children:"I"}),r&&i.jsx("span",{className:"font-bold text-lg tracking-tight",children:"ImpactFlow"})]}),o&&i.jsx("button",{onClick:()=>n(!1),className:"lg:hidden p-1 rounded-lg hover:bg-slate-100 transition-colors",children:i.jsx(mr,{className:"w-5 h-5 text-slate-500"})})]}),i.jsx("nav",{className:"flex-1 px-4 space-y-1 overflow-y-auto mt-2",children:WR.map(q=>i.jsxs("button",{onClick:()=>Z(q.id),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-xl transition-all duration-200 ${e===q.id?"bg-indigo-50 text-indigo-700 shadow-sm":"text-slate-500 hover:bg-slate-50 hover:text-slate-900"}`,children:[i.jsx("div",{className:"shrink-0",children:q.icon}),r&&i.jsx("span",{className:"font-medium whitespace-nowrap",children:q.label})]},q.id))}),i.jsxs("div",{className:"p-4 border-t border-slate-200 shrink-0",children:[i.jsxs("button",{onClick:()=>Z("settings"),className:`w-full flex items-center gap-3 px-3 py-2 rounded-xl transition-colors ${e==="settings"?"bg-indigo-50 text-indigo-700":"text-slate-500 hover:bg-slate-50"}`,children:[i.jsx(qR,{className:"w-5 h-5"}),r&&i.jsx("span",{className:"font-medium",children:"Settings"})]}),a?.role==="Admin"&&i.jsxs("button",{onClick:()=>Z("data-hygiene"),className:`w-full flex items-center gap-3 px-3 py-2 rounded-xl transition-colors ${e==="data-hygiene"?"bg-indigo-50 text-indigo-700":"text-slate-500 hover:bg-slate-50"}`,children:[i.jsx(L1,{className:"w-5 h-5"}),r&&i.jsx("span",{className:"font-medium",children:"Data Hygiene"})]}),i.jsxs("button",{onClick:()=>h(!0),className:"mt-4 w-full flex items-center gap-3 px-3 py-2 hover:bg-red-50 text-slate-500 hover:text-red-600 rounded-xl transition-all group text-left",children:[i.jsx(PR,{className:"w-5 h-5 shrink-0"}),r&&i.jsx("span",{className:"font-medium",children:"Logout"})]})]})]}),i.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden w-full relative",children:[i.jsxs("header",{className:"h-16 bg-white border-b border-slate-200 flex items-center justify-between px-4 lg:px-6 shrink-0 relative",children:[i.jsxs("div",{className:"flex items-center gap-2 lg:gap-4",children:[i.jsx("button",{onClick:()=>n(!r),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:i.jsx(IR,{className:"w-5 h-5 text-slate-600"})}),i.jsxs("div",{className:"relative group hidden sm:block",children:[i.jsx(zu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 group-focus-within:text-indigo-500"}),i.jsx("input",{type:"text",placeholder:"Search Current View...",value:c,onChange:q=>u(q.target.value),className:"pl-10 pr-4 py-2 bg-slate-50 border-none rounded-lg text-sm w-40 lg:w-80 focus:ring-2 focus:ring-indigo-100 outline-none transition-all"})]})]}),i.jsxs("div",{className:"flex items-center gap-2 lg:gap-3",children:[i.jsxs("div",{className:"relative",ref:A,children:[i.jsxs("button",{onClick:()=>j(!w),className:`relative p-2 hover:bg-slate-100 rounded-lg transition-colors ${w?"bg-slate-100":""}`,children:[i.jsx(D1,{className:`w-5 h-5 transition-colors ${P>0?"text-indigo-600":"text-slate-600"} ${N?"animate-pulse":""}`}),P>0&&i.jsx("span",{className:"absolute top-1.5 right-1.5 flex h-4 w-4",children:i.jsx("span",{className:`relative inline-flex items-center justify-center rounded-full h-4 w-4 bg-red-500 text-white text-[10px] font-bold border-2 border-white ${N?"animate-pulse":""}`,children:P})})]}),w&&i.jsx(Axe,{notifications:g,onMarkAsRead:F,onMarkAllAsRead:E,onRefresh:()=>O(!0),isRefreshing:N,onClose:()=>j(!1),onViewAll:()=>{t("notifications"),localStorage.setItem("activeTab","notifications")}})]}),i.jsxs("button",{onClick:()=>T("deal"),className:"px-3 lg:px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white text-sm font-semibold rounded-lg flex items-center gap-2 transition-colors shadow-sm whitespace-nowrap",children:[i.jsx(kn,{className:"w-4 h-4 shrink-0"}),i.jsx("span",{className:"hidden sm:inline",children:"Quick Create"})]})]})]}),i.jsx("section",{className:`flex-1 min-h-0 flex flex-col p-4 lg:p-8 pb-20 lg:pb-8 ${e==="inbox"?"overflow-hidden":"overflow-y-auto"}`,children:i.jsx("div",{className:`h-full ${e==="inbox"?"min-h-0 flex flex-col max-w-7xl mx-auto w-full":"max-w-7xl mx-auto"}`,children:X()})}),i.jsx(Lxe,{currentUser:a})]}),m.isOpen&&i.jsx(Ixe,{type:m.type,stage:m.stage,onClose:()=>p(q=>({...q,isOpen:!1})),onSuccess:()=>{(m.type==="contact"||m.type==="company")&&window.dispatchEvent(new Event("refresh-crm")),m.type==="deal"&&window.dispatchEvent(new Event("refresh-pipeline")),m.type==="project"&&window.dispatchEvent(new Event("refresh-projects")),m.type==="task"?window.dispatchEvent(new Event("refresh-tasks")):m.type==="invoice"&&window.dispatchEvent(new Event("refresh-invoices"))}}),y.isOpen&&i.jsx(Dxe,{event:y.event,selectedDate:y.selectedDate,onClose:z,onSuccess:Q}),d&&i.jsxs("div",{className:"fixed inset-0 z-[90] overflow-hidden pointer-events-none",children:[i.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm pointer-events-auto animate-in fade-in duration-300",onClick:()=>h(!1)}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4 pointer-events-none",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl pointer-events-auto animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[i.jsx("div",{children:i.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Confirm Logout"})}),i.jsx("button",{onClick:()=>h(!1),className:"p-2 hover:bg-white rounded-full text-slate-400 transition-colors shadow-sm",children:i.jsx(mr,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsx("p",{className:"text-sm text-slate-600",children:"Are you sure you want to logout from your ImpactFlow workspace?"}),i.jsxs("div",{className:"flex gap-3 pt-2",children:[i.jsx("button",{type:"button",onClick:()=>h(!1),className:"flex-1 py-3 text-sm font-bold text-slate-500 hover:bg-slate-50 rounded-xl transition-colors border border-transparent hover:border-slate-200",children:"Cancel"}),i.jsx("button",{onClick:M,className:"flex-[2] py-3 bg-red-600 text-white text-sm font-bold rounded-xl hover:bg-red-700 transition-all shadow-lg shadow-red-100 flex items-center justify-center gap-2",children:"Logout"})]})]})]})})]})]})})})})},S9=document.getElementById("root");if(!S9)throw new Error("Could not find root element to mount to");const qxe=fR.createRoot(S9);qxe.render(i.jsx(Qe.StrictMode,{children:i.jsx(Uxe,{})}));export{sa as _,xg as c,oa as g};
