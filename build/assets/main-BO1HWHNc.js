(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Bg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ia(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Bb={exports:{}},am={},Ub={exports:{}},Pn={};var __;function sB(){if(__)return Pn;__=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;function m(H){return H===null||typeof H!="object"?null:(H=h&&H[h]||H["@@iterator"],typeof H=="function"?H:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,v={};function g(H,E,q){this.props=H,this.context=E,this.refs=v,this.updater=q||p}g.prototype.isReactComponent={},g.prototype.setState=function(H,E){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,E,"setState")},g.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function b(){}b.prototype=g.prototype;function w(H,E,q){this.props=H,this.context=E,this.refs=v,this.updater=q||p}var j=w.prototype=new b;j.constructor=w,y(j,g.prototype),j.isPureReactComponent=!0;var N=Array.isArray,k=Object.prototype.hasOwnProperty,P={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function O(H,E,q){var V,U={},G=null,ne=null;if(E!=null)for(V in E.ref!==void 0&&(ne=E.ref),E.key!==void 0&&(G=""+E.key),E)k.call(E,V)&&!A.hasOwnProperty(V)&&(U[V]=E[V]);var de=arguments.length-2;if(de===1)U.children=q;else if(1<de){for(var ce=Array(de),he=0;he<de;he++)ce[he]=arguments[he+2];U.children=ce}if(H&&H.defaultProps)for(V in de=H.defaultProps,de)U[V]===void 0&&(U[V]=de[V]);return{$$typeof:e,type:H,key:G,ref:ne,props:U,_owner:P.current}}function D(H,E){return{$$typeof:e,type:H.type,key:E,ref:H.ref,props:H.props,_owner:H._owner}}function R(H){return typeof H=="object"&&H!==null&&H.$$typeof===e}function C(H){var E={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(q){return E[q]})}var T=/\/+/g;function I(H,E){return typeof H=="object"&&H!==null&&H.key!=null?C(""+H.key):E.toString(36)}function B(H,E,q,V,U){var G=typeof H;(G==="undefined"||G==="boolean")&&(H=null);var ne=!1;if(H===null)ne=!0;else switch(G){case"string":case"number":ne=!0;break;case"object":switch(H.$$typeof){case e:case t:ne=!0}}if(ne)return ne=H,U=U(ne),H=V===""?"."+I(ne,0):V,N(U)?(q="",H!=null&&(q=H.replace(T,"$&/")+"/"),B(U,E,q,"",function(he){return he})):U!=null&&(R(U)&&(U=D(U,q+(!U.key||ne&&ne.key===U.key?"":(""+U.key).replace(T,"$&/")+"/")+H)),E.push(U)),1;if(ne=0,V=V===""?".":V+":",N(H))for(var de=0;de<H.length;de++){G=H[de];var ce=V+I(G,de);ne+=B(G,E,q,ce,U)}else if(ce=m(H),typeof ce=="function")for(H=ce.call(H),de=0;!(G=H.next()).done;)G=G.value,ce=V+I(G,de++),ne+=B(G,E,q,ce,U);else if(G==="object")throw E=String(H),Error("Objects are not valid as a React child (found: "+(E==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":E)+"). If you meant to render a collection of children, use an array instead.");return ne}function X(H,E,q){if(H==null)return H;var V=[],U=0;return B(H,V,"","",function(G){return E.call(q,G,U++)}),V}function re(H){if(H._status===-1){var E=H._result;E=E(),E.then(function(q){(H._status===0||H._status===-1)&&(H._status=1,H._result=q)},function(q){(H._status===0||H._status===-1)&&(H._status=2,H._result=q)}),H._status===-1&&(H._status=0,H._result=E)}if(H._status===1)return H._result.default;throw H._result}var Z={current:null},te={transition:null},Y={ReactCurrentDispatcher:Z,ReactCurrentBatchConfig:te,ReactCurrentOwner:P};function Q(){throw Error("act(...) is not supported in production builds of React.")}return Pn.Children={map:X,forEach:function(H,E,q){X(H,function(){E.apply(this,arguments)},q)},count:function(H){var E=0;return X(H,function(){E++}),E},toArray:function(H){return X(H,function(E){return E})||[]},only:function(H){if(!R(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},Pn.Component=g,Pn.Fragment=r,Pn.Profiler=s,Pn.PureComponent=w,Pn.StrictMode=n,Pn.Suspense=c,Pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,Pn.act=Q,Pn.cloneElement=function(H,E,q){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var V=y({},H.props),U=H.key,G=H.ref,ne=H._owner;if(E!=null){if(E.ref!==void 0&&(G=E.ref,ne=P.current),E.key!==void 0&&(U=""+E.key),H.type&&H.type.defaultProps)var de=H.type.defaultProps;for(ce in E)k.call(E,ce)&&!A.hasOwnProperty(ce)&&(V[ce]=E[ce]===void 0&&de!==void 0?de[ce]:E[ce])}var ce=arguments.length-2;if(ce===1)V.children=q;else if(1<ce){de=Array(ce);for(var he=0;he<ce;he++)de[he]=arguments[he+2];V.children=de}return{$$typeof:e,type:H.type,key:U,ref:G,props:V,_owner:ne}},Pn.createContext=function(H){return H={$$typeof:o,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:i,_context:H},H.Consumer=H},Pn.createElement=O,Pn.createFactory=function(H){var E=O.bind(null,H);return E.type=H,E},Pn.createRef=function(){return{current:null}},Pn.forwardRef=function(H){return{$$typeof:l,render:H}},Pn.isValidElement=R,Pn.lazy=function(H){return{$$typeof:d,_payload:{_status:-1,_result:H},_init:re}},Pn.memo=function(H,E){return{$$typeof:u,type:H,compare:E===void 0?null:E}},Pn.startTransition=function(H){var E=te.transition;te.transition={};try{H()}finally{te.transition=E}},Pn.unstable_act=Q,Pn.useCallback=function(H,E){return Z.current.useCallback(H,E)},Pn.useContext=function(H){return Z.current.useContext(H)},Pn.useDebugValue=function(){},Pn.useDeferredValue=function(H){return Z.current.useDeferredValue(H)},Pn.useEffect=function(H,E){return Z.current.useEffect(H,E)},Pn.useId=function(){return Z.current.useId()},Pn.useImperativeHandle=function(H,E,q){return Z.current.useImperativeHandle(H,E,q)},Pn.useInsertionEffect=function(H,E){return Z.current.useInsertionEffect(H,E)},Pn.useLayoutEffect=function(H,E){return Z.current.useLayoutEffect(H,E)},Pn.useMemo=function(H,E){return Z.current.useMemo(H,E)},Pn.useReducer=function(H,E,q){return Z.current.useReducer(H,E,q)},Pn.useRef=function(H){return Z.current.useRef(H)},Pn.useState=function(H){return Z.current.useState(H)},Pn.useSyncExternalStore=function(H,E,q){return Z.current.useSyncExternalStore(H,E,q)},Pn.useTransition=function(){return Z.current.useTransition()},Pn.version="18.3.1",Pn}var A_;function cy(){return A_||(A_=1,Ub.exports=sB()),Ub.exports}var E_;function iB(){if(E_)return am;E_=1;var e=cy(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,u){var d,h={},m=null,p=null;u!==void 0&&(m=""+u),c.key!==void 0&&(m=""+c.key),c.ref!==void 0&&(p=c.ref);for(d in c)n.call(c,d)&&!i.hasOwnProperty(d)&&(h[d]=c[d]);if(l&&l.defaultProps)for(d in c=l.defaultProps,c)h[d]===void 0&&(h[d]=c[d]);return{$$typeof:t,type:l,key:m,ref:p,props:h,_owner:s.current}}return am.Fragment=r,am.jsx=o,am.jsxs=o,am}var C_;function oB(){return C_||(C_=1,Bb.exports=iB()),Bb.exports}var a=oB(),z=cy();const it=Ia(z);var Ug={},qb={exports:{}},Nl={},$b={exports:{}},zb={};var T_;function lB(){return T_||(T_=1,(function(e){function t(te,Y){var Q=te.length;te.push(Y);e:for(;0<Q;){var H=Q-1>>>1,E=te[H];if(0<s(E,Y))te[H]=Y,te[Q]=E,Q=H;else break e}}function r(te){return te.length===0?null:te[0]}function n(te){if(te.length===0)return null;var Y=te[0],Q=te.pop();if(Q!==Y){te[0]=Q;e:for(var H=0,E=te.length,q=E>>>1;H<q;){var V=2*(H+1)-1,U=te[V],G=V+1,ne=te[G];if(0>s(U,Q))G<E&&0>s(ne,U)?(te[H]=ne,te[G]=Q,H=G):(te[H]=U,te[V]=Q,H=V);else if(G<E&&0>s(ne,Q))te[H]=ne,te[G]=Q,H=G;else break e}}return Y}function s(te,Y){var Q=te.sortIndex-Y.sortIndex;return Q!==0?Q:te.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,m=3,p=!1,y=!1,v=!1,g=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(te){for(var Y=r(u);Y!==null;){if(Y.callback===null)n(u);else if(Y.startTime<=te)n(u),Y.sortIndex=Y.expirationTime,t(c,Y);else break;Y=r(u)}}function N(te){if(v=!1,j(te),!y)if(r(c)!==null)y=!0,re(k);else{var Y=r(u);Y!==null&&Z(N,Y.startTime-te)}}function k(te,Y){y=!1,v&&(v=!1,b(O),O=-1),p=!0;var Q=m;try{for(j(Y),h=r(c);h!==null&&(!(h.expirationTime>Y)||te&&!C());){var H=h.callback;if(typeof H=="function"){h.callback=null,m=h.priorityLevel;var E=H(h.expirationTime<=Y);Y=e.unstable_now(),typeof E=="function"?h.callback=E:h===r(c)&&n(c),j(Y)}else n(c);h=r(c)}if(h!==null)var q=!0;else{var V=r(u);V!==null&&Z(N,V.startTime-Y),q=!1}return q}finally{h=null,m=Q,p=!1}}var P=!1,A=null,O=-1,D=5,R=-1;function C(){return!(e.unstable_now()-R<D)}function T(){if(A!==null){var te=e.unstable_now();R=te;var Y=!0;try{Y=A(!0,te)}finally{Y?I():(P=!1,A=null)}}else P=!1}var I;if(typeof w=="function")I=function(){w(T)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,X=B.port2;B.port1.onmessage=T,I=function(){X.postMessage(null)}}else I=function(){g(T,0)};function re(te){A=te,P||(P=!0,I())}function Z(te,Y){O=g(function(){te(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(te){te.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,re(k))},e.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<te?Math.floor(1e3/te):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(te){switch(m){case 1:case 2:case 3:var Y=3;break;default:Y=m}var Q=m;m=Y;try{return te()}finally{m=Q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(te,Y){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var Q=m;m=te;try{return Y()}finally{m=Q}},e.unstable_scheduleCallback=function(te,Y,Q){var H=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?H+Q:H):Q=H,te){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=Q+E,te={id:d++,callback:Y,priorityLevel:te,startTime:Q,expirationTime:E,sortIndex:-1},Q>H?(te.sortIndex=Q,t(u,te),r(c)===null&&te===r(u)&&(v?(b(O),O=-1):v=!0,Z(N,Q-H))):(te.sortIndex=E,t(c,te),y||p||(y=!0,re(k))),te},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(te){var Y=m;return function(){var Q=m;m=Y;try{return te.apply(this,arguments)}finally{m=Q}}}})(zb)),zb}var O_;function cB(){return O_||(O_=1,$b.exports=lB()),$b.exports}var P_;function uB(){if(P_)return Nl;P_=1;var e=cy(),t=cB();function r(f){for(var x="https://reactjs.org/docs/error-decoder.html?invariant="+f,S=1;S<arguments.length;S++)x+="&args[]="+encodeURIComponent(arguments[S]);return"Minified React error #"+f+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function i(f,x){o(f,x),o(f+"Capture",x)}function o(f,x){for(s[f]=x,f=0;f<x.length;f++)n.add(x[f])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},h={};function m(f){return c.call(h,f)?!0:c.call(d,f)?!1:u.test(f)?h[f]=!0:(d[f]=!0,!1)}function p(f,x,S,L){if(S!==null&&S.type===0)return!1;switch(typeof x){case"function":case"symbol":return!0;case"boolean":return L?!1:S!==null?!S.acceptsBooleans:(f=f.toLowerCase().slice(0,5),f!=="data-"&&f!=="aria-");default:return!1}}function y(f,x,S,L){if(x===null||typeof x>"u"||p(f,x,S,L))return!0;if(L)return!1;if(S!==null)switch(S.type){case 3:return!x;case 4:return x===!1;case 5:return isNaN(x);case 6:return isNaN(x)||1>x}return!1}function v(f,x,S,L,K,ie,be){this.acceptsBooleans=x===2||x===3||x===4,this.attributeName=L,this.attributeNamespace=K,this.mustUseProperty=S,this.propertyName=f,this.type=x,this.sanitizeURL=ie,this.removeEmptyString=be}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(f){g[f]=new v(f,0,!1,f,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(f){var x=f[0];g[x]=new v(x,1,!1,f[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(f){g[f]=new v(f,2,!1,f.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(f){g[f]=new v(f,2,!1,f,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(f){g[f]=new v(f,3,!1,f.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(f){g[f]=new v(f,3,!0,f,null,!1,!1)}),["capture","download"].forEach(function(f){g[f]=new v(f,4,!1,f,null,!1,!1)}),["cols","rows","size","span"].forEach(function(f){g[f]=new v(f,6,!1,f,null,!1,!1)}),["rowSpan","start"].forEach(function(f){g[f]=new v(f,5,!1,f.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function w(f){return f[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(f){var x=f.replace(b,w);g[x]=new v(x,1,!1,f,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(f){var x=f.replace(b,w);g[x]=new v(x,1,!1,f,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(f){var x=f.replace(b,w);g[x]=new v(x,1,!1,f,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(f){g[f]=new v(f,1,!1,f.toLowerCase(),null,!1,!1)}),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(f){g[f]=new v(f,1,!1,f.toLowerCase(),null,!0,!0)});function j(f,x,S,L){var K=g.hasOwnProperty(x)?g[x]:null;(K!==null?K.type!==0:L||!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(y(x,S,K,L)&&(S=null),L||K===null?m(x)&&(S===null?f.removeAttribute(x):f.setAttribute(x,""+S)):K.mustUseProperty?f[K.propertyName]=S===null?K.type===3?!1:"":S:(x=K.attributeName,L=K.attributeNamespace,S===null?f.removeAttribute(x):(K=K.type,S=K===3||K===4&&S===!0?"":""+S,L?f.setAttributeNS(L,x,S):f.setAttribute(x,S))))}var N=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),P=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),C=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),te=Symbol.iterator;function Y(f){return f===null||typeof f!="object"?null:(f=te&&f[te]||f["@@iterator"],typeof f=="function"?f:null)}var Q=Object.assign,H;function E(f){if(H===void 0)try{throw Error()}catch(S){var x=S.stack.trim().match(/\n( *(at )?)/);H=x&&x[1]||""}return`
`+H+f}var q=!1;function V(f,x){if(!f||q)return"";q=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(x)if(x=function(){throw Error()},Object.defineProperty(x.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(x,[])}catch(At){var L=At}Reflect.construct(f,[],x)}else{try{x.call()}catch(At){L=At}f.call(x.prototype)}else{try{throw Error()}catch(At){L=At}f()}}catch(At){if(At&&L&&typeof At.stack=="string"){for(var K=At.stack.split(`
`),ie=L.stack.split(`
`),be=K.length-1,We=ie.length-1;1<=be&&0<=We&&K[be]!==ie[We];)We--;for(;1<=be&&0<=We;be--,We--)if(K[be]!==ie[We]){if(be!==1||We!==1)do if(be--,We--,0>We||K[be]!==ie[We]){var nt=`
`+K[be].replace(" at new "," at ");return f.displayName&&nt.includes("<anonymous>")&&(nt=nt.replace("<anonymous>",f.displayName)),nt}while(1<=be&&0<=We);break}}}finally{q=!1,Error.prepareStackTrace=S}return(f=f?f.displayName||f.name:"")?E(f):""}function U(f){switch(f.tag){case 5:return E(f.type);case 16:return E("Lazy");case 13:return E("Suspense");case 19:return E("SuspenseList");case 0:case 2:case 15:return f=V(f.type,!1),f;case 11:return f=V(f.type.render,!1),f;case 1:return f=V(f.type,!0),f;default:return""}}function G(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case A:return"Fragment";case P:return"Portal";case D:return"Profiler";case O:return"StrictMode";case I:return"Suspense";case B:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case C:return(f.displayName||"Context")+".Consumer";case R:return(f._context.displayName||"Context")+".Provider";case T:var x=f.render;return f=f.displayName,f||(f=x.displayName||x.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case X:return x=f.displayName||null,x!==null?x:G(f.type)||"Memo";case re:x=f._payload,f=f._init;try{return G(f(x))}catch{}}return null}function ne(f){var x=f.type;switch(f.tag){case 24:return"Cache";case 9:return(x.displayName||"Context")+".Consumer";case 10:return(x._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return f=x.render,f=f.displayName||f.name||"",x.displayName||(f!==""?"ForwardRef("+f+")":"ForwardRef");case 7:return"Fragment";case 5:return x;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return G(x);case 8:return x===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof x=="function")return x.displayName||x.name||null;if(typeof x=="string")return x}return null}function de(f){switch(typeof f){case"boolean":case"number":case"string":case"undefined":return f;case"object":return f;default:return""}}function ce(f){var x=f.type;return(f=f.nodeName)&&f.toLowerCase()==="input"&&(x==="checkbox"||x==="radio")}function he(f){var x=ce(f)?"checked":"value",S=Object.getOwnPropertyDescriptor(f.constructor.prototype,x),L=""+f[x];if(!f.hasOwnProperty(x)&&typeof S<"u"&&typeof S.get=="function"&&typeof S.set=="function"){var K=S.get,ie=S.set;return Object.defineProperty(f,x,{configurable:!0,get:function(){return K.call(this)},set:function(be){L=""+be,ie.call(this,be)}}),Object.defineProperty(f,x,{enumerable:S.enumerable}),{getValue:function(){return L},setValue:function(be){L=""+be},stopTracking:function(){f._valueTracker=null,delete f[x]}}}}function Le(f){f._valueTracker||(f._valueTracker=he(f))}function se(f){if(!f)return!1;var x=f._valueTracker;if(!x)return!0;var S=x.getValue(),L="";return f&&(L=ce(f)?f.checked?"true":"false":f.value),f=L,f!==S?(x.setValue(f),!0):!1}function Fe(f){if(f=f||(typeof document<"u"?document:void 0),typeof f>"u")return null;try{return f.activeElement||f.body}catch{return f.body}}function _e(f,x){var S=x.checked;return Q({},x,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:S??f._wrapperState.initialChecked})}function oe(f,x){var S=x.defaultValue==null?"":x.defaultValue,L=x.checked!=null?x.checked:x.defaultChecked;S=de(x.value!=null?x.value:S),f._wrapperState={initialChecked:L,initialValue:S,controlled:x.type==="checkbox"||x.type==="radio"?x.checked!=null:x.value!=null}}function ae(f,x){x=x.checked,x!=null&&j(f,"checked",x,!1)}function ke(f,x){ae(f,x);var S=de(x.value),L=x.type;if(S!=null)L==="number"?(S===0&&f.value===""||f.value!=S)&&(f.value=""+S):f.value!==""+S&&(f.value=""+S);else if(L==="submit"||L==="reset"){f.removeAttribute("value");return}x.hasOwnProperty("value")?Pe(f,x.type,S):x.hasOwnProperty("defaultValue")&&Pe(f,x.type,de(x.defaultValue)),x.checked==null&&x.defaultChecked!=null&&(f.defaultChecked=!!x.defaultChecked)}function we(f,x,S){if(x.hasOwnProperty("value")||x.hasOwnProperty("defaultValue")){var L=x.type;if(!(L!=="submit"&&L!=="reset"||x.value!==void 0&&x.value!==null))return;x=""+f._wrapperState.initialValue,S||x===f.value||(f.value=x),f.defaultValue=x}S=f.name,S!==""&&(f.name=""),f.defaultChecked=!!f._wrapperState.initialChecked,S!==""&&(f.name=S)}function Pe(f,x,S){(x!=="number"||Fe(f.ownerDocument)!==f)&&(S==null?f.defaultValue=""+f._wrapperState.initialValue:f.defaultValue!==""+S&&(f.defaultValue=""+S))}var pe=Array.isArray;function fe(f,x,S,L){if(f=f.options,x){x={};for(var K=0;K<S.length;K++)x["$"+S[K]]=!0;for(S=0;S<f.length;S++)K=x.hasOwnProperty("$"+f[S].value),f[S].selected!==K&&(f[S].selected=K),K&&L&&(f[S].defaultSelected=!0)}else{for(S=""+de(S),x=null,K=0;K<f.length;K++){if(f[K].value===S){f[K].selected=!0,L&&(f[K].defaultSelected=!0);return}x!==null||f[K].disabled||(x=f[K])}x!==null&&(x.selected=!0)}}function De(f,x){if(x.dangerouslySetInnerHTML!=null)throw Error(r(91));return Q({},x,{value:void 0,defaultValue:void 0,children:""+f._wrapperState.initialValue})}function Xe(f,x){var S=x.value;if(S==null){if(S=x.children,x=x.defaultValue,S!=null){if(x!=null)throw Error(r(92));if(pe(S)){if(1<S.length)throw Error(r(93));S=S[0]}x=S}x==null&&(x=""),S=x}f._wrapperState={initialValue:de(S)}}function Je(f,x){var S=de(x.value),L=de(x.defaultValue);S!=null&&(S=""+S,S!==f.value&&(f.value=S),x.defaultValue==null&&f.defaultValue!==S&&(f.defaultValue=S)),L!=null&&(f.defaultValue=""+L)}function ht(f){var x=f.textContent;x===f._wrapperState.initialValue&&x!==""&&x!==null&&(f.value=x)}function Ue(f){switch(f){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function at(f,x){return f==null||f==="http://www.w3.org/1999/xhtml"?Ue(x):f==="http://www.w3.org/2000/svg"&&x==="foreignObject"?"http://www.w3.org/1999/xhtml":f}var Me,ut=(function(f){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(x,S,L,K){MSApp.execUnsafeLocalFunction(function(){return f(x,S,L,K)})}:f})(function(f,x){if(f.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in f)f.innerHTML=x;else{for(Me=Me||document.createElement("div"),Me.innerHTML="<svg>"+x.valueOf().toString()+"</svg>",x=Me.firstChild;f.firstChild;)f.removeChild(f.firstChild);for(;x.firstChild;)f.appendChild(x.firstChild)}});function ot(f,x){if(x){var S=f.firstChild;if(S&&S===f.lastChild&&S.nodeType===3){S.nodeValue=x;return}}f.textContent=x}var rt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lr=["Webkit","ms","Moz","O"];Object.keys(rt).forEach(function(f){lr.forEach(function(x){x=x+f.charAt(0).toUpperCase()+f.substring(1),rt[x]=rt[f]})});function er(f,x,S){return x==null||typeof x=="boolean"||x===""?"":S||typeof x!="number"||x===0||rt.hasOwnProperty(f)&&rt[f]?(""+x).trim():x+"px"}function xt(f,x){f=f.style;for(var S in x)if(x.hasOwnProperty(S)){var L=S.indexOf("--")===0,K=er(S,x[S],L);S==="float"&&(S="cssFloat"),L?f.setProperty(S,K):f[S]=K}}var Ht=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ut(f,x){if(x){if(Ht[f]&&(x.children!=null||x.dangerouslySetInnerHTML!=null))throw Error(r(137,f));if(x.dangerouslySetInnerHTML!=null){if(x.children!=null)throw Error(r(60));if(typeof x.dangerouslySetInnerHTML!="object"||!("__html"in x.dangerouslySetInnerHTML))throw Error(r(61))}if(x.style!=null&&typeof x.style!="object")throw Error(r(62))}}function qe(f,x){if(f.indexOf("-")===-1)return typeof x.is=="string";switch(f){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jt=null;function kr(f){return f=f.target||f.srcElement||window,f.correspondingUseElement&&(f=f.correspondingUseElement),f.nodeType===3?f.parentNode:f}var zt=null,_r=null,Tr=null;function pr(f){if(f=ru(f)){if(typeof zt!="function")throw Error(r(280));var x=f.stateNode;x&&(x=pc(x),zt(f.stateNode,f.type,x))}}function Jt(f){_r?Tr?Tr.push(f):Tr=[f]:_r=f}function Lr(){if(_r){var f=_r,x=Tr;if(Tr=_r=null,pr(f),x)for(f=0;f<x.length;f++)pr(x[f])}}function Ar(f,x){return f(x)}function Gr(){}var Tn=!1;function Ln(f,x,S){if(Tn)return f(x,S);Tn=!0;try{return Ar(f,x,S)}finally{Tn=!1,(_r!==null||Tr!==null)&&(Gr(),Lr())}}function vr(f,x){var S=f.stateNode;if(S===null)return null;var L=pc(S);if(L===null)return null;S=L[x];e:switch(x){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(L=!L.disabled)||(f=f.type,L=!(f==="button"||f==="input"||f==="select"||f==="textarea")),f=!L;break e;default:f=!1}if(f)return null;if(S&&typeof S!="function")throw Error(r(231,x,typeof S));return S}var Xn=!1;if(l)try{var vn={};Object.defineProperty(vn,"passive",{get:function(){Xn=!0}}),window.addEventListener("test",vn,vn),window.removeEventListener("test",vn,vn)}catch{Xn=!1}function Ke(f,x,S,L,K,ie,be,We,nt){var At=Array.prototype.slice.call(arguments,3);try{x.apply(S,At)}catch(Xt){this.onError(Xt)}}var bt=!1,Wt=null,ee=!1,me=null,ge={onError:function(f){bt=!0,Wt=f}};function Se(f,x,S,L,K,ie,be,We,nt){bt=!1,Wt=null,Ke.apply(ge,arguments)}function Ee(f,x,S,L,K,ie,be,We,nt){if(Se.apply(this,arguments),bt){if(bt){var At=Wt;bt=!1,Wt=null}else throw Error(r(198));ee||(ee=!0,me=At)}}function Te(f){var x=f,S=f;if(f.alternate)for(;x.return;)x=x.return;else{f=x;do x=f,(x.flags&4098)!==0&&(S=x.return),f=x.return;while(f)}return x.tag===3?S:null}function Ge(f){if(f.tag===13){var x=f.memoizedState;if(x===null&&(f=f.alternate,f!==null&&(x=f.memoizedState)),x!==null)return x.dehydrated}return null}function dt(f){if(Te(f)!==f)throw Error(r(188))}function Ve(f){var x=f.alternate;if(!x){if(x=Te(f),x===null)throw Error(r(188));return x!==f?null:f}for(var S=f,L=x;;){var K=S.return;if(K===null)break;var ie=K.alternate;if(ie===null){if(L=K.return,L!==null){S=L;continue}break}if(K.child===ie.child){for(ie=K.child;ie;){if(ie===S)return dt(K),f;if(ie===L)return dt(K),x;ie=ie.sibling}throw Error(r(188))}if(S.return!==L.return)S=K,L=ie;else{for(var be=!1,We=K.child;We;){if(We===S){be=!0,S=K,L=ie;break}if(We===L){be=!0,L=K,S=ie;break}We=We.sibling}if(!be){for(We=ie.child;We;){if(We===S){be=!0,S=ie,L=K;break}if(We===L){be=!0,L=ie,S=K;break}We=We.sibling}if(!be)throw Error(r(189))}}if(S.alternate!==L)throw Error(r(190))}if(S.tag!==3)throw Error(r(188));return S.stateNode.current===S?f:x}function Qe(f){return f=Ve(f),f!==null?ze(f):null}function ze(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){var x=ze(f);if(x!==null)return x;f=f.sibling}return null}var Ie=t.unstable_scheduleCallback,et=t.unstable_cancelCallback,gt=t.unstable_shouldYield,Lt=t.unstable_requestPaint,Bt=t.unstable_now,br=t.unstable_getCurrentPriorityLevel,Dr=t.unstable_ImmediatePriority,Qr=t.unstable_UserBlockingPriority,Nn=t.unstable_NormalPriority,ds=t.unstable_LowPriority,qn=t.unstable_IdlePriority,ss=null,$n=null;function fs(f){if($n&&typeof $n.onCommitFiberRoot=="function")try{$n.onCommitFiberRoot(ss,f,void 0,(f.current.flags&128)===128)}catch{}}var jn=Math.clz32?Math.clz32:kt,Hr=Math.log,Be=Math.LN2;function kt(f){return f>>>=0,f===0?32:31-(Hr(f)/Be|0)|0}var yt=64,Yt=4194304;function cr(f){switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return f&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return f}}function ar(f,x){var S=f.pendingLanes;if(S===0)return 0;var L=0,K=f.suspendedLanes,ie=f.pingedLanes,be=S&268435455;if(be!==0){var We=be&~K;We!==0?L=cr(We):(ie&=be,ie!==0&&(L=cr(ie)))}else be=S&~K,be!==0?L=cr(be):ie!==0&&(L=cr(ie));if(L===0)return 0;if(x!==0&&x!==L&&(x&K)===0&&(K=L&-L,ie=x&-x,K>=ie||K===16&&(ie&4194240)!==0))return x;if((L&4)!==0&&(L|=S&16),x=f.entangledLanes,x!==0)for(f=f.entanglements,x&=L;0<x;)S=31-jn(x),K=1<<S,L|=f[S],x&=~K;return L}function Nr(f,x){switch(f){case 1:case 2:case 4:return x+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return x+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mn(f,x){for(var S=f.suspendedLanes,L=f.pingedLanes,K=f.expirationTimes,ie=f.pendingLanes;0<ie;){var be=31-jn(ie),We=1<<be,nt=K[be];nt===-1?((We&S)===0||(We&L)!==0)&&(K[be]=Nr(We,x)):nt<=x&&(f.expiredLanes|=We),ie&=~We}}function Fn(f){return f=f.pendingLanes&-1073741825,f!==0?f:f&1073741824?1073741824:0}function rr(){var f=yt;return yt<<=1,(yt&4194240)===0&&(yt=64),f}function nr(f){for(var x=[],S=0;31>S;S++)x.push(f);return x}function Ot(f,x,S){f.pendingLanes|=x,x!==536870912&&(f.suspendedLanes=0,f.pingedLanes=0),f=f.eventTimes,x=31-jn(x),f[x]=S}function Zr(f,x){var S=f.pendingLanes&~x;f.pendingLanes=x,f.suspendedLanes=0,f.pingedLanes=0,f.expiredLanes&=x,f.mutableReadLanes&=x,f.entangledLanes&=x,x=f.entanglements;var L=f.eventTimes;for(f=f.expirationTimes;0<S;){var K=31-jn(S),ie=1<<K;x[K]=0,L[K]=-1,f[K]=-1,S&=~ie}}function Ct(f,x){var S=f.entangledLanes|=x;for(f=f.entanglements;S;){var L=31-jn(S),K=1<<L;K&x|f[L]&x&&(f[L]|=x),S&=~K}}var Fr=0;function oa(f){return f&=-f,1<f?4<f?(f&268435455)!==0?16:536870912:4:1}var ja,ir,Zn,ya,en,Da=!1,Wr=[],Or=null,Rr=null,kn=null,Ce=new Map,xr=new Map,Qt=[],jr="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kr(f,x){switch(f){case"focusin":case"focusout":Or=null;break;case"dragenter":case"dragleave":Rr=null;break;case"mouseover":case"mouseout":kn=null;break;case"pointerover":case"pointerout":Ce.delete(x.pointerId);break;case"gotpointercapture":case"lostpointercapture":xr.delete(x.pointerId)}}function tn(f,x,S,L,K,ie){return f===null||f.nativeEvent!==ie?(f={blockedOn:x,domEventName:S,eventSystemFlags:L,nativeEvent:ie,targetContainers:[K]},x!==null&&(x=ru(x),x!==null&&ir(x)),f):(f.eventSystemFlags|=L,x=f.targetContainers,K!==null&&x.indexOf(K)===-1&&x.push(K),f)}function Sn(f,x,S,L,K){switch(x){case"focusin":return Or=tn(Or,f,x,S,L,K),!0;case"dragenter":return Rr=tn(Rr,f,x,S,L,K),!0;case"mouseover":return kn=tn(kn,f,x,S,L,K),!0;case"pointerover":var ie=K.pointerId;return Ce.set(ie,tn(Ce.get(ie)||null,f,x,S,L,K)),!0;case"gotpointercapture":return ie=K.pointerId,xr.set(ie,tn(xr.get(ie)||null,f,x,S,L,K)),!0}return!1}function ba(f){var x=hc(f.target);if(x!==null){var S=Te(x);if(S!==null){if(x=S.tag,x===13){if(x=Ge(S),x!==null){f.blockedOn=x,en(f.priority,function(){Zn(S)});return}}else if(x===3&&S.stateNode.current.memoizedState.isDehydrated){f.blockedOn=S.tag===3?S.stateNode.containerInfo:null;return}}}f.blockedOn=null}function zi(f){if(f.blockedOn!==null)return!1;for(var x=f.targetContainers;0<x.length;){var S=ac(f.domEventName,f.eventSystemFlags,x[0],f.nativeEvent);if(S===null){S=f.nativeEvent;var L=new S.constructor(S.type,S);jt=L,S.target.dispatchEvent(L),jt=null}else return x=ru(S),x!==null&&ir(x),f.blockedOn=S,!1;x.shift()}return!0}function nc(f,x,S){zi(f)&&S.delete(x)}function l0(){Da=!1,Or!==null&&zi(Or)&&(Or=null),Rr!==null&&zi(Rr)&&(Rr=null),kn!==null&&zi(kn)&&(kn=null),Ce.forEach(nc),xr.forEach(nc)}function ll(f,x){f.blockedOn===x&&(f.blockedOn=null,Da||(Da=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,l0)))}function co(f){function x(K){return ll(K,f)}if(0<Wr.length){ll(Wr[0],f);for(var S=1;S<Wr.length;S++){var L=Wr[S];L.blockedOn===f&&(L.blockedOn=null)}}for(Or!==null&&ll(Or,f),Rr!==null&&ll(Rr,f),kn!==null&&ll(kn,f),Ce.forEach(x),xr.forEach(x),S=0;S<Qt.length;S++)L=Qt[S],L.blockedOn===f&&(L.blockedOn=null);for(;0<Qt.length&&(S=Qt[0],S.blockedOn===null);)ba(S),S.blockedOn===null&&Qt.shift()}var ki=N.ReactCurrentBatchConfig,Uc=!0;function cl(f,x,S,L){var K=Fr,ie=ki.transition;ki.transition=null;try{Fr=1,Cl(f,x,S,L)}finally{Fr=K,ki.transition=ie}}function qc(f,x,S,L){var K=Fr,ie=ki.transition;ki.transition=null;try{Fr=4,Cl(f,x,S,L)}finally{Fr=K,ki.transition=ie}}function Cl(f,x,S,L){if(Uc){var K=ac(f,x,S,L);if(K===null)Nd(f,x,L,$c,S),Kr(f,L);else if(Sn(K,f,x,S,L))L.stopPropagation();else if(Kr(f,L),x&4&&-1<jr.indexOf(f)){for(;K!==null;){var ie=ru(K);if(ie!==null&&ja(ie),ie=ac(f,x,S,L),ie===null&&Nd(f,x,L,$c,S),ie===K)break;K=ie}K!==null&&L.stopPropagation()}else Nd(f,x,L,null,S)}}var $c=null;function ac(f,x,S,L){if($c=null,f=kr(L),f=hc(f),f!==null)if(x=Te(f),x===null)f=null;else if(S=x.tag,S===13){if(f=Ge(x),f!==null)return f;f=null}else if(S===3){if(x.stateNode.current.memoizedState.isDehydrated)return x.tag===3?x.stateNode.containerInfo:null;f=null}else x!==f&&(f=null);return $c=f,null}function zc(f){switch(f){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(br()){case Dr:return 1;case Qr:return 4;case Nn:case ds:return 16;case qn:return 536870912;default:return 16}default:return 16}}var Hi=null,Si=null,uo=null;function Hc(){if(uo)return uo;var f,x=Si,S=x.length,L,K="value"in Hi?Hi.value:Hi.textContent,ie=K.length;for(f=0;f<S&&x[f]===K[f];f++);var be=S-f;for(L=1;L<=be&&x[S-L]===K[ie-L];L++);return uo=K.slice(f,1<L?1-L:void 0)}function fo(f){var x=f.keyCode;return"charCode"in f?(f=f.charCode,f===0&&x===13&&(f=13)):f=x,f===10&&(f=13),32<=f||f===13?f:0}function ks(){return!0}function Wc(){return!1}function La(f){function x(S,L,K,ie,be){this._reactName=S,this._targetInst=K,this.type=L,this.nativeEvent=ie,this.target=be,this.currentTarget=null;for(var We in f)f.hasOwnProperty(We)&&(S=f[We],this[We]=S?S(ie):ie[We]);return this.isDefaultPrevented=(ie.defaultPrevented!=null?ie.defaultPrevented:ie.returnValue===!1)?ks:Wc,this.isPropagationStopped=Wc,this}return Q(x.prototype,{preventDefault:function(){this.defaultPrevented=!0;var S=this.nativeEvent;S&&(S.preventDefault?S.preventDefault():typeof S.returnValue!="unknown"&&(S.returnValue=!1),this.isDefaultPrevented=ks)},stopPropagation:function(){var S=this.nativeEvent;S&&(S.stopPropagation?S.stopPropagation():typeof S.cancelBubble!="unknown"&&(S.cancelBubble=!0),this.isPropagationStopped=ks)},persist:function(){},isPersistent:ks}),x}var ho={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(f){return f.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sc=La(ho),ul=Q({},ho,{view:0,detail:0}),vd=La(ul),po,qo,_i,Tl=Q({},ul,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yr,button:0,buttons:0,relatedTarget:function(f){return f.relatedTarget===void 0?f.fromElement===f.srcElement?f.toElement:f.fromElement:f.relatedTarget},movementX:function(f){return"movementX"in f?f.movementX:(f!==_i&&(_i&&f.type==="mousemove"?(po=f.screenX-_i.screenX,qo=f.screenY-_i.screenY):qo=po=0,_i=f),po)},movementY:function(f){return"movementY"in f?f.movementY:qo}}),Vc=La(Tl),Gc=Q({},Tl,{dataTransfer:0}),yd=La(Gc),Ba=Q({},ul,{relatedTarget:0}),Ol=La(Ba),Lu=Q({},ho,{animationName:0,elapsedTime:0,pseudoElement:0}),Pl=La(Lu),Kc=Q({},ho,{clipboardData:function(f){return"clipboardData"in f?f.clipboardData:window.clipboardData}}),W=La(Kc),ve=Q({},ho,{data:0}),$e=La(ve),Ze={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},It={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gt(f){var x=this.nativeEvent;return x.getModifierState?x.getModifierState(f):(f=It[f])?!!x[f]:!1}function yr(){return Gt}var Br=Q({},ul,{key:function(f){if(f.key){var x=Ze[f.key]||f.key;if(x!=="Unidentified")return x}return f.type==="keypress"?(f=fo(f),f===13?"Enter":String.fromCharCode(f)):f.type==="keydown"||f.type==="keyup"?pt[f.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yr,charCode:function(f){return f.type==="keypress"?fo(f):0},keyCode:function(f){return f.type==="keydown"||f.type==="keyup"?f.keyCode:0},which:function(f){return f.type==="keypress"?fo(f):f.type==="keydown"||f.type==="keyup"?f.keyCode:0}}),rn=La(Br),sn=Q({},Tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pn=La(sn),la=Q({},ul,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yr}),yn=La(la),Va=Q({},ho,{propertyName:0,elapsedTime:0,pseudoElement:0}),nn=La(Va),zn=Q({},Tl,{deltaX:function(f){return"deltaX"in f?f.deltaX:"wheelDeltaX"in f?-f.wheelDeltaX:0},deltaY:function(f){return"deltaY"in f?f.deltaY:"wheelDeltaY"in f?-f.wheelDeltaY:"wheelDelta"in f?-f.wheelDelta:0},deltaZ:0,deltaMode:0}),ea=La(zn),ka=[9,13,27,32],Yn=l&&"CompositionEvent"in window,is=null;l&&"documentMode"in document&&(is=document.documentMode);var Ua=l&&"TextEvent"in window&&!is,Ai=l&&(!Yn||is&&8<is&&11>=is),os=" ",Ss=!1;function _s(f,x){switch(f){case"keyup":return ka.indexOf(x.keyCode)!==-1;case"keydown":return x.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mo(f){return f=f.detail,typeof f=="object"&&"data"in f?f.data:null}var ca=!1;function Xc(f,x){switch(f){case"compositionend":return mo(x);case"keypress":return x.which!==32?null:(Ss=!0,os);case"textInput":return f=x.data,f===os&&Ss?null:f;default:return null}}function Il(f,x){if(ca)return f==="compositionend"||!Yn&&_s(f,x)?(f=Hc(),uo=Si=Hi=null,ca=!1,f):null;switch(f){case"paste":return null;case"keypress":if(!(x.ctrlKey||x.altKey||x.metaKey)||x.ctrlKey&&x.altKey){if(x.char&&1<x.char.length)return x.char;if(x.which)return String.fromCharCode(x.which)}return null;case"compositionend":return Ai&&x.locale!=="ko"?null:x.data;default:return null}}var Fu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ic(f){var x=f&&f.nodeName&&f.nodeName.toLowerCase();return x==="input"?!!Fu[f.type]:x==="textarea"}function ui(f,x,S,L){Jt(L),x=vl(x,"onChange"),0<x.length&&(S=new sc("onChange","change",null,S,L),f.push({event:S,listeners:x}))}var oc=null,dl=null;function Mu(f){cf(f,0)}function As(f){var x=nu(f);if(se(x))return f}function lc(f,x){if(f==="change")return x}var cc=!1;if(l){var $o;if(l){var Rs="oninput"in document;if(!Rs){var Wi=document.createElement("div");Wi.setAttribute("oninput","return;"),Rs=typeof Wi.oninput=="function"}$o=Rs}else $o=!1;cc=$o&&(!document.documentMode||9<document.documentMode)}function ls(){oc&&(oc.detachEvent("onpropertychange",Ya),dl=oc=null)}function Ya(f){if(f.propertyName==="value"&&As(dl)){var x=[];ui(x,dl,f,kr(f)),Ln(Mu,x)}}function Vi(f,x,S){f==="focusin"?(ls(),oc=x,dl=S,oc.attachEvent("onpropertychange",Ya)):f==="focusout"&&ls()}function Gi(f){if(f==="selectionchange"||f==="keyup"||f==="keydown")return As(dl)}function Dl(f,x){if(f==="click")return As(x)}function Ll(f,x){if(f==="input"||f==="change")return As(x)}function di(f,x){return f===x&&(f!==0||1/f===1/x)||f!==f&&x!==x}var Mn=typeof Object.is=="function"?Object.is:di;function fl(f,x){if(Mn(f,x))return!0;if(typeof f!="object"||f===null||typeof x!="object"||x===null)return!1;var S=Object.keys(f),L=Object.keys(x);if(S.length!==L.length)return!1;for(L=0;L<S.length;L++){var K=S[L];if(!c.call(x,K)||!Mn(f[K],x[K]))return!1}return!0}function Vn(f){for(;f&&f.firstChild;)f=f.firstChild;return f}function Es(f,x){var S=Vn(f);f=0;for(var L;S;){if(S.nodeType===3){if(L=f+S.textContent.length,f<=x&&L>=x)return{node:S,offset:x-f};f=L}e:{for(;S;){if(S.nextSibling){S=S.nextSibling;break e}S=S.parentNode}S=void 0}S=Vn(S)}}function Fl(f,x){return f&&x?f===x?!0:f&&f.nodeType===3?!1:x&&x.nodeType===3?Fl(f,x.parentNode):"contains"in f?f.contains(x):f.compareDocumentPosition?!!(f.compareDocumentPosition(x)&16):!1:!1}function bd(){for(var f=window,x=Fe();x instanceof f.HTMLIFrameElement;){try{var S=typeof x.contentWindow.location.href=="string"}catch{S=!1}if(S)f=x.contentWindow;else break;x=Fe(f.document)}return x}function xo(f){var x=f&&f.nodeName&&f.nodeName.toLowerCase();return x&&(x==="input"&&(f.type==="text"||f.type==="search"||f.type==="tel"||f.type==="url"||f.type==="password")||x==="textarea"||f.contentEditable==="true")}function Ml(f){var x=bd(),S=f.focusedElem,L=f.selectionRange;if(x!==S&&S&&S.ownerDocument&&Fl(S.ownerDocument.documentElement,S)){if(L!==null&&xo(S)){if(x=L.start,f=L.end,f===void 0&&(f=x),"selectionStart"in S)S.selectionStart=x,S.selectionEnd=Math.min(f,S.value.length);else if(f=(x=S.ownerDocument||document)&&x.defaultView||window,f.getSelection){f=f.getSelection();var K=S.textContent.length,ie=Math.min(L.start,K);L=L.end===void 0?ie:Math.min(L.end,K),!f.extend&&ie>L&&(K=L,L=ie,ie=K),K=Es(S,ie);var be=Es(S,L);K&&be&&(f.rangeCount!==1||f.anchorNode!==K.node||f.anchorOffset!==K.offset||f.focusNode!==be.node||f.focusOffset!==be.offset)&&(x=x.createRange(),x.setStart(K.node,K.offset),f.removeAllRanges(),ie>L?(f.addRange(x),f.extend(be.node,be.offset)):(x.setEnd(be.node,be.offset),f.addRange(x)))}}for(x=[],f=S;f=f.parentNode;)f.nodeType===1&&x.push({element:f,left:f.scrollLeft,top:f.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<x.length;S++)f=x[S],f.element.scrollLeft=f.left,f.element.scrollTop=f.top}}var Rl=l&&"documentMode"in document&&11>=document.documentMode,Bs=null,hl=null,Ei=null,pl=!1;function ml(f,x,S){var L=S.window===S?S.document:S.nodeType===9?S:S.ownerDocument;pl||Bs==null||Bs!==Fe(L)||(L=Bs,"selectionStart"in L&&xo(L)?L={start:L.selectionStart,end:L.selectionEnd}:(L=(L.ownerDocument&&L.ownerDocument.defaultView||window).getSelection(),L={anchorNode:L.anchorNode,anchorOffset:L.anchorOffset,focusNode:L.focusNode,focusOffset:L.focusOffset}),Ei&&fl(Ei,L)||(Ei=L,L=vl(hl,"onSelect"),0<L.length&&(x=new sc("onSelect","select",null,x,S),f.push({event:x,listeners:L}),x.target=Bs)))}function uc(f,x){var S={};return S[f.toLowerCase()]=x.toLowerCase(),S["Webkit"+f]="webkit"+x,S["Moz"+f]="moz"+x,S}var Cs={animationend:uc("Animation","AnimationEnd"),animationiteration:uc("Animation","AnimationIteration"),animationstart:uc("Animation","AnimationStart"),transitionend:uc("Transition","TransitionEnd")},Ci={},ua={};l&&(ua=document.createElement("div").style,"AnimationEvent"in window||(delete Cs.animationend.animation,delete Cs.animationiteration.animation,delete Cs.animationstart.animation),"TransitionEvent"in window||delete Cs.transitionend.transition);function ta(f){if(Ci[f])return Ci[f];if(!Cs[f])return f;var x=Cs[f],S;for(S in x)if(x.hasOwnProperty(S)&&S in ua)return Ci[f]=x[S];return f}var Fa=ta("animationend"),cs=ta("animationiteration"),zo=ta("animationstart"),Ru=ta("transitionend"),xl=new Map,Bu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gl(f,x){xl.set(f,x),i(x,[f])}for(var Yc=0;Yc<Bu.length;Yc++){var Ts=Bu[Yc],Ki=Ts.toLowerCase(),Jc=Ts[0].toUpperCase()+Ts.slice(1);gl(Ki,"on"+Jc)}gl(Fa,"onAnimationEnd"),gl(cs,"onAnimationIteration"),gl(zo,"onAnimationStart"),gl("dblclick","onDoubleClick"),gl("focusin","onFocus"),gl("focusout","onBlur"),gl(Ru,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wd=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bl));function Uu(f,x,S){var L=f.type||"unknown-event";f.currentTarget=S,Ee(L,x,void 0,f),f.currentTarget=null}function cf(f,x){x=(x&4)!==0;for(var S=0;S<f.length;S++){var L=f[S],K=L.event;L=L.listeners;e:{var ie=void 0;if(x)for(var be=L.length-1;0<=be;be--){var We=L[be],nt=We.instance,At=We.currentTarget;if(We=We.listener,nt!==ie&&K.isPropagationStopped())break e;Uu(K,We,At),ie=nt}else for(be=0;be<L.length;be++){if(We=L[be],nt=We.instance,At=We.currentTarget,We=We.listener,nt!==ie&&K.isPropagationStopped())break e;Uu(K,We,At),ie=nt}}}if(ee)throw f=me,ee=!1,me=null,f}function da(f,x){var S=x[Oi];S===void 0&&(S=x[Oi]=new Set);var L=f+"__bubble";S.has(L)||(Ho(x,f,2,!1),S.add(L))}function uf(f,x,S){var L=0;x&&(L|=4),Ho(S,f,L,x)}var go="_reactListening"+Math.random().toString(36).slice(2);function Ti(f){if(!f[go]){f[go]=!0,n.forEach(function(S){S!=="selectionchange"&&(wd.has(S)||uf(S,!1,f),uf(S,!0,f))});var x=f.nodeType===9?f:f.ownerDocument;x===null||x[go]||(x[go]=!0,uf("selectionchange",!1,x))}}function Ho(f,x,S,L){switch(zc(x)){case 1:var K=cl;break;case 4:K=qc;break;default:K=Cl}S=K.bind(null,x,S,f),K=void 0,!Xn||x!=="touchstart"&&x!=="touchmove"&&x!=="wheel"||(K=!0),L?K!==void 0?f.addEventListener(x,S,{capture:!0,passive:K}):f.addEventListener(x,S,!0):K!==void 0?f.addEventListener(x,S,{passive:K}):f.addEventListener(x,S,!1)}function Nd(f,x,S,L,K){var ie=L;if((x&1)===0&&(x&2)===0&&L!==null)e:for(;;){if(L===null)return;var be=L.tag;if(be===3||be===4){var We=L.stateNode.containerInfo;if(We===K||We.nodeType===8&&We.parentNode===K)break;if(be===4)for(be=L.return;be!==null;){var nt=be.tag;if((nt===3||nt===4)&&(nt=be.stateNode.containerInfo,nt===K||nt.nodeType===8&&nt.parentNode===K))return;be=be.return}for(;We!==null;){if(be=hc(We),be===null)return;if(nt=be.tag,nt===5||nt===6){L=ie=be;continue e}We=We.parentNode}}L=L.return}Ln(function(){var At=ie,Xt=kr(S),tr=[];e:{var Kt=xl.get(f);if(Kt!==void 0){var Sr=sc,Pr=f;switch(f){case"keypress":if(fo(S)===0)break e;case"keydown":case"keyup":Sr=rn;break;case"focusin":Pr="focus",Sr=Ol;break;case"focusout":Pr="blur",Sr=Ol;break;case"beforeblur":case"afterblur":Sr=Ol;break;case"click":if(S.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Sr=Vc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Sr=yd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Sr=yn;break;case Fa:case cs:case zo:Sr=Pl;break;case Ru:Sr=nn;break;case"scroll":Sr=vd;break;case"wheel":Sr=ea;break;case"copy":case"cut":case"paste":Sr=W;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Sr=pn}var Mr=(x&4)!==0,Hs=!Mr&&f==="scroll",wt=Mr?Kt!==null?Kt+"Capture":null:Kt;Mr=[];for(var lt=At,_t;lt!==null;){_t=lt;var or=_t.stateNode;if(_t.tag===5&&or!==null&&(_t=or,wt!==null&&(or=vr(lt,wt),or!=null&&Mr.push(Qc(lt,or,_t)))),Hs)break;lt=lt.return}0<Mr.length&&(Kt=new Sr(Kt,Pr,null,S,Xt),tr.push({event:Kt,listeners:Mr}))}}if((x&7)===0){e:{if(Kt=f==="mouseover"||f==="pointerover",Sr=f==="mouseout"||f==="pointerout",Kt&&S!==jt&&(Pr=S.relatedTarget||S.fromElement)&&(hc(Pr)||Pr[qs]))break e;if((Sr||Kt)&&(Kt=Xt.window===Xt?Xt:(Kt=Xt.ownerDocument)?Kt.defaultView||Kt.parentWindow:window,Sr?(Pr=S.relatedTarget||S.toElement,Sr=At,Pr=Pr?hc(Pr):null,Pr!==null&&(Hs=Te(Pr),Pr!==Hs||Pr.tag!==5&&Pr.tag!==6)&&(Pr=null)):(Sr=null,Pr=At),Sr!==Pr)){if(Mr=Vc,or="onMouseLeave",wt="onMouseEnter",lt="mouse",(f==="pointerout"||f==="pointerover")&&(Mr=pn,or="onPointerLeave",wt="onPointerEnter",lt="pointer"),Hs=Sr==null?Kt:nu(Sr),_t=Pr==null?Kt:nu(Pr),Kt=new Mr(or,lt+"leave",Sr,S,Xt),Kt.target=Hs,Kt.relatedTarget=_t,or=null,hc(Xt)===At&&(Mr=new Mr(wt,lt+"enter",Pr,S,Xt),Mr.target=_t,Mr.relatedTarget=Hs,or=Mr),Hs=or,Sr&&Pr)t:{for(Mr=Sr,wt=Pr,lt=0,_t=Mr;_t;_t=dc(_t))lt++;for(_t=0,or=wt;or;or=dc(or))_t++;for(;0<lt-_t;)Mr=dc(Mr),lt--;for(;0<_t-lt;)wt=dc(wt),_t--;for(;lt--;){if(Mr===wt||wt!==null&&Mr===wt.alternate)break t;Mr=dc(Mr),wt=dc(wt)}Mr=null}else Mr=null;Sr!==null&&c0(tr,Kt,Sr,Mr,!1),Pr!==null&&Hs!==null&&c0(tr,Hs,Pr,Mr,!0)}}e:{if(Kt=At?nu(At):window,Sr=Kt.nodeName&&Kt.nodeName.toLowerCase(),Sr==="select"||Sr==="input"&&Kt.type==="file")var Ur=lc;else if(ic(Kt))if(cc)Ur=Ll;else{Ur=Gi;var Yr=Vi}else(Sr=Kt.nodeName)&&Sr.toLowerCase()==="input"&&(Kt.type==="checkbox"||Kt.type==="radio")&&(Ur=Dl);if(Ur&&(Ur=Ur(f,At))){ui(tr,Ur,S,Xt);break e}Yr&&Yr(f,Kt,At),f==="focusout"&&(Yr=Kt._wrapperState)&&Yr.controlled&&Kt.type==="number"&&Pe(Kt,"number",Kt.value)}switch(Yr=At?nu(At):window,f){case"focusin":(ic(Yr)||Yr.contentEditable==="true")&&(Bs=Yr,hl=At,Ei=null);break;case"focusout":Ei=hl=Bs=null;break;case"mousedown":pl=!0;break;case"contextmenu":case"mouseup":case"dragend":pl=!1,ml(tr,S,Xt);break;case"selectionchange":if(Rl)break;case"keydown":case"keyup":ml(tr,S,Xt)}var Jr;if(Yn)e:{switch(f){case"compositionstart":var hn="onCompositionStart";break e;case"compositionend":hn="onCompositionEnd";break e;case"compositionupdate":hn="onCompositionUpdate";break e}hn=void 0}else ca?_s(f,S)&&(hn="onCompositionEnd"):f==="keydown"&&S.keyCode===229&&(hn="onCompositionStart");hn&&(Ai&&S.locale!=="ko"&&(ca||hn!=="onCompositionStart"?hn==="onCompositionEnd"&&ca&&(Jr=Hc()):(Hi=Xt,Si="value"in Hi?Hi.value:Hi.textContent,ca=!0)),Yr=vl(At,hn),0<Yr.length&&(hn=new $e(hn,f,null,S,Xt),tr.push({event:hn,listeners:Yr}),Jr?hn.data=Jr:(Jr=mo(S),Jr!==null&&(hn.data=Jr)))),(Jr=Ua?Xc(f,S):Il(f,S))&&(At=vl(At,"onBeforeInput"),0<At.length&&(Xt=new $e("onBeforeInput","beforeinput",null,S,Xt),tr.push({event:Xt,listeners:At}),Xt.data=Jr))}cf(tr,x)})}function Qc(f,x,S){return{instance:f,listener:x,currentTarget:S}}function vl(f,x){for(var S=x+"Capture",L=[];f!==null;){var K=f,ie=K.stateNode;K.tag===5&&ie!==null&&(K=ie,ie=vr(f,S),ie!=null&&L.unshift(Qc(f,ie,K)),ie=vr(f,x),ie!=null&&L.push(Qc(f,ie,K))),f=f.return}return L}function dc(f){if(f===null)return null;do f=f.return;while(f&&f.tag!==5);return f||null}function c0(f,x,S,L,K){for(var ie=x._reactName,be=[];S!==null&&S!==L;){var We=S,nt=We.alternate,At=We.stateNode;if(nt!==null&&nt===L)break;We.tag===5&&At!==null&&(We=At,K?(nt=vr(S,ie),nt!=null&&be.unshift(Qc(S,nt,We))):K||(nt=vr(S,ie),nt!=null&&be.push(Qc(S,nt,We)))),S=S.return}be.length!==0&&f.push({event:x,listeners:be})}var df=/\r\n?/g,Kp=/\u0000|\uFFFD/g;function Zc(f){return(typeof f=="string"?f:""+f).replace(df,`
`).replace(Kp,"")}function ff(f,x,S){if(x=Zc(x),Zc(f)!==x&&S)throw Error(r(425))}function qu(){}var fc=null,eu=null;function tu(f,x){return f==="textarea"||f==="noscript"||typeof x.children=="string"||typeof x.children=="number"||typeof x.dangerouslySetInnerHTML=="object"&&x.dangerouslySetInnerHTML!==null&&x.dangerouslySetInnerHTML.__html!=null}var hf=typeof setTimeout=="function"?setTimeout:void 0,xh=typeof clearTimeout=="function"?clearTimeout:void 0,u0=typeof Promise=="function"?Promise:void 0,pf=typeof queueMicrotask=="function"?queueMicrotask:typeof u0<"u"?function(f){return u0.resolve(null).then(f).catch(Xp)}:hf;function Xp(f){setTimeout(function(){throw f})}function mf(f,x){var S=x,L=0;do{var K=S.nextSibling;if(f.removeChild(S),K&&K.nodeType===8)if(S=K.data,S==="/$"){if(L===0){f.removeChild(K),co(x);return}L--}else S!=="$"&&S!=="$?"&&S!=="$!"||L++;S=K}while(S);co(x)}function Qs(f){for(;f!=null;f=f.nextSibling){var x=f.nodeType;if(x===1||x===3)break;if(x===8){if(x=f.data,x==="$"||x==="$!"||x==="$?")break;if(x==="/$")return null}}return f}function vo(f){f=f.previousSibling;for(var x=0;f;){if(f.nodeType===8){var S=f.data;if(S==="$"||S==="$!"||S==="$?"){if(x===0)return f;x--}else S==="/$"&&x++}f=f.previousSibling}return null}var Us=Math.random().toString(36).slice(2),yo="__reactFiber$"+Us,Ul="__reactProps$"+Us,qs="__reactContainer$"+Us,Oi="__reactEvents$"+Us,gh="__reactListeners$"+Us,d0="__reactHandles$"+Us;function hc(f){var x=f[yo];if(x)return x;for(var S=f.parentNode;S;){if(x=S[qs]||S[yo]){if(S=x.alternate,x.child!==null||S!==null&&S.child!==null)for(f=vo(f);f!==null;){if(S=f[yo])return S;f=vo(f)}return x}f=S,S=f.parentNode}return null}function ru(f){return f=f[yo]||f[qs],!f||f.tag!==5&&f.tag!==6&&f.tag!==13&&f.tag!==3?null:f}function nu(f){if(f.tag===5||f.tag===6)return f.stateNode;throw Error(r(33))}function pc(f){return f[Ul]||null}var Sa=[],fi=-1;function hs(f){return{current:f}}function ra(f){0>fi||(f.current=Sa[fi],Sa[fi]=null,fi--)}function Jn(f,x){fi++,Sa[fi]=f.current,f.current=x}var Xi={},Ja=hs(Xi),Pi=hs(!1),Yi=Xi;function $u(f,x){var S=f.type.contextTypes;if(!S)return Xi;var L=f.stateNode;if(L&&L.__reactInternalMemoizedUnmaskedChildContext===x)return L.__reactInternalMemoizedMaskedChildContext;var K={},ie;for(ie in S)K[ie]=x[ie];return L&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=x,f.__reactInternalMemoizedMaskedChildContext=K),K}function Zs(f){return f=f.childContextTypes,f!=null}function jd(){ra(Pi),ra(Ja)}function kd(f,x,S){if(Ja.current!==Xi)throw Error(r(168));Jn(Ja,x),Jn(Pi,S)}function xf(f,x,S){var L=f.stateNode;if(x=x.childContextTypes,typeof L.getChildContext!="function")return S;L=L.getChildContext();for(var K in L)if(!(K in x))throw Error(r(108,ne(f)||"Unknown",K));return Q({},S,L)}function au(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||Xi,Yi=Ja.current,Jn(Ja,f),Jn(Pi,Pi.current),!0}function zu(f,x,S){var L=f.stateNode;if(!L)throw Error(r(169));S?(f=xf(f,x,Yi),L.__reactInternalMemoizedMergedChildContext=f,ra(Pi),ra(Ja),Jn(Ja,f)):ra(Pi),Jn(Pi,S)}var Ji=null,Sd=!1,_=!1;function M(f){Ji===null?Ji=[f]:Ji.push(f)}function J(f){Sd=!0,M(f)}function le(){if(!_&&Ji!==null){_=!0;var f=0,x=Fr;try{var S=Ji;for(Fr=1;f<S.length;f++){var L=S[f];do L=L(!0);while(L!==null)}Ji=null,Sd=!1}catch(K){throw Ji!==null&&(Ji=Ji.slice(f+1)),Ie(Dr,le),K}finally{Fr=x,_=!1}}return null}var xe=[],ye=0,je=null,Ae=0,Oe=[],Re=0,Ye=null,vt=1,mt="";function ct(f,x){xe[ye++]=Ae,xe[ye++]=je,je=f,Ae=x}function qt(f,x,S){Oe[Re++]=vt,Oe[Re++]=mt,Oe[Re++]=Ye,Ye=f;var L=vt;f=mt;var K=32-jn(L)-1;L&=~(1<<K),S+=1;var ie=32-jn(x)+K;if(30<ie){var be=K-K%5;ie=(L&(1<<be)-1).toString(32),L>>=be,K-=be,vt=1<<32-jn(x)+K|S<<K|L,mt=ie+f}else vt=1<<ie|S<<K|L,mt=f}function Tt(f){f.return!==null&&(ct(f,1),qt(f,1,0))}function tt(f){for(;f===je;)je=xe[--ye],xe[ye]=null,Ae=xe[--ye],xe[ye]=null;for(;f===Ye;)Ye=Oe[--Re],Oe[Re]=null,mt=Oe[--Re],Oe[Re]=null,vt=Oe[--Re],Oe[Re]=null}var st=null,Dt=null,Pt=!1,Ft=null;function wr(f,x){var S=vc(5,null,null,0);S.elementType="DELETED",S.stateNode=x,S.return=f,x=f.deletions,x===null?(f.deletions=[S],f.flags|=16):x.push(S)}function dr(f,x){switch(f.tag){case 5:var S=f.type;return x=x.nodeType!==1||S.toLowerCase()!==x.nodeName.toLowerCase()?null:x,x!==null?(f.stateNode=x,st=f,Dt=Qs(x.firstChild),!0):!1;case 6:return x=f.pendingProps===""||x.nodeType!==3?null:x,x!==null?(f.stateNode=x,st=f,Dt=null,!0):!1;case 13:return x=x.nodeType!==8?null:x,x!==null?(S=Ye!==null?{id:vt,overflow:mt}:null,f.memoizedState={dehydrated:x,treeContext:S,retryLane:1073741824},S=vc(18,null,null,0),S.stateNode=x,S.return=f,f.child=S,st=f,Dt=null,!0):!1;default:return!1}}function zr(f){return(f.mode&1)!==0&&(f.flags&128)===0}function gr(f){if(Pt){var x=Dt;if(x){var S=x;if(!dr(f,x)){if(zr(f))throw Error(r(418));x=Qs(S.nextSibling);var L=st;x&&dr(f,x)?wr(L,S):(f.flags=f.flags&-4097|2,Pt=!1,st=f)}}else{if(zr(f))throw Error(r(418));f.flags=f.flags&-4097|2,Pt=!1,st=f}}}function Hn(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;st=f}function Wn(f){if(f!==st)return!1;if(!Pt)return Hn(f),Pt=!0,!1;var x;if((x=f.tag!==3)&&!(x=f.tag!==5)&&(x=f.type,x=x!=="head"&&x!=="body"&&!tu(f.type,f.memoizedProps)),x&&(x=Dt)){if(zr(f))throw On(),Error(r(418));for(;x;)wr(f,x),x=Qs(x.nextSibling)}if(Hn(f),f.tag===13){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));e:{for(f=f.nextSibling,x=0;f;){if(f.nodeType===8){var S=f.data;if(S==="/$"){if(x===0){Dt=Qs(f.nextSibling);break e}x--}else S!=="$"&&S!=="$!"&&S!=="$?"||x++}f=f.nextSibling}Dt=null}}else Dt=st?Qs(f.stateNode.nextSibling):null;return!0}function On(){for(var f=Dt;f;)f=Qs(f.nextSibling)}function xn(){Dt=st=null,Pt=!1}function na(f){Ft===null?Ft=[f]:Ft.push(f)}var fa=N.ReactCurrentBatchConfig;function Xr(f,x,S){if(f=S.ref,f!==null&&typeof f!="function"&&typeof f!="object"){if(S._owner){if(S=S._owner,S){if(S.tag!==1)throw Error(r(309));var L=S.stateNode}if(!L)throw Error(r(147,f));var K=L,ie=""+f;return x!==null&&x.ref!==null&&typeof x.ref=="function"&&x.ref._stringRef===ie?x.ref:(x=function(be){var We=K.refs;be===null?delete We[ie]:We[ie]=be},x._stringRef=ie,x)}if(typeof f!="string")throw Error(r(284));if(!S._owner)throw Error(r(290,f))}return f}function _a(f,x){throw f=Object.prototype.toString.call(x),Error(r(31,f==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":f))}function Qa(f){var x=f._init;return x(f._payload)}function va(f){function x(wt,lt){if(f){var _t=wt.deletions;_t===null?(wt.deletions=[lt],wt.flags|=16):_t.push(lt)}}function S(wt,lt){if(!f)return null;for(;lt!==null;)x(wt,lt),lt=lt.sibling;return null}function L(wt,lt){for(wt=new Map;lt!==null;)lt.key!==null?wt.set(lt.key,lt):wt.set(lt.index,lt),lt=lt.sibling;return wt}function K(wt,lt){return wt=Sf(wt,lt),wt.index=0,wt.sibling=null,wt}function ie(wt,lt,_t){return wt.index=_t,f?(_t=wt.alternate,_t!==null?(_t=_t.index,_t<lt?(wt.flags|=2,lt):_t):(wt.flags|=2,lt)):(wt.flags|=1048576,lt)}function be(wt){return f&&wt.alternate===null&&(wt.flags|=2),wt}function We(wt,lt,_t,or){return lt===null||lt.tag!==6?(lt=Ib(_t,wt.mode,or),lt.return=wt,lt):(lt=K(lt,_t),lt.return=wt,lt)}function nt(wt,lt,_t,or){var Ur=_t.type;return Ur===A?Xt(wt,lt,_t.props.children,or,_t.key):lt!==null&&(lt.elementType===Ur||typeof Ur=="object"&&Ur!==null&&Ur.$$typeof===re&&Qa(Ur)===lt.type)?(or=K(lt,_t.props),or.ref=Xr(wt,lt,_t),or.return=wt,or):(or=Og(_t.type,_t.key,_t.props,null,wt.mode,or),or.ref=Xr(wt,lt,_t),or.return=wt,or)}function At(wt,lt,_t,or){return lt===null||lt.tag!==4||lt.stateNode.containerInfo!==_t.containerInfo||lt.stateNode.implementation!==_t.implementation?(lt=Db(_t,wt.mode,or),lt.return=wt,lt):(lt=K(lt,_t.children||[]),lt.return=wt,lt)}function Xt(wt,lt,_t,or,Ur){return lt===null||lt.tag!==7?(lt=b0(_t,wt.mode,or,Ur),lt.return=wt,lt):(lt=K(lt,_t),lt.return=wt,lt)}function tr(wt,lt,_t){if(typeof lt=="string"&&lt!==""||typeof lt=="number")return lt=Ib(""+lt,wt.mode,_t),lt.return=wt,lt;if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case k:return _t=Og(lt.type,lt.key,lt.props,null,wt.mode,_t),_t.ref=Xr(wt,null,lt),_t.return=wt,_t;case P:return lt=Db(lt,wt.mode,_t),lt.return=wt,lt;case re:var or=lt._init;return tr(wt,or(lt._payload),_t)}if(pe(lt)||Y(lt))return lt=b0(lt,wt.mode,_t,null),lt.return=wt,lt;_a(wt,lt)}return null}function Kt(wt,lt,_t,or){var Ur=lt!==null?lt.key:null;if(typeof _t=="string"&&_t!==""||typeof _t=="number")return Ur!==null?null:We(wt,lt,""+_t,or);if(typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case k:return _t.key===Ur?nt(wt,lt,_t,or):null;case P:return _t.key===Ur?At(wt,lt,_t,or):null;case re:return Ur=_t._init,Kt(wt,lt,Ur(_t._payload),or)}if(pe(_t)||Y(_t))return Ur!==null?null:Xt(wt,lt,_t,or,null);_a(wt,_t)}return null}function Sr(wt,lt,_t,or,Ur){if(typeof or=="string"&&or!==""||typeof or=="number")return wt=wt.get(_t)||null,We(lt,wt,""+or,Ur);if(typeof or=="object"&&or!==null){switch(or.$$typeof){case k:return wt=wt.get(or.key===null?_t:or.key)||null,nt(lt,wt,or,Ur);case P:return wt=wt.get(or.key===null?_t:or.key)||null,At(lt,wt,or,Ur);case re:var Yr=or._init;return Sr(wt,lt,_t,Yr(or._payload),Ur)}if(pe(or)||Y(or))return wt=wt.get(_t)||null,Xt(lt,wt,or,Ur,null);_a(lt,or)}return null}function Pr(wt,lt,_t,or){for(var Ur=null,Yr=null,Jr=lt,hn=lt=0,Fi=null;Jr!==null&&hn<_t.length;hn++){Jr.index>hn?(Fi=Jr,Jr=null):Fi=Jr.sibling;var ha=Kt(wt,Jr,_t[hn],or);if(ha===null){Jr===null&&(Jr=Fi);break}f&&Jr&&ha.alternate===null&&x(wt,Jr),lt=ie(ha,lt,hn),Yr===null?Ur=ha:Yr.sibling=ha,Yr=ha,Jr=Fi}if(hn===_t.length)return S(wt,Jr),Pt&&ct(wt,hn),Ur;if(Jr===null){for(;hn<_t.length;hn++)Jr=tr(wt,_t[hn],or),Jr!==null&&(lt=ie(Jr,lt,hn),Yr===null?Ur=Jr:Yr.sibling=Jr,Yr=Jr);return Pt&&ct(wt,hn),Ur}for(Jr=L(wt,Jr);hn<_t.length;hn++)Fi=Sr(Jr,wt,hn,_t[hn],or),Fi!==null&&(f&&Fi.alternate!==null&&Jr.delete(Fi.key===null?hn:Fi.key),lt=ie(Fi,lt,hn),Yr===null?Ur=Fi:Yr.sibling=Fi,Yr=Fi);return f&&Jr.forEach(function(_f){return x(wt,_f)}),Pt&&ct(wt,hn),Ur}function Mr(wt,lt,_t,or){var Ur=Y(_t);if(typeof Ur!="function")throw Error(r(150));if(_t=Ur.call(_t),_t==null)throw Error(r(151));for(var Yr=Ur=null,Jr=lt,hn=lt=0,Fi=null,ha=_t.next();Jr!==null&&!ha.done;hn++,ha=_t.next()){Jr.index>hn?(Fi=Jr,Jr=null):Fi=Jr.sibling;var _f=Kt(wt,Jr,ha.value,or);if(_f===null){Jr===null&&(Jr=Fi);break}f&&Jr&&_f.alternate===null&&x(wt,Jr),lt=ie(_f,lt,hn),Yr===null?Ur=_f:Yr.sibling=_f,Yr=_f,Jr=Fi}if(ha.done)return S(wt,Jr),Pt&&ct(wt,hn),Ur;if(Jr===null){for(;!ha.done;hn++,ha=_t.next())ha=tr(wt,ha.value,or),ha!==null&&(lt=ie(ha,lt,hn),Yr===null?Ur=ha:Yr.sibling=ha,Yr=ha);return Pt&&ct(wt,hn),Ur}for(Jr=L(wt,Jr);!ha.done;hn++,ha=_t.next())ha=Sr(Jr,wt,hn,ha.value,or),ha!==null&&(f&&ha.alternate!==null&&Jr.delete(ha.key===null?hn:ha.key),lt=ie(ha,lt,hn),Yr===null?Ur=ha:Yr.sibling=ha,Yr=ha);return f&&Jr.forEach(function(aB){return x(wt,aB)}),Pt&&ct(wt,hn),Ur}function Hs(wt,lt,_t,or){if(typeof _t=="object"&&_t!==null&&_t.type===A&&_t.key===null&&(_t=_t.props.children),typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case k:e:{for(var Ur=_t.key,Yr=lt;Yr!==null;){if(Yr.key===Ur){if(Ur=_t.type,Ur===A){if(Yr.tag===7){S(wt,Yr.sibling),lt=K(Yr,_t.props.children),lt.return=wt,wt=lt;break e}}else if(Yr.elementType===Ur||typeof Ur=="object"&&Ur!==null&&Ur.$$typeof===re&&Qa(Ur)===Yr.type){S(wt,Yr.sibling),lt=K(Yr,_t.props),lt.ref=Xr(wt,Yr,_t),lt.return=wt,wt=lt;break e}S(wt,Yr);break}else x(wt,Yr);Yr=Yr.sibling}_t.type===A?(lt=b0(_t.props.children,wt.mode,or,_t.key),lt.return=wt,wt=lt):(or=Og(_t.type,_t.key,_t.props,null,wt.mode,or),or.ref=Xr(wt,lt,_t),or.return=wt,wt=or)}return be(wt);case P:e:{for(Yr=_t.key;lt!==null;){if(lt.key===Yr)if(lt.tag===4&&lt.stateNode.containerInfo===_t.containerInfo&&lt.stateNode.implementation===_t.implementation){S(wt,lt.sibling),lt=K(lt,_t.children||[]),lt.return=wt,wt=lt;break e}else{S(wt,lt);break}else x(wt,lt);lt=lt.sibling}lt=Db(_t,wt.mode,or),lt.return=wt,wt=lt}return be(wt);case re:return Yr=_t._init,Hs(wt,lt,Yr(_t._payload),or)}if(pe(_t))return Pr(wt,lt,_t,or);if(Y(_t))return Mr(wt,lt,_t,or);_a(wt,_t)}return typeof _t=="string"&&_t!==""||typeof _t=="number"?(_t=""+_t,lt!==null&&lt.tag===6?(S(wt,lt.sibling),lt=K(lt,_t),lt.return=wt,wt=lt):(S(wt,lt),lt=Ib(_t,wt.mode,or),lt.return=wt,wt=lt),be(wt)):S(wt,lt)}return Hs}var ps=va(!0),Rn=va(!1),ei=hs(null),ti=null,qa=null,ms=null;function $s(){ms=qa=ti=null}function Ii(f){var x=ei.current;ra(ei),f._currentValue=x}function bo(f,x,S){for(;f!==null;){var L=f.alternate;if((f.childLanes&x)!==x?(f.childLanes|=x,L!==null&&(L.childLanes|=x)):L!==null&&(L.childLanes&x)!==x&&(L.childLanes|=x),f===S)break;f=f.return}}function Aa(f,x){ti=f,ms=qa=null,f=f.dependencies,f!==null&&f.firstContext!==null&&((f.lanes&x)!==0&&(yl=!0),f.firstContext=null)}function Ga(f){var x=f._currentValue;if(ms!==f)if(f={context:f,memoizedValue:x,next:null},qa===null){if(ti===null)throw Error(r(308));qa=f,ti.dependencies={lanes:0,firstContext:f}}else qa=qa.next=f;return x}var Qi=null;function mc(f){Qi===null?Qi=[f]:Qi.push(f)}function ql(f,x,S,L){var K=x.interleaved;return K===null?(S.next=S,mc(x)):(S.next=K.next,K.next=S),x.interleaved=S,Qn(f,L)}function Qn(f,x){f.lanes|=x;var S=f.alternate;for(S!==null&&(S.lanes|=x),S=f,f=f.return;f!==null;)f.childLanes|=x,S=f.alternate,S!==null&&(S.childLanes|=x),S=f,f=f.return;return S.tag===3?S.stateNode:null}var Wo=!1;function _d(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function f0(f,x){f=f.updateQueue,x.updateQueue===f&&(x.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function wo(f,x){return{eventTime:f,lane:x,tag:0,payload:null,callback:null,next:null}}function Zi(f,x,S){var L=f.updateQueue;if(L===null)return null;if(L=L.shared,(aa&2)!==0){var K=L.pending;return K===null?x.next=x:(x.next=K.next,K.next=x),L.pending=x,Qn(f,S)}return K=L.interleaved,K===null?(x.next=x,mc(L)):(x.next=K.next,K.next=x),L.interleaved=x,Qn(f,S)}function No(f,x,S){if(x=x.updateQueue,x!==null&&(x=x.shared,(S&4194240)!==0)){var L=x.lanes;L&=f.pendingLanes,S|=L,x.lanes=S,Ct(f,S)}}function Di(f,x){var S=f.updateQueue,L=f.alternate;if(L!==null&&(L=L.updateQueue,S===L)){var K=null,ie=null;if(S=S.firstBaseUpdate,S!==null){do{var be={eventTime:S.eventTime,lane:S.lane,tag:S.tag,payload:S.payload,callback:S.callback,next:null};ie===null?K=ie=be:ie=ie.next=be,S=S.next}while(S!==null);ie===null?K=ie=x:ie=ie.next=x}else K=ie=x;S={baseState:L.baseState,firstBaseUpdate:K,lastBaseUpdate:ie,shared:L.shared,effects:L.effects},f.updateQueue=S;return}f=S.lastBaseUpdate,f===null?S.firstBaseUpdate=x:f.next=x,S.lastBaseUpdate=x}function xs(f,x,S,L){var K=f.updateQueue;Wo=!1;var ie=K.firstBaseUpdate,be=K.lastBaseUpdate,We=K.shared.pending;if(We!==null){K.shared.pending=null;var nt=We,At=nt.next;nt.next=null,be===null?ie=At:be.next=At,be=nt;var Xt=f.alternate;Xt!==null&&(Xt=Xt.updateQueue,We=Xt.lastBaseUpdate,We!==be&&(We===null?Xt.firstBaseUpdate=At:We.next=At,Xt.lastBaseUpdate=nt))}if(ie!==null){var tr=K.baseState;be=0,Xt=At=nt=null,We=ie;do{var Kt=We.lane,Sr=We.eventTime;if((L&Kt)===Kt){Xt!==null&&(Xt=Xt.next={eventTime:Sr,lane:0,tag:We.tag,payload:We.payload,callback:We.callback,next:null});e:{var Pr=f,Mr=We;switch(Kt=x,Sr=S,Mr.tag){case 1:if(Pr=Mr.payload,typeof Pr=="function"){tr=Pr.call(Sr,tr,Kt);break e}tr=Pr;break e;case 3:Pr.flags=Pr.flags&-65537|128;case 0:if(Pr=Mr.payload,Kt=typeof Pr=="function"?Pr.call(Sr,tr,Kt):Pr,Kt==null)break e;tr=Q({},tr,Kt);break e;case 2:Wo=!0}}We.callback!==null&&We.lane!==0&&(f.flags|=64,Kt=K.effects,Kt===null?K.effects=[We]:Kt.push(We))}else Sr={eventTime:Sr,lane:Kt,tag:We.tag,payload:We.payload,callback:We.callback,next:null},Xt===null?(At=Xt=Sr,nt=tr):Xt=Xt.next=Sr,be|=Kt;if(We=We.next,We===null){if(We=K.shared.pending,We===null)break;Kt=We,We=Kt.next,Kt.next=null,K.lastBaseUpdate=Kt,K.shared.pending=null}}while(!0);if(Xt===null&&(nt=tr),K.baseState=nt,K.firstBaseUpdate=At,K.lastBaseUpdate=Xt,x=K.shared.interleaved,x!==null){K=x;do be|=K.lane,K=K.next;while(K!==x)}else ie===null&&(K.shared.lanes=0);x0|=be,f.lanes=be,f.memoizedState=tr}}function su(f,x,S){if(f=x.effects,x.effects=null,f!==null)for(x=0;x<f.length;x++){var L=f[x],K=L.callback;if(K!==null){if(L.callback=null,L=S,typeof K!="function")throw Error(r(191,K));K.call(L)}}}var iu={},hi=hs(iu),ou=hs(iu),F=hs(iu);function ue(f){if(f===iu)throw Error(r(174));return f}function Ne(f,x){switch(Jn(F,x),Jn(ou,f),Jn(hi,iu),f=x.nodeType,f){case 9:case 11:x=(x=x.documentElement)?x.namespaceURI:at(null,"");break;default:f=f===8?x.parentNode:x,x=f.namespaceURI||null,f=f.tagName,x=at(x,f)}ra(hi),Jn(hi,x)}function He(){ra(hi),ra(ou),ra(F)}function ft(f){ue(F.current);var x=ue(hi.current),S=at(x,f.type);x!==S&&(Jn(ou,f),Jn(hi,S))}function sr(f){ou.current===f&&(ra(hi),ra(ou))}var Nt=hs(0);function Zt(f){for(var x=f;x!==null;){if(x.tag===13){var S=x.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||S.data==="$?"||S.data==="$!"))return x}else if(x.tag===19&&x.memoizedProps.revealOrder!==void 0){if((x.flags&128)!==0)return x}else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===f)break;for(;x.sibling===null;){if(x.return===null||x.return===f)return null;x=x.return}x.sibling.return=x.return,x=x.sibling}return null}var qr=[];function fn(){for(var f=0;f<qr.length;f++)qr[f]._workInProgressVersionPrimary=null;qr.length=0}var Bn=N.ReactCurrentDispatcher,Ea=N.ReactCurrentBatchConfig,$a=0,Gn=null,Za=null,gs=null,gf=!1,lu=!1,vf=0,sb=0;function zs(){throw Error(r(321))}function vh(f,x){if(x===null)return!1;for(var S=0;S<x.length&&S<f.length;S++)if(!Mn(f[S],x[S]))return!1;return!0}function h0(f,x,S,L,K,ie){if($a=ie,Gn=x,x.memoizedState=null,x.updateQueue=null,x.lanes=0,Bn.current=f===null||f.memoizedState===null?T9:O9,f=S(L,K),lu){ie=0;do{if(lu=!1,vf=0,25<=ie)throw Error(r(301));ie+=1,gs=Za=null,x.updateQueue=null,Bn.current=P9,f=S(L,K)}while(lu)}if(Bn.current=gg,x=Za!==null&&Za.next!==null,$a=0,gs=Za=Gn=null,gf=!1,x)throw Error(r(300));return f}function xc(){var f=vf!==0;return vf=0,f}function $l(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gs===null?Gn.memoizedState=gs=f:gs=gs.next=f,gs}function Vo(){if(Za===null){var f=Gn.alternate;f=f!==null?f.memoizedState:null}else f=Za.next;var x=gs===null?Gn.memoizedState:gs.next;if(x!==null)gs=x,Za=f;else{if(f===null)throw Error(r(310));Za=f,f={memoizedState:Za.memoizedState,baseState:Za.baseState,baseQueue:Za.baseQueue,queue:Za.queue,next:null},gs===null?Gn.memoizedState=gs=f:gs=gs.next=f}return gs}function p0(f,x){return typeof x=="function"?x(f):x}function yh(f){var x=Vo(),S=x.queue;if(S===null)throw Error(r(311));S.lastRenderedReducer=f;var L=Za,K=L.baseQueue,ie=S.pending;if(ie!==null){if(K!==null){var be=K.next;K.next=ie.next,ie.next=be}L.baseQueue=K=ie,S.pending=null}if(K!==null){ie=K.next,L=L.baseState;var We=be=null,nt=null,At=ie;do{var Xt=At.lane;if(($a&Xt)===Xt)nt!==null&&(nt=nt.next={lane:0,action:At.action,hasEagerState:At.hasEagerState,eagerState:At.eagerState,next:null}),L=At.hasEagerState?At.eagerState:f(L,At.action);else{var tr={lane:Xt,action:At.action,hasEagerState:At.hasEagerState,eagerState:At.eagerState,next:null};nt===null?(We=nt=tr,be=L):nt=nt.next=tr,Gn.lanes|=Xt,x0|=Xt}At=At.next}while(At!==null&&At!==ie);nt===null?be=L:nt.next=We,Mn(L,x.memoizedState)||(yl=!0),x.memoizedState=L,x.baseState=be,x.baseQueue=nt,S.lastRenderedState=L}if(f=S.interleaved,f!==null){K=f;do ie=K.lane,Gn.lanes|=ie,x0|=ie,K=K.next;while(K!==f)}else K===null&&(S.lanes=0);return[x.memoizedState,S.dispatch]}function Hu(f){var x=Vo(),S=x.queue;if(S===null)throw Error(r(311));S.lastRenderedReducer=f;var L=S.dispatch,K=S.pending,ie=x.memoizedState;if(K!==null){S.pending=null;var be=K=K.next;do ie=f(ie,be.action),be=be.next;while(be!==K);Mn(ie,x.memoizedState)||(yl=!0),x.memoizedState=ie,x.baseQueue===null&&(x.baseState=ie),S.lastRenderedState=ie}return[ie,L]}function hg(){}function Yp(f,x){var S=Gn,L=Vo(),K=x(),ie=!Mn(L.memoizedState,K);if(ie&&(L.memoizedState=K,yl=!0),L=L.queue,Nh(mg.bind(null,S,L,f),[f]),L.getSnapshot!==x||ie||gs!==null&&gs.memoizedState.tag&1){if(S.flags|=2048,Go(9,Jp.bind(null,S,L,K,x),void 0,null),Li===null)throw Error(r(349));($a&30)!==0||pg(S,x,K)}return K}function pg(f,x,S){f.flags|=16384,f={getSnapshot:x,value:S},x=Gn.updateQueue,x===null?(x={lastEffect:null,stores:null},Gn.updateQueue=x,x.stores=[f]):(S=x.stores,S===null?x.stores=[f]:S.push(f))}function Jp(f,x,S,L){x.value=S,x.getSnapshot=L,yf(x)&&bh(f)}function mg(f,x,S){return S(function(){yf(x)&&bh(f)})}function yf(f){var x=f.getSnapshot;f=f.value;try{var S=x();return!Mn(f,S)}catch{return!0}}function bh(f){var x=Qn(f,1);x!==null&&hu(x,f,1,-1)}function m0(f){var x=$l();return typeof f=="function"&&(f=f()),x.memoizedState=x.baseState=f,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:p0,lastRenderedState:f},x.queue=f,f=f.dispatch=C9.bind(null,Gn,f),[x.memoizedState,f]}function Go(f,x,S,L){return f={tag:f,create:x,destroy:S,deps:L,next:null},x=Gn.updateQueue,x===null?(x={lastEffect:null,stores:null},Gn.updateQueue=x,x.lastEffect=f.next=f):(S=x.lastEffect,S===null?x.lastEffect=f.next=f:(L=S.next,S.next=f,f.next=L,x.lastEffect=f)),f}function cu(){return Vo().memoizedState}function zl(f,x,S,L){var K=$l();Gn.flags|=f,K.memoizedState=Go(1|x,S,void 0,L===void 0?null:L)}function Ad(f,x,S,L){var K=Vo();L=L===void 0?null:L;var ie=void 0;if(Za!==null){var be=Za.memoizedState;if(ie=be.destroy,L!==null&&vh(L,be.deps)){K.memoizedState=Go(x,S,ie,L);return}}Gn.flags|=f,K.memoizedState=Go(1|x,S,ie,L)}function wh(f,x){return zl(8390656,8,f,x)}function Nh(f,x){return Ad(2048,8,f,x)}function xg(f,x){return Ad(4,2,f,x)}function jh(f,x){return Ad(4,4,f,x)}function kh(f,x){if(typeof x=="function")return f=f(),x(f),function(){x(null)};if(x!=null)return f=f(),x.current=f,function(){x.current=null}}function kS(f,x,S){return S=S!=null?S.concat([f]):null,Ad(4,4,kh.bind(null,x,f),S)}function ib(){}function SS(f,x){var S=Vo();x=x===void 0?null:x;var L=S.memoizedState;return L!==null&&x!==null&&vh(x,L[1])?L[0]:(S.memoizedState=[f,x],f)}function _S(f,x){var S=Vo();x=x===void 0?null:x;var L=S.memoizedState;return L!==null&&x!==null&&vh(x,L[1])?L[0]:(f=f(),S.memoizedState=[f,x],f)}function AS(f,x,S){return($a&21)===0?(f.baseState&&(f.baseState=!1,yl=!0),f.memoizedState=S):(Mn(S,x)||(S=rr(),Gn.lanes|=S,x0|=S,f.baseState=!0),x)}function A9(f,x){var S=Fr;Fr=S!==0&&4>S?S:4,f(!0);var L=Ea.transition;Ea.transition={};try{f(!1),x()}finally{Fr=S,Ea.transition=L}}function ES(){return Vo().memoizedState}function E9(f,x,S){var L=jf(f);if(S={lane:L,action:S,hasEagerState:!1,eagerState:null,next:null},CS(f))TS(x,S);else if(S=ql(f,x,S,L),S!==null){var K=Xo();hu(S,f,L,K),OS(S,x,L)}}function C9(f,x,S){var L=jf(f),K={lane:L,action:S,hasEagerState:!1,eagerState:null,next:null};if(CS(f))TS(x,K);else{var ie=f.alternate;if(f.lanes===0&&(ie===null||ie.lanes===0)&&(ie=x.lastRenderedReducer,ie!==null))try{var be=x.lastRenderedState,We=ie(be,S);if(K.hasEagerState=!0,K.eagerState=We,Mn(We,be)){var nt=x.interleaved;nt===null?(K.next=K,mc(x)):(K.next=nt.next,nt.next=K),x.interleaved=K;return}}catch{}S=ql(f,x,K,L),S!==null&&(K=Xo(),hu(S,f,L,K),OS(S,x,L))}}function CS(f){var x=f.alternate;return f===Gn||x!==null&&x===Gn}function TS(f,x){lu=gf=!0;var S=f.pending;S===null?x.next=x:(x.next=S.next,S.next=x),f.pending=x}function OS(f,x,S){if((S&4194240)!==0){var L=x.lanes;L&=f.pendingLanes,S|=L,x.lanes=S,Ct(f,S)}}var gg={readContext:Ga,useCallback:zs,useContext:zs,useEffect:zs,useImperativeHandle:zs,useInsertionEffect:zs,useLayoutEffect:zs,useMemo:zs,useReducer:zs,useRef:zs,useState:zs,useDebugValue:zs,useDeferredValue:zs,useTransition:zs,useMutableSource:zs,useSyncExternalStore:zs,useId:zs,unstable_isNewReconciler:!1},T9={readContext:Ga,useCallback:function(f,x){return $l().memoizedState=[f,x===void 0?null:x],f},useContext:Ga,useEffect:wh,useImperativeHandle:function(f,x,S){return S=S!=null?S.concat([f]):null,zl(4194308,4,kh.bind(null,x,f),S)},useLayoutEffect:function(f,x){return zl(4194308,4,f,x)},useInsertionEffect:function(f,x){return zl(4,2,f,x)},useMemo:function(f,x){var S=$l();return x=x===void 0?null:x,f=f(),S.memoizedState=[f,x],f},useReducer:function(f,x,S){var L=$l();return x=S!==void 0?S(x):x,L.memoizedState=L.baseState=x,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:x},L.queue=f,f=f.dispatch=E9.bind(null,Gn,f),[L.memoizedState,f]},useRef:function(f){var x=$l();return f={current:f},x.memoizedState=f},useState:m0,useDebugValue:ib,useDeferredValue:function(f){return $l().memoizedState=f},useTransition:function(){var f=m0(!1),x=f[0];return f=A9.bind(null,f[1]),$l().memoizedState=f,[x,f]},useMutableSource:function(){},useSyncExternalStore:function(f,x,S){var L=Gn,K=$l();if(Pt){if(S===void 0)throw Error(r(407));S=S()}else{if(S=x(),Li===null)throw Error(r(349));($a&30)!==0||pg(L,x,S)}K.memoizedState=S;var ie={value:S,getSnapshot:x};return K.queue=ie,wh(mg.bind(null,L,ie,f),[f]),L.flags|=2048,Go(9,Jp.bind(null,L,ie,S,x),void 0,null),S},useId:function(){var f=$l(),x=Li.identifierPrefix;if(Pt){var S=mt,L=vt;S=(L&~(1<<32-jn(L)-1)).toString(32)+S,x=":"+x+"R"+S,S=vf++,0<S&&(x+="H"+S.toString(32)),x+=":"}else S=sb++,x=":"+x+"r"+S.toString(32)+":";return f.memoizedState=x},unstable_isNewReconciler:!1},O9={readContext:Ga,useCallback:SS,useContext:Ga,useEffect:Nh,useImperativeHandle:kS,useInsertionEffect:xg,useLayoutEffect:jh,useMemo:_S,useReducer:yh,useRef:cu,useState:function(){return yh(p0)},useDebugValue:ib,useDeferredValue:function(f){var x=Vo();return AS(x,Za.memoizedState,f)},useTransition:function(){var f=yh(p0)[0],x=Vo().memoizedState;return[f,x]},useMutableSource:hg,useSyncExternalStore:Yp,useId:ES,unstable_isNewReconciler:!1},P9={readContext:Ga,useCallback:SS,useContext:Ga,useEffect:Nh,useImperativeHandle:kS,useInsertionEffect:xg,useLayoutEffect:jh,useMemo:_S,useReducer:Hu,useRef:cu,useState:function(){return Hu(p0)},useDebugValue:ib,useDeferredValue:function(f){var x=Vo();return Za===null?x.memoizedState=f:AS(x,Za.memoizedState,f)},useTransition:function(){var f=Hu(p0)[0],x=Vo().memoizedState;return[f,x]},useMutableSource:hg,useSyncExternalStore:Yp,useId:ES,unstable_isNewReconciler:!1};function uu(f,x){if(f&&f.defaultProps){x=Q({},x),f=f.defaultProps;for(var S in f)x[S]===void 0&&(x[S]=f[S]);return x}return x}function ob(f,x,S,L){x=f.memoizedState,S=S(L,x),S=S==null?x:Q({},x,S),f.memoizedState=S,f.lanes===0&&(f.updateQueue.baseState=S)}var vg={isMounted:function(f){return(f=f._reactInternals)?Te(f)===f:!1},enqueueSetState:function(f,x,S){f=f._reactInternals;var L=Xo(),K=jf(f),ie=wo(L,K);ie.payload=x,S!=null&&(ie.callback=S),x=Zi(f,ie,K),x!==null&&(hu(x,f,K,L),No(x,f,K))},enqueueReplaceState:function(f,x,S){f=f._reactInternals;var L=Xo(),K=jf(f),ie=wo(L,K);ie.tag=1,ie.payload=x,S!=null&&(ie.callback=S),x=Zi(f,ie,K),x!==null&&(hu(x,f,K,L),No(x,f,K))},enqueueForceUpdate:function(f,x){f=f._reactInternals;var S=Xo(),L=jf(f),K=wo(S,L);K.tag=2,x!=null&&(K.callback=x),x=Zi(f,K,L),x!==null&&(hu(x,f,L,S),No(x,f,L))}};function PS(f,x,S,L,K,ie,be){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(L,ie,be):x.prototype&&x.prototype.isPureReactComponent?!fl(S,L)||!fl(K,ie):!0}function IS(f,x,S){var L=!1,K=Xi,ie=x.contextType;return typeof ie=="object"&&ie!==null?ie=Ga(ie):(K=Zs(x)?Yi:Ja.current,L=x.contextTypes,ie=(L=L!=null)?$u(f,K):Xi),x=new x(S,ie),f.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=vg,f.stateNode=x,x._reactInternals=f,L&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=K,f.__reactInternalMemoizedMaskedChildContext=ie),x}function DS(f,x,S,L){f=x.state,typeof x.componentWillReceiveProps=="function"&&x.componentWillReceiveProps(S,L),typeof x.UNSAFE_componentWillReceiveProps=="function"&&x.UNSAFE_componentWillReceiveProps(S,L),x.state!==f&&vg.enqueueReplaceState(x,x.state,null)}function lb(f,x,S,L){var K=f.stateNode;K.props=S,K.state=f.memoizedState,K.refs={},_d(f);var ie=x.contextType;typeof ie=="object"&&ie!==null?K.context=Ga(ie):(ie=Zs(x)?Yi:Ja.current,K.context=$u(f,ie)),K.state=f.memoizedState,ie=x.getDerivedStateFromProps,typeof ie=="function"&&(ob(f,x,ie,S),K.state=f.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof K.getSnapshotBeforeUpdate=="function"||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(x=K.state,typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount(),x!==K.state&&vg.enqueueReplaceState(K,K.state,null),xs(f,S,K,L),K.state=f.memoizedState),typeof K.componentDidMount=="function"&&(f.flags|=4194308)}function Sh(f,x){try{var S="",L=x;do S+=U(L),L=L.return;while(L);var K=S}catch(ie){K=`
Error generating stack: `+ie.message+`
`+ie.stack}return{value:f,source:x,stack:K,digest:null}}function cb(f,x,S){return{value:f,source:null,stack:S??null,digest:x??null}}function ub(f,x){try{console.error(x.value)}catch(S){setTimeout(function(){throw S})}}var I9=typeof WeakMap=="function"?WeakMap:Map;function LS(f,x,S){S=wo(-1,S),S.tag=3,S.payload={element:null};var L=x.value;return S.callback=function(){Sg||(Sg=!0,Sb=L),ub(f,x)},S}function FS(f,x,S){S=wo(-1,S),S.tag=3;var L=f.type.getDerivedStateFromError;if(typeof L=="function"){var K=x.value;S.payload=function(){return L(K)},S.callback=function(){ub(f,x)}}var ie=f.stateNode;return ie!==null&&typeof ie.componentDidCatch=="function"&&(S.callback=function(){ub(f,x),typeof L!="function"&&(wf===null?wf=new Set([this]):wf.add(this));var be=x.stack;this.componentDidCatch(x.value,{componentStack:be!==null?be:""})}),S}function MS(f,x,S){var L=f.pingCache;if(L===null){L=f.pingCache=new I9;var K=new Set;L.set(x,K)}else K=L.get(x),K===void 0&&(K=new Set,L.set(x,K));K.has(S)||(K.add(S),f=G9.bind(null,f,x,S),x.then(f,f))}function RS(f){do{var x;if((x=f.tag===13)&&(x=f.memoizedState,x=x!==null?x.dehydrated!==null:!0),x)return f;f=f.return}while(f!==null);return null}function BS(f,x,S,L,K){return(f.mode&1)===0?(f===x?f.flags|=65536:(f.flags|=128,S.flags|=131072,S.flags&=-52805,S.tag===1&&(S.alternate===null?S.tag=17:(x=wo(-1,1),x.tag=2,Zi(S,x,1))),S.lanes|=1),f):(f.flags|=65536,f.lanes=K,f)}var D9=N.ReactCurrentOwner,yl=!1;function Ko(f,x,S,L){x.child=f===null?Rn(x,null,S,L):ps(x,f.child,S,L)}function US(f,x,S,L,K){S=S.render;var ie=x.ref;return Aa(x,K),L=h0(f,x,S,L,ie,K),S=xc(),f!==null&&!yl?(x.updateQueue=f.updateQueue,x.flags&=-2053,f.lanes&=~K,Ed(f,x,K)):(Pt&&S&&Tt(x),x.flags|=1,Ko(f,x,L,K),x.child)}function qS(f,x,S,L,K){if(f===null){var ie=S.type;return typeof ie=="function"&&!Pb(ie)&&ie.defaultProps===void 0&&S.compare===null&&S.defaultProps===void 0?(x.tag=15,x.type=ie,$S(f,x,ie,L,K)):(f=Og(S.type,null,L,x,x.mode,K),f.ref=x.ref,f.return=x,x.child=f)}if(ie=f.child,(f.lanes&K)===0){var be=ie.memoizedProps;if(S=S.compare,S=S!==null?S:fl,S(be,L)&&f.ref===x.ref)return Ed(f,x,K)}return x.flags|=1,f=Sf(ie,L),f.ref=x.ref,f.return=x,x.child=f}function $S(f,x,S,L,K){if(f!==null){var ie=f.memoizedProps;if(fl(ie,L)&&f.ref===x.ref)if(yl=!1,x.pendingProps=L=ie,(f.lanes&K)!==0)(f.flags&131072)!==0&&(yl=!0);else return x.lanes=f.lanes,Ed(f,x,K)}return db(f,x,S,L,K)}function zS(f,x,S){var L=x.pendingProps,K=L.children,ie=f!==null?f.memoizedState:null;if(L.mode==="hidden")if((x.mode&1)===0)x.memoizedState={baseLanes:0,cachePool:null,transitions:null},Jn(Ah,Hl),Hl|=S;else{if((S&1073741824)===0)return f=ie!==null?ie.baseLanes|S:S,x.lanes=x.childLanes=1073741824,x.memoizedState={baseLanes:f,cachePool:null,transitions:null},x.updateQueue=null,Jn(Ah,Hl),Hl|=f,null;x.memoizedState={baseLanes:0,cachePool:null,transitions:null},L=ie!==null?ie.baseLanes:S,Jn(Ah,Hl),Hl|=L}else ie!==null?(L=ie.baseLanes|S,x.memoizedState=null):L=S,Jn(Ah,Hl),Hl|=L;return Ko(f,x,K,S),x.child}function HS(f,x){var S=x.ref;(f===null&&S!==null||f!==null&&f.ref!==S)&&(x.flags|=512,x.flags|=2097152)}function db(f,x,S,L,K){var ie=Zs(S)?Yi:Ja.current;return ie=$u(x,ie),Aa(x,K),S=h0(f,x,S,L,ie,K),L=xc(),f!==null&&!yl?(x.updateQueue=f.updateQueue,x.flags&=-2053,f.lanes&=~K,Ed(f,x,K)):(Pt&&L&&Tt(x),x.flags|=1,Ko(f,x,S,K),x.child)}function WS(f,x,S,L,K){if(Zs(S)){var ie=!0;au(x)}else ie=!1;if(Aa(x,K),x.stateNode===null)bg(f,x),IS(x,S,L),lb(x,S,L,K),L=!0;else if(f===null){var be=x.stateNode,We=x.memoizedProps;be.props=We;var nt=be.context,At=S.contextType;typeof At=="object"&&At!==null?At=Ga(At):(At=Zs(S)?Yi:Ja.current,At=$u(x,At));var Xt=S.getDerivedStateFromProps,tr=typeof Xt=="function"||typeof be.getSnapshotBeforeUpdate=="function";tr||typeof be.UNSAFE_componentWillReceiveProps!="function"&&typeof be.componentWillReceiveProps!="function"||(We!==L||nt!==At)&&DS(x,be,L,At),Wo=!1;var Kt=x.memoizedState;be.state=Kt,xs(x,L,be,K),nt=x.memoizedState,We!==L||Kt!==nt||Pi.current||Wo?(typeof Xt=="function"&&(ob(x,S,Xt,L),nt=x.memoizedState),(We=Wo||PS(x,S,We,L,Kt,nt,At))?(tr||typeof be.UNSAFE_componentWillMount!="function"&&typeof be.componentWillMount!="function"||(typeof be.componentWillMount=="function"&&be.componentWillMount(),typeof be.UNSAFE_componentWillMount=="function"&&be.UNSAFE_componentWillMount()),typeof be.componentDidMount=="function"&&(x.flags|=4194308)):(typeof be.componentDidMount=="function"&&(x.flags|=4194308),x.memoizedProps=L,x.memoizedState=nt),be.props=L,be.state=nt,be.context=At,L=We):(typeof be.componentDidMount=="function"&&(x.flags|=4194308),L=!1)}else{be=x.stateNode,f0(f,x),We=x.memoizedProps,At=x.type===x.elementType?We:uu(x.type,We),be.props=At,tr=x.pendingProps,Kt=be.context,nt=S.contextType,typeof nt=="object"&&nt!==null?nt=Ga(nt):(nt=Zs(S)?Yi:Ja.current,nt=$u(x,nt));var Sr=S.getDerivedStateFromProps;(Xt=typeof Sr=="function"||typeof be.getSnapshotBeforeUpdate=="function")||typeof be.UNSAFE_componentWillReceiveProps!="function"&&typeof be.componentWillReceiveProps!="function"||(We!==tr||Kt!==nt)&&DS(x,be,L,nt),Wo=!1,Kt=x.memoizedState,be.state=Kt,xs(x,L,be,K);var Pr=x.memoizedState;We!==tr||Kt!==Pr||Pi.current||Wo?(typeof Sr=="function"&&(ob(x,S,Sr,L),Pr=x.memoizedState),(At=Wo||PS(x,S,At,L,Kt,Pr,nt)||!1)?(Xt||typeof be.UNSAFE_componentWillUpdate!="function"&&typeof be.componentWillUpdate!="function"||(typeof be.componentWillUpdate=="function"&&be.componentWillUpdate(L,Pr,nt),typeof be.UNSAFE_componentWillUpdate=="function"&&be.UNSAFE_componentWillUpdate(L,Pr,nt)),typeof be.componentDidUpdate=="function"&&(x.flags|=4),typeof be.getSnapshotBeforeUpdate=="function"&&(x.flags|=1024)):(typeof be.componentDidUpdate!="function"||We===f.memoizedProps&&Kt===f.memoizedState||(x.flags|=4),typeof be.getSnapshotBeforeUpdate!="function"||We===f.memoizedProps&&Kt===f.memoizedState||(x.flags|=1024),x.memoizedProps=L,x.memoizedState=Pr),be.props=L,be.state=Pr,be.context=nt,L=At):(typeof be.componentDidUpdate!="function"||We===f.memoizedProps&&Kt===f.memoizedState||(x.flags|=4),typeof be.getSnapshotBeforeUpdate!="function"||We===f.memoizedProps&&Kt===f.memoizedState||(x.flags|=1024),L=!1)}return fb(f,x,S,L,ie,K)}function fb(f,x,S,L,K,ie){HS(f,x);var be=(x.flags&128)!==0;if(!L&&!be)return K&&zu(x,S,!1),Ed(f,x,ie);L=x.stateNode,D9.current=x;var We=be&&typeof S.getDerivedStateFromError!="function"?null:L.render();return x.flags|=1,f!==null&&be?(x.child=ps(x,f.child,null,ie),x.child=ps(x,null,We,ie)):Ko(f,x,We,ie),x.memoizedState=L.state,K&&zu(x,S,!0),x.child}function VS(f){var x=f.stateNode;x.pendingContext?kd(f,x.pendingContext,x.pendingContext!==x.context):x.context&&kd(f,x.context,!1),Ne(f,x.containerInfo)}function GS(f,x,S,L,K){return xn(),na(K),x.flags|=256,Ko(f,x,S,L),x.child}var hb={dehydrated:null,treeContext:null,retryLane:0};function pb(f){return{baseLanes:f,cachePool:null,transitions:null}}function KS(f,x,S){var L=x.pendingProps,K=Nt.current,ie=!1,be=(x.flags&128)!==0,We;if((We=be)||(We=f!==null&&f.memoizedState===null?!1:(K&2)!==0),We?(ie=!0,x.flags&=-129):(f===null||f.memoizedState!==null)&&(K|=1),Jn(Nt,K&1),f===null)return gr(x),f=x.memoizedState,f!==null&&(f=f.dehydrated,f!==null)?((x.mode&1)===0?x.lanes=1:f.data==="$!"?x.lanes=8:x.lanes=1073741824,null):(be=L.children,f=L.fallback,ie?(L=x.mode,ie=x.child,be={mode:"hidden",children:be},(L&1)===0&&ie!==null?(ie.childLanes=0,ie.pendingProps=be):ie=Pg(be,L,0,null),f=b0(f,L,S,null),ie.return=x,f.return=x,ie.sibling=f,x.child=ie,x.child.memoizedState=pb(S),x.memoizedState=hb,f):mb(x,be));if(K=f.memoizedState,K!==null&&(We=K.dehydrated,We!==null))return L9(f,x,be,L,We,K,S);if(ie){ie=L.fallback,be=x.mode,K=f.child,We=K.sibling;var nt={mode:"hidden",children:L.children};return(be&1)===0&&x.child!==K?(L=x.child,L.childLanes=0,L.pendingProps=nt,x.deletions=null):(L=Sf(K,nt),L.subtreeFlags=K.subtreeFlags&14680064),We!==null?ie=Sf(We,ie):(ie=b0(ie,be,S,null),ie.flags|=2),ie.return=x,L.return=x,L.sibling=ie,x.child=L,L=ie,ie=x.child,be=f.child.memoizedState,be=be===null?pb(S):{baseLanes:be.baseLanes|S,cachePool:null,transitions:be.transitions},ie.memoizedState=be,ie.childLanes=f.childLanes&~S,x.memoizedState=hb,L}return ie=f.child,f=ie.sibling,L=Sf(ie,{mode:"visible",children:L.children}),(x.mode&1)===0&&(L.lanes=S),L.return=x,L.sibling=null,f!==null&&(S=x.deletions,S===null?(x.deletions=[f],x.flags|=16):S.push(f)),x.child=L,x.memoizedState=null,L}function mb(f,x){return x=Pg({mode:"visible",children:x},f.mode,0,null),x.return=f,f.child=x}function yg(f,x,S,L){return L!==null&&na(L),ps(x,f.child,null,S),f=mb(x,x.pendingProps.children),f.flags|=2,x.memoizedState=null,f}function L9(f,x,S,L,K,ie,be){if(S)return x.flags&256?(x.flags&=-257,L=cb(Error(r(422))),yg(f,x,be,L)):x.memoizedState!==null?(x.child=f.child,x.flags|=128,null):(ie=L.fallback,K=x.mode,L=Pg({mode:"visible",children:L.children},K,0,null),ie=b0(ie,K,be,null),ie.flags|=2,L.return=x,ie.return=x,L.sibling=ie,x.child=L,(x.mode&1)!==0&&ps(x,f.child,null,be),x.child.memoizedState=pb(be),x.memoizedState=hb,ie);if((x.mode&1)===0)return yg(f,x,be,null);if(K.data==="$!"){if(L=K.nextSibling&&K.nextSibling.dataset,L)var We=L.dgst;return L=We,ie=Error(r(419)),L=cb(ie,L,void 0),yg(f,x,be,L)}if(We=(be&f.childLanes)!==0,yl||We){if(L=Li,L!==null){switch(be&-be){case 4:K=2;break;case 16:K=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:K=32;break;case 536870912:K=268435456;break;default:K=0}K=(K&(L.suspendedLanes|be))!==0?0:K,K!==0&&K!==ie.retryLane&&(ie.retryLane=K,Qn(f,K),hu(L,f,K,-1))}return Ob(),L=cb(Error(r(421))),yg(f,x,be,L)}return K.data==="$?"?(x.flags|=128,x.child=f.child,x=K9.bind(null,f),K._reactRetry=x,null):(f=ie.treeContext,Dt=Qs(K.nextSibling),st=x,Pt=!0,Ft=null,f!==null&&(Oe[Re++]=vt,Oe[Re++]=mt,Oe[Re++]=Ye,vt=f.id,mt=f.overflow,Ye=x),x=mb(x,L.children),x.flags|=4096,x)}function XS(f,x,S){f.lanes|=x;var L=f.alternate;L!==null&&(L.lanes|=x),bo(f.return,x,S)}function xb(f,x,S,L,K){var ie=f.memoizedState;ie===null?f.memoizedState={isBackwards:x,rendering:null,renderingStartTime:0,last:L,tail:S,tailMode:K}:(ie.isBackwards=x,ie.rendering=null,ie.renderingStartTime=0,ie.last=L,ie.tail=S,ie.tailMode=K)}function YS(f,x,S){var L=x.pendingProps,K=L.revealOrder,ie=L.tail;if(Ko(f,x,L.children,S),L=Nt.current,(L&2)!==0)L=L&1|2,x.flags|=128;else{if(f!==null&&(f.flags&128)!==0)e:for(f=x.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&XS(f,S,x);else if(f.tag===19)XS(f,S,x);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===x)break e;for(;f.sibling===null;){if(f.return===null||f.return===x)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}L&=1}if(Jn(Nt,L),(x.mode&1)===0)x.memoizedState=null;else switch(K){case"forwards":for(S=x.child,K=null;S!==null;)f=S.alternate,f!==null&&Zt(f)===null&&(K=S),S=S.sibling;S=K,S===null?(K=x.child,x.child=null):(K=S.sibling,S.sibling=null),xb(x,!1,K,S,ie);break;case"backwards":for(S=null,K=x.child,x.child=null;K!==null;){if(f=K.alternate,f!==null&&Zt(f)===null){x.child=K;break}f=K.sibling,K.sibling=S,S=K,K=f}xb(x,!0,S,null,ie);break;case"together":xb(x,!1,null,null,void 0);break;default:x.memoizedState=null}return x.child}function bg(f,x){(x.mode&1)===0&&f!==null&&(f.alternate=null,x.alternate=null,x.flags|=2)}function Ed(f,x,S){if(f!==null&&(x.dependencies=f.dependencies),x0|=x.lanes,(S&x.childLanes)===0)return null;if(f!==null&&x.child!==f.child)throw Error(r(153));if(x.child!==null){for(f=x.child,S=Sf(f,f.pendingProps),x.child=S,S.return=x;f.sibling!==null;)f=f.sibling,S=S.sibling=Sf(f,f.pendingProps),S.return=x;S.sibling=null}return x.child}function F9(f,x,S){switch(x.tag){case 3:VS(x),xn();break;case 5:ft(x);break;case 1:Zs(x.type)&&au(x);break;case 4:Ne(x,x.stateNode.containerInfo);break;case 10:var L=x.type._context,K=x.memoizedProps.value;Jn(ei,L._currentValue),L._currentValue=K;break;case 13:if(L=x.memoizedState,L!==null)return L.dehydrated!==null?(Jn(Nt,Nt.current&1),x.flags|=128,null):(S&x.child.childLanes)!==0?KS(f,x,S):(Jn(Nt,Nt.current&1),f=Ed(f,x,S),f!==null?f.sibling:null);Jn(Nt,Nt.current&1);break;case 19:if(L=(S&x.childLanes)!==0,(f.flags&128)!==0){if(L)return YS(f,x,S);x.flags|=128}if(K=x.memoizedState,K!==null&&(K.rendering=null,K.tail=null,K.lastEffect=null),Jn(Nt,Nt.current),L)break;return null;case 22:case 23:return x.lanes=0,zS(f,x,S)}return Ed(f,x,S)}var JS,gb,QS,ZS;JS=function(f,x){for(var S=x.child;S!==null;){if(S.tag===5||S.tag===6)f.appendChild(S.stateNode);else if(S.tag!==4&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===x)break;for(;S.sibling===null;){if(S.return===null||S.return===x)return;S=S.return}S.sibling.return=S.return,S=S.sibling}},gb=function(){},QS=function(f,x,S,L){var K=f.memoizedProps;if(K!==L){f=x.stateNode,ue(hi.current);var ie=null;switch(S){case"input":K=_e(f,K),L=_e(f,L),ie=[];break;case"select":K=Q({},K,{value:void 0}),L=Q({},L,{value:void 0}),ie=[];break;case"textarea":K=De(f,K),L=De(f,L),ie=[];break;default:typeof K.onClick!="function"&&typeof L.onClick=="function"&&(f.onclick=qu)}Ut(S,L);var be;S=null;for(At in K)if(!L.hasOwnProperty(At)&&K.hasOwnProperty(At)&&K[At]!=null)if(At==="style"){var We=K[At];for(be in We)We.hasOwnProperty(be)&&(S||(S={}),S[be]="")}else At!=="dangerouslySetInnerHTML"&&At!=="children"&&At!=="suppressContentEditableWarning"&&At!=="suppressHydrationWarning"&&At!=="autoFocus"&&(s.hasOwnProperty(At)?ie||(ie=[]):(ie=ie||[]).push(At,null));for(At in L){var nt=L[At];if(We=K?.[At],L.hasOwnProperty(At)&&nt!==We&&(nt!=null||We!=null))if(At==="style")if(We){for(be in We)!We.hasOwnProperty(be)||nt&&nt.hasOwnProperty(be)||(S||(S={}),S[be]="");for(be in nt)nt.hasOwnProperty(be)&&We[be]!==nt[be]&&(S||(S={}),S[be]=nt[be])}else S||(ie||(ie=[]),ie.push(At,S)),S=nt;else At==="dangerouslySetInnerHTML"?(nt=nt?nt.__html:void 0,We=We?We.__html:void 0,nt!=null&&We!==nt&&(ie=ie||[]).push(At,nt)):At==="children"?typeof nt!="string"&&typeof nt!="number"||(ie=ie||[]).push(At,""+nt):At!=="suppressContentEditableWarning"&&At!=="suppressHydrationWarning"&&(s.hasOwnProperty(At)?(nt!=null&&At==="onScroll"&&da("scroll",f),ie||We===nt||(ie=[])):(ie=ie||[]).push(At,nt))}S&&(ie=ie||[]).push("style",S);var At=ie;(x.updateQueue=At)&&(x.flags|=4)}},ZS=function(f,x,S,L){S!==L&&(x.flags|=4)};function Qp(f,x){if(!Pt)switch(f.tailMode){case"hidden":x=f.tail;for(var S=null;x!==null;)x.alternate!==null&&(S=x),x=x.sibling;S===null?f.tail=null:S.sibling=null;break;case"collapsed":S=f.tail;for(var L=null;S!==null;)S.alternate!==null&&(L=S),S=S.sibling;L===null?x||f.tail===null?f.tail=null:f.tail.sibling=null:L.sibling=null}}function jo(f){var x=f.alternate!==null&&f.alternate.child===f.child,S=0,L=0;if(x)for(var K=f.child;K!==null;)S|=K.lanes|K.childLanes,L|=K.subtreeFlags&14680064,L|=K.flags&14680064,K.return=f,K=K.sibling;else for(K=f.child;K!==null;)S|=K.lanes|K.childLanes,L|=K.subtreeFlags,L|=K.flags,K.return=f,K=K.sibling;return f.subtreeFlags|=L,f.childLanes=S,x}function M9(f,x,S){var L=x.pendingProps;switch(tt(x),x.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jo(x),null;case 1:return Zs(x.type)&&jd(),jo(x),null;case 3:return L=x.stateNode,He(),ra(Pi),ra(Ja),fn(),L.pendingContext&&(L.context=L.pendingContext,L.pendingContext=null),(f===null||f.child===null)&&(Wn(x)?x.flags|=4:f===null||f.memoizedState.isDehydrated&&(x.flags&256)===0||(x.flags|=1024,Ft!==null&&(Eb(Ft),Ft=null))),gb(f,x),jo(x),null;case 5:sr(x);var K=ue(F.current);if(S=x.type,f!==null&&x.stateNode!=null)QS(f,x,S,L,K),f.ref!==x.ref&&(x.flags|=512,x.flags|=2097152);else{if(!L){if(x.stateNode===null)throw Error(r(166));return jo(x),null}if(f=ue(hi.current),Wn(x)){L=x.stateNode,S=x.type;var ie=x.memoizedProps;switch(L[yo]=x,L[Ul]=ie,f=(x.mode&1)!==0,S){case"dialog":da("cancel",L),da("close",L);break;case"iframe":case"object":case"embed":da("load",L);break;case"video":case"audio":for(K=0;K<Bl.length;K++)da(Bl[K],L);break;case"source":da("error",L);break;case"img":case"image":case"link":da("error",L),da("load",L);break;case"details":da("toggle",L);break;case"input":oe(L,ie),da("invalid",L);break;case"select":L._wrapperState={wasMultiple:!!ie.multiple},da("invalid",L);break;case"textarea":Xe(L,ie),da("invalid",L)}Ut(S,ie),K=null;for(var be in ie)if(ie.hasOwnProperty(be)){var We=ie[be];be==="children"?typeof We=="string"?L.textContent!==We&&(ie.suppressHydrationWarning!==!0&&ff(L.textContent,We,f),K=["children",We]):typeof We=="number"&&L.textContent!==""+We&&(ie.suppressHydrationWarning!==!0&&ff(L.textContent,We,f),K=["children",""+We]):s.hasOwnProperty(be)&&We!=null&&be==="onScroll"&&da("scroll",L)}switch(S){case"input":Le(L),we(L,ie,!0);break;case"textarea":Le(L),ht(L);break;case"select":case"option":break;default:typeof ie.onClick=="function"&&(L.onclick=qu)}L=K,x.updateQueue=L,L!==null&&(x.flags|=4)}else{be=K.nodeType===9?K:K.ownerDocument,f==="http://www.w3.org/1999/xhtml"&&(f=Ue(S)),f==="http://www.w3.org/1999/xhtml"?S==="script"?(f=be.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild)):typeof L.is=="string"?f=be.createElement(S,{is:L.is}):(f=be.createElement(S),S==="select"&&(be=f,L.multiple?be.multiple=!0:L.size&&(be.size=L.size))):f=be.createElementNS(f,S),f[yo]=x,f[Ul]=L,JS(f,x,!1,!1),x.stateNode=f;e:{switch(be=qe(S,L),S){case"dialog":da("cancel",f),da("close",f),K=L;break;case"iframe":case"object":case"embed":da("load",f),K=L;break;case"video":case"audio":for(K=0;K<Bl.length;K++)da(Bl[K],f);K=L;break;case"source":da("error",f),K=L;break;case"img":case"image":case"link":da("error",f),da("load",f),K=L;break;case"details":da("toggle",f),K=L;break;case"input":oe(f,L),K=_e(f,L),da("invalid",f);break;case"option":K=L;break;case"select":f._wrapperState={wasMultiple:!!L.multiple},K=Q({},L,{value:void 0}),da("invalid",f);break;case"textarea":Xe(f,L),K=De(f,L),da("invalid",f);break;default:K=L}Ut(S,K),We=K;for(ie in We)if(We.hasOwnProperty(ie)){var nt=We[ie];ie==="style"?xt(f,nt):ie==="dangerouslySetInnerHTML"?(nt=nt?nt.__html:void 0,nt!=null&&ut(f,nt)):ie==="children"?typeof nt=="string"?(S!=="textarea"||nt!=="")&&ot(f,nt):typeof nt=="number"&&ot(f,""+nt):ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&ie!=="autoFocus"&&(s.hasOwnProperty(ie)?nt!=null&&ie==="onScroll"&&da("scroll",f):nt!=null&&j(f,ie,nt,be))}switch(S){case"input":Le(f),we(f,L,!1);break;case"textarea":Le(f),ht(f);break;case"option":L.value!=null&&f.setAttribute("value",""+de(L.value));break;case"select":f.multiple=!!L.multiple,ie=L.value,ie!=null?fe(f,!!L.multiple,ie,!1):L.defaultValue!=null&&fe(f,!!L.multiple,L.defaultValue,!0);break;default:typeof K.onClick=="function"&&(f.onclick=qu)}switch(S){case"button":case"input":case"select":case"textarea":L=!!L.autoFocus;break e;case"img":L=!0;break e;default:L=!1}}L&&(x.flags|=4)}x.ref!==null&&(x.flags|=512,x.flags|=2097152)}return jo(x),null;case 6:if(f&&x.stateNode!=null)ZS(f,x,f.memoizedProps,L);else{if(typeof L!="string"&&x.stateNode===null)throw Error(r(166));if(S=ue(F.current),ue(hi.current),Wn(x)){if(L=x.stateNode,S=x.memoizedProps,L[yo]=x,(ie=L.nodeValue!==S)&&(f=st,f!==null))switch(f.tag){case 3:ff(L.nodeValue,S,(f.mode&1)!==0);break;case 5:f.memoizedProps.suppressHydrationWarning!==!0&&ff(L.nodeValue,S,(f.mode&1)!==0)}ie&&(x.flags|=4)}else L=(S.nodeType===9?S:S.ownerDocument).createTextNode(L),L[yo]=x,x.stateNode=L}return jo(x),null;case 13:if(ra(Nt),L=x.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(Pt&&Dt!==null&&(x.mode&1)!==0&&(x.flags&128)===0)On(),xn(),x.flags|=98560,ie=!1;else if(ie=Wn(x),L!==null&&L.dehydrated!==null){if(f===null){if(!ie)throw Error(r(318));if(ie=x.memoizedState,ie=ie!==null?ie.dehydrated:null,!ie)throw Error(r(317));ie[yo]=x}else xn(),(x.flags&128)===0&&(x.memoizedState=null),x.flags|=4;jo(x),ie=!1}else Ft!==null&&(Eb(Ft),Ft=null),ie=!0;if(!ie)return x.flags&65536?x:null}return(x.flags&128)!==0?(x.lanes=S,x):(L=L!==null,L!==(f!==null&&f.memoizedState!==null)&&L&&(x.child.flags|=8192,(x.mode&1)!==0&&(f===null||(Nt.current&1)!==0?pi===0&&(pi=3):Ob())),x.updateQueue!==null&&(x.flags|=4),jo(x),null);case 4:return He(),gb(f,x),f===null&&Ti(x.stateNode.containerInfo),jo(x),null;case 10:return Ii(x.type._context),jo(x),null;case 17:return Zs(x.type)&&jd(),jo(x),null;case 19:if(ra(Nt),ie=x.memoizedState,ie===null)return jo(x),null;if(L=(x.flags&128)!==0,be=ie.rendering,be===null)if(L)Qp(ie,!1);else{if(pi!==0||f!==null&&(f.flags&128)!==0)for(f=x.child;f!==null;){if(be=Zt(f),be!==null){for(x.flags|=128,Qp(ie,!1),L=be.updateQueue,L!==null&&(x.updateQueue=L,x.flags|=4),x.subtreeFlags=0,L=S,S=x.child;S!==null;)ie=S,f=L,ie.flags&=14680066,be=ie.alternate,be===null?(ie.childLanes=0,ie.lanes=f,ie.child=null,ie.subtreeFlags=0,ie.memoizedProps=null,ie.memoizedState=null,ie.updateQueue=null,ie.dependencies=null,ie.stateNode=null):(ie.childLanes=be.childLanes,ie.lanes=be.lanes,ie.child=be.child,ie.subtreeFlags=0,ie.deletions=null,ie.memoizedProps=be.memoizedProps,ie.memoizedState=be.memoizedState,ie.updateQueue=be.updateQueue,ie.type=be.type,f=be.dependencies,ie.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),S=S.sibling;return Jn(Nt,Nt.current&1|2),x.child}f=f.sibling}ie.tail!==null&&Bt()>Eh&&(x.flags|=128,L=!0,Qp(ie,!1),x.lanes=4194304)}else{if(!L)if(f=Zt(be),f!==null){if(x.flags|=128,L=!0,S=f.updateQueue,S!==null&&(x.updateQueue=S,x.flags|=4),Qp(ie,!0),ie.tail===null&&ie.tailMode==="hidden"&&!be.alternate&&!Pt)return jo(x),null}else 2*Bt()-ie.renderingStartTime>Eh&&S!==1073741824&&(x.flags|=128,L=!0,Qp(ie,!1),x.lanes=4194304);ie.isBackwards?(be.sibling=x.child,x.child=be):(S=ie.last,S!==null?S.sibling=be:x.child=be,ie.last=be)}return ie.tail!==null?(x=ie.tail,ie.rendering=x,ie.tail=x.sibling,ie.renderingStartTime=Bt(),x.sibling=null,S=Nt.current,Jn(Nt,L?S&1|2:S&1),x):(jo(x),null);case 22:case 23:return Tb(),L=x.memoizedState!==null,f!==null&&f.memoizedState!==null!==L&&(x.flags|=8192),L&&(x.mode&1)!==0?(Hl&1073741824)!==0&&(jo(x),x.subtreeFlags&6&&(x.flags|=8192)):jo(x),null;case 24:return null;case 25:return null}throw Error(r(156,x.tag))}function R9(f,x){switch(tt(x),x.tag){case 1:return Zs(x.type)&&jd(),f=x.flags,f&65536?(x.flags=f&-65537|128,x):null;case 3:return He(),ra(Pi),ra(Ja),fn(),f=x.flags,(f&65536)!==0&&(f&128)===0?(x.flags=f&-65537|128,x):null;case 5:return sr(x),null;case 13:if(ra(Nt),f=x.memoizedState,f!==null&&f.dehydrated!==null){if(x.alternate===null)throw Error(r(340));xn()}return f=x.flags,f&65536?(x.flags=f&-65537|128,x):null;case 19:return ra(Nt),null;case 4:return He(),null;case 10:return Ii(x.type._context),null;case 22:case 23:return Tb(),null;case 24:return null;default:return null}}var wg=!1,ko=!1,B9=typeof WeakSet=="function"?WeakSet:Set,Er=null;function _h(f,x){var S=f.ref;if(S!==null)if(typeof S=="function")try{S(null)}catch(L){Os(f,x,L)}else S.current=null}function vb(f,x,S){try{S()}catch(L){Os(f,x,L)}}var e_=!1;function U9(f,x){if(fc=Uc,f=bd(),xo(f)){if("selectionStart"in f)var S={start:f.selectionStart,end:f.selectionEnd};else e:{S=(S=f.ownerDocument)&&S.defaultView||window;var L=S.getSelection&&S.getSelection();if(L&&L.rangeCount!==0){S=L.anchorNode;var K=L.anchorOffset,ie=L.focusNode;L=L.focusOffset;try{S.nodeType,ie.nodeType}catch{S=null;break e}var be=0,We=-1,nt=-1,At=0,Xt=0,tr=f,Kt=null;t:for(;;){for(var Sr;tr!==S||K!==0&&tr.nodeType!==3||(We=be+K),tr!==ie||L!==0&&tr.nodeType!==3||(nt=be+L),tr.nodeType===3&&(be+=tr.nodeValue.length),(Sr=tr.firstChild)!==null;)Kt=tr,tr=Sr;for(;;){if(tr===f)break t;if(Kt===S&&++At===K&&(We=be),Kt===ie&&++Xt===L&&(nt=be),(Sr=tr.nextSibling)!==null)break;tr=Kt,Kt=tr.parentNode}tr=Sr}S=We===-1||nt===-1?null:{start:We,end:nt}}else S=null}S=S||{start:0,end:0}}else S=null;for(eu={focusedElem:f,selectionRange:S},Uc=!1,Er=x;Er!==null;)if(x=Er,f=x.child,(x.subtreeFlags&1028)!==0&&f!==null)f.return=x,Er=f;else for(;Er!==null;){x=Er;try{var Pr=x.alternate;if((x.flags&1024)!==0)switch(x.tag){case 0:case 11:case 15:break;case 1:if(Pr!==null){var Mr=Pr.memoizedProps,Hs=Pr.memoizedState,wt=x.stateNode,lt=wt.getSnapshotBeforeUpdate(x.elementType===x.type?Mr:uu(x.type,Mr),Hs);wt.__reactInternalSnapshotBeforeUpdate=lt}break;case 3:var _t=x.stateNode.containerInfo;_t.nodeType===1?_t.textContent="":_t.nodeType===9&&_t.documentElement&&_t.removeChild(_t.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(or){Os(x,x.return,or)}if(f=x.sibling,f!==null){f.return=x.return,Er=f;break}Er=x.return}return Pr=e_,e_=!1,Pr}function Zp(f,x,S){var L=x.updateQueue;if(L=L!==null?L.lastEffect:null,L!==null){var K=L=L.next;do{if((K.tag&f)===f){var ie=K.destroy;K.destroy=void 0,ie!==void 0&&vb(x,S,ie)}K=K.next}while(K!==L)}}function Ng(f,x){if(x=x.updateQueue,x=x!==null?x.lastEffect:null,x!==null){var S=x=x.next;do{if((S.tag&f)===f){var L=S.create;S.destroy=L()}S=S.next}while(S!==x)}}function yb(f){var x=f.ref;if(x!==null){var S=f.stateNode;f.tag,f=S,typeof x=="function"?x(f):x.current=f}}function t_(f){var x=f.alternate;x!==null&&(f.alternate=null,t_(x)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(x=f.stateNode,x!==null&&(delete x[yo],delete x[Ul],delete x[Oi],delete x[gh],delete x[d0])),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function r_(f){return f.tag===5||f.tag===3||f.tag===4}function n_(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||r_(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function bb(f,x,S){var L=f.tag;if(L===5||L===6)f=f.stateNode,x?S.nodeType===8?S.parentNode.insertBefore(f,x):S.insertBefore(f,x):(S.nodeType===8?(x=S.parentNode,x.insertBefore(f,S)):(x=S,x.appendChild(f)),S=S._reactRootContainer,S!=null||x.onclick!==null||(x.onclick=qu));else if(L!==4&&(f=f.child,f!==null))for(bb(f,x,S),f=f.sibling;f!==null;)bb(f,x,S),f=f.sibling}function wb(f,x,S){var L=f.tag;if(L===5||L===6)f=f.stateNode,x?S.insertBefore(f,x):S.appendChild(f);else if(L!==4&&(f=f.child,f!==null))for(wb(f,x,S),f=f.sibling;f!==null;)wb(f,x,S),f=f.sibling}var eo=null,du=!1;function bf(f,x,S){for(S=S.child;S!==null;)a_(f,x,S),S=S.sibling}function a_(f,x,S){if($n&&typeof $n.onCommitFiberUnmount=="function")try{$n.onCommitFiberUnmount(ss,S)}catch{}switch(S.tag){case 5:ko||_h(S,x);case 6:var L=eo,K=du;eo=null,bf(f,x,S),eo=L,du=K,eo!==null&&(du?(f=eo,S=S.stateNode,f.nodeType===8?f.parentNode.removeChild(S):f.removeChild(S)):eo.removeChild(S.stateNode));break;case 18:eo!==null&&(du?(f=eo,S=S.stateNode,f.nodeType===8?mf(f.parentNode,S):f.nodeType===1&&mf(f,S),co(f)):mf(eo,S.stateNode));break;case 4:L=eo,K=du,eo=S.stateNode.containerInfo,du=!0,bf(f,x,S),eo=L,du=K;break;case 0:case 11:case 14:case 15:if(!ko&&(L=S.updateQueue,L!==null&&(L=L.lastEffect,L!==null))){K=L=L.next;do{var ie=K,be=ie.destroy;ie=ie.tag,be!==void 0&&((ie&2)!==0||(ie&4)!==0)&&vb(S,x,be),K=K.next}while(K!==L)}bf(f,x,S);break;case 1:if(!ko&&(_h(S,x),L=S.stateNode,typeof L.componentWillUnmount=="function"))try{L.props=S.memoizedProps,L.state=S.memoizedState,L.componentWillUnmount()}catch(We){Os(S,x,We)}bf(f,x,S);break;case 21:bf(f,x,S);break;case 22:S.mode&1?(ko=(L=ko)||S.memoizedState!==null,bf(f,x,S),ko=L):bf(f,x,S);break;default:bf(f,x,S)}}function s_(f){var x=f.updateQueue;if(x!==null){f.updateQueue=null;var S=f.stateNode;S===null&&(S=f.stateNode=new B9),x.forEach(function(L){var K=X9.bind(null,f,L);S.has(L)||(S.add(L),L.then(K,K))})}}function fu(f,x){var S=x.deletions;if(S!==null)for(var L=0;L<S.length;L++){var K=S[L];try{var ie=f,be=x,We=be;e:for(;We!==null;){switch(We.tag){case 5:eo=We.stateNode,du=!1;break e;case 3:eo=We.stateNode.containerInfo,du=!0;break e;case 4:eo=We.stateNode.containerInfo,du=!0;break e}We=We.return}if(eo===null)throw Error(r(160));a_(ie,be,K),eo=null,du=!1;var nt=K.alternate;nt!==null&&(nt.return=null),K.return=null}catch(At){Os(K,x,At)}}if(x.subtreeFlags&12854)for(x=x.child;x!==null;)i_(x,f),x=x.sibling}function i_(f,x){var S=f.alternate,L=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:if(fu(x,f),Wu(f),L&4){try{Zp(3,f,f.return),Ng(3,f)}catch(Mr){Os(f,f.return,Mr)}try{Zp(5,f,f.return)}catch(Mr){Os(f,f.return,Mr)}}break;case 1:fu(x,f),Wu(f),L&512&&S!==null&&_h(S,S.return);break;case 5:if(fu(x,f),Wu(f),L&512&&S!==null&&_h(S,S.return),f.flags&32){var K=f.stateNode;try{ot(K,"")}catch(Mr){Os(f,f.return,Mr)}}if(L&4&&(K=f.stateNode,K!=null)){var ie=f.memoizedProps,be=S!==null?S.memoizedProps:ie,We=f.type,nt=f.updateQueue;if(f.updateQueue=null,nt!==null)try{We==="input"&&ie.type==="radio"&&ie.name!=null&&ae(K,ie),qe(We,be);var At=qe(We,ie);for(be=0;be<nt.length;be+=2){var Xt=nt[be],tr=nt[be+1];Xt==="style"?xt(K,tr):Xt==="dangerouslySetInnerHTML"?ut(K,tr):Xt==="children"?ot(K,tr):j(K,Xt,tr,At)}switch(We){case"input":ke(K,ie);break;case"textarea":Je(K,ie);break;case"select":var Kt=K._wrapperState.wasMultiple;K._wrapperState.wasMultiple=!!ie.multiple;var Sr=ie.value;Sr!=null?fe(K,!!ie.multiple,Sr,!1):Kt!==!!ie.multiple&&(ie.defaultValue!=null?fe(K,!!ie.multiple,ie.defaultValue,!0):fe(K,!!ie.multiple,ie.multiple?[]:"",!1))}K[Ul]=ie}catch(Mr){Os(f,f.return,Mr)}}break;case 6:if(fu(x,f),Wu(f),L&4){if(f.stateNode===null)throw Error(r(162));K=f.stateNode,ie=f.memoizedProps;try{K.nodeValue=ie}catch(Mr){Os(f,f.return,Mr)}}break;case 3:if(fu(x,f),Wu(f),L&4&&S!==null&&S.memoizedState.isDehydrated)try{co(x.containerInfo)}catch(Mr){Os(f,f.return,Mr)}break;case 4:fu(x,f),Wu(f);break;case 13:fu(x,f),Wu(f),K=f.child,K.flags&8192&&(ie=K.memoizedState!==null,K.stateNode.isHidden=ie,!ie||K.alternate!==null&&K.alternate.memoizedState!==null||(kb=Bt())),L&4&&s_(f);break;case 22:if(Xt=S!==null&&S.memoizedState!==null,f.mode&1?(ko=(At=ko)||Xt,fu(x,f),ko=At):fu(x,f),Wu(f),L&8192){if(At=f.memoizedState!==null,(f.stateNode.isHidden=At)&&!Xt&&(f.mode&1)!==0)for(Er=f,Xt=f.child;Xt!==null;){for(tr=Er=Xt;Er!==null;){switch(Kt=Er,Sr=Kt.child,Kt.tag){case 0:case 11:case 14:case 15:Zp(4,Kt,Kt.return);break;case 1:_h(Kt,Kt.return);var Pr=Kt.stateNode;if(typeof Pr.componentWillUnmount=="function"){L=Kt,S=Kt.return;try{x=L,Pr.props=x.memoizedProps,Pr.state=x.memoizedState,Pr.componentWillUnmount()}catch(Mr){Os(L,S,Mr)}}break;case 5:_h(Kt,Kt.return);break;case 22:if(Kt.memoizedState!==null){c_(tr);continue}}Sr!==null?(Sr.return=Kt,Er=Sr):c_(tr)}Xt=Xt.sibling}e:for(Xt=null,tr=f;;){if(tr.tag===5){if(Xt===null){Xt=tr;try{K=tr.stateNode,At?(ie=K.style,typeof ie.setProperty=="function"?ie.setProperty("display","none","important"):ie.display="none"):(We=tr.stateNode,nt=tr.memoizedProps.style,be=nt!=null&&nt.hasOwnProperty("display")?nt.display:null,We.style.display=er("display",be))}catch(Mr){Os(f,f.return,Mr)}}}else if(tr.tag===6){if(Xt===null)try{tr.stateNode.nodeValue=At?"":tr.memoizedProps}catch(Mr){Os(f,f.return,Mr)}}else if((tr.tag!==22&&tr.tag!==23||tr.memoizedState===null||tr===f)&&tr.child!==null){tr.child.return=tr,tr=tr.child;continue}if(tr===f)break e;for(;tr.sibling===null;){if(tr.return===null||tr.return===f)break e;Xt===tr&&(Xt=null),tr=tr.return}Xt===tr&&(Xt=null),tr.sibling.return=tr.return,tr=tr.sibling}}break;case 19:fu(x,f),Wu(f),L&4&&s_(f);break;case 21:break;default:fu(x,f),Wu(f)}}function Wu(f){var x=f.flags;if(x&2){try{e:{for(var S=f.return;S!==null;){if(r_(S)){var L=S;break e}S=S.return}throw Error(r(160))}switch(L.tag){case 5:var K=L.stateNode;L.flags&32&&(ot(K,""),L.flags&=-33);var ie=n_(f);wb(f,ie,K);break;case 3:case 4:var be=L.stateNode.containerInfo,We=n_(f);bb(f,We,be);break;default:throw Error(r(161))}}catch(nt){Os(f,f.return,nt)}f.flags&=-3}x&4096&&(f.flags&=-4097)}function q9(f,x,S){Er=f,o_(f)}function o_(f,x,S){for(var L=(f.mode&1)!==0;Er!==null;){var K=Er,ie=K.child;if(K.tag===22&&L){var be=K.memoizedState!==null||wg;if(!be){var We=K.alternate,nt=We!==null&&We.memoizedState!==null||ko;We=wg;var At=ko;if(wg=be,(ko=nt)&&!At)for(Er=K;Er!==null;)be=Er,nt=be.child,be.tag===22&&be.memoizedState!==null?u_(K):nt!==null?(nt.return=be,Er=nt):u_(K);for(;ie!==null;)Er=ie,o_(ie),ie=ie.sibling;Er=K,wg=We,ko=At}l_(f)}else(K.subtreeFlags&8772)!==0&&ie!==null?(ie.return=K,Er=ie):l_(f)}}function l_(f){for(;Er!==null;){var x=Er;if((x.flags&8772)!==0){var S=x.alternate;try{if((x.flags&8772)!==0)switch(x.tag){case 0:case 11:case 15:ko||Ng(5,x);break;case 1:var L=x.stateNode;if(x.flags&4&&!ko)if(S===null)L.componentDidMount();else{var K=x.elementType===x.type?S.memoizedProps:uu(x.type,S.memoizedProps);L.componentDidUpdate(K,S.memoizedState,L.__reactInternalSnapshotBeforeUpdate)}var ie=x.updateQueue;ie!==null&&su(x,ie,L);break;case 3:var be=x.updateQueue;if(be!==null){if(S=null,x.child!==null)switch(x.child.tag){case 5:S=x.child.stateNode;break;case 1:S=x.child.stateNode}su(x,be,S)}break;case 5:var We=x.stateNode;if(S===null&&x.flags&4){S=We;var nt=x.memoizedProps;switch(x.type){case"button":case"input":case"select":case"textarea":nt.autoFocus&&S.focus();break;case"img":nt.src&&(S.src=nt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(x.memoizedState===null){var At=x.alternate;if(At!==null){var Xt=At.memoizedState;if(Xt!==null){var tr=Xt.dehydrated;tr!==null&&co(tr)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}ko||x.flags&512&&yb(x)}catch(Kt){Os(x,x.return,Kt)}}if(x===f){Er=null;break}if(S=x.sibling,S!==null){S.return=x.return,Er=S;break}Er=x.return}}function c_(f){for(;Er!==null;){var x=Er;if(x===f){Er=null;break}var S=x.sibling;if(S!==null){S.return=x.return,Er=S;break}Er=x.return}}function u_(f){for(;Er!==null;){var x=Er;try{switch(x.tag){case 0:case 11:case 15:var S=x.return;try{Ng(4,x)}catch(nt){Os(x,S,nt)}break;case 1:var L=x.stateNode;if(typeof L.componentDidMount=="function"){var K=x.return;try{L.componentDidMount()}catch(nt){Os(x,K,nt)}}var ie=x.return;try{yb(x)}catch(nt){Os(x,ie,nt)}break;case 5:var be=x.return;try{yb(x)}catch(nt){Os(x,be,nt)}}}catch(nt){Os(x,x.return,nt)}if(x===f){Er=null;break}var We=x.sibling;if(We!==null){We.return=x.return,Er=We;break}Er=x.return}}var $9=Math.ceil,jg=N.ReactCurrentDispatcher,Nb=N.ReactCurrentOwner,gc=N.ReactCurrentBatchConfig,aa=0,Li=null,ri=null,to=0,Hl=0,Ah=hs(0),pi=0,em=null,x0=0,kg=0,jb=0,tm=null,bl=null,kb=0,Eh=1/0,Cd=null,Sg=!1,Sb=null,wf=null,_g=!1,Nf=null,Ag=0,rm=0,_b=null,Eg=-1,Cg=0;function Xo(){return(aa&6)!==0?Bt():Eg!==-1?Eg:Eg=Bt()}function jf(f){return(f.mode&1)===0?1:(aa&2)!==0&&to!==0?to&-to:fa.transition!==null?(Cg===0&&(Cg=rr()),Cg):(f=Fr,f!==0||(f=window.event,f=f===void 0?16:zc(f.type)),f)}function hu(f,x,S,L){if(50<rm)throw rm=0,_b=null,Error(r(185));Ot(f,S,L),((aa&2)===0||f!==Li)&&(f===Li&&((aa&2)===0&&(kg|=S),pi===4&&kf(f,to)),wl(f,L),S===1&&aa===0&&(x.mode&1)===0&&(Eh=Bt()+500,Sd&&le()))}function wl(f,x){var S=f.callbackNode;mn(f,x);var L=ar(f,f===Li?to:0);if(L===0)S!==null&&et(S),f.callbackNode=null,f.callbackPriority=0;else if(x=L&-L,f.callbackPriority!==x){if(S!=null&&et(S),x===1)f.tag===0?J(f_.bind(null,f)):M(f_.bind(null,f)),pf(function(){(aa&6)===0&&le()}),S=null;else{switch(oa(L)){case 1:S=Dr;break;case 4:S=Qr;break;case 16:S=Nn;break;case 536870912:S=qn;break;default:S=Nn}S=b_(S,d_.bind(null,f))}f.callbackPriority=x,f.callbackNode=S}}function d_(f,x){if(Eg=-1,Cg=0,(aa&6)!==0)throw Error(r(327));var S=f.callbackNode;if(Ch()&&f.callbackNode!==S)return null;var L=ar(f,f===Li?to:0);if(L===0)return null;if((L&30)!==0||(L&f.expiredLanes)!==0||x)x=Tg(f,L);else{x=L;var K=aa;aa|=2;var ie=p_();(Li!==f||to!==x)&&(Cd=null,Eh=Bt()+500,v0(f,x));do try{W9();break}catch(We){h_(f,We)}while(!0);$s(),jg.current=ie,aa=K,ri!==null?x=0:(Li=null,to=0,x=pi)}if(x!==0){if(x===2&&(K=Fn(f),K!==0&&(L=K,x=Ab(f,K))),x===1)throw S=em,v0(f,0),kf(f,L),wl(f,Bt()),S;if(x===6)kf(f,L);else{if(K=f.current.alternate,(L&30)===0&&!z9(K)&&(x=Tg(f,L),x===2&&(ie=Fn(f),ie!==0&&(L=ie,x=Ab(f,ie))),x===1))throw S=em,v0(f,0),kf(f,L),wl(f,Bt()),S;switch(f.finishedWork=K,f.finishedLanes=L,x){case 0:case 1:throw Error(r(345));case 2:y0(f,bl,Cd);break;case 3:if(kf(f,L),(L&130023424)===L&&(x=kb+500-Bt(),10<x)){if(ar(f,0)!==0)break;if(K=f.suspendedLanes,(K&L)!==L){Xo(),f.pingedLanes|=f.suspendedLanes&K;break}f.timeoutHandle=hf(y0.bind(null,f,bl,Cd),x);break}y0(f,bl,Cd);break;case 4:if(kf(f,L),(L&4194240)===L)break;for(x=f.eventTimes,K=-1;0<L;){var be=31-jn(L);ie=1<<be,be=x[be],be>K&&(K=be),L&=~ie}if(L=K,L=Bt()-L,L=(120>L?120:480>L?480:1080>L?1080:1920>L?1920:3e3>L?3e3:4320>L?4320:1960*$9(L/1960))-L,10<L){f.timeoutHandle=hf(y0.bind(null,f,bl,Cd),L);break}y0(f,bl,Cd);break;case 5:y0(f,bl,Cd);break;default:throw Error(r(329))}}}return wl(f,Bt()),f.callbackNode===S?d_.bind(null,f):null}function Ab(f,x){var S=tm;return f.current.memoizedState.isDehydrated&&(v0(f,x).flags|=256),f=Tg(f,x),f!==2&&(x=bl,bl=S,x!==null&&Eb(x)),f}function Eb(f){bl===null?bl=f:bl.push.apply(bl,f)}function z9(f){for(var x=f;;){if(x.flags&16384){var S=x.updateQueue;if(S!==null&&(S=S.stores,S!==null))for(var L=0;L<S.length;L++){var K=S[L],ie=K.getSnapshot;K=K.value;try{if(!Mn(ie(),K))return!1}catch{return!1}}}if(S=x.child,x.subtreeFlags&16384&&S!==null)S.return=x,x=S;else{if(x===f)break;for(;x.sibling===null;){if(x.return===null||x.return===f)return!0;x=x.return}x.sibling.return=x.return,x=x.sibling}}return!0}function kf(f,x){for(x&=~jb,x&=~kg,f.suspendedLanes|=x,f.pingedLanes&=~x,f=f.expirationTimes;0<x;){var S=31-jn(x),L=1<<S;f[S]=-1,x&=~L}}function f_(f){if((aa&6)!==0)throw Error(r(327));Ch();var x=ar(f,0);if((x&1)===0)return wl(f,Bt()),null;var S=Tg(f,x);if(f.tag!==0&&S===2){var L=Fn(f);L!==0&&(x=L,S=Ab(f,L))}if(S===1)throw S=em,v0(f,0),kf(f,x),wl(f,Bt()),S;if(S===6)throw Error(r(345));return f.finishedWork=f.current.alternate,f.finishedLanes=x,y0(f,bl,Cd),wl(f,Bt()),null}function Cb(f,x){var S=aa;aa|=1;try{return f(x)}finally{aa=S,aa===0&&(Eh=Bt()+500,Sd&&le())}}function g0(f){Nf!==null&&Nf.tag===0&&(aa&6)===0&&Ch();var x=aa;aa|=1;var S=gc.transition,L=Fr;try{if(gc.transition=null,Fr=1,f)return f()}finally{Fr=L,gc.transition=S,aa=x,(aa&6)===0&&le()}}function Tb(){Hl=Ah.current,ra(Ah)}function v0(f,x){f.finishedWork=null,f.finishedLanes=0;var S=f.timeoutHandle;if(S!==-1&&(f.timeoutHandle=-1,xh(S)),ri!==null)for(S=ri.return;S!==null;){var L=S;switch(tt(L),L.tag){case 1:L=L.type.childContextTypes,L!=null&&jd();break;case 3:He(),ra(Pi),ra(Ja),fn();break;case 5:sr(L);break;case 4:He();break;case 13:ra(Nt);break;case 19:ra(Nt);break;case 10:Ii(L.type._context);break;case 22:case 23:Tb()}S=S.return}if(Li=f,ri=f=Sf(f.current,null),to=Hl=x,pi=0,em=null,jb=kg=x0=0,bl=tm=null,Qi!==null){for(x=0;x<Qi.length;x++)if(S=Qi[x],L=S.interleaved,L!==null){S.interleaved=null;var K=L.next,ie=S.pending;if(ie!==null){var be=ie.next;ie.next=K,L.next=be}S.pending=L}Qi=null}return f}function h_(f,x){do{var S=ri;try{if($s(),Bn.current=gg,gf){for(var L=Gn.memoizedState;L!==null;){var K=L.queue;K!==null&&(K.pending=null),L=L.next}gf=!1}if($a=0,gs=Za=Gn=null,lu=!1,vf=0,Nb.current=null,S===null||S.return===null){pi=1,em=x,ri=null;break}e:{var ie=f,be=S.return,We=S,nt=x;if(x=to,We.flags|=32768,nt!==null&&typeof nt=="object"&&typeof nt.then=="function"){var At=nt,Xt=We,tr=Xt.tag;if((Xt.mode&1)===0&&(tr===0||tr===11||tr===15)){var Kt=Xt.alternate;Kt?(Xt.updateQueue=Kt.updateQueue,Xt.memoizedState=Kt.memoizedState,Xt.lanes=Kt.lanes):(Xt.updateQueue=null,Xt.memoizedState=null)}var Sr=RS(be);if(Sr!==null){Sr.flags&=-257,BS(Sr,be,We,ie,x),Sr.mode&1&&MS(ie,At,x),x=Sr,nt=At;var Pr=x.updateQueue;if(Pr===null){var Mr=new Set;Mr.add(nt),x.updateQueue=Mr}else Pr.add(nt);break e}else{if((x&1)===0){MS(ie,At,x),Ob();break e}nt=Error(r(426))}}else if(Pt&&We.mode&1){var Hs=RS(be);if(Hs!==null){(Hs.flags&65536)===0&&(Hs.flags|=256),BS(Hs,be,We,ie,x),na(Sh(nt,We));break e}}ie=nt=Sh(nt,We),pi!==4&&(pi=2),tm===null?tm=[ie]:tm.push(ie),ie=be;do{switch(ie.tag){case 3:ie.flags|=65536,x&=-x,ie.lanes|=x;var wt=LS(ie,nt,x);Di(ie,wt);break e;case 1:We=nt;var lt=ie.type,_t=ie.stateNode;if((ie.flags&128)===0&&(typeof lt.getDerivedStateFromError=="function"||_t!==null&&typeof _t.componentDidCatch=="function"&&(wf===null||!wf.has(_t)))){ie.flags|=65536,x&=-x,ie.lanes|=x;var or=FS(ie,We,x);Di(ie,or);break e}}ie=ie.return}while(ie!==null)}x_(S)}catch(Ur){x=Ur,ri===S&&S!==null&&(ri=S=S.return);continue}break}while(!0)}function p_(){var f=jg.current;return jg.current=gg,f===null?gg:f}function Ob(){(pi===0||pi===3||pi===2)&&(pi=4),Li===null||(x0&268435455)===0&&(kg&268435455)===0||kf(Li,to)}function Tg(f,x){var S=aa;aa|=2;var L=p_();(Li!==f||to!==x)&&(Cd=null,v0(f,x));do try{H9();break}catch(K){h_(f,K)}while(!0);if($s(),aa=S,jg.current=L,ri!==null)throw Error(r(261));return Li=null,to=0,pi}function H9(){for(;ri!==null;)m_(ri)}function W9(){for(;ri!==null&&!gt();)m_(ri)}function m_(f){var x=y_(f.alternate,f,Hl);f.memoizedProps=f.pendingProps,x===null?x_(f):ri=x,Nb.current=null}function x_(f){var x=f;do{var S=x.alternate;if(f=x.return,(x.flags&32768)===0){if(S=M9(S,x,Hl),S!==null){ri=S;return}}else{if(S=R9(S,x),S!==null){S.flags&=32767,ri=S;return}if(f!==null)f.flags|=32768,f.subtreeFlags=0,f.deletions=null;else{pi=6,ri=null;return}}if(x=x.sibling,x!==null){ri=x;return}ri=x=f}while(x!==null);pi===0&&(pi=5)}function y0(f,x,S){var L=Fr,K=gc.transition;try{gc.transition=null,Fr=1,V9(f,x,S,L)}finally{gc.transition=K,Fr=L}return null}function V9(f,x,S,L){do Ch();while(Nf!==null);if((aa&6)!==0)throw Error(r(327));S=f.finishedWork;var K=f.finishedLanes;if(S===null)return null;if(f.finishedWork=null,f.finishedLanes=0,S===f.current)throw Error(r(177));f.callbackNode=null,f.callbackPriority=0;var ie=S.lanes|S.childLanes;if(Zr(f,ie),f===Li&&(ri=Li=null,to=0),(S.subtreeFlags&2064)===0&&(S.flags&2064)===0||_g||(_g=!0,b_(Nn,function(){return Ch(),null})),ie=(S.flags&15990)!==0,(S.subtreeFlags&15990)!==0||ie){ie=gc.transition,gc.transition=null;var be=Fr;Fr=1;var We=aa;aa|=4,Nb.current=null,U9(f,S),i_(S,f),Ml(eu),Uc=!!fc,eu=fc=null,f.current=S,q9(S),Lt(),aa=We,Fr=be,gc.transition=ie}else f.current=S;if(_g&&(_g=!1,Nf=f,Ag=K),ie=f.pendingLanes,ie===0&&(wf=null),fs(S.stateNode),wl(f,Bt()),x!==null)for(L=f.onRecoverableError,S=0;S<x.length;S++)K=x[S],L(K.value,{componentStack:K.stack,digest:K.digest});if(Sg)throw Sg=!1,f=Sb,Sb=null,f;return(Ag&1)!==0&&f.tag!==0&&Ch(),ie=f.pendingLanes,(ie&1)!==0?f===_b?rm++:(rm=0,_b=f):rm=0,le(),null}function Ch(){if(Nf!==null){var f=oa(Ag),x=gc.transition,S=Fr;try{if(gc.transition=null,Fr=16>f?16:f,Nf===null)var L=!1;else{if(f=Nf,Nf=null,Ag=0,(aa&6)!==0)throw Error(r(331));var K=aa;for(aa|=4,Er=f.current;Er!==null;){var ie=Er,be=ie.child;if((Er.flags&16)!==0){var We=ie.deletions;if(We!==null){for(var nt=0;nt<We.length;nt++){var At=We[nt];for(Er=At;Er!==null;){var Xt=Er;switch(Xt.tag){case 0:case 11:case 15:Zp(8,Xt,ie)}var tr=Xt.child;if(tr!==null)tr.return=Xt,Er=tr;else for(;Er!==null;){Xt=Er;var Kt=Xt.sibling,Sr=Xt.return;if(t_(Xt),Xt===At){Er=null;break}if(Kt!==null){Kt.return=Sr,Er=Kt;break}Er=Sr}}}var Pr=ie.alternate;if(Pr!==null){var Mr=Pr.child;if(Mr!==null){Pr.child=null;do{var Hs=Mr.sibling;Mr.sibling=null,Mr=Hs}while(Mr!==null)}}Er=ie}}if((ie.subtreeFlags&2064)!==0&&be!==null)be.return=ie,Er=be;else e:for(;Er!==null;){if(ie=Er,(ie.flags&2048)!==0)switch(ie.tag){case 0:case 11:case 15:Zp(9,ie,ie.return)}var wt=ie.sibling;if(wt!==null){wt.return=ie.return,Er=wt;break e}Er=ie.return}}var lt=f.current;for(Er=lt;Er!==null;){be=Er;var _t=be.child;if((be.subtreeFlags&2064)!==0&&_t!==null)_t.return=be,Er=_t;else e:for(be=lt;Er!==null;){if(We=Er,(We.flags&2048)!==0)try{switch(We.tag){case 0:case 11:case 15:Ng(9,We)}}catch(Ur){Os(We,We.return,Ur)}if(We===be){Er=null;break e}var or=We.sibling;if(or!==null){or.return=We.return,Er=or;break e}Er=We.return}}if(aa=K,le(),$n&&typeof $n.onPostCommitFiberRoot=="function")try{$n.onPostCommitFiberRoot(ss,f)}catch{}L=!0}return L}finally{Fr=S,gc.transition=x}}return!1}function g_(f,x,S){x=Sh(S,x),x=LS(f,x,1),f=Zi(f,x,1),x=Xo(),f!==null&&(Ot(f,1,x),wl(f,x))}function Os(f,x,S){if(f.tag===3)g_(f,f,S);else for(;x!==null;){if(x.tag===3){g_(x,f,S);break}else if(x.tag===1){var L=x.stateNode;if(typeof x.type.getDerivedStateFromError=="function"||typeof L.componentDidCatch=="function"&&(wf===null||!wf.has(L))){f=Sh(S,f),f=FS(x,f,1),x=Zi(x,f,1),f=Xo(),x!==null&&(Ot(x,1,f),wl(x,f));break}}x=x.return}}function G9(f,x,S){var L=f.pingCache;L!==null&&L.delete(x),x=Xo(),f.pingedLanes|=f.suspendedLanes&S,Li===f&&(to&S)===S&&(pi===4||pi===3&&(to&130023424)===to&&500>Bt()-kb?v0(f,0):jb|=S),wl(f,x)}function v_(f,x){x===0&&((f.mode&1)===0?x=1:(x=Yt,Yt<<=1,(Yt&130023424)===0&&(Yt=4194304)));var S=Xo();f=Qn(f,x),f!==null&&(Ot(f,x,S),wl(f,S))}function K9(f){var x=f.memoizedState,S=0;x!==null&&(S=x.retryLane),v_(f,S)}function X9(f,x){var S=0;switch(f.tag){case 13:var L=f.stateNode,K=f.memoizedState;K!==null&&(S=K.retryLane);break;case 19:L=f.stateNode;break;default:throw Error(r(314))}L!==null&&L.delete(x),v_(f,S)}var y_;y_=function(f,x,S){if(f!==null)if(f.memoizedProps!==x.pendingProps||Pi.current)yl=!0;else{if((f.lanes&S)===0&&(x.flags&128)===0)return yl=!1,F9(f,x,S);yl=(f.flags&131072)!==0}else yl=!1,Pt&&(x.flags&1048576)!==0&&qt(x,Ae,x.index);switch(x.lanes=0,x.tag){case 2:var L=x.type;bg(f,x),f=x.pendingProps;var K=$u(x,Ja.current);Aa(x,S),K=h0(null,x,L,f,K,S);var ie=xc();return x.flags|=1,typeof K=="object"&&K!==null&&typeof K.render=="function"&&K.$$typeof===void 0?(x.tag=1,x.memoizedState=null,x.updateQueue=null,Zs(L)?(ie=!0,au(x)):ie=!1,x.memoizedState=K.state!==null&&K.state!==void 0?K.state:null,_d(x),K.updater=vg,x.stateNode=K,K._reactInternals=x,lb(x,L,f,S),x=fb(null,x,L,!0,ie,S)):(x.tag=0,Pt&&ie&&Tt(x),Ko(null,x,K,S),x=x.child),x;case 16:L=x.elementType;e:{switch(bg(f,x),f=x.pendingProps,K=L._init,L=K(L._payload),x.type=L,K=x.tag=J9(L),f=uu(L,f),K){case 0:x=db(null,x,L,f,S);break e;case 1:x=WS(null,x,L,f,S);break e;case 11:x=US(null,x,L,f,S);break e;case 14:x=qS(null,x,L,uu(L.type,f),S);break e}throw Error(r(306,L,""))}return x;case 0:return L=x.type,K=x.pendingProps,K=x.elementType===L?K:uu(L,K),db(f,x,L,K,S);case 1:return L=x.type,K=x.pendingProps,K=x.elementType===L?K:uu(L,K),WS(f,x,L,K,S);case 3:e:{if(VS(x),f===null)throw Error(r(387));L=x.pendingProps,ie=x.memoizedState,K=ie.element,f0(f,x),xs(x,L,null,S);var be=x.memoizedState;if(L=be.element,ie.isDehydrated)if(ie={element:L,isDehydrated:!1,cache:be.cache,pendingSuspenseBoundaries:be.pendingSuspenseBoundaries,transitions:be.transitions},x.updateQueue.baseState=ie,x.memoizedState=ie,x.flags&256){K=Sh(Error(r(423)),x),x=GS(f,x,L,S,K);break e}else if(L!==K){K=Sh(Error(r(424)),x),x=GS(f,x,L,S,K);break e}else for(Dt=Qs(x.stateNode.containerInfo.firstChild),st=x,Pt=!0,Ft=null,S=Rn(x,null,L,S),x.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if(xn(),L===K){x=Ed(f,x,S);break e}Ko(f,x,L,S)}x=x.child}return x;case 5:return ft(x),f===null&&gr(x),L=x.type,K=x.pendingProps,ie=f!==null?f.memoizedProps:null,be=K.children,tu(L,K)?be=null:ie!==null&&tu(L,ie)&&(x.flags|=32),HS(f,x),Ko(f,x,be,S),x.child;case 6:return f===null&&gr(x),null;case 13:return KS(f,x,S);case 4:return Ne(x,x.stateNode.containerInfo),L=x.pendingProps,f===null?x.child=ps(x,null,L,S):Ko(f,x,L,S),x.child;case 11:return L=x.type,K=x.pendingProps,K=x.elementType===L?K:uu(L,K),US(f,x,L,K,S);case 7:return Ko(f,x,x.pendingProps,S),x.child;case 8:return Ko(f,x,x.pendingProps.children,S),x.child;case 12:return Ko(f,x,x.pendingProps.children,S),x.child;case 10:e:{if(L=x.type._context,K=x.pendingProps,ie=x.memoizedProps,be=K.value,Jn(ei,L._currentValue),L._currentValue=be,ie!==null)if(Mn(ie.value,be)){if(ie.children===K.children&&!Pi.current){x=Ed(f,x,S);break e}}else for(ie=x.child,ie!==null&&(ie.return=x);ie!==null;){var We=ie.dependencies;if(We!==null){be=ie.child;for(var nt=We.firstContext;nt!==null;){if(nt.context===L){if(ie.tag===1){nt=wo(-1,S&-S),nt.tag=2;var At=ie.updateQueue;if(At!==null){At=At.shared;var Xt=At.pending;Xt===null?nt.next=nt:(nt.next=Xt.next,Xt.next=nt),At.pending=nt}}ie.lanes|=S,nt=ie.alternate,nt!==null&&(nt.lanes|=S),bo(ie.return,S,x),We.lanes|=S;break}nt=nt.next}}else if(ie.tag===10)be=ie.type===x.type?null:ie.child;else if(ie.tag===18){if(be=ie.return,be===null)throw Error(r(341));be.lanes|=S,We=be.alternate,We!==null&&(We.lanes|=S),bo(be,S,x),be=ie.sibling}else be=ie.child;if(be!==null)be.return=ie;else for(be=ie;be!==null;){if(be===x){be=null;break}if(ie=be.sibling,ie!==null){ie.return=be.return,be=ie;break}be=be.return}ie=be}Ko(f,x,K.children,S),x=x.child}return x;case 9:return K=x.type,L=x.pendingProps.children,Aa(x,S),K=Ga(K),L=L(K),x.flags|=1,Ko(f,x,L,S),x.child;case 14:return L=x.type,K=uu(L,x.pendingProps),K=uu(L.type,K),qS(f,x,L,K,S);case 15:return $S(f,x,x.type,x.pendingProps,S);case 17:return L=x.type,K=x.pendingProps,K=x.elementType===L?K:uu(L,K),bg(f,x),x.tag=1,Zs(L)?(f=!0,au(x)):f=!1,Aa(x,S),IS(x,L,K),lb(x,L,K,S),fb(null,x,L,!0,f,S);case 19:return YS(f,x,S);case 22:return zS(f,x,S)}throw Error(r(156,x.tag))};function b_(f,x){return Ie(f,x)}function Y9(f,x,S,L){this.tag=f,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=x,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=L,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vc(f,x,S,L){return new Y9(f,x,S,L)}function Pb(f){return f=f.prototype,!(!f||!f.isReactComponent)}function J9(f){if(typeof f=="function")return Pb(f)?1:0;if(f!=null){if(f=f.$$typeof,f===T)return 11;if(f===X)return 14}return 2}function Sf(f,x){var S=f.alternate;return S===null?(S=vc(f.tag,x,f.key,f.mode),S.elementType=f.elementType,S.type=f.type,S.stateNode=f.stateNode,S.alternate=f,f.alternate=S):(S.pendingProps=x,S.type=f.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=f.flags&14680064,S.childLanes=f.childLanes,S.lanes=f.lanes,S.child=f.child,S.memoizedProps=f.memoizedProps,S.memoizedState=f.memoizedState,S.updateQueue=f.updateQueue,x=f.dependencies,S.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext},S.sibling=f.sibling,S.index=f.index,S.ref=f.ref,S}function Og(f,x,S,L,K,ie){var be=2;if(L=f,typeof f=="function")Pb(f)&&(be=1);else if(typeof f=="string")be=5;else e:switch(f){case A:return b0(S.children,K,ie,x);case O:be=8,K|=8;break;case D:return f=vc(12,S,x,K|2),f.elementType=D,f.lanes=ie,f;case I:return f=vc(13,S,x,K),f.elementType=I,f.lanes=ie,f;case B:return f=vc(19,S,x,K),f.elementType=B,f.lanes=ie,f;case Z:return Pg(S,K,ie,x);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case R:be=10;break e;case C:be=9;break e;case T:be=11;break e;case X:be=14;break e;case re:be=16,L=null;break e}throw Error(r(130,f==null?f:typeof f,""))}return x=vc(be,S,x,K),x.elementType=f,x.type=L,x.lanes=ie,x}function b0(f,x,S,L){return f=vc(7,f,L,x),f.lanes=S,f}function Pg(f,x,S,L){return f=vc(22,f,L,x),f.elementType=Z,f.lanes=S,f.stateNode={isHidden:!1},f}function Ib(f,x,S){return f=vc(6,f,null,x),f.lanes=S,f}function Db(f,x,S){return x=vc(4,f.children!==null?f.children:[],f.key,x),x.lanes=S,x.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},x}function Q9(f,x,S,L,K){this.tag=x,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nr(0),this.expirationTimes=nr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nr(0),this.identifierPrefix=L,this.onRecoverableError=K,this.mutableSourceEagerHydrationData=null}function Lb(f,x,S,L,K,ie,be,We,nt){return f=new Q9(f,x,S,We,nt),x===1?(x=1,ie===!0&&(x|=8)):x=0,ie=vc(3,null,null,x),f.current=ie,ie.stateNode=f,ie.memoizedState={element:L,isDehydrated:S,cache:null,transitions:null,pendingSuspenseBoundaries:null},_d(ie),f}function Z9(f,x,S){var L=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:L==null?null:""+L,children:f,containerInfo:x,implementation:S}}function w_(f){if(!f)return Xi;f=f._reactInternals;e:{if(Te(f)!==f||f.tag!==1)throw Error(r(170));var x=f;do{switch(x.tag){case 3:x=x.stateNode.context;break e;case 1:if(Zs(x.type)){x=x.stateNode.__reactInternalMemoizedMergedChildContext;break e}}x=x.return}while(x!==null);throw Error(r(171))}if(f.tag===1){var S=f.type;if(Zs(S))return xf(f,S,x)}return x}function N_(f,x,S,L,K,ie,be,We,nt){return f=Lb(S,L,!0,f,K,ie,be,We,nt),f.context=w_(null),S=f.current,L=Xo(),K=jf(S),ie=wo(L,K),ie.callback=x??null,Zi(S,ie,K),f.current.lanes=K,Ot(f,K,L),wl(f,L),f}function Ig(f,x,S,L){var K=x.current,ie=Xo(),be=jf(K);return S=w_(S),x.context===null?x.context=S:x.pendingContext=S,x=wo(ie,be),x.payload={element:f},L=L===void 0?null:L,L!==null&&(x.callback=L),f=Zi(K,x,be),f!==null&&(hu(f,K,be,ie),No(f,K,be)),be}function Dg(f){return f=f.current,f.child?(f.child.tag===5,f.child.stateNode):null}function j_(f,x){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var S=f.retryLane;f.retryLane=S!==0&&S<x?S:x}}function Fb(f,x){j_(f,x),(f=f.alternate)&&j_(f,x)}function eB(){return null}var k_=typeof reportError=="function"?reportError:function(f){console.error(f)};function Mb(f){this._internalRoot=f}Lg.prototype.render=Mb.prototype.render=function(f){var x=this._internalRoot;if(x===null)throw Error(r(409));Ig(f,x,null,null)},Lg.prototype.unmount=Mb.prototype.unmount=function(){var f=this._internalRoot;if(f!==null){this._internalRoot=null;var x=f.containerInfo;g0(function(){Ig(null,f,null,null)}),x[qs]=null}};function Lg(f){this._internalRoot=f}Lg.prototype.unstable_scheduleHydration=function(f){if(f){var x=ya();f={blockedOn:null,target:f,priority:x};for(var S=0;S<Qt.length&&x!==0&&x<Qt[S].priority;S++);Qt.splice(S,0,f),S===0&&ba(f)}};function Rb(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)}function Fg(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11&&(f.nodeType!==8||f.nodeValue!==" react-mount-point-unstable "))}function S_(){}function tB(f,x,S,L,K){if(K){if(typeof L=="function"){var ie=L;L=function(){var At=Dg(be);ie.call(At)}}var be=N_(x,L,f,0,null,!1,!1,"",S_);return f._reactRootContainer=be,f[qs]=be.current,Ti(f.nodeType===8?f.parentNode:f),g0(),be}for(;K=f.lastChild;)f.removeChild(K);if(typeof L=="function"){var We=L;L=function(){var At=Dg(nt);We.call(At)}}var nt=Lb(f,0,!1,null,null,!1,!1,"",S_);return f._reactRootContainer=nt,f[qs]=nt.current,Ti(f.nodeType===8?f.parentNode:f),g0(function(){Ig(x,nt,S,L)}),nt}function Mg(f,x,S,L,K){var ie=S._reactRootContainer;if(ie){var be=ie;if(typeof K=="function"){var We=K;K=function(){var nt=Dg(be);We.call(nt)}}Ig(x,be,f,K)}else be=tB(S,x,f,K,L);return Dg(be)}ja=function(f){switch(f.tag){case 3:var x=f.stateNode;if(x.current.memoizedState.isDehydrated){var S=cr(x.pendingLanes);S!==0&&(Ct(x,S|1),wl(x,Bt()),(aa&6)===0&&(Eh=Bt()+500,le()))}break;case 13:g0(function(){var L=Qn(f,1);if(L!==null){var K=Xo();hu(L,f,1,K)}}),Fb(f,1)}},ir=function(f){if(f.tag===13){var x=Qn(f,134217728);if(x!==null){var S=Xo();hu(x,f,134217728,S)}Fb(f,134217728)}},Zn=function(f){if(f.tag===13){var x=jf(f),S=Qn(f,x);if(S!==null){var L=Xo();hu(S,f,x,L)}Fb(f,x)}},ya=function(){return Fr},en=function(f,x){var S=Fr;try{return Fr=f,x()}finally{Fr=S}},zt=function(f,x,S){switch(x){case"input":if(ke(f,S),x=S.name,S.type==="radio"&&x!=null){for(S=f;S.parentNode;)S=S.parentNode;for(S=S.querySelectorAll("input[name="+JSON.stringify(""+x)+'][type="radio"]'),x=0;x<S.length;x++){var L=S[x];if(L!==f&&L.form===f.form){var K=pc(L);if(!K)throw Error(r(90));se(L),ke(L,K)}}}break;case"textarea":Je(f,S);break;case"select":x=S.value,x!=null&&fe(f,!!S.multiple,x,!1)}},Ar=Cb,Gr=g0;var rB={usingClientEntryPoint:!1,Events:[ru,nu,pc,Jt,Lr,Cb]},nm={findFiberByHostInstance:hc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nB={bundleType:nm.bundleType,version:nm.version,rendererPackageName:nm.rendererPackageName,rendererConfig:nm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:N.ReactCurrentDispatcher,findHostInstanceByFiber:function(f){return f=Qe(f),f===null?null:f.stateNode},findFiberByHostInstance:nm.findFiberByHostInstance||eB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rg.isDisabled&&Rg.supportsFiber)try{ss=Rg.inject(nB),$n=Rg}catch{}}return Nl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rB,Nl.createPortal=function(f,x){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rb(x))throw Error(r(200));return Z9(f,x,null,S)},Nl.createRoot=function(f,x){if(!Rb(f))throw Error(r(299));var S=!1,L="",K=k_;return x!=null&&(x.unstable_strictMode===!0&&(S=!0),x.identifierPrefix!==void 0&&(L=x.identifierPrefix),x.onRecoverableError!==void 0&&(K=x.onRecoverableError)),x=Lb(f,1,!1,null,null,S,!1,L,K),f[qs]=x.current,Ti(f.nodeType===8?f.parentNode:f),new Mb(x)},Nl.findDOMNode=function(f){if(f==null)return null;if(f.nodeType===1)return f;var x=f._reactInternals;if(x===void 0)throw typeof f.render=="function"?Error(r(188)):(f=Object.keys(f).join(","),Error(r(268,f)));return f=Qe(x),f=f===null?null:f.stateNode,f},Nl.flushSync=function(f){return g0(f)},Nl.hydrate=function(f,x,S){if(!Fg(x))throw Error(r(200));return Mg(null,f,x,!0,S)},Nl.hydrateRoot=function(f,x,S){if(!Rb(f))throw Error(r(405));var L=S!=null&&S.hydratedSources||null,K=!1,ie="",be=k_;if(S!=null&&(S.unstable_strictMode===!0&&(K=!0),S.identifierPrefix!==void 0&&(ie=S.identifierPrefix),S.onRecoverableError!==void 0&&(be=S.onRecoverableError)),x=N_(x,null,f,1,S??null,K,!1,ie,be),f[qs]=x.current,Ti(f),L)for(f=0;f<L.length;f++)S=L[f],K=S._getVersion,K=K(S._source),x.mutableSourceEagerHydrationData==null?x.mutableSourceEagerHydrationData=[S,K]:x.mutableSourceEagerHydrationData.push(S,K);return new Lg(x)},Nl.render=function(f,x,S){if(!Fg(x))throw Error(r(200));return Mg(null,f,x,!1,S)},Nl.unmountComponentAtNode=function(f){if(!Fg(f))throw Error(r(40));return f._reactRootContainer?(g0(function(){Mg(null,null,f,!1,function(){f._reactRootContainer=null,f[qs]=null})}),!0):!1},Nl.unstable_batchedUpdates=Cb,Nl.unstable_renderSubtreeIntoContainer=function(f,x,S,L){if(!Fg(S))throw Error(r(200));if(f==null||f._reactInternals===void 0)throw Error(r(38));return Mg(f,x,S,!1,L)},Nl.version="18.3.1-next-f1338f8080-20240426",Nl}var I_;function X8(){if(I_)return qb.exports;I_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),qb.exports=uB(),qb.exports}var D_;function dB(){if(D_)return Ug;D_=1;var e=X8();return Ug.createRoot=e.createRoot,Ug.hydrateRoot=e.hydrateRoot,Ug}var fB=dB();const hB=Ia(fB),pB="modulepreload",mB=function(e){return"/"+e},L_={},qv=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){let c=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");s=c(r.map(u=>{if(u=mB(u),u in L_)return;L_[u]=!0;const d=u.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":pB,d||(m.as="script"),m.crossOrigin="",m.href=u,l&&m.setAttribute("nonce",l),document.head.appendChild(m),d)return new Promise((p,y)=>{m.addEventListener("load",p),m.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};const xB=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Y8=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();var gB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const vB=z.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...l},c)=>z.createElement("svg",{ref:c,...gB,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Y8("lucide",s),...l},[...o.map(([u,d])=>z.createElement(u,d)),...Array.isArray(i)?i:[i]]));const $t=(e,t)=>{const r=z.forwardRef(({className:n,...s},i)=>z.createElement(vB,{ref:i,iconNode:t,className:Y8(`lucide-${xB(e)}`,n),...s}));return r.displayName=`${e}`,r};const F_=$t("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);const yB=$t("AlignLeft",[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);const Qu=$t("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);const wk=$t("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const ao=$t("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const Km=$t("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);const uy=$t("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const bB=$t("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);const M_=$t("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);const $v=$t("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);const Pc=$t("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);const Av=$t("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);const nd=$t("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);const Ha=$t("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const R_=$t("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);const J8=$t("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const Om=$t("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);const cd=$t("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const Uf=$t("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const wj=$t("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const bs=$t("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const wB=$t("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const pa=$t("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Cn=$t("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const NB=$t("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const jB=$t("CirclePause",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]);const Q8=$t("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const ad=$t("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const ws=$t("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const sm=$t("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);const Z8=$t("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const eD=$t("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const Xd=$t("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const L0=$t("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const B_=$t("Earth",[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3a2 2 0 0 1 2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.1.9-2 2-2h3.17",key:"1tzkfa"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"14pb5j"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const tD=$t("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);const vi=$t("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const Ud=$t("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const kB=$t("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);const Ev=$t("FilePenLine",[["path",{d:"m18 5-2.414-2.414A2 2 0 0 0 14.172 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"142zxg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]]);const SB=$t("FileSearch",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]]);const _B=$t("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);const Xa=$t("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const U_=$t("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);const AB=$t("FileVideo",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 11 5 3-5 3v-6Z",key:"7ntvm4"}]]);const EB=$t("FileWarning",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const Wl=$t("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);const Xm=$t("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);const qf=$t("FolderKanban",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]]);const F0=$t("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const CB=$t("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);const Td=$t("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);const TB=$t("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);const qd=$t("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const OB=$t("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);const tl=$t("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const qg=$t("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);const Wf=$t("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const Nj=$t("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);const q_=$t("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);const If=$t("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);const M0=$t("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);const PB=$t("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);const IB=$t("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);const Et=$t("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const DB=$t("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const LB=$t("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const li=$t("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const rD=$t("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const Cv=$t("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);const FB=$t("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const Tv=$t("Merge",[["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M12 2v10.3a4 4 0 0 1-1.172 2.872L4 22",key:"1hyw0i"}],["path",{d:"m20 22-5-5",key:"1m27yz"}]]);const MB=$t("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);const oo=$t("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const RB=$t("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);const BB=$t("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);const jj=$t("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);const Th=$t("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);const UB=$t("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);const $_=$t("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);const ec=$t("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);const kj=$t("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);const qB=$t("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);const _n=$t("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const Sj=$t("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);const sd=$t("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const $B=$t("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);const zv=$t("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const wi=$t("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const zB=$t("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);const tf=$t("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const Nu=$t("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);const z_=$t("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);const nD=$t("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Hv=$t("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);const HB=$t("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);const dy=$t("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const Ym=$t("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const xi=$t("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);const al=$t("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const WB=$t("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);const Ov=$t("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);const vs=$t("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);const im=$t("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const $r=$t("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const VB=$t("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);const $d=$t("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const Vf=$t("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const Ou=$t("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const $g=$t("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);const Au=$t("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);const rl=$t("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const R0=$t("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const $h=$t("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);const GB=$t("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);const mr=$t("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const Wv=$t("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),KB=[{id:"dashboard",label:"Dashboard",icon:a.jsx(OB,{className:"w-5 h-5"})},{id:"schedule",label:"Schedule",icon:a.jsx(Ha,{className:"w-5 h-5"})},{id:"inbox",label:"Shared Inbox",icon:a.jsx(li,{className:"w-5 h-5"})},{id:"crm",label:"CRM",icon:a.jsx(R0,{className:"w-5 h-5"})},{id:"pipeline",label:"Deal Pipeline",icon:a.jsx(Pc,{className:"w-5 h-5"})},{id:"projects",label:"Projects",icon:a.jsx(Xa,{className:"w-5 h-5"})},{id:"tasks",label:"Tasks",icon:a.jsx(al,{className:"w-5 h-5"})},{id:"invoices",label:"Billing & Invoicing",icon:a.jsx(Xd,{className:"w-5 h-5"})},{id:"expenses",label:"Expenses",icon:a.jsx(Sj,{className:"w-5 h-5"})},{id:"budget",label:"Budget Management",icon:a.jsx(Om,{className:"w-5 h-5"})},{id:"contracts",label:"Contracts & Legal",icon:a.jsx(Ev,{className:"w-5 h-5"})},{id:"roadmap",label:"Roadmap",icon:a.jsx(Cv,{className:"w-5 h-5"})},{id:"integrations",label:"Integrations",icon:a.jsx(Hv,{className:"w-5 h-5"})}],Pv=[{id:"u1",name:"Alex Rivera",email:"alex@impact247.com",role:"Admin",avatar:"https://picsum.photos/seed/alex/100/100",active:!0}],zg=[{id:"new-lead",label:"New Lead",description:"Alerts when a new lead is assigned to you",inApp:!0,email:!0},{id:"deal-update",label:"Deal Update",description:"Alerts when a deal status or stage changes",inApp:!0,email:!1},{id:"task-assigned",label:"Task Assigned",description:"Alerts when a teammate assigns a task to you",inApp:!0,email:!0},{id:"project-update",label:"Project Update",description:"Alerts when milestone or status updates occur",inApp:!1,email:!0},{id:"company-update",label:"Company Update",description:"Alerts when company information or details are updated",inApp:!0,email:!1},{id:"contact-update",label:"Contact Update",description:"Alerts when contact information or details are updated",inApp:!0,email:!1},{id:"email-routing",label:"Email Auto-Assigned",description:"Alerts when an email is automatically assigned to you via routing rules",inApp:!0,email:!0},{id:"email-assigned",label:"Email Assigned",description:"Alerts when an email is manually assigned to you",inApp:!0,email:!1},{id:"email-mention",label:"Email Mentions",description:"Alerts when you are mentioned in an email note",inApp:!0,email:!0},{id:"new-email",label:"New Email",description:"Alerts when a new email is received in shared inbox",inApp:!1,email:!1}],XB=e=>{const t=e.match(/UTC([+-]?)(\d+)(?::(\d+))?/);if(!t)return 0;const r=t[1]==="-"?-1:1,n=parseInt(t[2],10),s=t[3]?parseInt(t[3],10):0;return r*(n+s/60)},Pm=[{value:"UTC-12",label:"UTC-12 (Baker Island Time)"},{value:"UTC-11",label:"UTC-11 (Hawaii-Aleutian Standard Time)"},{value:"UTC-10",label:"UTC-10 (Hawaii Standard Time)"},{value:"UTC-9:30",label:"UTC-9:30 (Marquesas Time)"},{value:"UTC-9",label:"UTC-9 (Alaska Standard Time)"},{value:"UTC-8",label:"UTC-8 (Pacific Standard Time - PST)"},{value:"UTC-7",label:"UTC-7 (Mountain Standard Time - MST)"},{value:"UTC-6",label:"UTC-6 (Central Standard Time - CST)"},{value:"UTC-5",label:"UTC-5 (Eastern Standard Time - EST)"},{value:"UTC-4",label:"UTC-4 (Atlantic Standard Time - AST)"},{value:"UTC-3:30",label:"UTC-3:30 (Newfoundland Standard Time)"},{value:"UTC-3",label:"UTC-3 (Argentina Time)"},{value:"UTC-2",label:"UTC-2 (South Georgia Time)"},{value:"UTC-1",label:"UTC-1 (Cape Verde Time)"},{value:"UTC+0",label:"UTC+0 (Greenwich Mean Time - GMT)"},{value:"UTC+1",label:"UTC+1 (Central European Time - CET)"},{value:"UTC+2",label:"UTC+2 (Eastern European Time - EET)"},{value:"UTC+3",label:"UTC+3 (Moscow Time - MSK)"},{value:"UTC+3:30",label:"UTC+3:30 (Iran Standard Time)"},{value:"UTC+4",label:"UTC+4 (Gulf Standard Time)"},{value:"UTC+4:30",label:"UTC+4:30 (Afghanistan Time)"},{value:"UTC+5",label:"UTC+5 (Pakistan Standard Time)"},{value:"UTC+5:30",label:"UTC+5:30 (India Standard Time - IST)"},{value:"UTC+5:45",label:"UTC+5:45 (Nepal Time)"},{value:"UTC+6",label:"UTC+6 (Bangladesh Standard Time)"},{value:"UTC+6:30",label:"UTC+6:30 (Myanmar Time)"},{value:"UTC+7",label:"UTC+7 (Indochina Time)"},{value:"UTC+8",label:"UTC+8 (China Standard Time - CST)"},{value:"UTC+8:45",label:"UTC+8:45 (Australian Central Western Time)"},{value:"UTC+9",label:"UTC+9 (Japan Standard Time - JST)"},{value:"UTC+9:30",label:"UTC+9:30 (Australian Central Standard Time)"},{value:"UTC+10",label:"UTC+10 (Australian Eastern Standard Time)"},{value:"UTC+10:30",label:"UTC+10:30 (Lord Howe Standard Time)"},{value:"UTC+11",label:"UTC+11 (Solomon Islands Time)"},{value:"UTC+12",label:"UTC+12 (New Zealand Standard Time)"},{value:"UTC+12:45",label:"UTC+12:45 (Chatham Standard Time)"},{value:"UTC+13",label:"UTC+13 (Tonga Time)"},{value:"UTC+14",label:"UTC+14 (Line Islands Time)"}],om=()=>{try{const e=-new Date().getTimezoneOffset(),t=e/60,r=e%60;if(r===0){const l=`UTC${t>=0?"+":""}${t}`;if(Pm.find(c=>c.value===l))return l}else{const o=Math.floor(Math.abs(t)),l=Math.abs(r),u=`UTC${t>=0?"+":"-"}${o}:${l}`;if(Pm.find(d=>d.value===u))return u}const n=t;let s="UTC+0",i=1/0;return Pm.forEach(o=>{const l=XB(o.value),c=Math.abs(l-n);c<i&&(i=c,s=o.value)}),s}catch{return"UTC+0"}},H_=[{value:"English",label:"English"},{value:"Spanish",label:"Spanish (Espaol)"},{value:"French",label:"French (Franais)"}];function aD(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=aD(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function xa(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=aD(e))&&(n&&(n+=" "),n+=t);return n}var Hb,W_;function Al(){if(W_)return Hb;W_=1;var e=Array.isArray;return Hb=e,Hb}var Wb,V_;function sD(){if(V_)return Wb;V_=1;var e=typeof Bg=="object"&&Bg&&Bg.Object===Object&&Bg;return Wb=e,Wb}var Vb,G_;function dd(){if(G_)return Vb;G_=1;var e=sD(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return Vb=r,Vb}var Gb,K_;function Xx(){if(K_)return Gb;K_=1;var e=dd(),t=e.Symbol;return Gb=t,Gb}var Kb,X_;function YB(){if(X_)return Kb;X_=1;var e=Xx(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,s=e?e.toStringTag:void 0;function i(o){var l=r.call(o,s),c=o[s];try{o[s]=void 0;var u=!0}catch{}var d=n.call(o);return u&&(l?o[s]=c:delete o[s]),d}return Kb=i,Kb}var Xb,Y_;function JB(){if(Y_)return Xb;Y_=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return Xb=r,Xb}var Yb,J_;function rf(){if(J_)return Yb;J_=1;var e=Xx(),t=YB(),r=JB(),n="[object Null]",s="[object Undefined]",i=e?e.toStringTag:void 0;function o(l){return l==null?l===void 0?s:n:i&&i in Object(l)?t(l):r(l)}return Yb=o,Yb}var Jb,Q_;function nf(){if(Q_)return Jb;Q_=1;function e(t){return t!=null&&typeof t=="object"}return Jb=e,Jb}var Qb,Z_;function Ip(){if(Z_)return Qb;Z_=1;var e=rf(),t=nf(),r="[object Symbol]";function n(s){return typeof s=="symbol"||t(s)&&e(s)==r}return Qb=n,Qb}var Zb,e6;function Nk(){if(e6)return Zb;e6=1;var e=Al(),t=Ip(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(i,o){if(e(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||t(i)?!0:n.test(i)||!r.test(i)||o!=null&&i in Object(o)}return Zb=s,Zb}var e2,t6;function Zf(){if(t6)return e2;t6=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return e2=e,e2}var t2,r6;function jk(){if(r6)return t2;r6=1;var e=rf(),t=Zf(),r="[object AsyncFunction]",n="[object Function]",s="[object GeneratorFunction]",i="[object Proxy]";function o(l){if(!t(l))return!1;var c=e(l);return c==n||c==s||c==r||c==i}return t2=o,t2}var r2,n6;function QB(){if(n6)return r2;n6=1;var e=dd(),t=e["__core-js_shared__"];return r2=t,r2}var n2,a6;function ZB(){if(a6)return n2;a6=1;var e=QB(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return n2=r,n2}var a2,s6;function iD(){if(s6)return a2;s6=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return a2=r,a2}var s2,i6;function eU(){if(i6)return s2;i6=1;var e=jk(),t=ZB(),r=Zf(),n=iD(),s=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,u=l.hasOwnProperty,d=RegExp("^"+c.call(u).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(m){if(!r(m)||t(m))return!1;var p=e(m)?d:i;return p.test(n(m))}return s2=h,s2}var i2,o6;function tU(){if(o6)return i2;o6=1;function e(t,r){return t?.[r]}return i2=e,i2}var o2,l6;function ah(){if(l6)return o2;l6=1;var e=eU(),t=tU();function r(n,s){var i=t(n,s);return e(i)?i:void 0}return o2=r,o2}var l2,c6;function fy(){if(c6)return l2;c6=1;var e=ah(),t=e(Object,"create");return l2=t,l2}var c2,u6;function rU(){if(u6)return c2;u6=1;var e=fy();function t(){this.__data__=e?e(null):{},this.size=0}return c2=t,c2}var u2,d6;function nU(){if(d6)return u2;d6=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return u2=e,u2}var d2,f6;function aU(){if(f6)return d2;f6=1;var e=fy(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function s(i){var o=this.__data__;if(e){var l=o[i];return l===t?void 0:l}return n.call(o,i)?o[i]:void 0}return d2=s,d2}var f2,h6;function sU(){if(h6)return f2;h6=1;var e=fy(),t=Object.prototype,r=t.hasOwnProperty;function n(s){var i=this.__data__;return e?i[s]!==void 0:r.call(i,s)}return f2=n,f2}var h2,p6;function iU(){if(p6)return h2;p6=1;var e=fy(),t="__lodash_hash_undefined__";function r(n,s){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=e&&s===void 0?t:s,this}return h2=r,h2}var p2,m6;function oU(){if(m6)return p2;m6=1;var e=rU(),t=nU(),r=aU(),n=sU(),s=iU();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=s,p2=i,p2}var m2,x6;function lU(){if(x6)return m2;x6=1;function e(){this.__data__=[],this.size=0}return m2=e,m2}var x2,g6;function kk(){if(g6)return x2;g6=1;function e(t,r){return t===r||t!==t&&r!==r}return x2=e,x2}var g2,v6;function hy(){if(v6)return g2;v6=1;var e=kk();function t(r,n){for(var s=r.length;s--;)if(e(r[s][0],n))return s;return-1}return g2=t,g2}var v2,y6;function cU(){if(y6)return v2;y6=1;var e=hy(),t=Array.prototype,r=t.splice;function n(s){var i=this.__data__,o=e(i,s);if(o<0)return!1;var l=i.length-1;return o==l?i.pop():r.call(i,o,1),--this.size,!0}return v2=n,v2}var y2,b6;function uU(){if(b6)return y2;b6=1;var e=hy();function t(r){var n=this.__data__,s=e(n,r);return s<0?void 0:n[s][1]}return y2=t,y2}var b2,w6;function dU(){if(w6)return b2;w6=1;var e=hy();function t(r){return e(this.__data__,r)>-1}return b2=t,b2}var w2,N6;function fU(){if(N6)return w2;N6=1;var e=hy();function t(r,n){var s=this.__data__,i=e(s,r);return i<0?(++this.size,s.push([r,n])):s[i][1]=n,this}return w2=t,w2}var N2,j6;function py(){if(j6)return N2;j6=1;var e=lU(),t=cU(),r=uU(),n=dU(),s=fU();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=s,N2=i,N2}var j2,k6;function Sk(){if(k6)return j2;k6=1;var e=ah(),t=dd(),r=e(t,"Map");return j2=r,j2}var k2,S6;function hU(){if(S6)return k2;S6=1;var e=oU(),t=py(),r=Sk();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return k2=n,k2}var S2,_6;function pU(){if(_6)return S2;_6=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return S2=e,S2}var _2,A6;function my(){if(A6)return _2;A6=1;var e=pU();function t(r,n){var s=r.__data__;return e(n)?s[typeof n=="string"?"string":"hash"]:s.map}return _2=t,_2}var A2,E6;function mU(){if(E6)return A2;E6=1;var e=my();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return A2=t,A2}var E2,C6;function xU(){if(C6)return E2;C6=1;var e=my();function t(r){return e(this,r).get(r)}return E2=t,E2}var C2,T6;function gU(){if(T6)return C2;T6=1;var e=my();function t(r){return e(this,r).has(r)}return C2=t,C2}var T2,O6;function vU(){if(O6)return T2;O6=1;var e=my();function t(r,n){var s=e(this,r),i=s.size;return s.set(r,n),this.size+=s.size==i?0:1,this}return T2=t,T2}var O2,P6;function _k(){if(P6)return O2;P6=1;var e=hU(),t=mU(),r=xU(),n=gU(),s=vU();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=s,O2=i,O2}var P2,I6;function oD(){if(I6)return P2;I6=1;var e=_k(),t="Expected a function";function r(n,s){if(typeof n!="function"||s!=null&&typeof s!="function")throw new TypeError(t);var i=function(){var o=arguments,l=s?s.apply(this,o):o[0],c=i.cache;if(c.has(l))return c.get(l);var u=n.apply(this,o);return i.cache=c.set(l,u)||c,u};return i.cache=new(r.Cache||e),i}return r.Cache=e,P2=r,P2}var I2,D6;function yU(){if(D6)return I2;D6=1;var e=oD(),t=500;function r(n){var s=e(n,function(o){return i.size===t&&i.clear(),o}),i=s.cache;return s}return I2=r,I2}var D2,L6;function bU(){if(L6)return D2;L6=1;var e=yU(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(s){var i=[];return s.charCodeAt(0)===46&&i.push(""),s.replace(t,function(o,l,c,u){i.push(c?u.replace(r,"$1"):l||o)}),i});return D2=n,D2}var L2,F6;function Ak(){if(F6)return L2;F6=1;function e(t,r){for(var n=-1,s=t==null?0:t.length,i=Array(s);++n<s;)i[n]=r(t[n],n,t);return i}return L2=e,L2}var F2,M6;function wU(){if(M6)return F2;M6=1;var e=Xx(),t=Ak(),r=Al(),n=Ip(),s=e?e.prototype:void 0,i=s?s.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return t(l,o)+"";if(n(l))return i?i.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return F2=o,F2}var M2,R6;function lD(){if(R6)return M2;R6=1;var e=wU();function t(r){return r==null?"":e(r)}return M2=t,M2}var R2,B6;function cD(){if(B6)return R2;B6=1;var e=Al(),t=Nk(),r=bU(),n=lD();function s(i,o){return e(i)?i:t(i,o)?[i]:r(n(i))}return R2=s,R2}var B2,U6;function xy(){if(U6)return B2;U6=1;var e=Ip();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return B2=t,B2}var U2,q6;function Ek(){if(q6)return U2;q6=1;var e=cD(),t=xy();function r(n,s){s=e(s,n);for(var i=0,o=s.length;n!=null&&i<o;)n=n[t(s[i++])];return i&&i==o?n:void 0}return U2=r,U2}var q2,$6;function uD(){if($6)return q2;$6=1;var e=Ek();function t(r,n,s){var i=r==null?void 0:e(r,n);return i===void 0?s:i}return q2=t,q2}var NU=uD();const Ic=Ia(NU);var $2,z6;function jU(){if(z6)return $2;z6=1;function e(t){return t==null}return $2=e,$2}var kU=jU();const Kn=Ia(kU);var z2,H6;function SU(){if(H6)return z2;H6=1;var e=rf(),t=Al(),r=nf(),n="[object String]";function s(i){return typeof i=="string"||!t(i)&&r(i)&&e(i)==n}return z2=s,z2}var _U=SU();const Yx=Ia(_U);var AU=jk();const An=Ia(AU);var EU=Zf();const Dp=Ia(EU);var H2={exports:{}},wa={};var W6;function CU(){if(W6)return wa;W6=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.offscreen"),y;y=Symbol.for("react.module.reference");function v(g){if(typeof g=="object"&&g!==null){var b=g.$$typeof;switch(b){case e:switch(g=g.type,g){case r:case s:case n:case u:case d:return g;default:switch(g=g&&g.$$typeof,g){case l:case o:case c:case m:case h:case i:return g;default:return b}}case t:return b}}}return wa.ContextConsumer=o,wa.ContextProvider=i,wa.Element=e,wa.ForwardRef=c,wa.Fragment=r,wa.Lazy=m,wa.Memo=h,wa.Portal=t,wa.Profiler=s,wa.StrictMode=n,wa.Suspense=u,wa.SuspenseList=d,wa.isAsyncMode=function(){return!1},wa.isConcurrentMode=function(){return!1},wa.isContextConsumer=function(g){return v(g)===o},wa.isContextProvider=function(g){return v(g)===i},wa.isElement=function(g){return typeof g=="object"&&g!==null&&g.$$typeof===e},wa.isForwardRef=function(g){return v(g)===c},wa.isFragment=function(g){return v(g)===r},wa.isLazy=function(g){return v(g)===m},wa.isMemo=function(g){return v(g)===h},wa.isPortal=function(g){return v(g)===t},wa.isProfiler=function(g){return v(g)===s},wa.isStrictMode=function(g){return v(g)===n},wa.isSuspense=function(g){return v(g)===u},wa.isSuspenseList=function(g){return v(g)===d},wa.isValidElementType=function(g){return typeof g=="string"||typeof g=="function"||g===r||g===s||g===n||g===u||g===d||g===p||typeof g=="object"&&g!==null&&(g.$$typeof===m||g.$$typeof===h||g.$$typeof===i||g.$$typeof===o||g.$$typeof===c||g.$$typeof===y||g.getModuleId!==void 0)},wa.typeOf=v,wa}var V6;function TU(){return V6||(V6=1,H2.exports=CU()),H2.exports}var dD=TU(),W2,G6;function fD(){if(G6)return W2;G6=1;var e=rf(),t=nf(),r="[object Number]";function n(s){return typeof s=="number"||t(s)&&e(s)==r}return W2=n,W2}var V2,K6;function OU(){if(K6)return V2;K6=1;var e=fD();function t(r){return e(r)&&r!=+r}return V2=t,V2}var PU=OU();const Lp=Ia(PU);var IU=fD();const DU=Ia(IU);var ku=function(t){return t===0?0:t>0?1:-1},E0=function(t){return Yx(t)&&t.indexOf("%")===t.length-1},hr=function(t){return DU(t)&&!Lp(t)},bi=function(t){return hr(t)||Yx(t)},LU=0,Jx=function(t){var r=++LU;return"".concat(t||"").concat(r)},V0=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!hr(t)&&!Yx(t))return n;var i;if(E0(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Lp(i)&&(i=n),s&&i>r&&(i=r),i},Df=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},FU=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},s=0;s<r;s++)if(!n[t[s]])n[t[s]]=!0;else return!0;return!1},Tc=function(t,r){return hr(t)&&hr(r)?function(n){return t+n*(r-t)}:function(){return r}};function Vv(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Ic(n,t))===r})}function Gh(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function _j(e){"@babel/helpers - typeof";return _j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_j(e)}var MU=["viewBox","children"],RU=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],X6=["points","pathLength"],G2={svg:MU,polygon:X6,polyline:X6},Ck=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Gv=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(z.isValidElement(t)&&(n=t.props),!Dp(n))return null;var s={};return Object.keys(n).forEach(function(i){Ck.includes(i)&&(s[i]=r||function(o){return n[i](n,o)})}),s},BU=function(t,r,n){return function(s){return t(r,n,s),null}},Kv=function(t,r,n){if(!Dp(t)||_j(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var o=t[i];Ck.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=BU(o,r,n))}),s},UU=["children"],qU=["children"];function Y6(e,t){if(e==null)return{};var r=$U(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $U(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Aj(e){"@babel/helpers - typeof";return Aj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Aj(e)}var J6={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},zd=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Q6=null,K2=null,Tk=function e(t){if(t===Q6&&Array.isArray(K2))return K2;var r=[];return z.Children.forEach(t,function(n){Kn(n)||(dD.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),K2=r,Q6=t,r};function Eu(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(s){return zd(s)}):n=[zd(t)],Tk(e).forEach(function(s){var i=Ic(s,"type.displayName")||Ic(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}function Gl(e,t){var r=Eu(e,t);return r&&r[0]}var Z6=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,s=r.height;return!(!hr(n)||n<=0||!hr(s)||s<=0)},zU=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],HU=function(t){return t&&t.type&&Yx(t.type)&&zU.indexOf(t.type)>=0},WU=function(t){return t&&Aj(t)==="object"&&"clipDot"in t},VU=function(t,r,n,s){var i,o=(i=G2?.[s])!==null&&i!==void 0?i:[];return!An(t)&&(s&&o.includes(r)||RU.includes(r))||n&&Ck.includes(r)},Un=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(z.isValidElement(t)&&(s=t.props),!Dp(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;VU((l=s)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=s[o])}),i},Ej=function e(t,r){if(t===r)return!0;var n=z.Children.count(t);if(n!==z.Children.count(r))return!1;if(n===0)return!0;if(n===1)return eA(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var i=t[s],o=r[s];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!eA(i,o))return!1}return!0},eA=function(t,r){if(Kn(t)&&Kn(r))return!0;if(!Kn(t)&&!Kn(r)){var n=t.props||{},s=n.children,i=Y6(n,UU),o=r.props||{},l=o.children,c=Y6(o,qU);return s&&l?Gh(i,c)&&Ej(s,l):!s&&!l?Gh(i,c):!1}return!1},tA=function(t,r){var n=[],s={};return Tk(t).forEach(function(i,o){if(HU(i))n.push(i);else if(i){var l=zd(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!s[l])){var h=u(i,l,o);n.push(h),s[l]=!0}}}),n},GU=function(t){var r=t&&t.type;return r&&J6[r]?J6[r]:null},KU=function(t,r){return Tk(r).indexOf(t)},XU=["children","width","height","viewBox","className","style","title","desc"];function Cj(){return Cj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cj.apply(this,arguments)}function YU(e,t){if(e==null)return{};var r=JU(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JU(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Tj(e){var t=e.children,r=e.width,n=e.height,s=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=YU(e,XU),d=s||{width:r,height:n,x:0,y:0},h=xa("recharts-surface",i);return it.createElement("svg",Cj({},Un(u,!0,"svg"),{className:h,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),it.createElement("title",null,l),it.createElement("desc",null,c),t)}var QU=["children","className"];function Oj(){return Oj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oj.apply(this,arguments)}function ZU(e,t){if(e==null)return{};var r=eq(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ys=it.forwardRef(function(e,t){var r=e.children,n=e.className,s=ZU(e,QU),i=xa("recharts-layer",n);return it.createElement("g",Oj({className:i},Un(s,!0),{ref:t}),r)}),Hd=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]},X2,rA;function tq(){if(rA)return X2;rA=1;function e(t,r,n){var s=-1,i=t.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(i);++s<i;)o[s]=t[s+r];return o}return X2=e,X2}var Y2,nA;function rq(){if(nA)return Y2;nA=1;var e=tq();function t(r,n,s){var i=r.length;return s=s===void 0?i:s,!n&&s>=i?r:e(r,n,s)}return Y2=t,Y2}var J2,aA;function hD(){if(aA)return J2;aA=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",s=t+r+n,i="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+e+s+i+"]");function c(u){return l.test(u)}return J2=c,J2}var Q2,sA;function nq(){if(sA)return Q2;sA=1;function e(t){return t.split("")}return Q2=e,Q2}var Z2,iA;function aq(){if(iA)return Z2;iA=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",s=t+r+n,i="\\ufe0e\\ufe0f",o="["+e+"]",l="["+s+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+c+")",d="[^"+e+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",p="\\u200d",y=u+"?",v="["+i+"]?",g="(?:"+p+"(?:"+[d,h,m].join("|")+")"+v+y+")*",b=v+y+g,w="(?:"+[d+l+"?",l,h,m,o].join("|")+")",j=RegExp(c+"(?="+c+")|"+w+b,"g");function N(k){return k.match(j)||[]}return Z2=N,Z2}var ew,oA;function sq(){if(oA)return ew;oA=1;var e=nq(),t=hD(),r=aq();function n(s){return t(s)?r(s):e(s)}return ew=n,ew}var tw,lA;function iq(){if(lA)return tw;lA=1;var e=rq(),t=hD(),r=sq(),n=lD();function s(i){return function(o){o=n(o);var l=t(o)?r(o):void 0,c=l?l[0]:o.charAt(0),u=l?e(l,1).join(""):o.slice(1);return c[i]()+u}}return tw=s,tw}var rw,cA;function oq(){if(cA)return rw;cA=1;var e=iq(),t=e("toUpperCase");return rw=t,rw}var lq=oq();const gy=Ia(lq);function Ka(e){return function(){return e}}const pD=Math.cos,Xv=Math.sin,Pu=Math.sqrt,Yv=Math.PI,vy=2*Yv,Pj=Math.PI,Ij=2*Pj,j0=1e-6,cq=Ij-j0;function mD(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function uq(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return mD;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class dq{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?mD:uq(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=s-r,d=o-t,h=l-r,m=d*d+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(m>j0)if(!(Math.abs(h*c-u*d)>j0)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,y=s-l,v=c*c+u*u,g=p*p+y*y,b=Math.sqrt(v),w=Math.sqrt(m),j=i*Math.tan((Pj-Math.acos((v+m-g)/(2*b*w)))/2),N=j/w,k=j/b;Math.abs(N-1)>j0&&this._append`L${t+N*d},${r+N*h}`,this._append`A${i},${i},0,0,${+(h*p>d*y)},${this._x1=t+k*c},${this._y1=r+k*u}`}}arc(t,r,n,s,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),u=t+l,d=r+c,h=1^o,m=o?s-i:i-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>j0||Math.abs(this._y1-d)>j0)&&this._append`L${u},${d}`,n&&(m<0&&(m=m%Ij+Ij),m>cq?this._append`A${n},${n},0,1,${h},${t-l},${r-c}A${n},${n},0,1,${h},${this._x1=u},${this._y1=d}`:m>j0&&this._append`A${n},${n},0,${+(m>=Pj)},${h},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function Ok(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new dq(t)}function Pk(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function xD(e){this._context=e}xD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function yy(e){return new xD(e)}function gD(e){return e[0]}function vD(e){return e[1]}function yD(e,t){var r=Ka(!0),n=null,s=yy,i=null,o=Ok(l);e=typeof e=="function"?e:e===void 0?gD:Ka(e),t=typeof t=="function"?t:t===void 0?vD:Ka(t);function l(c){var u,d=(c=Pk(c)).length,h,m=!1,p;for(n==null&&(i=s(p=o())),u=0;u<=d;++u)!(u<d&&r(h=c[u],u,c))===m&&((m=!m)?i.lineStart():i.lineEnd()),m&&i.point(+e(h,u,c),+t(h,u,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ka(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ka(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ka(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(i=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=i=null:i=s(n=c),l):n},l}function Hg(e,t,r){var n=null,s=Ka(!0),i=null,o=yy,l=null,c=Ok(u);e=typeof e=="function"?e:e===void 0?gD:Ka(+e),t=typeof t=="function"?t:Ka(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?vD:Ka(+r);function u(h){var m,p,y,v=(h=Pk(h)).length,g,b=!1,w,j=new Array(v),N=new Array(v);for(i==null&&(l=o(w=c())),m=0;m<=v;++m){if(!(m<v&&s(g=h[m],m,h))===b)if(b=!b)p=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=m-1;y>=p;--y)l.point(j[y],N[y]);l.lineEnd(),l.areaEnd()}b&&(j[m]=+e(g,m,h),N[m]=+t(g,m,h),l.point(n?+n(g,m,h):j[m],r?+r(g,m,h):N[m]))}if(w)return l=null,w+""||null}function d(){return yD().defined(s).curve(o).context(i)}return u.x=function(h){return arguments.length?(e=typeof h=="function"?h:Ka(+h),n=null,u):e},u.x0=function(h){return arguments.length?(e=typeof h=="function"?h:Ka(+h),u):e},u.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Ka(+h),u):n},u.y=function(h){return arguments.length?(t=typeof h=="function"?h:Ka(+h),r=null,u):t},u.y0=function(h){return arguments.length?(t=typeof h=="function"?h:Ka(+h),u):t},u.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Ka(+h),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(h){return arguments.length?(s=typeof h=="function"?h:Ka(!!h),u):s},u.curve=function(h){return arguments.length?(o=h,i!=null&&(l=o(i)),u):o},u.context=function(h){return arguments.length?(h==null?i=l=null:l=o(i=h),u):i},u}class bD{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function fq(e){return new bD(e,!0)}function hq(e){return new bD(e,!1)}const Ik={draw(e,t){const r=Pu(t/Yv);e.moveTo(r,0),e.arc(0,0,r,0,vy)}},pq={draw(e,t){const r=Pu(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},wD=Pu(1/3),mq=wD*2,xq={draw(e,t){const r=Pu(t/mq),n=r*wD;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},gq={draw(e,t){const r=Pu(t),n=-r/2;e.rect(n,n,r,r)}},vq=.8908130915292852,ND=Xv(Yv/10)/Xv(7*Yv/10),yq=Xv(vy/10)*ND,bq=-pD(vy/10)*ND,wq={draw(e,t){const r=Pu(t*vq),n=yq*r,s=bq*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const o=vy*i/5,l=pD(o),c=Xv(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*s,c*n+l*s)}e.closePath()}},nw=Pu(3),Nq={draw(e,t){const r=-Pu(t/(nw*3));e.moveTo(0,r*2),e.lineTo(-nw*r,-r),e.lineTo(nw*r,-r),e.closePath()}},yc=-.5,bc=Pu(3)/2,Dj=1/Pu(12),jq=(Dj/2+1)*3,kq={draw(e,t){const r=Pu(t/jq),n=r/2,s=r*Dj,i=n,o=r*Dj+r,l=-i,c=o;e.moveTo(n,s),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(yc*n-bc*s,bc*n+yc*s),e.lineTo(yc*i-bc*o,bc*i+yc*o),e.lineTo(yc*l-bc*c,bc*l+yc*c),e.lineTo(yc*n+bc*s,yc*s-bc*n),e.lineTo(yc*i+bc*o,yc*o-bc*i),e.lineTo(yc*l+bc*c,yc*c-bc*l),e.closePath()}};function Sq(e,t){let r=null,n=Ok(s);e=typeof e=="function"?e:Ka(e||Ik),t=typeof t=="function"?t:Ka(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:Ka(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:Ka(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function Jv(){}function Qv(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function jD(e){this._context=e}jD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Qv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Qv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _q(e){return new jD(e)}function kD(e){this._context=e}kD.prototype={areaStart:Jv,areaEnd:Jv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Qv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Aq(e){return new kD(e)}function SD(e){this._context=e}SD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Qv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Eq(e){return new SD(e)}function _D(e){this._context=e}_D.prototype={areaStart:Jv,areaEnd:Jv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Cq(e){return new _D(e)}function uA(e){return e<0?-1:1}function dA(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(uA(i)+uA(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function fA(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function aw(e,t,r){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,s+l*t,i-l,o-l*r,i,o)}function Zv(e){this._context=e}Zv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:aw(this,this._t0,fA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,aw(this,fA(this,r=dA(this,e,t)),r);break;default:aw(this,this._t0,r=dA(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function AD(e){this._context=new ED(e)}(AD.prototype=Object.create(Zv.prototype)).point=function(e,t){Zv.prototype.point.call(this,t,e)};function ED(e){this._context=e}ED.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function Tq(e){return new Zv(e)}function Oq(e){return new AD(e)}function CD(e){this._context=e}CD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=hA(e),s=hA(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function hA(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function Pq(e){return new CD(e)}function by(e,t){this._context=e,this._t=t}by.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Iq(e){return new by(e,.5)}function Dq(e){return new by(e,0)}function Lq(e){return new by(e,1)}function sp(e,t){if((o=e.length)>1)for(var r=1,n,s,i=e[t[0]],o,l=i.length;r<o;++r)for(s=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function Lj(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Fq(e,t){return e[t]}function Mq(e){const t=[];return t.key=e,t}function Rq(){var e=Ka([]),t=Lj,r=sp,n=Fq;function s(i){var o=Array.from(e.apply(this,arguments),Mq),l,c=o.length,u=-1,d;for(const h of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(h,o[l].key,u,i)]).data=h;for(l=0,d=Pk(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Ka(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:Ka(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?Lj:typeof i=="function"?i:Ka(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??sp,s):r},s}function Bq(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}sp(e,t)}}function Uq(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}sp(e,t)}}function qq(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],h=d[n][1]||0,m=d[n-1][1]||0,p=(h-m)/2,y=0;y<l;++y){var v=e[t[y]],g=v[n][1]||0,b=v[n-1][1]||0;p+=g-b}c+=h,u+=p*h}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,sp(e,t)}}function Jm(e){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jm(e)}var $q=["type","size","sizeType"];function Fj(){return Fj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fj.apply(this,arguments)}function pA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function mA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pA(Object(r),!0).forEach(function(n){zq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zq(e,t,r){return t=Hq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hq(e){var t=Wq(e,"string");return Jm(t)=="symbol"?t:t+""}function Wq(e,t){if(Jm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vq(e,t){if(e==null)return{};var r=Gq(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Gq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var TD={symbolCircle:Ik,symbolCross:pq,symbolDiamond:xq,symbolSquare:gq,symbolStar:wq,symbolTriangle:Nq,symbolWye:kq},Kq=Math.PI/180,Xq=function(t){var r="symbol".concat(gy(t));return TD[r]||Ik},Yq=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*Kq;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Jq=function(t,r){TD["symbol".concat(gy(t))]=r},Dk=function(t){var r=t.type,n=r===void 0?"circle":r,s=t.size,i=s===void 0?64:s,o=t.sizeType,l=o===void 0?"area":o,c=Vq(t,$q),u=mA(mA({},c),{},{type:n,size:i,sizeType:l}),d=function(){var g=Xq(n),b=Sq().type(g).size(Yq(i,l,n));return b()},h=u.className,m=u.cx,p=u.cy,y=Un(u,!0);return m===+m&&p===+p&&i===+i?it.createElement("path",Fj({},y,{className:xa("recharts-symbols",h),transform:"translate(".concat(m,", ").concat(p,")"),d:d()})):null};Dk.registerSymbol=Jq;function ip(e){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ip(e)}function Mj(){return Mj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mj.apply(this,arguments)}function xA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Qq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xA(Object(r),!0).forEach(function(n){Qm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PD(n.key),n)}}function t$(e,t,r){return t&&e$(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function r$(e,t,r){return t=e1(t),n$(e,OD()?Reflect.construct(t,r||[],e1(e).constructor):t.apply(e,r))}function n$(e,t){if(t&&(ip(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a$(e)}function a$(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OD=function(){return!!e})()}function e1(e){return e1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},e1(e)}function s$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rj(e,t)}function Rj(e,t){return Rj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Rj(e,t)}function Qm(e,t,r){return t=PD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PD(e){var t=i$(e,"string");return ip(t)=="symbol"?t:t+""}function i$(e,t){if(ip(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var wc=32,Lk=(function(e){function t(){return Zq(this,t),r$(this,t,arguments)}return s$(t,e),t$(t,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,i=wc/2,o=wc/6,l=wc/3,c=n.inactive?s:n.color;if(n.type==="plainline")return it.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:wc,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return it.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(wc,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return it.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(wc/8,"h").concat(wc,"v").concat(wc*3/4,"h").concat(-wc,"z"),className:"recharts-legend-icon"});if(it.isValidElement(n.legendIcon)){var u=Qq({},n);return delete u.legendIcon,it.cloneElement(n.legendIcon,u)}return it.createElement(Dk,{fill:c,cx:i,cy:i,size:wc,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,d={x:0,y:0,width:wc,height:wc},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,y){var v=p.formatter||c,g=xa(Qm(Qm({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=An(p.value)?null:p.value;Hd(!An(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=p.inactive?u:p.color;return it.createElement("li",Mj({className:g,style:h,key:"legend-item-".concat(y)},Kv(n.props,p,y)),it.createElement(Tj,{width:o,height:o,viewBox:d,style:m},n.renderIcon(p)),it.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},v?v(b,p,y):b))})}},{key:"render",value:function(){var n=this.props,s=n.payload,i=n.layout,o=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return it.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(z.PureComponent);Qm(Lk,"displayName","Legend");Qm(Lk,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var sw,gA;function o$(){if(gA)return sw;gA=1;var e=py();function t(){this.__data__=new e,this.size=0}return sw=t,sw}var iw,vA;function l$(){if(vA)return iw;vA=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return iw=e,iw}var ow,yA;function c$(){if(yA)return ow;yA=1;function e(t){return this.__data__.get(t)}return ow=e,ow}var lw,bA;function u$(){if(bA)return lw;bA=1;function e(t){return this.__data__.has(t)}return lw=e,lw}var cw,wA;function d$(){if(wA)return cw;wA=1;var e=py(),t=Sk(),r=_k(),n=200;function s(i,o){var l=this.__data__;if(l instanceof e){var c=l.__data__;if(!t||c.length<n-1)return c.push([i,o]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(i,o),this.size=l.size,this}return cw=s,cw}var uw,NA;function ID(){if(NA)return uw;NA=1;var e=py(),t=o$(),r=l$(),n=c$(),s=u$(),i=d$();function o(l){var c=this.__data__=new e(l);this.size=c.size}return o.prototype.clear=t,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=s,o.prototype.set=i,uw=o,uw}var dw,jA;function f$(){if(jA)return dw;jA=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return dw=t,dw}var fw,kA;function h$(){if(kA)return fw;kA=1;function e(t){return this.__data__.has(t)}return fw=e,fw}var hw,SA;function DD(){if(SA)return hw;SA=1;var e=_k(),t=f$(),r=h$();function n(s){var i=-1,o=s==null?0:s.length;for(this.__data__=new e;++i<o;)this.add(s[i])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,hw=n,hw}var pw,_A;function LD(){if(_A)return pw;_A=1;function e(t,r){for(var n=-1,s=t==null?0:t.length;++n<s;)if(r(t[n],n,t))return!0;return!1}return pw=e,pw}var mw,AA;function FD(){if(AA)return mw;AA=1;function e(t,r){return t.has(r)}return mw=e,mw}var xw,EA;function MD(){if(EA)return xw;EA=1;var e=DD(),t=LD(),r=FD(),n=1,s=2;function i(o,l,c,u,d,h){var m=c&n,p=o.length,y=l.length;if(p!=y&&!(m&&y>p))return!1;var v=h.get(o),g=h.get(l);if(v&&g)return v==l&&g==o;var b=-1,w=!0,j=c&s?new e:void 0;for(h.set(o,l),h.set(l,o);++b<p;){var N=o[b],k=l[b];if(u)var P=m?u(k,N,b,l,o,h):u(N,k,b,o,l,h);if(P!==void 0){if(P)continue;w=!1;break}if(j){if(!t(l,function(A,O){if(!r(j,O)&&(N===A||d(N,A,c,u,h)))return j.push(O)})){w=!1;break}}else if(!(N===k||d(N,k,c,u,h))){w=!1;break}}return h.delete(o),h.delete(l),w}return xw=i,xw}var gw,CA;function p$(){if(CA)return gw;CA=1;var e=dd(),t=e.Uint8Array;return gw=t,gw}var vw,TA;function m$(){if(TA)return vw;TA=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(s,i){n[++r]=[i,s]}),n}return vw=e,vw}var yw,OA;function Fk(){if(OA)return yw;OA=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(s){n[++r]=s}),n}return yw=e,yw}var bw,PA;function x$(){if(PA)return bw;PA=1;var e=Xx(),t=p$(),r=kk(),n=MD(),s=m$(),i=Fk(),o=1,l=2,c="[object Boolean]",u="[object Date]",d="[object Error]",h="[object Map]",m="[object Number]",p="[object RegExp]",y="[object Set]",v="[object String]",g="[object Symbol]",b="[object ArrayBuffer]",w="[object DataView]",j=e?e.prototype:void 0,N=j?j.valueOf:void 0;function k(P,A,O,D,R,C,T){switch(O){case w:if(P.byteLength!=A.byteLength||P.byteOffset!=A.byteOffset)return!1;P=P.buffer,A=A.buffer;case b:return!(P.byteLength!=A.byteLength||!C(new t(P),new t(A)));case c:case u:case m:return r(+P,+A);case d:return P.name==A.name&&P.message==A.message;case p:case v:return P==A+"";case h:var I=s;case y:var B=D&o;if(I||(I=i),P.size!=A.size&&!B)return!1;var X=T.get(P);if(X)return X==A;D|=l,T.set(P,A);var re=n(I(P),I(A),D,R,C,T);return T.delete(P),re;case g:if(N)return N.call(P)==N.call(A)}return!1}return bw=k,bw}var ww,IA;function RD(){if(IA)return ww;IA=1;function e(t,r){for(var n=-1,s=r.length,i=t.length;++n<s;)t[i+n]=r[n];return t}return ww=e,ww}var Nw,DA;function g$(){if(DA)return Nw;DA=1;var e=RD(),t=Al();function r(n,s,i){var o=s(n);return t(n)?o:e(o,i(n))}return Nw=r,Nw}var jw,LA;function v$(){if(LA)return jw;LA=1;function e(t,r){for(var n=-1,s=t==null?0:t.length,i=0,o=[];++n<s;){var l=t[n];r(l,n,t)&&(o[i++]=l)}return o}return jw=e,jw}var kw,FA;function y$(){if(FA)return kw;FA=1;function e(){return[]}return kw=e,kw}var Sw,MA;function b$(){if(MA)return Sw;MA=1;var e=v$(),t=y$(),r=Object.prototype,n=r.propertyIsEnumerable,s=Object.getOwnPropertySymbols,i=s?function(o){return o==null?[]:(o=Object(o),e(s(o),function(l){return n.call(o,l)}))}:t;return Sw=i,Sw}var _w,RA;function w$(){if(RA)return _w;RA=1;function e(t,r){for(var n=-1,s=Array(t);++n<t;)s[n]=r(n);return s}return _w=e,_w}var Aw,BA;function N$(){if(BA)return Aw;BA=1;var e=rf(),t=nf(),r="[object Arguments]";function n(s){return t(s)&&e(s)==r}return Aw=n,Aw}var Ew,UA;function Mk(){if(UA)return Ew;UA=1;var e=N$(),t=nf(),r=Object.prototype,n=r.hasOwnProperty,s=r.propertyIsEnumerable,i=e((function(){return arguments})())?e:function(o){return t(o)&&n.call(o,"callee")&&!s.call(o,"callee")};return Ew=i,Ew}var Sm={exports:{}},Cw,qA;function j$(){if(qA)return Cw;qA=1;function e(){return!1}return Cw=e,Cw}Sm.exports;var $A;function BD(){return $A||($A=1,(function(e,t){var r=dd(),n=j$(),s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Sm,Sm.exports)),Sm.exports}var Tw,zA;function Rk(){if(zA)return Tw;zA=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,s){var i=typeof n;return s=s??e,!!s&&(i=="number"||i!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<s}return Tw=r,Tw}var Ow,HA;function Bk(){if(HA)return Ow;HA=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return Ow=t,Ow}var Pw,WA;function k$(){if(WA)return Pw;WA=1;var e=rf(),t=Bk(),r=nf(),n="[object Arguments]",s="[object Array]",i="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",u="[object Map]",d="[object Number]",h="[object Object]",m="[object RegExp]",p="[object Set]",y="[object String]",v="[object WeakMap]",g="[object ArrayBuffer]",b="[object DataView]",w="[object Float32Array]",j="[object Float64Array]",N="[object Int8Array]",k="[object Int16Array]",P="[object Int32Array]",A="[object Uint8Array]",O="[object Uint8ClampedArray]",D="[object Uint16Array]",R="[object Uint32Array]",C={};C[w]=C[j]=C[N]=C[k]=C[P]=C[A]=C[O]=C[D]=C[R]=!0,C[n]=C[s]=C[g]=C[i]=C[b]=C[o]=C[l]=C[c]=C[u]=C[d]=C[h]=C[m]=C[p]=C[y]=C[v]=!1;function T(I){return r(I)&&t(I.length)&&!!C[e(I)]}return Pw=T,Pw}var Iw,VA;function UD(){if(VA)return Iw;VA=1;function e(t){return function(r){return t(r)}}return Iw=e,Iw}var _m={exports:{}};_m.exports;var GA;function S$(){return GA||(GA=1,(function(e,t){var r=sD(),n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===n,o=i&&r.process,l=(function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();e.exports=l})(_m,_m.exports)),_m.exports}var Dw,KA;function qD(){if(KA)return Dw;KA=1;var e=k$(),t=UD(),r=S$(),n=r&&r.isTypedArray,s=n?t(n):e;return Dw=s,Dw}var Lw,XA;function _$(){if(XA)return Lw;XA=1;var e=w$(),t=Mk(),r=Al(),n=BD(),s=Rk(),i=qD(),o=Object.prototype,l=o.hasOwnProperty;function c(u,d){var h=r(u),m=!h&&t(u),p=!h&&!m&&n(u),y=!h&&!m&&!p&&i(u),v=h||m||p||y,g=v?e(u.length,String):[],b=g.length;for(var w in u)(d||l.call(u,w))&&!(v&&(w=="length"||p&&(w=="offset"||w=="parent")||y&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||s(w,b)))&&g.push(w);return g}return Lw=c,Lw}var Fw,YA;function A$(){if(YA)return Fw;YA=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,s=typeof n=="function"&&n.prototype||e;return r===s}return Fw=t,Fw}var Mw,JA;function $D(){if(JA)return Mw;JA=1;function e(t,r){return function(n){return t(r(n))}}return Mw=e,Mw}var Rw,QA;function E$(){if(QA)return Rw;QA=1;var e=$D(),t=e(Object.keys,Object);return Rw=t,Rw}var Bw,ZA;function C$(){if(ZA)return Bw;ZA=1;var e=A$(),t=E$(),r=Object.prototype,n=r.hasOwnProperty;function s(i){if(!e(i))return t(i);var o=[];for(var l in Object(i))n.call(i,l)&&l!="constructor"&&o.push(l);return o}return Bw=s,Bw}var Uw,eE;function Qx(){if(eE)return Uw;eE=1;var e=jk(),t=Bk();function r(n){return n!=null&&t(n.length)&&!e(n)}return Uw=r,Uw}var qw,tE;function wy(){if(tE)return qw;tE=1;var e=_$(),t=C$(),r=Qx();function n(s){return r(s)?e(s):t(s)}return qw=n,qw}var $w,rE;function T$(){if(rE)return $w;rE=1;var e=g$(),t=b$(),r=wy();function n(s){return e(s,r,t)}return $w=n,$w}var zw,nE;function O$(){if(nE)return zw;nE=1;var e=T$(),t=1,r=Object.prototype,n=r.hasOwnProperty;function s(i,o,l,c,u,d){var h=l&t,m=e(i),p=m.length,y=e(o),v=y.length;if(p!=v&&!h)return!1;for(var g=p;g--;){var b=m[g];if(!(h?b in o:n.call(o,b)))return!1}var w=d.get(i),j=d.get(o);if(w&&j)return w==o&&j==i;var N=!0;d.set(i,o),d.set(o,i);for(var k=h;++g<p;){b=m[g];var P=i[b],A=o[b];if(c)var O=h?c(A,P,b,o,i,d):c(P,A,b,i,o,d);if(!(O===void 0?P===A||u(P,A,l,c,d):O)){N=!1;break}k||(k=b=="constructor")}if(N&&!k){var D=i.constructor,R=o.constructor;D!=R&&"constructor"in i&&"constructor"in o&&!(typeof D=="function"&&D instanceof D&&typeof R=="function"&&R instanceof R)&&(N=!1)}return d.delete(i),d.delete(o),N}return zw=s,zw}var Hw,aE;function P$(){if(aE)return Hw;aE=1;var e=ah(),t=dd(),r=e(t,"DataView");return Hw=r,Hw}var Ww,sE;function I$(){if(sE)return Ww;sE=1;var e=ah(),t=dd(),r=e(t,"Promise");return Ww=r,Ww}var Vw,iE;function zD(){if(iE)return Vw;iE=1;var e=ah(),t=dd(),r=e(t,"Set");return Vw=r,Vw}var Gw,oE;function D$(){if(oE)return Gw;oE=1;var e=ah(),t=dd(),r=e(t,"WeakMap");return Gw=r,Gw}var Kw,lE;function L$(){if(lE)return Kw;lE=1;var e=P$(),t=Sk(),r=I$(),n=zD(),s=D$(),i=rf(),o=iD(),l="[object Map]",c="[object Object]",u="[object Promise]",d="[object Set]",h="[object WeakMap]",m="[object DataView]",p=o(e),y=o(t),v=o(r),g=o(n),b=o(s),w=i;return(e&&w(new e(new ArrayBuffer(1)))!=m||t&&w(new t)!=l||r&&w(r.resolve())!=u||n&&w(new n)!=d||s&&w(new s)!=h)&&(w=function(j){var N=i(j),k=N==c?j.constructor:void 0,P=k?o(k):"";if(P)switch(P){case p:return m;case y:return l;case v:return u;case g:return d;case b:return h}return N}),Kw=w,Kw}var Xw,cE;function F$(){if(cE)return Xw;cE=1;var e=ID(),t=MD(),r=x$(),n=O$(),s=L$(),i=Al(),o=BD(),l=qD(),c=1,u="[object Arguments]",d="[object Array]",h="[object Object]",m=Object.prototype,p=m.hasOwnProperty;function y(v,g,b,w,j,N){var k=i(v),P=i(g),A=k?d:s(v),O=P?d:s(g);A=A==u?h:A,O=O==u?h:O;var D=A==h,R=O==h,C=A==O;if(C&&o(v)){if(!o(g))return!1;k=!0,D=!1}if(C&&!D)return N||(N=new e),k||l(v)?t(v,g,b,w,j,N):r(v,g,A,b,w,j,N);if(!(b&c)){var T=D&&p.call(v,"__wrapped__"),I=R&&p.call(g,"__wrapped__");if(T||I){var B=T?v.value():v,X=I?g.value():g;return N||(N=new e),j(B,X,b,w,N)}}return C?(N||(N=new e),n(v,g,b,w,j,N)):!1}return Xw=y,Xw}var Yw,uE;function Uk(){if(uE)return Yw;uE=1;var e=F$(),t=nf();function r(n,s,i,o,l){return n===s?!0:n==null||s==null||!t(n)&&!t(s)?n!==n&&s!==s:e(n,s,i,o,r,l)}return Yw=r,Yw}var Jw,dE;function M$(){if(dE)return Jw;dE=1;var e=ID(),t=Uk(),r=1,n=2;function s(i,o,l,c){var u=l.length,d=u,h=!c;if(i==null)return!d;for(i=Object(i);u--;){var m=l[u];if(h&&m[2]?m[1]!==i[m[0]]:!(m[0]in i))return!1}for(;++u<d;){m=l[u];var p=m[0],y=i[p],v=m[1];if(h&&m[2]){if(y===void 0&&!(p in i))return!1}else{var g=new e;if(c)var b=c(y,v,p,i,o,g);if(!(b===void 0?t(v,y,r|n,c,g):b))return!1}}return!0}return Jw=s,Jw}var Qw,fE;function HD(){if(fE)return Qw;fE=1;var e=Zf();function t(r){return r===r&&!e(r)}return Qw=t,Qw}var Zw,hE;function R$(){if(hE)return Zw;hE=1;var e=HD(),t=wy();function r(n){for(var s=t(n),i=s.length;i--;){var o=s[i],l=n[o];s[i]=[o,l,e(l)]}return s}return Zw=r,Zw}var e5,pE;function WD(){if(pE)return e5;pE=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return e5=e,e5}var t5,mE;function B$(){if(mE)return t5;mE=1;var e=M$(),t=R$(),r=WD();function n(s){var i=t(s);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(o){return o===s||e(o,s,i)}}return t5=n,t5}var r5,xE;function U$(){if(xE)return r5;xE=1;function e(t,r){return t!=null&&r in Object(t)}return r5=e,r5}var n5,gE;function q$(){if(gE)return n5;gE=1;var e=cD(),t=Mk(),r=Al(),n=Rk(),s=Bk(),i=xy();function o(l,c,u){c=e(c,l);for(var d=-1,h=c.length,m=!1;++d<h;){var p=i(c[d]);if(!(m=l!=null&&u(l,p)))break;l=l[p]}return m||++d!=h?m:(h=l==null?0:l.length,!!h&&s(h)&&n(p,h)&&(r(l)||t(l)))}return n5=o,n5}var a5,vE;function $$(){if(vE)return a5;vE=1;var e=U$(),t=q$();function r(n,s){return n!=null&&t(n,s,e)}return a5=r,a5}var s5,yE;function z$(){if(yE)return s5;yE=1;var e=Uk(),t=uD(),r=$$(),n=Nk(),s=HD(),i=WD(),o=xy(),l=1,c=2;function u(d,h){return n(d)&&s(h)?i(o(d),h):function(m){var p=t(m,d);return p===void 0&&p===h?r(m,d):e(h,p,l|c)}}return s5=u,s5}var i5,bE;function Fp(){if(bE)return i5;bE=1;function e(t){return t}return i5=e,i5}var o5,wE;function H$(){if(wE)return o5;wE=1;function e(t){return function(r){return r?.[t]}}return o5=e,o5}var l5,NE;function W$(){if(NE)return l5;NE=1;var e=Ek();function t(r){return function(n){return e(n,r)}}return l5=t,l5}var c5,jE;function V$(){if(jE)return c5;jE=1;var e=H$(),t=W$(),r=Nk(),n=xy();function s(i){return r(i)?e(n(i)):t(i)}return c5=s,c5}var u5,kE;function e0(){if(kE)return u5;kE=1;var e=B$(),t=z$(),r=Fp(),n=Al(),s=V$();function i(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?t(o[0],o[1]):e(o):s(o)}return u5=i,u5}var d5,SE;function VD(){if(SE)return d5;SE=1;function e(t,r,n,s){for(var i=t.length,o=n+(s?1:-1);s?o--:++o<i;)if(r(t[o],o,t))return o;return-1}return d5=e,d5}var f5,_E;function G$(){if(_E)return f5;_E=1;function e(t){return t!==t}return f5=e,f5}var h5,AE;function K$(){if(AE)return h5;AE=1;function e(t,r,n){for(var s=n-1,i=t.length;++s<i;)if(t[s]===r)return s;return-1}return h5=e,h5}var p5,EE;function X$(){if(EE)return p5;EE=1;var e=VD(),t=G$(),r=K$();function n(s,i,o){return i===i?r(s,i,o):e(s,t,o)}return p5=n,p5}var m5,CE;function Y$(){if(CE)return m5;CE=1;var e=X$();function t(r,n){var s=r==null?0:r.length;return!!s&&e(r,n,0)>-1}return m5=t,m5}var x5,TE;function J$(){if(TE)return x5;TE=1;function e(t,r,n){for(var s=-1,i=t==null?0:t.length;++s<i;)if(n(r,t[s]))return!0;return!1}return x5=e,x5}var g5,OE;function Q$(){if(OE)return g5;OE=1;function e(){}return g5=e,g5}var v5,PE;function Z$(){if(PE)return v5;PE=1;var e=zD(),t=Q$(),r=Fk(),n=1/0,s=e&&1/r(new e([,-0]))[1]==n?function(i){return new e(i)}:t;return v5=s,v5}var y5,IE;function ez(){if(IE)return y5;IE=1;var e=DD(),t=Y$(),r=J$(),n=FD(),s=Z$(),i=Fk(),o=200;function l(c,u,d){var h=-1,m=t,p=c.length,y=!0,v=[],g=v;if(d)y=!1,m=r;else if(p>=o){var b=u?null:s(c);if(b)return i(b);y=!1,m=n,g=new e}else g=u?[]:v;e:for(;++h<p;){var w=c[h],j=u?u(w):w;if(w=d||w!==0?w:0,y&&j===j){for(var N=g.length;N--;)if(g[N]===j)continue e;u&&g.push(j),v.push(w)}else m(g,j,d)||(g!==v&&g.push(j),v.push(w))}return v}return y5=l,y5}var b5,DE;function tz(){if(DE)return b5;DE=1;var e=e0(),t=ez();function r(n,s){return n&&n.length?t(n,e(s,2)):[]}return b5=r,b5}var rz=tz();const LE=Ia(rz);function GD(e,t,r){return t===!0?LE(e,r):An(t)?LE(e,t):e}function op(e){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},op(e)}var nz=["ref"];function FE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Od(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FE(Object(r),!0).forEach(function(n){Ny(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function az(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ME(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XD(n.key),n)}}function sz(e,t,r){return t&&ME(e.prototype,t),r&&ME(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function iz(e,t,r){return t=t1(t),oz(e,KD()?Reflect.construct(t,r||[],t1(e).constructor):t.apply(e,r))}function oz(e,t){if(t&&(op(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lz(e)}function lz(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KD=function(){return!!e})()}function t1(e){return t1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},t1(e)}function cz(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bj(e,t)}function Bj(e,t){return Bj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Bj(e,t)}function Ny(e,t,r){return t=XD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XD(e){var t=uz(e,"string");return op(t)=="symbol"?t:t+""}function uz(e,t){if(op(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function dz(e,t){if(e==null)return{};var r=fz(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fz(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hz(e){return e.value}function pz(e,t){if(it.isValidElement(e))return it.cloneElement(e,t);if(typeof e=="function")return it.createElement(e,t);t.ref;var r=dz(t,nz);return it.createElement(Lk,r)}var RE=1,Kh=(function(e){function t(){var r;az(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=iz(this,t,[].concat(s)),Ny(r,"lastBoundingBox",{width:-1,height:-1}),r}return cz(t,e),sz(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>RE||Math.abs(s.height-this.lastBoundingBox.height)>RE)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Od({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,d=s.chartHeight,h,m;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();h={left:((u||0)-p.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();m={top:((d||0)-y.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Od(Od({},h),m)}},{key:"render",value:function(){var n=this,s=this.props,i=s.content,o=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,d=s.payload,h=Od(Od({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return it.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(p){n.wrapperNode=p}},pz(i,Od(Od({},this.props),{},{payload:GD(d,u,hz)})))}}],[{key:"getWithHeight",value:function(n,s){var i=Od(Od({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&hr(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||s}:null}}])})(z.PureComponent);Ny(Kh,"displayName","Legend");Ny(Kh,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var w5,BE;function mz(){if(BE)return w5;BE=1;var e=Xx(),t=Mk(),r=Al(),n=e?e.isConcatSpreadable:void 0;function s(i){return r(i)||t(i)||!!(n&&i&&i[n])}return w5=s,w5}var N5,UE;function YD(){if(UE)return N5;UE=1;var e=RD(),t=mz();function r(n,s,i,o,l){var c=-1,u=n.length;for(i||(i=t),l||(l=[]);++c<u;){var d=n[c];s>0&&i(d)?s>1?r(d,s-1,i,o,l):e(l,d):o||(l[l.length]=d)}return l}return N5=r,N5}var j5,qE;function xz(){if(qE)return j5;qE=1;function e(t){return function(r,n,s){for(var i=-1,o=Object(r),l=s(r),c=l.length;c--;){var u=l[t?c:++i];if(n(o[u],u,o)===!1)break}return r}}return j5=e,j5}var k5,$E;function gz(){if($E)return k5;$E=1;var e=xz(),t=e();return k5=t,k5}var S5,zE;function JD(){if(zE)return S5;zE=1;var e=gz(),t=wy();function r(n,s){return n&&e(n,s,t)}return S5=r,S5}var _5,HE;function vz(){if(HE)return _5;HE=1;var e=Qx();function t(r,n){return function(s,i){if(s==null)return s;if(!e(s))return r(s,i);for(var o=s.length,l=n?o:-1,c=Object(s);(n?l--:++l<o)&&i(c[l],l,c)!==!1;);return s}}return _5=t,_5}var A5,WE;function qk(){if(WE)return A5;WE=1;var e=JD(),t=vz(),r=t(e);return A5=r,A5}var E5,VE;function QD(){if(VE)return E5;VE=1;var e=qk(),t=Qx();function r(n,s){var i=-1,o=t(n)?Array(n.length):[];return e(n,function(l,c,u){o[++i]=s(l,c,u)}),o}return E5=r,E5}var C5,GE;function yz(){if(GE)return C5;GE=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return C5=e,C5}var T5,KE;function bz(){if(KE)return T5;KE=1;var e=Ip();function t(r,n){if(r!==n){var s=r!==void 0,i=r===null,o=r===r,l=e(r),c=n!==void 0,u=n===null,d=n===n,h=e(n);if(!u&&!h&&!l&&r>n||l&&c&&d&&!u&&!h||i&&c&&d||!s&&d||!o)return 1;if(!i&&!l&&!h&&r<n||h&&s&&o&&!i&&!l||u&&s&&o||!c&&o||!d)return-1}return 0}return T5=t,T5}var O5,XE;function wz(){if(XE)return O5;XE=1;var e=bz();function t(r,n,s){for(var i=-1,o=r.criteria,l=n.criteria,c=o.length,u=s.length;++i<c;){var d=e(o[i],l[i]);if(d){if(i>=u)return d;var h=s[i];return d*(h=="desc"?-1:1)}}return r.index-n.index}return O5=t,O5}var P5,YE;function Nz(){if(YE)return P5;YE=1;var e=Ak(),t=Ek(),r=e0(),n=QD(),s=yz(),i=UD(),o=wz(),l=Fp(),c=Al();function u(d,h,m){h.length?h=e(h,function(v){return c(v)?function(g){return t(g,v.length===1?v[0]:v)}:v}):h=[l];var p=-1;h=e(h,i(r));var y=n(d,function(v,g,b){var w=e(h,function(j){return j(v)});return{criteria:w,index:++p,value:v}});return s(y,function(v,g){return o(v,g,m)})}return P5=u,P5}var I5,JE;function jz(){if(JE)return I5;JE=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return I5=e,I5}var D5,QE;function kz(){if(QE)return D5;QE=1;var e=jz(),t=Math.max;function r(n,s,i){return s=t(s===void 0?n.length-1:s,0),function(){for(var o=arguments,l=-1,c=t(o.length-s,0),u=Array(c);++l<c;)u[l]=o[s+l];l=-1;for(var d=Array(s+1);++l<s;)d[l]=o[l];return d[s]=i(u),e(n,this,d)}}return D5=r,D5}var L5,ZE;function Sz(){if(ZE)return L5;ZE=1;function e(t){return function(){return t}}return L5=e,L5}var F5,eC;function ZD(){if(eC)return F5;eC=1;var e=ah(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return F5=t,F5}var M5,tC;function _z(){if(tC)return M5;tC=1;var e=Sz(),t=ZD(),r=Fp(),n=t?function(s,i){return t(s,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:r;return M5=n,M5}var R5,rC;function Az(){if(rC)return R5;rC=1;var e=800,t=16,r=Date.now;function n(s){var i=0,o=0;return function(){var l=r(),c=t-(l-o);if(o=l,c>0){if(++i>=e)return arguments[0]}else i=0;return s.apply(void 0,arguments)}}return R5=n,R5}var B5,nC;function Ez(){if(nC)return B5;nC=1;var e=_z(),t=Az(),r=t(e);return B5=r,B5}var U5,aC;function Cz(){if(aC)return U5;aC=1;var e=Fp(),t=kz(),r=Ez();function n(s,i){return r(t(s,i,e),s+"")}return U5=n,U5}var q5,sC;function jy(){if(sC)return q5;sC=1;var e=kk(),t=Qx(),r=Rk(),n=Zf();function s(i,o,l){if(!n(l))return!1;var c=typeof o;return(c=="number"?t(l)&&r(o,l.length):c=="string"&&o in l)?e(l[o],i):!1}return q5=s,q5}var $5,iC;function Tz(){if(iC)return $5;iC=1;var e=YD(),t=Nz(),r=Cz(),n=jy(),s=r(function(i,o){if(i==null)return[];var l=o.length;return l>1&&n(i,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),t(i,e(o,1),[])});return $5=s,$5}var Oz=Tz();const $k=Ia(Oz);function Zm(e){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zm(e)}function Uj(){return Uj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uj.apply(this,arguments)}function Pz(e,t){return Fz(e)||Lz(e,t)||Dz(e,t)||Iz()}function Iz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dz(e,t){if(e){if(typeof e=="string")return oC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oC(e,t)}}function oC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Lz(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Fz(e){if(Array.isArray(e))return e}function lC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function z5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lC(Object(r),!0).forEach(function(n){Mz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mz(e,t,r){return t=Rz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rz(e){var t=Bz(e,"string");return Zm(t)=="symbol"?t:t+""}function Bz(e,t){if(Zm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uz(e){return Array.isArray(e)&&bi(e[0])&&bi(e[1])?e.join(" ~ "):e}var qz=function(t){var r=t.separator,n=r===void 0?" : ":r,s=t.contentStyle,i=s===void 0?{}:s,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,h=t.formatter,m=t.itemSorter,p=t.wrapperClassName,y=t.labelClassName,v=t.label,g=t.labelFormatter,b=t.accessibilityLayer,w=b===void 0?!1:b,j=function(){if(d&&d.length){var T={padding:0,margin:0},I=(m?$k(d,m):d).map(function(B,X){if(B.type==="none")return null;var re=z5({display:"block",paddingTop:4,paddingBottom:4,color:B.color||"#000"},l),Z=B.formatter||h||Uz,te=B.value,Y=B.name,Q=te,H=Y;if(Z&&Q!=null&&H!=null){var E=Z(te,Y,B,X,d);if(Array.isArray(E)){var q=Pz(E,2);Q=q[0],H=q[1]}else Q=E}return it.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(X),style:re},bi(H)?it.createElement("span",{className:"recharts-tooltip-item-name"},H):null,bi(H)?it.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,it.createElement("span",{className:"recharts-tooltip-item-value"},Q),it.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return it.createElement("ul",{className:"recharts-tooltip-item-list",style:T},I)}return null},N=z5({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),k=z5({margin:0},u),P=!Kn(v),A=P?v:"",O=xa("recharts-default-tooltip",p),D=xa("recharts-tooltip-label",y);P&&g&&d!==void 0&&d!==null&&(A=g(v,d));var R=w?{role:"status","aria-live":"assertive"}:{};return it.createElement("div",Uj({className:O,style:N},R),it.createElement("p",{className:D,style:k},it.isValidElement(A)?A:"".concat(A)),j())};function ex(e){"@babel/helpers - typeof";return ex=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ex(e)}function Wg(e,t,r){return t=$z(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $z(e){var t=zz(e,"string");return ex(t)=="symbol"?t:t+""}function zz(e,t){if(ex(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ex(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lm="recharts-tooltip-wrapper",Hz={visibility:"hidden"};function Wz(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return xa(lm,Wg(Wg(Wg(Wg({},"".concat(lm,"-right"),hr(r)&&t&&hr(t.x)&&r>=t.x),"".concat(lm,"-left"),hr(r)&&t&&hr(t.x)&&r<t.x),"".concat(lm,"-bottom"),hr(n)&&t&&hr(t.y)&&n>=t.y),"".concat(lm,"-top"),hr(n)&&t&&hr(t.y)&&n<t.y))}function cC(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&hr(i[n]))return i[n];var d=r[n]-l-s,h=r[n]+s;if(t[n])return o[n]?d:h;if(o[n]){var m=d,p=c[n];return m<p?Math.max(h,c[n]):Math.max(d,c[n])}var y=h+l,v=c[n]+u;return y>v?Math.max(d,c[n]):Math.max(h,c[n])}function Vz(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Gz(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,h;return o.height>0&&o.width>0&&r?(d=cC({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=cC({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=Vz({translateX:d,translateY:h,useTranslate3d:l})):u=Hz,{cssProperties:u,cssClasses:Wz({translateX:d,translateY:h,coordinate:r})}}function lp(e){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lp(e)}function uC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uC(Object(r),!0).forEach(function(n){$j(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tL(n.key),n)}}function Yz(e,t,r){return t&&Xz(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jz(e,t,r){return t=r1(t),Qz(e,eL()?Reflect.construct(t,r||[],r1(e).constructor):t.apply(e,r))}function Qz(e,t){if(t&&(lp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zz(e)}function Zz(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eL=function(){return!!e})()}function r1(e){return r1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},r1(e)}function eH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qj(e,t)}function qj(e,t){return qj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},qj(e,t)}function $j(e,t,r){return t=tL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tL(e){var t=tH(e,"string");return lp(t)=="symbol"?t:t+""}function tH(e,t){if(lp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fC=1,rH=(function(e){function t(){var r;Kz(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=Jz(this,t,[].concat(s)),$j(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),$j(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return eH(t,e),Yz(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>fC||Math.abs(n.height-this.state.lastBoundingBox.height)>fC)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,d=s.coordinate,h=s.hasPayload,m=s.isAnimationActive,p=s.offset,y=s.position,v=s.reverseDirection,g=s.useTranslate3d,b=s.viewBox,w=s.wrapperStyle,j=Gz({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:y,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:b}),N=j.cssClasses,k=j.cssProperties,P=dC(dC({transition:m&&i?"transform ".concat(l,"ms ").concat(c):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&h?"visible":"hidden",position:"absolute",top:0,left:0},w);return it.createElement("div",{tabIndex:-1,className:N,style:P,ref:function(O){n.wrapperNode=O}},u)}}])})(z.PureComponent),nH=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Mp={isSsr:nH()};function cp(e){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cp(e)}function hC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hC(Object(r),!0).forEach(function(n){zk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sH(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nL(n.key),n)}}function iH(e,t,r){return t&&sH(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function oH(e,t,r){return t=n1(t),lH(e,rL()?Reflect.construct(t,r||[],n1(e).constructor):t.apply(e,r))}function lH(e,t){if(t&&(cp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cH(e)}function cH(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rL=function(){return!!e})()}function n1(e){return n1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},n1(e)}function uH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zj(e,t)}function zj(e,t){return zj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},zj(e,t)}function zk(e,t,r){return t=nL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nL(e){var t=dH(e,"string");return cp(t)=="symbol"?t:t+""}function dH(e,t){if(cp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function fH(e){return e.dataKey}function hH(e,t){return it.isValidElement(e)?it.cloneElement(e,t):typeof e=="function"?it.createElement(e,t):it.createElement(qz,t)}var Ju=(function(e){function t(){return aH(this,t),oH(this,t,arguments)}return uH(t,e),iH(t,[{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,d=s.coordinate,h=s.filterNull,m=s.isAnimationActive,p=s.offset,y=s.payload,v=s.payloadUniqBy,g=s.position,b=s.reverseDirection,w=s.useTranslate3d,j=s.viewBox,N=s.wrapperStyle,k=y??[];h&&k.length&&(k=GD(y.filter(function(A){return A.value!=null&&(A.hide!==!0||n.props.includeHidden)}),v,fH));var P=k.length>0;return it.createElement(rH,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:m,active:i,coordinate:d,hasPayload:P,offset:p,position:g,reverseDirection:b,useTranslate3d:w,viewBox:j,wrapperStyle:N},hH(u,pC(pC({},this.props),{},{payload:k})))}}])})(z.PureComponent);zk(Ju,"displayName","Tooltip");zk(Ju,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Mp.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var H5,mC;function pH(){if(mC)return H5;mC=1;var e=dd(),t=function(){return e.Date.now()};return H5=t,H5}var W5,xC;function mH(){if(xC)return W5;xC=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return W5=t,W5}var V5,gC;function xH(){if(gC)return V5;gC=1;var e=mH(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return V5=r,V5}var G5,vC;function aL(){if(vC)return G5;vC=1;var e=xH(),t=Zf(),r=Ip(),n=NaN,s=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(u){if(typeof u=="number")return u;if(r(u))return n;if(t(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=t(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=e(u);var h=i.test(u);return h||o.test(u)?l(u.slice(2),h?2:8):s.test(u)?n:+u}return G5=c,G5}var K5,yC;function gH(){if(yC)return K5;yC=1;var e=Zf(),t=pH(),r=aL(),n="Expected a function",s=Math.max,i=Math.min;function o(l,c,u){var d,h,m,p,y,v,g=0,b=!1,w=!1,j=!0;if(typeof l!="function")throw new TypeError(n);c=r(c)||0,e(u)&&(b=!!u.leading,w="maxWait"in u,m=w?s(r(u.maxWait)||0,c):m,j="trailing"in u?!!u.trailing:j);function N(I){var B=d,X=h;return d=h=void 0,g=I,p=l.apply(X,B),p}function k(I){return g=I,y=setTimeout(O,c),b?N(I):p}function P(I){var B=I-v,X=I-g,re=c-B;return w?i(re,m-X):re}function A(I){var B=I-v,X=I-g;return v===void 0||B>=c||B<0||w&&X>=m}function O(){var I=t();if(A(I))return D(I);y=setTimeout(O,P(I))}function D(I){return y=void 0,j&&d?N(I):(d=h=void 0,p)}function R(){y!==void 0&&clearTimeout(y),g=0,d=v=h=y=void 0}function C(){return y===void 0?p:D(t())}function T(){var I=t(),B=A(I);if(d=arguments,h=this,v=I,B){if(y===void 0)return k(v);if(w)return clearTimeout(y),y=setTimeout(O,c),N(v)}return y===void 0&&(y=setTimeout(O,c)),p}return T.cancel=R,T.flush=C,T}return K5=o,K5}var X5,bC;function vH(){if(bC)return X5;bC=1;var e=gH(),t=Zf(),r="Expected a function";function n(s,i,o){var l=!0,c=!0;if(typeof s!="function")throw new TypeError(r);return t(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),e(s,i,{leading:l,maxWait:i,trailing:c})}return X5=n,X5}var yH=vH();const sL=Ia(yH);function tx(e){"@babel/helpers - typeof";return tx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tx(e)}function wC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Vg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wC(Object(r),!0).forEach(function(n){bH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bH(e,t,r){return t=wH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wH(e){var t=NH(e,"string");return tx(t)=="symbol"?t:t+""}function NH(e,t){if(tx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jH(e,t){return AH(e)||_H(e,t)||SH(e,t)||kH()}function kH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SH(e,t){if(e){if(typeof e=="string")return NC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NC(e,t)}}function NC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _H(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function AH(e){if(Array.isArray(e))return e}var EH=z.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,s=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,h=e.minHeight,m=e.maxHeight,p=e.children,y=e.debounce,v=y===void 0?0:y,g=e.id,b=e.className,w=e.onResize,j=e.style,N=j===void 0?{}:j,k=z.useRef(null),P=z.useRef();P.current=w,z.useImperativeHandle(t,function(){return Object.defineProperty(k.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),k.current},configurable:!0})});var A=z.useState({containerWidth:s.width,containerHeight:s.height}),O=jH(A,2),D=O[0],R=O[1],C=z.useCallback(function(I,B){R(function(X){var re=Math.round(I),Z=Math.round(B);return X.containerWidth===re&&X.containerHeight===Z?X:{containerWidth:re,containerHeight:Z}})},[]);z.useEffect(function(){var I=function(Y){var Q,H=Y[0].contentRect,E=H.width,q=H.height;C(E,q),(Q=P.current)===null||Q===void 0||Q.call(P,E,q)};v>0&&(I=sL(I,v,{trailing:!0,leading:!1}));var B=new ResizeObserver(I),X=k.current.getBoundingClientRect(),re=X.width,Z=X.height;return C(re,Z),B.observe(k.current),function(){B.disconnect()}},[C,v]);var T=z.useMemo(function(){var I=D.containerWidth,B=D.containerHeight;if(I<0||B<0)return null;Hd(E0(o)||E0(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Hd(!r||r>0,"The aspect(%s) must be greater than zero.",r);var X=E0(o)?I:o,re=E0(c)?B:c;r&&r>0&&(X?re=X/r:re&&(X=re*r),m&&re>m&&(re=m)),Hd(X>0||re>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,X,re,o,c,d,h,r);var Z=!Array.isArray(p)&&zd(p.type).endsWith("Chart");return it.Children.map(p,function(te){return dD.isElement(te)?z.cloneElement(te,Vg({width:X,height:re},Z?{style:Vg({height:"100%",width:"100%",maxHeight:re,maxWidth:X},te.props.style)}:{})):te})},[r,p,c,m,h,d,D,o]);return it.createElement("div",{id:g?"".concat(g):void 0,className:xa("recharts-responsive-container",b),style:Vg(Vg({},N),{},{width:o,height:c,minWidth:d,minHeight:h,maxHeight:m}),ref:k},T)}),iL=function(t){return null};iL.displayName="Cell";function rx(e){"@babel/helpers - typeof";return rx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rx(e)}function jC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Hj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jC(Object(r),!0).forEach(function(n){CH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CH(e,t,r){return t=TH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TH(e){var t=OH(e,"string");return rx(t)=="symbol"?t:t+""}function OH(e,t){if(rx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oh={widthCache:{},cacheCount:0},PH=2e3,IH={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},kC="recharts_measurement_span";function DH(e){var t=Hj({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Im=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Mp.isSsr)return{width:0,height:0};var n=DH(r),s=JSON.stringify({text:t,copyStyle:n});if(Oh.widthCache[s])return Oh.widthCache[s];try{var i=document.getElementById(kC);i||(i=document.createElement("span"),i.setAttribute("id",kC),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=Hj(Hj({},IH),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Oh.widthCache[s]=c,++Oh.cacheCount>PH&&(Oh.cacheCount=0,Oh.widthCache={}),c}catch{return{width:0,height:0}}},LH=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function nx(e){"@babel/helpers - typeof";return nx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nx(e)}function a1(e,t){return BH(e)||RH(e,t)||MH(e,t)||FH()}function FH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MH(e,t){if(e){if(typeof e=="string")return SC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SC(e,t)}}function SC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function RH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function BH(e){if(Array.isArray(e))return e}function UH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _C(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$H(n.key),n)}}function qH(e,t,r){return t&&_C(e.prototype,t),r&&_C(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $H(e){var t=zH(e,"string");return nx(t)=="symbol"?t:t+""}function zH(e,t){if(nx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var AC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,EC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,HH=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,WH=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,oL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},VH=Object.keys(oL),zh="NaN";function GH(e,t){return e*oL[t]}var Gg=(function(){function e(t,r){UH(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!HH.test(r)&&(this.num=NaN,this.unit=""),VH.includes(r)&&(this.num=GH(t,r),this.unit="px")}return qH(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=WH.exec(r))!==null&&n!==void 0?n:[],i=a1(s,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])})();function lL(e){if(e.includes(zh))return zh;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=AC.exec(t))!==null&&r!==void 0?r:[],s=a1(n,4),i=s[1],o=s[2],l=s[3],c=Gg.parse(i??""),u=Gg.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return zh;t=t.replace(AC,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,m=(h=EC.exec(t))!==null&&h!==void 0?h:[],p=a1(m,4),y=p[1],v=p[2],g=p[3],b=Gg.parse(y??""),w=Gg.parse(g??""),j=v==="+"?b.add(w):b.subtract(w);if(j.isNaN())return zh;t=t.replace(EC,j.toString())}return t}var CC=/\(([^()]*)\)/;function KH(e){for(var t=e;t.includes("(");){var r=CC.exec(t),n=a1(r,2),s=n[1];t=t.replace(CC,lL(s))}return t}function XH(e){var t=e.replace(/\s+/g,"");return t=KH(t),t=lL(t),t}function YH(e){try{return XH(e)}catch{return zh}}function Y5(e){var t=YH(e.slice(5,-1));return t===zh?"":t}var JH=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],QH=["dx","dy","angle","className","breakAll"];function Wj(){return Wj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wj.apply(this,arguments)}function TC(e,t){if(e==null)return{};var r=ZH(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ZH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function OC(e,t){return nW(e)||rW(e,t)||tW(e,t)||eW()}function eW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tW(e,t){if(e){if(typeof e=="string")return PC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PC(e,t)}}function PC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rW(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function nW(e){if(Array.isArray(e))return e}var cL=/[ \f\n\r\t\v\u2028\u2029]+/,uL=function(t){var r=t.children,n=t.breakAll,s=t.style;try{var i=[];Kn(r)||(n?i=r.toString().split(""):i=r.toString().split(cL));var o=i.map(function(c){return{word:c,width:Im(c,s).width}}),l=n?0:Im("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},aW=function(t,r,n,s,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=hr(o),h=l,m=function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return X.reduce(function(re,Z){var te=Z.word,Y=Z.width,Q=re[re.length-1];if(Q&&(s==null||i||Q.width+Y+n<Number(s)))Q.words.push(te),Q.width+=Y+n;else{var H={words:[te],width:Y};re.push(H)}return re},[])},p=m(r),y=function(X){return X.reduce(function(re,Z){return re.width>Z.width?re:Z})};if(!d)return p;for(var v="",g=function(X){var re=h.slice(0,X),Z=uL({breakAll:u,style:c,children:re+v}).wordsWithComputedWidth,te=m(Z),Y=te.length>o||y(te).width>Number(s);return[Y,te]},b=0,w=h.length-1,j=0,N;b<=w&&j<=h.length-1;){var k=Math.floor((b+w)/2),P=k-1,A=g(P),O=OC(A,2),D=O[0],R=O[1],C=g(k),T=OC(C,1),I=T[0];if(!D&&!I&&(b=k+1),D&&I&&(w=k-1),!D&&I){N=R;break}j++}return N||p},IC=function(t){var r=Kn(t)?[]:t.toString().split(cL);return[{words:r}]},sW=function(t){var r=t.width,n=t.scaleToFit,s=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!Mp.isSsr){var c,u,d=uL({breakAll:o,children:s,style:i});if(d){var h=d.wordsWithComputedWidth,m=d.spaceWidth;c=h,u=m}else return IC(s);return aW({breakAll:o,children:s,maxLines:l,style:i},c,u,r,n)}return IC(s)},DC="#808080",s1=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,h=d===void 0?!1:d,m=t.textAnchor,p=m===void 0?"start":m,y=t.verticalAnchor,v=y===void 0?"end":y,g=t.fill,b=g===void 0?DC:g,w=TC(t,JH),j=z.useMemo(function(){return sW({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:h,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,h,w.style,w.width]),N=w.dx,k=w.dy,P=w.angle,A=w.className,O=w.breakAll,D=TC(w,QH);if(!bi(n)||!bi(i))return null;var R=n+(hr(N)?N:0),C=i+(hr(k)?k:0),T;switch(v){case"start":T=Y5("calc(".concat(u,")"));break;case"middle":T=Y5("calc(".concat((j.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:T=Y5("calc(".concat(j.length-1," * -").concat(l,")"));break}var I=[];if(h){var B=j[0].width,X=w.width;I.push("scale(".concat((hr(X)?X/B:1)/B,")"))}return P&&I.push("rotate(".concat(P,", ").concat(R,", ").concat(C,")")),I.length&&(D.transform=I.join(" ")),it.createElement("text",Wj({},Un(D,!0),{x:R,y:C,className:xa("recharts-text",A),textAnchor:p,fill:b.includes("url")?DC:b}),j.map(function(re,Z){var te=re.words.join(O?"":" ");return it.createElement("tspan",{x:R,dy:Z===0?T:l,key:"".concat(te,"-").concat(Z)},te)}))};function $f(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function iW(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Hk(e){let t,r,n;e.length!==2?(t=$f,r=(l,c)=>$f(e(l),c),n=(l,c)=>e(l)-c):(t=e===$f||e===iW?e:oW,r=e,n=e);function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const h=u+d>>>1;r(l[h],c)<0?u=h+1:d=h}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const h=u+d>>>1;r(l[h],c)<=0?u=h+1:d=h}while(u<d)}return u}function o(l,c,u=0,d=l.length){const h=s(l,c,u,d-1);return h>u&&n(l[h-1],c)>-n(l[h],c)?h-1:h}return{left:s,center:o,right:i}}function oW(){return 0}function dL(e){return e===null?NaN:+e}function*lW(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const cW=Hk($f),Zx=cW.right;Hk(dL).center;class LC extends Map{constructor(t,r=fW){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(FC(this,t))}has(t){return super.has(FC(this,t))}set(t,r){return super.set(uW(this,t),r)}delete(t){return super.delete(dW(this,t))}}function FC({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function uW({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function dW({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function fW(e){return e!==null&&typeof e=="object"?e.valueOf():e}function hW(e=$f){if(e===$f)return fL;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function fL(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const pW=Math.sqrt(50),mW=Math.sqrt(10),xW=Math.sqrt(2);function i1(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=pW?10:i>=mW?5:i>=xW?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?i1(e,t,r*2):[l,c,u]}function Vj(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?i1(t,e,r):i1(e,t,r);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function Gj(e,t,r){return t=+t,e=+e,r=+r,i1(e,t,r)[2]}function Kj(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?Gj(t,e,r):Gj(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function MC(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function RC(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function hL(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?fL:hW(s);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),h=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*h*(c-h)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*h/c+m)),y=Math.min(n,Math.floor(t+(c-u)*h/c+m));hL(e,t,p,y,s)}const i=e[t];let o=r,l=n;for(cm(e,r,t),s(e[n],i)>0&&cm(e,r,n);o<l;){for(cm(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?cm(e,r,l):(++l,cm(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function cm(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function gW(e,t,r){if(e=Float64Array.from(lW(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return RC(e);if(t>=1)return MC(e);var n,s=(n-1)*t,i=Math.floor(s),o=MC(hL(e,i).subarray(0,i+1)),l=RC(e.subarray(i+1));return o+(l-o)*(s-i)}}function vW(e,t,r=dL){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function yW(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function Rc(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function af(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Xj=Symbol("implicit");function Wk(){var e=new LC,t=[],r=[],n=Xj;function s(i){let o=e.get(i);if(o===void 0){if(n!==Xj)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new LC;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return Wk(t,r).unknown(n)},Rc.apply(s,arguments),s}function ax(){var e=Wk().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function h(){var m=t().length,p=s<n,y=p?s:n,v=p?n:s;i=(v-y)/Math.max(1,m-c+u*2),l&&(i=Math.floor(i)),y+=(v-y-i*(m-c))*d,o=i*(1-c),l&&(y=Math.round(y),o=Math.round(o));var g=yW(m).map(function(b){return y+i*b});return r(p?g.reverse():g)}return e.domain=function(m){return arguments.length?(t(m),h()):t()},e.range=function(m){return arguments.length?([n,s]=m,n=+n,s=+s,h()):[n,s]},e.rangeRound=function(m){return[n,s]=m,n=+n,s=+s,l=!0,h()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(m){return arguments.length?(l=!!m,h()):l},e.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),h()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),h()):c},e.paddingOuter=function(m){return arguments.length?(u=+m,h()):u},e.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),h()):d},e.copy=function(){return ax(t(),[n,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},Rc.apply(h(),arguments)}function pL(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return pL(t())},e}function Dm(){return pL(ax.apply(null,arguments).paddingInner(1))}function Vk(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function mL(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function eg(){}var sx=.7,o1=1/sx,Xh="\\s*([+-]?\\d+)\\s*",ix="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",id="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",bW=/^#([0-9a-f]{3,8})$/,wW=new RegExp(`^rgb\\(${Xh},${Xh},${Xh}\\)$`),NW=new RegExp(`^rgb\\(${id},${id},${id}\\)$`),jW=new RegExp(`^rgba\\(${Xh},${Xh},${Xh},${ix}\\)$`),kW=new RegExp(`^rgba\\(${id},${id},${id},${ix}\\)$`),SW=new RegExp(`^hsl\\(${ix},${id},${id}\\)$`),_W=new RegExp(`^hsla\\(${ix},${id},${id},${ix}\\)$`),BC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Vk(eg,ox,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:UC,formatHex:UC,formatHex8:AW,formatHsl:EW,formatRgb:qC,toString:qC});function UC(){return this.rgb().formatHex()}function AW(){return this.rgb().formatHex8()}function EW(){return xL(this).formatHsl()}function qC(){return this.rgb().formatRgb()}function ox(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=bW.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?$C(t):r===3?new kl(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Kg(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Kg(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=wW.exec(e))?new kl(t[1],t[2],t[3],1):(t=NW.exec(e))?new kl(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=jW.exec(e))?Kg(t[1],t[2],t[3],t[4]):(t=kW.exec(e))?Kg(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=SW.exec(e))?WC(t[1],t[2]/100,t[3]/100,1):(t=_W.exec(e))?WC(t[1],t[2]/100,t[3]/100,t[4]):BC.hasOwnProperty(e)?$C(BC[e]):e==="transparent"?new kl(NaN,NaN,NaN,0):null}function $C(e){return new kl(e>>16&255,e>>8&255,e&255,1)}function Kg(e,t,r,n){return n<=0&&(e=t=r=NaN),new kl(e,t,r,n)}function CW(e){return e instanceof eg||(e=ox(e)),e?(e=e.rgb(),new kl(e.r,e.g,e.b,e.opacity)):new kl}function Yj(e,t,r,n){return arguments.length===1?CW(e):new kl(e,t,r,n??1)}function kl(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Vk(kl,Yj,mL(eg,{brighter(e){return e=e==null?o1:Math.pow(o1,e),new kl(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?sx:Math.pow(sx,e),new kl(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new kl(B0(this.r),B0(this.g),B0(this.b),l1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:zC,formatHex:zC,formatHex8:TW,formatRgb:HC,toString:HC}));function zC(){return`#${C0(this.r)}${C0(this.g)}${C0(this.b)}`}function TW(){return`#${C0(this.r)}${C0(this.g)}${C0(this.b)}${C0((isNaN(this.opacity)?1:this.opacity)*255)}`}function HC(){const e=l1(this.opacity);return`${e===1?"rgb(":"rgba("}${B0(this.r)}, ${B0(this.g)}, ${B0(this.b)}${e===1?")":`, ${e})`}`}function l1(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function B0(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function C0(e){return e=B0(e),(e<16?"0":"")+e.toString(16)}function WC(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ju(e,t,r,n)}function xL(e){if(e instanceof ju)return new ju(e.h,e.s,e.l,e.opacity);if(e instanceof eg||(e=ox(e)),!e)return new ju;if(e instanceof ju)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-s,c=(i+s)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new ju(o,l,c,e.opacity)}function OW(e,t,r,n){return arguments.length===1?xL(e):new ju(e,t,r,n??1)}function ju(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Vk(ju,OW,mL(eg,{brighter(e){return e=e==null?o1:Math.pow(o1,e),new ju(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?sx:Math.pow(sx,e),new ju(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new kl(J5(e>=240?e-240:e+120,s,n),J5(e,s,n),J5(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new ju(VC(this.h),Xg(this.s),Xg(this.l),l1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=l1(this.opacity);return`${e===1?"hsl(":"hsla("}${VC(this.h)}, ${Xg(this.s)*100}%, ${Xg(this.l)*100}%${e===1?")":`, ${e})`}`}}));function VC(e){return e=(e||0)%360,e<0?e+360:e}function Xg(e){return Math.max(0,Math.min(1,e||0))}function J5(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Gk=e=>()=>e;function PW(e,t){return function(r){return e+r*t}}function IW(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function DW(e){return(e=+e)==1?gL:function(t,r){return r-t?IW(t,r,e):Gk(isNaN(t)?r:t)}}function gL(e,t){var r=t-e;return r?PW(e,r):Gk(isNaN(e)?t:e)}const GC=(function e(t){var r=DW(t);function n(s,i){var o=r((s=Yj(s)).r,(i=Yj(i)).r),l=r(s.g,i.g),c=r(s.b,i.b),u=gL(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return n.gamma=e,n})(1);function LW(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function FW(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function MW(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=Rp(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function RW(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function c1(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function BW(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=Rp(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var Jj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Q5=new RegExp(Jj.source,"g");function UW(e){return function(){return e}}function qW(e){return function(t){return e(t)+""}}function $W(e,t){var r=Jj.lastIndex=Q5.lastIndex=0,n,s,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=Jj.exec(e))&&(s=Q5.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:c1(n,s)})),r=Q5.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?qW(c[0].x):UW(t):(t=c.length,function(u){for(var d=0,h;d<t;++d)l[(h=c[d]).i]=h.x(u);return l.join("")})}function Rp(e,t){var r=typeof t,n;return t==null||r==="boolean"?Gk(t):(r==="number"?c1:r==="string"?(n=ox(t))?(t=n,GC):$W:t instanceof ox?GC:t instanceof Date?RW:FW(t)?LW:Array.isArray(t)?MW:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?BW:c1)(e,t)}function Kk(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function zW(e,t){t===void 0&&(t=e,e=Rp);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function HW(e){return function(){return e}}function u1(e){return+e}var KC=[0,1];function nl(e){return e}function Qj(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:HW(isNaN(t)?NaN:.5)}function WW(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function VW(e,t,r){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=Qj(s,n),i=r(o,i)):(n=Qj(n,s),i=r(i,o)),function(l){return i(n(l))}}function GW(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=Qj(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=Zx(e,l,1,n)-1;return i[c](s[c](l))}}function tg(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ky(){var e=KC,t=KC,r=Rp,n,s,i,o=nl,l,c,u;function d(){var m=Math.min(e.length,t.length);return o!==nl&&(o=WW(e[0],e[m-1])),l=m>2?GW:VW,c=u=null,h}function h(m){return m==null||isNaN(m=+m)?i:(c||(c=l(e.map(n),t,r)))(n(o(m)))}return h.invert=function(m){return o(s((u||(u=l(t,e.map(n),c1)))(m)))},h.domain=function(m){return arguments.length?(e=Array.from(m,u1),d()):e.slice()},h.range=function(m){return arguments.length?(t=Array.from(m),d()):t.slice()},h.rangeRound=function(m){return t=Array.from(m),r=Kk,d()},h.clamp=function(m){return arguments.length?(o=m?!0:nl,d()):o!==nl},h.interpolate=function(m){return arguments.length?(r=m,d()):r},h.unknown=function(m){return arguments.length?(i=m,h):i},function(m,p){return n=m,s=p,d()}}function Xk(){return ky()(nl,nl)}function KW(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function d1(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function up(e){return e=d1(Math.abs(e)),e?e[1]:NaN}function XW(e,t){return function(r,n){for(var s=r.length,i=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function YW(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var JW=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function lx(e){if(!(t=JW.exec(e)))throw new Error("invalid format: "+e);var t;return new Yk({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}lx.prototype=Yk.prototype;function Yk(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Yk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function QW(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var f1;function ZW(e,t){var r=d1(e,t);if(!r)return f1=void 0,e.toPrecision(t);var n=r[0],s=r[1],i=s-(f1=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+d1(e,Math.max(0,t+i-1))[0]}function XC(e,t){var r=d1(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const YC={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:KW,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>XC(e*100,t),r:XC,s:ZW,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function JC(e){return e}var QC=Array.prototype.map,ZC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function eV(e){var t=e.grouping===void 0||e.thousands===void 0?JC:XW(QC.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?JC:YW(QC.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(h,m){h=lx(h);var p=h.fill,y=h.align,v=h.sign,g=h.symbol,b=h.zero,w=h.width,j=h.comma,N=h.precision,k=h.trim,P=h.type;P==="n"?(j=!0,P="g"):YC[P]||(N===void 0&&(N=12),k=!0,P="g"),(b||p==="0"&&y==="=")&&(b=!0,p="0",y="=");var A=(m&&m.prefix!==void 0?m.prefix:"")+(g==="$"?r:g==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():""),O=(g==="$"?n:/[%p]/.test(P)?o:"")+(m&&m.suffix!==void 0?m.suffix:""),D=YC[P],R=/[defgprs%]/.test(P);N=N===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function C(T){var I=A,B=O,X,re,Z;if(P==="c")B=D(T)+B,T="";else{T=+T;var te=T<0||1/T<0;if(T=isNaN(T)?c:D(Math.abs(T),N),k&&(T=QW(T)),te&&+T==0&&v!=="+"&&(te=!1),I=(te?v==="("?v:l:v==="-"||v==="("?"":v)+I,B=(P==="s"&&!isNaN(T)&&f1!==void 0?ZC[8+f1/3]:"")+B+(te&&v==="("?")":""),R){for(X=-1,re=T.length;++X<re;)if(Z=T.charCodeAt(X),48>Z||Z>57){B=(Z===46?s+T.slice(X+1):T.slice(X))+B,T=T.slice(0,X);break}}}j&&!b&&(T=t(T,1/0));var Y=I.length+T.length+B.length,Q=Y<w?new Array(w-Y+1).join(p):"";switch(j&&b&&(T=t(Q+T,Q.length?w-B.length:1/0),Q=""),y){case"<":T=I+T+B+Q;break;case"=":T=I+Q+T+B;break;case"^":T=Q.slice(0,Y=Q.length>>1)+I+T+B+Q.slice(Y);break;default:T=Q+I+T+B;break}return i(T)}return C.toString=function(){return h+""},C}function d(h,m){var p=Math.max(-8,Math.min(8,Math.floor(up(m)/3)))*3,y=Math.pow(10,-p),v=u((h=lx(h),h.type="f",h),{suffix:ZC[8+p/3]});return function(g){return v(y*g)}}return{format:u,formatPrefix:d}}var Yg,Jk,vL;tV({thousands:",",grouping:[3],currency:["$",""]});function tV(e){return Yg=eV(e),Jk=Yg.format,vL=Yg.formatPrefix,Yg}function rV(e){return Math.max(0,-up(Math.abs(e)))}function nV(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(up(t)/3)))*3-up(Math.abs(e)))}function aV(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,up(t)-up(e))+1}function yL(e,t,r,n){var s=Kj(e,t,r),i;switch(n=lx(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=nV(s,o))&&(n.precision=i),vL(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=aV(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=rV(s))&&(n.precision=i-(n.type==="%")*2);break}}return Jk(n)}function t0(e){var t=e.domain;return e.ticks=function(r){var n=t();return Vj(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return yL(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,o=n[s],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=s,s=i,i=u);d-- >0;){if(u=Gj(o,l,r),u===c)return n[s]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function h1(){var e=Xk();return e.copy=function(){return tg(e,h1())},Rc.apply(e,arguments),t0(e)}function bL(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,u1),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return bL(e).unknown(t)},e=arguments.length?Array.from(e,u1):[0,1],t0(r)}function wL(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),e[r]=t.floor(s),e[n]=t.ceil(i),e}function eT(e){return Math.log(e)}function tT(e){return Math.exp(e)}function sV(e){return-Math.log(-e)}function iV(e){return-Math.exp(-e)}function oV(e){return isFinite(e)?+("1e"+e):e<0?0:e}function lV(e){return e===10?oV:e===Math.E?Math.exp:t=>Math.pow(e,t)}function cV(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function rT(e){return(t,r)=>-e(-t,r)}function Qk(e){const t=e(eT,tT),r=t.domain;let n=10,s,i;function o(){return s=cV(n),i=lV(n),r()[0]<0?(s=rT(s),i=rT(i),e(sV,iV)):e(eT,tT),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const h=d<u;h&&([u,d]=[d,u]);let m=s(u),p=s(d),y,v;const g=l==null?10:+l;let b=[];if(!(n%1)&&p-m<g){if(m=Math.floor(m),p=Math.ceil(p),u>0){for(;m<=p;++m)for(y=1;y<n;++y)if(v=m<0?y/i(-m):y*i(m),!(v<u)){if(v>d)break;b.push(v)}}else for(;m<=p;++m)for(y=n-1;y>=1;--y)if(v=m>0?y/i(-m):y*i(m),!(v<u)){if(v>d)break;b.push(v)}b.length*2<g&&(b=Vj(u,d,g))}else b=Vj(m,p,Math.min(p-m,g)).map(i);return h?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=lx(c)).precision==null&&(c.trim=!0),c=Jk(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let h=d/i(Math.round(s(d)));return h*n<n-.5&&(h*=n),h<=u?c(d):""}},t.nice=()=>r(wL(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function NL(){const e=Qk(ky()).domain([1,10]);return e.copy=()=>tg(e,NL()).base(e.base()),Rc.apply(e,arguments),e}function nT(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function aT(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Zk(e){var t=1,r=e(nT(t),aT(t));return r.constant=function(n){return arguments.length?e(nT(t=+n),aT(t)):t},t0(r)}function jL(){var e=Zk(ky());return e.copy=function(){return tg(e,jL()).constant(e.constant())},Rc.apply(e,arguments)}function sT(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function uV(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function dV(e){return e<0?-e*e:e*e}function e3(e){var t=e(nl,nl),r=1;function n(){return r===1?e(nl,nl):r===.5?e(uV,dV):e(sT(r),sT(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},t0(t)}function t3(){var e=e3(ky());return e.copy=function(){return tg(e,t3()).exponent(e.exponent())},Rc.apply(e,arguments),e}function fV(){return t3.apply(null,arguments).exponent(.5)}function iT(e){return Math.sign(e)*e*e}function hV(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function kL(){var e=Xk(),t=[0,1],r=!1,n;function s(i){var o=hV(e(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return e.invert(iT(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,u1)).map(iT)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return kL(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Rc.apply(s,arguments),t0(s)}function SL(){var e=[],t=[],r=[],n;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=vW(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Zx(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort($f),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return SL().domain(e).range(t).unknown(n)},Rc.apply(i,arguments)}function _L(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[Zx(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return _L().domain([e,t]).range(s).unknown(i)},Rc.apply(t0(o),arguments)}function AL(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[Zx(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return AL().domain(e).range(t).unknown(r)},Rc.apply(s,arguments)}const Z5=new Date,eN=new Date;function ji(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},s.filter=i=>ji(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(Z5.setTime(+i),eN.setTime(+o),e(Z5),e(eN),Math.floor(r(Z5,eN))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const p1=ji(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);p1.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ji(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):p1);p1.range;const Ld=1e3,Oc=Ld*60,Fd=Oc*60,Yd=Fd*24,r3=Yd*7,oT=Yd*30,tN=Yd*365,T0=ji(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ld)},(e,t)=>(t-e)/Ld,e=>e.getUTCSeconds());T0.range;const n3=ji(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ld)},(e,t)=>{e.setTime(+e+t*Oc)},(e,t)=>(t-e)/Oc,e=>e.getMinutes());n3.range;const a3=ji(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Oc)},(e,t)=>(t-e)/Oc,e=>e.getUTCMinutes());a3.range;const s3=ji(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ld-e.getMinutes()*Oc)},(e,t)=>{e.setTime(+e+t*Fd)},(e,t)=>(t-e)/Fd,e=>e.getHours());s3.range;const i3=ji(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Fd)},(e,t)=>(t-e)/Fd,e=>e.getUTCHours());i3.range;const rg=ji(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Oc)/Yd,e=>e.getDate()-1);rg.range;const Sy=ji(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Yd,e=>e.getUTCDate()-1);Sy.range;const EL=ji(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Yd,e=>Math.floor(e/Yd));EL.range;function sh(e){return ji(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Oc)/r3)}const _y=sh(0),m1=sh(1),pV=sh(2),mV=sh(3),dp=sh(4),xV=sh(5),gV=sh(6);_y.range;m1.range;pV.range;mV.range;dp.range;xV.range;gV.range;function ih(e){return ji(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/r3)}const Ay=ih(0),x1=ih(1),vV=ih(2),yV=ih(3),fp=ih(4),bV=ih(5),wV=ih(6);Ay.range;x1.range;vV.range;yV.range;fp.range;bV.range;wV.range;const o3=ji(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());o3.range;const l3=ji(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());l3.range;const Jd=ji(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Jd.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ji(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Jd.range;const Qd=ji(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Qd.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ji(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Qd.range;function CL(e,t,r,n,s,i){const o=[[T0,1,Ld],[T0,5,5*Ld],[T0,15,15*Ld],[T0,30,30*Ld],[i,1,Oc],[i,5,5*Oc],[i,15,15*Oc],[i,30,30*Oc],[s,1,Fd],[s,3,3*Fd],[s,6,6*Fd],[s,12,12*Fd],[n,1,Yd],[n,2,2*Yd],[r,1,r3],[t,1,oT],[t,3,3*oT],[e,1,tN]];function l(u,d,h){const m=d<u;m&&([u,d]=[d,u]);const p=h&&typeof h.range=="function"?h:c(u,d,h),y=p?p.range(u,+d+1):[];return m?y.reverse():y}function c(u,d,h){const m=Math.abs(d-u)/h,p=Hk(([,,g])=>g).right(o,m);if(p===o.length)return e.every(Kj(u/tN,d/tN,h));if(p===0)return p1.every(Math.max(Kj(u,d,h),1));const[y,v]=o[m/o[p-1][2]<o[p][2]/m?p-1:p];return y.every(v)}return[l,c]}const[NV,jV]=CL(Qd,l3,Ay,EL,i3,a3),[kV,SV]=CL(Jd,o3,_y,rg,s3,n3);function rN(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function nN(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function um(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function _V(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=dm(s),d=fm(s),h=dm(i),m=fm(i),p=dm(o),y=fm(o),v=dm(l),g=fm(l),b=dm(c),w=fm(c),j={a:Z,A:te,b:Y,B:Q,c:null,d:hT,e:hT,f:XV,g:sG,G:oG,H:VV,I:GV,j:KV,L:TL,m:YV,M:JV,p:H,q:E,Q:xT,s:gT,S:QV,u:ZV,U:eG,V:tG,w:rG,W:nG,x:null,X:null,y:aG,Y:iG,Z:lG,"%":mT},N={a:q,A:V,b:U,B:G,c:null,d:pT,e:pT,f:fG,g:NG,G:kG,H:cG,I:uG,j:dG,L:PL,m:hG,M:pG,p:ne,q:de,Q:xT,s:gT,S:mG,u:xG,U:gG,V:vG,w:yG,W:bG,x:null,X:null,y:wG,Y:jG,Z:SG,"%":mT},k={a:R,A:C,b:T,B:I,c:B,d:dT,e:dT,f:$V,g:uT,G:cT,H:fT,I:fT,j:RV,L:qV,m:MV,M:BV,p:D,q:FV,Q:HV,s:WV,S:UV,u:OV,U:PV,V:IV,w:TV,W:DV,x:X,X:re,y:uT,Y:cT,Z:LV,"%":zV};j.x=P(r,j),j.X=P(n,j),j.c=P(t,j),N.x=P(r,N),N.X=P(n,N),N.c=P(t,N);function P(ce,he){return function(Le){var se=[],Fe=-1,_e=0,oe=ce.length,ae,ke,we;for(Le instanceof Date||(Le=new Date(+Le));++Fe<oe;)ce.charCodeAt(Fe)===37&&(se.push(ce.slice(_e,Fe)),(ke=lT[ae=ce.charAt(++Fe)])!=null?ae=ce.charAt(++Fe):ke=ae==="e"?" ":"0",(we=he[ae])&&(ae=we(Le,ke)),se.push(ae),_e=Fe+1);return se.push(ce.slice(_e,Fe)),se.join("")}}function A(ce,he){return function(Le){var se=um(1900,void 0,1),Fe=O(se,ce,Le+="",0),_e,oe;if(Fe!=Le.length)return null;if("Q"in se)return new Date(se.Q);if("s"in se)return new Date(se.s*1e3+("L"in se?se.L:0));if(he&&!("Z"in se)&&(se.Z=0),"p"in se&&(se.H=se.H%12+se.p*12),se.m===void 0&&(se.m="q"in se?se.q:0),"V"in se){if(se.V<1||se.V>53)return null;"w"in se||(se.w=1),"Z"in se?(_e=nN(um(se.y,0,1)),oe=_e.getUTCDay(),_e=oe>4||oe===0?x1.ceil(_e):x1(_e),_e=Sy.offset(_e,(se.V-1)*7),se.y=_e.getUTCFullYear(),se.m=_e.getUTCMonth(),se.d=_e.getUTCDate()+(se.w+6)%7):(_e=rN(um(se.y,0,1)),oe=_e.getDay(),_e=oe>4||oe===0?m1.ceil(_e):m1(_e),_e=rg.offset(_e,(se.V-1)*7),se.y=_e.getFullYear(),se.m=_e.getMonth(),se.d=_e.getDate()+(se.w+6)%7)}else("W"in se||"U"in se)&&("w"in se||(se.w="u"in se?se.u%7:"W"in se?1:0),oe="Z"in se?nN(um(se.y,0,1)).getUTCDay():rN(um(se.y,0,1)).getDay(),se.m=0,se.d="W"in se?(se.w+6)%7+se.W*7-(oe+5)%7:se.w+se.U*7-(oe+6)%7);return"Z"in se?(se.H+=se.Z/100|0,se.M+=se.Z%100,nN(se)):rN(se)}}function O(ce,he,Le,se){for(var Fe=0,_e=he.length,oe=Le.length,ae,ke;Fe<_e;){if(se>=oe)return-1;if(ae=he.charCodeAt(Fe++),ae===37){if(ae=he.charAt(Fe++),ke=k[ae in lT?he.charAt(Fe++):ae],!ke||(se=ke(ce,Le,se))<0)return-1}else if(ae!=Le.charCodeAt(se++))return-1}return se}function D(ce,he,Le){var se=u.exec(he.slice(Le));return se?(ce.p=d.get(se[0].toLowerCase()),Le+se[0].length):-1}function R(ce,he,Le){var se=p.exec(he.slice(Le));return se?(ce.w=y.get(se[0].toLowerCase()),Le+se[0].length):-1}function C(ce,he,Le){var se=h.exec(he.slice(Le));return se?(ce.w=m.get(se[0].toLowerCase()),Le+se[0].length):-1}function T(ce,he,Le){var se=b.exec(he.slice(Le));return se?(ce.m=w.get(se[0].toLowerCase()),Le+se[0].length):-1}function I(ce,he,Le){var se=v.exec(he.slice(Le));return se?(ce.m=g.get(se[0].toLowerCase()),Le+se[0].length):-1}function B(ce,he,Le){return O(ce,t,he,Le)}function X(ce,he,Le){return O(ce,r,he,Le)}function re(ce,he,Le){return O(ce,n,he,Le)}function Z(ce){return o[ce.getDay()]}function te(ce){return i[ce.getDay()]}function Y(ce){return c[ce.getMonth()]}function Q(ce){return l[ce.getMonth()]}function H(ce){return s[+(ce.getHours()>=12)]}function E(ce){return 1+~~(ce.getMonth()/3)}function q(ce){return o[ce.getUTCDay()]}function V(ce){return i[ce.getUTCDay()]}function U(ce){return c[ce.getUTCMonth()]}function G(ce){return l[ce.getUTCMonth()]}function ne(ce){return s[+(ce.getUTCHours()>=12)]}function de(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var he=P(ce+="",j);return he.toString=function(){return ce},he},parse:function(ce){var he=A(ce+="",!1);return he.toString=function(){return ce},he},utcFormat:function(ce){var he=P(ce+="",N);return he.toString=function(){return ce},he},utcParse:function(ce){var he=A(ce+="",!0);return he.toString=function(){return ce},he}}}var lT={"-":"",_:" ",0:"0"},$i=/^\s*\d+/,AV=/^%/,EV=/[\\^$*+?|[\]().{}]/g;function ga(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function CV(e){return e.replace(EV,"\\$&")}function dm(e){return new RegExp("^(?:"+e.map(CV).join("|")+")","i")}function fm(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function TV(e,t,r){var n=$i.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function OV(e,t,r){var n=$i.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function PV(e,t,r){var n=$i.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function IV(e,t,r){var n=$i.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function DV(e,t,r){var n=$i.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function cT(e,t,r){var n=$i.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function uT(e,t,r){var n=$i.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function LV(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function FV(e,t,r){var n=$i.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function MV(e,t,r){var n=$i.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function dT(e,t,r){var n=$i.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function RV(e,t,r){var n=$i.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function fT(e,t,r){var n=$i.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function BV(e,t,r){var n=$i.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function UV(e,t,r){var n=$i.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function qV(e,t,r){var n=$i.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function $V(e,t,r){var n=$i.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function zV(e,t,r){var n=AV.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function HV(e,t,r){var n=$i.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function WV(e,t,r){var n=$i.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function hT(e,t){return ga(e.getDate(),t,2)}function VV(e,t){return ga(e.getHours(),t,2)}function GV(e,t){return ga(e.getHours()%12||12,t,2)}function KV(e,t){return ga(1+rg.count(Jd(e),e),t,3)}function TL(e,t){return ga(e.getMilliseconds(),t,3)}function XV(e,t){return TL(e,t)+"000"}function YV(e,t){return ga(e.getMonth()+1,t,2)}function JV(e,t){return ga(e.getMinutes(),t,2)}function QV(e,t){return ga(e.getSeconds(),t,2)}function ZV(e){var t=e.getDay();return t===0?7:t}function eG(e,t){return ga(_y.count(Jd(e)-1,e),t,2)}function OL(e){var t=e.getDay();return t>=4||t===0?dp(e):dp.ceil(e)}function tG(e,t){return e=OL(e),ga(dp.count(Jd(e),e)+(Jd(e).getDay()===4),t,2)}function rG(e){return e.getDay()}function nG(e,t){return ga(m1.count(Jd(e)-1,e),t,2)}function aG(e,t){return ga(e.getFullYear()%100,t,2)}function sG(e,t){return e=OL(e),ga(e.getFullYear()%100,t,2)}function iG(e,t){return ga(e.getFullYear()%1e4,t,4)}function oG(e,t){var r=e.getDay();return e=r>=4||r===0?dp(e):dp.ceil(e),ga(e.getFullYear()%1e4,t,4)}function lG(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ga(t/60|0,"0",2)+ga(t%60,"0",2)}function pT(e,t){return ga(e.getUTCDate(),t,2)}function cG(e,t){return ga(e.getUTCHours(),t,2)}function uG(e,t){return ga(e.getUTCHours()%12||12,t,2)}function dG(e,t){return ga(1+Sy.count(Qd(e),e),t,3)}function PL(e,t){return ga(e.getUTCMilliseconds(),t,3)}function fG(e,t){return PL(e,t)+"000"}function hG(e,t){return ga(e.getUTCMonth()+1,t,2)}function pG(e,t){return ga(e.getUTCMinutes(),t,2)}function mG(e,t){return ga(e.getUTCSeconds(),t,2)}function xG(e){var t=e.getUTCDay();return t===0?7:t}function gG(e,t){return ga(Ay.count(Qd(e)-1,e),t,2)}function IL(e){var t=e.getUTCDay();return t>=4||t===0?fp(e):fp.ceil(e)}function vG(e,t){return e=IL(e),ga(fp.count(Qd(e),e)+(Qd(e).getUTCDay()===4),t,2)}function yG(e){return e.getUTCDay()}function bG(e,t){return ga(x1.count(Qd(e)-1,e),t,2)}function wG(e,t){return ga(e.getUTCFullYear()%100,t,2)}function NG(e,t){return e=IL(e),ga(e.getUTCFullYear()%100,t,2)}function jG(e,t){return ga(e.getUTCFullYear()%1e4,t,4)}function kG(e,t){var r=e.getUTCDay();return e=r>=4||r===0?fp(e):fp.ceil(e),ga(e.getUTCFullYear()%1e4,t,4)}function SG(){return"+0000"}function mT(){return"%"}function xT(e){return+e}function gT(e){return Math.floor(+e/1e3)}var Ph,DL,LL;_G({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function _G(e){return Ph=_V(e),DL=Ph.format,Ph.parse,LL=Ph.utcFormat,Ph.utcParse,Ph}function AG(e){return new Date(e)}function EG(e){return e instanceof Date?+e:+new Date(+e)}function c3(e,t,r,n,s,i,o,l,c,u){var d=Xk(),h=d.invert,m=d.domain,p=u(".%L"),y=u(":%S"),v=u("%I:%M"),g=u("%I %p"),b=u("%a %d"),w=u("%b %d"),j=u("%B"),N=u("%Y");function k(P){return(c(P)<P?p:l(P)<P?y:o(P)<P?v:i(P)<P?g:n(P)<P?s(P)<P?b:w:r(P)<P?j:N)(P)}return d.invert=function(P){return new Date(h(P))},d.domain=function(P){return arguments.length?m(Array.from(P,EG)):m().map(AG)},d.ticks=function(P){var A=m();return e(A[0],A[A.length-1],P??10)},d.tickFormat=function(P,A){return A==null?k:u(A)},d.nice=function(P){var A=m();return(!P||typeof P.range!="function")&&(P=t(A[0],A[A.length-1],P??10)),P?m(wL(A,P)):d},d.copy=function(){return tg(d,c3(e,t,r,n,s,i,o,l,c,u))},d}function CG(){return Rc.apply(c3(kV,SV,Jd,o3,_y,rg,s3,n3,T0,DL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function TG(){return Rc.apply(c3(NV,jV,Qd,l3,Ay,Sy,i3,a3,T0,LL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ey(){var e=0,t=1,r,n,s,i,o=nl,l=!1,c;function u(h){return h==null||isNaN(h=+h)?c:o(s===0?.5:(h=(i(h)-r)*s,l?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([e,t]=h,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(h){return arguments.length?(l=!!h,u):l},u.interpolator=function(h){return arguments.length?(o=h,u):o};function d(h){return function(m){var p,y;return arguments.length?([p,y]=m,o=h(p,y),u):[o(0),o(1)]}}return u.range=d(Rp),u.rangeRound=d(Kk),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return i=h,r=h(e),n=h(t),s=r===n?0:1/(n-r),u}}function r0(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function FL(){var e=t0(Ey()(nl));return e.copy=function(){return r0(e,FL())},af.apply(e,arguments)}function ML(){var e=Qk(Ey()).domain([1,10]);return e.copy=function(){return r0(e,ML()).base(e.base())},af.apply(e,arguments)}function RL(){var e=Zk(Ey());return e.copy=function(){return r0(e,RL()).constant(e.constant())},af.apply(e,arguments)}function u3(){var e=e3(Ey());return e.copy=function(){return r0(e,u3()).exponent(e.exponent())},af.apply(e,arguments)}function OG(){return u3.apply(null,arguments).exponent(.5)}function BL(){var e=[],t=nl;function r(n){if(n!=null&&!isNaN(n=+n))return t((Zx(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort($f),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>gW(e,i/n))},r.copy=function(){return BL(t).domain(e)},af.apply(r,arguments)}function Cy(){var e=0,t=.5,r=1,n=1,s,i,o,l,c,u=nl,d,h=!1,m;function p(v){return isNaN(v=+v)?m:(v=.5+((v=+d(v))-i)*(n*v<n*i?l:c),u(h?Math.max(0,Math.min(1,v)):v))}p.domain=function(v){return arguments.length?([e,t,r]=v,s=d(e=+e),i=d(t=+t),o=d(r=+r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,p):[e,t,r]},p.clamp=function(v){return arguments.length?(h=!!v,p):h},p.interpolator=function(v){return arguments.length?(u=v,p):u};function y(v){return function(g){var b,w,j;return arguments.length?([b,w,j]=g,u=zW(v,[b,w,j]),p):[u(0),u(.5),u(1)]}}return p.range=y(Rp),p.rangeRound=y(Kk),p.unknown=function(v){return arguments.length?(m=v,p):m},function(v){return d=v,s=v(e),i=v(t),o=v(r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,p}}function UL(){var e=t0(Cy()(nl));return e.copy=function(){return r0(e,UL())},af.apply(e,arguments)}function qL(){var e=Qk(Cy()).domain([.1,1,10]);return e.copy=function(){return r0(e,qL()).base(e.base())},af.apply(e,arguments)}function $L(){var e=Zk(Cy());return e.copy=function(){return r0(e,$L()).constant(e.constant())},af.apply(e,arguments)}function d3(){var e=e3(Cy());return e.copy=function(){return r0(e,d3()).exponent(e.exponent())},af.apply(e,arguments)}function PG(){return d3.apply(null,arguments).exponent(.5)}const vT=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ax,scaleDiverging:UL,scaleDivergingLog:qL,scaleDivergingPow:d3,scaleDivergingSqrt:PG,scaleDivergingSymlog:$L,scaleIdentity:bL,scaleImplicit:Xj,scaleLinear:h1,scaleLog:NL,scaleOrdinal:Wk,scalePoint:Dm,scalePow:t3,scaleQuantile:SL,scaleQuantize:_L,scaleRadial:kL,scaleSequential:FL,scaleSequentialLog:ML,scaleSequentialPow:u3,scaleSequentialQuantile:BL,scaleSequentialSqrt:OG,scaleSequentialSymlog:RL,scaleSqrt:fV,scaleSymlog:jL,scaleThreshold:AL,scaleTime:CG,scaleUtc:TG,tickFormat:yL},Symbol.toStringTag,{value:"Module"}));var aN,yT;function zL(){if(yT)return aN;yT=1;var e=Ip();function t(r,n,s){for(var i=-1,o=r.length;++i<o;){var l=r[i],c=n(l);if(c!=null&&(u===void 0?c===c&&!e(c):s(c,u)))var u=c,d=l}return d}return aN=t,aN}var sN,bT;function IG(){if(bT)return sN;bT=1;function e(t,r){return t>r}return sN=e,sN}var iN,wT;function DG(){if(wT)return iN;wT=1;var e=zL(),t=IG(),r=Fp();function n(s){return s&&s.length?e(s,r,t):void 0}return iN=n,iN}var LG=DG();const Lf=Ia(LG);var oN,NT;function FG(){if(NT)return oN;NT=1;function e(t,r){return t<r}return oN=e,oN}var lN,jT;function MG(){if(jT)return lN;jT=1;var e=zL(),t=FG(),r=Fp();function n(s){return s&&s.length?e(s,r,t):void 0}return lN=n,lN}var RG=MG();const Ty=Ia(RG);var cN,kT;function BG(){if(kT)return cN;kT=1;var e=Ak(),t=e0(),r=QD(),n=Al();function s(i,o){var l=n(i)?e:r;return l(i,t(o,3))}return cN=s,cN}var uN,ST;function UG(){if(ST)return uN;ST=1;var e=YD(),t=BG();function r(n,s){return e(t(n,s),1)}return uN=r,uN}var qG=UG();const $G=Ia(qG);var dN,_T;function HL(){if(_T)return dN;_T=1;var e=Uk();function t(r,n){return e(r,n)}return dN=t,dN}var zG=HL();const cx=Ia(zG);var Bp=1e9,HG={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},h3,us=!0,Lc="[DecimalError] ",U0=Lc+"Invalid argument: ",f3=Lc+"Exponent out of range: ",Up=Math.floor,k0=Math.pow,WG=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Yl,Mi=1e7,es=7,WL=9007199254740991,g1=Up(WL/es),Cr={};Cr.absoluteValue=Cr.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Cr.comparedTo=Cr.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};Cr.decimalPlaces=Cr.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*es;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Cr.dividedBy=Cr.div=function(e){return Wd(this,new this.constructor(e))};Cr.dividedToIntegerBy=Cr.idiv=function(e){var t=this,r=t.constructor;return Wa(Wd(t,new r(e),0,1),r.precision)};Cr.equals=Cr.eq=function(e){return!this.cmp(e)};Cr.exponent=function(){return ci(this)};Cr.greaterThan=Cr.gt=function(e){return this.cmp(e)>0};Cr.greaterThanOrEqualTo=Cr.gte=function(e){return this.cmp(e)>=0};Cr.isInteger=Cr.isint=function(){return this.e>this.d.length-2};Cr.isNegative=Cr.isneg=function(){return this.s<0};Cr.isPositive=Cr.ispos=function(){return this.s>0};Cr.isZero=function(){return this.s===0};Cr.lessThan=Cr.lt=function(e){return this.cmp(e)<0};Cr.lessThanOrEqualTo=Cr.lte=function(e){return this.cmp(e)<1};Cr.logarithm=Cr.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Yl))throw Error(Lc+"NaN");if(r.s<1)throw Error(Lc+(r.s?"NaN":"-Infinity"));return r.eq(Yl)?new n(0):(us=!1,t=Wd(ux(r,i),ux(e,i),i),us=!0,Wa(t,s))};Cr.minus=Cr.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?KL(t,e):VL(t,(e.s=-e.s,e))};Cr.modulo=Cr.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(Lc+"NaN");return r.s?(us=!1,t=Wd(r,e,0,1).times(e),us=!0,r.minus(t)):Wa(new n(r),s)};Cr.naturalExponential=Cr.exp=function(){return GL(this)};Cr.naturalLogarithm=Cr.ln=function(){return ux(this)};Cr.negated=Cr.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Cr.plus=Cr.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?VL(t,e):KL(t,(e.s=-e.s,e))};Cr.precision=Cr.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(U0+e);if(t=ci(s)+1,n=s.d.length-1,r=n*es+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Cr.squareRoot=Cr.sqrt=function(){var e,t,r,n,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Lc+"NaN")}for(e=ci(l),us=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=Zu(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Up((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(i=n,n=i.plus(Wd(l,i,o+2)).times(.5),Zu(i.d).slice(0,o)===(t=Zu(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(Wa(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return us=!0,Wa(n,r)};Cr.times=Cr.mul=function(e){var t,r,n,s,i,o,l,c,u,d=this,h=d.constructor,m=d.d,p=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,r=d.e+e.e,c=m.length,u=p.length,c<u&&(i=m,m=p,p=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,s=c+n;s>n;)l=i[s]+p[n]*m[s-n-1]+t,i[s--]=l%Mi|0,t=l/Mi|0;i[s]=(i[s]+t)%Mi|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,us?Wa(e,h.precision):e};Cr.toDecimalPlaces=Cr.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ud(e,0,Bp),t===void 0?t=n.rounding:ud(t,0,8),Wa(r,e+ci(r)+1,t))};Cr.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=G0(n,!0):(ud(e,0,Bp),t===void 0?t=s.rounding:ud(t,0,8),n=Wa(new s(n),e+1,t),r=G0(n,!0,e+1)),r};Cr.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?G0(s):(ud(e,0,Bp),t===void 0?t=i.rounding:ud(t,0,8),n=Wa(new i(s),e+ci(s)+1,t),r=G0(n.abs(),!1,e+ci(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};Cr.toInteger=Cr.toint=function(){var e=this,t=e.constructor;return Wa(new t(e),ci(e)+1,t.rounding)};Cr.toNumber=function(){return+this};Cr.toPower=Cr.pow=function(e){var t,r,n,s,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Yl);if(l=new c(l),!l.s){if(e.s<1)throw Error(Lc+"Infinity");return l}if(l.eq(Yl))return l;if(n=c.precision,e.eq(Yl))return Wa(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=WL){for(s=new c(Yl),t=Math.ceil(n/es+4),us=!1;r%2&&(s=s.times(l),ET(s.d,t)),r=Up(r/2),r!==0;)l=l.times(l),ET(l.d,t);return us=!0,e.s<0?new c(Yl).div(s):Wa(s,n)}}else if(i<0)throw Error(Lc+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,us=!1,s=e.times(ux(l,n+u)),us=!0,s=GL(s),s.s=i,s};Cr.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=ci(s),n=G0(s,r<=i.toExpNeg||r>=i.toExpPos)):(ud(e,1,Bp),t===void 0?t=i.rounding:ud(t,0,8),s=Wa(new i(s),e,t),r=ci(s),n=G0(s,e<=r||r<=i.toExpNeg,e)),n};Cr.toSignificantDigits=Cr.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ud(e,1,Bp),t===void 0?t=n.rounding:ud(t,0,8)),Wa(new n(r),e,t)};Cr.toString=Cr.valueOf=Cr.val=Cr.toJSON=Cr[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ci(e),r=e.constructor;return G0(e,t<=r.toExpNeg||t>=r.toExpPos)};function VL(e,t){var r,n,s,i,o,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),us?Wa(t,h):t;if(c=e.d,u=t.d,o=e.e,s=t.e,c=c.slice(),i=o-s,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,s=o,l=c.length),o=Math.ceil(h/es),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Mi|0,c[i]%=Mi;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,us?Wa(t,h):t}function ud(e,t,r){if(e!==~~e||e<t||e>r)throw Error(U0+e)}function Zu(e){var t,r,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",r=es-n.length,r&&(i+=Pf(r)),i+=n;o=e[t],n=o+"",r=es-n.length,r&&(i+=Pf(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Wd=(function(){function e(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%Mi|0,o=i/Mi|0;return o&&n.unshift(o),n}function t(n,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*Mi+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,c,u,d,h,m,p,y,v,g,b,w,j,N,k,P,A,O,D=n.constructor,R=n.s==s.s?1:-1,C=n.d,T=s.d;if(!n.s)return new D(n);if(!s.s)throw Error(Lc+"Division by zero");for(c=n.e-s.e,A=T.length,k=C.length,p=new D(R),y=p.d=[],u=0;T[u]==(C[u]||0);)++u;if(T[u]>(C[u]||0)&&--c,i==null?w=i=D.precision:o?w=i+(ci(n)-ci(s))+1:w=i,w<0)return new D(0);if(w=w/es+2|0,u=0,A==1)for(d=0,T=T[0],w++;(u<k||d)&&w--;u++)j=d*Mi+(C[u]||0),y[u]=j/T|0,d=j%T|0;else{for(d=Mi/(T[0]+1)|0,d>1&&(T=e(T,d),C=e(C,d),A=T.length,k=C.length),N=A,v=C.slice(0,A),g=v.length;g<A;)v[g++]=0;O=T.slice(),O.unshift(0),P=T[0],T[1]>=Mi/2&&++P;do d=0,l=t(T,v,A,g),l<0?(b=v[0],A!=g&&(b=b*Mi+(v[1]||0)),d=b/P|0,d>1?(d>=Mi&&(d=Mi-1),h=e(T,d),m=h.length,g=v.length,l=t(h,v,m,g),l==1&&(d--,r(h,A<m?O:T,m))):(d==0&&(l=d=1),h=T.slice()),m=h.length,m<g&&h.unshift(0),r(v,h,g),l==-1&&(g=v.length,l=t(T,v,A,g),l<1&&(d++,r(v,A<g?O:T,g))),g=v.length):l===0&&(d++,v=[0]),y[u++]=d,l&&v[0]?v[g++]=C[N]||0:(v=[C[N]],g=1);while((N++<k||v[0]!==void 0)&&w--)}return y[0]||y.shift(),p.e=c,Wa(p,o?i+ci(p)+1:i)}})();function GL(e,t){var r,n,s,i,o,l,c=0,u=0,d=e.constructor,h=d.precision;if(ci(e)>16)throw Error(f3+ci(e));if(!e.s)return new d(Yl);for(us=!1,l=h,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(k0(2,u))/Math.LN10*2+5|0,l+=n,r=s=i=new d(Yl),d.precision=l;;){if(s=Wa(s.times(e),l),r=r.times(++c),o=i.plus(Wd(s,r,l)),Zu(o.d).slice(0,l)===Zu(i.d).slice(0,l)){for(;u--;)i=Wa(i.times(i),l);return d.precision=h,t==null?(us=!0,Wa(i,h)):i}i=o}}function ci(e){for(var t=e.e*es,r=e.d[0];r>=10;r/=10)t++;return t}function fN(e,t,r){if(t>e.LN10.sd())throw us=!0,r&&(e.precision=r),Error(Lc+"LN10 precision limit exceeded");return Wa(new e(e.LN10),t)}function Pf(e){for(var t="";e--;)t+="0";return t}function ux(e,t){var r,n,s,i,o,l,c,u,d,h=1,m=10,p=e,y=p.d,v=p.constructor,g=v.precision;if(p.s<1)throw Error(Lc+(p.s?"NaN":"-Infinity"));if(p.eq(Yl))return new v(0);if(t==null?(us=!1,u=g):u=t,p.eq(10))return t==null&&(us=!0),fN(v,u);if(u+=m,v.precision=u,r=Zu(y),n=r.charAt(0),i=ci(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Zu(p.d),n=r.charAt(0),h++;i=ci(p),n>1?(p=new v("0."+r),i++):p=new v(n+"."+r.slice(1))}else return c=fN(v,u+2,g).times(i+""),p=ux(new v(n+"."+r.slice(1)),u-m).plus(c),v.precision=g,t==null?(us=!0,Wa(p,g)):p;for(l=o=p=Wd(p.minus(Yl),p.plus(Yl),u),d=Wa(p.times(p),u),s=3;;){if(o=Wa(o.times(d),u),c=l.plus(Wd(o,new v(s),u)),Zu(c.d).slice(0,u)===Zu(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(fN(v,u+2,g).times(i+""))),l=Wd(l,new v(h),u),v.precision=g,t==null?(us=!0,Wa(l,g)):l;l=c,s+=2}}function AT(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=Up(r/es),e.d=[],n=(r+1)%es,r<0&&(n+=es),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=es;n<s;)e.d.push(+t.slice(n,n+=es));t=t.slice(n),n=es-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),us&&(e.e>g1||e.e<-g1))throw Error(f3+r)}else e.s=0,e.e=0,e.d=[0];return e}function Wa(e,t,r){var n,s,i,o,l,c,u,d,h=e.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=es,s=t,u=h[d=0];else{if(d=Math.ceil((n+1)/es),i=h.length,d>=i)return e;for(u=i=h[d],o=1;i>=10;i/=10)o++;n%=es,s=n-es+o}if(r!==void 0&&(i=k0(10,o-s-1),l=u/i%10|0,c=t<0||h[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?u/k0(10,o-s):0:h[d-1])%10&1||r==(e.s<0?8:7))),t<1||!h[0])return c?(i=ci(e),h.length=1,t=t-i-1,h[0]=k0(10,(es-t%es)%es),e.e=Up(-t/es)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(n==0?(h.length=d,i=1,d--):(h.length=d+1,i=k0(10,es-n),h[d]=s>0?(u/k0(10,o-s)%k0(10,s)|0)*i:0),c)for(;;)if(d==0){(h[0]+=i)==Mi&&(h[0]=1,++e.e);break}else{if(h[d]+=i,h[d]!=Mi)break;h[d--]=0,i=1}for(n=h.length;h[--n]===0;)h.pop();if(us&&(e.e>g1||e.e<-g1))throw Error(f3+ci(e));return e}function KL(e,t){var r,n,s,i,o,l,c,u,d,h,m=e.constructor,p=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),us?Wa(t,p):t;if(c=e.d,h=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=h.length):(r=h,n=u,l=c.length),s=Math.max(Math.ceil(p/es),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=h.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=h[s]){d=c[s]<h[s];break}o=0}for(d&&(r=c,c=h,h=r,t.s=-t.s),l=c.length,s=h.length-l;s>0;--s)c[l++]=0;for(s=h.length;s>o;){if(c[--s]<h[s]){for(i=s;i&&c[--i]===0;)c[i]=Mi-1;--c[i],c[s]+=Mi}c[s]-=h[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,us?Wa(t,p):t):new m(0)}function G0(e,t,r){var n,s=ci(e),i=Zu(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Pf(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Pf(-s-1)+i,r&&(n=r-o)>0&&(i+=Pf(n))):s>=o?(i+=Pf(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+Pf(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=Pf(n))),e.s<0?"-"+i:i}function ET(e,t){if(e.length>t)return e.length=t,!0}function XL(e){var t,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(U0+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return AT(o,i.toString())}else if(typeof i!="string")throw Error(U0+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,WG.test(i))AT(o,i);else throw Error(U0+i)}if(s.prototype=Cr,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=XL,s.config=s.set=VG,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function VG(e){if(!e||typeof e!="object")throw Error(Lc+"Object expected");var t,r,n,s=["precision",1,Bp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(Up(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(U0+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(U0+r+": "+n);return this}var h3=XL(HG);Yl=new h3(1);const Ma=h3;function GG(e){return JG(e)||YG(e)||XG(e)||KG()}function KG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XG(e,t){if(e){if(typeof e=="string")return Zj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zj(e,t)}}function YG(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function JG(e){if(Array.isArray(e))return Zj(e)}function Zj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var QG=function(t){return t},YL={},JL=function(t){return t===YL},CT=function(t){return function r(){return arguments.length===0||arguments.length===1&&JL(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},ZG=function e(t,r){return t===1?r:CT(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==YL}).length;return o>=t?r.apply(void 0,s):e(t-o,CT(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=s.map(function(h){return JL(h)?c.shift():h});return r.apply(void 0,GG(d).concat(c))}))})},Oy=function(t){return ZG(t.length,t)},e4=function(t,r){for(var n=[],s=t;s<r;++s)n[s-t]=s;return n},eK=Oy(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),tK=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return QG;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},t4=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},QL=function(t){var r=null,n=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function rK(e){var t;return e===0?t=1:t=Math.floor(new Ma(e).abs().log(10).toNumber())+1,t}function nK(e,t,r){for(var n=new Ma(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}var aK=Oy(function(e,t,r){var n=+e,s=+t;return n+r*(s-n)}),sK=Oy(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),iK=Oy(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Py={rangeStep:nK,getDigitCount:rK,interpolateNumber:aK,uninterpolateNumber:sK,uninterpolateTruncation:iK};function r4(e){return cK(e)||lK(e)||ZL(e)||oK()}function oK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lK(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function cK(e){if(Array.isArray(e))return n4(e)}function dx(e,t){return fK(e)||dK(e,t)||ZL(e,t)||uK()}function uK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZL(e,t){if(e){if(typeof e=="string")return n4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n4(e,t)}}function n4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dK(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,s=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){s=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw i}}return r}}function fK(e){if(Array.isArray(e))return e}function eF(e){var t=dx(e,2),r=t[0],n=t[1],s=r,i=n;return r>n&&(s=n,i=r),[s,i]}function tF(e,t,r){if(e.lte(0))return new Ma(0);var n=Py.getDigitCount(e.toNumber()),s=new Ma(10).pow(n),i=e.div(s),o=n!==1?.05:.1,l=new Ma(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return t?c:new Ma(Math.ceil(c))}function hK(e,t,r){var n=1,s=new Ma(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new Ma(10).pow(Py.getDigitCount(e)-1),s=new Ma(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new Ma(Math.floor(e)))}else e===0?s=new Ma(Math.floor((t-1)/2)):r||(s=new Ma(Math.floor(e)));var o=Math.floor((t-1)/2),l=tK(eK(function(c){return s.add(new Ma(c-o).mul(n)).toNumber()}),e4);return l(0,t)}function rF(e,t,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Ma(0),tickMin:new Ma(0),tickMax:new Ma(0)};var i=tF(new Ma(t).sub(e).div(r-1),n,s),o;e<=0&&t>=0?o=new Ma(0):(o=new Ma(e).add(t).div(2),o=o.sub(new Ma(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Ma(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?rF(e,t,r,n,s+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new Ma(l).mul(i)),tickMax:o.add(new Ma(c).mul(i))})}function pK(e){var t=dx(e,2),r=t[0],n=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=eF([r,n]),c=dx(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var h=d===1/0?[u].concat(r4(e4(0,s-1).map(function(){return 1/0}))):[].concat(r4(e4(0,s-1).map(function(){return-1/0})),[d]);return r>n?t4(h):h}if(u===d)return hK(u,s,i);var m=rF(u,d,o,i),p=m.step,y=m.tickMin,v=m.tickMax,g=Py.rangeStep(y,v.add(new Ma(.1).mul(p)),p);return r>n?t4(g):g}function mK(e,t){var r=dx(e,2),n=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=eF([n,s]),l=dx(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,s];if(c===u)return[c];var d=Math.max(t,2),h=tF(new Ma(u).sub(c).div(d-1),i,0),m=[].concat(r4(Py.rangeStep(new Ma(c),new Ma(u).sub(new Ma(.99).mul(h)),h)),[u]);return n>s?t4(m):m}var xK=QL(pK),gK=QL(mK),vK="Invariant failed";function K0(e,t){throw new Error(vK)}var yK=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function hp(e){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hp(e)}function v1(){return v1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v1.apply(this,arguments)}function bK(e,t){return kK(e)||jK(e,t)||NK(e,t)||wK()}function wK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NK(e,t){if(e){if(typeof e=="string")return TT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TT(e,t)}}function TT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function kK(e){if(Array.isArray(e))return e}function SK(e,t){if(e==null)return{};var r=_K(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _K(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function AK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sF(n.key),n)}}function CK(e,t,r){return t&&EK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function TK(e,t,r){return t=y1(t),OK(e,nF()?Reflect.construct(t,r||[],y1(e).constructor):t.apply(e,r))}function OK(e,t){if(t&&(hp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PK(e)}function PK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nF=function(){return!!e})()}function y1(e){return y1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},y1(e)}function IK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a4(e,t)}function a4(e,t){return a4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},a4(e,t)}function aF(e,t,r){return t=sF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sF(e){var t=DK(e,"string");return hp(t)=="symbol"?t:t+""}function DK(e,t){if(hp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Iy=(function(e){function t(){return AK(this,t),TK(this,t,arguments)}return IK(t,e),CK(t,[{key:"render",value:function(){var n=this.props,s=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,h=n.yAxis,m=SK(n,yK),p=Un(m,!1);this.props.direction==="x"&&d.type!=="number"&&K0();var y=c.map(function(v){var g=u(v,l),b=g.x,w=g.y,j=g.value,N=g.errorVal;if(!N)return null;var k=[],P,A;if(Array.isArray(N)){var O=bK(N,2);P=O[0],A=O[1]}else P=A=N;if(i==="vertical"){var D=d.scale,R=w+s,C=R+o,T=R-o,I=D(j-P),B=D(j+A);k.push({x1:B,y1:C,x2:B,y2:T}),k.push({x1:I,y1:R,x2:B,y2:R}),k.push({x1:I,y1:C,x2:I,y2:T})}else if(i==="horizontal"){var X=h.scale,re=b+s,Z=re-o,te=re+o,Y=X(j-P),Q=X(j+A);k.push({x1:Z,y1:Q,x2:te,y2:Q}),k.push({x1:re,y1:Y,x2:re,y2:Q}),k.push({x1:Z,y1:Y,x2:te,y2:Y})}return it.createElement(ys,v1({className:"recharts-errorBar",key:"bar-".concat(k.map(function(H){return"".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))},p),k.map(function(H){return it.createElement("line",v1({},H,{key:"line-".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))}))});return it.createElement(ys,{className:"recharts-errorBars"},y)}}])})(it.Component);aF(Iy,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});aF(Iy,"displayName","ErrorBar");function fx(e){"@babel/helpers - typeof";return fx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fx(e)}function OT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function w0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OT(Object(r),!0).forEach(function(n){LK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LK(e,t,r){return t=FK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FK(e){var t=MK(e,"string");return fx(t)=="symbol"?t:t+""}function MK(e,t){if(fx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iF=function(t){var r=t.children,n=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,o=Gl(r,Kh);if(!o)return null;var l=Kh.defaultProps,c=l!==void 0?w0(w0({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,h){var m=h.item,p=h.props,y=p.sectors||p.data||[];return d.concat(y.map(function(v){return{type:o.props.iconType||m.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):u=(n||[]).map(function(d){var h=d.item,m=h.type.defaultProps,p=m!==void 0?w0(w0({},m),h.props):{},y=p.dataKey,v=p.name,g=p.legendType,b=p.hide;return{inactive:b,dataKey:y,type:c.iconType||g||"square",color:p3(h),value:v||y,payload:p}}),w0(w0(w0({},c),Kh.getWithHeight(o,s)),{},{payload:u,item:o})};function hx(e){"@babel/helpers - typeof";return hx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hx(e)}function PT(e){return qK(e)||UK(e)||BK(e)||RK()}function RK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BK(e,t){if(e){if(typeof e=="string")return s4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s4(e,t)}}function UK(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qK(e){if(Array.isArray(e))return s4(e)}function s4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function IT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Is(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IT(Object(r),!0).forEach(function(n){Yh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yh(e,t,r){return t=$K(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $K(e){var t=zK(e,"string");return hx(t)=="symbol"?t:t+""}function zK(e,t){if(hx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tc(e,t,r){return Kn(e)||Kn(t)?r:bi(t)?Ic(e,t,r):An(t)?t(e):r}function Lm(e,t,r,n){var s=$G(e,function(l){return tc(l,t)});if(r==="number"){var i=s.filter(function(l){return hr(l)||parseFloat(l)});return i.length?[Ty(i),Lf(i)]:[1/0,-1/0]}var o=n?s.filter(function(l){return!Kn(l)}):s;return o.map(function(l){return bi(l)||l instanceof Date?l:""})}var HK=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n?.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?s[u-1].coordinate:s[l-1].coordinate,h=s[u].coordinate,m=u>=l-1?s[0].coordinate:s[u+1].coordinate,p=void 0;if(ku(h-d)!==ku(m-h)){var y=[];if(ku(m-h)===ku(c[1]-c[0])){p=m;var v=h+c[1]-c[0];y[0]=Math.min(v,(v+d)/2),y[1]=Math.max(v,(v+d)/2)}else{p=d;var g=m+c[1]-c[0];y[0]=Math.min(h,(g+h)/2),y[1]=Math.max(h,(g+h)/2)}var b=[Math.min(h,(p+h)/2),Math.max(h,(p+h)/2)];if(t>b[0]&&t<=b[1]||t>=y[0]&&t<=y[1]){o=s[u].index;break}}else{var w=Math.min(d,m),j=Math.max(d,m);if(t>(w+h)/2&&t<=(j+h)/2){o=s[u].index;break}}}else for(var N=0;N<l;N++)if(N===0&&t<=(n[N].coordinate+n[N+1].coordinate)/2||N>0&&N<l-1&&t>(n[N].coordinate+n[N-1].coordinate)/2&&t<=(n[N].coordinate+n[N+1].coordinate)/2||N===l-1&&t>(n[N].coordinate+n[N-1].coordinate)/2){o=n[N].index;break}return o},p3=function(t){var r,n=t,s=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Is(Is({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},WK=function(t){var r=t.barSize,n=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,h=Object.keys(d),m=0,p=h.length;m<p;m++){var y=d[h[m]],v=y.items,g=y.cateAxisId,b=v.filter(function(A){return zd(A.type).indexOf("Bar")>=0});if(b&&b.length){var w=b[0].type.defaultProps,j=w!==void 0?Is(Is({},w),b[0].props):b[0].props,N=j.barSize,k=j[g];o[k]||(o[k]=[]);var P=Kn(N)?r:N;o[k].push({item:b[0],stackList:b.slice(1),barSize:Kn(P)?void 0:V0(P,n,0)})}}return o},VK=function(t){var r=t.barGap,n=t.barCategoryGap,s=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=V0(r,s,0,!0),d,h=[];if(o[0].barSize===+o[0].barSize){var m=!1,p=s/c,y=o.reduce(function(N,k){return N+k.barSize||0},0);y+=(c-1)*u,y>=s&&(y-=(c-1)*u,u=0),y>=s&&p>0&&(m=!0,p*=.9,y=c*p);var v=(s-y)/2>>0,g={offset:v-u,size:0};d=o.reduce(function(N,k){var P={item:k.item,position:{offset:g.offset+g.size+u,size:m?p:k.barSize}},A=[].concat(PT(N),[P]);return g=A[A.length-1].position,k.stackList&&k.stackList.length&&k.stackList.forEach(function(O){A.push({item:O,position:g})}),A},h)}else{var b=V0(n,s,0,!0);s-2*b-(c-1)*u<=0&&(u=0);var w=(s-2*b-(c-1)*u)/c;w>1&&(w>>=0);var j=l===+l?Math.min(w,l):w;d=o.reduce(function(N,k,P){var A=[].concat(PT(N),[{item:k.item,position:{offset:b+(w+u)*P+(w-j)/2,size:j}}]);return k.stackList&&k.stackList.length&&k.stackList.forEach(function(O){A.push({item:O,position:A[A.length-1].position})}),A},h)}return d},GK=function(t,r,n,s){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=iF({children:i,legendWidth:c});if(u){var d=s||{},h=d.width,m=d.height,p=u.align,y=u.verticalAlign,v=u.layout;if((v==="vertical"||v==="horizontal"&&y==="middle")&&p!=="center"&&hr(t[p]))return Is(Is({},t),{},Yh({},p,t[p]+(h||0)));if((v==="horizontal"||v==="vertical"&&p==="center")&&y!=="middle"&&hr(t[y]))return Is(Is({},t),{},Yh({},y,t[y]+(m||0)))}return t},KK=function(t,r,n){return Kn(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},oF=function(t,r,n,s,i){var o=r.props.children,l=Eu(o,Iy).filter(function(u){return KK(s,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var h=tc(d,n);if(Kn(h))return u;var m=Array.isArray(h)?[Ty(h),Lf(h)]:[h,h],p=c.reduce(function(y,v){var g=tc(d,v,0),b=m[0]-Math.abs(Array.isArray(g)?g[0]:g),w=m[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(b,y[0]),Math.max(w,y[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},XK=function(t,r,n,s,i){var o=r.map(function(l){return oF(t,l,n,i,s)}).filter(function(l){return!Kn(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},lF=function(t,r,n,s,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&oF(t,c,u,s)||Lm(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,h=u.length;d<h;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},cF=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},uF=function(t,r,n,s){if(s)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},Md=function(t,r,n){if(!t)return null;var s=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||n)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&l?.length>=2?ku(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(h){var m=i?i.indexOf(h):h;return{coordinate:s(m)+u,value:h,offset:u}});return d.filter(function(h){return!Lp(h.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(h,m){return{coordinate:s(h)+u,value:h,index:m,offset:u}}):s.ticks&&!n?s.ticks(t.tickCount).map(function(h){return{coordinate:s(h)+u,value:h,offset:u}}):s.domain().map(function(h,m){return{coordinate:s(h)+u,value:i?i[h]:h,index:m,offset:u}})},hN=new WeakMap,Jg=function(t,r){if(typeof r!="function")return t;hN.has(t)||hN.set(t,new WeakMap);var n=hN.get(t);if(n.has(r))return n.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},YK=function(t,r,n){var s=t.scale,i=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:ax(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:h1(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Dm(),realScaleType:"point"}:i==="category"?{scale:ax(),realScaleType:"band"}:{scale:h1(),realScaleType:"linear"};if(Yx(s)){var c="scale".concat(gy(s));return{scale:(vT[c]||Dm)(),realScaleType:vT[c]?c:"point"}}return An(s)?{scale:s}:{scale:Dm(),realScaleType:"point"}},DT=1e-4,JK=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,s=t.range(),i=Math.min(s[0],s[1])-DT,o=Math.max(s[0],s[1])+DT,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},QK=function(t,r){if(!t)return null;for(var n=0,s=t.length;n<s;n++)if(t[n].item===r)return t[n].position;return null},ZK=function(t,r){if(!r||r.length!==2||!hr(r[0])||!hr(r[1]))return t;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!hr(t[0])||t[0]<n)&&(i[0]=n),(!hr(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<n&&(i[1]=n),i},eX=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0,l=0;l<r;++l){var c=Lp(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},tX=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0;o<r;++o){var l=Lp(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},rX={sign:eX,expand:Bq,none:sp,silhouette:Uq,wiggle:qq,positive:tX},nX=function(t,r,n){var s=r.map(function(l){return l.props.dataKey}),i=rX[n],o=Rq().keys(s).value(function(l,c){return+tc(l,c,0)}).order(Lj).offset(i);return o(t)},aX=function(t,r,n,s,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(h,m){var p,y=(p=m.type)!==null&&p!==void 0&&p.defaultProps?Is(Is({},m.type.defaultProps),m.props):m.props,v=y.stackId,g=y.hide;if(g)return h;var b=y[n],w=h[b]||{hasStack:!1,stackGroups:{}};if(bi(v)){var j=w.stackGroups[v]||{numericAxisId:n,cateAxisId:s,items:[]};j.items.push(m),w.hasStack=!0,w.stackGroups[v]=j}else w.stackGroups[Jx("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[m]};return Is(Is({},h),{},Yh({},b,w))},c),d={};return Object.keys(u).reduce(function(h,m){var p=u[m];if(p.hasStack){var y={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(v,g){var b=p.stackGroups[g];return Is(Is({},v),{},Yh({},g,{numericAxisId:n,cateAxisId:s,items:b.items,stackedData:nX(t,b.items,i)}))},y)}return Is(Is({},h),{},Yh({},m,p))},d)},sX=function(t,r){var n=r.realScaleType,s=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=xK(u,i,l);return t.domain([Ty(d),Lf(d)]),{niceTicks:d}}if(i&&s==="number"){var h=t.domain(),m=gK(h,i,l);return{niceTicks:m}}return null};function LT(e){var t=e.axis,r=e.ticks,n=e.bandSize,s=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Kn(s[t.dataKey])){var l=Vv(r,"value",s[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=tc(s,Kn(o)?t.dataKey:o);return Kn(c)?null:t.scale(c)}var FT=function(t){var r=t.axis,n=t.ticks,s=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var c=tc(o,r.dataKey,r.domain[l]);return Kn(c)?null:r.scale(c)-i/2+s},iX=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return s<=0&&i>=0?0:i<0?i:s}return n[0]},oX=function(t,r){var n,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Is(Is({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(bi(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},lX=function(t){return t.reduce(function(r,n){return[Ty(n.concat([r[0]]).filter(hr)),Lf(n.concat([r[1]]).filter(hr))]},[1/0,-1/0])},dF=function(t,r,n){return Object.keys(t).reduce(function(s,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var h=lX(d.slice(r,n+1));return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},MT=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,RT=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,i4=function(t,r,n){if(An(t))return t(r,n);if(!Array.isArray(t))return r;var s=[];if(hr(t[0]))s[0]=n?t[0]:Math.min(t[0],r[0]);else if(MT.test(t[0])){var i=+MT.exec(t[0])[1];s[0]=r[0]-i}else An(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(hr(t[1]))s[1]=n?t[1]:Math.max(t[1],r[1]);else if(RT.test(t[1])){var o=+RT.exec(t[1])[1];s[1]=r[1]+o}else An(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},b1=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!n||s>0)return s}if(t&&r&&r.length>=2){for(var i=$k(r,function(h){return h.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},BT=function(t,r,n){return!t||!t.length||cx(t,Ic(n,"type.defaultProps.domain"))?r:t},fF=function(t,r){var n=t.type.defaultProps?Is(Is({},t.type.defaultProps),t.props):t.props,s=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Is(Is({},Un(t,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:p3(t),value:tc(r,s),type:c,payload:r,chartType:u,hide:d})};function px(e){"@babel/helpers - typeof";return px=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},px(e)}function UT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UT(Object(r),!0).forEach(function(n){cX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cX(e,t,r){return t=uX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uX(e){var t=dX(e,"string");return px(t)=="symbol"?t:t+""}function dX(e,t){if(px(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(px(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var w1=Math.PI/180,fX=function(t){return t*180/Math.PI},lo=function(t,r,n,s){return{x:t+Math.cos(-w1*s)*n,y:r+Math.sin(-w1*s)*n}},hX=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(s-o,2))},pX=function(t,r){var n=t.x,s=t.y,i=r.cx,o=r.cy,l=hX({x:n,y:s},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return s>o&&(u=2*Math.PI-u),{radius:l,angle:fX(u),angleInRadian:u}},mX=function(t){var r=t.startAngle,n=t.endAngle,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return{startAngle:r-o*360,endAngle:n-o*360}},xX=function(t,r){var n=r.startAngle,s=r.endAngle,i=Math.floor(n/360),o=Math.floor(s/360),l=Math.min(i,o);return t+l*360},$T=function(t,r){var n=t.x,s=t.y,i=pX({x:n,y:s},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=mX(r),h=d.startAngle,m=d.endAngle,p=l,y;if(h<=m){for(;p>m;)p-=360;for(;p<h;)p+=360;y=p>=h&&p<=m}else{for(;p>h;)p-=360;for(;p<m;)p+=360;y=p>=m&&p<=h}return y?qT(qT({},r),{},{radius:o,angle:xX(p,r)}):null};function mx(e){"@babel/helpers - typeof";return mx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mx(e)}var gX=["offset"];function vX(e){return NX(e)||wX(e)||bX(e)||yX()}function yX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bX(e,t){if(e){if(typeof e=="string")return o4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o4(e,t)}}function wX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function NX(e){if(Array.isArray(e))return o4(e)}function o4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jX(e,t){if(e==null)return{};var r=kX(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kX(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function zT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function mi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zT(Object(r),!0).forEach(function(n){SX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SX(e,t,r){return t=_X(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _X(e){var t=AX(e,"string");return mx(t)=="symbol"?t:t+""}function AX(e,t){if(mx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xx(){return xx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xx.apply(this,arguments)}var EX=function(t){var r=t.value,n=t.formatter,s=Kn(t.children)?r:t.children;return An(n)?n(s):s},CX=function(t,r){var n=ku(r-t),s=Math.min(Math.abs(r-t),360);return n*s},TX=function(t,r,n){var s=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,h=c.innerRadius,m=c.outerRadius,p=c.startAngle,y=c.endAngle,v=c.clockWise,g=(h+m)/2,b=CX(p,y),w=b>=0?1:-1,j,N;s==="insideStart"?(j=p+w*o,N=v):s==="insideEnd"?(j=y-w*o,N=!v):s==="end"&&(j=y+w*o,N=v),N=b<=0?N:!N;var k=lo(u,d,g,j),P=lo(u,d,g,j+(N?1:-1)*359),A="M".concat(k.x,",").concat(k.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(N?0:1,`,
    `).concat(P.x,",").concat(P.y),O=Kn(t.id)?Jx("recharts-radial-line-"):t.id;return it.createElement("text",xx({},n,{dominantBaseline:"central",className:xa("recharts-radial-bar-label",l)}),it.createElement("defs",null,it.createElement("path",{id:O,d:A})),it.createElement("textPath",{xlinkHref:"#".concat(O)},r))},OX=function(t){var r=t.viewBox,n=t.offset,s=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,h=i.endAngle,m=(d+h)/2;if(s==="outside"){var p=lo(o,l,u+n,m),y=p.x,v=p.y;return{x:y,y:v,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var g=(c+u)/2,b=lo(o,l,g,m),w=b.x,j=b.y;return{x:w,y:j,textAnchor:"middle",verticalAnchor:"middle"}},PX=function(t){var r=t.viewBox,n=t.parentViewBox,s=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,h=d>=0?1:-1,m=h*s,p=h>0?"end":"start",y=h>0?"start":"end",v=u>=0?1:-1,g=v*s,b=v>0?"end":"start",w=v>0?"start":"end";if(i==="top"){var j={x:l+u/2,y:c-h*s,textAnchor:"middle",verticalAnchor:p};return mi(mi({},j),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var N={x:l+u/2,y:c+d+m,textAnchor:"middle",verticalAnchor:y};return mi(mi({},N),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var k={x:l-g,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return mi(mi({},k),n?{width:Math.max(k.x-n.x,0),height:d}:{})}if(i==="right"){var P={x:l+u+g,y:c+d/2,textAnchor:w,verticalAnchor:"middle"};return mi(mi({},P),n?{width:Math.max(n.x+n.width-P.x,0),height:d}:{})}var A=n?{width:u,height:d}:{};return i==="insideLeft"?mi({x:l+g,y:c+d/2,textAnchor:w,verticalAnchor:"middle"},A):i==="insideRight"?mi({x:l+u-g,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},A):i==="insideTop"?mi({x:l+u/2,y:c+m,textAnchor:"middle",verticalAnchor:y},A):i==="insideBottom"?mi({x:l+u/2,y:c+d-m,textAnchor:"middle",verticalAnchor:p},A):i==="insideTopLeft"?mi({x:l+g,y:c+m,textAnchor:w,verticalAnchor:y},A):i==="insideTopRight"?mi({x:l+u-g,y:c+m,textAnchor:b,verticalAnchor:y},A):i==="insideBottomLeft"?mi({x:l+g,y:c+d-m,textAnchor:w,verticalAnchor:p},A):i==="insideBottomRight"?mi({x:l+u-g,y:c+d-m,textAnchor:b,verticalAnchor:p},A):Dp(i)&&(hr(i.x)||E0(i.x))&&(hr(i.y)||E0(i.y))?mi({x:l+V0(i.x,u),y:c+V0(i.y,d),textAnchor:"end",verticalAnchor:"end"},A):mi({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},A)},IX=function(t){return"cx"in t&&hr(t.cx)};function Io(e){var t=e.offset,r=t===void 0?5:t,n=jX(e,gX),s=mi({offset:r},n),i=s.viewBox,o=s.position,l=s.value,c=s.children,u=s.content,d=s.className,h=d===void 0?"":d,m=s.textBreakAll;if(!i||Kn(l)&&Kn(c)&&!z.isValidElement(u)&&!An(u))return null;if(z.isValidElement(u))return z.cloneElement(u,s);var p;if(An(u)){if(p=z.createElement(u,s),z.isValidElement(p))return p}else p=EX(s);var y=IX(i),v=Un(s,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return TX(s,p,v);var g=y?OX(s):PX(s);return it.createElement(s1,xx({className:xa("recharts-label",h)},v,g,{breakAll:m}),p)}Io.displayName="Label";var hF=function(t){var r=t.cx,n=t.cy,s=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,h=t.x,m=t.y,p=t.top,y=t.left,v=t.width,g=t.height,b=t.clockWise,w=t.labelViewBox;if(w)return w;if(hr(v)&&hr(g)){if(hr(h)&&hr(m))return{x:h,y:m,width:v,height:g};if(hr(p)&&hr(y))return{x:p,y,width:v,height:g}}return hr(h)&&hr(m)?{x:h,y:m,width:0,height:0}:hr(r)&&hr(n)?{cx:r,cy:n,startAngle:i||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:b}:t.viewBox?t.viewBox:{}},DX=function(t,r){return t?t===!0?it.createElement(Io,{key:"label-implicit",viewBox:r}):bi(t)?it.createElement(Io,{key:"label-implicit",viewBox:r,value:t}):z.isValidElement(t)?t.type===Io?z.cloneElement(t,{key:"label-implicit",viewBox:r}):it.createElement(Io,{key:"label-implicit",content:t,viewBox:r}):An(t)?it.createElement(Io,{key:"label-implicit",content:t,viewBox:r}):Dp(t)?it.createElement(Io,xx({viewBox:r},t,{key:"label-implicit"})):null:null},LX=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var s=t.children,i=hF(t),o=Eu(s,Io).map(function(c,u){return z.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=DX(t.label,r||i);return[l].concat(vX(o))};Io.parseViewBox=hF;Io.renderCallByParent=LX;var pN,HT;function FX(){if(HT)return pN;HT=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return pN=e,pN}var MX=FX();const RX=Ia(MX);function gx(e){"@babel/helpers - typeof";return gx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gx(e)}var BX=["valueAccessor"],UX=["data","dataKey","clockWise","id","textBreakAll"];function qX(e){return WX(e)||HX(e)||zX(e)||$X()}function $X(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zX(e,t){if(e){if(typeof e=="string")return l4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l4(e,t)}}function HX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function WX(e){if(Array.isArray(e))return l4(e)}function l4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function N1(){return N1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N1.apply(this,arguments)}function WT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function VT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WT(Object(r),!0).forEach(function(n){VX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VX(e,t,r){return t=GX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GX(e){var t=KX(e,"string");return gx(t)=="symbol"?t:t+""}function KX(e,t){if(gx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GT(e,t){if(e==null)return{};var r=XX(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function XX(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var YX=function(t){return Array.isArray(t.value)?RX(t.value):t.value};function zf(e){var t=e.valueAccessor,r=t===void 0?YX:t,n=GT(e,BX),s=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=GT(n,UX);return!s||!s.length?null:it.createElement(ys,{className:"recharts-label-list"},s.map(function(d,h){var m=Kn(i)?r(d,h):tc(d&&d.payload,i),p=Kn(l)?{}:{id:"".concat(l,"-").concat(h)};return it.createElement(Io,N1({},Un(d,!0),u,p,{parentViewBox:d.parentViewBox,value:m,textBreakAll:c,viewBox:Io.parseViewBox(Kn(o)?d:VT(VT({},d),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}zf.displayName="LabelList";function JX(e,t){return e?e===!0?it.createElement(zf,{key:"labelList-implicit",data:t}):it.isValidElement(e)||An(e)?it.createElement(zf,{key:"labelList-implicit",data:t,content:e}):Dp(e)?it.createElement(zf,N1({data:t},e,{key:"labelList-implicit"})):null:null}function QX(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=Eu(n,zf).map(function(o,l){return z.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return s;var i=JX(e.label,t);return[i].concat(qX(s))}zf.renderCallByParent=QX;function vx(e){"@babel/helpers - typeof";return vx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vx(e)}function c4(){return c4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c4.apply(this,arguments)}function KT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function XT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KT(Object(r),!0).forEach(function(n){ZX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZX(e,t,r){return t=eY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eY(e){var t=tY(e,"string");return vx(t)=="symbol"?t:t+""}function tY(e,t){if(vx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rY=function(t,r){var n=ku(r-t),s=Math.min(Math.abs(r-t),359.999);return n*s},Qg=function(t){var r=t.cx,n=t.cy,s=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+s,h=Math.asin(c/d)/w1,m=u?i:i+o*h,p=lo(r,n,d,m),y=lo(r,n,s,m),v=u?i-o*h:i,g=lo(r,n,d*Math.cos(h*w1),v);return{center:p,circleTangency:y,lineTangency:g,theta:h}},pF=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=rY(o,l),u=o+c,d=lo(r,n,i,o),h=lo(r,n,i,u),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(s>0){var p=lo(r,n,s,o),y=lo(r,n,s,u);m+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else m+="L ".concat(r,",").concat(n," Z");return m},nY=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,h=ku(d-u),m=Qg({cx:r,cy:n,radius:i,angle:u,sign:h,cornerRadius:o,cornerIsExternal:c}),p=m.circleTangency,y=m.lineTangency,v=m.theta,g=Qg({cx:r,cy:n,radius:i,angle:d,sign:-h,cornerRadius:o,cornerIsExternal:c}),b=g.circleTangency,w=g.lineTangency,j=g.theta,N=c?Math.abs(u-d):Math.abs(u-d)-v-j;if(N<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):pF({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:u,endAngle:d});var k="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(N>180),",").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
  `);if(s>0){var P=Qg({cx:r,cy:n,radius:s,angle:u,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),A=P.circleTangency,O=P.lineTangency,D=P.theta,R=Qg({cx:r,cy:n,radius:s,angle:d,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),C=R.circleTangency,T=R.lineTangency,I=R.theta,B=c?Math.abs(u-d):Math.abs(u-d)-D-I;if(B<0&&o===0)return"".concat(k,"L").concat(r,",").concat(n,"Z");k+="L".concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(B>180),",").concat(+(h>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(O.x,",").concat(O.y,"Z")}else k+="L".concat(r,",").concat(n,"Z");return k},aY={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},mF=function(t){var r=XT(XT({},aY),t),n=r.cx,s=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,h=r.endAngle,m=r.className;if(o<i||d===h)return null;var p=xa("recharts-sector",m),y=o-i,v=V0(l,y,0,!0),g;return v>0&&Math.abs(d-h)<360?g=nY({cx:n,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(v,y/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:h}):g=pF({cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:d,endAngle:h}),it.createElement("path",c4({},Un(r,!0),{className:p,d:g,role:"img"}))};function yx(e){"@babel/helpers - typeof";return yx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yx(e)}function u4(){return u4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u4.apply(this,arguments)}function YT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function JT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YT(Object(r),!0).forEach(function(n){sY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sY(e,t,r){return t=iY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iY(e){var t=oY(e,"string");return yx(t)=="symbol"?t:t+""}function oY(e,t){if(yx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QT={curveBasisClosed:Aq,curveBasisOpen:Eq,curveBasis:_q,curveBumpX:fq,curveBumpY:hq,curveLinearClosed:Cq,curveLinear:yy,curveMonotoneX:Tq,curveMonotoneY:Oq,curveNatural:Pq,curveStep:Iq,curveStepAfter:Lq,curveStepBefore:Dq},Zg=function(t){return t.x===+t.x&&t.y===+t.y},hm=function(t){return t.x},pm=function(t){return t.y},lY=function(t,r){if(An(t))return t;var n="curve".concat(gy(t));return(n==="curveMonotone"||n==="curveBump")&&r?QT["".concat(n).concat(r==="vertical"?"Y":"X")]:QT[n]||yy},cY=function(t){var r=t.type,n=r===void 0?"linear":r,s=t.points,i=s===void 0?[]:s,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=lY(n,l),h=u?i.filter(function(v){return Zg(v)}):i,m;if(Array.isArray(o)){var p=u?o.filter(function(v){return Zg(v)}):o,y=h.map(function(v,g){return JT(JT({},v),{},{base:p[g]})});return l==="vertical"?m=Hg().y(pm).x1(hm).x0(function(v){return v.base.x}):m=Hg().x(hm).y1(pm).y0(function(v){return v.base.y}),m.defined(Zg).curve(d),m(y)}return l==="vertical"&&hr(o)?m=Hg().y(pm).x1(hm).x0(o):hr(o)?m=Hg().x(hm).y1(pm).y0(o):m=yD().x(hm).y(pm),m.defined(Zg).curve(d),m(h)},Fm=function(t){var r=t.className,n=t.points,s=t.path,i=t.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?cY(t):s;return it.createElement("path",u4({},Un(t,!1),Gv(t),{className:xa("recharts-curve",r),d:o,ref:i}))},mN={exports:{}},xN,ZT;function uY(){if(ZT)return xN;ZT=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return xN=e,xN}var gN,eO;function dY(){if(eO)return gN;eO=1;var e=uY();function t(){}function r(){}return r.resetWarningCache=t,gN=function(){function n(o,l,c,u,d,h){if(h!==e){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}n.isRequired=n;function s(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:s,element:n,elementType:n,instanceOf:s,node:n,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:r,resetWarningCache:t};return i.PropTypes=i,i},gN}var tO;function fY(){return tO||(tO=1,mN.exports=dY()()),mN.exports}var hY=fY();const Na=Ia(hY),{getOwnPropertyNames:pY,getOwnPropertySymbols:mY}=Object,{hasOwnProperty:xY}=Object.prototype;function vN(e,t){return function(n,s,i){return e(n,s,i)&&t(n,s,i)}}function ev(e){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,s);const{cache:i}=s,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);const c=e(r,n,s);return i.delete(r),i.delete(n),c}}function gY(e){return e?.[Symbol.toStringTag]}function rO(e){return pY(e).concat(mY(e))}const vY=Object.hasOwn||((e,t)=>xY.call(e,t));function oh(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const yY="__v",bY="__o",wY="_owner",{getOwnPropertyDescriptor:nO,keys:aO}=Object;function NY(e,t){return e.byteLength===t.byteLength&&j1(new Uint8Array(e),new Uint8Array(t))}function jY(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function kY(e,t){return e.byteLength===t.byteLength&&j1(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function SY(e,t){return oh(e.getTime(),t.getTime())}function _Y(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function AY(e,t){return e===t}function sO(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const s=new Array(n),i=e.entries();let o,l,c=0;for(;(o=i.next())&&!o.done;){const u=t.entries();let d=!1,h=0;for(;(l=u.next())&&!l.done;){if(s[h]){h++;continue}const m=o.value,p=l.value;if(r.equals(m[0],p[0],c,h,e,t,r)&&r.equals(m[1],p[1],m[0],p[0],e,t,r)){d=s[h]=!0;break}h++}if(!d)return!1;c++}return!0}const EY=oh;function CY(e,t,r){const n=aO(e);let s=n.length;if(aO(t).length!==s)return!1;for(;s-- >0;)if(!xF(e,t,r,n[s]))return!1;return!0}function mm(e,t,r){const n=rO(e);let s=n.length;if(rO(t).length!==s)return!1;let i,o,l;for(;s-- >0;)if(i=n[s],!xF(e,t,r,i)||(o=nO(e,i),l=nO(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function TY(e,t){return oh(e.valueOf(),t.valueOf())}function OY(e,t){return e.source===t.source&&e.flags===t.flags}function iO(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const s=new Array(n),i=e.values();let o,l;for(;(o=i.next())&&!o.done;){const c=t.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!s[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=s[d]=!0;break}d++}if(!u)return!1}return!0}function j1(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function PY(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function xF(e,t,r,n){return(n===wY||n===bY||n===yY)&&(e.$$typeof||t.$$typeof)?!0:vY(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const IY="[object ArrayBuffer]",DY="[object Arguments]",LY="[object Boolean]",FY="[object DataView]",MY="[object Date]",RY="[object Error]",BY="[object Map]",UY="[object Number]",qY="[object Object]",$Y="[object RegExp]",zY="[object Set]",HY="[object String]",WY={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},VY="[object URL]",GY=Object.prototype.toString;function KY({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:s,areFunctionsEqual:i,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:h,areTypedArraysEqual:m,areUrlsEqual:p,unknownTagComparators:y}){return function(g,b,w){if(g===b)return!0;if(g==null||b==null)return!1;const j=typeof g;if(j!==typeof b)return!1;if(j!=="object")return j==="number"?l(g,b,w):j==="function"?i(g,b,w):!1;const N=g.constructor;if(N!==b.constructor)return!1;if(N===Object)return c(g,b,w);if(Array.isArray(g))return t(g,b,w);if(N===Date)return n(g,b,w);if(N===RegExp)return d(g,b,w);if(N===Map)return o(g,b,w);if(N===Set)return h(g,b,w);const k=GY.call(g);if(k===MY)return n(g,b,w);if(k===$Y)return d(g,b,w);if(k===BY)return o(g,b,w);if(k===zY)return h(g,b,w);if(k===qY)return typeof g.then!="function"&&typeof b.then!="function"&&c(g,b,w);if(k===VY)return p(g,b,w);if(k===RY)return s(g,b,w);if(k===DY)return c(g,b,w);if(WY[k])return m(g,b,w);if(k===IY)return e(g,b,w);if(k===FY)return r(g,b,w);if(k===LY||k===UY||k===HY)return u(g,b,w);if(y){let P=y[k];if(!P){const A=gY(g);A&&(P=y[A])}if(P)return P(g,b,w)}return!1}}function XY({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:NY,areArraysEqual:r?mm:jY,areDataViewsEqual:kY,areDatesEqual:SY,areErrorsEqual:_Y,areFunctionsEqual:AY,areMapsEqual:r?vN(sO,mm):sO,areNumbersEqual:EY,areObjectsEqual:r?mm:CY,arePrimitiveWrappersEqual:TY,areRegExpsEqual:OY,areSetsEqual:r?vN(iO,mm):iO,areTypedArraysEqual:r?vN(j1,mm):j1,areUrlsEqual:PY,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const s=ev(n.areArraysEqual),i=ev(n.areMapsEqual),o=ev(n.areObjectsEqual),l=ev(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:l})}return n}function YY(e){return function(t,r,n,s,i,o,l){return e(t,r,l)}}function JY({circular:e,comparator:t,createState:r,equals:n,strict:s}){if(r)return function(l,c){const{cache:u=e?new WeakMap:void 0,meta:d}=r();return t(l,c,{cache:u,equals:n,meta:d,strict:s})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:s})};const i={cache:void 0,equals:n,meta:void 0,strict:s};return function(l,c){return t(l,c,i)}}const QY=n0();n0({strict:!0});n0({circular:!0});n0({circular:!0,strict:!0});n0({createInternalComparator:()=>oh});n0({strict:!0,createInternalComparator:()=>oh});n0({circular:!0,createInternalComparator:()=>oh});n0({circular:!0,createInternalComparator:()=>oh,strict:!0});function n0(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:s=!1}=e,i=XY(e),o=KY(i),l=r?r(o):YY(o);return JY({circular:t,comparator:o,createState:n,equals:l,strict:s})}function ZY(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function oO(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(i){r<0&&(r=i),i-r>t?(e(i),r=-1):ZY(s)};requestAnimationFrame(n)}function d4(e){"@babel/helpers - typeof";return d4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d4(e)}function eJ(e){return aJ(e)||nJ(e)||rJ(e)||tJ()}function tJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rJ(e,t){if(e){if(typeof e=="string")return lO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lO(e,t)}}function lO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aJ(e){if(Array.isArray(e))return e}function sJ(){var e={},t=function(){return null},r=!1,n=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=eJ(o),c=l[0],u=l.slice(1);if(typeof c=="number"){oO(s.bind(null,u),c);return}s(c),oO(s.bind(null,u));return}d4(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function bx(e){"@babel/helpers - typeof";return bx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bx(e)}function cO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function uO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cO(Object(r),!0).forEach(function(n){gF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gF(e,t,r){return t=iJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iJ(e){var t=oJ(e,"string");return bx(t)==="symbol"?t:String(t)}function oJ(e,t){if(bx(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bx(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lJ=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,s){return n.filter(function(i){return s.includes(i)})})},cJ=function(t){return t},uJ=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Mm=function(t,r){return Object.keys(r).reduce(function(n,s){return uO(uO({},n),{},gF({},s,t(s,r[s])))},{})},dO=function(t,r,n){return t.map(function(s){return"".concat(uJ(s)," ").concat(r,"ms ").concat(n)}).join(",")};function dJ(e,t){return pJ(e)||hJ(e,t)||vF(e,t)||fJ()}function fJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function pJ(e){if(Array.isArray(e))return e}function mJ(e){return vJ(e)||gJ(e)||vF(e)||xJ()}function xJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vF(e,t){if(e){if(typeof e=="string")return f4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f4(e,t)}}function gJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vJ(e){if(Array.isArray(e))return f4(e)}function f4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var k1=1e-4,yF=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},bF=function(t,r){return t.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},fO=function(t,r){return function(n){var s=yF(t,r);return bF(s,n)}},yJ=function(t,r){return function(n){var s=yF(t,r),i=[].concat(mJ(s.map(function(o,l){return o*l}).slice(1)),[0]);return bF(i,n)}},hO=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),d=dJ(u,4);s=d[0],i=d[1],o=d[2],l=d[3]}}}var h=fO(s,o),m=fO(i,l),p=yJ(s,o),y=function(b){return b>1?1:b<0?0:b},v=function(b){for(var w=b>1?1:b,j=w,N=0;N<8;++N){var k=h(j)-w,P=p(j);if(Math.abs(k-w)<k1||P<k1)return m(j);j=y(j-k/P)}return m(j)};return v.isStepper=!1,v},bJ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,s=t.damping,i=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,c=function(d,h,m){var p=-(d-h)*n,y=m*i,v=m+(p-y)*l/1e3,g=m*l/1e3+d;return Math.abs(g-h)<k1&&Math.abs(v)<k1?[h,0]:[g,v]};return c.isStepper=!0,c.dt=l,c},wJ=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return hO(s);case"spring":return bJ();default:if(s.split("(")[0]==="cubic-bezier")return hO(s)}return typeof s=="function"?s:null};function wx(e){"@babel/helpers - typeof";return wx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wx(e)}function pO(e){return kJ(e)||jJ(e)||wF(e)||NJ()}function NJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kJ(e){if(Array.isArray(e))return p4(e)}function mO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function no(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mO(Object(r),!0).forEach(function(n){h4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h4(e,t,r){return t=SJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SJ(e){var t=_J(e,"string");return wx(t)==="symbol"?t:String(t)}function _J(e,t){if(wx(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wx(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AJ(e,t){return TJ(e)||CJ(e,t)||wF(e,t)||EJ()}function EJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wF(e,t){if(e){if(typeof e=="string")return p4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p4(e,t)}}function p4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function CJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function TJ(e){if(Array.isArray(e))return e}var S1=function(t,r,n){return t+(r-t)*n},m4=function(t){var r=t.from,n=t.to;return r!==n},OJ=function e(t,r,n){var s=Mm(function(i,o){if(m4(o)){var l=t(o.from,o.to,o.velocity),c=AJ(l,2),u=c[0],d=c[1];return no(no({},o),{},{from:u,velocity:d})}return o},r);return n<1?Mm(function(i,o){return m4(o)?no(no({},o),{},{velocity:S1(o.velocity,s[i].velocity,n),from:S1(o.from,s[i].from,n)}):o},r):e(t,s,n-1)};const PJ=(function(e,t,r,n,s){var i=lJ(e,t),o=i.reduce(function(g,b){return no(no({},g),{},h4({},b,[e[b],t[b]]))},{}),l=i.reduce(function(g,b){return no(no({},g),{},h4({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,u,d,h=function(){return null},m=function(){return Mm(function(b,w){return w.from},l)},p=function(){return!Object.values(l).filter(m4).length},y=function(b){u||(u=b);var w=b-u,j=w/r.dt;l=OJ(r,l,j),s(no(no(no({},e),t),m())),u=b,p()||(c=requestAnimationFrame(h))},v=function(b){d||(d=b);var w=(b-d)/n,j=Mm(function(k,P){return S1.apply(void 0,pO(P).concat([r(w)]))},o);if(s(no(no(no({},e),t),j)),w<1)c=requestAnimationFrame(h);else{var N=Mm(function(k,P){return S1.apply(void 0,pO(P).concat([r(1)]))},o);s(no(no(no({},e),t),N))}};return h=r.isStepper?y:v,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}});function pp(e){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pp(e)}var IJ=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function DJ(e,t){if(e==null)return{};var r=LJ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LJ(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function yN(e){return BJ(e)||RJ(e)||MJ(e)||FJ()}function FJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MJ(e,t){if(e){if(typeof e=="string")return x4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x4(e,t)}}function RJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BJ(e){if(Array.isArray(e))return x4(e)}function x4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xO(Object(r),!0).forEach(function(n){Am(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Am(e,t,r){return t=NF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NF(n.key),n)}}function $J(e,t,r){return t&&qJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function NF(e){var t=zJ(e,"string");return pp(t)==="symbol"?t:String(t)}function zJ(e,t){if(pp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g4(e,t)}function g4(e,t){return g4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},g4(e,t)}function WJ(e){var t=VJ();return function(){var n=_1(e),s;if(t){var i=_1(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return v4(this,s)}}function v4(e,t){if(t&&(pp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y4(e)}function y4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VJ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _1(e){return _1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_1(e)}var Zd=(function(e){HJ(r,e);var t=WJ(r);function r(n,s){var i;UJ(this,r),i=t.call(this,n,s);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,h=o.steps,m=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(y4(i)),i.changeStyle=i.changeStyle.bind(y4(i)),!l||p<=0)return i.state={style:{}},typeof m=="function"&&(i.state={style:d}),v4(i);if(h&&h.length)i.state={style:h[0].style};else if(u){if(typeof m=="function")return i.state={style:u},v4(i);i.state={style:c?Am({},c,u):u}}else i.state={style:{}};return i}return $J(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,h=i.from,m=this.state.style;if(l){if(!o){var p={style:c?Am({},c,d):d};this.state&&m&&(c&&m[c]!==d||!c&&m!==d)&&this.setState(p);return}if(!(QY(s.to,d)&&s.canBegin&&s.isActive)){var y=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=y||u?h:s.to;if(this.state&&m){var g={style:c?Am({},c,v):v};(c&&m[c]!==v||!c&&m!==v)&&this.setState(g)}this.runAnimation(pu(pu({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,c=s.duration,u=s.easing,d=s.begin,h=s.onAnimationEnd,m=s.onAnimationStart,p=PJ(o,l,wJ(u),c,this.changeStyle),y=function(){i.stopJSAnimation=p()};this.manager.start([m,d,y,c,h])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,c=s.onAnimationStart,u=o[0],d=u.style,h=u.duration,m=h===void 0?0:h,p=function(v,g,b){if(b===0)return v;var w=g.duration,j=g.easing,N=j===void 0?"ease":j,k=g.style,P=g.properties,A=g.onAnimationEnd,O=b>0?o[b-1]:g,D=P||Object.keys(k);if(typeof N=="function"||N==="spring")return[].concat(yN(v),[i.runJSAnimation.bind(i,{from:O.style,to:k,duration:w,easing:N}),w]);var R=dO(D,w,N),C=pu(pu(pu({},O.style),k),{},{transition:R});return[].concat(yN(v),[C,w,A]).filter(cJ)};return this.manager.start([c].concat(yN(o.reduce(p,[d,Math.max(m,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=sJ());var i=s.begin,o=s.duration,l=s.attributeName,c=s.to,u=s.easing,d=s.onAnimationStart,h=s.onAnimationEnd,m=s.steps,p=s.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(s);return}if(m.length>1){this.runStepAnimation(s);return}var v=l?Am({},l,c):c,g=dO(Object.keys(v),o,u);y.start([d,i,pu(pu({},v),{},{transition:g}),o,h])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=DJ(s,IJ),u=z.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var h=function(p){var y=p.props,v=y.style,g=v===void 0?{}:v,b=y.className,w=z.cloneElement(p,pu(pu({},c),{},{style:pu(pu({},g),d),className:b}));return w};return u===1?h(z.Children.only(i)):it.createElement("div",null,z.Children.map(i,function(m){return h(m)}))}}]),r})(z.PureComponent);Zd.displayName="Animate";Zd.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Zd.propTypes={from:Na.oneOfType([Na.object,Na.string]),to:Na.oneOfType([Na.object,Na.string]),attributeName:Na.string,duration:Na.number,begin:Na.number,easing:Na.oneOfType([Na.string,Na.func]),steps:Na.arrayOf(Na.shape({duration:Na.number.isRequired,style:Na.object.isRequired,easing:Na.oneOfType([Na.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Na.func]),properties:Na.arrayOf("string"),onAnimationEnd:Na.func})),children:Na.oneOfType([Na.node,Na.func]),isActive:Na.bool,canBegin:Na.bool,onAnimationEnd:Na.func,shouldReAnimate:Na.bool,onAnimationStart:Na.func,onAnimationReStart:Na.func};function Nx(e){"@babel/helpers - typeof";return Nx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nx(e)}function A1(){return A1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A1.apply(this,arguments)}function GJ(e,t){return JJ(e)||YJ(e,t)||XJ(e,t)||KJ()}function KJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XJ(e,t){if(e){if(typeof e=="string")return gO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gO(e,t)}}function gO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function YJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function JJ(e){if(Array.isArray(e))return e}function vO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function yO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vO(Object(r),!0).forEach(function(n){QJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QJ(e,t,r){return t=ZJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZJ(e){var t=eQ(e,"string");return Nx(t)=="symbol"?t:t+""}function eQ(e,t){if(Nx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bO=function(t,r,n,s,i){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,c=n>=0?1:-1,u=s>=0&&n>=0||s<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],m=0,p=4;m<p;m++)h[m]=i[m]>o?o:i[m];d="M".concat(t,",").concat(r+l*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(t+c*h[0],",").concat(r)),d+="L ".concat(t+n-c*h[1],",").concat(r),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*h[1])),d+="L ".concat(t+n,",").concat(r+s-l*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(t+n-c*h[2],",").concat(r+s)),d+="L ".concat(t+c*h[3],",").concat(r+s),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+s-l*h[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var y=Math.min(o,i);d="M ".concat(t,",").concat(r+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+c*y,",").concat(r,`
            L `).concat(t+n-c*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*y,`
            L `).concat(t+n,",").concat(r+s-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n-c*y,",").concat(r+s,`
            L `).concat(t+c*y,",").concat(r+s,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t,",").concat(r+s-l*y," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return d},tQ=function(t,r){if(!t||!r)return!1;var n=t.x,s=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),h=Math.min(o,o+c),m=Math.max(o,o+c);return n>=u&&n<=d&&s>=h&&s<=m}return!1},rQ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},m3=function(t){var r=yO(yO({},rQ),t),n=z.useRef(),s=z.useState(-1),i=GJ(s,2),o=i[0],l=i[1];z.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&l(N)}catch{}},[]);var c=r.x,u=r.y,d=r.width,h=r.height,m=r.radius,p=r.className,y=r.animationEasing,v=r.animationDuration,g=r.animationBegin,b=r.isAnimationActive,w=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||h!==+h||d===0||h===0)return null;var j=xa("recharts-rectangle",p);return w?it.createElement(Zd,{canBegin:o>0,from:{width:d,height:h,x:c,y:u},to:{width:d,height:h,x:c,y:u},duration:v,animationEasing:y,isActive:w},function(N){var k=N.width,P=N.height,A=N.x,O=N.y;return it.createElement(Zd,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:v,isActive:b,easing:y},it.createElement("path",A1({},Un(r,!0),{className:j,d:bO(A,O,k,P,m),ref:n})))}):it.createElement("path",A1({},Un(r,!0),{className:j,d:bO(c,u,d,h,m)}))};function b4(){return b4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b4.apply(this,arguments)}var x3=function(t){var r=t.cx,n=t.cy,s=t.r,i=t.className,o=xa("recharts-dot",i);return r===+r&&n===+n&&s===+s?it.createElement("circle",b4({},Un(t,!1),Gv(t),{className:o,cx:r,cy:n,r:s})):null};function jx(e){"@babel/helpers - typeof";return jx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jx(e)}var nQ=["x","y","top","left","width","height","className"];function w4(){return w4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w4.apply(this,arguments)}function wO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function aQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wO(Object(r),!0).forEach(function(n){sQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sQ(e,t,r){return t=iQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iQ(e){var t=oQ(e,"string");return jx(t)=="symbol"?t:t+""}function oQ(e,t){if(jx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lQ(e,t){if(e==null)return{};var r=cQ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var uQ=function(t,r,n,s,i,o){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(n)},dQ=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,h=d===void 0?0:d,m=t.height,p=m===void 0?0:m,y=t.className,v=lQ(t,nQ),g=aQ({x:n,y:i,top:l,left:u,width:h,height:p},v);return!hr(n)||!hr(i)||!hr(h)||!hr(p)||!hr(l)||!hr(u)?null:it.createElement("path",w4({},Un(g,!0),{className:xa("recharts-cross",y),d:uQ(n,i,h,p,l,u)}))},bN,NO;function fQ(){if(NO)return bN;NO=1;var e=$D(),t=e(Object.getPrototypeOf,Object);return bN=t,bN}var wN,jO;function hQ(){if(jO)return wN;jO=1;var e=rf(),t=fQ(),r=nf(),n="[object Object]",s=Function.prototype,i=Object.prototype,o=s.toString,l=i.hasOwnProperty,c=o.call(Object);function u(d){if(!r(d)||e(d)!=n)return!1;var h=t(d);if(h===null)return!0;var m=l.call(h,"constructor")&&h.constructor;return typeof m=="function"&&m instanceof m&&o.call(m)==c}return wN=u,wN}var pQ=hQ();const mQ=Ia(pQ);var NN,kO;function xQ(){if(kO)return NN;kO=1;var e=rf(),t=nf(),r="[object Boolean]";function n(s){return s===!0||s===!1||t(s)&&e(s)==r}return NN=n,NN}var gQ=xQ();const vQ=Ia(gQ);function kx(e){"@babel/helpers - typeof";return kx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kx(e)}function E1(){return E1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E1.apply(this,arguments)}function yQ(e,t){return jQ(e)||NQ(e,t)||wQ(e,t)||bQ()}function bQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wQ(e,t){if(e){if(typeof e=="string")return SO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SO(e,t)}}function SO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function NQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function jQ(e){if(Array.isArray(e))return e}function _O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function AO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_O(Object(r),!0).forEach(function(n){kQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_O(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kQ(e,t,r){return t=SQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SQ(e){var t=_Q(e,"string");return kx(t)=="symbol"?t:t+""}function _Q(e,t){if(kx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EO=function(t,r,n,s,i){var o=n-s,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-s,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},AQ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},EQ=function(t){var r=AO(AO({},AQ),t),n=z.useRef(),s=z.useState(-1),i=yQ(s,2),o=i[0],l=i[1];z.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,h=r.lowerWidth,m=r.height,p=r.className,y=r.animationEasing,v=r.animationDuration,g=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||h!==+h||m!==+m||d===0&&h===0||m===0)return null;var w=xa("recharts-trapezoid",p);return b?it.createElement(Zd,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:u},to:{upperWidth:d,lowerWidth:h,height:m,x:c,y:u},duration:v,animationEasing:y,isActive:b},function(j){var N=j.upperWidth,k=j.lowerWidth,P=j.height,A=j.x,O=j.y;return it.createElement(Zd,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:v,easing:y},it.createElement("path",E1({},Un(r,!0),{className:w,d:EO(A,O,N,k,P),ref:n})))}):it.createElement("g",null,it.createElement("path",E1({},Un(r,!0),{className:w,d:EO(c,u,d,h,m)})))},CQ=["option","shapeType","propTransformer","activeClassName","isActive"];function Sx(e){"@babel/helpers - typeof";return Sx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sx(e)}function TQ(e,t){if(e==null)return{};var r=OQ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function OQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function CO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function C1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CO(Object(r),!0).forEach(function(n){PQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PQ(e,t,r){return t=IQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IQ(e){var t=DQ(e,"string");return Sx(t)=="symbol"?t:t+""}function DQ(e,t){if(Sx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LQ(e,t){return C1(C1({},t),e)}function FQ(e,t){return e==="symbols"}function TO(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return it.createElement(m3,r);case"trapezoid":return it.createElement(EQ,r);case"sector":return it.createElement(mF,r);case"symbols":if(FQ(t))return it.createElement(Dk,r);break;default:return null}}function MQ(e){return z.isValidElement(e)?e.props:e}function RQ(e){var t=e.option,r=e.shapeType,n=e.propTransformer,s=n===void 0?LQ:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=TQ(e,CQ),u;if(z.isValidElement(t))u=z.cloneElement(t,C1(C1({},c),MQ(t)));else if(An(t))u=t(c);else if(mQ(t)&&!vQ(t)){var d=s(t,c);u=it.createElement(TO,{shapeType:r,elementProps:d})}else{var h=c;u=it.createElement(TO,{shapeType:r,elementProps:h})}return l?it.createElement(ys,{className:o},u):u}function Dy(e,t){return t!=null&&"trapezoids"in e.props}function Ly(e,t){return t!=null&&"sectors"in e.props}function _x(e,t){return t!=null&&"points"in e.props}function BQ(e,t){var r,n,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return s&&i}function UQ(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function qQ(e,t){var r=e.x===t.x,n=e.y===t.y,s=e.z===t.z;return r&&n&&s}function $Q(e,t){var r;return Dy(e,t)?r=BQ:Ly(e,t)?r=UQ:_x(e,t)&&(r=qQ),r}function zQ(e,t){var r;return Dy(e,t)?r="trapezoids":Ly(e,t)?r="sectors":_x(e,t)&&(r="points"),r}function HQ(e,t){if(Dy(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Ly(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return _x(e,t)?t.payload:{}}function WQ(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,s=zQ(r,t),i=HQ(r,t),o=n.filter(function(c,u){var d=cx(i,c),h=r.props[s].filter(function(y){var v=$Q(r,t);return v(y,t)}),m=r.props[s].indexOf(h[h.length-1]),p=u===m;return d&&p}),l=n.indexOf(o[o.length-1]);return l}var jN,OO;function VQ(){if(OO)return jN;OO=1;var e=Math.ceil,t=Math.max;function r(n,s,i,o){for(var l=-1,c=t(e((s-n)/(i||1)),0),u=Array(c);c--;)u[o?c:++l]=n,n+=i;return u}return jN=r,jN}var kN,PO;function jF(){if(PO)return kN;PO=1;var e=aL(),t=1/0,r=17976931348623157e292;function n(s){if(!s)return s===0?s:0;if(s=e(s),s===t||s===-t){var i=s<0?-1:1;return i*r}return s===s?s:0}return kN=n,kN}var SN,IO;function GQ(){if(IO)return SN;IO=1;var e=VQ(),t=jy(),r=jF();function n(s){return function(i,o,l){return l&&typeof l!="number"&&t(i,o,l)&&(o=l=void 0),i=r(i),o===void 0?(o=i,i=0):o=r(o),l=l===void 0?i<o?1:-1:r(l),e(i,o,l,s)}}return SN=n,SN}var _N,DO;function KQ(){if(DO)return _N;DO=1;var e=GQ(),t=e();return _N=t,_N}var XQ=KQ();const T1=Ia(XQ);function Ax(e){"@babel/helpers - typeof";return Ax=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ax(e)}function LO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function FO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LO(Object(r),!0).forEach(function(n){kF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kF(e,t,r){return t=YQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YQ(e){var t=JQ(e,"string");return Ax(t)=="symbol"?t:t+""}function JQ(e,t){if(Ax(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ax(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QQ=["Webkit","Moz","O","ms"],ZQ=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=QQ.reduce(function(i,o){return FO(FO({},i),{},kF({},o+n,r))},{});return s[t]=r,s};function mp(e){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mp(e)}function O1(){return O1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O1.apply(this,arguments)}function MO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function AN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MO(Object(r),!0).forEach(function(n){Vl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_F(n.key),n)}}function tZ(e,t,r){return t&&RO(e.prototype,t),r&&RO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function rZ(e,t,r){return t=P1(t),nZ(e,SF()?Reflect.construct(t,r||[],P1(e).constructor):t.apply(e,r))}function nZ(e,t){if(t&&(mp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aZ(e)}function aZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SF=function(){return!!e})()}function P1(e){return P1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},P1(e)}function sZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N4(e,t)}function N4(e,t){return N4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},N4(e,t)}function Vl(e,t,r){return t=_F(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _F(e){var t=iZ(e,"string");return mp(t)=="symbol"?t:t+""}function iZ(e,t){if(mp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var oZ=function(t){var r=t.data,n=t.startIndex,s=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Dm().domain(T1(0,c)).range([i,i+o-l]),d=u.domain().map(function(h){return u(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(s),scale:u,scaleValues:d}},BO=function(t){return t.changedTouches&&!!t.changedTouches.length},xp=(function(e){function t(r){var n;return eZ(this,t),n=rZ(this,t,[r]),Vl(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),Vl(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),Vl(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o?.({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),Vl(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Vl(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Vl(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Vl(n,"handleSlideDragStart",function(s){var i=BO(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return sZ(t,e),tZ(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,h=Math.min(s,i),m=Math.max(s,i),p=t.getIndexInRange(o,h),y=t.getIndexInRange(o,m);return{startIndex:p-p%c,endIndex:y===d?d:y-y%c}}},{key:"getTextOfTick",value:function(n){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,c=tc(i[n],l,n);return An(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,u=c.x,d=c.width,h=c.travellerWidth,m=c.startIndex,p=c.endIndex,y=c.onChange,v=n.pageX-i;v>0?v=Math.min(v,u+d-h-l,u+d-h-o):v<0&&(v=Math.max(v,u-o,u-l));var g=this.getIndex({startX:o+v,endX:l+v});(g.startIndex!==m||g.endIndex!==p)&&y&&y(g),this.setState({startX:o+v,endX:l+v,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var i=BO(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[o],d=this.props,h=d.x,m=d.width,p=d.travellerWidth,y=d.onChange,v=d.gap,g=d.data,b={startX:this.state.startX,endX:this.state.endX},w=n.pageX-i;w>0?w=Math.min(w,h+m-p-u):w<0&&(w=Math.max(w,h-u)),b[o]=u+w;var j=this.getIndex(b),N=j.startIndex,k=j.endIndex,P=function(){var O=g.length-1;return o==="startX"&&(l>c?N%v===0:k%v===0)||l<c&&k===O||o==="endX"&&(l>c?k%v===0:N%v===0)||l>c&&k===O};this.setState(Vl(Vl({},o,u+w),"brushMoveStartX",n.pageX),function(){y&&P()&&y(j)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[s],h=l.indexOf(d);if(h!==-1){var m=h+n;if(!(m===-1||m>=l.length)){var p=l[m];s==="startX"&&p>=u||s==="endX"&&p<=c||this.setState(Vl({},s,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return it.createElement("rect",{stroke:u,fill:c,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,h=z.Children.only(u);return h?it.cloneElement(h,{x:s,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,s){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,h=c.height,m=c.traveller,p=c.ariaLabel,y=c.data,v=c.startIndex,g=c.endIndex,b=Math.max(n,this.props.x),w=AN(AN({},Un(this.props,!1)),{},{x:b,y:u,width:d,height:h}),j=p||"Min value: ".concat((i=y[v])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=y[g])===null||o===void 0?void 0:o.name);return it.createElement(ys,{tabIndex:0,role:"slider","aria-label":j,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(k){["ArrowLeft","ArrowRight"].includes(k.key)&&(k.preventDefault(),k.stopPropagation(),l.handleTravellerMoveKeyboard(k.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(m,w))}},{key:"renderSlide",value:function(n,s){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,s)+u,h=Math.max(Math.abs(s-n)-u,0);return it.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:h,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,h=d.startX,m=d.endX,p=5,y={pointerEvents:"none",fill:u};return it.createElement(ys,{className:"recharts-brush-texts"},it.createElement(s1,O1({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,m)-p,y:o+l/2},y),this.getTextOfTick(s)),it.createElement(s1,O1({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,m)+c+p,y:o+l/2},y),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,s=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,h=n.alwaysShowText,m=this.state,p=m.startX,y=m.endX,v=m.isTextActive,g=m.isSlideMoving,b=m.isTravellerMoving,w=m.isTravellerFocused;if(!s||!s.length||!hr(l)||!hr(c)||!hr(u)||!hr(d)||u<=0||d<=0)return null;var j=xa("recharts-brush",i),N=it.Children.count(o)===1,k=ZQ("userSelect","none");return it.createElement(ys,{className:j,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:k},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(p,y),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(y,"endX"),(v||g||b||w||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return it.createElement(it.Fragment,null,it.createElement("rect",{x:s,y:i,width:o,height:l,fill:c,stroke:"none"}),it.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),it.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var i;return it.isValidElement(n)?i=it.cloneElement(n,s):An(n)?i=n(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(n,s){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,h=n.endIndex;if(i!==s.prevData||u!==s.prevUpdateId)return AN({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?oZ({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:h}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var m=s.scale.domain().map(function(p){return s.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(n,s){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>s?l=c:o=c}return s>=n[l]?l:o}}])})(z.PureComponent);Vl(xp,"displayName","Brush");Vl(xp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var EN,UO;function lZ(){if(UO)return EN;UO=1;var e=qk();function t(r,n){var s;return e(r,function(i,o,l){return s=n(i,o,l),!s}),!!s}return EN=t,EN}var CN,qO;function cZ(){if(qO)return CN;qO=1;var e=LD(),t=e0(),r=lZ(),n=Al(),s=jy();function i(o,l,c){var u=n(o)?e:r;return c&&s(o,l,c)&&(l=void 0),u(o,t(l,3))}return CN=i,CN}var uZ=cZ();const dZ=Ia(uZ);var od=function(t,r){var n=t.alwaysShow,s=t.ifOverflow;return n&&(s="extendDomain"),s===r},TN,$O;function fZ(){if($O)return TN;$O=1;var e=ZD();function t(r,n,s){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:s,writable:!0}):r[n]=s}return TN=t,TN}var ON,zO;function hZ(){if(zO)return ON;zO=1;var e=fZ(),t=JD(),r=e0();function n(s,i){var o={};return i=r(i,3),t(s,function(l,c,u){e(o,c,i(l,c,u))}),o}return ON=n,ON}var pZ=hZ();const mZ=Ia(pZ);var PN,HO;function xZ(){if(HO)return PN;HO=1;function e(t,r){for(var n=-1,s=t==null?0:t.length;++n<s;)if(!r(t[n],n,t))return!1;return!0}return PN=e,PN}var IN,WO;function gZ(){if(WO)return IN;WO=1;var e=qk();function t(r,n){var s=!0;return e(r,function(i,o,l){return s=!!n(i,o,l),s}),s}return IN=t,IN}var DN,VO;function vZ(){if(VO)return DN;VO=1;var e=xZ(),t=gZ(),r=e0(),n=Al(),s=jy();function i(o,l,c){var u=n(o)?e:t;return c&&s(o,l,c)&&(l=void 0),u(o,r(l,3))}return DN=i,DN}var yZ=vZ();const AF=Ia(yZ);var bZ=["x","y"];function Ex(e){"@babel/helpers - typeof";return Ex=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ex(e)}function j4(){return j4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j4.apply(this,arguments)}function GO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GO(Object(r),!0).forEach(function(n){wZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wZ(e,t,r){return t=NZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NZ(e){var t=jZ(e,"string");return Ex(t)=="symbol"?t:t+""}function jZ(e,t){if(Ex(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ex(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kZ(e,t){if(e==null)return{};var r=SZ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function SZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _Z(e,t){var r=e.x,n=e.y,s=kZ(e,bZ),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||s.height),d=parseInt(u,10),h="".concat(t.width||s.width),m=parseInt(h,10);return xm(xm(xm(xm(xm({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:m,name:t.name,radius:t.radius})}function KO(e){return it.createElement(RQ,j4({shapeType:"rectangle",propTransformer:_Z,activeClassName:"recharts-active-bar"},e))}var AZ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof t=="number")return t;var i=typeof n=="number";return i?t(n,s):(i||K0(),r)}},EZ=["value","background"],EF;function gp(e){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gp(e)}function CZ(e,t){if(e==null)return{};var r=TZ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function TZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function I1(){return I1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I1.apply(this,arguments)}function XO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ai(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XO(Object(r),!0).forEach(function(n){Ff(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TF(n.key),n)}}function PZ(e,t,r){return t&&YO(e.prototype,t),r&&YO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function IZ(e,t,r){return t=D1(t),DZ(e,CF()?Reflect.construct(t,r||[],D1(e).constructor):t.apply(e,r))}function DZ(e,t){if(t&&(gp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LZ(e)}function LZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CF=function(){return!!e})()}function D1(e){return D1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},D1(e)}function FZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k4(e,t)}function k4(e,t){return k4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},k4(e,t)}function Ff(e,t,r){return t=TF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TF(e){var t=MZ(e,"string");return gp(t)=="symbol"?t:t+""}function MZ(e,t){if(gp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ng=(function(e){function t(){var r;OZ(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=IZ(this,t,[].concat(s)),Ff(r,"state",{isAnimationFinished:!1}),Ff(r,"id",Jx("recharts-bar-")),Ff(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Ff(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return FZ(t,e),PZ(t,[{key:"renderRectanglesStatically",value:function(n){var s=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=Un(this.props,!1);return n&&n.map(function(h,m){var p=m===c,y=p?u:o,v=ai(ai(ai({},d),h),{},{isActive:p,option:y,index:m,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return it.createElement(ys,I1({className:"recharts-bar-rectangle"},Kv(s.props,h,m),{key:"rectangle-".concat(h?.x,"-").concat(h?.y,"-").concat(h?.value)}),it.createElement(KO,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,d=s.animationEasing,h=s.animationId,m=this.state.prevData;return it.createElement(Zd,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var y=p.t,v=i.map(function(g,b){var w=m&&m[b];if(w){var j=Tc(w.x,g.x),N=Tc(w.y,g.y),k=Tc(w.width,g.width),P=Tc(w.height,g.height);return ai(ai({},g),{},{x:j(y),y:N(y),width:k(y),height:P(y)})}if(o==="horizontal"){var A=Tc(0,g.height),O=A(y);return ai(ai({},g),{},{y:g.y+g.height-O,height:O})}var D=Tc(0,g.width),R=D(y);return ai(ai({},g),{},{width:R})});return it.createElement(ys,null,n.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!cx(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,c=Un(this.props.background,!1);return i.map(function(u,d){u.value;var h=u.background,m=CZ(u,EZ);if(!h)return null;var p=ai(ai(ai(ai(ai({},m),{},{fill:"#eee"},h),c),Kv(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return it.createElement(KO,I1({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,h=Eu(d,Iy);if(!h)return null;var m=u==="vertical"?o[0].height/2:o[0].width/2,p=function(g,b){var w=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:w,errorVal:tc(g,b)}},y={clipPath:n?"url(#clipPath-".concat(s,")"):null};return it.createElement(ys,y,h.map(function(v){return it.cloneElement(v,{key:"error-bar-".concat(s,"-").concat(v.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:m,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,h=n.width,m=n.height,p=n.isAnimationActive,y=n.background,v=n.id;if(s||!i||!i.length)return null;var g=this.state.isAnimationFinished,b=xa("recharts-bar",o),w=l&&l.allowDataOverflow,j=c&&c.allowDataOverflow,N=w||j,k=Kn(v)?this.id:v;return it.createElement(ys,{className:b},w||j?it.createElement("defs",null,it.createElement("clipPath",{id:"clipPath-".concat(k)},it.createElement("rect",{x:w?u:u-h/2,y:j?d:d-m/2,width:w?h:h*2,height:j?m:m*2}))):null,it.createElement(ys,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(k,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,k),(!p||g)&&zf.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])})(z.PureComponent);EF=ng;Ff(ng,"displayName","Bar");Ff(ng,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Mp.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ff(ng,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,s=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,h=e.displayedData,m=e.offset,p=QK(n,r);if(!p)return null;var y=t.layout,v=r.type.defaultProps,g=v!==void 0?ai(ai({},v),r.props):r.props,b=g.dataKey,w=g.children,j=g.minPointSize,N=y==="horizontal"?o:i,k=u?N.scale.domain():null,P=iX({numericAxis:N}),A=Eu(w,iL),O=h.map(function(D,R){var C,T,I,B,X,re;u?C=ZK(u[d+R],k):(C=tc(D,b),Array.isArray(C)||(C=[P,C]));var Z=AZ(j,EF.defaultProps.minPointSize)(C[1],R);if(y==="horizontal"){var te,Y=[o.scale(C[0]),o.scale(C[1])],Q=Y[0],H=Y[1];T=FT({axis:i,ticks:l,bandSize:s,offset:p.offset,entry:D,index:R}),I=(te=H??Q)!==null&&te!==void 0?te:void 0,B=p.size;var E=Q-H;if(X=Number.isNaN(E)?0:E,re={x:T,y:o.y,width:B,height:o.height},Math.abs(Z)>0&&Math.abs(X)<Math.abs(Z)){var q=ku(X||Z)*(Math.abs(Z)-Math.abs(X));I-=q,X+=q}}else{var V=[i.scale(C[0]),i.scale(C[1])],U=V[0],G=V[1];if(T=U,I=FT({axis:o,ticks:c,bandSize:s,offset:p.offset,entry:D,index:R}),B=G-U,X=p.size,re={x:i.x,y:I,width:i.width,height:X},Math.abs(Z)>0&&Math.abs(B)<Math.abs(Z)){var ne=ku(B||Z)*(Math.abs(Z)-Math.abs(B));B+=ne}}return ai(ai(ai({},D),{},{x:T,y:I,width:B,height:X,value:u?C:C[1],payload:D,background:re},A&&A[R]&&A[R].props),{},{tooltipPayload:[fF(r,D)],tooltipPosition:{x:T+B/2,y:I+X/2}})});return ai({data:O,layout:y},m)});function Cx(e){"@babel/helpers - typeof";return Cx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cx(e)}function RZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OF(n.key),n)}}function BZ(e,t,r){return t&&JO(e.prototype,t),r&&JO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function QO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QO(Object(r),!0).forEach(function(n){Fy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fy(e,t,r){return t=OF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OF(e){var t=UZ(e,"string");return Cx(t)=="symbol"?t:t+""}function UZ(e,t){if(Cx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qZ=function(t,r,n,s,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),h={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},m=!!Gl(u,ng);return d.reduce(function(p,y){var v=r[y],g=v.orientation,b=v.domain,w=v.padding,j=w===void 0?{}:w,N=v.mirror,k=v.reversed,P="".concat(g).concat(N?"Mirror":""),A,O,D,R,C;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var T=b[1]-b[0],I=1/0,B=v.categoricalDomain.sort();if(B.forEach(function(V,U){U>0&&(I=Math.min((V||0)-(B[U-1]||0),I))}),Number.isFinite(I)){var X=I/T,re=v.layout==="vertical"?n.height:n.width;if(v.padding==="gap"&&(A=X*re/2),v.padding==="no-gap"){var Z=V0(t.barCategoryGap,X*re),te=X*re/2;A=te-Z-(te-Z)/re*Z}}}s==="xAxis"?O=[n.left+(j.left||0)+(A||0),n.left+n.width-(j.right||0)-(A||0)]:s==="yAxis"?O=c==="horizontal"?[n.top+n.height-(j.bottom||0),n.top+(j.top||0)]:[n.top+(j.top||0)+(A||0),n.top+n.height-(j.bottom||0)-(A||0)]:O=v.range,k&&(O=[O[1],O[0]]);var Y=YK(v,i,m),Q=Y.scale,H=Y.realScaleType;Q.domain(b).range(O),JK(Q);var E=sX(Q,wu(wu({},v),{},{realScaleType:H}));s==="xAxis"?(C=g==="top"&&!N||g==="bottom"&&N,D=n.left,R=h[P]-C*v.height):s==="yAxis"&&(C=g==="left"&&!N||g==="right"&&N,D=h[P]-C*v.width,R=n.top);var q=wu(wu(wu({},v),E),{},{realScaleType:H,x:D,y:R,scale:Q,width:s==="xAxis"?n.width:v.width,height:s==="yAxis"?n.height:v.height});return q.bandSize=b1(q,E),!v.hide&&s==="xAxis"?h[P]+=(C?-1:1)*q.height:v.hide||(h[P]+=(C?-1:1)*q.width),wu(wu({},p),{},Fy({},y,q))},{})},PF=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(s,o),width:Math.abs(i-n),height:Math.abs(o-s)}},$Z=function(t){var r=t.x1,n=t.y1,s=t.x2,i=t.y2;return PF({x:r,y:n},{x:s,y:i})},IF=(function(){function e(t){RZ(this,e),this.scale=t}return BZ(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],i=n[n.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])})();Fy(IF,"EPS",1e-4);var g3=function(t){var r=Object.keys(t).reduce(function(n,s){return wu(wu({},n),{},Fy({},s,IF.create(t[s])))},{});return wu(wu({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return mZ(s,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return AF(s,function(i,o){return r[o].isInRange(i)})}})};function zZ(e){return(e%180+180)%180}var HZ=function(t){var r=t.width,n=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=zZ(s),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},LN,ZO;function WZ(){if(ZO)return LN;ZO=1;var e=e0(),t=Qx(),r=wy();function n(s){return function(i,o,l){var c=Object(i);if(!t(i)){var u=e(o,3);i=r(i),o=function(h){return u(c[h],h,c)}}var d=s(i,o,l);return d>-1?c[u?i[d]:d]:void 0}}return LN=n,LN}var FN,eP;function VZ(){if(eP)return FN;eP=1;var e=jF();function t(r){var n=e(r),s=n%1;return n===n?s?n-s:n:0}return FN=t,FN}var MN,tP;function GZ(){if(tP)return MN;tP=1;var e=VD(),t=e0(),r=VZ(),n=Math.max;function s(i,o,l){var c=i==null?0:i.length;if(!c)return-1;var u=l==null?0:r(l);return u<0&&(u=n(c+u,0)),e(i,t(o,3),u)}return MN=s,MN}var RN,rP;function KZ(){if(rP)return RN;rP=1;var e=WZ(),t=GZ(),r=e(t);return RN=r,RN}var XZ=KZ();const YZ=Ia(XZ);var JZ=oD();const QZ=Ia(JZ);var ZZ=QZ(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),v3=z.createContext(void 0),y3=z.createContext(void 0),DF=z.createContext(void 0),LF=z.createContext({}),FF=z.createContext(void 0),MF=z.createContext(0),RF=z.createContext(0),nP=function(t){var r=t.state,n=r.xAxisMap,s=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=ZZ(i);return it.createElement(v3.Provider,{value:n},it.createElement(y3.Provider,{value:s},it.createElement(LF.Provider,{value:i},it.createElement(DF.Provider,{value:d},it.createElement(FF.Provider,{value:o},it.createElement(MF.Provider,{value:u},it.createElement(RF.Provider,{value:c},l)))))))},eee=function(){return z.useContext(FF)},BF=function(t){var r=z.useContext(v3);r==null&&K0();var n=r[t];return n==null&&K0(),n},tee=function(){var t=z.useContext(v3);return Df(t)},ree=function(){var t=z.useContext(y3),r=YZ(t,function(n){return AF(n.domain,Number.isFinite)});return r||Df(t)},UF=function(t){var r=z.useContext(y3);r==null&&K0();var n=r[t];return n==null&&K0(),n},nee=function(){var t=z.useContext(DF);return t},aee=function(){return z.useContext(LF)},b3=function(){return z.useContext(RF)},w3=function(){return z.useContext(MF)};function vp(e){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vp(e)}function see(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$F(n.key),n)}}function oee(e,t,r){return t&&iee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lee(e,t,r){return t=L1(t),cee(e,qF()?Reflect.construct(t,r||[],L1(e).constructor):t.apply(e,r))}function cee(e,t){if(t&&(vp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uee(e)}function uee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qF=function(){return!!e})()}function L1(e){return L1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},L1(e)}function dee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S4(e,t)}function S4(e,t){return S4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},S4(e,t)}function aP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function sP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aP(Object(r),!0).forEach(function(n){N3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N3(e,t,r){return t=$F(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $F(e){var t=fee(e,"string");return vp(t)=="symbol"?t:t+""}function fee(e,t){if(vp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function hee(e,t){return gee(e)||xee(e,t)||mee(e,t)||pee()}function pee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mee(e,t){if(e){if(typeof e=="string")return iP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iP(e,t)}}function iP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xee(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function gee(e){if(Array.isArray(e))return e}function _4(){return _4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_4.apply(this,arguments)}var vee=function(t,r){var n;return it.isValidElement(t)?n=it.cloneElement(t,r):An(t)?n=t(r):n=it.createElement("line",_4({},r,{className:"recharts-reference-line-line"})),n},yee=function(t,r,n,s,i,o,l,c,u){var d=i.x,h=i.y,m=i.width,p=i.height;if(n){var y=u.y,v=t.y.apply(y,{position:o});if(od(u,"discard")&&!t.y.isInRange(v))return null;var g=[{x:d+m,y:v},{x:d,y:v}];return c==="left"?g.reverse():g}if(r){var b=u.x,w=t.x.apply(b,{position:o});if(od(u,"discard")&&!t.x.isInRange(w))return null;var j=[{x:w,y:h+p},{x:w,y:h}];return l==="top"?j.reverse():j}if(s){var N=u.segment,k=N.map(function(P){return t.apply(P,{position:o})});return od(u,"discard")&&dZ(k,function(P){return!t.isInRange(P)})?null:k}return null};function bee(e){var t=e.x,r=e.y,n=e.segment,s=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=eee(),d=BF(s),h=UF(i),m=nee();if(!u||!m)return null;Hd(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=g3({x:d.scale,y:h.scale}),y=bi(t),v=bi(r),g=n&&n.length===2,b=yee(p,y,v,g,m,e.position,d.orientation,h.orientation,e);if(!b)return null;var w=hee(b,2),j=w[0],N=j.x,k=j.y,P=w[1],A=P.x,O=P.y,D=od(e,"hidden")?"url(#".concat(u,")"):void 0,R=sP(sP({clipPath:D},Un(e,!0)),{},{x1:N,y1:k,x2:A,y2:O});return it.createElement(ys,{className:xa("recharts-reference-line",l)},vee(o,R),Io.renderCallByParent(e,$Z({x1:N,y1:k,x2:A,y2:O})))}var j3=(function(e){function t(){return see(this,t),lee(this,t,arguments)}return dee(t,e),oee(t,[{key:"render",value:function(){return it.createElement(bee,this.props)}}])})(it.Component);N3(j3,"displayName","ReferenceLine");N3(j3,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function A4(){return A4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A4.apply(this,arguments)}function yp(e){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yp(e)}function oP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function lP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oP(Object(r),!0).forEach(function(n){My(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HF(n.key),n)}}function jee(e,t,r){return t&&Nee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kee(e,t,r){return t=F1(t),See(e,zF()?Reflect.construct(t,r||[],F1(e).constructor):t.apply(e,r))}function See(e,t){if(t&&(yp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ee(e)}function _ee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zF=function(){return!!e})()}function F1(e){return F1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},F1(e)}function Aee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E4(e,t)}function E4(e,t){return E4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},E4(e,t)}function My(e,t,r){return t=HF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HF(e){var t=Eee(e,"string");return yp(t)=="symbol"?t:t+""}function Eee(e,t){if(yp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Cee=function(t){var r=t.x,n=t.y,s=t.xAxis,i=t.yAxis,o=g3({x:s.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return od(t,"discard")&&!o.isInRange(l)?null:l},Ry=(function(e){function t(){return wee(this,t),kee(this,t,arguments)}return Aee(t,e),jee(t,[{key:"render",value:function(){var n=this.props,s=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=bi(s),d=bi(i);if(Hd(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var h=Cee(this.props);if(!h)return null;var m=h.x,p=h.y,y=this.props,v=y.shape,g=y.className,b=od(this.props,"hidden")?"url(#".concat(c,")"):void 0,w=lP(lP({clipPath:b},Un(this.props,!0)),{},{cx:m,cy:p});return it.createElement(ys,{className:xa("recharts-reference-dot",g)},t.renderDot(v,w),Io.renderCallByParent(this.props,{x:m-o,y:p-o,width:2*o,height:2*o}))}}])})(it.Component);My(Ry,"displayName","ReferenceDot");My(Ry,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});My(Ry,"renderDot",function(e,t){var r;return it.isValidElement(e)?r=it.cloneElement(e,t):An(e)?r=e(t):r=it.createElement(x3,A4({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function C4(){return C4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C4.apply(this,arguments)}function bp(e){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bp(e)}function cP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function uP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cP(Object(r),!0).forEach(function(n){By(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VF(n.key),n)}}function Pee(e,t,r){return t&&Oee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Iee(e,t,r){return t=M1(t),Dee(e,WF()?Reflect.construct(t,r||[],M1(e).constructor):t.apply(e,r))}function Dee(e,t){if(t&&(bp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lee(e)}function Lee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WF=function(){return!!e})()}function M1(e){return M1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},M1(e)}function Fee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T4(e,t)}function T4(e,t){return T4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},T4(e,t)}function By(e,t,r){return t=VF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VF(e){var t=Mee(e,"string");return bp(t)=="symbol"?t:t+""}function Mee(e,t){if(bp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ree=function(t,r,n,s,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,h=i.yAxis;if(!d||!h)return null;var m=g3({x:d.scale,y:h.scale}),p={x:t?m.x.apply(o,{position:"start"}):m.x.rangeMin,y:n?m.y.apply(c,{position:"start"}):m.y.rangeMin},y={x:r?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:s?m.y.apply(u,{position:"end"}):m.y.rangeMax};return od(i,"discard")&&(!m.isInRange(p)||!m.isInRange(y))?null:PF(p,y)},Uy=(function(e){function t(){return Tee(this,t),Iee(this,t,arguments)}return Fee(t,e),Pee(t,[{key:"render",value:function(){var n=this.props,s=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Hd(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=bi(s),m=bi(i),p=bi(o),y=bi(l),v=this.props.shape;if(!h&&!m&&!p&&!y&&!v)return null;var g=Ree(h,m,p,y,this.props);if(!g&&!v)return null;var b=od(this.props,"hidden")?"url(#".concat(d,")"):void 0;return it.createElement(ys,{className:xa("recharts-reference-area",c)},t.renderRect(v,uP(uP({clipPath:b},Un(this.props,!0)),g)),Io.renderCallByParent(this.props,g))}}])})(it.Component);By(Uy,"displayName","ReferenceArea");By(Uy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});By(Uy,"renderRect",function(e,t){var r;return it.isValidElement(e)?r=it.cloneElement(e,t):An(e)?r=e(t):r=it.createElement(m3,C4({},t,{className:"recharts-reference-area-rect"})),r});function GF(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function Bee(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return HZ(n,r)}function Uee(e,t,r){var n=r==="width",s=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function R1(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function qee(e,t){return GF(e,t+1)}function $ee(e,t,r,n,s){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,h=function(){var y=n?.[c];if(y===void 0)return{v:GF(n,u)};var v=c,g,b=function(){return g===void 0&&(g=r(y,v)),g},w=y.coordinate,j=c===0||R1(e,w,b,d,l);j||(c=0,d=o,u+=1),j&&(d=w+e*(b()/2+s),c+=u)},m;u<=i.length;)if(m=h(),m)return m.v;return[]}function Tx(e){"@babel/helpers - typeof";return Tx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tx(e)}function dP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function To(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dP(Object(r),!0).forEach(function(n){zee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zee(e,t,r){return t=Hee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hee(e){var t=Wee(e,"string");return Tx(t)=="symbol"?t:t+""}function Wee(e,t){if(Tx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vee(e,t,r,n,s){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(m){var p=i[m],y,v=function(){return y===void 0&&(y=r(p,m)),y};if(m===o-1){var g=e*(p.coordinate+e*v()/2-c);i[m]=p=To(To({},p),{},{tickCoord:g>0?p.coordinate-g*e:p.coordinate})}else i[m]=p=To(To({},p),{},{tickCoord:p.coordinate});var b=R1(e,p.tickCoord,v,l,c);b&&(c=p.tickCoord-e*(v()/2+s),i[m]=To(To({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function Gee(e,t,r,n,s,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],h=r(d,l-1),m=e*(d.coordinate+e*h/2-u);o[l-1]=d=To(To({},d),{},{tickCoord:m>0?d.coordinate-m*e:d.coordinate});var p=R1(e,d.tickCoord,function(){return h},c,u);p&&(u=d.tickCoord-e*(h/2+s),o[l-1]=To(To({},d),{},{isShow:!0}))}for(var y=i?l-1:l,v=function(w){var j=o[w],N,k=function(){return N===void 0&&(N=r(j,w)),N};if(w===0){var P=e*(j.coordinate-e*k()/2-c);o[w]=j=To(To({},j),{},{tickCoord:P<0?j.coordinate-P*e:j.coordinate})}else o[w]=j=To(To({},j),{},{tickCoord:j.coordinate});var A=R1(e,j.tickCoord,k,c,u);A&&(c=j.tickCoord+e*(k()/2+s),o[w]=To(To({},j),{},{isShow:!0}))},g=0;g<y;g++)v(g);return o}function k3(e,t,r){var n=e.tick,s=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,h=e.angle;if(!s||!s.length||!n)return[];if(hr(c)||Mp.isSsr)return qee(s,typeof c=="number"&&hr(c)?c:0);var m=[],p=l==="top"||l==="bottom"?"width":"height",y=d&&p==="width"?Im(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=function(j,N){var k=An(u)?u(j.value,N):j.value;return p==="width"?Bee(Im(k,{fontSize:t,letterSpacing:r}),y,h):Im(k,{fontSize:t,letterSpacing:r})[p]},g=s.length>=2?ku(s[1].coordinate-s[0].coordinate):1,b=Uee(i,g,p);return c==="equidistantPreserveStart"?$ee(g,b,v,s,o):(c==="preserveStart"||c==="preserveStartEnd"?m=Gee(g,b,v,s,o,c==="preserveStartEnd"):m=Vee(g,b,v,s,o),m.filter(function(w){return w.isShow}))}var Kee=["viewBox"],Xee=["viewBox"],Yee=["ticks"];function wp(e){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wp(e)}function Hh(){return Hh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hh.apply(this,arguments)}function fP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Yo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fP(Object(r),!0).forEach(function(n){S3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BN(e,t){if(e==null)return{};var r=Jee(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Jee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Qee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XF(n.key),n)}}function Zee(e,t,r){return t&&hP(e.prototype,t),r&&hP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ete(e,t,r){return t=B1(t),tte(e,KF()?Reflect.construct(t,r||[],B1(e).constructor):t.apply(e,r))}function tte(e,t){if(t&&(wp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rte(e)}function rte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KF=function(){return!!e})()}function B1(e){return B1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},B1(e)}function nte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O4(e,t)}function O4(e,t){return O4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},O4(e,t)}function S3(e,t,r){return t=XF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XF(e){var t=ate(e,"string");return wp(t)=="symbol"?t:t+""}function ate(e,t){if(wp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qp=(function(e){function t(r){var n;return Qee(this,t),n=ete(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return nte(t,e),Zee(t,[{key:"shouldComponentUpdate",value:function(n,s){var i=n.viewBox,o=BN(n,Kee),l=this.props,c=l.viewBox,u=BN(l,Xee);return!Gh(i,c)||!Gh(o,u)||!Gh(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.x,o=s.y,l=s.width,c=s.height,u=s.orientation,d=s.tickSize,h=s.mirror,m=s.tickMargin,p,y,v,g,b,w,j=h?-1:1,N=n.tickSize||d,k=hr(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=y=n.coordinate,g=o+ +!h*c,v=g-j*N,w=v-j*m,b=k;break;case"left":v=g=n.coordinate,y=i+ +!h*l,p=y-j*N,b=p-j*m,w=k;break;case"right":v=g=n.coordinate,y=i+ +h*l,p=y+j*N,b=p+j*m,w=k;break;default:p=y=n.coordinate,g=o+ +h*c,v=g+j*N,w=v+j*m,b=k;break}return{line:{x1:p,y1:v,x2:y,y2:g},tick:{x:b,y:w}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,h=Yo(Yo(Yo({},Un(this.props,!1)),Un(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var m=+(c==="top"&&!u||c==="bottom"&&u);h=Yo(Yo({},h),{},{x1:s,y1:i+m*l,x2:s+o,y2:i+m*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);h=Yo(Yo({},h),{},{x1:s+p*o,y1:i,x2:s+p*o,y2:i+l})}return it.createElement("line",Hh({},h,{className:xa("recharts-cartesian-axis-line",Ic(d,"className"))}))}},{key:"renderTicks",value:function(n,s,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,h=l.tickFormatter,m=l.unit,p=k3(Yo(Yo({},this.props),{},{ticks:n}),s,i),y=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),g=Un(this.props,!1),b=Un(d,!1),w=Yo(Yo({},g),{},{fill:"none"},Un(c,!1)),j=p.map(function(N,k){var P=o.getTickLineCoord(N),A=P.line,O=P.tick,D=Yo(Yo(Yo(Yo({textAnchor:y,verticalAnchor:v},g),{},{stroke:"none",fill:u},b),O),{},{index:k,payload:N,visibleTicksCount:p.length,tickFormatter:h});return it.createElement(ys,Hh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},Kv(o.props,N,k)),c&&it.createElement("line",Hh({},w,A,{className:xa("recharts-cartesian-axis-tick-line",Ic(c,"className"))})),d&&t.renderTickItem(d,D,"".concat(An(h)?h(N.value,k):N.value).concat(m||"")))});return it.createElement("g",{className:"recharts-cartesian-axis-ticks"},j)}},{key:"render",value:function(){var n=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,u=s.className,d=s.hide;if(d)return null;var h=this.props,m=h.ticks,p=BN(h,Yee),y=m;return An(c)&&(y=m&&m.length>0?c(this.props):c(p)),o<=0||l<=0||!y||!y.length?null:it.createElement(ys,{className:xa("recharts-cartesian-axis",u),ref:function(g){n.layerReference=g}},i&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),Io.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,i){var o;return it.isValidElement(n)?o=it.cloneElement(n,s):An(n)?o=n(s):o=it.createElement(s1,Hh({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])})(z.Component);S3(qp,"displayName","CartesianAxis");S3(qp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var ste=["x1","y1","x2","y2","key"],ite=["offset"];function X0(e){"@babel/helpers - typeof";return X0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X0(e)}function pP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Do(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pP(Object(r),!0).forEach(function(n){ote(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ote(e,t,r){return t=lte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lte(e){var t=cte(e,"string");return X0(t)=="symbol"?t:t+""}function cte(e,t){if(X0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(X0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O0(){return O0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O0.apply(this,arguments)}function mP(e,t){if(e==null)return{};var r=ute(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ute(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var dte=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,s=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return it.createElement("rect",{x:s,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function YF(e,t){var r;if(it.isValidElement(e))r=it.cloneElement(e,t);else if(An(e))r=e(t);else{var n=t.x1,s=t.y1,i=t.x2,o=t.y2,l=t.key,c=mP(t,ste),u=Un(c,!1);u.offset;var d=mP(u,ite);r=it.createElement("line",O0({},d,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function fte(e){var t=e.x,r=e.width,n=e.horizontal,s=n===void 0?!0:n,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=Do(Do({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return YF(s,u)});return it.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function hte(e){var t=e.y,r=e.height,n=e.vertical,s=n===void 0?!0:n,i=e.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=Do(Do({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return YF(s,u)});return it.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function pte(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,s=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(m){return Math.round(m+s-s)}).sort(function(m,p){return m-p});s!==d[0]&&d.unshift(0);var h=d.map(function(m,p){var y=!d[p+1],v=y?s+o-m:d[p+1]-m;if(v<=0)return null;var g=p%t.length;return it.createElement("rect",{key:"react-".concat(p),y:m,x:n,height:v,width:i,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return it.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function mte(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,s=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(m){return Math.round(m+i-i)}).sort(function(m,p){return m-p});i!==d[0]&&d.unshift(0);var h=d.map(function(m,p){var y=!d[p+1],v=y?i+l-m:d[p+1]-m;if(v<=0)return null;var g=p%n.length;return it.createElement("rect",{key:"react-".concat(p),x:m,y:o,width:v,height:c,stroke:"none",fill:n[g],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return it.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var xte=function(t,r){var n=t.xAxis,s=t.width,i=t.height,o=t.offset;return uF(k3(Do(Do(Do({},qp.defaultProps),n),{},{ticks:Md(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,r)},gte=function(t,r){var n=t.yAxis,s=t.width,i=t.height,o=t.offset;return uF(k3(Do(Do(Do({},qp.defaultProps),n),{},{ticks:Md(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,r)},Ih={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function JF(e){var t,r,n,s,i,o,l=b3(),c=w3(),u=aee(),d=Do(Do({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Ih.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Ih.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Ih.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:Ih.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Ih.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Ih.verticalFill,x:hr(e.x)?e.x:u.left,y:hr(e.y)?e.y:u.top,width:hr(e.width)?e.width:u.width,height:hr(e.height)?e.height:u.height}),h=d.x,m=d.y,p=d.width,y=d.height,v=d.syncWithTicks,g=d.horizontalValues,b=d.verticalValues,w=tee(),j=ree();if(!hr(p)||p<=0||!hr(y)||y<=0||!hr(h)||h!==+h||!hr(m)||m!==+m)return null;var N=d.verticalCoordinatesGenerator||xte,k=d.horizontalCoordinatesGenerator||gte,P=d.horizontalPoints,A=d.verticalPoints;if((!P||!P.length)&&An(k)){var O=g&&g.length,D=k({yAxis:j?Do(Do({},j),{},{ticks:O?g:j.ticks}):void 0,width:l,height:c,offset:u},O?!0:v);Hd(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(X0(D),"]")),Array.isArray(D)&&(P=D)}if((!A||!A.length)&&An(N)){var R=b&&b.length,C=N({xAxis:w?Do(Do({},w),{},{ticks:R?b:w.ticks}):void 0,width:l,height:c,offset:u},R?!0:v);Hd(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(X0(C),"]")),Array.isArray(C)&&(A=C)}return it.createElement("g",{className:"recharts-cartesian-grid"},it.createElement(dte,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),it.createElement(fte,O0({},d,{offset:u,horizontalPoints:P,xAxis:w,yAxis:j})),it.createElement(hte,O0({},d,{offset:u,verticalPoints:A,xAxis:w,yAxis:j})),it.createElement(pte,O0({},d,{horizontalPoints:P})),it.createElement(mte,O0({},d,{verticalPoints:A})))}JF.displayName="CartesianGrid";var vte=["layout","type","stroke","connectNulls","isRange","ref"],yte=["key"],QF;function Np(e){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Np(e)}function ZF(e,t){if(e==null)return{};var r=bte(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function P0(){return P0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P0.apply(this,arguments)}function xP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Of(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xP(Object(r),!0).forEach(function(n){ed(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,t7(n.key),n)}}function Nte(e,t,r){return t&&gP(e.prototype,t),r&&gP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function jte(e,t,r){return t=U1(t),kte(e,e7()?Reflect.construct(t,r||[],U1(e).constructor):t.apply(e,r))}function kte(e,t){if(t&&(Np(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ste(e)}function Ste(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function e7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e7=function(){return!!e})()}function U1(e){return U1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},U1(e)}function _te(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P4(e,t)}function P4(e,t){return P4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},P4(e,t)}function ed(e,t,r){return t=t7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t7(e){var t=Ate(e,"string");return Np(t)=="symbol"?t:t+""}function Ate(e,t){if(Np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var a0=(function(e){function t(){var r;wte(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=jte(this,t,[].concat(s)),ed(r,"state",{isAnimationFinished:!0}),ed(r,"id",Jx("recharts-area-")),ed(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),An(o)&&o()}),ed(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),An(o)&&o()}),r}return _te(t,e),Nte(t,[{key:"renderDots",value:function(n,s,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,h=c.dataKey,m=Un(this.props,!1),p=Un(u,!0),y=d.map(function(g,b){var w=Of(Of(Of({key:"dot-".concat(b),r:3},m),p),{},{index:b,cx:g.x,cy:g.y,dataKey:h,value:g.value,payload:g.payload,points:d});return t.renderDotItem(u,w)}),v={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return it.createElement(ys,P0({className:"recharts-area-dots"},v),y)}},{key:"renderHorizontalRect",value:function(n){var s=this.props,i=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=n*Math.abs(c-u),h=Lf(o.map(function(m){return m.y||0}));return hr(i)&&typeof i=="number"?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(Lf(i.map(function(m){return m.y||0})),h)),hr(h)?it.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(h+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var s=this.props,i=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=n*Math.abs(c-u),h=Lf(o.map(function(m){return m.x||0}));return hr(i)&&typeof i=="number"?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(Lf(i.map(function(m){return m.x||0})),h)),hr(h)?it.createElement("rect",{x:0,y:c<u?c:c-d,width:h+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var s=this.props.layout;return s==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,s,i,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,h=l.connectNulls,m=l.isRange;l.ref;var p=ZF(l,vte);return it.createElement(ys,{clipPath:i?"url(#clipPath-".concat(o,")"):null},it.createElement(Fm,P0({},Un(p,!0),{points:n,connectNulls:h,type:u,baseLine:s,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&it.createElement(Fm,P0({},Un(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:h,fill:"none",points:n})),d!=="none"&&m&&it.createElement(Fm,P0({},Un(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:h,fill:"none",points:s})))}},{key:"renderAreaWithAnimation",value:function(n,s){var i=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,h=o.animationDuration,m=o.animationEasing,p=o.animationId,y=this.state,v=y.prevPoints,g=y.prevBaseLine;return it.createElement(Zd,{begin:d,duration:h,isActive:u,easing:m,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var w=b.t;if(v){var j=v.length/l.length,N=l.map(function(O,D){var R=Math.floor(D*j);if(v[R]){var C=v[R],T=Tc(C.x,O.x),I=Tc(C.y,O.y);return Of(Of({},O),{},{x:T(w),y:I(w)})}return O}),k;if(hr(c)&&typeof c=="number"){var P=Tc(g,c);k=P(w)}else if(Kn(c)||Lp(c)){var A=Tc(g,0);k=A(w)}else k=c.map(function(O,D){var R=Math.floor(D*j);if(g[R]){var C=g[R],T=Tc(C.x,O.x),I=Tc(C.y,O.y);return Of(Of({},O),{},{x:T(w),y:I(w)})}return O});return i.renderAreaStatically(N,k,n,s)}return it.createElement(ys,null,it.createElement("defs",null,it.createElement("clipPath",{id:"animationClipPath-".concat(s)},i.renderClipRect(w))),it.createElement(ys,{clipPath:"url(#animationClipPath-".concat(s,")")},i.renderAreaStatically(l,c,n,s)))})}},{key:"renderArea",value:function(n,s){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,u=this.state,d=u.prevPoints,h=u.prevBaseLine,m=u.totalLength;return c&&o&&o.length&&(!d&&m>0||!cx(d,o)||!cx(h,l))?this.renderAreaWithAnimation(n,s):this.renderAreaStatically(o,l,n,s)}},{key:"render",value:function(){var n,s=this.props,i=s.hide,o=s.dot,l=s.points,c=s.className,u=s.top,d=s.left,h=s.xAxis,m=s.yAxis,p=s.width,y=s.height,v=s.isAnimationActive,g=s.id;if(i||!l||!l.length)return null;var b=this.state.isAnimationFinished,w=l.length===1,j=xa("recharts-area",c),N=h&&h.allowDataOverflow,k=m&&m.allowDataOverflow,P=N||k,A=Kn(g)?this.id:g,O=(n=Un(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},D=O.r,R=D===void 0?3:D,C=O.strokeWidth,T=C===void 0?2:C,I=WU(o)?o:{},B=I.clipDot,X=B===void 0?!0:B,re=R*2+T;return it.createElement(ys,{className:j},N||k?it.createElement("defs",null,it.createElement("clipPath",{id:"clipPath-".concat(A)},it.createElement("rect",{x:N?d:d-p/2,y:k?u:u-y/2,width:N?p:p*2,height:k?y:y*2})),!X&&it.createElement("clipPath",{id:"clipPath-dots-".concat(A)},it.createElement("rect",{x:d-re/2,y:u-re/2,width:p+re,height:y+re}))):null,w?null:this.renderArea(P,A),(o||w)&&this.renderDots(P,X,A),(!v||b)&&zf.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:s.curPoints,prevBaseLine:s.curBaseLine}:n.points!==s.curPoints||n.baseLine!==s.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])})(z.PureComponent);QF=a0;ed(a0,"displayName","Area");ed(a0,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Mp.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ed(a0,"getBaseValue",function(e,t,r,n){var s=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(hr(l)&&typeof l=="number")return l;var c=s==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),h=Math.min(u[0],u[1]);return l==="dataMin"?h:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});ed(a0,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,s=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,h=e.displayedData,m=e.offset,p=t.layout,y=u&&u.length,v=QF.getBaseValue(t,r,n,s),g=p==="horizontal",b=!1,w=h.map(function(N,k){var P;y?P=u[d+k]:(P=tc(N,c),Array.isArray(P)?b=!0:P=[v,P]);var A=P[1]==null||y&&tc(N,c)==null;return g?{x:LT({axis:n,ticks:i,bandSize:l,entry:N,index:k}),y:A?null:s.scale(P[1]),value:P,payload:N}:{x:A?null:n.scale(P[1]),y:LT({axis:s,ticks:o,bandSize:l,entry:N,index:k}),value:P,payload:N}}),j;return y||b?j=w.map(function(N){var k=Array.isArray(N.value)?N.value[0]:null;return g?{x:N.x,y:k!=null&&N.y!=null?s.scale(k):null}:{x:k!=null?n.scale(k):null,y:N.y}}):j=g?s.scale(v):n.scale(v),Of({points:w,baseLine:j,layout:p,isRange:b},m)});ed(a0,"renderDotItem",function(e,t){var r;if(it.isValidElement(e))r=it.cloneElement(e,t);else if(An(e))r=e(t);else{var n=xa("recharts-area-dot",typeof e!="boolean"?e.className:""),s=t.key,i=ZF(t,yte);r=it.createElement(x3,P0({},i,{key:s,className:n}))}return r});function jp(e){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jp(e)}function Ete(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cte(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a7(n.key),n)}}function Tte(e,t,r){return t&&Cte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ote(e,t,r){return t=q1(t),Pte(e,r7()?Reflect.construct(t,r||[],q1(e).constructor):t.apply(e,r))}function Pte(e,t){if(t&&(jp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ite(e)}function Ite(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r7=function(){return!!e})()}function q1(e){return q1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},q1(e)}function Dte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I4(e,t)}function I4(e,t){return I4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},I4(e,t)}function n7(e,t,r){return t=a7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a7(e){var t=Lte(e,"string");return jp(t)=="symbol"?t:t+""}function Lte(e,t){if(jp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function D4(){return D4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D4.apply(this,arguments)}function Fte(e){var t=e.xAxisId,r=b3(),n=w3(),s=BF(t);return s==null?null:it.createElement(qp,D4({},s,{className:xa("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Md(o,!0)}}))}var qy=(function(e){function t(){return Ete(this,t),Ote(this,t,arguments)}return Dte(t,e),Tte(t,[{key:"render",value:function(){return it.createElement(Fte,this.props)}}])})(it.Component);n7(qy,"displayName","XAxis");n7(qy,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function kp(e){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kp(e)}function Mte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rte(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o7(n.key),n)}}function Bte(e,t,r){return t&&Rte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ute(e,t,r){return t=$1(t),qte(e,s7()?Reflect.construct(t,r||[],$1(e).constructor):t.apply(e,r))}function qte(e,t){if(t&&(kp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $te(e)}function $te(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s7=function(){return!!e})()}function $1(e){return $1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$1(e)}function zte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L4(e,t)}function L4(e,t){return L4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},L4(e,t)}function i7(e,t,r){return t=o7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o7(e){var t=Hte(e,"string");return kp(t)=="symbol"?t:t+""}function Hte(e,t){if(kp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function F4(){return F4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F4.apply(this,arguments)}var Wte=function(t){var r=t.yAxisId,n=b3(),s=w3(),i=UF(r);return i==null?null:it.createElement(qp,F4({},i,{className:xa("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return Md(l,!0)}}))},$y=(function(e){function t(){return Mte(this,t),Ute(this,t,arguments)}return zte(t,e),Bte(t,[{key:"render",value:function(){return it.createElement(Wte,this.props)}}])})(it.Component);i7($y,"displayName","YAxis");i7($y,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function vP(e){return Xte(e)||Kte(e)||Gte(e)||Vte()}function Vte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gte(e,t){if(e){if(typeof e=="string")return M4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M4(e,t)}}function Kte(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Xte(e){if(Array.isArray(e))return M4(e)}function M4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var R4=function(t,r,n,s,i){var o=Eu(t,j3),l=Eu(t,Ry),c=[].concat(vP(o),vP(l)),u=Eu(t,Uy),d="".concat(s,"Id"),h=s[0],m=r;if(c.length&&(m=c.reduce(function(v,g){if(g.props[d]===n&&od(g.props,"extendDomain")&&hr(g.props[h])){var b=g.props[h];return[Math.min(v[0],b),Math.max(v[1],b)]}return v},m)),u.length){var p="".concat(h,"1"),y="".concat(h,"2");m=u.reduce(function(v,g){if(g.props[d]===n&&od(g.props,"extendDomain")&&hr(g.props[p])&&hr(g.props[y])){var b=g.props[p],w=g.props[y];return[Math.min(v[0],b,w),Math.max(v[1],b,w)]}return v},m)}return i&&i.length&&(m=i.reduce(function(v,g){return hr(g)?[Math.min(v[0],g),Math.max(v[1],g)]:v},m)),m},UN={exports:{}},yP;function Yte(){return yP||(yP=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,h,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new s(d,h||c,m),y=r?r+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],p]:c._events[y].push(p):(c._events[y]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)t.call(d,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var m=0,p=h.length,y=new Array(p);m<p;m++)y[m]=h[m].fn;return y},l.prototype.listenerCount=function(u){var d=r?r+u:u,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,d,h,m,p,y){var v=r?r+u:u;if(!this._events[v])return!1;var g=this._events[v],b=arguments.length,w,j;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),b){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,h),!0;case 4:return g.fn.call(g.context,d,h,m),!0;case 5:return g.fn.call(g.context,d,h,m,p),!0;case 6:return g.fn.call(g.context,d,h,m,p,y),!0}for(j=1,w=new Array(b-1);j<b;j++)w[j-1]=arguments[j];g.fn.apply(g.context,w)}else{var N=g.length,k;for(j=0;j<N;j++)switch(g[j].once&&this.removeListener(u,g[j].fn,void 0,!0),b){case 1:g[j].fn.call(g[j].context);break;case 2:g[j].fn.call(g[j].context,d);break;case 3:g[j].fn.call(g[j].context,d,h);break;case 4:g[j].fn.call(g[j].context,d,h,m);break;default:if(!w)for(k=1,w=new Array(b-1);k<b;k++)w[k-1]=arguments[k];g[j].fn.apply(g[j].context,w)}}return!0},l.prototype.on=function(u,d,h){return i(this,u,d,h,!1)},l.prototype.once=function(u,d,h){return i(this,u,d,h,!0)},l.prototype.removeListener=function(u,d,h,m){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var y=this._events[p];if(y.fn)y.fn===d&&(!m||y.once)&&(!h||y.context===h)&&o(this,p);else{for(var v=0,g=[],b=y.length;v<b;v++)(y[v].fn!==d||m&&!y[v].once||h&&y[v].context!==h)&&g.push(y[v]);g.length?this._events[p]=g.length===1?g[0]:g:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(UN)),UN.exports}var Jte=Yte();const Qte=Ia(Jte);var qN=new Qte,$N="recharts.syncMouseEvents";function Ox(e){"@babel/helpers - typeof";return Ox=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ox(e)}function Zte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ere(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l7(n.key),n)}}function tre(e,t,r){return t&&ere(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zN(e,t,r){return t=l7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l7(e){var t=rre(e,"string");return Ox(t)=="symbol"?t:t+""}function rre(e,t){if(Ox(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ox(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var nre=(function(){function e(){Zte(this,e),zN(this,"activeIndex",0),zN(this,"coordinateList",[]),zN(this,"layout","horizontal")}return tre(e,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,i=s===void 0?null:s,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,h=d===void 0?null:d,m=r.mouseHandlerCallback,p=m===void 0?null:m;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=i+c+u,m=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:h,pageY:m})}}}])})();function are(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e?.[0],s=e?.[1];if(n&&s&&hr(n)&&hr(s))return!0}return!1}function sre(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function c7(e){var t=e.cx,r=e.cy,n=e.radius,s=e.startAngle,i=e.endAngle,o=lo(t,r,n,s),l=lo(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function ire(e,t,r){var n,s,i,o;if(e==="horizontal")n=t.x,i=n,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,h=t.angle,m=lo(l,c,u,h),p=lo(l,c,d,h);n=m.x,s=m.y,i=p.x,o=p.y}else return c7(t);return[{x:n,y:s},{x:i,y:o}]}function Px(e){"@babel/helpers - typeof";return Px=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Px(e)}function bP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function tv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bP(Object(r),!0).forEach(function(n){ore(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ore(e,t,r){return t=lre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lre(e){var t=cre(e,"string");return Px(t)=="symbol"?t:t+""}function cre(e,t){if(Px(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Px(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ure(e){var t,r,n=e.element,s=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,h=e.layout,m=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!o||m!=="ScatterChart"&&s!=="axis")return null;var y,v=Fm;if(m==="ScatterChart")y=o,v=dQ;else if(m==="BarChart")y=sre(h,o,c,d),v=m3;else if(h==="radial"){var g=c7(o),b=g.cx,w=g.cy,j=g.radius,N=g.startAngle,k=g.endAngle;y={cx:b,cy:w,startAngle:N,endAngle:k,innerRadius:j,outerRadius:j},v=mF}else y={points:ire(h,o,c)},v=Fm;var P=tv(tv(tv(tv({stroke:"#ccc",pointerEvents:"none"},c),y),Un(p,!1)),{},{payload:l,payloadIndex:u,className:xa("recharts-tooltip-cursor",p.className)});return z.isValidElement(p)?z.cloneElement(p,P):z.createElement(v,P)}var dre=["item"],fre=["children","className","width","height","style","compact","title","desc"];function Sp(e){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sp(e)}function Rm(){return Rm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rm.apply(this,arguments)}function wP(e,t){return mre(e)||pre(e,t)||d7(e,t)||hre()}function hre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pre(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function mre(e){if(Array.isArray(e))return e}function NP(e,t){if(e==null)return{};var r=xre(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xre(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function gre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vre(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f7(n.key),n)}}function yre(e,t,r){return t&&vre(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bre(e,t,r){return t=z1(t),wre(e,u7()?Reflect.construct(t,r||[],z1(e).constructor):t.apply(e,r))}function wre(e,t){if(t&&(Sp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nre(e)}function Nre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u7=function(){return!!e})()}function z1(e){return z1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},z1(e)}function jre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B4(e,t)}function B4(e,t){return B4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},B4(e,t)}function _p(e){return _re(e)||Sre(e)||d7(e)||kre()}function kre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d7(e,t){if(e){if(typeof e=="string")return U4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U4(e,t)}}function Sre(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _re(e){if(Array.isArray(e))return U4(e)}function U4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Rt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jP(Object(r),!0).forEach(function(n){un(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function un(e,t,r){return t=f7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f7(e){var t=Are(e,"string");return Sp(t)=="symbol"?t:t+""}function Are(e,t){if(Sp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ere={xAxis:["bottom","top"],yAxis:["left","right"]},Cre={width:"100%",height:"100%"},h7={x:0,y:0};function rv(e){return e}var Tre=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},Ore=function(t,r,n,s){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=s.radius;return Rt(Rt(Rt({},s),lo(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=s.angle;return Rt(Rt(Rt({},s),lo(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return h7},zy=function(t,r){var n=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(_p(l),_p(u)):l},[]);return o.length>0?o:t&&t.length&&hr(s)&&hr(i)?t.slice(s,i+1):[]};function p7(e){return e==="number"?[0,"auto"]:void 0}var q4=function(t,r,n,s){var i=t.graphicalItems,o=t.tooltipAxis,l=zy(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,h=(d=u.props.data)!==null&&d!==void 0?d:r;h&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(h=h.slice(t.dataStartIndex,t.dataEndIndex+1));var m;if(o.dataKey&&!o.allowDuplicatedCategory){var p=h===void 0?l:h;m=Vv(p,o.dataKey,s)}else m=h&&h[n]||l[n];return m?[].concat(_p(c),[fF(u,m)]):c},[])},kP=function(t,r,n,s){var i=s||{x:t.chartX,y:t.chartY},o=Tre(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=HK(o,l,u,c);if(d>=0&&u){var h=u[d]&&u[d].value,m=q4(t,r,d,h),p=Ore(n,l,d,i);return{activeTooltipIndex:d,activeLabel:h,activePayload:m,activeCoordinate:p}}return null},Pre=function(t,r){var n=r.axes,s=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,h=t.children,m=t.stackOffset,p=cF(d,i);return n.reduce(function(y,v){var g,b=v.type.defaultProps!==void 0?Rt(Rt({},v.type.defaultProps),v.props):v.props,w=b.type,j=b.dataKey,N=b.allowDataOverflow,k=b.allowDuplicatedCategory,P=b.scale,A=b.ticks,O=b.includeHidden,D=b[o];if(y[D])return y;var R=zy(t.data,{graphicalItems:s.filter(function(E){var q,V=o in E.props?E.props[o]:(q=E.type.defaultProps)===null||q===void 0?void 0:q[o];return V===D}),dataStartIndex:c,dataEndIndex:u}),C=R.length,T,I,B;are(b.domain,N,w)&&(T=i4(b.domain,null,N),p&&(w==="number"||P!=="auto")&&(B=Lm(R,j,"category")));var X=p7(w);if(!T||T.length===0){var re,Z=(re=b.domain)!==null&&re!==void 0?re:X;if(j){if(T=Lm(R,j,w),w==="category"&&p){var te=FU(T);k&&te?(I=T,T=T1(0,C)):k||(T=BT(Z,T,v).reduce(function(E,q){return E.indexOf(q)>=0?E:[].concat(_p(E),[q])},[]))}else if(w==="category")k?T=T.filter(function(E){return E!==""&&!Kn(E)}):T=BT(Z,T,v).reduce(function(E,q){return E.indexOf(q)>=0||q===""||Kn(q)?E:[].concat(_p(E),[q])},[]);else if(w==="number"){var Y=XK(R,s.filter(function(E){var q,V,U=o in E.props?E.props[o]:(q=E.type.defaultProps)===null||q===void 0?void 0:q[o],G="hide"in E.props?E.props.hide:(V=E.type.defaultProps)===null||V===void 0?void 0:V.hide;return U===D&&(O||!G)}),j,i,d);Y&&(T=Y)}p&&(w==="number"||P!=="auto")&&(B=Lm(R,j,"category"))}else p?T=T1(0,C):l&&l[D]&&l[D].hasStack&&w==="number"?T=m==="expand"?[0,1]:dF(l[D].stackGroups,c,u):T=lF(R,s.filter(function(E){var q=o in E.props?E.props[o]:E.type.defaultProps[o],V="hide"in E.props?E.props.hide:E.type.defaultProps.hide;return q===D&&(O||!V)}),w,d,!0);if(w==="number")T=R4(h,T,D,i,A),Z&&(T=i4(Z,T,N));else if(w==="category"&&Z){var Q=Z,H=T.every(function(E){return Q.indexOf(E)>=0});H&&(T=Q)}}return Rt(Rt({},y),{},un({},D,Rt(Rt({},b),{},{axisType:i,domain:T,categoricalDomain:B,duplicateDomain:I,originalDomain:(g=b.domain)!==null&&g!==void 0?g:X,isCategorical:p,layout:d})))},{})},Ire=function(t,r){var n=r.graphicalItems,s=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,h=t.children,m=zy(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=m.length,y=cF(d,i),v=-1;return n.reduce(function(g,b){var w=b.type.defaultProps!==void 0?Rt(Rt({},b.type.defaultProps),b.props):b.props,j=w[o],N=p7("number");if(!g[j]){v++;var k;return y?k=T1(0,p):l&&l[j]&&l[j].hasStack?(k=dF(l[j].stackGroups,c,u),k=R4(h,k,j,i)):(k=i4(N,lF(m,n.filter(function(P){var A,O,D=o in P.props?P.props[o]:(A=P.type.defaultProps)===null||A===void 0?void 0:A[o],R="hide"in P.props?P.props.hide:(O=P.type.defaultProps)===null||O===void 0?void 0:O.hide;return D===j&&!R}),"number",d),s.defaultProps.allowDataOverflow),k=R4(h,k,j,i)),Rt(Rt({},g),{},un({},j,Rt(Rt({axisType:i},s.defaultProps),{},{hide:!0,orientation:Ic(Ere,"".concat(i,".").concat(v%2),null),domain:k,originalDomain:N,isCategorical:y,layout:d})))}return g},{})},Dre=function(t,r){var n=r.axisType,s=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,h="".concat(s,"Id"),m=Eu(d,i),p={};return m&&m.length?p=Pre(t,{axes:m,graphicalItems:o,axisType:s,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=Ire(t,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},Lre=function(t){var r=Df(t),n=Md(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:$k(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:b1(r,n)}},SP=function(t){var r=t.children,n=t.defaultShowTooltip,s=Gl(r,xp),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},Fre=function(t){return!t||!t.length?!1:t.some(function(r){var n=zd(r&&r.type);return n&&n.indexOf("Bar")>=0})},_P=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Mre=function(t,r){var n=t.props,s=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,h=n.children,m=n.margin||{},p=Gl(h,xp),y=Gl(h,Kh),v=Object.keys(c).reduce(function(k,P){var A=c[P],O=A.orientation;return!A.mirror&&!A.hide?Rt(Rt({},k),{},un({},O,k[O]+A.width)):k},{left:m.left||0,right:m.right||0}),g=Object.keys(o).reduce(function(k,P){var A=o[P],O=A.orientation;return!A.mirror&&!A.hide?Rt(Rt({},k),{},un({},O,Ic(k,"".concat(O))+A.height)):k},{top:m.top||0,bottom:m.bottom||0}),b=Rt(Rt({},g),v),w=b.bottom;p&&(b.bottom+=p.props.height||xp.defaultProps.height),y&&r&&(b=GK(b,s,n,r));var j=u-b.left-b.right,N=d-b.top-b.bottom;return Rt(Rt({brushBottom:w},b),{},{width:Math.max(j,0),height:Math.max(N,0)})},Rre=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Bre=function(t){var r=t.chartName,n=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,h=t.defaultProps,m=function(g,b){var w=b.graphicalItems,j=b.stackGroups,N=b.offset,k=b.updateId,P=b.dataStartIndex,A=b.dataEndIndex,O=g.barSize,D=g.layout,R=g.barGap,C=g.barCategoryGap,T=g.maxBarSize,I=_P(D),B=I.numericAxisName,X=I.cateAxisName,re=Fre(w),Z=[];return w.forEach(function(te,Y){var Q=zy(g.data,{graphicalItems:[te],dataStartIndex:P,dataEndIndex:A}),H=te.type.defaultProps!==void 0?Rt(Rt({},te.type.defaultProps),te.props):te.props,E=H.dataKey,q=H.maxBarSize,V=H["".concat(B,"Id")],U=H["".concat(X,"Id")],G={},ne=c.reduce(function(pe,fe){var De=b["".concat(fe.axisType,"Map")],Xe=H["".concat(fe.axisType,"Id")];De&&De[Xe]||fe.axisType==="zAxis"||K0();var Je=De[Xe];return Rt(Rt({},pe),{},un(un({},fe.axisType,Je),"".concat(fe.axisType,"Ticks"),Md(Je)))},G),de=ne[X],ce=ne["".concat(X,"Ticks")],he=j&&j[V]&&j[V].hasStack&&oX(te,j[V].stackGroups),Le=zd(te.type).indexOf("Bar")>=0,se=b1(de,ce),Fe=[],_e=re&&WK({barSize:O,stackGroups:j,totalSize:Rre(ne,X)});if(Le){var oe,ae,ke=Kn(q)?T:q,we=(oe=(ae=b1(de,ce,!0))!==null&&ae!==void 0?ae:ke)!==null&&oe!==void 0?oe:0;Fe=VK({barGap:R,barCategoryGap:C,bandSize:we!==se?we:se,sizeList:_e[U],maxBarSize:ke}),we!==se&&(Fe=Fe.map(function(pe){return Rt(Rt({},pe),{},{position:Rt(Rt({},pe.position),{},{offset:pe.position.offset-we/2})})}))}var Pe=te&&te.type&&te.type.getComposedData;Pe&&Z.push({props:Rt(Rt({},Pe(Rt(Rt({},ne),{},{displayedData:Q,props:g,dataKey:E,item:te,bandSize:se,barPosition:Fe,offset:N,stackedData:he,layout:D,dataStartIndex:P,dataEndIndex:A}))),{},un(un(un({key:te.key||"item-".concat(Y)},B,ne[B]),X,ne[X]),"animationId",k)),childIndex:KU(te,g.children),item:te})}),Z},p=function(g,b){var w=g.props,j=g.dataStartIndex,N=g.dataEndIndex,k=g.updateId;if(!Z6({props:w}))return null;var P=w.children,A=w.layout,O=w.stackOffset,D=w.data,R=w.reverseStackOrder,C=_P(A),T=C.numericAxisName,I=C.cateAxisName,B=Eu(P,n),X=aX(D,B,"".concat(T,"Id"),"".concat(I,"Id"),O,R),re=c.reduce(function(H,E){var q="".concat(E.axisType,"Map");return Rt(Rt({},H),{},un({},q,Dre(w,Rt(Rt({},E),{},{graphicalItems:B,stackGroups:E.axisType===T&&X,dataStartIndex:j,dataEndIndex:N}))))},{}),Z=Mre(Rt(Rt({},re),{},{props:w,graphicalItems:B}),b?.legendBBox);Object.keys(re).forEach(function(H){re[H]=d(w,re[H],Z,H.replace("Map",""),r)});var te=re["".concat(I,"Map")],Y=Lre(te),Q=m(w,Rt(Rt({},re),{},{dataStartIndex:j,dataEndIndex:N,updateId:k,graphicalItems:B,stackGroups:X,offset:Z}));return Rt(Rt({formattedGraphicalItems:Q,graphicalItems:B,offset:Z,stackGroups:X},Y),re)},y=(function(v){function g(b){var w,j,N;return gre(this,g),N=bre(this,g,[b]),un(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),un(N,"accessibilityManager",new nre),un(N,"handleLegendBBoxUpdate",function(k){if(k){var P=N.state,A=P.dataStartIndex,O=P.dataEndIndex,D=P.updateId;N.setState(Rt({legendBBox:k},p({props:N.props,dataStartIndex:A,dataEndIndex:O,updateId:D},Rt(Rt({},N.state),{},{legendBBox:k}))))}}),un(N,"handleReceiveSyncEvent",function(k,P,A){if(N.props.syncId===k){if(A===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(P)}}),un(N,"handleBrushChange",function(k){var P=k.startIndex,A=k.endIndex;if(P!==N.state.dataStartIndex||A!==N.state.dataEndIndex){var O=N.state.updateId;N.setState(function(){return Rt({dataStartIndex:P,dataEndIndex:A},p({props:N.props,dataStartIndex:P,dataEndIndex:A,updateId:O},N.state))}),N.triggerSyncEvent({dataStartIndex:P,dataEndIndex:A})}}),un(N,"handleMouseEnter",function(k){var P=N.getMouseInfo(k);if(P){var A=Rt(Rt({},P),{},{isTooltipActive:!0});N.setState(A),N.triggerSyncEvent(A);var O=N.props.onMouseEnter;An(O)&&O(A,k)}}),un(N,"triggeredAfterMouseMove",function(k){var P=N.getMouseInfo(k),A=P?Rt(Rt({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(A),N.triggerSyncEvent(A);var O=N.props.onMouseMove;An(O)&&O(A,k)}),un(N,"handleItemMouseEnter",function(k){N.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),un(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),un(N,"handleMouseMove",function(k){k.persist(),N.throttleTriggeredAfterMouseMove(k)}),un(N,"handleMouseLeave",function(k){N.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};N.setState(P),N.triggerSyncEvent(P);var A=N.props.onMouseLeave;An(A)&&A(P,k)}),un(N,"handleOuterEvent",function(k){var P=GU(k),A=Ic(N.props,"".concat(P));if(P&&An(A)){var O,D;/.*touch.*/i.test(P)?D=N.getMouseInfo(k.changedTouches[0]):D=N.getMouseInfo(k),A((O=D)!==null&&O!==void 0?O:{},k)}}),un(N,"handleClick",function(k){var P=N.getMouseInfo(k);if(P){var A=Rt(Rt({},P),{},{isTooltipActive:!0});N.setState(A),N.triggerSyncEvent(A);var O=N.props.onClick;An(O)&&O(A,k)}}),un(N,"handleMouseDown",function(k){var P=N.props.onMouseDown;if(An(P)){var A=N.getMouseInfo(k);P(A,k)}}),un(N,"handleMouseUp",function(k){var P=N.props.onMouseUp;if(An(P)){var A=N.getMouseInfo(k);P(A,k)}}),un(N,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),un(N,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&N.handleMouseDown(k.changedTouches[0])}),un(N,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&N.handleMouseUp(k.changedTouches[0])}),un(N,"triggerSyncEvent",function(k){N.props.syncId!==void 0&&qN.emit($N,N.props.syncId,k,N.eventEmitterSymbol)}),un(N,"applySyncEvent",function(k){var P=N.props,A=P.layout,O=P.syncMethod,D=N.state.updateId,R=k.dataStartIndex,C=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)N.setState(Rt({dataStartIndex:R,dataEndIndex:C},p({props:N.props,dataStartIndex:R,dataEndIndex:C,updateId:D},N.state)));else if(k.activeTooltipIndex!==void 0){var T=k.chartX,I=k.chartY,B=k.activeTooltipIndex,X=N.state,re=X.offset,Z=X.tooltipTicks;if(!re)return;if(typeof O=="function")B=O(Z,k);else if(O==="value"){B=-1;for(var te=0;te<Z.length;te++)if(Z[te].value===k.activeLabel){B=te;break}}var Y=Rt(Rt({},re),{},{x:re.left,y:re.top}),Q=Math.min(T,Y.x+Y.width),H=Math.min(I,Y.y+Y.height),E=Z[B]&&Z[B].value,q=q4(N.state,N.props.data,B),V=Z[B]?{x:A==="horizontal"?Z[B].coordinate:Q,y:A==="horizontal"?H:Z[B].coordinate}:h7;N.setState(Rt(Rt({},k),{},{activeLabel:E,activeCoordinate:V,activePayload:q,activeTooltipIndex:B}))}else N.setState(k)}),un(N,"renderCursor",function(k){var P,A=N.state,O=A.isTooltipActive,D=A.activeCoordinate,R=A.activePayload,C=A.offset,T=A.activeTooltipIndex,I=A.tooltipAxisBandSize,B=N.getTooltipEventType(),X=(P=k.props.active)!==null&&P!==void 0?P:O,re=N.props.layout,Z=k.key||"_recharts-cursor";return it.createElement(ure,{key:Z,activeCoordinate:D,activePayload:R,activeTooltipIndex:T,chartName:r,element:k,isActive:X,layout:re,offset:C,tooltipAxisBandSize:I,tooltipEventType:B})}),un(N,"renderPolarAxis",function(k,P,A){var O=Ic(k,"type.axisType"),D=Ic(N.state,"".concat(O,"Map")),R=k.type.defaultProps,C=R!==void 0?Rt(Rt({},R),k.props):k.props,T=D&&D[C["".concat(O,"Id")]];return z.cloneElement(k,Rt(Rt({},T),{},{className:xa(O,T.className),key:k.key||"".concat(P,"-").concat(A),ticks:Md(T,!0)}))}),un(N,"renderPolarGrid",function(k){var P=k.props,A=P.radialLines,O=P.polarAngles,D=P.polarRadius,R=N.state,C=R.radiusAxisMap,T=R.angleAxisMap,I=Df(C),B=Df(T),X=B.cx,re=B.cy,Z=B.innerRadius,te=B.outerRadius;return z.cloneElement(k,{polarAngles:Array.isArray(O)?O:Md(B,!0).map(function(Y){return Y.coordinate}),polarRadius:Array.isArray(D)?D:Md(I,!0).map(function(Y){return Y.coordinate}),cx:X,cy:re,innerRadius:Z,outerRadius:te,key:k.key||"polar-grid",radialLines:A})}),un(N,"renderLegend",function(){var k=N.state.formattedGraphicalItems,P=N.props,A=P.children,O=P.width,D=P.height,R=N.props.margin||{},C=O-(R.left||0)-(R.right||0),T=iF({children:A,formattedGraphicalItems:k,legendWidth:C,legendContent:u});if(!T)return null;var I=T.item,B=NP(T,dre);return z.cloneElement(I,Rt(Rt({},B),{},{chartWidth:O,chartHeight:D,margin:R,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),un(N,"renderTooltip",function(){var k,P=N.props,A=P.children,O=P.accessibilityLayer,D=Gl(A,Ju);if(!D)return null;var R=N.state,C=R.isTooltipActive,T=R.activeCoordinate,I=R.activePayload,B=R.activeLabel,X=R.offset,re=(k=D.props.active)!==null&&k!==void 0?k:C;return z.cloneElement(D,{viewBox:Rt(Rt({},X),{},{x:X.left,y:X.top}),active:re,label:B,payload:re?I:[],coordinate:T,accessibilityLayer:O})}),un(N,"renderBrush",function(k){var P=N.props,A=P.margin,O=P.data,D=N.state,R=D.offset,C=D.dataStartIndex,T=D.dataEndIndex,I=D.updateId;return z.cloneElement(k,{key:k.key||"_recharts-brush",onChange:Jg(N.handleBrushChange,k.props.onChange),data:O,x:hr(k.props.x)?k.props.x:R.left,y:hr(k.props.y)?k.props.y:R.top+R.height+R.brushBottom-(A.bottom||0),width:hr(k.props.width)?k.props.width:R.width,startIndex:C,endIndex:T,updateId:"brush-".concat(I)})}),un(N,"renderReferenceElement",function(k,P,A){if(!k)return null;var O=N,D=O.clipPathId,R=N.state,C=R.xAxisMap,T=R.yAxisMap,I=R.offset,B=k.type.defaultProps||{},X=k.props,re=X.xAxisId,Z=re===void 0?B.xAxisId:re,te=X.yAxisId,Y=te===void 0?B.yAxisId:te;return z.cloneElement(k,{key:k.key||"".concat(P,"-").concat(A),xAxis:C[Z],yAxis:T[Y],viewBox:{x:I.left,y:I.top,width:I.width,height:I.height},clipPathId:D})}),un(N,"renderActivePoints",function(k){var P=k.item,A=k.activePoint,O=k.basePoint,D=k.childIndex,R=k.isRange,C=[],T=P.props.key,I=P.item.type.defaultProps!==void 0?Rt(Rt({},P.item.type.defaultProps),P.item.props):P.item.props,B=I.activeDot,X=I.dataKey,re=Rt(Rt({index:D,dataKey:X,cx:A.x,cy:A.y,r:4,fill:p3(P.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},Un(B,!1)),Gv(B));return C.push(g.renderActiveDot(B,re,"".concat(T,"-activePoint-").concat(D))),O?C.push(g.renderActiveDot(B,Rt(Rt({},re),{},{cx:O.x,cy:O.y}),"".concat(T,"-basePoint-").concat(D))):R&&C.push(null),C}),un(N,"renderGraphicChild",function(k,P,A){var O=N.filterFormatItem(k,P,A);if(!O)return null;var D=N.getTooltipEventType(),R=N.state,C=R.isTooltipActive,T=R.tooltipAxis,I=R.activeTooltipIndex,B=R.activeLabel,X=N.props.children,re=Gl(X,Ju),Z=O.props,te=Z.points,Y=Z.isRange,Q=Z.baseLine,H=O.item.type.defaultProps!==void 0?Rt(Rt({},O.item.type.defaultProps),O.item.props):O.item.props,E=H.activeDot,q=H.hide,V=H.activeBar,U=H.activeShape,G=!!(!q&&C&&re&&(E||V||U)),ne={};D!=="axis"&&re&&re.props.trigger==="click"?ne={onClick:Jg(N.handleItemMouseEnter,k.props.onClick)}:D!=="axis"&&(ne={onMouseLeave:Jg(N.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:Jg(N.handleItemMouseEnter,k.props.onMouseEnter)});var de=z.cloneElement(k,Rt(Rt({},O.props),ne));function ce(fe){return typeof T.dataKey=="function"?T.dataKey(fe.payload):null}if(G)if(I>=0){var he,Le;if(T.dataKey&&!T.allowDuplicatedCategory){var se=typeof T.dataKey=="function"?ce:"payload.".concat(T.dataKey.toString());he=Vv(te,se,B),Le=Y&&Q&&Vv(Q,se,B)}else he=te?.[I],Le=Y&&Q&&Q[I];if(U||V){var Fe=k.props.activeIndex!==void 0?k.props.activeIndex:I;return[z.cloneElement(k,Rt(Rt(Rt({},O.props),ne),{},{activeIndex:Fe})),null,null]}if(!Kn(he))return[de].concat(_p(N.renderActivePoints({item:O,activePoint:he,basePoint:Le,childIndex:I,isRange:Y})))}else{var _e,oe=(_e=N.getItemByXY(N.state.activeCoordinate))!==null&&_e!==void 0?_e:{graphicalItem:de},ae=oe.graphicalItem,ke=ae.item,we=ke===void 0?k:ke,Pe=ae.childIndex,pe=Rt(Rt(Rt({},O.props),ne),{},{activeIndex:Pe});return[z.cloneElement(we,pe),null,null]}return Y?[de,null,null]:[de,null]}),un(N,"renderCustomized",function(k,P,A){return z.cloneElement(k,Rt(Rt({key:"recharts-customized-".concat(A)},N.props),N.state))}),un(N,"renderMap",{CartesianGrid:{handler:rv,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:rv},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:rv},YAxis:{handler:rv},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((w=b.id)!==null&&w!==void 0?w:Jx("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=sL(N.triggeredAfterMouseMove,(j=b.throttleDelay)!==null&&j!==void 0?j:1e3/60),N.state={},N}return jre(g,v),yre(g,[{key:"componentDidMount",value:function(){var w,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,j=w.children,N=w.data,k=w.height,P=w.layout,A=Gl(j,Ju);if(A){var O=A.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var D=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,R=q4(this.state,N,O,D),C=this.state.tooltipTicks[O].coordinate,T=(this.state.offset.top+k)/2,I=P==="horizontal",B=I?{x:C,y:T}:{y:C,x:T},X=this.state.formattedGraphicalItems.find(function(Z){var te=Z.item;return te.type.name==="Scatter"});X&&(B=Rt(Rt({},B),X.props.points[O].tooltipPosition),R=X.props.points[O].tooltipPayload);var re={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:D,activePayload:R,activeCoordinate:B};this.setState(re),this.renderCursor(A),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var N,k;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(w){Ej([Gl(w.children,Ju)],[Gl(this.props.children,Ju)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Gl(this.props.children,Ju);if(w&&typeof w.props.shared=="boolean"){var j=w.props.shared?"axis":"item";return l.indexOf(j)>=0?j:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var j=this.container,N=j.getBoundingClientRect(),k=LH(N),P={chartX:Math.round(w.pageX-k.left),chartY:Math.round(w.pageY-k.top)},A=N.width/j.offsetWidth||1,O=this.inRange(P.chartX,P.chartY,A);if(!O)return null;var D=this.state,R=D.xAxisMap,C=D.yAxisMap,T=this.getTooltipEventType();if(T!=="axis"&&R&&C){var I=Df(R).scale,B=Df(C).scale,X=I&&I.invert?I.invert(P.chartX):null,re=B&&B.invert?B.invert(P.chartY):null;return Rt(Rt({},P),{},{xValue:X,yValue:re})}var Z=kP(this.state,this.props.data,this.props.layout,O);return Z?Rt(Rt({},P),Z):null}},{key:"inRange",value:function(w,j){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,P=w/N,A=j/N;if(k==="horizontal"||k==="vertical"){var O=this.state.offset,D=P>=O.left&&P<=O.left+O.width&&A>=O.top&&A<=O.top+O.height;return D?{x:P,y:A}:null}var R=this.state,C=R.angleAxisMap,T=R.radiusAxisMap;if(C&&T){var I=Df(C);return $T({x:P,y:A},I)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,j=this.getTooltipEventType(),N=Gl(w,Ju),k={};N&&j==="axis"&&(N.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var P=Gv(this.props,this.handleOuterEvent);return Rt(Rt({},P),k)}},{key:"addListener",value:function(){qN.on($N,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){qN.removeListener($N,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,j,N){for(var k=this.state.formattedGraphicalItems,P=0,A=k.length;P<A;P++){var O=k[P];if(O.item===w||O.props.key===w.key||j===zd(O.item.type)&&N===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,j=this.state.offset,N=j.left,k=j.top,P=j.height,A=j.width;return it.createElement("defs",null,it.createElement("clipPath",{id:w},it.createElement("rect",{x:N,y:k,height:P,width:A})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(j,N){var k=wP(N,2),P=k[0],A=k[1];return Rt(Rt({},j),{},un({},P,A.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(j,N){var k=wP(N,2),P=k[0],A=k[1];return Rt(Rt({},j),{},un({},P,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[w])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(w){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[w])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(w){var j=this.state,N=j.formattedGraphicalItems,k=j.activeItem;if(N&&N.length)for(var P=0,A=N.length;P<A;P++){var O=N[P],D=O.props,R=O.item,C=R.type.defaultProps!==void 0?Rt(Rt({},R.type.defaultProps),R.props):R.props,T=zd(R.type);if(T==="Bar"){var I=(D.data||[]).find(function(Z){return tQ(w,Z)});if(I)return{graphicalItem:O,payload:I}}else if(T==="RadialBar"){var B=(D.data||[]).find(function(Z){return $T(w,Z)});if(B)return{graphicalItem:O,payload:B}}else if(Dy(O,k)||Ly(O,k)||_x(O,k)){var X=WQ({graphicalItem:O,activeTooltipItem:k,itemData:C.data}),re=C.activeIndex===void 0?X:C.activeIndex;return{graphicalItem:Rt(Rt({},O),{},{childIndex:re}),payload:_x(O,k)?C.data[X]:O.props.data[X]}}}return null}},{key:"render",value:function(){var w=this;if(!Z6(this))return null;var j=this.props,N=j.children,k=j.className,P=j.width,A=j.height,O=j.style,D=j.compact,R=j.title,C=j.desc,T=NP(j,fre),I=Un(T,!1);if(D)return it.createElement(nP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},it.createElement(Tj,Rm({},I,{width:P,height:A,title:R,desc:C}),this.renderClipPath(),tA(N,this.renderMap)));if(this.props.accessibilityLayer){var B,X;I.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,I.role=(X=this.props.role)!==null&&X!==void 0?X:"application",I.onKeyDown=function(Z){w.accessibilityManager.keyboardEvent(Z)},I.onFocus=function(){w.accessibilityManager.focus()}}var re=this.parseEventsOfWrapper();return it.createElement(nP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},it.createElement("div",Rm({className:xa("recharts-wrapper",k),style:Rt({position:"relative",cursor:"default",width:P,height:A},O)},re,{ref:function(te){w.container=te}}),it.createElement(Tj,Rm({},I,{width:P,height:A,title:R,desc:C,style:Cre}),this.renderClipPath(),tA(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(z.Component);return un(y,"displayName",r),un(y,"defaultProps",Rt({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),un(y,"getDerivedStateFromProps",function(v,g){var b=v.dataKey,w=v.data,j=v.children,N=v.width,k=v.height,P=v.layout,A=v.stackOffset,O=v.margin,D=g.dataStartIndex,R=g.dataEndIndex;if(g.updateId===void 0){var C=SP(v);return Rt(Rt(Rt({},C),{},{updateId:0},p(Rt(Rt({props:v},C),{},{updateId:0}),g)),{},{prevDataKey:b,prevData:w,prevWidth:N,prevHeight:k,prevLayout:P,prevStackOffset:A,prevMargin:O,prevChildren:j})}if(b!==g.prevDataKey||w!==g.prevData||N!==g.prevWidth||k!==g.prevHeight||P!==g.prevLayout||A!==g.prevStackOffset||!Gh(O,g.prevMargin)){var T=SP(v),I={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},B=Rt(Rt({},kP(g,w,P)),{},{updateId:g.updateId+1}),X=Rt(Rt(Rt({},T),I),B);return Rt(Rt(Rt({},X),p(Rt({props:v},X),g)),{},{prevDataKey:b,prevData:w,prevWidth:N,prevHeight:k,prevLayout:P,prevStackOffset:A,prevMargin:O,prevChildren:j})}if(!Ej(j,g.prevChildren)){var re,Z,te,Y,Q=Gl(j,xp),H=Q&&(re=(Z=Q.props)===null||Z===void 0?void 0:Z.startIndex)!==null&&re!==void 0?re:D,E=Q&&(te=(Y=Q.props)===null||Y===void 0?void 0:Y.endIndex)!==null&&te!==void 0?te:R,q=H!==D||E!==R,V=!Kn(w),U=V&&!q?g.updateId:g.updateId+1;return Rt(Rt({updateId:U},p(Rt(Rt({props:v},g),{},{updateId:U,dataStartIndex:H,dataEndIndex:E}),g)),{},{prevChildren:j,dataStartIndex:H,dataEndIndex:E})}return null}),un(y,"renderActiveDot",function(v,g,b){var w;return z.isValidElement(v)?w=z.cloneElement(v,g):An(v)?w=v(g):w=it.createElement(x3,g),it.createElement(ys,{className:"recharts-active-dot",key:b},w)}),function(g){return it.createElement(y,g)}},Ure=Bre({chartName:"AreaChart",GraphicalChild:a0,axisComponents:[{axisType:"xAxis",AxisComp:qy},{axisType:"yAxis",AxisComp:$y}],formatAxisMap:qZ});const qre=e=>{const t=e.toUpperCase().charCodeAt(0),r=[{bg:"bg-indigo-500",text:"text-white"},{bg:"bg-emerald-500",text:"text-white"},{bg:"bg-amber-500",text:"text-white"},{bg:"bg-rose-500",text:"text-white"},{bg:"bg-blue-500",text:"text-white"},{bg:"bg-purple-500",text:"text-white"},{bg:"bg-pink-500",text:"text-white"},{bg:"bg-cyan-500",text:"text-white"},{bg:"bg-orange-500",text:"text-white"},{bg:"bg-teal-500",text:"text-white"},{bg:"bg-lime-500",text:"text-white"},{bg:"bg-violet-500",text:"text-white"},{bg:"bg-fuchsia-500",text:"text-white"},{bg:"bg-sky-500",text:"text-white"},{bg:"bg-red-500",text:"text-white"},{bg:"bg-green-500",text:"text-white"}];return r[t%r.length]},Xs=({src:e,alt:t,className:r,fallbackText:n,isAvatar:s})=>{const[i,o]=z.useState(!1),[l,c]=z.useState(!1),u=z.useMemo(()=>{const g=(n||t||"").trim();if(!g)return"?";if(s){const b=g.match(/[a-zA-Z0-9]/);return b?b[0].toUpperCase():"?"}else{const b=g.split(/\s+/).filter(w=>w.length>0);if(b.length===0)return"?";if(b.length===1){const w=b[0].match(/[a-zA-Z0-9]/);return w?w[0].toUpperCase():"?"}else{const w=b[0].match(/[a-zA-Z0-9]/),j=b[1].match(/[a-zA-Z0-9]/),N=w?w[0].toUpperCase():"",k=j?j[0].toUpperCase():"";return N&&k?`${N}${k}`:N||"?"}}},[n,t,s]),d=z.useMemo(()=>qre(u),[u]),h=()=>r?.includes("w-5")||r?.includes("h-5")?"text-[10px]":r?.includes("w-6")||r?.includes("h-6")?"text-xs":r?.includes("w-8")||r?.includes("h-8")?"text-sm":r?.includes("w-10")||r?.includes("h-10")?"text-base":r?.includes("w-12")||r?.includes("h-12")||r?.includes("w-14")||r?.includes("h-14")?"text-lg":r?.includes("w-16")||r?.includes("h-16")?"text-xl":r?.includes("w-20")||r?.includes("h-20")?"text-2xl":r?.includes("w-24")||r?.includes("h-24")?"text-3xl":"text-base",p=s?"rounded-full":r?.includes("rounded-3xl")?"rounded-3xl":r?.includes("rounded-xl")?"rounded-xl":r?.includes("rounded-lg")?"rounded-lg":r?.includes("rounded-md")?"rounded-md":r?.includes("rounded-sm")?"rounded-sm":"rounded-lg",y=(r||"").replace(/\brounded-(full|3xl|xl|lg|md|sm)\b/g,"").trim();if(!s){const v=`${y} ${p} ${d.bg} ${d.text} flex items-center justify-center font-bold overflow-hidden select-none object-cover`;return a.jsx("div",{className:v,children:a.jsx("span",{className:h(),children:u})})}if(!e||i){const v=`${y} ${p} ${d.bg} ${d.text} flex items-center justify-center font-bold overflow-hidden select-none object-cover`;return a.jsx("div",{className:v,children:a.jsx("span",{className:h(),children:u})})}return a.jsxs(a.Fragment,{children:[!l&&a.jsx("div",{className:`${y} ${p} ${d.bg} ${d.text} flex items-center justify-center font-bold overflow-hidden select-none object-cover`,children:a.jsx("span",{className:h(),children:u})}),a.jsx("img",{src:e,alt:t,className:`${y} ${p} object-cover`,onError:()=>o(!0),onLoad:()=>c(!0),style:{display:l?"block":"none"}})]})},AP=(e,t=[])=>{if(typeof window>"u")return t;const r=localStorage.getItem(`impactflow_sim_${e}`);return r?JSON.parse(r):t},nv=(e,t)=>{typeof window>"u"||localStorage.setItem(`impactflow_sim_${e}`,JSON.stringify(t))},EP=async(e,t={})=>{await new Promise(o=>setTimeout(o,600));const r=t.body?JSON.parse(t.body):{},n=(t.method||"GET").toUpperCase();if(console.info(`[VIRTUAL SERVER] ${n} ${e}`,r),e==="/auth/send-otp"||e==="/auth/request-code"){const o=r.email?.toLowerCase().trim();return console.warn("[VIRTUAL SERVER] Simulator fallback active for AUTH"),Pv.some(c=>c.email.toLowerCase().trim()===o)?{success:!0,message:"Simulated OTP sent to "+o}:{status:404,message:"Account not found - contact your Administrator",success:!1}}if(e==="/auth/verify-otp"||e==="/auth/verify"){const o=r.email?.toLowerCase().trim();return{success:!0,token:"v-token-123",user:Pv.find(c=>c.email.toLowerCase()===o)||{id:"u-gen",name:"Impact Member",email:r.email,role:"User",avatar:`https://picsum.photos/seed/${r.email}/100/100`,active:!0}}}if(e.includes("feedback")){let o=AP("feedback",[]);if(n==="POST"){const l={id:`fb-${Date.now()}`,...r,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return o.unshift(l),nv("feedback",o),{success:!0,data:l,simulated:!0}}if(n==="PATCH"||n==="PUT"){const l=e.split("/").pop();return o=o.map(c=>c.id===l?{...c,...r,updatedAt:new Date().toISOString()}:c),nv("feedback",o),{success:!0,simulated:!0}}if(n==="DELETE"){const l=e.split("/").pop();return o=o.filter(c=>c.id!==l),nv("feedback",o),{success:!0,simulated:!0}}return{success:!0,data:o,simulated:!0}}const i=["deals","projects","tasks","invoices","companies","contacts","expenses","expense-categories"].find(o=>e.includes(o));if(i){let o=AP(i,[]);if(n==="POST"){const l={id:`sim-${i}-${Date.now()}`,...r,createdAt:new Date().toISOString()};return o.unshift(l),nv(i,o),{success:!0,data:l,simulated:!0}}if(n==="GET"&&e.split("/").length>2){const l=e.split("/").pop();return{success:!0,data:o.find(u=>u.id===l),simulated:!0}}return{success:!0,data:o,simulated:!0}}if(e.includes("data-hygiene")){if(e.includes("duplicate-companies"))return{success:!0,data:{groups:[],totalDuplicates:0},simulated:!0};if(e.includes("duplicate-contacts"))return{success:!0,data:{groups:[],totalDuplicates:0},simulated:!0};if(e.includes("incomplete-records"))return{success:!0,data:{companies:[],contacts:[],deals:[],projects:[],invoices:[]},simulated:!0};if(e.includes("domain-mismatches"))return{success:!0,data:{mismatches:[],count:0},simulated:!0}}if(e.startsWith("/shared-inbox/labels"))return{success:!0,labels:[],simulated:!0};if(e.startsWith("/shared-inbox/senders"))return{success:!0,data:[],simulated:!0};if(e.startsWith("/shared-inbox/emails")&&n==="GET"&&!e.match(/\/emails\/[^/]+$/))return{data:[],success:!0,simulated:!0};switch(e){case"/me":case"/auth/me":return Pv[0];case"/google-calendar/status":return{connected:!1,simulated:!0};default:return{data:[],status:"ok",simulated:!0}}},m7=()=>"http://127.0.0.1:8050/api/v1/impactOS",_3=m7();typeof window<"u"&&console.log(`[API] Initializing with Base: ${_3}`);const St=async(e,t={})=>{const r=localStorage.getItem("auth_token"),n=e.startsWith("/")?e:`/${e}`,s=`${_3}${n}`,i={"Content-Type":"application/json",...r?{Authorization:`Bearer ${r}`}:{},...t.headers};try{const o=await fetch(s,{...t,headers:i}),l=await o.json().catch(()=>({}));if(!o.ok){const u=["feedback","deals","projects","tasks","invoices","companies","contacts","automations","notifications","events","expenses","expense-categories","data-hygiene"].some(m=>n.includes(m));if(o.status===404&&u)return console.warn(`[SYSTEM] Live endpoint ${n} not found. Engaging Virtual Engine fallback.`),EP(n,t);let d=`Server Error ${o.status}`;try{l&&typeof l=="object"&&(d=l.message||l.error?.message||d)}catch{}const h=new Error(d);throw h.status=o.status,l?.error?.code&&typeof l.error.code=="string"&&(h.code=l.error.code),h}return l}catch(o){let l="Unknown error",c="Error",u,d;try{o&&typeof o=="object"?(l=o.message||String(o)||l,c=o.name||c,u=typeof o.status=="number"?o.status:void 0,d=typeof o.code=="string"?o.code:void 0):o&&(l=String(o))}catch{}const h=c==="TypeError"||l.includes("Failed to fetch"),m=u!==void 0&&u>=500,p=u!==void 0&&u>=400&&u<500;if(h||m&&!p)return console.info("[SYSTEM] Production API unreachable. Engaging Virtual Engine fallback."),EP(n,t);const y=new Error(l);throw u!==void 0&&(y.status=u),d&&(y.code=d),y}},CP=e=>St("/auth/send-otp",{method:"POST",body:JSON.stringify({email:e.email})}),$re=e=>St("/auth/verify-otp",{method:"POST",body:JSON.stringify({email:e.email,otp:e.verificationCode})}),TP=()=>St("/auth/me"),zre=async()=>{try{await St("/auth/logout",{method:"POST"})}catch(e){console.error("Logout API error:",e)}finally{localStorage.removeItem("auth_token"),localStorage.removeItem("user_data")}},fd=e=>{const t=e?`?search=${encodeURIComponent(e)}`:"";return St(`/users${t}`)},Hre=e=>St("/users",{method:"POST",body:JSON.stringify(e)}),Wre=(e,t)=>St(`/users/${e}`,{method:"PUT",body:JSON.stringify(t)}),Vre=e=>St(`/users/${e}/dashboard-layout`),Gre=(e,t)=>St(`/users/${e}/dashboard-layout`,{method:"PUT",body:JSON.stringify({layout:t})}),Kre=e=>St(`/users/${e}`,{method:"DELETE"}),Xre=(e,t)=>St(`/users/${e}`,{method:"PUT",body:JSON.stringify(t)}),hd=e=>St(`/companies${e?`?search=${encodeURIComponent(e)}`:""}`),Yre=e=>St("/companies",{method:"POST",body:JSON.stringify(e)}),x7=(e,t)=>St(`/companies/${e}`,{method:"PUT",body:JSON.stringify(t)}),g7=e=>St(`/companies/${e}`,{method:"DELETE"}),ag=(e,t)=>{const r=new URLSearchParams;e&&r.append("search",e);const n=r.toString();return St(`/contacts${n?`?${n}`:""}`)},OP=e=>St("/contacts",{method:"POST",body:JSON.stringify(e)}),v7=(e,t)=>St(`/contacts/${e}`,{method:"PUT",body:JSON.stringify(t)}),y7=e=>St(`/contacts/${e}`,{method:"DELETE"}),Hy=(e,t,r)=>{const n=new URLSearchParams;e&&n.append("userId",e);const s=n.toString();return St(`/deals${s?`?${s}`:""}`)},Jre=e=>St("/deals",{method:"POST",body:JSON.stringify(e)}),av=(e,t)=>St(`/deals/${e}`,{method:"PUT",body:JSON.stringify(t)}),PP=e=>St(`/deals/${e}`,{method:"DELETE"}),$p=(e,t,r)=>{const n=new URLSearchParams;e&&n.append("userId",e);const s=n.toString();return St(`/projects${s?`?${s}`:""}`)},Qre=e=>St(`/projects/${e}`),Zre=e=>St("/projects",{method:"POST",body:JSON.stringify(e)}),HN=(e,t)=>St(`/projects/${e}`,{method:"PUT",body:JSON.stringify(t)}),IP=e=>St(`/projects/${e}`,{method:"DELETE"}),Ap=(e,t,r)=>{const n=new URLSearchParams;e&&n.append("userId",e);const s=n.toString();return St(`/tasks${s?`?${s}`:""}`)},H1=()=>St("/tasks/categories"),ene=e=>St("/tasks",{method:"POST",body:JSON.stringify(e)}),Id=(e,t)=>St(`/tasks/${e}`,{method:"PUT",body:JSON.stringify(t)}),$4=e=>St(`/tasks/${e}`,{method:"DELETE"}),tne=e=>St("/tasks/bulk-import",{method:"POST",body:JSON.stringify({tasks:e})}),b7=(e,t,r)=>{const n=new URLSearchParams;e&&n.append("userId",e);const s=n.toString();return St(`/invoices${s?`?${s}`:""}`)},rne=e=>St("/invoices",{method:"POST",body:JSON.stringify(e)}),sv=(e,t)=>St(`/invoices/${e}`,{method:"PUT",body:JSON.stringify(t)}),DP=e=>St(`/invoices/${e}`,{method:"DELETE"}),nne=(e,t)=>St(`/invoices/revenue-velocity?userId=${e}&timeframe=${t}`),LP=e=>St(`/automations${e?`?userId=${e}`:""}`),ane=e=>St("/automations",{method:"POST",body:JSON.stringify(e)}),sne=e=>St(`/automations/${e}/toggle`,{method:"PATCH"}),ine=e=>St(`/automations/${e}`,{method:"DELETE"}),w7=(e,t)=>St(`/notifications?userId=${e}&limitNum=${t}`),Ep=e=>St("/notifications",{method:"POST",body:JSON.stringify(e)}),N7=(e,t)=>St(`/notifications/${e}/read`,{method:"POST",body:JSON.stringify({userId:t})}),j7=e=>St("/notifications/mark-all-read",{method:"POST",body:JSON.stringify({userId:e})}),one=e=>St(`/users/${e}/notification-preferences`),lne=(e,t)=>St(`/users/${e}/notification-preferences`,{method:"PUT",body:JSON.stringify({preferences:t})}),cne=(e="default")=>St(`/data-retention/policy?workspaceId=${e}`),une=(e,t)=>St("/data-retention/policy",{method:"PUT",body:JSON.stringify({workspaceId:e,...t})}),dne=(e="default")=>St(`/data-retention/stats?workspaceId=${e}`),fne=(e="default",t=50)=>St("/data-retention/archive",{method:"POST",body:JSON.stringify({workspaceId:e,batchSize:t})}),hne=(e="default",t=50)=>St("/data-retention/cleanup",{method:"POST",body:JSON.stringify({workspaceId:e,batchSize:t})}),pne=(e="default",t={})=>{const r=new URLSearchParams({workspaceId:e});return t.format&&r.append("format",t.format),t.startDate&&r.append("startDate",t.startDate),t.endDate&&r.append("endDate",t.endDate),t.limit&&r.append("limit",t.limit.toString()),St(`/data-retention/export?${r.toString()}`)},FP=()=>St("/pipelines"),MP=e=>St("/pipelines",{method:"POST",body:JSON.stringify(e)}),iv=(e,t)=>St(`/pipelines/${e}`,{method:"PUT",body:JSON.stringify(t)}),mne=()=>St("/feedback"),k7=e=>St("/feedback",{method:"POST",body:JSON.stringify(e)}),WN=(e,t)=>St(`/feedback/${e}`,{method:"PATCH",body:JSON.stringify(t)}),RP=e=>St(`/feedback/${e}`,{method:"DELETE"}),xne=e=>{const t=new URLSearchParams;e?.companyId&&t.append("companyId",e.companyId),e?.userId&&t.append("userId",e.userId);const r=t.toString();return St(`/expenses${r?`?${r}`:""}`)},gne=e=>St("/expenses",{method:"POST",body:JSON.stringify(e)}),vne=(e,t)=>St(`/expenses/${e}`,{method:"PATCH",body:JSON.stringify(t)}),BP=e=>St(`/expenses/${e}`,{method:"DELETE"}),S7=()=>St("/expense-categories"),_7=e=>St("/expense-categories",{method:"POST",body:JSON.stringify(e)}),yne=e=>{const t=e?"?"+new URLSearchParams(Object.entries(e).filter(([r,n])=>n!==void 0).map(([r,n])=>[r,String(n)])).toString():"";return St(`/budgets${t}`)},bne=e=>St("/budgets",{method:"POST",body:JSON.stringify(e)}),wne=(e,t)=>St(`/budgets/${e}`,{method:"PUT",body:JSON.stringify(t)}),Nne=e=>St(`/budgets/${e}`,{method:"DELETE"}),jne=e=>{const t="?"+new URLSearchParams(Object.entries(e).filter(([r,n])=>n!==void 0).map(([r,n])=>[r,String(n)])).toString();return St(`/budgets/tracking${t}`)},kne=()=>St("/budgets/departments"),A7=e=>{const t=e?"?"+new URLSearchParams(Object.entries(e).filter(([r,n])=>n)).toString():"";return St(`/contracts${t}`)},Sne=e=>St("/contracts",{method:"POST",body:JSON.stringify(e)}),_ne=(e,t)=>St(`/contracts/${e}`,{method:"PUT",body:JSON.stringify(t)}),Ane=e=>St(`/contracts/${e}`,{method:"DELETE"}),Ene=(e,t)=>St(`/contracts/${e}/sign`,{method:"POST",body:JSON.stringify(t)}),Cne=()=>St("/contracts/document-types"),Tne=e=>St("/contracts/document-types",{method:"POST",body:JSON.stringify(e)}),UP=e=>{const t="?"+new URLSearchParams(Object.entries(e)).toString();return St(`/contracts/google-drive/access-token${t}`)},One=e=>St("/contracts/google-drive/upload",{method:"POST",body:JSON.stringify(e)}),Pne=e=>St("/contracts/signature/create-doc",{method:"POST",body:JSON.stringify(e)}),Ine=(e,t)=>St("/merge/companies",{method:"POST",body:JSON.stringify({primaryId:e,secondaryId:t})}),Dne=(e,t)=>St("/merge/contacts",{method:"POST",body:JSON.stringify({primaryId:e,secondaryId:t})}),Lne=()=>St("/data-hygiene/duplicate-companies"),Fne=()=>St("/data-hygiene/duplicate-contacts"),Mne=()=>St("/data-hygiene/incomplete-records"),Rne=()=>St("/data-hygiene/domain-mismatches"),A3=e=>St(`/google-calendar/status?userId=${e}`),E7=e=>St(`/google-calendar/auth-url?userId=${e}`),Bne=(e,t,r)=>St(`/google-calendar/events?userId=${r}&startDate=${e}&endDate=${t}`),Une=e=>St("/google-calendar/disconnect",{method:"POST",body:JSON.stringify({userId:e})}),qne=(e,t,r)=>{const n=new URLSearchParams({userId:e});return n.append("scopeHours",String(r)),St(`/shared-inbox/sync?${n.toString()}`,{method:"POST"})},$ne=e=>St(`/shared-inbox/accounts?userId=${e}`),C7=(e,t)=>{const r=new URLSearchParams({userId:e});return t?(t.search&&r.append("search",t.search),t.status&&r.append("status",t.status),t.from&&r.append("from",t.from),t.subject&&r.append("subject",t.subject),t.hasAttachment!==void 0&&r.append("hasAttachment",String(t.hasAttachment)),t.dateFrom&&r.append("dateFrom",t.dateFrom),t.dateTo&&r.append("dateTo",t.dateTo),t.labelId&&r.append("labelId",t.labelId),t.page!==void 0&&r.append("page",String(t.page)),t.limit!==void 0&&r.append("limit",String(t.limit)),t.isRead!==void 0&&r.append("isRead",String(t.isRead)),t.isStarred!==void 0&&r.append("isStarred",String(t.isStarred)),St(`/shared-inbox/emails?${r.toString()}`)):St(`/shared-inbox/emails?${r.toString()}`)},zne=(e,t)=>St(`/shared-inbox/senders?userId=${e}${`&limit=${t}`}`),Hne=(e,t)=>St(`/shared-inbox/emails/${e}?userId=${t}`),qP=(e,t,r)=>St(`/shared-inbox/emails/${e}/read`,{method:"PUT",body:JSON.stringify({read:t,userId:r})}),Wne=(e,t)=>St(`/shared-inbox/emails/${e}/star`,{method:"PUT",body:JSON.stringify({isStarred:t})}),Vne=e=>St("/shared-inbox/notes",{method:"POST",body:JSON.stringify(e)}),Gne=e=>St(`/shared-inbox/notes/${e}`),Kne=(e,t)=>St(`/shared-inbox/notes/${e}`,{method:"DELETE",body:JSON.stringify({userId:t})}),Xne=(e,t,r)=>St("/shared-inbox/ai-draft",{method:"POST",body:JSON.stringify({emailId:e,userId:t,templateId:r})}),Yne=e=>St("/shared-inbox/templates",{method:"POST",body:JSON.stringify(e)}),Jne=e=>St(`/shared-inbox/templates?userId=${e}`),Qne=(e,t)=>St(`/shared-inbox/templates/${e}`,{method:"DELETE",body:JSON.stringify({userId:t})}),Zne=e=>St("/shared-inbox/send-email",{method:"POST",body:JSON.stringify(e)}),eae=e=>St("/shared-inbox/reply-email",{method:"POST",body:JSON.stringify(e)}),tae=e=>St("/shared-inbox/forward-email",{method:"POST",body:JSON.stringify(e)}),T7=e=>St(`/shared-inbox/signatures?userId=${e}`),rae=e=>St("/shared-inbox/signatures",{method:"POST",body:JSON.stringify(e)}),nae=(e,t)=>St(`/shared-inbox/signatures/${e}`,{method:"PUT",body:JSON.stringify(t)}),aae=(e,t)=>St(`/shared-inbox/signatures/${e}`,{method:"DELETE",body:JSON.stringify({userId:t})}),$P=(e,t)=>St(`/shared-inbox/emails/${e}/archive`,{method:"POST",body:JSON.stringify({userId:t})}),zP=(e,t)=>St(`/shared-inbox/emails/${e}`,{method:"DELETE",body:JSON.stringify({userId:t})}),sae=(e,t)=>St(`/shared-inbox/emails/${e}/restore`,{method:"POST",body:JSON.stringify({userId:t})}),ov=(e,t)=>St(`/shared-inbox/emails/${e}`,{method:"PUT",body:JSON.stringify(t)}),HP=(e,t,r)=>{const n=m7(),s=localStorage.getItem("auth_token"),i={"Content-Type":"application/json"};return s&&(i.Authorization=`Bearer ${s}`),fetch(`${n}/shared-inbox/emails/${e}/attachments/${t}?userId=${r}`,{method:"GET",headers:i}).then(async o=>{if(!o.ok){const l=await o.json().catch(()=>({message:"Failed to download attachment"}));throw new Error(l.message||"Failed to download attachment")}return o.blob()})},iae=e=>St("/shared-inbox/save-draft",{method:"POST",body:JSON.stringify(e)}),oae=(e,t)=>St(`/shared-inbox/drafts?userId=${e}&accountEmail=${encodeURIComponent(t)}`),lae=e=>St("/shared-inbox/schedule-send",{method:"POST",body:JSON.stringify(e)}),E3=(e,t)=>St(`/shared-inbox/activity/${e}/${t}`),cae=e=>St("/shared-inbox/link-contact",{method:"POST",body:JSON.stringify(e)}),uae=e=>St("/shared-inbox/link-company",{method:"POST",body:JSON.stringify(e)}),dae=e=>St("/shared-inbox/link-deal",{method:"POST",body:JSON.stringify(e)}),fae=e=>St("/shared-inbox/link-project",{method:"POST",body:JSON.stringify(e)}),hae=e=>St("/shared-inbox/link-contract",{method:"POST",body:JSON.stringify(e)}),pae=e=>St(`/shared-inbox/suggested-links?emailId=${e}`),mae=e=>St("/shared-inbox/create-task",{method:"POST",body:JSON.stringify(e)}),xae=e=>St(`/shared-inbox/related-tasks/${e}`),gae=e=>St(`/shared-inbox/related-projects/${e}`),vae=e=>St(`/shared-inbox/related-contracts/${e}`),yae=e=>St(`/shared-inbox/labels?userId=${e}`),bae=e=>St("/shared-inbox/labels",{method:"POST",body:JSON.stringify(e)}),wae=(e,t)=>St(`/shared-inbox/emails/${e}/labels`,{method:"PUT",body:JSON.stringify(t)}),Nae=(e,t)=>St(`/shared-inbox/emails/${e}/labels/${t}`,{method:"DELETE"}),jae=e=>St("/shared-inbox/categorize-email",{method:"POST",body:JSON.stringify(e)}),WP=e=>St(`/shared-inbox/categorization-rules?userId=${e}`),kae=(e,t=30)=>St(`/shared-inbox/categorization-accuracy?userId=${e}&days=${t}`),Sae=e=>St("/shared-inbox/categorization-rules",{method:"POST",body:JSON.stringify(e)}),_ae=(e,t)=>St(`/shared-inbox/categorization-rules/${e}?userId=${t}`,{method:"DELETE"}),Aae=e=>St(`/shared-inbox/folder-mapping?userId=${e}`),Eae=e=>St("/shared-inbox/folder-mapping",{method:"POST",body:JSON.stringify(e)}),Iv=(e,t,r,n)=>{const s=new URLSearchParams({userId:e});return t&&s.append("emailId",t),r&&s.append("startDate",r),n&&s.append("endDate",n),St(`/shared-inbox/calendar-events?${s.toString()}`)},Cae=e=>St("/shared-inbox/calendar-events",{method:"POST",body:JSON.stringify(e)}),Tae=(e,t,r,n)=>{const s=new URLSearchParams({userId:e,teamMemberIds:t.join(","),startDate:r,endDate:n});return St(`/shared-inbox/calendar-availability?${s.toString()}`)},Oae=(e,t,r)=>St("/shared-inbox/create-meeting",{method:"POST",body:JSON.stringify({userId:e,emailId:t,createInGoogleCalendar:r})}),Pae=(e,t,r,n,s,i)=>{const o=new URLSearchParams({userId:e});return t&&o.append("accountEmail",t),n&&o.append("query",n),s&&o.append("pageToken",s),St(`/shared-inbox/drive-files?${o.toString()}`)},VP=e=>St("/shared-inbox/attach-drive-file",{method:"POST",body:JSON.stringify(e)}),Iae=e=>St("/events",{method:"POST",body:JSON.stringify(e)}),Dae=(e,t)=>St(`/events/${e}`,{method:"PUT",body:JSON.stringify(t)}),O7=e=>St("/lead-sources?active=true"),Lae=async(e,t)=>{const r=localStorage.getItem("auth_token"),n=new FormData;n.append("file",e),n.append("userId",t);const s=await fetch(`${_3}/scanner/business-card/upload`,{method:"POST",headers:{Authorization:`Bearer ${r}`},body:n});if(!s.ok){const i=await s.json().catch(()=>({message:"Upload failed"}));throw new Error(i.message||"Failed to upload business card")}return s.json()},Fae=e=>St("/scanner/business-card/confirm",{method:"POST",body:JSON.stringify(e)}),Mae=e=>St("/scanner/linkedin/fetch",{method:"POST",body:JSON.stringify(e)}),Rae=e=>St("/scanner/linkedin/confirm",{method:"POST",body:JSON.stringify(e)}),Bae=({toast:e,onRemove:t})=>{z.useEffect(()=>{const s=setTimeout(()=>{t(e.id)},e.duration||3e3);return()=>clearTimeout(s)},[e.id,e.duration,t]);const r=()=>{switch(e.type){case"success":return a.jsx(Cn,{className:"w-5 h-5 text-emerald-600"});case"error":return a.jsx(Q8,{className:"w-5 h-5 text-red-600"});case"warning":return a.jsx(pa,{className:"w-5 h-5 text-amber-600"});case"info":return a.jsx(Wf,{className:"w-5 h-5 text-blue-600"});default:return a.jsx(Wf,{className:"w-5 h-5 text-blue-600"})}},n=()=>{switch(e.type){case"success":return"bg-emerald-50 border-emerald-200";case"error":return"bg-red-50 border-red-200";case"warning":return"bg-amber-50 border-amber-200";case"info":return"bg-blue-50 border-blue-200";default:return"bg-blue-50 border-blue-200"}};return a.jsxs("div",{className:`${n()} border rounded-xl shadow-lg p-4 flex items-center gap-3 min-w-[300px] max-w-md animate-in slide-in-from-right duration-300`,children:[a.jsx("div",{className:"shrink-0",children:r()}),a.jsx("p",{className:"flex-1 text-sm font-medium text-slate-900",children:e.message}),a.jsx("button",{onClick:()=>t(e.id),className:"shrink-0 p-1 hover:bg-white/50 rounded-lg transition-colors",children:a.jsx(mr,{className:"w-4 h-4 text-slate-400"})})]})},Uae=({toasts:e,onRemove:t})=>a.jsx("div",{className:"fixed top-4 right-4 z-[9999] flex flex-col gap-2 pointer-events-none",children:e.map(r=>a.jsx("div",{className:"pointer-events-auto",children:a.jsx(Bae,{toast:r,onRemove:t})},r.id))}),P7=z.createContext(void 0),Ms=()=>{const e=z.useContext(P7);if(!e)throw new Error("useToast must be used within ToastProvider");return e},qae=({children:e})=>{const[t,r]=z.useState([]),n=z.useCallback(u=>{r(d=>d.filter(h=>h.id!==u))},[]),s=z.useCallback((u,d="info",h=3e3)=>{const p={id:Math.random().toString(36).substring(2,9),message:u,type:d,duration:h};r(y=>[...y,p])},[]),i=z.useCallback((u,d)=>{s(u,"success",d)},[s]),o=z.useCallback((u,d)=>{s(u,"error",d||5e3)},[s]),l=z.useCallback((u,d)=>{s(u,"warning",d)},[s]),c=z.useCallback((u,d)=>{s(u,"info",d)},[s]);return a.jsxs(P7.Provider,{value:{showToast:s,showSuccess:i,showError:o,showWarning:l,showInfo:c},children:[e,a.jsx(Uae,{toasts:t,onRemove:n})]})},Cp=[{code:"USD",symbol:"$",name:"US Dollar"},{code:"EUR",symbol:"",name:"Euro"},{code:"GBP",symbol:"",name:"British Pound"},{code:"AED",symbol:".",name:"UAE Dirham"},{code:"SGD",symbol:"S$",name:"Singapore Dollar"},{code:"INR",symbol:"",name:"Indian Rupee"},{code:"AUD",symbol:"A$",name:"Australian Dollar"},{code:"CAD",symbol:"C$",name:"Canadian Dollar"},{code:"JPY",symbol:"",name:"Japanese Yen"},{code:"CNY",symbol:"",name:"Chinese Yuan"},{code:"CHF",symbol:"CHF",name:"Swiss Franc"},{code:"NZD",symbol:"NZ$",name:"New Zealand Dollar"},{code:"HKD",symbol:"HK$",name:"Hong Kong Dollar"},{code:"SAR",symbol:"",name:"Saudi Riyal"},{code:"ZAR",symbol:"R",name:"South African Rand"}],oi="USD",z4=e=>Cp.find(t=>t.code===e),Dd=e=>e?z4(e)?.symbol||"$":Cp.find(r=>r.code===oi)?.symbol||"$",Rd=(e,t)=>`${Dd(t)}${e.toLocaleString()}`,GP=[{id:"stat-pipeline",order:0},{id:"stat-projects",order:1},{id:"stat-invoices",order:2},{id:"stat-tasks",order:3},{id:"revenue-chart",order:4},{id:"inbox-card",order:5},{id:"tasks-card",order:6}],KP=({onNavigate:e})=>{const{showError:t,showSuccess:r}=Ms(),[n,s]=z.useState(null),[i,o]=z.useState({openPipeline:0,activeProjects:0,unpaidInvoices:0,actionableMail:0}),[l,c]=z.useState([]),[u,d]=z.useState([]),[h,m]=z.useState(!0),[p,y]=z.useState("1M"),[v,g]=z.useState([]),[b,w]=z.useState(!1),[j,N]=z.useState({}),[k,P]=z.useState({}),[A,O]=z.useState(oi),[D,R]=z.useState(!1),[C,T]=z.useState(GP),[I,B]=z.useState(null),[X,re]=z.useState(!1),[Z,te]=z.useState(!1);z.useRef(0),z.useEffect(()=>{const se=JSON.parse(localStorage.getItem("user_data")||"null");s(se),se?.id&&Y(se.id)},[]);const Y=async se=>{try{const Fe=await Vre(se);if(Fe?.data&&Array.isArray(Fe.data)){const _e=Fe.data.flatMap(oe=>oe.id==="stats-grid"?[{id:"stat-pipeline",order:oe.order},{id:"stat-projects",order:oe.order+.1},{id:"stat-invoices",order:oe.order+.2},{id:"stat-tasks",order:oe.order+.3}]:oe.order>0?[{...oe,order:oe.order+3}]:[oe]);T(_e)}}catch{console.log("[DASHBOARD] Using default layout")}},Q=async()=>{if(n?.id){te(!0);try{await Gre(n.id,C),r("Dashboard layout saved"),re(!1)}catch{t("Failed to save layout")}finally{te(!1)}}},H=()=>{T(GP)},E=(se,Fe)=>{X&&(B(Fe),se.dataTransfer.effectAllowed="move",se.dataTransfer.setData("text/html",Fe))},q=se=>{!X||!I||(se.preventDefault(),se.dataTransfer.dropEffect="move")},V=(se,Fe)=>{if(!X||!I||I===Fe)return;se.preventDefault();const _e=[...C],oe=_e.findIndex(ke=>ke.id===I),ae=_e.findIndex(ke=>ke.id===Fe);if(oe!==-1&&ae!==-1){const ke=_e[oe];_e.splice(oe,1),_e.splice(ae,0,ke),_e.forEach((we,Pe)=>{we.order=Pe}),T(_e)}B(null)},U=()=>{B(null)};z.useEffect(()=>{(async()=>{m(!0);try{const Fe=JSON.parse(localStorage.getItem("user_data")||"{}").id;if(!Fe){m(!1);return}const[_e,oe,ae,ke,we,Pe]=await Promise.all([Hy(Fe).catch(()=>({data:[]})),$p(Fe).catch(()=>({data:[]})),Ap(Fe).catch(()=>({data:[]})),b7(Fe).catch(()=>({data:[]})),C7(Fe).catch(()=>({data:[]})),fd().catch(()=>({data:[]}))]),pe=_e?.data||_e||[],fe=oe?.data||oe||[],De=ae?.data||ae||[],Xe=ke?.data||ke||[],Je=we?.data||we||[],ht=Pe?.data||Pe||[],Ue=Array.isArray(pe)?pe.filter(zt=>zt.stage!=="Won"&&zt.stage!=="Lost"):[],at={},Me={};Ue.forEach(zt=>{const _r=zt.currency||oi,Tr=zt.value||0;at[_r]=(at[_r]||0)+Tr,Me[_r]=(Me[_r]||0)+1});const ut=Array.isArray(fe)?fe.filter(zt=>zt.status!=="Completed"&&zt.status!=="Cancelled").length:0,ot=Array.isArray(Xe)?Xe.filter(zt=>zt.status!=="Paid"):[],rt={};ot.forEach(zt=>{const _r=zt.currency||oi,Tr=zt.amount||0;rt[_r]=(rt[_r]||0)+Tr,Me[_r]=(Me[_r]||0)+1});let lr=0,er=oi;Object.keys(Me).forEach(zt=>{Me[zt]>lr&&(lr=Me[zt],er=zt)}),N(at),P(rt),O(er);const xt=at[er]||0,Ht=rt[er]||0,Ut=0,qe=new Date;qe.setHours(0,0,0,0);const jt=Array.isArray(De)?De.filter(zt=>{if(!zt.dueDate)return!1;const _r=new Date(zt.dueDate);return _r.setHours(0,0,0,0),_r.getTime()===qe.getTime()&&zt.status!=="Done"}):[],kr=await Promise.all(jt.slice(0,2).map(async zt=>{if(zt.projectId)try{const _r=await Qre(zt.projectId);return{...zt,projectTitle:_r?.data?.title||"Software"}}catch{return{...zt,projectTitle:"Software"}}return{...zt,projectTitle:"Software"}}));o({openPipeline:xt,activeProjects:ut,unpaidInvoices:Ht,actionableMail:Ut}),c(kr),d(ht.slice(0,3))}catch(Fe){console.error("[DASHBOARD] Failed to fetch data:",Fe),t("Failed to load dashboard data")}finally{m(!1)}})()},[t]),z.useEffect(()=>{(async()=>{w(!0);try{const Fe=JSON.parse(localStorage.getItem("user_data")||"{}").id;if(!Fe){w(!1);return}const _e=await nne(Fe,p),oe=_e?.data||_e||[];g(Array.isArray(oe)?oe:[])}catch{g([])}finally{w(!1)}})()},[p]);const G=(se,Fe=A)=>{const _e=Dd(Fe);return se>=1e3?`${_e}${(se/1e3).toFixed(1)}k`:`${_e}${se.toLocaleString()}`},ne=se=>{const _e={draggable:X,onDragStart:oe=>E(oe,se),onDragOver:q,onDrop:oe=>V(oe,se),onDragEnd:U,className:`transition-all ${I===se?"opacity-50 scale-95":""} ${X?"cursor-move":""}`};switch(se){case"stat-pipeline":return a.jsxs("div",{..._e,children:[X&&a.jsxs("div",{className:"flex items-center gap-2 mb-3 text-indigo-600",children:[a.jsx(Td,{className:"w-5 h-5"}),a.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Open Pipeline"})]}),a.jsxs("button",{onClick:()=>e("pipeline"),className:"bg-white p-4 lg:p-7 rounded-[24px] lg:rounded-[28px] border border-slate-100 shadow-[0_4px_20px_rgba(0,0,0,0.02)] flex flex-col justify-between hover:border-indigo-300 transition-all text-left group active:scale-[0.98] w-full",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4 lg:mb-6",children:[a.jsx("div",{className:"p-2 rounded-lg lg:p-2.5 lg:rounded-xl text-blue-600 bg-blue-50/50 group-hover:scale-110 transition-transform",children:a.jsx($d,{className:"w-4 h-4 lg:w-5 lg:h-5"})}),a.jsx("span",{className:"text-[9px] lg:text-[10px] font-black text-emerald-600 bg-emerald-50 px-2 py-0.5 rounded-full",children:"+12%"})]}),a.jsxs("div",{className:"flex items-end justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-slate-400 text-[9px] lg:text-[10px] font-black uppercase tracking-[0.1em] lg:tracking-[0.15em]",children:"Open Pipeline"}),a.jsx("h3",{className:"text-lg lg:text-2xl font-black text-slate-900 mt-0.5 lg:mt-1",children:G(i.openPipeline,A)})]}),a.jsx("button",{onClick:oe=>{oe.stopPropagation(),R(!0)},className:"p-2 bg-indigo-50 hover:bg-indigo-100 text-indigo-600 rounded-lg transition-all shadow-sm ml-3 flex-shrink-0",title:"View in other currencies",children:a.jsx(F0,{className:"w-4 h-4 lg:w-5 lg:h-5"})})]})]})]},se);case"stat-projects":return a.jsxs("div",{..._e,children:[X&&a.jsxs("div",{className:"flex items-center gap-2 mb-3 text-indigo-600",children:[a.jsx(Td,{className:"w-5 h-5"}),a.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Active Projects"})]}),a.jsxs("button",{onClick:()=>e("projects"),className:"bg-white p-4 lg:p-7 rounded-[24px] lg:rounded-[28px] border border-indigo-200 shadow-[0_4px_20px_rgba(0,0,0,0.02)] flex flex-col justify-between hover:border-indigo-300 transition-all text-left group active:scale-[0.98] w-full",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4 lg:mb-6",children:[a.jsx("div",{className:"p-2 rounded-lg lg:p-2.5 lg:rounded-xl text-indigo-600 bg-indigo-50/50 group-hover:scale-110 transition-transform",children:a.jsx(Pc,{className:"w-4 h-4 lg:w-5 lg:h-5"})}),a.jsx("span",{className:"text-[9px] lg:text-[10px] font-black text-emerald-600 bg-emerald-50 px-2 py-0.5 rounded-full",children:"+12%"})]}),a.jsx("div",{className:"flex items-end justify-between",children:a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-slate-400 text-[9px] lg:text-[10px] font-black uppercase tracking-[0.1em] lg:tracking-[0.15em]",children:"Active Projects"}),a.jsx("h3",{className:"text-lg lg:text-2xl font-black text-slate-900 mt-0.5 lg:mt-1",children:i.activeProjects})]})})]})]},se);case"stat-invoices":return a.jsxs("div",{..._e,children:[X&&a.jsxs("div",{className:"flex items-center gap-2 mb-3 text-indigo-600",children:[a.jsx(Td,{className:"w-5 h-5"}),a.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Unpaid Invoices"})]}),a.jsxs("button",{onClick:()=>e("invoices"),className:"bg-white p-4 lg:p-7 rounded-[24px] lg:rounded-[28px] border border-slate-100 shadow-[0_4px_20px_rgba(0,0,0,0.02)] flex flex-col justify-between hover:border-indigo-300 transition-all text-left group active:scale-[0.98] w-full",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4 lg:mb-6",children:[a.jsx("div",{className:"p-2 rounded-lg lg:p-2.5 lg:rounded-xl text-emerald-600 bg-emerald-50/50 group-hover:scale-110 transition-transform",children:a.jsx(Xd,{className:"w-4 h-4 lg:w-5 lg:h-5"})}),a.jsx("span",{className:"text-[9px] lg:text-[10px] font-black text-emerald-600 bg-emerald-50 px-2 py-0.5 rounded-full",children:"+12%"})]}),a.jsxs("div",{className:"flex items-end justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-slate-400 text-[9px] lg:text-[10px] font-black uppercase tracking-[0.1em] lg:tracking-[0.15em]",children:"Unpaid Invoices"}),a.jsx("h3",{className:"text-lg lg:text-2xl font-black text-slate-900 mt-0.5 lg:mt-1",children:G(i.unpaidInvoices,A)})]}),a.jsx("button",{onClick:oe=>{oe.stopPropagation(),R(!0)},className:"p-2 bg-indigo-50 hover:bg-indigo-100 text-indigo-600 rounded-lg transition-all shadow-sm ml-3 flex-shrink-0",title:"View in other currencies",children:a.jsx(F0,{className:"w-4 h-4 lg:w-5 lg:h-5"})})]})]})]},se);case"stat-tasks":return a.jsxs("div",{..._e,children:[X&&a.jsxs("div",{className:"flex items-center gap-2 mb-3 text-indigo-600",children:[a.jsx(Td,{className:"w-5 h-5"}),a.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Tasks Due Today"})]}),a.jsxs("button",{onClick:()=>e("tasks"),className:"bg-white p-4 lg:p-7 rounded-[24px] lg:rounded-[28px] border border-slate-100 shadow-[0_4px_20px_rgba(0,0,0,0.02)] flex flex-col justify-between hover:border-indigo-300 transition-all text-left group active:scale-[0.98] w-full",children:[a.jsx("div",{className:"flex items-center justify-between mb-4 lg:mb-6",children:a.jsx("div",{className:"p-2 rounded-lg lg:p-2.5 lg:rounded-xl text-purple-600 bg-purple-50/50 group-hover:scale-110 transition-transform",children:a.jsx(al,{className:"w-4 h-4 lg:w-5 lg:h-5"})})}),a.jsx("div",{className:"flex items-end justify-between",children:a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-slate-400 text-[9px] lg:text-[10px] font-black uppercase tracking-[0.1em] lg:tracking-[0.15em]",children:"Tasks Due Today"}),a.jsx("h3",{className:"text-lg lg:text-2xl font-black text-slate-900 mt-0.5 lg:mt-1",children:l.length})]})})]})]},se);case"revenue-chart":return a.jsxs("div",{..._e,children:[X&&a.jsxs("div",{className:"flex items-center gap-2 mb-3 text-indigo-600",children:[a.jsx(Td,{className:"w-5 h-5"}),a.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Revenue Chart"})]}),a.jsxs("div",{className:"bg-white p-5 lg:p-8 rounded-[24px] lg:rounded-[32px] border border-slate-100 shadow-[0_8px_30px_rgba(0,0,0,0.02)]",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 lg:mb-10 gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg lg:text-xl font-black text-slate-900",children:"Revenue Velocity"}),a.jsx("p",{className:"text-slate-400 text-[10px] lg:text-xs font-medium mt-0.5 lg:mt-1",children:"Digital transformation revenue flow"})]}),a.jsx("div",{className:"flex bg-slate-50 p-1 rounded-xl border border-slate-100 w-full sm:w-auto",children:["7D","1M","1Y"].map(oe=>a.jsx("button",{onClick:()=>y(oe),className:`flex-1 sm:flex-none px-4 py-1.5 text-[10px] font-black rounded-lg transition-all ${oe===p?"bg-indigo-600 text-white shadow-md shadow-indigo-100":"text-slate-400 hover:text-slate-600"}`,children:oe},oe))})]}),a.jsx("div",{className:"h-60 lg:h-72 w-full relative",children:b?a.jsx("div",{className:"h-full flex items-center justify-center",children:a.jsx(F_,{className:"w-10 h-10 text-slate-300 animate-pulse"})}):v.length===0?a.jsx("div",{className:"h-full flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx($d,{className:"w-10 h-10 text-slate-200 mx-auto mb-2"}),a.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"No revenue data available"})]})}):a.jsx(EH,{width:"100%",height:"100%",children:a.jsxs(Ure,{data:v,children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"colorValue",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:"#4f46e5",stopOpacity:.1}),a.jsx("stop",{offset:"95%",stopColor:"#4f46e5",stopOpacity:0})]})}),a.jsx(JF,{strokeDasharray:"3 3",vertical:!1,stroke:"#f8fafc"}),a.jsx(qy,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:9,fontWeight:700},dy:10}),a.jsx($y,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:9,fontWeight:700},width:40,tickFormatter:oe=>`$${oe}`}),a.jsx(Ju,{contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 10px 25px rgba(0,0,0,0.1)",padding:"10px"},itemStyle:{fontWeight:"bold",fontSize:"12px",color:"#4f46e5"}}),a.jsx(a0,{type:"monotone",dataKey:"value",stroke:"#4f46e5",fillOpacity:1,fill:"url(#colorValue)",strokeWidth:3,animationDuration:1500})]})})})]})]},se);case"inbox-card":return a.jsxs("div",{..._e,children:[X&&a.jsxs("div",{className:"flex items-center gap-2 mb-3 text-indigo-600",children:[a.jsx(Td,{className:"w-5 h-5"}),a.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Inbox Card"})]}),a.jsxs("div",{onClick:()=>!X&&e("inbox"),className:`bg-[#312E81] rounded-[24px] lg:rounded-[32px] p-6 lg:p-8 text-white relative overflow-hidden group ${X?"":"cursor-pointer hover:scale-[1.02] active:scale-95"} transition-all shadow-xl shadow-indigo-100/50`,children:[a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex justify-between items-start mb-6 lg:mb-10",children:[a.jsx("div",{className:"w-8 h-8 lg:w-10 lg:h-10 bg-white/10 rounded-full flex items-center justify-center backdrop-blur-sm border border-white/10 group-hover:bg-white/20 transition-all",children:a.jsx(Ov,{className:"w-4 h-4 lg:w-5 lg:h-5"})}),!X&&a.jsx("button",{className:"text-white/40 group-hover:text-white transition-colors",children:a.jsx(ao,{className:"w-5 h-5 lg:w-6 lg:h-6"})})]}),a.jsx("h3",{className:"text-xl lg:text-2xl font-black mb-2 lg:mb-3",children:"Check Inbox"}),a.jsxs("p",{className:"text-indigo-200 text-[10px] lg:text-xs font-medium leading-relaxed opacity-80 max-w-[200px]",children:["You have ",i.actionableMail," actionable items that need attention."]}),a.jsx("div",{className:"mt-6 lg:mt-8 flex items-center gap-3",children:a.jsxs("div",{className:"flex -space-x-2",children:[u.map((oe,ae)=>a.jsx(Xs,{src:oe.avatar,isAvatar:!0,fallbackText:oe.name||oe.email||"U",className:"w-7 h-7 lg:w-9 lg:h-9 border-2 border-[#312E81] shadow-lg"},oe.id||ae)),a.jsx("div",{className:"w-7 h-7 lg:w-9 lg:h-9 rounded-full bg-indigo-500 border-2 border-[#312E81] flex items-center justify-center text-[9px] font-black shadow-lg",children:"+1"})]})})]}),a.jsx("div",{className:"absolute right-0 bottom-0 opacity-10 translate-x-1/4 translate-y-1/4 pointer-events-none",children:a.jsx(R0,{className:"w-32 h-32 lg:w-48 lg:h-48"})})]})]},se);case"tasks-card":return a.jsxs("div",{..._e,children:[X&&a.jsxs("div",{className:"flex items-center gap-2 mb-3 text-indigo-600",children:[a.jsx(Td,{className:"w-5 h-5"}),a.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Tasks Due Today"})]}),a.jsxs("div",{className:"bg-white rounded-[24px] lg:rounded-[32px] border border-slate-100 p-6 lg:p-8 shadow-[0_8px_30px_rgba(0,0,0,0.02)]",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6 lg:mb-8",children:[a.jsx("h4",{className:"text-[10px] lg:text-[11px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Tasks Due Today"}),a.jsx(al,{className:"w-4 h-4 text-indigo-400"})]}),a.jsx("div",{className:"space-y-4 lg:space-y-6",children:h?a.jsx("div",{className:"space-y-3",children:[1,2].map(oe=>a.jsx("div",{className:"h-4 bg-slate-50 rounded animate-pulse"},oe))}):l.length>0?l.slice(0,2).map(oe=>a.jsxs("div",{className:"flex gap-4 group cursor-pointer",children:[a.jsx("div",{className:"w-1.5 h-1.5 lg:w-2 lg:h-2 rounded-full bg-amber-400 mt-1.5 shrink-0 shadow-sm"}),a.jsxs("div",{children:[a.jsx("h5",{className:"text-xs lg:text-sm font-black text-slate-900 group-hover:text-indigo-600 transition-colors line-clamp-1",children:oe.title}),a.jsx("p",{className:"text-[9px] lg:text-[10px] font-black text-slate-400 uppercase mt-0.5",children:oe.projectTitle||"Software"})]})]},oe.id)):a.jsx("div",{className:"text-center py-4",children:a.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:"No tasks due today"})})}),a.jsx("button",{onClick:()=>!X&&e("tasks"),disabled:X,className:"w-full mt-8 lg:mt-10 py-3 bg-slate-50 text-indigo-600 text-[10px] font-black rounded-xl hover:bg-indigo-50 transition-all uppercase tracking-widest flex items-center justify-center gap-2 group border border-slate-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"View All Tasks"})]})]},se);default:return null}},de=n?.name?.split(" ")[0]||"Alex",ce=n?.avatar||n?.photoURL||"",he=n?.name||n?.email||"Impact Member",Le=[...C].sort((se,Fe)=>se.order-Fe.order);return a.jsxs("div",{className:"space-y-6 lg:space-y-8 animate-in fade-in duration-500 pb-10",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Xs,{src:ce,alt:he,fallbackText:he,isAvatar:!0,className:"w-10 h-10 rounded-full border border-slate-200 shadow-sm"}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsxs("h1",{className:"text-2xl lg:text-3xl font-bold text-slate-900 tracking-tight",children:["Welcome, ",de]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("span",{className:"text-slate-500 text-xs lg:text-sm font-medium",children:"Logistics digitalization hub"})})]})]}),a.jsx("div",{className:"flex items-center gap-2",children:X?a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:H,className:"px-4 py-2 border-2 border-slate-200 text-slate-600 text-xs font-black rounded-xl hover:bg-slate-50 transition-all uppercase tracking-wider",children:"Reset"}),a.jsx("button",{onClick:Q,disabled:Z,className:"px-4 py-2 bg-indigo-600 text-white text-xs font-black rounded-xl hover:bg-indigo-700 transition-all uppercase tracking-wider flex items-center gap-2 disabled:opacity-50 shadow-lg",children:Z?a.jsxs(a.Fragment,{children:[a.jsx(F_,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(wi,{className:"w-4 h-4"}),"Save Layout"]})}),a.jsx("button",{onClick:()=>re(!1),className:"px-4 py-2 border-2 border-slate-200 text-slate-600 text-xs font-black rounded-xl hover:bg-slate-50 transition-all uppercase tracking-wider",children:"Cancel"})]}):a.jsxs("button",{onClick:()=>re(!0),className:"px-4 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white text-xs font-black rounded-xl hover:from-indigo-700 hover:to-purple-700 transition-all uppercase tracking-wider flex items-center gap-2 shadow-lg",children:[a.jsx(Td,{className:"w-4 h-4"}),"Customize Dashboard"]})})]}),X&&a.jsx("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 border-2 border-indigo-200 rounded-2xl p-4 animate-in slide-in-from-top duration-300",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center shrink-0",children:a.jsx(Td,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-black text-slate-900 mb-1",children:"Customize Your Dashboard"}),a.jsx("p",{className:"text-xs text-slate-600 leading-relaxed",children:"Drag and drop the cards below to rearrange them. Your layout will be saved to your account and synced across all devices."})]})]})}),a.jsx("div",{className:"space-y-6 lg:space-y-8",children:Le.map((se,Fe)=>{const _e=ne(se.id);if(se.id.startsWith("stat-")){const ke=Le[Fe-1];if(ke&&ke.id.startsWith("stat-"))return null;{const Pe=[];for(let pe=Fe;pe<Le.length&&Le[pe].id.startsWith("stat-");pe++)Pe.push(Le[pe]);return a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 lg:gap-6",children:Pe.map(pe=>ne(pe.id))},`stat-cards-group-${Fe}`)}}if(se.id==="revenue-chart"){const ke=Le[Le.indexOf(se)+1],we=Le[Le.indexOf(se)+2];if(ke&&we&&(ke.id==="inbox-card"&&we.id==="tasks-card"||ke.id==="tasks-card"&&we.id==="inbox-card"))return a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 lg:gap-8",children:[a.jsx("div",{className:"lg:col-span-2",children:_e}),a.jsxs("div",{className:"space-y-6 lg:space-y-8",children:[ne(ke.id),ne(we.id)]})]},"revenue-with-sidebar")}return Le[Le.indexOf(se)-2]?.id==="revenue-chart"&&(se.id==="inbox-card"||se.id==="tasks-card")?null:_e})}),D&&a.jsxs("div",{className:"fixed inset-0 z-[120] overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md pointer-events-auto animate-in fade-in duration-300",onClick:()=>R(!1)}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4 pointer-events-none",children:a.jsxs("div",{className:"bg-white rounded-[32px] shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden pointer-events-auto animate-in zoom-in-95 duration-300 flex flex-col",children:[a.jsx("div",{className:"p-6 lg:p-8 border-b border-slate-100 bg-gradient-to-r from-indigo-50 to-purple-50",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl bg-indigo-600 flex items-center justify-center text-white shadow-lg",children:a.jsx(F0,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900",children:"Currency Totals"}),a.jsx("p",{className:"text-sm text-slate-500 font-medium mt-0.5",children:"View totals in different currencies"})]})]}),a.jsx("button",{onClick:()=>R(!1),className:"p-2 hover:bg-white rounded-full text-slate-400 hover:text-slate-600 transition-all",children:a.jsx(mr,{className:"w-5 h-5"})})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6 lg:p-8 custom-scrollbar",children:a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-widest mb-4 flex items-center gap-2",children:[a.jsx($d,{className:"w-4 h-4 text-blue-600"}),"Open Pipeline"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.keys(j).length>0?Object.entries(j).sort((se,Fe)=>Fe[1]-se[1]).map(([se,Fe])=>{const _e=z4(se),oe=se===A;return a.jsxs("div",{className:`p-5 rounded-2xl border-2 ${oe?"bg-indigo-50 border-indigo-300 shadow-md":"bg-slate-50 border-slate-200"} transition-all hover:shadow-lg`,children:[a.jsx("div",{className:"flex items-center justify-between mb-2",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-lg font-black text-slate-900",children:_e?.symbol||se}),a.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase",children:se}),oe&&a.jsx("span",{className:"px-2 py-0.5 bg-indigo-600 text-white text-[9px] font-black uppercase rounded-full",children:"Most Used"})]})}),a.jsx("p",{className:"text-2xl font-black text-slate-900",children:Rd(Fe,se)}),a.jsx("p",{className:"text-xs text-slate-400 font-medium mt-1",children:_e?.name||se})]},se)}):a.jsx("div",{className:"col-span-2 p-8 text-center bg-slate-50 rounded-2xl border border-slate-200",children:a.jsx("p",{className:"text-slate-400 font-medium",children:"No pipeline data available"})})})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-widest mb-4 flex items-center gap-2",children:[a.jsx(Xd,{className:"w-4 h-4 text-emerald-600"}),"Unpaid Invoices"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.keys(k).length>0?Object.entries(k).sort((se,Fe)=>Fe[1]-se[1]).map(([se,Fe])=>{const _e=z4(se),oe=se===A;return a.jsxs("div",{className:`p-5 rounded-2xl border-2 ${oe?"bg-indigo-50 border-indigo-300 shadow-md":"bg-slate-50 border-slate-200"} transition-all hover:shadow-lg`,children:[a.jsx("div",{className:"flex items-center justify-between mb-2",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-lg font-black text-slate-900",children:_e?.symbol||se}),a.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase",children:se}),oe&&a.jsx("span",{className:"px-2 py-0.5 bg-indigo-600 text-white text-[9px] font-black uppercase rounded-full",children:"Most Used"})]})}),a.jsx("p",{className:"text-2xl font-black text-slate-900",children:Rd(Fe,se)}),a.jsx("p",{className:"text-xs text-slate-400 font-medium mt-1",children:_e?.name||se})]},se)}):a.jsx("div",{className:"col-span-2 p-8 text-center bg-slate-50 rounded-2xl border border-slate-200",children:a.jsx("p",{className:"text-slate-400 font-medium",children:"No invoice data available"})})})]})]})}),a.jsx("div",{className:"p-6 lg:p-8 border-t border-slate-100 bg-slate-50",children:a.jsxs("button",{onClick:()=>R(!1),className:"w-full py-4 bg-indigo-600 text-white font-black uppercase text-xs tracking-widest rounded-2xl hover:bg-indigo-700 transition-all shadow-lg flex items-center justify-center gap-2",children:[a.jsx(al,{className:"w-4 h-4"}),"Close"]})})]})})]})]})},I7=({extractedData:e,suggestions:t,source:r,onConfirm:n,onCancel:s,isProcessing:i=!1,companies:o})=>{const[l,c]=z.useState(""),[u,d]=z.useState(""),[h,m]=z.useState(""),[p,y]=z.useState(""),[v,g]=z.useState(""),[b,w]=z.useState(""),[j,N]=z.useState(""),[k,P]=z.useState(null),[A,O]=z.useState({});z.useEffect(()=>{r==="business_card"?(c(e?.name?.value||""),d(e?.email?.value||""),m(e?.phone?.value||""),y(e?.title?.value||""),g(e?.linkedin?.value||""),w(e?.company?.value||""),N(e?.website?.value||"")):r==="linkedin"&&(c(e?.name||""),d(e?.email||""),m(e?.phone||""),y(e?.currentRole||e?.headline||""),g(e?.profileImageUrl||""),w(e?.currentCompany||""),N(e?.companyWebsite||"")),t?.existingCompany&&P(t.existingCompany.id)},[e,t,r]);const D=I=>I>=95?"text-green-600 bg-green-50":I>=75?"text-yellow-600 bg-yellow-50":"text-red-600 bg-red-50",R=I=>I>=95?"High Confidence":I>=75?"Medium - Verify":"Low - Review",C=()=>{const I={};return l.trim()||(I.name="Name is required"),u&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u)&&(I.email="Invalid email format"),!k&&!b.trim()&&(I.company="Company is required"),O(I),Object.keys(I).length===0},T=()=>{if(!C())return;const I={name:l,email:u.toLowerCase(),phone:h,role:p,linkedin:v};n(I,{name:b,website:j},k)};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Review & Confirm"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:r==="business_card"?"Verify scanned business card data":"Verify LinkedIn profile data"})]}),a.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(mr,{className:"w-6 h-6"})})]}),t?.existingContact&&a.jsxs("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg flex items-start",children:[a.jsx(Vf,{className:"w-5 h-5 text-yellow-600 mr-3 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-yellow-900",children:"Duplicate Contact Detected"}),a.jsxs("p",{className:"text-sm text-yellow-800 mt-1",children:['A contact with email "',t.existingContact.email,'" already exists.']}),a.jsx("div",{className:"mt-2 flex gap-2",children:a.jsx("button",{type:"button",className:"text-sm text-yellow-900 underline hover:no-underline",onClick:()=>window.dispatchEvent(new CustomEvent("navigate-to-contact",{detail:t.existingContact.id})),children:"View Existing Contact"})})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Information"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),a.jsxs("div",{className:"relative",children:[a.jsx(rl,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"text",value:l,onChange:I=>c(I.target.value),className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${A.name?"border-red-500":"border-gray-300"}`,placeholder:"John Doe"}),r==="business_card"&&e?.name?.confidence>0&&a.jsx("span",{className:`absolute right-3 top-2.5 text-xs px-2 py-1 rounded ${D(e.name.confidence)}`,children:R(e.name.confidence)})]}),A.name&&a.jsx("p",{className:"text-xs text-red-600 mt-1",children:A.name})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(li,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"email",value:u,onChange:I=>d(I.target.value),className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${A.email?"border-red-500":"border-gray-300"}`,placeholder:"john@example.com"}),r==="business_card"&&e?.email?.confidence>0&&a.jsx("span",{className:`absolute right-3 top-2.5 text-xs px-2 py-1 rounded ${D(e.email.confidence)}`,children:R(e.email.confidence)})]}),A.email&&a.jsx("p",{className:"text-xs text-red-600 mt-1",children:A.email})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),a.jsxs("div",{className:"relative",children:[a.jsx(kj,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"tel",value:h,onChange:I=>m(I.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"+1 (555) 123-4567"}),r==="business_card"&&e?.phone?.confidence>0&&a.jsx("span",{className:`absolute right-3 top-2.5 text-xs px-2 py-1 rounded ${D(e.phone.confidence)}`,children:R(e.phone.confidence)})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role/Title"}),a.jsxs("div",{className:"relative",children:[a.jsx(Pc,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"text",value:p,onChange:I=>y(I.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Chief Technology Officer"}),r==="business_card"&&e?.title?.confidence>0&&a.jsx("span",{className:`absolute right-3 top-2.5 text-xs px-2 py-1 rounded ${D(e.title.confidence)}`,children:R(e.title.confidence)})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"LinkedIn Profile"}),a.jsxs("div",{className:"relative",children:[a.jsx(M0,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"url",value:v,onChange:I=>g(I.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://linkedin.com/in/johndoe"})]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Company Information"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company *"}),a.jsxs("select",{value:k||"new",onChange:I=>{const B=I.target.value;if(B==="new")P(null);else{P(B);const X=o.find(re=>re.id===B);X&&(w(X.name),N(X.website))}},className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${A.company?"border-red-500":"border-gray-300"}`,children:[a.jsx("option",{value:"new",children:"+ Create New Company"}),o.map(I=>a.jsx("option",{value:I.id,children:I.name},I.id))]}),A.company&&a.jsx("p",{className:"text-xs text-red-600 mt-1",children:A.company})]}),!k&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name *"}),a.jsxs("div",{className:"relative",children:[a.jsx(nd,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"text",value:b,onChange:I=>w(I.target.value),className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${A.company?"border-red-500":"border-gray-300"}`,placeholder:"TechCorp Industries"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Website"}),a.jsxs("div",{className:"relative",children:[a.jsx(F0,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"url",value:j,onChange:I=>N(I.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://www.techcorp.com"})]})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{type:"button",onClick:s,disabled:i,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"}),a.jsx("button",{type:"button",onClick:T,disabled:i,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:i?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Creating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Cn,{className:"w-5 h-5"}),"Confirm & Save"]})})]})]})},$ae=({onClose:e,onSuccess:t,currentUserId:r})=>{const{showSuccess:n,showError:s}=Ms(),[i,o]=z.useState("select"),[l,c]=z.useState(null),[u,d]=z.useState(null),[h,m]=z.useState(null),[p,y]=z.useState(null),[v,g]=z.useState(null),[b,w]=z.useState(!1),[j,N]=z.useState([]),[k,P]=z.useState([]),A=z.useRef(null),O=z.useRef(null),D=z.useRef(null),R=z.useRef(null);it.useEffect(()=>{(async()=>{try{const[Y,Q]=await Promise.all([hd(),O7(!0)]);N(Y.data||[]),P(Q.data||[])}catch(Y){console.error("Failed to load data:",Y)}})()},[]);const C=async()=>{console.log("Camera button clicked - starting camera..."),g(null);try{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("Camera not supported on this browser");o("camera-loading");let te;try{console.log("Requesting rear camera..."),te=await navigator.mediaDevices.getUserMedia({video:{facingMode:{ideal:"environment"},width:{ideal:1920},height:{ideal:1080}}})}catch{console.log("Rear camera not available, trying any camera..."),te=await navigator.mediaDevices.getUserMedia({video:!0})}if(console.log("Camera stream obtained:",te),R.current=te,o("camera"),await new Promise(Y=>setTimeout(Y,100)),A.current){A.current.srcObject=te,console.log("Stream set to video element");try{await A.current.play(),console.log(" Camera started successfully")}catch(Y){console.error("Video play error:",Y)}}}catch(te){console.error(" Camera error:",te);let Y="Camera access denied. Please grant camera permission or use file upload.";te.name==="NotAllowedError"?Y="Camera permission denied. Please allow camera access in your browser settings.":te.name==="NotFoundError"?Y="No camera found on this device. Please use file upload instead.":te.name==="NotReadableError"?Y="Camera is already in use by another application.":te.name==="NotSupportedError"&&(Y="Camera not supported on this browser. Please use file upload."),g(Y),o("select"),T()}},T=()=>{R.current&&(R.current.getTracks().forEach(te=>te.stop()),R.current=null),A.current&&(A.current.srcObject=null)},I=()=>{if(!A.current||!O.current)return;const te=A.current,Y=O.current,Q=Y.getContext("2d");Q&&(Y.width=te.videoWidth,Y.height=te.videoHeight,Q.drawImage(te,0,0),Y.toBlob(H=>{if(H){const E=new File([H],`business-card-${Date.now()}.jpg`,{type:"image/jpeg"});c(E),d(Y.toDataURL("image/jpeg")),T(),X(E)}},"image/jpeg",.95))},B=te=>{const Y=te.target.files;if(!Y||Y.length===0)return;const Q=Y[0];if(!["image/jpeg","image/jpg","image/png","application/pdf"].includes(Q.type)){g("Invalid file type. Please upload JPG, PNG, or PDF.");return}if(Q.size>10*1024*1024){g("File too large. Maximum size is 10MB.");return}if(c(Q),Q.type.startsWith("image/")){const H=new FileReader;H.onload=E=>{d(E.target?.result)},H.readAsDataURL(Q)}X(Q)},X=async te=>{o("processing"),g(null),w(!0);try{const Y=await Lae(te,r);if(Y.success)m(Y.data.extractedData),y(Y.data.suggestions),o("review");else throw new Error("Failed to process business card")}catch(Y){console.error("Processing error:",Y),g(Y.message||"Failed to process business card. Please try again."),o("select")}finally{w(!1)}},re=async(te,Y,Q)=>{w(!0),g(null);try{const H=k.find(q=>q.name==="Business Card Scanner");if((await Fae({contactData:te,companyData:Y,linkToExistingCompany:Q,leadSourceId:H?.id||"",scanConfidenceScore:Z(h),originalScanData:h,userId:r})).success)o("success"),n("Contact created from business card!"),setTimeout(()=>{t(),e()},2e3);else throw new Error("Failed to create contact")}catch(H){console.error("Confirm error:",H),g(H.message||"Failed to create contact. Please try again."),s(H.message||"Failed to create contact")}finally{w(!1)}},Z=te=>{if(!te)return 0;const Y=[te.name?.confidence||0,te.email?.confidence||0,te.phone?.confidence||0,te.title?.confidence||0,te.company?.confidence||0].filter(Q=>Q>0);return Y.length===0?0:Math.round(Y.reduce((Q,H)=>Q+H,0)/Y.length)};return it.useEffect(()=>()=>{T()},[]),a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[i==="select"&&a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Scan Business Card"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Choose how to capture the business card"})]}),a.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:a.jsx(mr,{className:"w-6 h-6"})})]}),v&&a.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-800",children:v}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("button",{onClick:te=>{te.preventDefault(),console.log("Camera button clicked"),C()},className:"p-6 border-2 border-gray-200 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all text-center cursor-pointer",type:"button",children:[a.jsx(R_,{className:"w-12 h-12 mx-auto mb-3 text-blue-600"}),a.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Use Camera"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Take a photo of the card"})]}),a.jsxs("button",{onClick:()=>D.current?.click(),className:"p-6 border-2 border-gray-200 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all text-center",children:[a.jsx(Ou,{className:"w-12 h-12 mx-auto mb-3 text-blue-600"}),a.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Upload File"}),a.jsx("p",{className:"text-sm text-gray-600",children:"JPG, PNG, or PDF (10MB max)"})]})]}),a.jsx("input",{ref:D,type:"file",accept:"image/jpeg,image/jpg,image/png,application/pdf",onChange:B,className:"hidden"})]}),i==="camera-loading"&&a.jsxs("div",{className:"p-12 text-center",children:[a.jsx(Et,{className:"w-16 h-16 mx-auto text-blue-600 animate-spin mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Starting Camera..."}),a.jsx("p",{className:"text-gray-600",children:"Please allow camera access when prompted"})]}),i==="camera"&&a.jsxs("div",{className:"relative bg-black",children:[a.jsx("video",{ref:A,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-auto rounded-t-xl",style:{minHeight:"400px"}}),a.jsx("canvas",{ref:O,className:"hidden"}),a.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("div",{className:"border-4 border-white border-dashed rounded-xl opacity-50",style:{width:"85%",height:"50%"}})}),a.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-white text-center bg-black bg-opacity-50 px-4 py-2 rounded-lg",children:a.jsx("p",{className:"text-sm font-semibold",children:"Center card in frame"})})]}),a.jsx("div",{className:"absolute top-4 left-4",children:a.jsx("button",{onClick:()=>{T(),o("select")},className:"bg-white rounded-full p-2 shadow-lg hover:bg-gray-100",children:a.jsx(wk,{className:"w-6 h-6 text-gray-700"})})}),a.jsx("div",{className:"absolute bottom-6 left-0 right-0 flex justify-center",children:a.jsx("button",{onClick:I,className:"w-16 h-16 bg-white rounded-full border-4 border-blue-600 shadow-lg hover:bg-blue-50 transition-colors active:scale-95",children:a.jsx(R_,{className:"w-8 h-8 mx-auto text-blue-600"})})})]}),i==="processing"&&a.jsxs("div",{className:"p-12 text-center",children:[a.jsx(Et,{className:"w-16 h-16 mx-auto text-blue-600 animate-spin mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Processing Business Card..."}),a.jsx("p",{className:"text-gray-600",children:"Extracting contact information"}),u&&a.jsx("div",{className:"mt-6",children:a.jsx("img",{src:u,alt:"Captured",className:"max-w-full max-h-40 mx-auto rounded-lg shadow-md"})})]}),i==="review"&&h&&a.jsx(I7,{extractedData:h,suggestions:p||{existingContact:null,existingCompany:null,createNewCompany:!0},source:"business_card",onConfirm:re,onCancel:e,isProcessing:b,companies:j}),i==="success"&&a.jsxs("div",{className:"p-12 text-center",children:[a.jsx(Cn,{className:"w-16 h-16 mx-auto text-green-600 mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Contact Created!"}),a.jsx("p",{className:"text-gray-600",children:"The contact has been successfully added to your CRM"})]})]})})},zae=({onClose:e,onSuccess:t,currentUserId:r})=>{const{showSuccess:n,showError:s}=Ms(),[i,o]=z.useState("input"),[l,c]=z.useState(""),[u,d]=z.useState(null),[h,m]=z.useState(null),[p,y]=z.useState(null),[v,g]=z.useState(!1),[b,w]=z.useState([]),[j,N]=z.useState([]);it.useEffect(()=>{(async()=>{try{const[C,T]=await Promise.all([hd(),O7(!0)]);w(C.data||[]),N(T.data||[])}catch(C){console.error("Failed to load data:",C)}})()},[]);const k=R=>/^(https?:\/\/)?(www\.)?linkedin\.com\/in\/[a-zA-Z0-9-_]+\/?$/i.test(R),P=R=>{let C=R.trim();return!C.startsWith("http://")&&!C.startsWith("https://")&&(C=`https://${C}`),C.includes("www.")||(C=C.replace("linkedin.com","www.linkedin.com")),C.replace(/\/$/,"")},A=R=>{c(R),y(null)},O=async()=>{if(!l.trim()){y("Please enter a LinkedIn URL");return}const R=P(l);if(!k(R)){y("Invalid LinkedIn URL format. Example: linkedin.com/in/johndoe");return}o("fetching"),y(null),g(!0);try{const C=await Mae({linkedinUrl:R,userId:r});if(C.success)d(C.data.profile),m(C.data.suggestions),o("review");else throw new Error("Failed to fetch LinkedIn profile")}catch(C){console.error("Fetch error:",C);let T="Failed to fetch LinkedIn profile";C.message?.includes("Invalid LinkedIn URL")?T="Invalid LinkedIn URL format":C.message?.includes("private")?T="This LinkedIn profile is private and cannot be accessed":C.message?.includes("rate limit")&&(T="Rate limit exceeded. Please try again later"),y(T),o("input")}finally{g(!1)}},D=async(R,C,T)=>{g(!0),y(null);try{const I=j.find(X=>X.name==="LinkedIn Scanner");if((await Rae({contactData:R,linkedinData:u?{headline:u.headline,currentRole:u.currentRole,profileImageUrl:u.profileImageUrl}:void 0,companyData:C,linkToExistingCompany:T,leadSourceId:I?.id||"",userId:r})).success)o("success"),n("Contact created from LinkedIn profile!"),setTimeout(()=>{t(),e()},2e3);else throw new Error("Failed to create contact")}catch(I){console.error("Confirm error:",I),y(I.message||"Failed to create contact. Please try again."),s(I.message||"Failed to create contact")}finally{g(!1)}};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[i==="input"&&a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Scan LinkedIn Profile"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Import contact from LinkedIn profile"})]}),a.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:a.jsx(mr,{className:"w-6 h-6"})})]}),p&&a.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start",children:[a.jsx(pa,{className:"w-5 h-5 text-red-600 mr-3 mt-0.5 flex-shrink-0"}),a.jsx("div",{className:"text-red-800",children:p})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"LinkedIn Profile URL"}),a.jsxs("div",{className:"relative",children:[a.jsx(M0,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"url",value:l,onChange:R=>A(R.target.value),onKeyPress:R=>R.key==="Enter"&&O(),className:"w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://www.linkedin.com/in/johndoe"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Example: linkedin.com/in/johndoe or https://www.linkedin.com/in/johndoe"})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[a.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"How it works"}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-1 list-disc list-inside",children:[a.jsx("li",{children:"Paste any public LinkedIn profile URL"}),a.jsx("li",{children:"We'll extract available contact and company information"}),a.jsx("li",{children:"Review and edit before saving to your CRM"}),a.jsx("li",{children:"Note: Email and phone may not be publicly available"})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{onClick:O,disabled:!l.trim(),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(M0,{className:"w-5 h-5"}),"Fetch Profile"]})})]}),i==="fetching"&&a.jsxs("div",{className:"p-12 text-center",children:[a.jsx(Et,{className:"w-16 h-16 mx-auto text-blue-600 animate-spin mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Fetching LinkedIn Profile..."}),a.jsx("p",{className:"text-gray-600",children:"Extracting contact information"})]}),i==="review"&&u&&a.jsx(I7,{extractedData:u,suggestions:h||{existingContact:null,existingCompany:null,createNewCompany:!0},source:"linkedin",onConfirm:D,onCancel:e,isProcessing:v,companies:b}),i==="success"&&a.jsxs("div",{className:"p-12 text-center",children:[a.jsx(Cn,{className:"w-16 h-16 mx-auto text-green-600 mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Contact Created!"}),a.jsx("p",{className:"text-gray-600",children:"The contact has been successfully added to your CRM"})]})]})})};var zp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Hae={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Wae=class{#e=Hae;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},I0=new Wae;function Vae(e){setTimeout(e,0)}var Y0=typeof window>"u"||"Deno"in globalThis;function Qo(){}function Gae(e,t){return typeof e=="function"?e(t):e}function H4(e){return typeof e=="number"&&e>=0&&e!==1/0}function D7(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Hf(e,t){return typeof e=="function"?e(t):e}function Cc(e,t){return typeof e=="function"?e(t):e}function XP(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==C3(o,t.options))return!1}else if(!Ix(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function YP(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(J0(t.options.mutationKey)!==J0(i))return!1}else if(!Ix(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function C3(e,t){return(t?.queryKeyHashFn||J0)(e)}function J0(e){return JSON.stringify(e,(t,r)=>W4(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Ix(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Ix(e[r],t[r])):!1}var Kae=Object.prototype.hasOwnProperty;function L7(e,t,r=0){if(e===t)return e;if(r>500)return t;const n=JP(e)&&JP(t);if(!n&&!(W4(e)&&W4(t)))return t;const i=(n?e:Object.keys(e)).length,o=n?t:Object.keys(t),l=o.length,c=n?new Array(l):{};let u=0;for(let d=0;d<l;d++){const h=n?d:o[d],m=e[h],p=t[h];if(m===p){c[h]=m,(n?d<i:Kae.call(e,h))&&u++;continue}if(m===null||p===null||typeof m!="object"||typeof p!="object"){c[h]=p;continue}const y=L7(m,p,r+1);c[h]=y,y===m&&u++}return i===l&&u===i?e:c}function W1(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function JP(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function W4(e){if(!QP(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!QP(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function QP(e){return Object.prototype.toString.call(e)==="[object Object]"}function Xae(e){return new Promise(t=>{I0.setTimeout(t,e)})}function V4(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?L7(e,t):t}function Yae(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function Jae(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var T3=Symbol();function F7(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===T3?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function O3(e,t){return typeof e=="function"?e(...t):!!e}function Qae(e,t,r){let n=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??=t(),n||(n=!0,s.aborted?r():s.addEventListener("abort",r,{once:!0})),s)}),e}var Zae=class extends zp{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!Y0&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},P3=new Zae;function G4(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}var ese=Vae;function tse(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=ese;const i=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var gi=tse(),rse=class extends zp{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!Y0&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},V1=new rse;function nse(e){return Math.min(1e3*2**e,3e4)}function M7(e){return(e??"online")==="online"?V1.isOnline():!0}var K4=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function R7(e){let t=!1,r=0,n;const s=G4(),i=()=>s.status!=="pending",o=v=>{if(!i()){const g=new K4(v);m(g),e.onCancel?.(g)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>P3.isFocused()&&(e.networkMode==="always"||V1.isOnline())&&e.canRun(),d=()=>M7(e.networkMode)&&e.canRun(),h=v=>{i()||(n?.(),s.resolve(v))},m=v=>{i()||(n?.(),s.reject(v))},p=()=>new Promise(v=>{n=g=>{(i()||u())&&v(g)},e.onPause?.()}).then(()=>{n=void 0,i()||e.onContinue?.()}),y=()=>{if(i())return;let v;const g=r===0?e.initialPromise:void 0;try{v=g??e.fn()}catch(b){v=Promise.reject(b)}Promise.resolve(v).then(h).catch(b=>{if(i())return;const w=e.retry??(Y0?0:3),j=e.retryDelay??nse,N=typeof j=="function"?j(r,b):j,k=w===!0||typeof w=="number"&&r<w||typeof w=="function"&&w(r,b);if(t||!k){m(b);return}r++,e.onFail?.(r,b),Xae(N).then(()=>u()?void 0:p()).then(()=>{t?m(b):y()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(n?.(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?y():p().then(y),s)}}var B7=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),H4(this.gcTime)&&(this.#e=I0.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Y0?1/0:300*1e3))}clearGcTimeout(){this.#e&&(I0.clearTimeout(this.#e),this.#e=void 0)}},ase=class extends B7{#e;#t;#r;#a;#n;#i;#o;constructor(e){super(),this.#o=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#a=e.client,this.#r=this.#a.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=eI(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){if(this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=eI(this.options);t.data!==void 0&&(this.setState(ZP(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const r=V4(this.state.data,e,this.options);return this.#s({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(Qo).catch(Qo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Cc(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===T3||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Hf(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!D7(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#o?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#n?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const r=new AbortController,n=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},s=()=>{const l=F7(this.options,t),u=(()=>{const d={client:this.#a,queryKey:this.queryKey,meta:this.meta};return n(d),d})();return this.#o=!1,this.options.persister?this.options.persister(l,u,this):l(u)},o=(()=>{const l={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:s};return n(l),l})();this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#s({type:"fetch",meta:o.fetchOptions?.meta}),this.#n=R7({initialPromise:t?.initialPromise,fn:o.fetchFn,onCancel:l=>{l instanceof K4&&l.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(l,c)=>{this.#s({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const l=await this.#n.start();if(l===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(l),this.#r.config.onSuccess?.(l,this),this.#r.config.onSettled?.(l,this.state.error,this),l}catch(l){if(l instanceof K4){if(l.silent)return this.#n.promise;if(l.revert){if(this.state.data===void 0)throw l;return this.state.data}}throw this.#s({type:"error",error:l}),this.#r.config.onError?.(l,this),this.#r.config.onSettled?.(this.state.data,l,this),l}finally{this.scheduleGc()}}#s(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...U7(r.data,this.options),fetchMeta:e.meta??null};case"success":const n={...r,...ZP(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?n:void 0,n;case"error":const s=e.error;return{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),gi.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function U7(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:M7(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function ZP(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function eI(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var sse=class extends zp{constructor(e,t){super(),this.options=t,this.#e=e,this.#s=null,this.#o=G4(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#r=void 0;#a=void 0;#n;#i;#o;#s;#m;#f;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),tI(this.#t,this.options)?this.#d():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return X4(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return X4(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Cc(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#N(),this.#t.setOptions(this.options),t._defaulted&&!W1(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const n=this.hasListeners();n&&rI(this.#t,r,this.options,t)&&this.#d(),this.updateResult(),n&&(this.#t!==r||Cc(this.options.enabled,this.#t)!==Cc(t.enabled,this.#t)||Hf(this.options.staleTime,this.#t)!==Hf(t.staleTime,this.#t))&&this.#x();const s=this.#g();n&&(this.#t!==r||Cc(this.options.enabled,this.#t)!==Cc(t.enabled,this.#t)||s!==this.#l)&&this.#v(s)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),r=this.createResult(t,e);return ose(this,r)&&(this.#a=r,this.#i=this.options,this.#n=this.#t.state),r}getCurrentResult(){return this.#a}trackResult(e,t){return new Proxy(e,{get:(r,n)=>(this.trackProp(n),t?.(n),n==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,n))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#d(e){this.#N();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Qo)),t}#x(){this.#b();const e=Hf(this.options.staleTime,this.#t);if(Y0||this.#a.isStale||!H4(e))return;const r=D7(this.#a.dataUpdatedAt,e)+1;this.#c=I0.setTimeout(()=>{this.#a.isStale||this.updateResult()},r)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#w(),this.#l=e,!(Y0||Cc(this.options.enabled,this.#t)===!1||!H4(this.#l)||this.#l===0)&&(this.#u=I0.setInterval(()=>{(this.options.refetchIntervalInBackground||P3.isFocused())&&this.#d()},this.#l))}#y(){this.#x(),this.#v(this.#g())}#b(){this.#c&&(I0.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(I0.clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const r=this.#t,n=this.options,s=this.#a,i=this.#n,o=this.#i,c=e!==r?e.state:this.#r,{state:u}=e;let d={...u},h=!1,m;if(t._optimisticResults){const O=this.hasListeners(),D=!O&&tI(e,t),R=O&&rI(e,r,t,n);(D||R)&&(d={...d,...U7(u.data,e.options)}),t._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:p,errorUpdatedAt:y,status:v}=d;m=d.data;let g=!1;if(t.placeholderData!==void 0&&m===void 0&&v==="pending"){let O;s?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(O=s.data,g=!0):O=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,O!==void 0&&(v="success",m=V4(s?.data,O,t),h=!0)}if(t.select&&m!==void 0&&!g)if(s&&m===i?.data&&t.select===this.#m)m=this.#f;else try{this.#m=t.select,m=t.select(m),m=V4(s?.data,m,t),this.#f=m,this.#s=null}catch(O){this.#s=O}this.#s&&(p=this.#s,m=this.#f,y=Date.now(),v="error");const b=d.fetchStatus==="fetching",w=v==="pending",j=v==="error",N=w&&b,k=m!==void 0,A={status:v,fetchStatus:d.fetchStatus,isPending:w,isSuccess:v==="success",isError:j,isInitialLoading:N,isLoading:N,data:m,dataUpdatedAt:d.dataUpdatedAt,error:p,errorUpdatedAt:y,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:b,isRefetching:b&&!w,isLoadingError:j&&!k,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:j&&k,isStale:I3(e,t),refetch:this.refetch,promise:this.#o,isEnabled:Cc(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const O=A.data!==void 0,D=A.status==="error"&&!O,R=I=>{D?I.reject(A.error):O&&I.resolve(A.data)},C=()=>{const I=this.#o=A.promise=G4();R(I)},T=this.#o;switch(T.status){case"pending":e.queryHash===r.queryHash&&R(T);break;case"fulfilled":(D||A.data!==T.value)&&C();break;case"rejected":(!D||A.error!==T.reason)&&C();break}}return A}updateResult(){const e=this.#a,t=this.createResult(this.#t,this.options);if(this.#n=this.#t.state,this.#i=this.options,this.#n.data!==void 0&&(this.#h=this.#t),W1(t,e))return;this.#a=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,s=typeof n=="function"?n():n;if(s==="all"||!s&&!this.#p.size)return!0;const i=new Set(s??this.#p);return this.options.throwOnError&&i.add("error"),Object.keys(this.#a).some(o=>{const l=o;return this.#a[l]!==e[l]&&i.has(l)})};this.#j({listeners:r()})}#N(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#j(e){gi.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#a)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function ise(e,t){return Cc(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function tI(e,t){return ise(e,t)||e.state.data!==void 0&&X4(e,t,t.refetchOnMount)}function X4(e,t,r){if(Cc(t.enabled,e)!==!1&&Hf(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&I3(e,t)}return!1}function rI(e,t,r,n){return(e!==t||Cc(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&I3(e,r)}function I3(e,t){return Cc(t.enabled,e)!==!1&&e.isStaleByTime(Hf(t.staleTime,e))}function ose(e,t){return!W1(e.getCurrentResult(),t)}function nI(e){return{onFetch:(t,r)=>{const n=t.options,s=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let d=!1;const h=y=>{Qae(y,()=>t.signal,()=>d=!0)},m=F7(t.options,t.fetchOptions),p=async(y,v,g)=>{if(d)return Promise.reject();if(v==null&&y.pages.length)return Promise.resolve(y);const w=(()=>{const P={client:t.client,queryKey:t.queryKey,pageParam:v,direction:g?"backward":"forward",meta:t.options.meta};return h(P),P})(),j=await m(w),{maxPages:N}=t.options,k=g?Jae:Yae;return{pages:k(y.pages,j,N),pageParams:k(y.pageParams,v,N)}};if(s&&i.length){const y=s==="backward",v=y?lse:aI,g={pages:i,pageParams:o},b=v(n,g);l=await p(g,b,y)}else{const y=e??i.length;do{const v=c===0?o[0]??n.initialPageParam:aI(n,l);if(c>0&&v==null)break;l=await p(l,v),c++}while(c<y)}return l};t.options.persister?t.fetchFn=()=>t.options.persister?.(u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=u}}}function aI(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function lse(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var cse=class extends B7{#e;#t;#r;#a;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#r=e.mutationCache,this.#t=[],this.state=e.state||q7(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#r.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#r.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=R7({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(i,o)=>{this.#n({type:"failed",failureCount:i,error:o})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#r.canRun(this)});const n=this.state.status==="pending",s=!this.#a.canStart();try{if(n)t();else{this.#n({type:"pending",variables:e,isPaused:s}),this.#r.config.onMutate&&await this.#r.config.onMutate(e,this,r);const o=await this.options.onMutate?.(e,r);o!==this.state.context&&this.#n({type:"pending",context:o,variables:e,isPaused:s})}const i=await this.#a.start();return await this.#r.config.onSuccess?.(i,e,this.state.context,this,r),await this.options.onSuccess?.(i,e,this.state.context,r),await this.#r.config.onSettled?.(i,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(i,null,e,this.state.context,r),this.#n({type:"success",data:i}),i}catch(i){try{await this.#r.config.onError?.(i,e,this.state.context,this,r)}catch(o){Promise.reject(o)}try{await this.options.onError?.(i,e,this.state.context,r)}catch(o){Promise.reject(o)}try{await this.#r.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,r)}catch(o){Promise.reject(o)}try{await this.options.onSettled?.(void 0,i,e,this.state.context,r)}catch(o){Promise.reject(o)}throw this.#n({type:"error",error:i}),i}finally{this.#r.runNext(this)}}#n(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),gi.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#r.notify({mutation:this,type:"updated",action:e})})}};function q7(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var use=class extends zp{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#r=0}#e;#t;#r;build(e,t,r){const n=new cse({client:e,mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#e.add(e);const t=lv(e);if(typeof t=="string"){const r=this.#t.get(t);r?r.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=lv(e);if(typeof t=="string"){const r=this.#t.get(t);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=lv(e);if(typeof t=="string"){const n=this.#t.get(t)?.find(s=>s.state.status==="pending");return!n||n===e}else return!0}runNext(e){const t=lv(e);return typeof t=="string"?this.#t.get(t)?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){gi.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>YP(t,r))}findAll(e={}){return this.getAll().filter(t=>YP(e,t))}notify(e){gi.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return gi.batch(()=>Promise.all(e.map(t=>t.continue().catch(Qo))))}};function lv(e){return e.options.scope?.id}var dse=class extends zp{#e;#t=void 0;#r;#a;constructor(t,r){super(),this.#e=t,this.setOptions(r),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const r=this.options;this.options=this.#e.defaultMutationOptions(t),W1(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),r?.mutationKey&&this.options.mutationKey&&J0(r.mutationKey)!==J0(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#n(),this.#i(t)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#n(),this.#i()}mutate(t,r){return this.#a=r,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(t)}#n(){const t=this.#r?.state??q7();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#i(t){gi.batch(()=>{if(this.#a&&this.hasListeners()){const r=this.#t.variables,n=this.#t.context,s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(t?.type==="success"){try{this.#a.onSuccess?.(t.data,r,n,s)}catch(i){Promise.reject(i)}try{this.#a.onSettled?.(t.data,null,r,n,s)}catch(i){Promise.reject(i)}}else if(t?.type==="error"){try{this.#a.onError?.(t.error,r,n,s)}catch(i){Promise.reject(i)}try{this.#a.onSettled?.(void 0,t.error,r,n,s)}catch(i){Promise.reject(i)}}}this.listeners.forEach(r=>{r(this.#t)})})}},fse=class extends zp{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){const n=t.queryKey,s=t.queryHash??C3(n,t);let i=this.get(s);return i||(i=new ase({client:e,queryKey:n,queryHash:s,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(i)),i}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){gi.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>XP(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>XP(e,r)):t}notify(e){gi.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){gi.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){gi.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},hse=class{#e;#t;#r;#a;#n;#i;#o;#s;constructor(e={}){this.#e=e.queryCache||new fse,this.#t=e.mutationCache||new use,this.#r=e.defaultOptions||{},this.#a=new Map,this.#n=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#o=P3.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=V1.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#e.build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Hf(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=this.#e.get(n.queryHash)?.state.data,o=Gae(t,i);if(o!==void 0)return this.#e.build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return gi.batch(()=>this.#e.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;gi.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#e;return gi.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=gi.batch(()=>this.#e.findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(Qo).catch(Qo)}invalidateQueries(e,t={}){return gi.batch(()=>(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=gi.batch(()=>this.#e.findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(Qo)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Qo)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#e.build(this,t);return r.isStaleByTime(Hf(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Qo).catch(Qo)}fetchInfiniteQuery(e){return e.behavior=nI(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Qo).catch(Qo)}ensureInfiniteQueryData(e){return e.behavior=nI(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return V1.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#a.set(J0(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#a.values()],r={};return t.forEach(n=>{Ix(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){this.#n.set(J0(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#n.values()],r={};return t.forEach(n=>{Ix(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=C3(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===T3&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},$7=z.createContext(void 0),pd=e=>{const t=z.useContext($7);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},pse=({client:e,children:t})=>(z.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx($7.Provider,{value:e,children:t})),z7=z.createContext(!1),mse=()=>z.useContext(z7);z7.Provider;function xse(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var gse=z.createContext(xse()),vse=()=>z.useContext(gse),yse=(e,t,r)=>{const n=r?.state.error&&typeof e.throwOnError=="function"?O3(e.throwOnError,[r.state.error,r]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||n)&&(t.isReset()||(e.retryOnMount=!1))},bse=e=>{z.useEffect(()=>{e.clearReset()},[e])},wse=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||O3(r,[e.error,n])),Nse=e=>{if(e.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...s)=>r(n(...s)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},jse=(e,t)=>e.isLoading&&e.isFetching&&!t,kse=(e,t)=>e?.suspense&&t.isPending,sI=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Sse(e,t,r){const n=mse(),s=vse(),i=pd(),o=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(o);const l=i.getQueryCache().get(o.queryHash);o._optimisticResults=n?"isRestoring":"optimistic",Nse(o),yse(o,s,l),bse(s);const c=!i.getQueryCache().get(o.queryHash),[u]=z.useState(()=>new t(i,o)),d=u.getOptimisticResult(o),h=!n&&e.subscribed!==!1;if(z.useSyncExternalStore(z.useCallback(m=>{const p=h?u.subscribe(gi.batchCalls(m)):Qo;return u.updateResult(),p},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),z.useEffect(()=>{u.setOptions(o)},[o,u]),kse(o,d))throw sI(o,u,s);if(wse({result:d,errorResetBoundary:s,throwOnError:o.throwOnError,query:l,suspense:o.suspense}))throw d.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(o,d),o.experimental_prefetchInRender&&!Y0&&jse(d,n)&&(c?sI(o,u,s):l?.promise)?.catch(Qo).finally(()=>{u.updateResult()}),o.notifyOnChangeProps?d:u.trackResult(d)}function Wy(e,t){return Sse(e,sse)}function lh(e,t){const r=pd(),[n]=z.useState(()=>new dse(r,e));z.useEffect(()=>{n.setOptions(e)},[n,e]);const s=z.useSyncExternalStore(z.useCallback(o=>n.subscribe(gi.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=z.useCallback((o,l)=>{n.mutate(o,l).catch(Qo)},[n]);if(s.error&&O3(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const Vy={companies:e=>["companies",e],contacts:e=>["contacts",e],deals:()=>["deals"],users:()=>["users"]},_se=e=>Wy({queryKey:Vy.companies(e),queryFn:async()=>(await hd(e?.trim()||void 0)).data||[],staleTime:10*1e3,gcTime:300*1e3,refetchOnWindowFocus:!0,refetchOnMount:!0,refetchInterval:30*1e3}),Ase=e=>Wy({queryKey:Vy.contacts(e),queryFn:async()=>(await ag(e?.trim()||void 0)).data||[],staleTime:10*1e3,gcTime:300*1e3,refetchOnWindowFocus:!0,refetchOnMount:!0,refetchInterval:30*1e3}),Ese=()=>Wy({queryKey:Vy.deals(),queryFn:async()=>(await Hy()).data||[],staleTime:60*1e3,gcTime:600*1e3}),Cse=()=>Wy({queryKey:Vy.users(),queryFn:async()=>(await fd()).data||[],staleTime:300*1e3,gcTime:1800*1e3}),Tse=()=>{const e=pd();return lh({mutationFn:async({id:t,updates:r})=>(await x7(t,r),{id:t,updates:r}),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["companies"]});const n=e.getQueriesData({queryKey:["companies"]});return e.setQueriesData({queryKey:["companies"]},s=>s?.map(i=>i.id===t?{...i,...r}:i)),{previousCompanies:n}},onError:(t,r,n)=>{n?.previousCompanies&&n.previousCompanies.forEach(([s,i])=>{e.setQueryData(s,i)})},onSuccess:()=>{e.invalidateQueries({queryKey:["companies"]})}})},Ose=()=>{const e=pd();return lh({mutationFn:async({id:t,updates:r})=>(await v7(t,r),{id:t,updates:r}),onMutate:async({id:t,updates:r})=>{await e.cancelQueries({queryKey:["contacts"]});const n=e.getQueriesData({queryKey:["contacts"]});return e.setQueriesData({queryKey:["contacts"]},s=>s?.map(i=>i.id===t?{...i,...r}:i)),{previousContacts:n}},onError:(t,r,n)=>{n?.previousContacts&&n.previousContacts.forEach(([s,i])=>{e.setQueryData(s,i)})},onSuccess:()=>{e.invalidateQueries({queryKey:["contacts"]})}})},Pse=()=>{const e=pd();return lh({mutationFn:async t=>(await g7(t),t),onSuccess:t=>{e.setQueriesData({queryKey:["companies"]},r=>r?.filter(n=>n.id!==t))}})},Ise=()=>{const e=pd();return lh({mutationFn:async t=>(await y7(t),t),onSuccess:t=>{e.setQueriesData({queryKey:["contacts"]},r=>r?.filter(n=>n.id!==t))}})},Dse=()=>{const e=pd();return lh({mutationFn:async t=>(await Promise.all(t.map(r=>g7(r))),t),onSuccess:t=>{e.setQueriesData({queryKey:["companies"]},r=>r?.filter(n=>!t.includes(n.id)))}})},Lse=()=>{const e=pd();return lh({mutationFn:async t=>(await Promise.all(t.map(r=>y7(r))),t),onSuccess:t=>{e.setQueriesData({queryKey:["contacts"]},r=>r?.filter(n=>!t.includes(n.id)))}})},Fse=()=>{const e=pd();return lh({mutationFn:async({ids:t,updates:r})=>(await Promise.all(t.map(n=>x7(n,r))),{ids:t,updates:r}),onSuccess:({ids:t,updates:r})=>{e.setQueriesData({queryKey:["companies"]},n=>n?.map(s=>t.includes(s.id)?{...s,...r}:s))}})},Mse=({onNavigate:e,onAddCompany:t,onAddContact:r,externalSearchQuery:n=""})=>{const{showSuccess:s,showError:i}=Ms(),o=pd(),l=localStorage.getItem("user_data")?JSON.parse(localStorage.getItem("user_data")||"{}"):null,[c,u]=z.useState("companies"),[d,h]=z.useState(""),[m,p]=z.useState(null),[y,v]=z.useState(null),{data:g=[],isLoading:b}=_se(d),{data:w=[],isLoading:j}=Ase(d),{data:N=[],isLoading:k}=Ese(),{data:P=[],isLoading:A}=Cse(),O=Tse(),D=Ose(),R=Pse(),C=Ise(),T=Dse(),I=Lse(),B=Fse(),X=b||j||k||A,[re,Z]=z.useState([]),[te,Y]=z.useState([]),[Q,H]=z.useState([]),[E,q]=z.useState(!1),[V,U]=z.useState(!1),[G,ne]=z.useState({}),[de,ce]=z.useState(!1),[he,Le]=z.useState(!1),[se,Fe]=z.useState({}),[_e,oe]=z.useState("details"),[ae,ke]=z.useState(!1),[we,Pe]=z.useState(null),[pe,fe]=z.useState(null),[De,Xe]=z.useState(!1),[Je,ht]=z.useState(!1),[Ue,at]=z.useState([]),[Me,ut]=z.useState([]),[ot,rt]=z.useState(!1),[lr,er]=z.useState(!1),[xt,Ht]=z.useState(!1),[Ut,qe]=z.useState(!1),[jt,kr]=z.useState(null),[zt,_r]=z.useState(""),[Tr,pr]=z.useState(!1),[Jt,Lr]=z.useState(null),[Ar,Gr]=z.useState(null),[Tn,Ln]=z.useState(!1),[vr,Xn]=z.useState(""),[vn,Ke]=z.useState(0),[bt,Wt]=z.useState([]),[ee,me]=z.useState(""),[ge,Se]=z.useState(!1),[Ee,Te]=z.useState(null),[Ge,dt]=z.useState(null),[Ve,Qe]=z.useState(!1),[ze,Ie]=z.useState(""),[et,gt]=z.useState(0),[Lt,Bt]=z.useState([]),[br,Dr]=z.useState(!1),[Qr,Nn]=z.useState(!1),[ds,qn]=z.useState(!1),ss=async()=>{qn(!0);try{await Promise.all([o.invalidateQueries({queryKey:["companies"]}),o.invalidateQueries({queryKey:["contacts"]}),o.invalidateQueries({queryKey:["deals"]}),o.invalidateQueries({queryKey:["users"]})]),s("Data refreshed successfully")}catch{i("Failed to refresh data")}finally{setTimeout(()=>qn(!1),500)}};z.useEffect(()=>{n!==void 0&&h(n)},[n]),z.useEffect(()=>{at([]),ut([])},[c,d]),z.useEffect(()=>{const Ce=()=>{console.log(" CRM refresh triggered - invalidating cache"),o.invalidateQueries({queryKey:["companies"]}),o.invalidateQueries({queryKey:["contacts"]}),o.invalidateQueries({queryKey:["deals"]}),o.invalidateQueries({queryKey:["users"]})};return window.addEventListener("refresh-crm",Ce),()=>window.removeEventListener("refresh-crm",Ce)},[o]);const $n=async Ce=>{if(m)try{await O.mutateAsync({id:m.id,updates:Ce}),p({...m,...Ce}),s("Account updated")}catch{i("Update failed")}},fs=async()=>{if(!(!y||ae)){if(!se.name||!se.email){i("Name and Email are required fields");return}ke(!0);try{await D.mutateAsync({id:y.id,updates:se});const Ce={...y,...se};v(Ce),Le(!1),s("Contact profile updated successfully")}catch(Ce){console.error("Contact update error:",Ce),i(Ce.message||"Failed to update contact. Please try again.")}finally{ke(!1)}}},jn=async Ce=>{Xe(!0);try{await R.mutateAsync(Ce),m?.id===Ce&&(p(null),U(!1)),Pe(null),s("Company deleted successfully")}catch(xr){i(xr.message||"Failed to delete company")}finally{Xe(!1)}},Hr=async Ce=>{ht(!0);try{await C.mutateAsync(Ce),y?.id===Ce&&(v(null),Le(!1)),fe(null),s("Contact deleted successfully")}catch(xr){i(xr.message||"Failed to delete contact")}finally{ht(!1)}},Be=()=>{p(null),U(!1),_r(""),Ln(!1)},kt=()=>{v(null),Le(!1),me(""),Qe(!1)},yt=Ce=>{const xr=/@([A-Za-z0-9\s]+?)(?=\s|$|[.,!?])/g,Qt=[];let jr;for(;(jr=xr.exec(Ce))!==null;){const Kr=jr[1].trim(),tn=P.find(Sn=>Sn.name.toLowerCase()===Kr.toLowerCase());tn&&Qt.push(tn.id)}return[...new Set(Qt)]},Yt=Ce=>{const xr=/@([A-Za-z0-9\s]+?)(?=\s|$|[.,!?])/g,Qt=[];let jr=0,Kr;for(;(Kr=xr.exec(Ce))!==null;){Kr.index>jr&&Qt.push(Ce.substring(jr,Kr.index));const tn=Kr[1].trim(),Sn=P.find(ba=>ba.name.toLowerCase()===tn.toLowerCase());Sn?Qt.push(a.jsxs("span",{className:"bg-indigo-100 text-indigo-700 px-1.5 py-0.5 rounded font-bold",children:["@",Sn.name]},Kr.index)):Qt.push(`@${tn}`),jr=Kr.index+Kr[0].length}return jr<Ce.length&&Qt.push(Ce.substring(jr)),Qt.length>0?Qt:Ce},cr=Ce=>{const xr=Ce.target.value,Qt=Ce.target.selectionStart;_r(xr),Ke(Qt);const jr=xr.substring(0,Qt),Kr=jr.lastIndexOf("@");if(Kr!==-1){const tn=jr.substring(Kr+1),Sn=Kr>0?jr[Kr-1]:" ";if((Sn===" "||Sn===`
`||Kr===0)&&!tn.includes(" ")&&!tn.includes(`
`)){Xn(tn);const ba=P.filter(zi=>zi.name.toLowerCase().includes(tn.toLowerCase())||zi.email.toLowerCase().includes(tn.toLowerCase()));Wt(ba.slice(0,5)),Ln(!0);return}}Ln(!1)},ar=Ce=>{const Qt=zt.substring(0,vn).lastIndexOf("@"),jr=zt.substring(vn),tn=`${zt.substring(0,Qt)}@${Ce.name} ${jr}`;_r(tn),Ln(!1)},Nr=async()=>{if(!(!m||!zt.trim())){pr(!0);try{const Ce=localStorage.getItem("user_data")?JSON.parse(localStorage.getItem("user_data")||"{}").id:"",xr=localStorage.getItem("user_data")?JSON.parse(localStorage.getItem("user_data")||"{}").name:"Unknown User",Qt={id:`note_${Date.now()}`,userId:Ce,userName:xr,text:zt.trim(),createdAt:new Date().toISOString()},jr=[...m.notes||[],Qt];await apiUpdateCompany(m.id,{notes:jr}),p({...m,notes:jr}),setCompanies(Sn=>Sn.map(ba=>ba.id===m.id?{...ba,notes:jr}:ba));const Kr=yt(zt);for(const Sn of Kr)try{await Ep({userId:Sn,type:"mention",title:"You were mentioned in a company note",message:`${xr} mentioned you in ${m.name}`,relatedId:m.id,relatedType:"company",read:!1})}catch(ba){console.error("Failed to send notification:",ba)}_r("");const tn=Kr.length>0?`Note added and ${Kr.length} user(s) notified`:"Note added successfully";s(tn)}catch(Ce){i(Ce.message||"Failed to add note")}finally{pr(!1)}}},mn=async()=>{if(!(!m||!l||!Ar))try{Lr(Ar);const Ce=m.notes?.filter(xr=>xr.id!==Ar)||[];await apiUpdateCompany(m.id,{notes:Ce}),p({...m,notes:Ce}),setCompanies(xr=>xr.map(Qt=>Qt.id===m.id?{...Qt,notes:Ce}:Qt)),s("Note deleted successfully"),Gr(null)}catch(Ce){i(Ce.message||"Failed to delete note")}finally{Lr(null)}},Fn=Ce=>{const xr=Ce.target.value,Qt=Ce.target.selectionStart;me(xr),gt(Qt);const jr=xr.substring(0,Qt),Kr=jr.lastIndexOf("@");if(Kr!==-1){const tn=jr.substring(Kr+1),Sn=Kr>0?jr[Kr-1]:" ";if((Sn===" "||Sn===`
`||Kr===0)&&!tn.includes(" ")&&!tn.includes(`
`)){Ie(tn);const ba=P.filter(zi=>zi.name.toLowerCase().includes(tn.toLowerCase())||zi.email.toLowerCase().includes(tn.toLowerCase()));Bt(ba.slice(0,5)),Qe(!0);return}}Qe(!1)},rr=Ce=>{const Qt=ee.substring(0,et).lastIndexOf("@"),jr=ee.substring(et),tn=`${ee.substring(0,Qt)}@${Ce.name} ${jr}`;me(tn),Qe(!1)},nr=async()=>{if(!(!y||!ee.trim())){Se(!0);try{const Ce=localStorage.getItem("user_data")?JSON.parse(localStorage.getItem("user_data")||"{}").id:"",xr=localStorage.getItem("user_data")?JSON.parse(localStorage.getItem("user_data")||"{}").name:"Unknown User",Qt={id:`note_${Date.now()}`,userId:Ce,userName:xr,text:ee.trim(),createdAt:new Date().toISOString()},jr=[...y.notes||[],Qt];await apiUpdateContact(y.id,{notes:jr}),v({...y,notes:jr}),setContacts(Sn=>Sn.map(ba=>ba.id===y.id?{...ba,notes:jr}:ba));const Kr=yt(ee);for(const Sn of Kr)try{await Ep({userId:Sn,type:"mention",title:"You were mentioned in a contact note",message:`${xr} mentioned you in ${y.name}`,relatedId:y.id,relatedType:"contact",read:!1})}catch(ba){console.error("Failed to send notification:",ba)}me("");const tn=Kr.length>0?`Note added and ${Kr.length} user(s) notified`:"Note added successfully";s(tn)}catch(Ce){i(Ce.message||"Failed to add note")}finally{Se(!1)}}},Ot=async()=>{if(!(!y||!l||!Ge))try{Te(Ge);const Ce=y.notes?.filter(xr=>xr.id!==Ge)||[];await apiUpdateContact(y.id,{notes:Ce}),v({...y,notes:Ce}),setContacts(xr=>xr.map(Qt=>Qt.id===y.id?{...Qt,notes:Ce}:Qt)),s("Note deleted successfully"),dt(null)}catch(Ce){i(Ce.message||"Failed to delete note")}finally{Te(null)}},Zr=z.useCallback(Ce=>N.some(xr=>xr.companyId===Ce),[N]),Ct=z.useMemo(()=>g.filter(Ce=>{if(re.length>0){const xr=re.includes("target")&&Ce.isTargetAccount,Qt=re.includes("non-target")&&!Ce.isTargetAccount;if(!xr&&!Qt)return!1}if(te.length>0){const xr=te.includes("assigned")&&Ce.ownerId,Qt=te.includes("unassigned")&&!Ce.ownerId;if(!xr&&!Qt)return!1}if(Q.length>0){const xr=Q.includes("has-deals")&&Zr(Ce.id),Qt=Q.includes("no-deals")&&!Zr(Ce.id);if(!xr&&!Qt)return!1}return!0}),[g,re,te,Q,Zr]),Fr=z.useMemo(()=>re.length>0||te.length>0||Q.length>0,[re,te,Q]),oa=()=>{Z([]),Y([]),H([])},ja=(Ce,xr)=>{Ce==="target"?Z(Qt=>Qt.includes(xr)?Qt.filter(jr=>jr!==xr):[...Qt,xr]):Ce==="assigned"?Y(Qt=>Qt.includes(xr)?Qt.filter(jr=>jr!==xr):[...Qt,xr]):Ce==="deals"&&H(Qt=>Qt.includes(xr)?Qt.filter(jr=>jr!==xr):[...Qt,xr])},ir=()=>{Ue.length===Ct.length&&Ct.length>0?at([]):at(Ct.map(Ce=>Ce.id))},Zn=()=>{Me.length===w.length?ut([]):ut(w.map(Ce=>Ce.id))},ya=async()=>{rt(!0);try{const Ce=[...Ue];await T.mutateAsync(Ce),m&&Ce.includes(m.id)&&(p(null),U(!1)),at([]),kr(null),s(`Successfully deleted ${Ce.length} compan${Ce.length>1?"ies":"y"}`)}catch(Ce){i(Ce.message||"Failed to delete companies")}finally{rt(!1)}},en=async()=>{er(!0);try{const Ce=[...Me];await I.mutateAsync(Ce),y&&Ce.includes(y.id)&&(v(null),Le(!1)),ut([]),kr(null),s(`Successfully deleted ${Ce.length} contact${Ce.length>1?"s":""}`)}catch(Ce){i(Ce.message||"Failed to delete contacts")}finally{er(!1)}},Da=async()=>{if(Ue.length!==0){Ht(!0);try{const Ce=[...Ue];await B.mutateAsync({ids:Ce,updates:{isTargetAccount:!0}}),m&&Ce.includes(m.id)&&p({...m,isTargetAccount:!0}),at([]),s(`Successfully marked ${Ce.length} compan${Ce.length>1?"ies":"y"} as target account${Ce.length>1?"s":""}`)}catch(Ce){i(Ce.message||"Failed to mark companies as target accounts")}finally{Ht(!1)}}},Wr=async()=>{if(Ue.length!==0){qe(!0);try{const Ce=[...Ue];await B.mutateAsync({ids:Ce,updates:{isTargetAccount:!1}}),m&&Ce.includes(m.id)&&p({...m,isTargetAccount:!1}),at([]),s(`Successfully unmarked ${Ce.length} compan${Ce.length>1?"ies":"y"} as target account${Ce.length>1?"s":""}`)}catch(Ce){i(Ce.message||"Failed to unmark companies as target accounts")}finally{qe(!1)}}},Or=async()=>{m&&i("AI Intelligence feature is not available. Please install @google/genai package to enable this feature.")},Rr=Ce=>N.filter(xr=>xr.companyId===Ce&&xr.stage!=="Won"&&xr.stage!=="Lost").length,kn=Ce=>Ce?P.find(xr=>xr.id===Ce)?.name||"Unknown":"Unassigned";return a.jsxs("div",{className:"h-full flex flex-col gap-6 animate-in fade-in slide-in-from-bottom-4 duration-500 pb-10",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"CRM"}),a.jsxs("div",{className:"flex gap-4 mt-2",children:[a.jsxs("button",{onClick:()=>{u("companies"),at([]),ut([])},className:`text-sm font-semibold pb-1 border-b-2 transition-colors ${c==="companies"?"border-indigo-600 text-slate-900":"border-transparent text-slate-500 hover:text-slate-700"}`,children:["Companies (",c==="companies"?Ct.length:g.length,")"]}),a.jsxs("button",{onClick:()=>{u("contacts"),at([]),ut([])},className:`text-sm font-semibold pb-1 border-b-2 transition-colors ${c==="contacts"?"border-indigo-600 text-slate-900":"border-transparent text-slate-500 hover:text-slate-700"}`,children:["Contacts (",w.length,")"]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:ss,disabled:ds,className:"px-3 py-2 bg-slate-100 text-slate-700 text-sm font-semibold rounded-lg flex items-center gap-2 hover:bg-slate-200 transition-all shadow-sm disabled:opacity-50",title:"Refresh data",children:a.jsx(sd,{className:`w-4 h-4 ${ds?"animate-spin":""}`})}),a.jsxs("button",{onClick:()=>c==="companies"?t():r(),className:"px-4 py-2 bg-indigo-600 text-white text-sm font-semibold rounded-lg flex items-center gap-2 hover:bg-indigo-700 transition-all shadow-sm",children:[a.jsx(_n,{className:"w-4 h-4"})," Add ",c==="companies"?"Company":"Contact"]}),c==="contacts"&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>Dr(!0),className:"px-4 py-2 bg-blue-600 text-white text-sm font-semibold rounded-lg flex items-center gap-2 hover:bg-blue-700 transition-all shadow-sm",title:"Scan Business Card",children:[a.jsx(zB,{className:"w-4 h-4"})," Scan Card"]}),a.jsxs("button",{onClick:()=>Nn(!0),className:"px-4 py-2 bg-blue-700 text-white text-sm font-semibold rounded-lg flex items-center gap-2 hover:bg-blue-800 transition-all shadow-sm",title:"Import from LinkedIn",children:[a.jsx(M0,{className:"w-4 h-4"})," LinkedIn"]})]})]})]}),a.jsxs("div",{className:"flex-1 flex flex-col gap-6 w-full max-w-6xl mx-auto",children:[a.jsx("div",{className:"w-full",children:a.jsxs("div",{className:"relative group w-full",children:[a.jsx(tf,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 group-focus-within:text-indigo-600 transition-colors"}),a.jsx("input",{type:"text",placeholder:`Search ${c}...`,value:d,onChange:Ce=>h(Ce.target.value),className:"w-full pl-10 pr-10 py-3 bg-white border border-slate-200 rounded-xl shadow-sm outline-none focus:ring-2 focus:ring-indigo-100 transition-all"})]})}),a.jsxs("div",{className:"flex items-center gap-3 pb-2",children:[a.jsx("input",{type:"checkbox",className:"rounded border-slate-300 text-indigo-600 focus:ring-indigo-500 w-4 h-4",disabled:X,checked:c==="companies"?Ct.length>0&&Ue.length===Ct.length&&Ct.every(Ce=>Ue.includes(Ce.id)):w.length>0&&Me.length===w.length,onChange:c==="companies"?ir:Zn}),a.jsxs("span",{className:"text-sm font-semibold text-slate-600",children:["Select All ",c==="companies"?"Companies":"Contacts"]})]}),a.jsx("div",{className:"flex items-center justify-between mb-4",children:c==="companies"?a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>q(!0),disabled:X,className:`px-4 py-2 rounded-xl border-2 transition-all flex items-center gap-2 ${Fr?"border-indigo-500 bg-indigo-50 text-indigo-700":"border-slate-200 bg-white text-slate-600 hover:border-indigo-300"} disabled:opacity-50 disabled:cursor-not-allowed`,children:[a.jsx(Xm,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-bold",children:"Filters"}),Fr&&a.jsx("span",{className:"px-2 py-0.5 bg-indigo-600 text-white text-xs font-bold rounded-full",children:re.length+te.length+Q.length})]}),a.jsx("div",{className:"text-xs text-slate-400 font-bold",children:X?"Loading...":`Showing ${Ct.length} of ${g.length} companies`})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{}),a.jsx("div",{className:"text-xs text-slate-400 font-bold",children:X?"Loading...":`Showing ${w.length} contact${w.length!==1?"s":""}`})]})}),E&&c==="companies"&&a.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"p-6 border-b border-slate-200 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-xl flex items-center justify-center",children:a.jsx(Xm,{className:"w-5 h-5 text-indigo-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-black text-xl text-slate-900",children:"Filter Companies"}),a.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"Select multiple filters to refine your search"})]})]}),a.jsx("button",{onClick:()=>q(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:a.jsx(mr,{className:"w-5 h-5 text-slate-400"})})]}),a.jsxs("div",{className:"p-6 space-y-6 max-h-[60vh] overflow-y-auto",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(im,{className:"w-4 h-4"}),"Target Account"]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-xl border-2 border-slate-200 hover:border-indigo-300 cursor-pointer transition-all",children:[a.jsx("input",{type:"checkbox",checked:re.includes("target"),onChange:()=>ja("target","target"),className:"w-4 h-4 rounded border-slate-300 text-amber-500 focus:ring-amber-500"}),a.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[a.jsx(im,{className:"w-4 h-4 text-amber-500"}),a.jsx("span",{className:"font-bold text-slate-900",children:"Target Account"})]}),a.jsxs("span",{className:"text-xs text-slate-400",children:[g.filter(Ce=>Ce.isTargetAccount).length," companies"]})]}),a.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-xl border-2 border-slate-200 hover:border-indigo-300 cursor-pointer transition-all",children:[a.jsx("input",{type:"checkbox",checked:re.includes("non-target"),onChange:()=>ja("target","non-target"),className:"w-4 h-4 rounded border-slate-300 text-slate-600 focus:ring-slate-500"}),a.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[a.jsx(nd,{className:"w-4 h-4 text-slate-500"}),a.jsx("span",{className:"font-bold text-slate-900",children:"Standard Account"})]}),a.jsxs("span",{className:"text-xs text-slate-400",children:[g.filter(Ce=>!Ce.isTargetAccount).length," companies"]})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[a.jsx($g,{className:"w-4 h-4"}),"Assignment"]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-xl border-2 border-slate-200 hover:border-indigo-300 cursor-pointer transition-all",children:[a.jsx("input",{type:"checkbox",checked:te.includes("assigned"),onChange:()=>ja("assigned","assigned"),className:"w-4 h-4 rounded border-slate-300 text-green-600 focus:ring-green-500"}),a.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[a.jsx($g,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"font-bold text-slate-900",children:"Assigned"})]}),a.jsxs("span",{className:"text-xs text-slate-400",children:[g.filter(Ce=>Ce.ownerId).length," companies"]})]}),a.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-xl border-2 border-slate-200 hover:border-indigo-300 cursor-pointer transition-all",children:[a.jsx("input",{type:"checkbox",checked:te.includes("unassigned"),onChange:()=>ja("assigned","unassigned"),className:"w-4 h-4 rounded border-slate-300 text-orange-500 focus:ring-orange-500"}),a.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[a.jsx(ad,{className:"w-4 h-4 text-orange-500"}),a.jsx("span",{className:"font-bold text-slate-900",children:"Unassigned"})]}),a.jsxs("span",{className:"text-xs text-slate-400",children:[g.filter(Ce=>!Ce.ownerId).length," companies"]})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Pc,{className:"w-4 h-4"}),"Deals"]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-xl border-2 border-slate-200 hover:border-indigo-300 cursor-pointer transition-all",children:[a.jsx("input",{type:"checkbox",checked:Q.includes("has-deals"),onChange:()=>ja("deals","has-deals"),className:"w-4 h-4 rounded border-slate-300 text-purple-600 focus:ring-purple-500"}),a.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[a.jsx(Pc,{className:"w-4 h-4 text-purple-600"}),a.jsx("span",{className:"font-bold text-slate-900",children:"Has Deals"})]}),a.jsxs("span",{className:"text-xs text-slate-400",children:[g.filter(Ce=>Zr(Ce.id)).length," companies"]})]}),a.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-xl border-2 border-slate-200 hover:border-indigo-300 cursor-pointer transition-all",children:[a.jsx("input",{type:"checkbox",checked:Q.includes("no-deals"),onChange:()=>ja("deals","no-deals"),className:"w-4 h-4 rounded border-slate-300 text-slate-600 focus:ring-slate-500"}),a.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[a.jsx(Pc,{className:"w-4 h-4 text-slate-400"}),a.jsx("span",{className:"font-bold text-slate-900",children:"No Deals"})]}),a.jsxs("span",{className:"text-xs text-slate-400",children:[g.filter(Ce=>!Zr(Ce.id)).length," companies"]})]})]})]})]}),a.jsxs("div",{className:"p-6 border-t border-slate-200 flex items-center justify-between",children:[a.jsxs("button",{onClick:oa,disabled:!Fr,className:"px-4 py-2 text-sm font-bold text-slate-500 hover:text-slate-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 transition-colors",children:[a.jsx(mr,{className:"w-4 h-4"}),"Clear All Filters"]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"text-xs text-slate-400 font-bold",children:[Ct.length," of ",g.length," companies"]}),a.jsx("button",{onClick:()=>q(!1),className:"px-6 py-2 bg-indigo-600 text-white rounded-xl font-bold text-sm hover:bg-indigo-700 transition-colors",children:"Apply Filters"})]})]})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 min-h-[600px] w-full items-start",children:X?Array.from({length:8}).map((Ce,xr)=>a.jsx("div",{className:`bg-white rounded-2xl border border-slate-200 shadow-sm animate-pulse flex flex-col ${c==="companies"?"p-6":"p-5 h-[220px]"}`,children:c==="companies"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx("div",{className:"w-12 h-12 bg-slate-200 rounded-lg"}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx("div",{className:"h-4 bg-slate-200 rounded w-3/4"}),a.jsx("div",{className:"h-3 bg-slate-200 rounded w-1/2"})]})]}),a.jsxs("div",{className:"space-y-3 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 bg-slate-200 rounded"}),a.jsx("div",{className:"h-3 bg-slate-200 rounded flex-1"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 bg-slate-200 rounded"}),a.jsx("div",{className:"h-3 bg-slate-200 rounded flex-1"})]})]}),a.jsxs("div",{className:"pt-4 border-t border-slate-100 flex items-center justify-between",children:[a.jsx("div",{className:"h-3 bg-slate-200 rounded w-2/3"}),a.jsx("div",{className:"w-4 h-4 bg-slate-200 rounded"})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-11 h-11 bg-slate-200 rounded-full"}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx("div",{className:"h-4 bg-slate-200 rounded w-3/4"}),a.jsx("div",{className:"h-3 bg-slate-200 rounded w-1/2"})]})]}),a.jsxs("div",{className:"space-y-2 flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 bg-slate-200 rounded"}),a.jsx("div",{className:"h-3 bg-slate-200 rounded flex-1"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 bg-slate-200 rounded"}),a.jsx("div",{className:"h-3 bg-slate-200 rounded flex-1"})]})]}),a.jsx("div",{className:"pt-3 mt-auto border-t border-slate-100",children:a.jsx("div",{className:"h-8 bg-slate-200 rounded-xl w-full"})})]})},`skeleton-${xr}`)):c==="companies"?Ct.map(Ce=>{const xr=P.find(jr=>jr.id===Ce.ownerId),Qt=Ue.includes(Ce.id);return a.jsxs("div",{onClick:()=>p(Ce),className:`bg-white p-6 rounded-2xl border ${Qt?"border-indigo-400 bg-indigo-50/30":Ce.isTargetAccount?"border-amber-400 shadow-[0_0_15px_rgba(251,191,36,0.1)]":"border-slate-200"} hover:border-indigo-300 hover:shadow-md transition-all cursor-pointer group flex flex-col relative`,children:[Ce.isTargetAccount&&a.jsxs("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 px-2 py-0.5 bg-amber-500 text-white text-[9px] font-black uppercase rounded shadow-sm flex items-center gap-1 whitespace-nowrap",children:[a.jsx(im,{className:"w-2.5 h-2.5"})," Target Account"]}),a.jsx("div",{className:"absolute top-4 right-4",onClick:jr=>jr.stopPropagation(),children:a.jsx("input",{type:"checkbox",className:"rounded border-slate-300 text-indigo-600 focus:ring-indigo-500 w-4 h-4",checked:Qt,onChange:()=>at(jr=>Qt?jr.filter(Kr=>Kr!==Ce.id):[...jr,Ce.id])})}),a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx(Xs,{src:Ce.logo,fallbackText:Ce.name,className:"w-12 h-12 border border-slate-100",isAvatar:!1}),a.jsxs("div",{className:"flex-1 overflow-hidden",children:[a.jsx("h3",{className:"font-bold text-lg text-slate-900 truncate group-hover:text-indigo-600 transition-colors",children:Ce.name}),a.jsx("p",{className:"text-slate-500 text-xs font-bold uppercase",children:Ce.industry})]})]}),a.jsxs("div",{className:"space-y-3 mb-6 text-sm text-slate-600",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(F0,{className:"w-4 h-4 text-slate-400"}),a.jsx("span",{className:"truncate",children:Ce.website||"No website"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(rl,{className:"w-4 h-4 text-slate-400"}),a.jsx("span",{className:"truncate font-medium",children:xr?.name||"Unassigned"})]})]}),a.jsxs("div",{className:"pt-4 border-t border-slate-100 flex items-center justify-between",children:[a.jsxs("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[Rr(Ce.id)," Active Deals"]}),a.jsx(bs,{className:"w-4 h-4 text-slate-300 group-hover:text-indigo-600 group-hover:translate-x-1 transition-all"})]})]},Ce.id)}):w.map(Ce=>{const xr=g.find(jr=>jr.id===Ce.companyId),Qt=Me.includes(Ce.id);return a.jsxs("div",{onClick:()=>v(Ce),className:`bg-white p-5 rounded-2xl border ${Qt?"border-indigo-400 bg-indigo-50/30":"border-slate-200"} hover:border-indigo-300 hover:shadow-md transition-all cursor-pointer group shadow-sm relative flex flex-col h-[220px]`,children:[a.jsx("div",{className:"absolute top-4 right-4",onClick:jr=>jr.stopPropagation(),children:a.jsx("input",{type:"checkbox",className:"rounded border-slate-300 text-indigo-600 focus:ring-indigo-500 w-4 h-4",checked:Qt,onChange:()=>ut(jr=>Qt?jr.filter(Kr=>Kr!==Ce.id):[...jr,Ce.id])})}),a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-11 h-11 bg-indigo-50 rounded-full flex items-center justify-center text-indigo-600 font-bold text-lg uppercase shadow-inner",children:Ce.name.charAt(0)}),a.jsxs("div",{className:"flex-1 overflow-hidden",children:[a.jsx("h3",{className:"font-bold text-base text-slate-900 truncate",children:Ce.name}),a.jsxs("p",{className:"text-slate-500 text-[11px] font-bold uppercase truncate",children:[Ce.role," @ ",xr?.name||"Partner"]})]})]}),a.jsxs("div",{className:"space-y-2 text-sm text-slate-600 flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(li,{className:"w-4 h-4 text-slate-400"}),a.jsx("span",{className:"truncate text-indigo-600 text-[13px]",children:Ce.email})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(kj,{className:"w-4 h-4 text-slate-400"}),a.jsx("span",{className:"text-[13px]",children:Ce.phone})]})]}),Ce.linkedin&&a.jsx("div",{className:"pt-3 mt-auto border-t border-slate-100",children:a.jsxs("a",{href:Ce.linkedin,target:"_blank",rel:"noreferrer",onClick:jr=>jr.stopPropagation(),className:"w-full py-2 bg-blue-50 text-blue-600 rounded-xl hover:bg-blue-100 transition-colors flex items-center justify-center gap-2 text-[10px] font-black uppercase tracking-widest",children:[a.jsx(M0,{className:"w-4 h-4"}),"LinkedIn"]})})]},Ce.id)})})]}),(c==="companies"&&Ue.length>0||c==="contacts"&&Me.length>0)&&a.jsx("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-[100] animate-in slide-in-from-bottom-10 duration-300",children:a.jsxs("div",{className:"bg-slate-900 text-white rounded-3xl shadow-2xl px-8 py-4 flex items-center gap-8 border border-white/10 ring-4 ring-indigo-500/10",children:[a.jsxs("span",{className:"text-sm font-black flex items-center gap-3",children:[a.jsx("div",{className:"w-6 h-6 bg-indigo-500 rounded-full flex items-center justify-center text-[10px]",children:c==="companies"?Ue.length:Me.length}),"Selected"]}),a.jsx("div",{className:"h-8 w-px bg-white/10"}),a.jsxs("div",{className:"flex items-center gap-3",children:[c==="companies"&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:Ce=>{Ce.stopPropagation(),Da()},disabled:xt||Ut,className:"px-5 py-2 bg-amber-600 hover:bg-amber-700 rounded-xl text-xs font-black uppercase tracking-widest transition-all flex items-center gap-2 disabled:opacity-50",children:[xt?a.jsx(Et,{className:"w-3.5 h-3.5 animate-spin"}):a.jsx(im,{className:"w-3.5 h-3.5"}),"Mark as Target Account"]}),a.jsxs("button",{onClick:Ce=>{Ce.stopPropagation(),Wr()},disabled:xt||Ut,className:"px-5 py-2 bg-slate-600 hover:bg-slate-700 rounded-xl text-xs font-black uppercase tracking-widest transition-all flex items-center gap-2 disabled:opacity-50",children:[Ut?a.jsx(Et,{className:"w-3.5 h-3.5 animate-spin"}):a.jsx(ad,{className:"w-3.5 h-3.5"}),"Unmark Target Account"]})]}),a.jsxs("button",{onClick:Ce=>{Ce.stopPropagation(),kr(c)},disabled:c==="companies"?ot:lr,className:"px-5 py-2 bg-red-600 hover:bg-red-700 rounded-xl text-xs font-black uppercase tracking-widest transition-all flex items-center gap-2 disabled:opacity-50",children:[(c==="companies"?ot:lr)?a.jsx(Et,{className:"w-3.5 h-3.5 animate-spin"}):a.jsx($r,{className:"w-3.5 h-3.5"}),"Delete"]}),a.jsx("button",{onClick:()=>{c==="companies"?at([]):ut([])},className:"p-2 hover:bg-white/10 rounded-xl text-slate-400 transition-colors",children:a.jsx(mr,{className:"w-5 h-5"})})]})]})}),m&&a.jsxs("div",{className:"fixed inset-0 z-[70] overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm pointer-events-auto animate-in fade-in duration-300",onClick:Be}),a.jsxs("div",{className:"absolute right-0 inset-y-0 w-full max-w-2xl bg-white shadow-2xl pointer-events-auto animate-in slide-in-from-right duration-500 flex flex-col",children:[a.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Xs,{src:m.logo,fallbackText:m.name,className:"w-12 h-12 border border-slate-200",isAvatar:!1}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h2",{className:"text-xl font-bold text-slate-900",children:m.name}),a.jsx("button",{onClick:()=>$n({isTargetAccount:!m.isTargetAccount}),className:`p-1 rounded-lg transition-all ${m.isTargetAccount?"text-amber-500 bg-amber-50":"text-slate-300 hover:text-amber-500 hover:bg-amber-50"}`,title:"Mark as Target Account",children:a.jsx(im,{className:"w-5 h-5"})})]}),a.jsx("p",{className:"text-xs text-slate-500",children:m.industry})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[V?a.jsx("button",{onClick:async()=>{await $n(G),U(!1)},className:"p-2 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 shadow-lg",children:a.jsx(wi,{className:"w-5 h-5"})}):a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>{ne({...m}),U(!0)},className:"p-2 hover:bg-slate-100 rounded-xl text-slate-400",children:a.jsx($_,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>Pe(m),className:"p-2 hover:bg-red-50 rounded-xl text-red-500 transition-all",title:"Delete Company",children:a.jsx($r,{className:"w-5 h-5"})})]}),a.jsx("button",{onClick:Be,className:"p-2 hover:bg-slate-100 rounded-full text-slate-400 transition-all",children:a.jsx(mr,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-8 space-y-10",children:[V?a.jsxs("div",{className:"grid grid-cols-2 gap-4 animate-in slide-in-from-top-2",children:[a.jsxs("div",{className:"col-span-2 space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Company Name"}),a.jsx("input",{type:"text",value:G.name,onChange:Ce=>ne({...G,name:Ce.target.value}),className:"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Industry"}),a.jsx("input",{type:"text",value:G.industry,onChange:Ce=>ne({...G,industry:Ce.target.value}),className:"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Owner"}),a.jsxs("select",{value:G.ownerId,onChange:Ce=>ne({...G,ownerId:Ce.target.value}),className:"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm",children:[a.jsx("option",{value:"",children:"Unassigned"}),P.map(Ce=>a.jsx("option",{value:Ce.id,children:Ce.name},Ce.id))]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Website"}),a.jsx("input",{type:"text",value:G.website,onChange:Ce=>ne({...G,website:Ce.target.value}),className:"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"LinkedIn"}),a.jsx("input",{type:"text",value:G.linkedin,onChange:Ce=>ne({...G,linkedin:Ce.target.value}),className:"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm"})]})]}):a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Account Manager"}),a.jsxs("span",{className:"text-sm font-bold text-indigo-600 flex items-center gap-2",children:[a.jsx(rl,{className:"w-4 h-4"})," ",kn(m.ownerId)]})]}),a.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Status"}),a.jsx("span",{className:`text-[10px] font-black uppercase px-2 py-0.5 rounded-full ${m.isTargetAccount?"bg-amber-500 text-white":"bg-slate-200 text-slate-500"}`,children:m.isTargetAccount?"Target Account":"Standard Account"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[a.jsx($d,{className:"w-4 h-4 text-emerald-500"})," Social Signals & Intelligence"]}),a.jsxs("button",{onClick:Or,disabled:de,className:"flex items-center gap-1.5 px-3 py-1 bg-indigo-50 text-indigo-600 rounded-xl text-[10px] font-black uppercase hover:bg-indigo-100 transition-all disabled:opacity-50",children:[de?a.jsx(Et,{className:"w-3 h-3 animate-spin"}):a.jsx(GB,{className:"w-3 h-3"})," Execute Intelligence Scan"]})]}),a.jsxs("div",{className:"space-y-3",children:[de&&a.jsxs("div",{className:"p-6 bg-slate-50 rounded-2xl border border-dashed border-indigo-200 flex flex-col items-center justify-center text-center",children:[a.jsx(Et,{className:"w-8 h-8 animate-spin text-indigo-400 mb-2"}),a.jsx("p",{className:"text-xs text-indigo-400 font-bold uppercase tracking-widest",children:"Scanning global digital signals..."})]}),(!m.socialSignals||m.socialSignals.length===0)&&!de?a.jsxs("div",{className:"py-12 text-center text-slate-400",children:[a.jsx($d,{className:"w-12 h-12 mx-auto mb-2 opacity-10"}),a.jsx("p",{className:"text-xs font-medium",children:"No signals found. Use AI Scan to refresh intelligence."})]}):(m.socialSignals||[]).map(Ce=>a.jsxs("div",{className:"p-4 bg-white border border-slate-100 rounded-2xl hover:border-indigo-200 transition-all shadow-sm group",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${Ce.type==="funding"?"bg-emerald-50 text-emerald-600":Ce.type==="hiring"?"bg-blue-50 text-blue-600":"bg-purple-50 text-purple-600"}`,children:[Ce.type==="funding"&&a.jsx($B,{className:"w-4 h-4"}),Ce.type==="hiring"&&a.jsx(Au,{className:"w-4 h-4"}),Ce.type==="acquisition"&&a.jsx(Wv,{className:"w-4 h-4"}),Ce.type==="news"&&a.jsx(RB,{className:"w-4 h-4"})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-sm text-slate-900",children:Ce.title}),Ce.isAiGenerated&&a.jsxs("span",{className:"text-[8px] font-black text-indigo-400 uppercase tracking-tighter flex items-center gap-1",children:[a.jsx(xi,{className:"w-2 h-2"})," Verified by Impact AI"]})]})]}),a.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:Ce.date})]}),a.jsx("p",{className:"text-xs text-slate-500 leading-relaxed",children:Ce.description})]},Ce.id))]})]}),a.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-200",children:[a.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(oo,{className:"w-4 h-4 text-indigo-500"}),"Notes & Comments",m.notes&&m.notes.length>0&&a.jsx("span",{className:"ml-1 px-2 py-0.5 bg-indigo-100 text-indigo-600 rounded-full text-[10px]",children:m.notes.length})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx("textarea",{rows:3,value:zt,onChange:cr,onBlur:()=>setTimeout(()=>Ln(!1),200),className:"w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-sm font-medium text-slate-900 outline-none focus:ring-2 focus:ring-indigo-200 focus:border-indigo-300 resize-none",placeholder:"Add a note or comment... (Use @ to mention users)"}),Tn&&bt.length>0&&a.jsx("div",{className:"absolute bottom-full mb-2 left-0 w-full max-w-sm bg-white border-2 border-indigo-200 rounded-xl shadow-2xl z-50 max-h-48 overflow-y-auto",children:a.jsxs("div",{className:"p-2",children:[a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 text-xs font-bold text-slate-400 uppercase tracking-wider",children:[a.jsx(Km,{className:"w-3 h-3"}),"Mention User"]}),bt.map(Ce=>a.jsxs("button",{onClick:()=>ar(Ce),className:"w-full flex items-center gap-3 px-3 py-2 hover:bg-indigo-50 rounded-lg transition-all text-left",children:[a.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center text-indigo-600 font-bold text-xs",children:Ce.name.charAt(0)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-bold text-slate-900 truncate",children:Ce.name}),a.jsx("p",{className:"text-xs text-slate-400 truncate",children:Ce.email})]})]},Ce.id))]})})]}),a.jsx("button",{onClick:Nr,disabled:Tr||!zt.trim(),className:"w-full px-6 py-3 bg-indigo-600 text-white font-bold text-xs uppercase tracking-widest rounded-xl hover:bg-indigo-700 transition-all shadow-lg flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:Tr?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Sending..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Nu,{className:"w-4 h-4"}),"Send"]})})]}),a.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto",children:m.notes&&m.notes.length>0?[...m.notes].reverse().map(Ce=>{const xr=l?.role==="Admin"||Ce.userId===l?.id;return a.jsxs("div",{className:"p-4 bg-white border border-slate-200 rounded-xl space-y-2",children:[a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center text-indigo-600 font-black text-xs",children:Ce.userName?.charAt(0)||"U"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-bold text-slate-900",children:Ce.userName}),a.jsx("p",{className:"text-[10px] text-slate-400",children:new Date(Ce.createdAt).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})})]})]}),xr&&a.jsx("button",{onClick:()=>Gr(Ce.id),disabled:Jt===Ce.id,className:"p-2 hover:bg-red-50 rounded-lg transition-colors group disabled:opacity-50",title:"Delete note",children:Jt===Ce.id?a.jsx(Et,{className:"w-4 h-4 text-red-600 animate-spin"}):a.jsx($r,{className:"w-4 h-4 text-slate-400 group-hover:text-red-600 transition-colors"})})]}),Ce.text&&a.jsx("p",{className:"text-sm text-slate-700 leading-relaxed pl-10",children:Yt(Ce.text)})]},Ce.id)}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(oo,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),a.jsx("p",{className:"text-sm text-slate-400 font-medium",children:"No notes yet"}),a.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Add your first note above"})]})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Active Contacts"}),a.jsx("div",{className:"space-y-3",children:w.filter(Ce=>Ce.companyId===m.id).map(Ce=>a.jsxs("div",{className:"p-4 bg-white border border-slate-100 rounded-2xl flex items-center justify-between hover:border-indigo-200 transition-all cursor-pointer",onClick:()=>v(Ce),children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-indigo-50 border border-indigo-100 rounded-xl flex items-center justify-center text-xs font-black text-indigo-600 uppercase",children:Ce.name.charAt(0)}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-slate-900",children:Ce.name}),a.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase",children:Ce.role})]})]}),a.jsx(bs,{className:"w-4 h-4 text-slate-300"})]},Ce.id))})]})]})]})]}),y&&a.jsxs("div",{className:"fixed inset-0 z-[75] overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md pointer-events-auto animate-in fade-in duration-300",onClick:kt}),a.jsxs("div",{className:"absolute right-0 inset-y-0 w-full max-w-xl bg-white shadow-2xl pointer-events-auto animate-in slide-in-from-right duration-500 flex flex-col",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 bg-slate-50/50 relative",children:[a.jsx("button",{onClick:kt,className:"absolute top-6 right-6 p-2 hover:bg-white rounded-full text-slate-400 transition-all shadow-sm z-10",children:a.jsx(mr,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:"w-24 h-24 bg-indigo-600 rounded-3xl flex items-center justify-center text-white text-3xl font-black shadow-xl shadow-indigo-100 ring-4 ring-indigo-50 shrink-0",children:y.name.charAt(0)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 truncate mb-1",children:y.name}),a.jsxs("p",{className:"text-sm font-bold text-indigo-600 uppercase tracking-widest truncate",children:[y.role," @ ",g.find(Ce=>Ce.id===y.companyId)?.name||"Direct Contact"]}),a.jsx("div",{className:"flex gap-2 mt-4",children:he?a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:fs,disabled:ae,className:"px-4 py-2 bg-indigo-600 border border-indigo-600 rounded-xl text-xs font-black uppercase tracking-widest text-white hover:bg-indigo-700 transition-all flex items-center gap-2 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:ae?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-3.5 h-3.5 animate-spin"})," Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(wi,{className:"w-3.5 h-3.5"})," Save Changes"]})}),a.jsxs("button",{onClick:()=>{Le(!1),Fe({...y})},disabled:ae,className:"px-4 py-2 bg-white border border-slate-200 rounded-xl text-xs font-black uppercase tracking-widest text-slate-600 hover:border-slate-300 transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(mr,{className:"w-3.5 h-3.5"})," Cancel"]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>{Fe({...y}),Le(!0)},className:"px-4 py-2 bg-white border border-slate-200 rounded-xl text-xs font-black uppercase tracking-widest text-slate-600 hover:border-indigo-300 transition-all flex items-center gap-2",children:[a.jsx($_,{className:"w-3.5 h-3.5"})," Edit Profile"]}),a.jsx("a",{href:`mailto:${y.email}`,className:"p-2.5 bg-slate-900 text-white rounded-xl hover:bg-slate-800 transition-all shadow-lg shadow-slate-200",children:a.jsx(li,{className:"w-4 h-4"})}),y.linkedin&&a.jsx("a",{href:y.linkedin,target:"_blank",rel:"noreferrer",className:"p-2.5 bg-[#0077b5] text-white rounded-xl hover:bg-[#006da5] transition-all shadow-lg shadow-blue-100",children:a.jsx(M0,{className:"w-4 h-4"})})]})})]})]}),a.jsx("div",{className:"flex bg-white p-1 rounded-2xl border border-slate-200 w-fit mt-8",children:[{id:"details",label:"Overview",icon:a.jsx(Wf,{className:"w-3.5 h-3.5"})},{id:"notes",label:"Strategic Context",icon:a.jsx(Xa,{className:"w-3.5 h-3.5"})},{id:"activity",label:"History",icon:a.jsx(qd,{className:"w-3.5 h-3.5"})}].map(Ce=>a.jsxs("button",{onClick:()=>{oe(Ce.id),Le(!1)},className:`flex items-center gap-2 px-6 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${_e===Ce.id?"bg-indigo-600 text-white shadow-lg":"text-slate-400 hover:text-slate-600 hover:bg-slate-50"}`,children:[Ce.icon," ",Ce.label]},Ce.id))})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar",children:[_e==="details"&&a.jsx("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-2 duration-300",children:he?a.jsxs("div",{className:"space-y-8 animate-in slide-in-from-top-2 duration-300",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:["Full Legal Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{required:!0,type:"text",value:se.name||"",onChange:Ce=>Fe({...se,name:Ce.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-2xl text-sm font-bold focus:ring-4 focus:ring-indigo-50 focus:border-indigo-600 transition-all"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Professional Role"}),a.jsx("input",{type:"text",value:se.role||"",onChange:Ce=>Fe({...se,role:Ce.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-2xl text-sm font-bold focus:ring-4 focus:ring-indigo-50 focus:border-indigo-600 transition-all"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Linked Organization"}),a.jsxs("select",{value:se.companyId||"",onChange:Ce=>Fe({...se,companyId:Ce.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-2xl text-sm font-bold focus:ring-4 focus:ring-indigo-50 focus:border-indigo-600 transition-all appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22m6%208%204%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:20px_20px] bg-[right_16px_center] bg-no-repeat",children:[a.jsx("option",{value:"",children:"No Organization"}),g.map(Ce=>a.jsx("option",{value:Ce.id,children:Ce.name},Ce.id))]})]}),a.jsxs("div",{className:"p-6 bg-slate-50 rounded-3xl border border-slate-200 space-y-6",children:[a.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] border-b border-slate-200 pb-2",children:"Communication Registry"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:["Enterprise Email ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{required:!0,type:"email",value:se.email||"",onChange:Ce=>Fe({...se,email:Ce.target.value}),className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-2xl text-sm font-bold focus:ring-4 focus:ring-indigo-50 focus:border-indigo-600 transition-all"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Mobile Contact"}),a.jsx("input",{type:"tel",value:se.phone||"",onChange:Ce=>Fe({...se,phone:Ce.target.value}),className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-2xl text-sm font-bold focus:ring-4 focus:ring-indigo-50 focus:border-indigo-600 transition-all"})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"LinkedIn Intelligence URL"}),a.jsx("input",{type:"url",value:se.linkedin||"",onChange:Ce=>Fe({...se,linkedin:Ce.target.value}),className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-2xl text-sm font-bold focus:ring-4 focus:ring-indigo-50 focus:border-indigo-600 transition-all"})]})]})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-6 bg-slate-50 rounded-[32px] border border-slate-100 flex flex-col justify-between group hover:bg-white hover:border-indigo-200 transition-all shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Contact Channel"}),a.jsx(li,{className:"w-4 h-4 text-indigo-400 group-hover:scale-110 transition-transform"})]}),a.jsx("p",{className:"text-sm font-black text-slate-900 truncate",children:y.email}),a.jsx("p",{className:"text-[10px] text-indigo-500 font-bold uppercase mt-2",children:"Verified Enterprise Mail"})]}),a.jsxs("div",{className:"p-6 bg-slate-50 rounded-[32px] border border-slate-100 flex flex-col justify-between group hover:bg-white hover:border-indigo-200 transition-all shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Voice Registry"}),a.jsx(kj,{className:"w-4 h-4 text-indigo-400 group-hover:scale-110 transition-transform"})]}),a.jsx("p",{className:"text-sm font-black text-slate-900",children:y.phone||"Registry Pending"}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase mt-2",children:"Direct Terminal"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(nd,{className:"w-4 h-4 text-indigo-500"})," Account Context"]}),a.jsxs("div",{className:"p-6 bg-white border border-slate-100 rounded-[36px] shadow-sm flex items-center gap-5 hover:border-indigo-300 transition-all group",children:[a.jsx(Xs,{src:g.find(Ce=>Ce.id===y.companyId)?.logo,className:"w-16 h-16 border-2 border-slate-50",fallbackText:"C",isAvatar:!1}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-black text-lg text-slate-900 leading-none mb-1 group-hover:text-indigo-600 transition-colors",children:g.find(Ce=>Ce.id===y.companyId)?.name||"Independent Partner"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-[10px] text-slate-400 font-black uppercase",children:g.find(Ce=>Ce.id===y.companyId)?.industry||"Uncategorized"}),a.jsx("span",{className:"w-1 h-1 rounded-full bg-slate-200"}),a.jsx("span",{className:"text-[10px] text-indigo-500 font-black uppercase",children:"Primary Stakeholder"})]})]}),a.jsx("button",{className:"p-3 text-indigo-600 bg-indigo-50 rounded-2xl hover:bg-indigo-100 transition-all",children:a.jsx(vi,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(xi,{className:"w-4 h-4 text-amber-500"})," Intelligence Summary"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 bg-emerald-50/50 rounded-2xl border border-emerald-100 flex items-center gap-3",children:[a.jsx($g,{className:"w-5 h-5 text-emerald-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-emerald-600 uppercase",children:"Influence"}),a.jsx("p",{className:"text-xs font-bold text-slate-900",children:"Decision Maker"})]})]}),a.jsxs("div",{className:"p-4 bg-blue-50/50 rounded-2xl border border-blue-100 flex items-center gap-3",children:[a.jsx(Hv,{className:"w-5 h-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-blue-600 uppercase",children:"Network"}),a.jsx("p",{className:"text-xs font-bold text-slate-900",children:"Executive Hub"})]})]})]})]})]})}),_e==="notes"&&a.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[a.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(oo,{className:"w-4 h-4 text-indigo-500"}),"Strategic Context & Notes",y.notes&&y.notes.length>0&&a.jsx("span",{className:"ml-1 px-2 py-0.5 bg-indigo-100 text-indigo-600 rounded-full text-[10px]",children:y.notes.length})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx("textarea",{rows:4,value:ee,onChange:Fn,onBlur:()=>setTimeout(()=>Qe(!1),200),className:"w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-sm font-medium text-slate-900 outline-none focus:ring-2 focus:ring-indigo-200 focus:border-indigo-300 resize-none",placeholder:"Add strategic context, decision-making patterns, or meeting insights... (Use @ to mention users)"}),Ve&&Lt.length>0&&a.jsx("div",{className:"absolute bottom-full mb-2 left-0 w-full max-w-sm bg-white border-2 border-indigo-200 rounded-xl shadow-2xl z-50 max-h-48 overflow-y-auto",children:a.jsxs("div",{className:"p-2",children:[a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 text-xs font-bold text-slate-400 uppercase tracking-wider",children:[a.jsx(Km,{className:"w-3 h-3"}),"Mention User"]}),Lt.map(Ce=>a.jsxs("button",{onClick:()=>rr(Ce),className:"w-full flex items-center gap-3 px-3 py-2 hover:bg-indigo-50 rounded-lg transition-all text-left",children:[a.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center text-indigo-600 font-bold text-xs",children:Ce.name.charAt(0)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-bold text-slate-900 truncate",children:Ce.name}),a.jsx("p",{className:"text-xs text-slate-400 truncate",children:Ce.email})]})]},Ce.id))]})})]}),a.jsx("button",{onClick:nr,disabled:ge||!ee.trim(),className:"w-full px-6 py-3 bg-indigo-600 text-white font-bold text-xs uppercase tracking-widest rounded-xl hover:bg-indigo-700 transition-all shadow-lg flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:ge?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Sending..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Nu,{className:"w-4 h-4"}),"Send"]})})]}),y.legacyNotes&&a.jsxs("div",{className:"p-6 bg-amber-50 border border-amber-200 rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Wf,{className:"w-4 h-4 text-amber-600"}),a.jsx("p",{className:"text-xs font-bold text-amber-900 uppercase tracking-wider",children:"Legacy Notes"})]}),a.jsx("p",{className:"text-sm text-amber-800 leading-relaxed italic",children:y.legacyNotes})]}),a.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto",children:y.notes&&y.notes.length>0?[...y.notes].reverse().map(Ce=>{const xr=l?.role==="Admin"||Ce.userId===l?.id;return a.jsxs("div",{className:"p-4 bg-white border border-slate-200 rounded-xl space-y-2",children:[a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center text-indigo-600 font-black text-xs",children:Ce.userName?.charAt(0)||"U"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-bold text-slate-900",children:Ce.userName}),a.jsx("p",{className:"text-[10px] text-slate-400",children:new Date(Ce.createdAt).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})})]})]}),xr&&a.jsx("button",{onClick:()=>dt(Ce.id),disabled:Ee===Ce.id,className:"p-2 hover:bg-red-50 rounded-lg transition-colors group disabled:opacity-50",title:"Delete note",children:Ee===Ce.id?a.jsx(Et,{className:"w-4 h-4 text-red-600 animate-spin"}):a.jsx($r,{className:"w-4 h-4 text-slate-400 group-hover:text-red-600 transition-colors"})})]}),Ce.text&&a.jsx("p",{className:"text-sm text-slate-700 leading-relaxed pl-10",children:Yt(Ce.text)})]},Ce.id)}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(oo,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),a.jsx("p",{className:"text-sm text-slate-400 font-medium",children:"No notes yet"}),a.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Add strategic insights above"})]})})]}),_e==="activity"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-left-4 duration-300",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Operational Engagement Timeline"}),a.jsxs("button",{className:"text-[10px] font-black text-slate-400 uppercase bg-slate-100 px-3 py-1.5 rounded-xl hover:bg-slate-200 transition-all flex items-center gap-1.5",children:[a.jsx(SB,{className:"w-3 h-3"})," Audit Log"]})]}),a.jsxs("div",{className:"relative border-l-2 border-slate-100 ml-4 pl-10 space-y-12",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute -left-[51px] top-1.5 w-8 h-8 rounded-full bg-white border-2 border-indigo-600 shadow-xl flex items-center justify-center",children:a.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-600"})}),a.jsx("p",{className:"text-[10px] font-black text-indigo-600 uppercase mb-1 tracking-widest",children:"Digital Touchpoint  Yesterday"}),a.jsx("h4",{className:"text-sm font-black text-slate-900",children:"Enterprise Email Receipt"}),a.jsx("p",{className:"text-xs text-slate-500 mt-2 leading-relaxed max-w-sm",children:"Confirmed receipt of Logistics Transformation Proposal V3. Stakeholder requested EMEA regional review by Friday."})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute -left-[51px] top-1.5 w-8 h-8 rounded-full bg-white border-2 border-slate-200 shadow-sm flex items-center justify-center",children:a.jsx("div",{className:"w-2 h-2 rounded-full bg-slate-300"})}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase mb-1 tracking-widest",children:"Registry Update  Last Week"}),a.jsx("h4",{className:"text-sm font-black text-slate-900",children:"Registry Association Linked"}),a.jsx("p",{className:"text-xs text-slate-500 mt-2 leading-relaxed max-w-sm",children:"Manually associated with the 'Q4 Global Logistics Consolidation' opportunity by Alex Rivera (Admin)."})]})]})]})]}),a.jsxs("div",{className:"p-8 border-t border-slate-100 bg-white flex gap-4",children:[a.jsx("button",{onClick:()=>fe(y),className:"px-6 py-4 border border-slate-200 bg-white text-red-500 hover:bg-red-50 rounded-[28px] transition-all group shrink-0 active:scale-95",children:a.jsx($r,{className:"w-6 h-6 group-hover:scale-110 transition-transform"})}),a.jsxs("button",{onClick:()=>{v(null),Le(!1)},className:"flex-1 py-4 bg-slate-900 text-white font-black uppercase text-xs tracking-[0.25em] rounded-[28px] hover:bg-indigo-700 active:scale-95 transition-all shadow-2xl flex items-center justify-center gap-3",children:[a.jsx($g,{className:"w-5 h-5"})," Save"]})]})]})]}),we&&a.jsx("div",{className:"fixed inset-0 z-[130] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-[32px] w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center bg-red-50 text-red-600",children:a.jsx($r,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-slate-900",children:"Delete Company?"}),a.jsx("p",{className:"text-xs text-slate-400 font-medium mt-1",children:"This action cannot be undone. All associated contacts, deals, and projects will be affected."})]})]}),a.jsx("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-200",children:a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(Xs,{src:we.logo,fallbackText:we.name,className:"w-10 h-10 border border-slate-200",isAvatar:!1}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-slate-900",children:we.name}),a.jsx("p",{className:"text-xs text-slate-500",children:we.industry})]})]})})]}),a.jsxs("div",{className:"p-6 flex gap-3",children:[a.jsx("button",{onClick:()=>Pe(null),disabled:De,className:"flex-1 py-3 border border-slate-200 text-slate-400 font-black uppercase text-xs tracking-widest rounded-xl hover:bg-slate-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),a.jsx("button",{onClick:()=>jn(we.id),disabled:De,className:"flex-1 py-3 bg-red-600 text-white font-black uppercase text-xs tracking-widest rounded-xl hover:bg-red-700 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:De?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):"Delete Company"})]})]})}),pe&&a.jsx("div",{className:"fixed inset-0 z-[130] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-[32px] w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center bg-red-50 text-red-600",children:a.jsx($r,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-slate-900",children:"Delete Contact?"}),a.jsx("p",{className:"text-xs text-slate-400 font-medium mt-1",children:"This action cannot be undone. The contact will be permanently removed from the enterprise registry."})]})]}),a.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-200",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"w-12 h-12 bg-indigo-50 rounded-xl flex items-center justify-center text-indigo-600 font-black text-lg border border-indigo-100",children:pe.name.charAt(0).toUpperCase()}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-bold text-slate-900",children:pe.name}),a.jsx("p",{className:"text-xs text-slate-500",children:pe.email}),pe.role&&a.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase mt-1",children:pe.role})]})]}),g.find(Ce=>Ce.id===pe.companyId)&&a.jsxs("div",{className:"flex items-center gap-2 mt-3 pt-3 border-t border-slate-200",children:[a.jsx(nd,{className:"w-4 h-4 text-slate-400"}),a.jsx("p",{className:"text-xs font-bold text-slate-600",children:g.find(Ce=>Ce.id===pe.companyId)?.name})]})]})]}),a.jsxs("div",{className:"p-6 flex gap-3",children:[a.jsx("button",{onClick:()=>fe(null),disabled:Je,className:"flex-1 py-3 border border-slate-200 text-slate-400 font-black uppercase text-xs tracking-widest rounded-xl hover:bg-slate-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),a.jsx("button",{onClick:()=>Hr(pe.id),disabled:Je,className:"flex-1 py-3 bg-red-600 text-white font-black uppercase text-xs tracking-widest rounded-xl hover:bg-red-700 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:Je?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):"Delete Contact"})]})]})}),jt&&a.jsx("div",{className:"fixed inset-0 z-[130] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-[32px] w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center bg-red-50 text-red-600",children:a.jsx($r,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xl font-black text-slate-900",children:["Delete ",jt==="companies"?Ue.length:Me.length," ",jt==="companies"?"Compan":"Contact",jt==="companies"?Ue.length>1?"ies":"y":Me.length>1?"s":"","?"]}),a.jsxs("p",{className:"text-xs text-slate-400 font-medium mt-1",children:["This action cannot be undone. ",jt==="companies"?"All associated contacts, deals, and projects will be affected.":"The contacts will be permanently removed from the enterprise registry."]})]})]}),a.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-200 max-h-48 overflow-y-auto",children:[(jt==="companies"?g.filter(Ce=>Ue.includes(Ce.id)):w.filter(Ce=>Me.includes(Ce.id))).slice(0,5).map(Ce=>a.jsx("div",{className:"flex items-center gap-3 mb-2 last:mb-0",children:jt==="companies"?a.jsxs(a.Fragment,{children:[a.jsx(Xs,{src:Ce.logo,fallbackText:Ce.name,className:"w-8 h-8 border border-slate-200",isAvatar:!1}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-bold text-slate-900",children:Ce.name}),a.jsx("p",{className:"text-[10px] text-slate-500",children:Ce.industry})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-8 h-8 bg-indigo-50 rounded-full flex items-center justify-center text-indigo-600 font-bold text-xs uppercase",children:Ce.name.charAt(0)}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-bold text-slate-900",children:Ce.name}),a.jsx("p",{className:"text-[10px] text-slate-500",children:Ce.email})]})]})},Ce.id)),(jt==="companies"?Ue.length:Me.length)>5&&a.jsxs("p",{className:"text-xs text-slate-400 font-medium mt-2 text-center",children:["+ ",(jt==="companies"?Ue.length:Me.length)-5," more"]})]})]}),a.jsxs("div",{className:"p-6 flex gap-3",children:[a.jsx("button",{onClick:()=>kr(null),disabled:jt==="companies"?ot:lr,className:"flex-1 py-3 border border-slate-200 text-slate-400 font-black uppercase text-xs tracking-widest rounded-xl hover:bg-slate-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),a.jsx("button",{onClick:()=>{jt==="companies"?ya():en()},disabled:jt==="companies"?ot:lr,className:"flex-1 py-3 bg-red-600 text-white font-black uppercase text-xs tracking-widest rounded-xl hover:bg-red-700 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:(jt==="companies"?ot:lr)?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):`Delete ${jt==="companies"?Ue.length:Me.length} ${jt==="companies"?"Compan":"Contact"}${jt==="companies"?Ue.length>1?"ies":"y":Me.length>1?"s":""}`})]})]})}),Ar&&a.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 flex items-center justify-center text-red-600 mx-auto",children:a.jsx(Vf,{className:"w-6 h-6"})}),a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"text-lg font-black text-slate-900 mb-2",children:"Delete Note?"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Are you sure you want to delete this note? This action cannot be undone."})]})]}),a.jsxs("div",{className:"flex gap-3 p-6 bg-slate-50 border-t border-slate-200",children:[a.jsx("button",{onClick:()=>Gr(null),disabled:Jt===Ar,className:"flex-1 px-4 py-2 bg-white border-2 border-slate-200 text-slate-700 font-bold text-sm rounded-xl hover:bg-slate-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),a.jsx("button",{onClick:mn,disabled:Jt===Ar,className:"flex-1 px-4 py-2 bg-red-600 text-white font-bold text-sm rounded-xl hover:bg-red-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:Jt===Ar?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):a.jsxs(a.Fragment,{children:[a.jsx($r,{className:"w-4 h-4"}),"Delete"]})})]})]})}),Ge&&a.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 flex items-center justify-center text-red-600 mx-auto",children:a.jsx(Vf,{className:"w-6 h-6"})}),a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"text-lg font-black text-slate-900 mb-2",children:"Delete Note?"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Are you sure you want to delete this note? This action cannot be undone."})]})]}),a.jsxs("div",{className:"flex gap-3 p-6 bg-slate-50 border-t border-slate-200",children:[a.jsx("button",{onClick:()=>dt(null),disabled:Ee===Ge,className:"flex-1 px-4 py-2 bg-white border-2 border-slate-200 text-slate-700 font-bold text-sm rounded-xl hover:bg-slate-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),a.jsx("button",{onClick:Ot,disabled:Ee===Ge,className:"flex-1 px-4 py-2 bg-red-600 text-white font-bold text-sm rounded-xl hover:bg-red-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:Ee===Ge?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):a.jsxs(a.Fragment,{children:[a.jsx($r,{className:"w-4 h-4"}),"Delete"]})})]})]})}),br&&a.jsx($ae,{onClose:()=>Dr(!1),onSuccess:()=>{Dr(!1),o.invalidateQueries({queryKey:["companies"]}),o.invalidateQueries({queryKey:["contacts"]})},currentUserId:l?.id||""}),Qr&&a.jsx(zae,{onClose:()=>Nn(!1),onSuccess:()=>{Nn(!1),o.invalidateQueries({queryKey:["companies"]}),o.invalidateQueries({queryKey:["contacts"]})},currentUserId:l?.id||""})]})},iI=[{id:"sales",name:"Sales Pipeline",type:"sales",stages:["Discovery","Proposal","Negotiation","Won","Lost"]},{id:"ops",name:"Operations Flow",type:"operations",stages:["Order Received","Processing","In Transit","Delivered"]}],Rse=({onNavigate:e,onNewDeal:t,currentUser:r})=>{const{showSuccess:n,showError:s,showInfo:i}=Ms(),[o,l]=z.useState([]),[c,u]=z.useState([]),[d,h]=z.useState([]),[m,p]=z.useState([]),[y,v]=z.useState(!0),[g,b]=z.useState(null),[w,j]=z.useState("overview"),[N,k]=z.useState(!1),[P,A]=z.useState(null),[O,D]=z.useState(null),[R,C]=z.useState(""),[T,I]=z.useState(null),[B,X]=z.useState(!1),[re,Z]=z.useState(!1),[te,Y]=z.useState(!1),[Q,H]=z.useState({title:"",companyId:"",value:"",currency:oi,stage:"Discovery",ownerId:"",expectedCloseDate:"",description:""}),[E,q]=z.useState([]),[V,U]=z.useState(!1),[G,ne]=z.useState(!1),[de,ce]=z.useState([]),[he,Le]=z.useState(!1),[se,Fe]=z.useState([]),[_e,oe]=z.useState(""),[ae]=z.useState("sales"),[ke,we]=z.useState(!1),[Pe,pe]=z.useState(!1),[fe,De]=z.useState(!0),[Xe,Je]=z.useState(!1),[ht,Ue]=z.useState(null),[at,Me]=z.useState(""),[ut,ot]=z.useState(""),rt=se.find(Ke=>Ke.id===_e)||null,[lr,er]=z.useState(null),xt=async()=>{try{De(!0);const Wt=((await FP())?.data||[]).filter(ee=>ee.type==="sales");if(Wt.length===0)try{const ee=await MP({name:"Sales Pipeline",type:"sales",stages:["Discovery","Proposal","Negotiation","Won","Lost"]});ee?.data?.id&&await iv(ee.data.id,{isActive:!0});const Se=((await FP())?.data||[]).filter(Te=>Te.type==="sales");Fe(Se);const Ee=Se.find(Te=>Te.isActive)||Se[0];Ee&&oe(Ee.id)}catch(ee){console.error("[PIPELINE] Failed to create default sales pipeline:",ee);const me=iI.filter(ge=>ge.type==="sales");Fe(me),me.length>0&&oe(me[0].id)}else{Fe(Wt);const ee=Wt.find(me=>me.isActive)||Wt[0];ee&&oe(ee.id)}}catch(Ke){console.error("[PIPELINE] Failed to fetch pipelines:",Ke);const bt=iI.filter(Wt=>Wt.type==="sales");Fe(bt),bt.length>0&&oe(bt[0].id)}finally{De(!1)}};z.useEffect(()=>{xt()},[]);const Ht=async()=>{v(!0);try{const Ke=r?.id||JSON.parse(localStorage.getItem("user_data")||"{}").id,[bt,Wt,ee,me]=await Promise.all([Hy(Ke),hd(),fd(),ag()]),Se=(Array.isArray(bt)?bt:bt?.data||[]).filter(Ee=>Ee.pipelineType?Ee.pipelineType==="sales":!["Order Received","Processing","In Transit","Delivered"].includes(Ee.stage));l(Se),u(Wt?.data||[]),h(ee?.data||[]),p(me?.data||[])}catch{s("Failed to load pipeline data")}finally{v(!1)}};z.useEffect(()=>{Ht()},[r,ae]),z.useEffect(()=>{const Ke=()=>Ht();return window.addEventListener("refresh-pipeline",Ke),()=>window.removeEventListener("refresh-pipeline",Ke)},[]);const Ut=(Ke,bt)=>{er(bt),Ke.dataTransfer.setData("dealId",bt)},qe=async(Ke,bt)=>{Ke.preventDefault();const Wt=Ke.dataTransfer.getData("dealId"),ee=o.find(me=>me.id===Wt);if(!(!ee||ee.stage===bt))try{await av(Wt,{stage:bt,pipelineType:"sales"}),l(me=>me.map(ge=>ge.id===Wt?{...ge,stage:bt}:ge)),n(`Deal moved to ${bt}`),ee.ownerId&&ee.ownerId!==r?.id&&await Ep({userId:ee.ownerId,type:"deal",title:"Deal Advanced",message:`The deal "${ee.title}" was moved to ${bt}.`,link:"/?tab=pipeline"})}catch{s("Failed to move deal")}finally{er(null)}},jt=async()=>{if(!(!at.trim()||!_e||Xe))try{Je(!0);const Ke=se.find(Wt=>Wt.id===_e);if(!Ke)return;const bt=[...Ke.stages,at.trim()];await iv(_e,{stages:bt}),Fe(Wt=>Wt.map(ee=>ee.id===_e?{...ee,stages:bt}:ee)),Me(""),n("Stage added successfully")}catch(Ke){s(Ke.message||"Failed to add stage")}finally{Je(!1)}},kr=async Ke=>{if(_e)try{const bt=se.find(ee=>ee.id===_e);if(!bt)return;const Wt=bt.stages.filter((ee,me)=>me!==Ke);await iv(_e,{stages:Wt}),Fe(ee=>ee.map(me=>me.id===_e?{...me,stages:Wt}:me)),n("Stage removed successfully")}catch(bt){s(bt.message||"Failed to remove stage")}},zt=async()=>{if(ut.trim())try{const Ke=await MP({name:ut.trim(),type:"sales",stages:["Discovery","Proposal","Negotiation","Won","Lost"]});Ke?.data&&(await xt(),oe(Ke.data.id),ot(""),we(!1),n("Sales pipeline created successfully"))}catch(Ke){s(Ke.message||"Failed to create pipeline")}},_r=async Ke=>{try{const bt=se.find(Wt=>Wt.id===Ke);if(!bt)return;await iv(Ke,{isActive:!0}),oe(Ke),await xt(),await Ht(),n(`Switched to ${bt.name}`)}catch(bt){s(bt.message||"Failed to switch pipeline")}},Tr=async Ke=>{X(!0);try{await PP(Ke),l(bt=>bt.filter(Wt=>Wt.id!==Ke)),g?.id===Ke&&b(null),I(null),n("Opportunity removed from pipeline")}catch(bt){s(bt.message||"Failed to delete opportunity")}finally{X(!1)}},pr=()=>{E.length===o.length?q([]):q(o.map(Ke=>Ke.id))},Jt=async()=>{U(!0);try{const Ke=[...E];await Promise.all(Ke.map(bt=>PP(bt))),l(bt=>bt.filter(Wt=>!Ke.includes(Wt.id))),g&&Ke.includes(g.id)&&b(null),q([]),ne(!1),n(`Successfully deleted ${Ke.length} opportunit${Ke.length>1?"ies":"y"}`)}catch(Ke){s(Ke.message||"Failed to delete opportunities")}finally{U(!1)}},Lr=async Ke=>{if(!g)return;if(g.stakeholderIds?.includes(Ke)){s("Stakeholder already linked");return}A(Ke);const bt=[...g.stakeholderIds||[],Ke];try{await av(g.id,{stakeholderIds:bt});const Wt={...g,stakeholderIds:bt};b(Wt),l(ee=>ee.map(me=>me.id===g.id?Wt:me)),k(!1),C(""),n("Stakeholder linked to opportunity")}catch{s("Link failed")}finally{A(null)}},Ar=c.find(Ke=>Ke.id===g?.companyId),Gr=d.find(Ke=>Ke.id===g?.ownerId),Tn=m.filter(Ke=>g?.stakeholderIds?.includes(Ke.id)),Ln=m.filter(Ke=>!g?.stakeholderIds?.includes(Ke.id)&&(Ke.name.toLowerCase().includes(R.toLowerCase())||Ke.email.toLowerCase().includes(R.toLowerCase())));z.useEffect(()=>{g&&!re&&H({title:g.title,companyId:g.companyId||"",value:g.value?g.value.toString():"",currency:g.currency||oi,stage:g.stage,ownerId:g.ownerId,expectedCloseDate:g.expectedCloseDate||"",description:g.description||""})},[g]);const vr=async()=>{if(g){if(!Q.title.trim()){s("Deal title is required");return}if(!Q.ownerId){s("Opportunity lead is required");return}Y(!0);try{const Ke={title:Q.title.trim(),companyId:Q.companyId&&Q.companyId.trim()!==""?Q.companyId:null,value:parseFloat(Q.value)||0,currency:Q.currency||oi,stage:Q.stage,pipelineType:"sales",ownerId:Q.ownerId,expectedCloseDate:Q.expectedCloseDate&&Q.expectedCloseDate.trim()!==""?Q.expectedCloseDate:null,description:Q.description.trim()||null};await av(g.id,Ke);const bt={...g,...Ke};l(Wt=>Wt.map(ee=>ee.id===g.id?bt:ee)),b(bt),Z(!1),n("Deal updated successfully")}catch(Ke){s(Ke.message||"Failed to update deal")}finally{Y(!1)}}},Xn=async()=>{if(!(!g||w!=="activity")){Le(!0);try{const Ke=await E3("deal",g.id);ce(Ke?.data||[])}catch(Ke){console.error("[PIPELINE] Failed to fetch deal activities:",Ke),ce([])}finally{Le(!1)}}};z.useEffect(()=>{g&&w==="activity"?Xn():ce([])},[g?.id,w]);const vn=()=>{if(!g)return[];const Ke=[];return g.createdAt&&Ke.push({id:"created",type:"created",title:"Opportunity Created",description:`Deal "${g.title}" was created${Gr?` by ${Gr.name}`:""}`,date:g.createdAt,icon:a.jsx(_n,{className:"w-4 h-4"}),color:"indigo"}),Ke.push({id:"stage",type:"stage",title:`Current Stage: ${g.stage}`,description:`Opportunity is currently in the ${g.stage} stage`,date:g.updatedAt||g.createdAt||new Date().toISOString(),icon:a.jsx($d,{className:"w-4 h-4"}),color:g.stage==="Won"?"emerald":g.stage==="Lost"?"red":"blue"}),g.value>0&&Ke.push({id:"value",type:"value",title:`Deal Value: ${Rd(g.value,g.currency)}`,description:`Gross contract revenue for this opportunity: ${Rd(g.value,g.currency)}`,date:g.updatedAt||g.createdAt||new Date().toISOString(),icon:a.jsx(Xd,{className:"w-4 h-4"}),color:"emerald"}),g.expectedCloseDate&&Ke.push({id:"close_date",type:"close_date",title:`Expected Close Date: ${g.expectedCloseDate}`,description:"Target date for closing this opportunity",date:g.expectedCloseDate,icon:a.jsx(Ha,{className:"w-4 h-4"}),color:"amber"}),Tn.length>0&&Ke.push({id:"stakeholders",type:"stakeholder",title:`${Tn.length} Stakeholder${Tn.length>1?"s":""} Linked`,description:Tn.map(bt=>bt.name).join(", "),date:g.updatedAt||g.createdAt||new Date().toISOString(),icon:a.jsx(R0,{className:"w-4 h-4"}),color:"purple"}),g.description&&Ke.push({id:"description",type:"description",title:"Strategic Context Added",description:g.description.substring(0,100)+(g.description.length>100?"...":""),date:g.updatedAt||g.createdAt||new Date().toISOString(),icon:a.jsx(oo,{className:"w-4 h-4"}),color:"slate"}),de.forEach(bt=>{bt.activityType==="email_linked"&&Ke.push({id:bt.id||`email-${bt.emailId}`,type:"email_linked",title:bt.title||"Email Linked",description:bt.description||`Email "${bt.emailSubject||"Untitled"}" from ${bt.emailSender||"Unknown"}`,date:bt.createdAt,icon:a.jsx(li,{className:"w-4 h-4"}),color:"indigo",emailId:bt.emailId})}),Ke.sort((bt,Wt)=>new Date(Wt.date).getTime()-new Date(bt.date).getTime())};return a.jsxs("div",{className:"h-full flex flex-col gap-6 animate-in slide-in-from-right-2 duration-500 relative",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center shrink-0 gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative group",children:[a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 rounded-xl shadow-sm hover:border-indigo-300 transition-all font-bold",children:[a.jsx(jj,{className:"w-4 h-4 text-indigo-600"}),a.jsx("span",{className:"text-slate-900",children:rt?.name||"Loading..."}),a.jsx(Uf,{className:"w-4 h-4 text-slate-400"})]}),a.jsxs("div",{className:"absolute top-full left-0 mt-2 w-56 bg-white border border-slate-100 rounded-2xl shadow-xl z-50 overflow-hidden opacity-0 group-hover:opacity-100 invisible group-hover:visible transition-all",children:[se.length>0?se.map(Ke=>a.jsxs("button",{onClick:()=>_r(Ke.id),className:`w-full px-4 py-3 text-left text-sm font-bold flex items-center justify-between hover:bg-indigo-50 transition-colors ${_e===Ke.id?"text-indigo-600":"text-slate-600"}`,children:[Ke.name," ",_e===Ke.id&&a.jsx(cd,{className:"w-4 h-4"})]},Ke.id)):a.jsx("div",{className:"px-4 py-3 text-sm text-slate-400",children:"No pipelines available"}),a.jsx("div",{className:"p-3 border-t border-slate-50 bg-slate-50/30",children:a.jsxs("button",{onClick:()=>we(!0),className:"w-full text-xs text-indigo-600 font-bold hover:text-indigo-700 flex items-center gap-2",children:[a.jsx(_n,{className:"w-3 h-3"}),"Manage Pipelines"]})}),a.jsx("div",{className:"p-3 border-t border-slate-50 bg-slate-50/30",children:a.jsx("input",{type:"text",placeholder:"New Pipeline Name...",value:ut,onChange:Ke=>ot(Ke.target.value),onKeyDown:Ke=>Ke.key==="Enter"&&zt(),className:"w-full text-xs px-2 py-1.5 border border-slate-200 rounded-lg outline-none focus:ring-1 focus:ring-indigo-100"})})]})]}),a.jsxs("p",{className:"text-slate-400 text-xs hidden lg:block font-medium",children:["Tracking ",o.length," active opportunities"]})]}),a.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[a.jsx("button",{onClick:()=>we(!0),className:"p-2 border border-slate-200 bg-white text-slate-600 rounded-lg hover:bg-slate-50 shadow-sm transition-all",children:a.jsx(z_,{className:"w-5 h-5"})}),a.jsxs("button",{onClick:()=>t(),className:"flex-1 sm:flex-none px-4 py-2 bg-indigo-600 text-white rounded-lg text-sm font-bold flex items-center justify-center gap-2 hover:bg-indigo-700 shadow-lg shadow-indigo-100 transition-all",children:[a.jsx(_n,{className:"w-4 h-4"})," New Deal"]})]})]}),!y&&o.length>0&&a.jsxs("div",{className:"flex items-center gap-3 pb-2",children:[a.jsx("input",{type:"checkbox",className:"rounded border-slate-300 text-indigo-600 focus:ring-indigo-500 w-4 h-4",checked:o.length>0&&E.length===o.length,onChange:pr}),a.jsx("span",{className:"text-sm font-semibold text-slate-600",children:"Select All Opportunities"})]}),a.jsx("div",{className:"flex-1 flex gap-6 overflow-x-auto pb-6 -mx-4 px-4 lg:mx-0 lg:px-0 scrollbar-hide",children:y||fe||!rt?a.jsx("div",{className:"flex items-center justify-center w-full min-h-[400px]",children:a.jsx(Et,{className:"w-10 h-10 animate-spin text-indigo-600"})}):rt.stages.map(Ke=>{const bt=o.filter(Wt=>Wt.stage===Ke);return a.jsxs("div",{onDragOver:Wt=>Wt.preventDefault(),onDrop:Wt=>qe(Wt,Ke),className:"flex flex-col w-[85vw] sm:w-72 lg:w-80 shrink-0 bg-slate-100/40 rounded-3xl p-4 border border-slate-200/50",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6 px-1",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h3",{className:"font-black text-slate-900 text-xs uppercase tracking-widest",children:Ke}),a.jsx("span",{className:"text-[10px] bg-white text-slate-400 px-2 py-0.5 rounded-full border border-slate-200 font-bold",children:bt.length})]}),a.jsx(_n,{onClick:()=>t(Ke),className:"w-4 h-4 text-slate-300 hover:text-indigo-600 cursor-pointer transition-colors"})]}),a.jsx("div",{className:"flex-1 space-y-4 overflow-y-auto pr-1",children:bt.map(Wt=>{const ee=c.find(ge=>ge.id===Wt.companyId),me=E.includes(Wt.id);return a.jsxs("div",{onClick:()=>b(Wt),draggable:!0,onDragStart:ge=>Ut(ge,Wt.id),className:`bg-white p-5 rounded-2xl border ${me?"border-indigo-400 bg-indigo-50/30":"border-slate-200"} shadow-sm hover:border-indigo-300 hover:shadow-xl transition-all cursor-move group active:scale-[0.98] relative ${lr===Wt.id?"opacity-30":""}`,children:[a.jsx("div",{className:"absolute top-3 right-3",onClick:ge=>ge.stopPropagation(),children:a.jsx("input",{type:"checkbox",className:"rounded border-slate-300 text-indigo-600 focus:ring-indigo-500 w-4 h-4",checked:me,onChange:()=>q(ge=>me?ge.filter(Se=>Se!==Wt.id):[...ge,Wt.id])})}),a.jsxs("div",{className:"flex items-start gap-2.5 mb-3",children:[a.jsx(Xs,{src:ee?.logo,fallbackText:ee?.name,className:"w-5 h-5 shrink-0 mt-0.5",isAvatar:!1}),a.jsx("h4",{className:"font-bold text-slate-900 text-sm group-hover:text-indigo-600 transition-colors break-words leading-tight flex-1 min-w-0",children:Wt.title})]}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest mb-4",children:ee?.name||"Independent"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-indigo-600 font-black text-xs",children:Rd(Wt.value,Wt.currency)}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-[9px] font-bold text-slate-400 uppercase",children:Wt.expectedCloseDate}),a.jsx("div",{className:"w-6 h-6 bg-slate-50 rounded-full flex items-center justify-center text-[8px] font-black text-slate-300 border border-slate-100 uppercase",children:"DE"})]})]})]},Wt.id)})})]},Ke)})}),g&&a.jsxs("div",{className:"fixed inset-0 z-[70] overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md pointer-events-auto animate-in fade-in duration-300",onClick:()=>{b(null),k(!1)}}),a.jsxs("div",{className:"absolute right-0 inset-y-0 w-full max-w-2xl bg-white shadow-2xl pointer-events-auto animate-in slide-in-from-right duration-500 flex flex-col",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 bg-slate-50/50",children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[a.jsx("div",{className:"w-16 h-16 bg-indigo-600 rounded-[20px] flex items-center justify-center text-white shadow-2xl shadow-indigo-100 ring-4 ring-indigo-50",children:a.jsx(Pc,{className:"w-8 h-8"})}),a.jsxs("div",{className:"flex-1",children:[re?a.jsx("input",{type:"text",value:Q.title,onChange:Ke=>H(bt=>({...bt,title:Ke.target.value})),className:"w-full px-4 py-2 bg-white border-2 border-indigo-200 rounded-xl text-2xl font-black text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100",placeholder:"Deal title"}):a.jsx("h2",{className:"text-2xl font-black text-slate-900 tracking-tight",children:g.title}),a.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[re?a.jsx("select",{value:Q.stage,onChange:Ke=>H(bt=>({...bt,stage:Ke.target.value})),className:"px-2.5 py-1 bg-indigo-100 text-indigo-700 text-[10px] font-black uppercase rounded-lg border border-indigo-200 outline-none focus:ring-2 focus:ring-indigo-300",children:rt?.stages?.map(Ke=>a.jsx("option",{value:Ke,children:Ke},Ke))||[]}):a.jsx("span",{className:"px-2.5 py-1 bg-indigo-100 text-indigo-700 text-[10px] font-black uppercase rounded-lg border border-indigo-200",children:g.stage}),a.jsxs("span",{className:"text-slate-400 text-xs font-bold",children:[" Opportunity ID: #",g.id.substring(0,8)]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[re?a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>{Z(!1),H({title:g.title,companyId:g.companyId||"",value:g.value?g.value.toString():"",currency:g.currency||oi,stage:g.stage,ownerId:g.ownerId,expectedCloseDate:g.expectedCloseDate||"",description:g.description||""})},disabled:te,className:"px-4 py-2 border border-slate-200 text-slate-400 font-bold text-xs uppercase tracking-widest rounded-xl hover:bg-slate-50 transition-all disabled:opacity-50",children:"Cancel"}),a.jsx("button",{onClick:vr,disabled:te||!Q.title.trim()||!Q.ownerId,className:"px-4 py-2 bg-indigo-600 text-white font-bold text-xs uppercase tracking-widest rounded-xl hover:bg-indigo-700 transition-all shadow-lg flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:te?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(wi,{className:"w-4 h-4"}),"Save Changes"]})})]}):a.jsxs("button",{onClick:()=>Z(!0),className:"px-4 py-2 bg-indigo-600 text-white font-bold text-xs uppercase tracking-widest rounded-xl hover:bg-indigo-700 transition-all shadow-lg flex items-center gap-2",children:[a.jsx(ec,{className:"w-4 h-4"}),"Edit Deal"]}),a.jsx("button",{onClick:()=>{b(null),k(!1),Z(!1)},className:"p-3 hover:bg-white rounded-full text-slate-400 shadow-sm transition-all",children:a.jsx(mr,{className:"w-6 h-6"})})]})]}),a.jsx("div",{className:"flex bg-white p-1 rounded-2xl border border-slate-100 w-fit",children:[{id:"overview",label:"Overview",icon:a.jsx(Wf,{className:"w-4 h-4"})},{id:"activity",label:"Timeline",icon:a.jsx(qd,{className:"w-4 h-4"})},{id:"stakeholders",label:"Stakeholders",icon:a.jsx(R0,{className:"w-4 h-4"})}].map(Ke=>a.jsxs("button",{onClick:()=>{j(Ke.id),k(!1),Z(!1)},className:`flex items-center gap-2 px-6 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${w===Ke.id?"bg-indigo-600 text-white shadow-lg":"text-slate-400 hover:text-slate-600 hover:bg-slate-50"}`,children:[Ke.icon," ",Ke.label]},Ke.id))})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-8 space-y-10 custom-scrollbar",children:[w==="overview"&&a.jsxs("div",{className:"space-y-10 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[re?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"p-6 bg-slate-50 rounded-[32px] border border-slate-100 flex flex-col justify-between",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Deal Value"}),a.jsx(Om,{className:"w-4 h-4 text-indigo-400"})]}),a.jsx("div",{className:"space-y-3",children:a.jsxs("div",{className:"flex gap-3 items-center",children:[a.jsx("select",{value:Q.currency||oi,onChange:Ke=>H(bt=>({...bt,currency:Ke.target.value})),className:"px-4 py-3 text-sm font-bold bg-white border-2 border-indigo-200 rounded-xl outline-none focus:ring-4 focus:ring-indigo-100 text-indigo-600 appearance-none min-w-[140px] h-[60px]",style:{backgroundImage:`url('data:image/svg+xml;charset=utf-8,%3Csvg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20"%3E%3Cpath stroke="%236366f1" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="m6 8 4 4 4-4"/%3E%3C/svg%3E')`,backgroundRepeat:"no-repeat",backgroundPosition:"right 8px center",backgroundSize:"16px",paddingRight:"32px",height:"60px"},children:Cp.map(Ke=>a.jsxs("option",{value:Ke.code,children:[Ke.code," (",Ke.symbol,")"]},Ke.code))}),a.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[a.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-indigo-600 font-black text-xl pointer-events-none z-10",children:Dd(Q.currency||oi)}),a.jsx("input",{type:"number",step:"0.01",min:"0",value:Q.value||"",onChange:Ke=>H(bt=>({...bt,value:Ke.target.value})),className:"w-full pl-10 pr-4 py-3 text-2xl font-black text-indigo-600 bg-white border-2 border-indigo-200 rounded-xl outline-none focus:ring-4 focus:ring-indigo-100 focus:border-indigo-400 placeholder:text-slate-300 h-[60px]",placeholder:"0",autoFocus:!1,style:{WebkitAppearance:"textfield",MozAppearance:"textfield",appearance:"textfield",color:"#4f46e5",fontSize:"1.5rem",fontWeight:"900",height:"60px"}})]})]})}),a.jsx("p",{className:"text-[10px] font-bold text-slate-400 mt-2",children:"Gross Contract Revenue"})]}),a.jsxs("div",{className:"p-6 bg-slate-50 rounded-[32px] border border-slate-100 flex flex-col justify-between",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Expected Close Date"}),a.jsx(Ha,{className:"w-4 h-4 text-indigo-400"})]}),a.jsx("input",{type:"date",value:Q.expectedCloseDate,onChange:Ke=>H(bt=>({...bt,expectedCloseDate:Ke.target.value})),className:"text-xl font-black text-slate-900 bg-white border-2 border-indigo-200 rounded-xl px-3 py-2 outline-none focus:ring-4 focus:ring-indigo-100 w-full"}),a.jsx("p",{className:"text-[10px] font-bold text-slate-400 mt-2",children:"Target Implementation"})]})]}):a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"p-6 bg-slate-50 rounded-[32px] border border-slate-100 flex flex-col justify-between",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Deal Value"}),a.jsx(Om,{className:"w-4 h-4 text-indigo-400"})]}),a.jsx("h3",{className:"text-3xl font-black text-indigo-600",children:Rd(g.value,g.currency)}),a.jsx("p",{className:"text-[10px] font-bold text-slate-400 mt-2",children:"Gross Contract Revenue"})]}),a.jsxs("div",{className:"p-6 bg-slate-50 rounded-[32px] border border-slate-100 flex flex-col justify-between",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Expected Close Date"}),a.jsx(Ha,{className:"w-4 h-4 text-indigo-400"})]}),a.jsx("h3",{className:"text-2xl font-black text-slate-900",children:g.expectedCloseDate||"Not set"}),a.jsx("p",{className:"text-[10px] font-bold text-slate-400 mt-2",children:"Target Implementation"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(nd,{className:"w-4 h-4"})," Account Association"]}),re?a.jsxs("select",{value:Q.companyId,onChange:Ke=>H(bt=>({...bt,companyId:Ke.target.value})),className:"w-full p-5 bg-white border-2 border-indigo-200 rounded-3xl shadow-sm outline-none focus:ring-4 focus:ring-indigo-100 text-sm font-bold",children:[a.jsx("option",{value:"",children:"Independent/Direct"}),c.map(Ke=>a.jsx("option",{value:Ke.id,children:Ke.name},Ke.id))]}):a.jsxs("div",{className:"p-5 bg-white border border-slate-100 rounded-3xl shadow-sm hover:border-indigo-300 transition-all group flex items-center gap-4",children:[a.jsx(Xs,{src:Ar?.logo,className:"w-14 h-14",fallbackText:Ar?.name||"A",isAvatar:!1}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-black text-slate-900",children:Ar?.name||"Independent/Direct"}),a.jsx("p",{className:"text-xs text-indigo-500 font-bold",children:Ar?.industry||"Uncategorized"})]}),a.jsx("button",{className:"p-2 text-slate-300 hover:text-indigo-600 transition-colors",children:a.jsx(vi,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(dy,{className:"w-4 h-4"})," Opportunity Lead"]}),re?a.jsxs("select",{value:Q.ownerId,onChange:Ke=>H(bt=>({...bt,ownerId:Ke.target.value})),className:"w-full p-5 bg-white border-2 border-indigo-200 rounded-3xl shadow-sm outline-none focus:ring-4 focus:ring-indigo-100 text-sm font-bold",required:!0,children:[a.jsx("option",{value:"",children:"Select Owner"}),d.map(Ke=>a.jsxs("option",{value:Ke.id,children:[Ke.name," (",Ke.role,")"]},Ke.id))]}):a.jsxs("div",{className:"p-5 bg-white border border-slate-100 rounded-3xl shadow-sm flex items-center gap-4",children:[a.jsx(Xs,{src:Gr?.avatar,className:"w-14 h-14",fallbackText:Gr?.name||"U",isAvatar:!0}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-black text-slate-900",children:Gr?.name||"Unassigned"}),a.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase",children:Gr?.role||"Teammate"})]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(oo,{className:"w-4 h-4"})," Strategic Context"]}),re?a.jsx("textarea",{value:Q.description,onChange:Ke=>H(bt=>({...bt,description:Ke.target.value})),rows:6,className:"w-full p-8 bg-slate-950 rounded-[40px] text-indigo-50 border-2 border-indigo-200 outline-none focus:ring-4 focus:ring-indigo-100 resize-none text-sm leading-relaxed italic",placeholder:"Enter strategic context and operational notes..."}):a.jsxs("div",{className:"p-8 bg-slate-950 rounded-[40px] text-indigo-50 relative overflow-hidden group",children:[a.jsx("p",{className:"text-sm leading-relaxed italic opacity-80 z-10 relative",children:g.description||"The logistics assessment phase is currently gathering data points to populate this strategic summary. No specific operational notes are archived yet."}),a.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-indigo-500/10 blur-[80px] rounded-full translate-x-1/2 -translate-y-1/2"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Digital Readiness & Proposal"}),a.jsxs("span",{className:"px-2 py-0.5 bg-indigo-100 text-indigo-700 text-[9px] font-black uppercase rounded-full border border-indigo-200 flex items-center gap-1",children:[a.jsx(xi,{className:"w-2.5 h-2.5"})," AI Engine"]})]}),a.jsxs("div",{className:"p-6 border-2 border-dashed border-slate-200 rounded-[32px] flex flex-col items-center text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-slate-50 rounded-full flex items-center justify-center text-slate-300 mb-4",children:a.jsx(Xa,{className:"w-6 h-6"})}),a.jsx("p",{className:"text-sm font-bold text-slate-900 mb-1",children:"Proposal Engine Coming Soon"}),a.jsx("p",{className:"text-xs text-slate-400 mb-6 max-w-xs",children:"Automated PDF generation and strategic roadmap visualization for this opportunity are in final audit."}),a.jsx("button",{onClick:()=>i("Proposal engine is currently in development."),className:"px-6 py-2.5 bg-slate-900 text-white rounded-xl text-xs font-black uppercase tracking-widest hover:bg-slate-800 transition-all opacity-50 cursor-not-allowed",children:"Generate Proposal [LOCKED]"})]})]})]}),w==="activity"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-left-4 duration-300",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2 mb-6",children:[a.jsx(qd,{className:"w-4 h-4 text-indigo-500"})," Opportunity Timeline"]}),he?a.jsx("div",{className:"flex items-center justify-center py-20",children:a.jsx(Et,{className:"w-6 h-6 animate-spin text-indigo-600"})}):(()=>{const Ke=vn();return Ke.length===0?a.jsxs("div",{className:"py-20 bg-white border border-dashed border-slate-200 rounded-3xl text-center",children:[a.jsx(qd,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),a.jsx("p",{className:"text-sm font-bold text-slate-400",children:"No timeline events available"})]}):a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute left-6 top-0 bottom-0 w-0.5 bg-slate-200"}),a.jsx("div",{className:"space-y-6",children:Ke.map((bt,Wt)=>{const ee=Ee=>{const Te={indigo:"bg-indigo-50 text-indigo-600 border-indigo-200",blue:"bg-blue-50 text-blue-600 border-blue-200",emerald:"bg-emerald-50 text-emerald-600 border-emerald-200",amber:"bg-amber-50 text-amber-600 border-amber-200",purple:"bg-purple-50 text-purple-600 border-purple-200",red:"bg-red-50 text-red-600 border-red-200",slate:"bg-slate-50 text-slate-600 border-slate-200"};return Te[Ee]||Te.slate},me=new Date(bt.date),ge=me.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),Se=me.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return a.jsxs("div",{className:"relative flex items-start gap-4",children:[a.jsx("div",{className:`relative z-10 w-12 h-12 rounded-full border-2 ${ee(bt.color)} flex items-center justify-center flex-shrink-0`,children:bt.icon}),a.jsx("div",{className:"flex-1 pb-6",children:a.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl p-5 shadow-sm hover:shadow-md transition-all",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("h4",{className:"font-black text-slate-900 text-sm",children:bt.title}),a.jsxs("span",{className:"text-[10px] font-bold text-slate-400 uppercase whitespace-nowrap ml-4",children:[ge," ",Se]})]}),a.jsx("p",{className:"text-xs text-slate-600 leading-relaxed",children:bt.description}),bt.type==="email_linked"&&bt.emailId&&a.jsxs("button",{onClick:()=>{e("inbox"),setTimeout(()=>{window.location.hash=`email=${bt.emailId}`},100)},className:"mt-3 text-xs text-indigo-600 hover:text-indigo-700 font-bold flex items-center gap-1.5",children:[a.jsx(vi,{className:"w-3 h-3"})," View Email"]})]})})]},bt.id)})})]})})()]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-8 border-t border-slate-100",children:[a.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-200",children:[a.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Days in Pipeline"}),a.jsx("p",{className:"text-xl font-black text-slate-900",children:g.createdAt?Math.floor((new Date().getTime()-new Date(g.createdAt).getTime())/(1e3*60*60*24)):"N/A"})]}),a.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-200",children:[a.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Current Stage"}),a.jsx("p",{className:"text-xl font-black text-slate-900",children:g.stage})]}),a.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-200",children:[a.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Stakeholders"}),a.jsx("p",{className:"text-xl font-black text-slate-900",children:Tn.length})]})]})]}),w==="stakeholders"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-left-4 duration-300",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Key Account Decision Makers"}),!N&&a.jsxs("button",{onClick:()=>k(!0),className:"flex items-center gap-2 text-[10px] font-black text-indigo-600 uppercase tracking-widest bg-indigo-50 px-3 py-1.5 rounded-xl hover:bg-indigo-100",children:[a.jsx(Au,{className:"w-3 h-3"})," Link Person"]})]}),N?a.jsxs("div",{className:"p-6 bg-slate-50 border border-slate-200 rounded-[32px] animate-in slide-in-from-top-2",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h4",{className:"text-sm font-black text-slate-900",children:"Select Existing Contact"}),a.jsx("button",{onClick:()=>k(!1),className:"p-1 hover:bg-white rounded-lg",children:a.jsx(mr,{className:"w-4 h-4 text-slate-400"})})]}),a.jsxs("div",{className:"relative mb-6",children:[a.jsx(tf,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Search global registry...",value:R,onChange:Ke=>C(Ke.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-white border border-slate-200 rounded-xl text-xs"})]}),a.jsx("div",{className:"space-y-2 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar",children:Ln.length>0?Ln.map(Ke=>{const bt=P===Ke.id;return a.jsxs("button",{onClick:()=>Lr(Ke.id),disabled:bt||!!P,className:"w-full p-4 bg-white border border-slate-100 rounded-2xl flex items-center gap-3 hover:border-indigo-400 hover:shadow-sm transition-all text-left group disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx("div",{className:"w-10 h-10 bg-indigo-50 rounded-xl flex items-center justify-center text-indigo-600 font-black text-xs uppercase group-hover:scale-105 transition-transform",children:Ke.name.charAt(0)}),a.jsxs("div",{className:"flex-1 overflow-hidden",children:[a.jsx("p",{className:"font-bold text-xs text-slate-900 truncate",children:Ke.name}),a.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase truncate",children:Ke.role})]}),bt?a.jsx(Et,{className:"w-4 h-4 text-indigo-600 animate-spin"}):a.jsx(_n,{className:"w-4 h-4 text-slate-300 group-hover:text-indigo-600"})]},Ke.id)}):a.jsx("div",{className:"py-10 text-center text-xs text-slate-400",children:"No matching contacts found in CRM."})})]}):Tn.length>0?a.jsx("div",{className:"grid grid-cols-1 gap-3",children:Tn.map(Ke=>a.jsxs("div",{className:"p-4 bg-white border border-slate-100 rounded-3xl flex items-center justify-between hover:border-indigo-200 transition-all shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-indigo-50 rounded-2xl flex items-center justify-center text-indigo-600 font-black text-lg",children:Ke.name.charAt(0)}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-900",children:Ke.name}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:Ke.role})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:async()=>{if(g){D(Ke.id);try{const bt=(g.stakeholderIds||[]).filter(ee=>ee!==Ke.id);await av(g.id,{stakeholderIds:bt});const Wt={...g,stakeholderIds:bt};b(Wt),l(ee=>ee.map(me=>me.id===g.id?Wt:me)),n("Stakeholder removed")}catch{s("Failed to remove stakeholder")}finally{D(null)}}},disabled:O===Ke.id,className:"p-2 text-slate-300 hover:text-red-500 hover:bg-red-50 rounded-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:O===Ke.id?a.jsx(Et,{className:"w-4 h-4 animate-spin text-red-500"}):a.jsx($r,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-2 text-slate-300 hover:text-indigo-600",children:a.jsx(bs,{className:"w-5 h-5"})})]})]},Ke.id))}):a.jsxs("div",{className:"p-12 border-2 border-dashed border-slate-100 rounded-[40px] text-center",children:[a.jsx(R0,{className:"w-12 h-12 text-slate-200 mx-auto mb-4"}),a.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"No stakeholders linked to this opportunity yet."})]})]})]}),a.jsxs("div",{className:"p-8 border-t border-slate-100 bg-white flex gap-4",children:[a.jsx("button",{onClick:()=>I(g),className:"px-6 py-4 border border-slate-200 bg-white text-red-500 hover:bg-red-50 rounded-[24px] transition-all group",children:a.jsx($r,{className:"w-6 h-6 group-hover:scale-110 transition-transform"})}),a.jsxs("button",{onClick:()=>i("Lifecycle management automated through digital registry."),className:"flex-1 py-4 bg-slate-900 text-white font-black uppercase text-xs tracking-[0.2em] rounded-[24px] hover:bg-indigo-700 active:scale-95 transition-all shadow-2xl flex items-center justify-center gap-3",children:[a.jsx(al,{className:"w-5 h-5"})," Confirm Strategic Deployment"]})]})]})]}),T&&a.jsx("div",{className:"fixed inset-0 z-[130] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-[32px] w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center bg-red-50 text-red-600",children:a.jsx($r,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-slate-900",children:"Delete Opportunity?"}),a.jsx("p",{className:"text-xs text-slate-400 font-medium mt-1",children:"This action cannot be undone. The opportunity will be permanently removed from the pipeline."})]})]}),a.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-200",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(Pc,{className:"w-5 h-5 text-indigo-500"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-bold text-slate-900",children:T.title}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx("span",{className:"text-[10px] text-slate-400 font-bold uppercase",children:T.stage}),a.jsx("span",{className:"w-1 h-1 rounded-full bg-slate-300"}),a.jsxs("span",{className:"text-[10px] text-indigo-600 font-black",children:["$",T.value.toLocaleString()]})]})]})]}),Ar&&a.jsxs("div",{className:"flex items-center gap-2 mt-3 pt-3 border-t border-slate-200",children:[a.jsx(Xs,{src:Ar.logo,fallbackText:Ar.name,className:"w-6 h-6",isAvatar:!1}),a.jsx("p",{className:"text-xs font-bold text-slate-600",children:Ar.name})]})]})]}),a.jsxs("div",{className:"p-6 flex gap-3",children:[a.jsx("button",{onClick:()=>I(null),disabled:B,className:"flex-1 py-3 border border-slate-200 text-slate-400 font-black uppercase text-xs tracking-widest rounded-xl hover:bg-slate-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),a.jsx("button",{onClick:()=>Tr(T.id),disabled:B,className:"flex-1 py-3 bg-red-600 text-white font-black uppercase text-xs tracking-widest rounded-xl hover:bg-red-700 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:B?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):"Delete Opportunity"})]})]})}),E.length>0&&a.jsx("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-[100] animate-in slide-in-from-bottom-10 duration-300",children:a.jsxs("div",{className:"bg-slate-900 text-white rounded-3xl shadow-2xl px-8 py-4 flex items-center gap-8 border border-white/10 ring-4 ring-indigo-500/10",children:[a.jsxs("span",{className:"text-sm font-black flex items-center gap-3",children:[a.jsx("div",{className:"w-6 h-6 bg-indigo-500 rounded-full flex items-center justify-center text-[10px]",children:E.length}),"Selected"]}),a.jsx("div",{className:"h-8 w-px bg-white/10"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{onClick:Ke=>{Ke.stopPropagation(),ne(!0)},disabled:V,className:"px-5 py-2 bg-red-600 hover:bg-red-700 rounded-xl text-xs font-black uppercase tracking-widest transition-all flex items-center gap-2 disabled:opacity-50",children:[V?a.jsx(Et,{className:"w-3.5 h-3.5 animate-spin"}):a.jsx($r,{className:"w-3.5 h-3.5"}),"Delete"]}),a.jsx("button",{onClick:()=>q([]),className:"p-2 hover:bg-white/10 rounded-xl text-slate-400 transition-colors",children:a.jsx(mr,{className:"w-5 h-5"})})]})]})}),G&&E.length>0&&a.jsx("div",{className:"fixed inset-0 z-[130] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-[32px] w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center bg-red-50 text-red-600",children:a.jsx($r,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xl font-black text-slate-900",children:["Delete ",E.length," Opportunit",E.length>1?"ies":"y","?"]}),a.jsx("p",{className:"text-xs text-slate-400 font-medium mt-1",children:"This action cannot be undone. The opportunities will be permanently removed from the pipeline."})]})]}),a.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-200 max-h-48 overflow-y-auto",children:[o.filter(Ke=>E.includes(Ke.id)).slice(0,5).map(Ke=>(c.find(bt=>bt.id===Ke.companyId),a.jsxs("div",{className:"flex items-center gap-3 mb-2 last:mb-0",children:[a.jsx(Pc,{className:"w-4 h-4 text-indigo-500"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-xs font-bold text-slate-900",children:Ke.title}),a.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[a.jsx("span",{className:"text-[10px] text-slate-400 font-bold uppercase",children:Ke.stage}),a.jsx("span",{className:"w-1 h-1 rounded-full bg-slate-300"}),a.jsxs("span",{className:"text-[10px] text-indigo-600 font-black",children:["$",Ke.value.toLocaleString()]})]})]})]},Ke.id))),E.length>5&&a.jsxs("p",{className:"text-xs text-slate-400 font-medium mt-2 text-center",children:["+ ",E.length-5," more"]})]})]}),a.jsxs("div",{className:"p-6 flex gap-3",children:[a.jsx("button",{onClick:()=>ne(!1),disabled:V,className:"flex-1 py-3 border border-slate-200 text-slate-400 font-black uppercase text-xs tracking-widest rounded-xl hover:bg-slate-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),a.jsx("button",{onClick:Jt,disabled:V,className:"flex-1 py-3 bg-red-600 text-white font-black uppercase text-xs tracking-widest rounded-xl hover:bg-red-700 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:V?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):`Delete ${E.length} Opportunit${E.length>1?"ies":"y"}`})]})]})}),Pe&&a.jsxs("div",{className:"fixed inset-0 z-[140] flex",children:[a.jsx("div",{className:"flex-1 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",onClick:()=>pe(!1)}),a.jsxs("div",{className:"w-full max-w-md bg-white shadow-2xl animate-in slide-in-from-right duration-300 overflow-y-auto",children:[a.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 p-6 flex items-center justify-between z-10",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-xl flex items-center justify-center",children:a.jsx(z_,{className:"w-5 h-5 text-indigo-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"font-black text-xl text-slate-900",children:"Pipeline Settings"}),a.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"Configure your pipeline stages"})]})]}),a.jsx("button",{onClick:()=>pe(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:a.jsx(mr,{className:"w-5 h-5 text-slate-400"})})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Sales Pipelines"}),a.jsx("div",{className:"space-y-2",children:se.map(Ke=>a.jsx("button",{onClick:()=>_r(Ke.id),className:`w-full p-4 rounded-xl border-2 transition-all text-left ${_e===Ke.id?"border-indigo-500 bg-indigo-50":"border-slate-200 bg-white hover:border-indigo-200"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-900",children:Ke.name}),a.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:[Ke.stages.length," stages"]})]}),_e===Ke.id&&a.jsx(cd,{className:"w-5 h-5 text-indigo-600"})]})},Ke.id))})]}),rt&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Stages"}),a.jsxs("span",{className:"text-xs text-slate-400 font-bold",children:[rt.stages.length," stages"]})]}),a.jsx("div",{className:"space-y-2",children:rt.stages.map((Ke,bt)=>a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-xl border border-slate-200",children:[a.jsx("div",{className:"w-6 h-6 bg-indigo-100 rounded-lg flex items-center justify-center text-xs font-black text-indigo-600",children:bt+1}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-bold text-sm text-slate-900",children:Ke}),a.jsxs("p",{className:"text-xs text-slate-400",children:[o.filter(Wt=>Wt.stage===Ke).length," deals"]})]})]},Ke))})]}),a.jsxs("div",{className:"p-4 bg-gradient-to-br from-indigo-50 to-purple-50 rounded-xl border border-indigo-100",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(Om,{className:"w-5 h-5 text-indigo-600"}),a.jsx("h3",{className:"font-black text-slate-900",children:"Pipeline Overview"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"bg-white/60 rounded-lg p-3 border border-white/80",children:[a.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase",children:"Total Deals"}),a.jsx("p",{className:"text-2xl font-black text-slate-900 mt-1",children:o.length})]}),a.jsxs("div",{className:"bg-white/60 rounded-lg p-3 border border-white/80",children:[a.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase",children:"Total Value"}),a.jsxs("p",{className:"text-lg font-black text-slate-900 mt-1",children:["$",o.reduce((Ke,bt)=>Ke+(bt.value||0),0).toLocaleString()]})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Quick Actions"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("button",{onClick:()=>{pe(!1),we(!0)},className:"w-full p-4 bg-white border-2 border-slate-200 rounded-xl hover:border-indigo-300 hover:bg-indigo-50 transition-all text-left flex items-center gap-3",children:[a.jsx(jj,{className:"w-5 h-5 text-indigo-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-900",children:"Edit Pipeline"}),a.jsx("p",{className:"text-xs text-slate-400",children:"Add or remove stages"})]}),a.jsx(bs,{className:"w-5 h-5 text-slate-300 ml-auto"})]}),a.jsxs("button",{onClick:()=>{pe(!1),Ht(),n("Pipeline refreshed")},className:"w-full p-4 bg-white border-2 border-slate-200 rounded-xl hover:border-indigo-300 hover:bg-indigo-50 transition-all text-left flex items-center gap-3",children:[a.jsx(sd,{className:"w-5 h-5 text-indigo-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-900",children:"Refresh Data"}),a.jsx("p",{className:"text-xs text-slate-400",children:"Reload all deals"})]}),a.jsx(bs,{className:"w-5 h-5 text-slate-300 ml-auto"})]})]})]})]})]})]}),ke&&a.jsx("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between",children:[a.jsx("h3",{className:"font-black text-xl text-slate-900",children:"Pipeline Configuration"}),a.jsx("button",{onClick:()=>we(!1),className:"p-2 hover:bg-slate-100 rounded-lg",children:a.jsx(mr,{className:"w-5 h-5 text-slate-400"})})]}),a.jsxs("div",{className:"p-6 space-y-6 max-h-[70vh] overflow-y-auto",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-3 block",children:"Select Pipeline"}),a.jsx("div",{className:"space-y-2",children:se.map(Ke=>a.jsx("button",{onClick:()=>_r(Ke.id),className:`w-full p-3 rounded-xl border-2 text-left ${_e===Ke.id?"border-indigo-500 bg-indigo-50":"border-slate-200"}`,children:a.jsx("p",{className:"font-bold",children:Ke.name})},Ke.id))})]}),rt&&a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-3 block",children:"Edit Stages"}),a.jsx("div",{className:"space-y-2",children:rt.stages.map((Ke,bt)=>a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-slate-50 rounded-xl",children:[a.jsx("span",{className:"text-sm font-bold text-slate-900 flex-1",children:Ke}),a.jsx("button",{onClick:()=>kr(bt),disabled:ht!==null,className:"p-1.5 text-red-500 hover:bg-red-50 rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:ht===bt?a.jsx(Et,{className:"w-4 h-4 animate-spin"}):a.jsx($r,{className:"w-4 h-4"})})]},bt))}),a.jsxs("div",{className:"flex gap-2 mt-3",children:[a.jsx("input",{type:"text",placeholder:"New stage name...",value:at,onChange:Ke=>Me(Ke.target.value),onKeyDown:Ke=>{Ke.key==="Enter"&&at.trim()&&!Xe&&jt()},disabled:Xe,className:"flex-1 px-4 py-2 border border-slate-200 rounded-xl text-sm disabled:opacity-50 disabled:cursor-not-allowed"}),a.jsx("button",{onClick:jt,disabled:Xe||!at.trim(),className:"px-4 py-2 bg-indigo-600 text-white rounded-xl font-bold text-sm disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 min-w-[80px]",children:Xe?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),a.jsx("span",{children:"Adding..."})]}):"Add"})]})]}),a.jsxs("div",{className:"pt-4 border-t border-slate-100",children:[a.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-3 block",children:"Create New Sales Pipeline"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("input",{type:"text",placeholder:"Pipeline name...",value:ut,onChange:Ke=>ot(Ke.target.value),className:"w-full px-4 py-2 border border-slate-200 rounded-xl text-sm"}),a.jsx("button",{onClick:zt,className:"w-full px-4 py-2 bg-indigo-600 text-white rounded-xl font-bold text-sm",children:"Create Sales Pipeline"})]})]})]}),a.jsx("div",{className:"p-6 border-t border-slate-100 flex justify-end",children:a.jsx("button",{onClick:()=>we(!1),className:"px-6 py-2 bg-indigo-600 text-white rounded-xl font-bold",children:"Done"})})]})})]})},Bse=({onNavigate:e,onCreateProject:t,currentUser:r})=>{const{showSuccess:n,showError:s}=Ms(),[i,o]=z.useState([]),[l,c]=z.useState([]),[u,d]=z.useState([]),[h,m]=z.useState([]),[p,y]=z.useState(!0),[v,g]=z.useState("active"),b=async()=>{y(!0);try{const Ue=r?.id||JSON.parse(localStorage.getItem("user_data")||"{}").id;console.log("[PROJECTS] Fetching projects for userId:",Ue);const[at,Me,ut,ot]=await Promise.all([$p(Ue),hd(),fd(),Ap(Ue)]),rt=at.data||[];console.log("[PROJECTS] Fetched projects:",rt.length,rt),o(rt),c(Me.data||[]),d(ut.data||[]),m(ot.data||[])}catch(Ue){console.error("[PROJECTS] Failed to load projects:",Ue),s("Failed to load projects")}finally{y(!1)}};z.useEffect(()=>{b()},[r]),z.useEffect(()=>{const Ue=()=>{console.log("[PROJECTS] Refresh event received, fetching data..."),setTimeout(()=>{b()},300)};return window.addEventListener("refresh-projects",Ue),()=>window.removeEventListener("refresh-projects",Ue)},[r]);const w=async()=>{if(te){oe(!0);try{const Ue=await E3("project",te.id);Fe(Ue?.data||[])}catch(Ue){console.error("[PROJECTS] Failed to fetch project activities:",Ue),Fe([])}finally{oe(!1)}}};z.useEffect(()=>{te?w():Fe([])},[te?.id]);const j=Ue=>{const at=h.filter(ut=>ut.projectId===Ue);if(at.length===0)return 0;const Me=at.filter(ut=>ut.status==="Done").length;return Math.round(Me/at.length*100)},[N,k]=z.useState(null),[P,A]=z.useState(null),[O,D]=z.useState(null),[R,C]=z.useState(null),[T,I]=z.useState([]),[B,X]=z.useState(!1),[re,Z]=z.useState(!1),[te,Y]=z.useState(null),[Q,H]=z.useState(!1),[E,q]=z.useState(!1),[V,U]=z.useState(!1),[G,ne]=z.useState(""),[de,ce]=z.useState({title:"",description:"",companyId:"",status:"Planning",engagement:"",startDate:"",endDate:""}),[he,Le]=z.useState(null),[se,Fe]=z.useState([]),[_e,oe]=z.useState(!1),ae=async Ue=>{if(i.find(Me=>Me.id===Ue)){A(Ue);try{await HN(Ue,{archived:v==="active"}),o(Me=>Me.map(ut=>ut.id===Ue?{...ut,archived:v==="active"}:ut)),D(null),n(v==="active"?"Project archived":"Project restored")}catch{s("Failed to update project status")}finally{A(null)}}},ke=async Ue=>{k(Ue);try{await IP(Ue),o(at=>at.filter(Me=>Me.id!==Ue)),C(null),n("Project deleted entirely")}catch{s("Deletion failed")}finally{k(null)}},we=()=>{T.length===ht.length?I([]):I(ht.map(Ue=>Ue.id))},Pe=async()=>{X(!0);try{const Ue=[...T];await Promise.all(Ue.map(at=>IP(at))),o(at=>at.filter(Me=>!Ue.includes(Me.id))),I([]),Z(!1),te&&Ue.includes(te.id)&&Y(null),n(`Successfully deleted ${Ue.length} project${Ue.length>1?"s":""}`)}catch(Ue){s(Ue.message||"Failed to delete projects")}finally{X(!1)}},pe=Ue=>{if(!Ue)return"";try{const at=new Date(Ue);if(isNaN(at.getTime()))return"";const Me=at.getFullYear(),ut=String(at.getMonth()+1).padStart(2,"0"),ot=String(at.getDate()).padStart(2,"0");return`${Me}-${ut}-${ot}`}catch{return""}},fe=Ue=>{Y(Ue),ce({title:Ue.title,description:Ue.description||"",companyId:Ue.companyId||"",status:Ue.status,engagement:Ue.engagement||"",startDate:pe(Ue.startDate),endDate:pe(Ue.endDate)}),H(!1)},De=async()=>{if(te){if(!de.title.trim()){s("Project title is required");return}q(!0);try{const Ue={title:de.title.trim(),description:de.description.trim(),status:de.status,companyId:de.companyId&&de.companyId.trim()!==""?de.companyId:null};await HN(te.id,Ue);const at={...te,...Ue};o(Me=>Me.map(ut=>ut.id===te.id?at:ut)),Y(at),H(!1),n("Project updated successfully")}catch(Ue){s(Ue.message||"Failed to update project")}finally{q(!1)}}},Xe=async Ue=>{if(te){q(!0);try{await HN(te.id,{status:Ue});const at={...te,status:Ue};o(Me=>Me.map(ut=>ut.id===te.id?at:ut)),Y(at),ce(Me=>({...Me,status:Ue})),n(`Project status updated to ${Ue}`)}catch(at){s(at.message||"Failed to update project status")}finally{q(!1)}}},Je=async(Ue,at)=>{Le(Ue);try{const Me=at==="Done"?"Todo":"Done";await Id(Ue,{status:Me}),m(rt=>rt.map(lr=>lr.id===Ue?{...lr,status:Me}:lr));const ut=r?.id||JSON.parse(localStorage.getItem("user_data")||"{}").id,ot=await Ap(ut);m(ot.data||[]),n(Me==="Done"?"Task marked as done":"Task marked as todo")}catch(Me){s(Me.message||"Failed to update task status")}finally{Le(null)}},ht=i.filter(Ue=>{const at=Ue.archived===!0;return v==="archived"?at:!at});return a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-24 relative",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Project Workspace"}),a.jsxs("div",{className:"flex gap-4 mt-2",children:[a.jsx("button",{onClick:()=>{g("active"),I([])},className:`text-sm font-bold pb-1 transition-all ${v==="active"?"text-indigo-600 border-b-2 border-indigo-600":"text-slate-400"}`,children:"Active"}),a.jsxs("button",{onClick:()=>{g("archived"),I([])},className:`text-sm font-bold pb-1 transition-all ${v==="archived"?"text-indigo-600 border-b-2 border-indigo-600":"text-slate-400"}`,children:["Archived (",i.filter(Ue=>Ue.archived).length,")"]})]})]}),a.jsxs("button",{onClick:t,className:"px-4 py-2 bg-indigo-600 text-white rounded-xl text-sm font-bold flex items-center gap-2 hover:bg-indigo-700 shadow-lg shadow-indigo-100",children:[a.jsx(_n,{className:"w-4 h-4"})," Create Project"]})]}),!p&&ht.length>0&&a.jsxs("div",{className:"flex items-center gap-3 pb-2",children:[a.jsx("input",{type:"checkbox",className:"rounded border-slate-300 text-indigo-600 focus:ring-indigo-500 w-4 h-4",checked:ht.length>0&&T.length===ht.length,onChange:we}),a.jsx("span",{className:"text-sm font-semibold text-slate-600",children:"Select All Projects"})]}),p?a.jsx("div",{className:"flex items-center justify-center py-20",children:a.jsx(Et,{className:"w-10 h-10 animate-spin text-indigo-600"})}):ht.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-24 bg-white border border-dashed border-slate-300 rounded-[40px] text-center",children:[a.jsx($v,{className:"w-16 h-16 text-slate-200 mb-6"}),a.jsxs("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:["No ",v," projects found"]}),a.jsx("p",{className:"text-slate-500 text-sm max-w-xs",children:"Start a new logistics transformation project to see milestones and tracking."})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ht.map(Ue=>{const at=l.find(ot=>ot.id===Ue.companyId),Me=j(Ue.id),ut=T.includes(Ue.id);return a.jsxs("div",{onClick:ot=>{!Ue.archived&&!ut&&(ot.stopPropagation(),fe(Ue))},className:`bg-white rounded-3xl border ${ut?"border-indigo-400 bg-indigo-50/30":"border-slate-200"} overflow-hidden shadow-sm transition-all relative ${Ue.archived?"opacity-70 grayscale-[0.5]":"hover:border-indigo-300 hover:shadow-md cursor-pointer active:scale-[0.98] group"}`,children:[a.jsxs("div",{className:"absolute top-5 right-5 flex items-center gap-2",children:[a.jsx("button",{onClick:ot=>{ot.stopPropagation(),D(Ue)},className:"p-2 bg-slate-50 hover:bg-indigo-50 text-slate-400 hover:text-indigo-600 rounded-xl transition-all",title:v==="active"?"Archive":"Restore",children:v==="active"?a.jsx(Qu,{className:"w-4 h-4"}):a.jsx(zv,{className:"w-4 h-4"})}),a.jsx("button",{onClick:ot=>{ot.stopPropagation(),C(Ue)},className:"p-2 bg-slate-50 hover:bg-red-50 text-slate-400 hover:text-red-600 rounded-xl transition-all",children:a.jsx($r,{className:"w-4 h-4"})}),a.jsx("div",{onClick:ot=>ot.stopPropagation(),className:`p-1.5 rounded-xl transition-all ${ut?"bg-indigo-50":"bg-slate-50 hover:bg-indigo-50/50"}`,children:a.jsx("input",{type:"checkbox",className:"rounded border-slate-300 text-indigo-600 focus:ring-indigo-500 w-4 h-4 cursor-pointer",checked:ut,onChange:()=>I(ot=>ut?ot.filter(rt=>rt!==Ue.id):[...ot,Ue.id])})})]}),a.jsxs("div",{className:"p-7",children:[a.jsx("div",{className:"w-12 h-12 bg-indigo-50 rounded-2xl flex items-center justify-center text-indigo-600 mb-6 group-hover:scale-110 transition-transform",children:a.jsx(qf,{className:"w-6 h-6"})}),a.jsx("h3",{className:"font-bold text-lg text-slate-900 mb-1 group-hover:text-indigo-600 transition-colors truncate",children:Ue.title}),a.jsx("p",{className:"text-sm font-medium text-slate-400 mb-8 truncate",children:at?.name||"Standalone Project"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center text-[10px] font-black uppercase tracking-widest",children:[a.jsx("span",{className:"text-slate-400",children:"Implementation Progress"}),a.jsxs("span",{className:"text-indigo-600",children:[Me,"%"]})]}),a.jsx("div",{className:"w-full bg-slate-100 rounded-full h-2.5 overflow-hidden",children:a.jsx("div",{className:"bg-indigo-600 h-full transition-all duration-700",style:{width:`${Me}%`}})})]})]}),a.jsxs("div",{className:"bg-slate-50/50 px-7 py-4 border-t border-slate-100 flex justify-between items-center",children:[a.jsxs("span",{className:"text-[10px] font-black uppercase text-slate-600 tracking-wider flex items-center gap-2",children:[a.jsx(ws,{className:"w-3.5 h-3.5"})," ",Ue.status]}),!Ue.archived&&a.jsx(bs,{className:"w-4 h-4 text-slate-300 group-hover:text-indigo-600 group-hover:translate-x-1 transition-all"})]})]},Ue.id)})}),O&&a.jsx("div",{className:"fixed inset-0 z-[130] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-[32px] w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center bg-indigo-50 text-indigo-600",children:O.archived?a.jsx(zv,{className:"w-6 h-6"}):a.jsx(Qu,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-slate-900",children:O.archived?"Restore Project?":"Archive Project?"}),a.jsx("p",{className:"text-xs text-slate-400 font-medium mt-1",children:O.archived?"This will restore the project to active status.":"This will move the project to archive. You can restore it later."})]})]}),a.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-200",children:[a.jsx("p",{className:"text-sm font-bold text-slate-900 mb-1",children:O.title}),a.jsx("p",{className:"text-xs text-slate-500",children:l.find(Ue=>Ue.id===O.companyId)?.name||"Standalone Project"})]})]}),a.jsxs("div",{className:"p-6 flex gap-3",children:[a.jsx("button",{onClick:()=>D(null),disabled:P===O.id,className:"flex-1 py-3 border border-slate-200 text-slate-400 font-black uppercase text-xs tracking-widest rounded-xl hover:bg-slate-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),a.jsx("button",{onClick:()=>ae(O.id),disabled:P===O.id,className:"flex-1 py-3 bg-indigo-600 text-white font-black uppercase text-xs tracking-widest rounded-xl hover:bg-indigo-700 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:P===O.id?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),O.archived?"Restoring...":"Archiving..."]}):O.archived?"Restore Project":"Archive Project"})]})]})}),R&&a.jsx("div",{className:"fixed inset-0 z-[130] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-[32px] w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center bg-red-50 text-red-600",children:a.jsx($r,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-slate-900",children:"Delete Project?"}),a.jsx("p",{className:"text-xs text-slate-400 font-medium mt-1",children:"This action cannot be undone. The project and all its tasks will be permanently removed."})]})]}),a.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-200",children:[a.jsx("p",{className:"text-sm font-bold text-slate-900 mb-1",children:R.title}),a.jsx("p",{className:"text-xs text-slate-500",children:l.find(Ue=>Ue.id===R.companyId)?.name||"Standalone Project"})]})]}),a.jsxs("div",{className:"p-6 flex gap-3",children:[a.jsx("button",{onClick:()=>C(null),disabled:N===R.id,className:"flex-1 py-3 border border-slate-200 text-slate-400 font-black uppercase text-xs tracking-widest rounded-xl hover:bg-slate-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),a.jsx("button",{onClick:()=>ke(R.id),disabled:N===R.id,className:"flex-1 py-3 bg-red-600 text-white font-black uppercase text-xs tracking-widest rounded-xl hover:bg-red-700 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:N===R.id?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):"Delete Project"})]})]})}),T.length>0&&a.jsx("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-[100] animate-in slide-in-from-bottom-10 duration-300",children:a.jsxs("div",{className:"bg-slate-900 text-white rounded-3xl shadow-2xl px-8 py-4 flex items-center gap-8 border border-white/10 ring-4 ring-indigo-500/10",children:[a.jsxs("span",{className:"text-sm font-black flex items-center gap-3",children:[a.jsx("div",{className:"w-6 h-6 bg-indigo-500 rounded-full flex items-center justify-center text-[10px]",children:T.length}),"Selected"]}),a.jsx("div",{className:"h-8 w-px bg-white/10"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{onClick:Ue=>{Ue.stopPropagation(),Z(!0)},disabled:B,className:"px-5 py-2 bg-red-600 hover:bg-red-700 rounded-xl text-xs font-black uppercase tracking-widest transition-all flex items-center gap-2 disabled:opacity-50",children:[B?a.jsx(Et,{className:"w-3.5 h-3.5 animate-spin"}):a.jsx($r,{className:"w-3.5 h-3.5"}),"Delete"]}),a.jsx("button",{onClick:()=>I([]),className:"p-2 hover:bg-white/10 rounded-xl text-slate-400 transition-colors",children:a.jsx(mr,{className:"w-5 h-5"})})]})]})}),re&&T.length>0&&a.jsx("div",{className:"fixed inset-0 z-[130] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-[32px] w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center bg-red-50 text-red-600",children:a.jsx($r,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xl font-black text-slate-900",children:["Delete ",T.length," Project",T.length>1?"s":"","?"]}),a.jsx("p",{className:"text-xs text-slate-400 font-medium mt-1",children:"This action cannot be undone. The projects and all their tasks will be permanently removed."})]})]}),a.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-200 max-h-48 overflow-y-auto",children:[i.filter(Ue=>T.includes(Ue.id)).slice(0,5).map(Ue=>{const at=l.find(Me=>Me.id===Ue.companyId);return a.jsxs("div",{className:"flex items-center gap-3 mb-2 last:mb-0",children:[a.jsx(qf,{className:"w-4 h-4 text-indigo-500"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-xs font-bold text-slate-900",children:Ue.title}),a.jsx("p",{className:"text-[10px] text-slate-500",children:at?.name||"Standalone Project"})]})]},Ue.id)}),T.length>5&&a.jsxs("p",{className:"text-xs text-slate-400 font-medium mt-2 text-center",children:["+ ",T.length-5," more"]})]})]}),a.jsxs("div",{className:"p-6 flex gap-3",children:[a.jsx("button",{onClick:()=>Z(!1),disabled:B,className:"flex-1 py-3 border border-slate-200 text-slate-400 font-black uppercase text-xs tracking-widest rounded-xl hover:bg-slate-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),a.jsx("button",{onClick:Pe,disabled:B,className:"flex-1 py-3 bg-red-600 text-white font-black uppercase text-xs tracking-widest rounded-xl hover:bg-red-700 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:B?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):`Delete ${T.length} Project${T.length>1?"s":""}`})]})]})}),te&&a.jsxs("div",{className:"fixed inset-0 z-[110] overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md pointer-events-auto animate-in fade-in duration-300",onClick:()=>{!Q&&!E&&(Y(null),H(!1))}}),a.jsxs("div",{className:"absolute right-0 inset-y-0 w-full max-w-3xl bg-white shadow-2xl pointer-events-auto animate-in slide-in-from-right duration-500 flex flex-col",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 bg-slate-50/50 relative shrink-0",children:[a.jsx("button",{onClick:()=>{!Q&&!E&&(Y(null),H(!1))},className:"absolute top-6 right-6 p-2 hover:bg-white rounded-full text-slate-400 transition-all shadow-sm z-10",disabled:E,children:a.jsx(mr,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex items-center gap-5 mb-6 pr-12",children:[a.jsx("div",{className:"w-16 h-16 bg-indigo-600 rounded-[24px] flex items-center justify-center text-white shadow-xl shadow-indigo-100",children:a.jsx(qf,{className:"w-8 h-8"})}),a.jsxs("div",{className:"flex-1",children:[Q?a.jsxs("div",{children:[a.jsx("input",{type:"text",value:de.title,onChange:Ue=>ce(at=>({...at,title:Ue.target.value})),className:"w-full px-4 py-2 bg-white border-2 border-indigo-200 rounded-xl text-xl font-black text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100",placeholder:"Project name",required:!0}),a.jsxs("p",{className:"text-[9px] text-slate-400 mt-1 px-1",children:[a.jsx("span",{className:"text-red-500",children:"*"})," Required field"]})]}):a.jsx("h2",{className:"text-2xl font-black text-slate-900 tracking-tight leading-tight",children:te.title}),a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[a.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border ${te.status==="Planning"?"bg-blue-50 text-blue-600 border-blue-200":te.status==="Active"?"bg-emerald-50 text-emerald-600 border-emerald-200":te.status==="On Hold"?"bg-amber-50 text-amber-600 border-amber-200":"bg-slate-50 text-slate-600 border-slate-200"}`,children:te.status}),a.jsx("span",{className:"text-xs text-slate-400",children:l.find(Ue=>Ue.id===te.companyId)?.name||"Standalone Project"})]})]})]}),a.jsx("div",{className:"flex gap-3",children:Q?a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>{H(!1),ce({title:te.title,description:te.description||"",companyId:te.companyId||"",status:te.status,engagement:te.engagement||"",startDate:pe(te.startDate),endDate:pe(te.endDate)})},disabled:E,className:"px-4 py-2 border border-slate-200 text-slate-400 font-bold text-xs uppercase tracking-widest rounded-xl hover:bg-slate-50 transition-all disabled:opacity-50",children:"Cancel"}),a.jsx("button",{onClick:De,disabled:E||!de.title.trim()||!de.engagement.trim()||!de.startDate.trim()||!de.endDate.trim(),className:"px-4 py-2 bg-indigo-600 text-white font-bold text-xs uppercase tracking-widest rounded-xl hover:bg-indigo-700 transition-all shadow-lg flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:E?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(wi,{className:"w-4 h-4"}),"Save Changes"]})})]}):a.jsxs("button",{onClick:()=>H(!0),className:"px-4 py-2 bg-indigo-600 text-white font-bold text-xs uppercase tracking-widest rounded-xl hover:bg-indigo-700 transition-all shadow-lg flex items-center gap-2",children:[a.jsx(ec,{className:"w-4 h-4"}),"Edit Project"]})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-10 space-y-10 custom-scrollbar",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(vs,{className:"w-4 h-4 text-indigo-500"})," Project Details"]}),a.jsx("div",{className:"space-y-4",children:Q?a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1 mb-2 block",children:["Engagement ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:de.engagement,onChange:Ue=>ce(at=>({...at,engagement:Ue.target.value})),className:"w-full px-4 py-3 bg-slate-50 border-2 border-indigo-200 rounded-xl text-sm font-medium outline-none focus:ring-4 focus:ring-indigo-100",placeholder:"e.g., Consulting, Implementation, Support",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1 mb-2 block",children:["Start Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",value:de.startDate,onChange:Ue=>{if(ce(at=>({...at,startDate:Ue.target.value})),Ue.target.value&&de.endDate){const at=new Date(Ue.target.value),Me=new Date(de.endDate);!isNaN(at.getTime())&&!isNaN(Me.getTime())&&at>=Me}},className:"w-full px-4 py-3 bg-slate-50 border-2 border-indigo-200 rounded-xl text-sm font-medium outline-none focus:ring-4 focus:ring-indigo-100",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1 mb-2 block",children:["End Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",value:de.endDate,onChange:Ue=>{if(ce(at=>({...at,endDate:Ue.target.value})),de.startDate&&Ue.target.value){const at=new Date(de.startDate),Me=new Date(Ue.target.value);!isNaN(at.getTime())&&!isNaN(Me.getTime())&&at>=Me}},className:"w-full px-4 py-3 bg-slate-50 border-2 border-indigo-200 rounded-xl text-sm font-medium outline-none focus:ring-4 focus:ring-indigo-100",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1 mb-2 block",children:"Description"}),a.jsx("textarea",{value:de.description,onChange:Ue=>ce(at=>({...at,description:Ue.target.value})),rows:4,className:"w-full px-4 py-3 bg-slate-50 border-2 border-indigo-200 rounded-xl text-sm font-medium outline-none focus:ring-4 focus:ring-indigo-100 resize-none",placeholder:"Project description..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1 mb-2 block",children:"Company"}),a.jsxs("select",{value:de.companyId,onChange:Ue=>ce(at=>({...at,companyId:Ue.target.value})),className:"w-full px-4 py-3 bg-slate-50 border-2 border-indigo-200 rounded-xl text-sm font-bold outline-none focus:ring-4 focus:ring-indigo-100",children:[a.jsx("option",{value:"",children:"Standalone Project"}),l.map(Ue=>a.jsx("option",{value:Ue.id,children:Ue.name},Ue.id))]})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 bg-slate-50 border border-slate-200 rounded-xl",children:[a.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Name"}),a.jsx("p",{className:"text-sm font-bold text-slate-900",children:te.title})]}),a.jsxs("div",{className:"p-4 bg-slate-50 border border-slate-200 rounded-xl",children:[a.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Engagement"}),a.jsx("p",{className:"text-sm font-bold text-slate-900",children:te.engagement||""})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 bg-slate-50 border border-slate-200 rounded-xl",children:[a.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Start Date"}),a.jsx("p",{className:"text-sm font-bold text-slate-900",children:te.startDate?new Date(te.startDate).toLocaleDateString():""})]}),a.jsxs("div",{className:"p-4 bg-slate-50 border border-slate-200 rounded-xl",children:[a.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"End Date"}),a.jsx("p",{className:"text-sm font-bold text-slate-900",children:te.endDate?new Date(te.endDate).toLocaleDateString():""})]})]}),te.description&&a.jsx("div",{className:"p-6 bg-slate-50 border border-slate-200 rounded-2xl",children:a.jsx("p",{className:"text-sm text-slate-700 leading-relaxed",children:te.description})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 bg-slate-50 border border-slate-200 rounded-xl",children:[a.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Company"}),a.jsx("p",{className:"text-sm font-bold text-slate-900",children:l.find(Ue=>Ue.id===te.companyId)?.name||"Standalone Project"})]}),a.jsxs("div",{className:"p-4 bg-slate-50 border border-slate-200 rounded-xl",children:[a.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Progress"}),a.jsxs("p",{className:"text-sm font-bold text-slate-900",children:[j(te.id),"%"]})]})]}),te.noteImage&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Xa,{className:"w-4 h-4 text-indigo-500"})," Attached File"]}),te.noteImageMimeType?.includes("pdf")?a.jsx("div",{className:"p-5 bg-white border-2 border-slate-200 rounded-2xl hover:border-indigo-300 transition-all group",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-red-50 flex items-center justify-center text-red-600 shrink-0",children:a.jsx(Xa,{className:"w-6 h-6"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-bold text-slate-900 truncate",children:te.noteImageName||"Document.pdf"}),a.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:"PDF Document"})]}),a.jsxs("button",{onClick:()=>{const Ue=window.open();Ue&&Ue.document.write(`
                                        <html>
                                          <head>
                                            <title>${te.noteImageName||"Document.pdf"}</title>
                                            <style>
                                              body { margin: 0; padding: 0; }
                                              embed { width: 100vw; height: 100vh; }
                                            </style>
                                          </head>
                                          <body>
                                            <embed src="${te.noteImage}" type="application/pdf" width="100%" height="100%" />
                                          </body>
                                        </html>
                                      `)},className:"px-4 py-2 bg-indigo-600 text-white text-xs font-bold rounded-xl hover:bg-indigo-700 transition-all flex items-center gap-2 opacity-0 group-hover:opacity-100",children:[a.jsx(Ud,{className:"w-4 h-4"}),"View PDF"]})]})}):a.jsxs("div",{className:"relative group",children:[a.jsx("img",{src:te.noteImage,alt:te.noteImageName||"Attachment",className:"w-full max-h-80 object-contain rounded-2xl border-2 border-slate-200 cursor-pointer hover:border-indigo-300 transition-all",onClick:()=>{ne(te.noteImage||""),U(!0)}}),a.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/5 rounded-2xl transition-colors flex items-center justify-center opacity-0 group-hover:opacity-100 pointer-events-none",children:a.jsx("div",{className:"bg-white/90 backdrop-blur-sm px-4 py-2 rounded-xl shadow-lg",children:a.jsx(Ud,{className:"w-5 h-5 text-indigo-600"})})})]})]})]})})]}),!Q&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(ws,{className:"w-4 h-4 text-indigo-500"})," Change Status"]}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:["Planning","Active","On Hold","Completed"].map(Ue=>a.jsxs("button",{onClick:()=>Xe(Ue),disabled:E||te.status===Ue,className:`flex items-center gap-2 p-4 rounded-xl border text-[10px] font-black uppercase tracking-widest transition-all ${te.status===Ue?"bg-indigo-600 text-white border-indigo-600 shadow-lg":"bg-white text-slate-500 border-slate-200 hover:border-indigo-400 disabled:opacity-50 disabled:cursor-not-allowed"}`,children:[te.status===Ue?a.jsx(Cn,{className:"w-4 h-4"}):a.jsx(ad,{className:"w-4 h-4"}),Ue]},Ue))})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(PB,{className:"w-4 h-4 text-indigo-500"})," Related Tasks"]}),a.jsxs("button",{onClick:()=>{sessionStorage.setItem("selectedProjectId",te.id),e("tasks"),Y(null)},className:"text-xs font-bold text-indigo-600 hover:text-indigo-700 flex items-center gap-1",children:["View All Tasks",a.jsx(bs,{className:"w-3 h-3"})]})]}),(()=>{const Ue=h.filter(at=>at.projectId===te.id);return Ue.length===0?a.jsxs("div",{className:"p-8 bg-slate-50 border border-dashed border-slate-200 rounded-2xl text-center",children:[a.jsx($v,{className:"w-8 h-8 text-slate-300 mx-auto mb-2"}),a.jsx("p",{className:"text-xs text-slate-400 font-bold",children:"No tasks found for this project"})]}):a.jsx("div",{className:"space-y-2",children:Ue.map(at=>{const Me=u.find(ot=>ot.id===at.assigneeId),ut=he===at.id;return a.jsx("div",{className:"p-4 bg-white border border-slate-200 rounded-xl hover:border-indigo-300 hover:shadow-sm transition-all",children:a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("button",{onClick:ot=>{ot.stopPropagation(),ut||Je(at.id,at.status)},disabled:ut,className:"disabled:opacity-50 disabled:cursor-not-allowed",children:ut?a.jsx(Et,{className:"w-4 h-4 text-indigo-500 animate-spin"}):at.status==="Done"?a.jsx(Cn,{className:"w-4 h-4 text-emerald-500 hover:text-emerald-600 transition-colors"}):a.jsx(ad,{className:"w-4 h-4 text-slate-300 hover:text-indigo-500 transition-colors cursor-pointer"})}),a.jsx("p",{className:`text-sm font-bold ${at.status==="Done"?"line-through text-slate-400":"text-slate-900"}`,children:at.title})]}),at.description&&a.jsx("p",{className:"text-xs text-slate-500 line-clamp-1 ml-6",children:at.description}),a.jsxs("div",{className:"flex items-center gap-3 mt-2 ml-6",children:[a.jsx("span",{className:`px-2 py-0.5 rounded-full text-[9px] font-black uppercase ${at.priority==="High"?"bg-red-50 text-red-600":at.priority==="Medium"?"bg-amber-50 text-amber-600":"bg-slate-50 text-slate-600"}`,children:at.priority}),a.jsx("span",{className:"text-[9px] text-slate-400 font-bold uppercase",children:at.status}),at.dueDate&&a.jsxs("span",{className:"text-[9px] text-slate-400 font-bold flex items-center gap-1",children:[a.jsx(Ha,{className:"w-3 h-3"}),at.dueDate]})]})]}),Me&&a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("div",{className:"w-8 h-8 bg-indigo-50 rounded-lg flex items-center justify-center text-indigo-600 text-xs font-black",children:Me.name.charAt(0)})})]})},at.id)})})})()]}),a.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-200",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(qd,{className:"w-4 h-4 text-indigo-500"})," Email Activity Timeline"]})}),_e?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Et,{className:"w-6 h-6 animate-spin text-indigo-600"})}):se.length===0?a.jsxs("div",{className:"text-center py-20 bg-white border border-dashed border-slate-200 rounded-3xl",children:[a.jsx(li,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),a.jsx("p",{className:"text-sm font-bold text-slate-400",children:"No email activities yet"}),a.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Email activities will appear here when emails are linked to this project"})]}):a.jsx("div",{className:"relative border-l-2 border-slate-100 ml-4 pl-10 space-y-12",children:se.map((Ue,at)=>{const Me=new Date(Ue.createdAt),ot=new Date().getTime()-Me.getTime(),rt=Math.floor(ot/(1e3*60*60*24));let lr="";rt===0?lr="Today":rt===1?lr="Yesterday":rt<7?lr=`${rt} days ago`:rt<30?lr=`${Math.floor(rt/7)} week${Math.floor(rt/7)>1?"s":""} ago`:lr=`${Math.floor(rt/30)} month${Math.floor(rt/30)>1?"s":""} ago`;const er=Ue.activityType==="email_linked",xt=er?"border-indigo-600":"border-slate-200",Ht=er?"bg-indigo-600":"bg-slate-300",Ut=er?"text-indigo-600":"text-slate-400";return a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:`absolute -left-[51px] top-1.5 w-8 h-8 rounded-full bg-white border-2 ${xt} shadow-xl flex items-center justify-center`,children:er?a.jsx(li,{className:"w-4 h-4 text-indigo-600"}):a.jsx("div",{className:`w-2 h-2 rounded-full ${Ht}`})}),a.jsxs("p",{className:`text-[10px] font-black ${Ut} uppercase mb-1 tracking-widest`,children:[er?"Email Linked":Ue.activityType||"Activity","  ",lr]}),a.jsx("h4",{className:"text-sm font-black text-slate-900",children:Ue.title||"Email Activity"}),a.jsx("p",{className:"text-xs text-slate-500 mt-2 leading-relaxed max-w-sm",children:Ue.description||Ue.title}),Ue.emailId&&a.jsxs("button",{onClick:()=>{e("inbox"),setTimeout(()=>{window.location.hash=`email=${Ue.emailId}`},100)},className:"mt-3 text-xs text-indigo-600 hover:text-indigo-700 font-bold flex items-center gap-1.5",children:[a.jsx(vi,{className:"w-3 h-3"})," View Email"]})]},Ue.id||at)})})]})]}),a.jsx("div",{className:"p-8 border-t border-slate-100 bg-white flex gap-4 shrink-0",children:a.jsxs("button",{onClick:()=>{!Q&&!E&&(Y(null),H(!1))},className:"flex-1 py-4 bg-slate-900 text-white font-black uppercase text-xs tracking-[0.2em] rounded-[24px] hover:bg-indigo-700 active:scale-95 transition-all shadow-2xl flex items-center justify-center gap-3",disabled:E,children:[a.jsx(Cn,{className:"w-5 h-5"})," Close"]})})]})]}),V&&a.jsxs("div",{className:"fixed inset-0 z-[150] overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-slate-900/95 backdrop-blur-md animate-in fade-in duration-300",onClick:()=>U(!1)}),a.jsxs("div",{className:"absolute inset-0 flex items-center justify-center p-4",children:[a.jsx("button",{onClick:()=>U(!1),className:"absolute top-6 right-6 p-3 bg-white/10 hover:bg-white/20 rounded-full text-white transition-all z-10 backdrop-blur-sm",children:a.jsx(mr,{className:"w-6 h-6"})}),a.jsx("div",{className:"relative max-w-7xl max-h-[90vh] animate-in zoom-in-95 duration-300",children:a.jsx("img",{src:G,alt:"Full size",className:"max-w-full max-h-[90vh] object-contain rounded-2xl shadow-2xl",onClick:Ue=>Ue.stopPropagation()})})]})]})]})};var G1={};G1.version="0.18.5";var H7=1252,Use=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],D3={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},L3=function(e){Use.indexOf(e)!=-1&&(H7=D3[0]=e)};function qse(){L3(1252)}var Su=function(e){L3(e)};function F3(){Su(1200),qse()}function oI(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function $se(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function W7(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var Em=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?$se(e.slice(2)):t==254&&r==255?W7(e.slice(2)):t==65279?e.slice(1):e},cv=function(t){return String.fromCharCode(t)},lI=function(t){return String.fromCharCode(t)},Dx,Mf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Lx(e){for(var t="",r=0,n=0,s=0,i=0,o=0,l=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),i=r>>2,n=e.charCodeAt(u++),o=(r&3)<<4|n>>4,s=e.charCodeAt(u++),l=(n&15)<<2|s>>6,c=s&63,isNaN(n)?l=c=64:isNaN(s)&&(c=64),t+=Mf.charAt(i)+Mf.charAt(o)+Mf.charAt(l)+Mf.charAt(c);return t}function rc(e){var t="",r=0,n=0,s=0,i=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)i=Mf.indexOf(e.charAt(u++)),o=Mf.indexOf(e.charAt(u++)),r=i<<2|o>>4,t+=String.fromCharCode(r),l=Mf.indexOf(e.charAt(u++)),n=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=Mf.indexOf(e.charAt(u++)),s=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(s));return t}var En=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),sf=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function Gf(e){return En?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function cI(e){return En?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Jl=function(t){return En?sf(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Gy(e){if(typeof ArrayBuffer>"u")return Jl(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function s0(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function zse(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function M3(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return M3(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Ui=En?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:sf(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),s=0;for(t=0,r=0;t<e.length;r+=s,++t)if(s=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function Hse(e){for(var t=[],r=0,n=e.length+250,s=Gf(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)s[r++]=o;else if(o<2048)s[r++]=192|o>>6&31,s[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++i)&1023;s[r++]=240|o>>8&7,s[r++]=128|o>>2&63,s[r++]=128|l>>6&15|(o&3)<<4,s[r++]=128|l&63}else s[r++]=224|o>>12&15,s[r++]=128|o>>6&63,s[r++]=128|o&63;r>n&&(t.push(s.slice(0,r)),r=0,s=Gf(65535),n=65530)}return t.push(s.slice(0,r)),Ui(t)}var sl=/\u0000/g,Cm=/[\u0001-\u0006]/g;function Jh(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function _u(e,t){var r=""+e;return r.length>=t?r:Ds("0",t-r.length)+r}function R3(e,t){var r=""+e;return r.length>=t?r:Ds(" ",t-r.length)+r}function K1(e,t){var r=""+e;return r.length>=t?r:r+Ds(" ",t-r.length)}function Wse(e,t){var r=""+Math.round(e);return r.length>=t?r:Ds("0",t-r.length)+r}function Vse(e,t){var r=""+e;return r.length>=t?r:Ds("0",t-r.length)+r}var uI=Math.pow(2,32);function Dh(e,t){if(e>uI||e<-uI)return Wse(e,t);var r=Math.round(e);return Vse(r,t)}function X1(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var dI=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],VN=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Gse(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var an={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},fI={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Kse={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Y1(e,t,r){for(var n=e<0?-1:1,s=e*n,i=0,o=1,l=0,c=1,u=0,d=0,h=Math.floor(s);u<t&&(h=Math.floor(s),l=h*o+i,d=h*u+c,!(s-h<5e-8));)s=1/(s-h),i=o,o=l,c=u,u=d;if(d>t&&(u>t?(d=c,l=i):(d=u,l=o)),!r)return[0,n*l,d];var m=Math.floor(n*l/d);return[m,n*l-m*d,d]}function D0(e,t,r){if(e>2958465||e<0)return null;var n=e|0,s=Math.floor(86400*(e-n)),i=0,o=[],l={D:n,T:s,u:86400*(e-n)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++s==86400&&(l.T=s=0,++n,++l.D)),n===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),n<60&&(i=(i+6)%7),r&&(i=eie(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=s%60,s=Math.floor(s/60),l.M=s%60,s=Math.floor(s/60),l.H=s,l.q=i,l}var V7=new Date(1899,11,31,0,0,0),Xse=V7.getTime(),Yse=new Date(1900,2,1,0,0,0);function G7(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=Yse&&(r+=1440*60*1e3),(r-(Xse+(e.getTimezoneOffset()-V7.getTimezoneOffset())*6e4))/(1440*60*1e3)}function B3(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Jse(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Qse(e){var t=e<0?12:11,r=B3(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function Zse(e){var t=B3(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Fx(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=Qse(e):t===10?r=e.toFixed(10).substr(0,12):r=Zse(e),B3(Jse(r.toUpperCase()))}function Q0(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Fx(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Fc(14,G7(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function eie(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function tie(e,t,r,n){var s="",i=0,o=0,l=r.y,c,u=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return VN[r.m-1][1];case 5:return VN[r.m-1][0];default:return VN[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return dI[r.q][0];default:return dI[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?_u(r.S,t.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(s=_u(i,2+n),t==="ss"?s.substr(0,2):"."+s.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=l,u=1;break}var d=u>0?_u(c,u):"";return d}function Rf(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var K7=/%/g;function rie(e,t,r){var n=t.replace(K7,""),s=t.length-n.length;return Vd(e,n,r*Math.pow(10,2*s))+Ds("%",s)}function nie(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Vd(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function X7(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+X7(e,-t);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%s;if(i<0&&(i+=s),r=(t/Math.pow(10,i)).toPrecision(n+1+(s+i)%s),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,s)+"."+r.substr(2+s),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(s+i)%s)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var Y7=/# (\?+)( ?)\/( ?)(\d+)/;function aie(e,t,r){var n=parseInt(e[4],10),s=Math.round(t*n),i=Math.floor(s/n),o=s-i*n,l=n;return r+(i===0?"":""+i)+" "+(o===0?Ds(" ",e[1].length+1+e[4].length):R3(o,e[1].length)+e[2]+"/"+e[3]+_u(l,e[4].length))}function sie(e,t,r){return r+(t===0?"":""+t)+Ds(" ",e[1].length+2+e[4].length)}var J7=/^#*0*\.([0#]+)/,Q7=/\).*[0#]/,Z7=/\(###\) ###\\?-####/;function Zo(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function hI(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function pI(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function iie(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function oie(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function kc(e,t,r){if(e.charCodeAt(0)===40&&!t.match(Q7)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?kc("n",n,r):"("+kc("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return nie(e,t,r);if(t.indexOf("%")!==-1)return rie(e,t,r);if(t.indexOf("E")!==-1)return X7(t,r);if(t.charCodeAt(0)===36)return"$"+kc(e,t.substr(t.charAt(1)==" "?2:1),r);var s,i,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Dh(c,t.length);if(t.match(/^[#?]+$/))return s=Dh(r,0),s==="0"&&(s=""),s.length>t.length?s:Zo(t.substr(0,t.length-s.length))+s;if(i=t.match(Y7))return aie(i,c,u);if(t.match(/^#+0+$/))return u+Dh(c,t.length-t.indexOf("0"));if(i=t.match(J7))return s=hI(r,i[1].length).replace(/^([^\.]+)$/,"$1."+Zo(i[1])).replace(/\.$/,"."+Zo(i[1])).replace(/\.(\d*)$/,function(y,v){return"."+v+Ds("0",Zo(i[1]).length-v.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+hI(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+Rf(Dh(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+kc(e,t,-r):Rf(""+(Math.floor(r)+iie(r,i[1].length)))+"."+_u(pI(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return kc(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Jh(kc(e,t.replace(/[\\-]/g,""),r)),o=0,Jh(Jh(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<s.length?s.charAt(o++):y==="0"?"0":""}));if(t.match(Z7))return s=kc(e,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=Y1(c,Math.pow(10,o)-1,!1),s=""+u,d=Vd("n",i[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),s+=d+i[2]+"/"+i[3],d=K1(l[2],o),d.length<i[4].length&&(d=Zo(i[4].substr(i[4].length-d.length))+d),s+=d,s;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=Y1(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?R3(l[1],o)+i[2]+"/"+i[3]+K1(l[2],o):Ds(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return s=Dh(r,0),t.length<=s.length?s:Zo(t.substr(0,t.length-s.length))+s;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var h=t.indexOf(".")-o,m=t.length-s.length-h;return Zo(t.substr(0,h)+s+t.substr(t.length-m))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=pI(r,i[1].length),r<0?"-"+kc(e,t,-r):Rf(oie(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?_u(0,3-y.length):"")+y})+"."+_u(o,i[1].length);switch(t){case"###,##0.00":return kc(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=Rf(Dh(c,0));return p!=="0"?u+p:"";case"###,###.00":return kc(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return kc(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function lie(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Vd(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function cie(e,t,r){var n=t.replace(K7,""),s=t.length-n.length;return Vd(e,n,r*Math.pow(10,2*s))+Ds("%",s)}function eM(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+eM(e,-t);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%s;if(i<0&&(i+=s),r=(t/Math.pow(10,i)).toPrecision(n+1+(s+i)%s),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(s+i)%s)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Gu(e,t,r){if(e.charCodeAt(0)===40&&!t.match(Q7)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Gu("n",n,r):"("+Gu("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return lie(e,t,r);if(t.indexOf("%")!==-1)return cie(e,t,r);if(t.indexOf("E")!==-1)return eM(t,r);if(t.charCodeAt(0)===36)return"$"+Gu(e,t.substr(t.charAt(1)==" "?2:1),r);var s,i,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+_u(c,t.length);if(t.match(/^[#?]+$/))return s=""+r,r===0&&(s=""),s.length>t.length?s:Zo(t.substr(0,t.length-s.length))+s;if(i=t.match(Y7))return sie(i,c,u);if(t.match(/^#+0+$/))return u+_u(c,t.length-t.indexOf("0"));if(i=t.match(J7))return s=(""+r).replace(/^([^\.]+)$/,"$1."+Zo(i[1])).replace(/\.$/,"."+Zo(i[1])),s=s.replace(/\.(\d*)$/,function(y,v){return"."+v+Ds("0",Zo(i[1]).length-v.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+Rf(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Gu(e,t,-r):Rf(""+r)+"."+Ds("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Gu(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Jh(Gu(e,t.replace(/[\\-]/g,""),r)),o=0,Jh(Jh(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<s.length?s.charAt(o++):y==="0"?"0":""}));if(t.match(Z7))return s=Gu(e,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=Y1(c,Math.pow(10,o)-1,!1),s=""+u,d=Vd("n",i[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),s+=d+i[2]+"/"+i[3],d=K1(l[2],o),d.length<i[4].length&&(d=Zo(i[4].substr(i[4].length-d.length))+d),s+=d,s;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=Y1(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?R3(l[1],o)+i[2]+"/"+i[3]+K1(l[2],o):Ds(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return s=""+r,t.length<=s.length?s:Zo(t.substr(0,t.length-s.length))+s;if(i=t.match(/^([#0]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var h=t.indexOf(".")-o,m=t.length-s.length-h;return Zo(t.substr(0,h)+s+t.substr(t.length-m))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Gu(e,t,-r):Rf(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?_u(0,3-y.length):"")+y})+"."+_u(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=Rf(""+c);return p!=="0"?u+p:"";default:if(t.match(/\.[0#?]*$/))return Gu(e,t.slice(0,t.lastIndexOf(".")),r)+Zo(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Vd(e,t,r){return(r|0)===r?Gu(e,t,r):kc(e,t,r)}function uie(e){for(var t=[],r=!1,n=0,s=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(s,n-s),s=n+1}if(t[t.length]=e.substr(s),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var tM=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Hp(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":X1(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(tM))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function die(e,t,r,n){for(var s=[],i="",o=0,l="",c="t",u,d,h,m="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!X1(e,o))throw new Error("unrecognized character "+l+" in "+e);s[s.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(h=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(h);s[s.length]={t:"t",v:i},++o;break;case"\\":var p=e.charAt(++o),y=p==="("||p===")"?p:"t";s[s.length]={t:y,v:p},++o;break;case"_":s[s.length]={t:"t",v:" "},o+=2;break;case"@":s[s.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=D0(t,r,e.charAt(o+1)==="2"),u==null))return"";s[s.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=D0(t,r),u==null))return"";for(i=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)i+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=m),s[s.length]={t:l,v:i},c=l;break;case"A":case"a":case"":var v={t:l,v:l};if(u==null&&(u=D0(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(v.v=u.H>=12?"P":"A"),v.t="T",m="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(v.v=u.H>=12?"PM":"AM"),v.t="T",o+=5,m="h"):e.substr(o,5).toUpperCase()==="/"?(u!=null&&(v.v=u.H>=12?"":""),v.t="T",o+=5,m="h"):(v.t="t",++o),u==null&&v.t==="T")return"";s[s.length]=v,c=l;break;case"[":for(i=l;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(tM)){if(u==null&&(u=D0(t,r),u==null))return"";s[s.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",Hp(e)||(s[s.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=l;++o<e.length&&(l=e.charAt(o))==="0";)i+=l;s[s.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)i+=l;s[s.length]={t:"n",v:i};break;case"?":for(i=l;e.charAt(++o)===l;)i+=l;s[s.length]={t:l,v:i},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":s[s.length]={t:n===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);s[s.length]={t:"D",v:i};break;case" ":s[s.length]={t:l,v:l},++o;break;case"$":s[s.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);s[s.length]={t:"t",v:l},++o;break}var g=0,b=0,w;for(o=s.length-1,c="t";o>=0;--o)switch(s[o].t){case"h":case"H":s[o].t=m,c="h",g<1&&(g=1);break;case"s":(w=s[o].v.match(/\.0+$/))&&(b=Math.max(b,w[0].length-1)),g<3&&(g=3);case"d":case"y":case"M":case"e":c=s[o].t;break;case"m":c==="s"&&(s[o].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&s[o].v.match(/[Hh]/)&&(g=1),g<2&&s[o].v.match(/[Mm]/)&&(g=2),g<3&&s[o].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var j="",N;for(o=0;o<s.length;++o)switch(s[o].t){case"t":case"T":case" ":case"D":break;case"X":s[o].v="",s[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[o].v=tie(s[o].t.charCodeAt(0),s[o].v,u,b),s[o].t="t";break;case"n":case"?":for(N=o+1;s[N]!=null&&((l=s[N].t)==="?"||l==="D"||(l===" "||l==="t")&&s[N+1]!=null&&(s[N+1].t==="?"||s[N+1].t==="t"&&s[N+1].v==="/")||s[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(s[N].v==="/"||s[N].v===" "&&s[N+1]!=null&&s[N+1].t=="?"));)s[o].v+=s[N].v,s[N]={v:"",t:";"},++N;j+=s[o].v,o=N-1;break;case"G":s[o].t="t",s[o].v=Q0(t,r);break}var k="",P,A;if(j.length>0){j.charCodeAt(0)==40?(P=t<0&&j.charCodeAt(0)===45?-t:t,A=Vd("n",j,P)):(P=t<0&&n>1?-t:t,A=Vd("n",j,P),P<0&&s[0]&&s[0].t=="t"&&(A=A.substr(1),s[0].v="-"+s[0].v)),N=A.length-1;var O=s.length;for(o=0;o<s.length;++o)if(s[o]!=null&&s[o].t!="t"&&s[o].v.indexOf(".")>-1){O=o;break}var D=s.length;if(O===s.length&&A.indexOf("E")===-1){for(o=s.length-1;o>=0;--o)s[o]==null||"n?".indexOf(s[o].t)===-1||(N>=s[o].v.length-1?(N-=s[o].v.length,s[o].v=A.substr(N+1,s[o].v.length)):N<0?s[o].v="":(s[o].v=A.substr(0,N+1),N=-1),s[o].t="t",D=o);N>=0&&D<s.length&&(s[D].v=A.substr(0,N+1)+s[D].v)}else if(O!==s.length&&A.indexOf("E")===-1){for(N=A.indexOf(".")-1,o=O;o>=0;--o)if(!(s[o]==null||"n?".indexOf(s[o].t)===-1)){for(d=s[o].v.indexOf(".")>-1&&o===O?s[o].v.indexOf(".")-1:s[o].v.length-1,k=s[o].v.substr(d+1);d>=0;--d)N>=0&&(s[o].v.charAt(d)==="0"||s[o].v.charAt(d)==="#")&&(k=A.charAt(N--)+k);s[o].v=k,s[o].t="t",D=o}for(N>=0&&D<s.length&&(s[D].v=A.substr(0,N+1)+s[D].v),N=A.indexOf(".")+1,o=O;o<s.length;++o)if(!(s[o]==null||"n?(".indexOf(s[o].t)===-1&&o!==O)){for(d=s[o].v.indexOf(".")>-1&&o===O?s[o].v.indexOf(".")+1:0,k=s[o].v.substr(0,d);d<s[o].v.length;++d)N<A.length&&(k+=A.charAt(N++));s[o].v=k,s[o].t="t",D=o}}}for(o=0;o<s.length;++o)s[o]!=null&&"n?".indexOf(s[o].t)>-1&&(P=n>1&&t<0&&o>0&&s[o-1].v==="-"?-t:t,s[o].v=Vd(s[o].t,s[o].v,P),s[o].t="t");var R="";for(o=0;o!==s.length;++o)s[o]!=null&&(R+=s[o].v);return R}var mI=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function xI(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function fie(e,t){var r=uie(e),n=r.length,s=r[n-1].indexOf("@");if(n<4&&s>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||s>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=s>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=s>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=s>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(mI),l=r[1].match(mI);return xI(t,o)?[n,r[0]]:xI(t,l)?[n,r[1]]:[n,r[o!=null&&l!=null?2:1]]}return[n,i]}function Fc(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:an)[e],n==null&&(n=r.table&&r.table[fI[e]]||an[fI[e]]),n==null&&(n=Kse[e]||"General");break}if(X1(n,0))return Q0(t,r);t instanceof Date&&(t=G7(t,r.date1904));var s=fie(n,t);if(X1(s[1]))return Q0(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return die(s[1],t,r,s[0])}function Gd(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(an[r]==null){t<0&&(t=r);continue}if(an[r]==e){t=r;break}}t<0&&(t=391)}return an[t]=e,t}function Ky(e){for(var t=0;t!=392;++t)e[t]!==void 0&&Gd(e[t],t)}function Wp(){an=Gse()}var hie={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},rM=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function pie(e){var t=typeof e=="number"?an[e]:e;return t=t.replace(rM,"(\\d+)"),new RegExp("^"+t+"$")}function mie(e,t,r){var n=-1,s=-1,i=-1,o=-1,l=-1,c=-1;(t.match(rM)||[]).forEach(function(h,m){var p=parseInt(r[m+1],10);switch(h.toLowerCase().charAt(0)){case"y":n=p;break;case"d":i=p;break;case"h":o=p;break;case"s":c=p;break;case"m":o>=0?l=p:s=p;break}}),c>=0&&l==-1&&s>=0&&(l=s,s=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?u:n==-1&&s==-1&&i==-1?d:u+"T"+d}var xie=(function(){var e={};e.version="1.2.0";function t(){for(var A=0,O=new Array(256),D=0;D!=256;++D)A=D,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,O[D]=A;return typeof Int32Array<"u"?new Int32Array(O):O}var r=t();function n(A){var O=0,D=0,R=0,C=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(R=0;R!=256;++R)C[R]=A[R];for(R=0;R!=256;++R)for(D=A[R],O=256+R;O<4096;O+=256)D=C[O]=D>>>8^A[D&255];var T=[];for(R=1;R!=16;++R)T[R-1]=typeof Int32Array<"u"?C.subarray(R*256,R*256+256):C.slice(R*256,R*256+256);return T}var s=n(r),i=s[0],o=s[1],l=s[2],c=s[3],u=s[4],d=s[5],h=s[6],m=s[7],p=s[8],y=s[9],v=s[10],g=s[11],b=s[12],w=s[13],j=s[14];function N(A,O){for(var D=O^-1,R=0,C=A.length;R<C;)D=D>>>8^r[(D^A.charCodeAt(R++))&255];return~D}function k(A,O){for(var D=O^-1,R=A.length-15,C=0;C<R;)D=j[A[C++]^D&255]^w[A[C++]^D>>8&255]^b[A[C++]^D>>16&255]^g[A[C++]^D>>>24]^v[A[C++]]^y[A[C++]]^p[A[C++]]^m[A[C++]]^h[A[C++]]^d[A[C++]]^u[A[C++]]^c[A[C++]]^l[A[C++]]^o[A[C++]]^i[A[C++]]^r[A[C++]];for(R+=15;C<R;)D=D>>>8^r[(D^A[C++])&255];return~D}function P(A,O){for(var D=O^-1,R=0,C=A.length,T=0,I=0;R<C;)T=A.charCodeAt(R++),T<128?D=D>>>8^r[(D^T)&255]:T<2048?(D=D>>>8^r[(D^(192|T>>6&31))&255],D=D>>>8^r[(D^(128|T&63))&255]):T>=55296&&T<57344?(T=(T&1023)+64,I=A.charCodeAt(R++)&1023,D=D>>>8^r[(D^(240|T>>8&7))&255],D=D>>>8^r[(D^(128|T>>2&63))&255],D=D>>>8^r[(D^(128|I>>6&15|(T&3)<<4))&255],D=D>>>8^r[(D^(128|I&63))&255]):(D=D>>>8^r[(D^(224|T>>12&15))&255],D=D>>>8^r[(D^(128|T>>6&63))&255],D=D>>>8^r[(D^(128|T&63))&255]);return~D}return e.table=r,e.bstr=N,e.buf=k,e.str=P,e})(),Vr=(function(){var t={};t.version="1.2.1";function r(ee,me){for(var ge=ee.split("/"),Se=me.split("/"),Ee=0,Te=0,Ge=Math.min(ge.length,Se.length);Ee<Ge;++Ee){if(Te=ge[Ee].length-Se[Ee].length)return Te;if(ge[Ee]!=Se[Ee])return ge[Ee]<Se[Ee]?-1:1}return ge.length-Se.length}function n(ee){if(ee.charAt(ee.length-1)=="/")return ee.slice(0,-1).indexOf("/")===-1?ee:n(ee.slice(0,-1));var me=ee.lastIndexOf("/");return me===-1?ee:ee.slice(0,me+1)}function s(ee){if(ee.charAt(ee.length-1)=="/")return s(ee.slice(0,-1));var me=ee.lastIndexOf("/");return me===-1?ee:ee.slice(me+1)}function i(ee,me){typeof me=="string"&&(me=new Date(me));var ge=me.getHours();ge=ge<<6|me.getMinutes(),ge=ge<<5|me.getSeconds()>>>1,ee.write_shift(2,ge);var Se=me.getFullYear()-1980;Se=Se<<4|me.getMonth()+1,Se=Se<<5|me.getDate(),ee.write_shift(2,Se)}function o(ee){var me=ee.read_shift(2)&65535,ge=ee.read_shift(2)&65535,Se=new Date,Ee=ge&31;ge>>>=5;var Te=ge&15;ge>>>=4,Se.setMilliseconds(0),Se.setFullYear(ge+1980),Se.setMonth(Te-1),Se.setDate(Ee);var Ge=me&31;me>>>=5;var dt=me&63;return me>>>=6,Se.setHours(me),Se.setMinutes(dt),Se.setSeconds(Ge<<1),Se}function l(ee){so(ee,0);for(var me={},ge=0;ee.l<=ee.length-4;){var Se=ee.read_shift(2),Ee=ee.read_shift(2),Te=ee.l+Ee,Ge={};Se===21589&&(ge=ee.read_shift(1),ge&1&&(Ge.mtime=ee.read_shift(4)),Ee>5&&(ge&2&&(Ge.atime=ee.read_shift(4)),ge&4&&(Ge.ctime=ee.read_shift(4))),Ge.mtime&&(Ge.mt=new Date(Ge.mtime*1e3))),ee.l=Te,me[Se]=Ge}return me}var c;function u(){return c||(c={})}function d(ee,me){if(ee[0]==80&&ee[1]==75)return zt(ee,me);if((ee[0]|32)==109&&(ee[1]|32)==105)return Ln(ee,me);if(ee.length<512)throw new Error("CFB file size "+ee.length+" < 512");var ge=3,Se=512,Ee=0,Te=0,Ge=0,dt=0,Ve=0,Qe=[],ze=ee.slice(0,512);so(ze,0);var Ie=h(ze);switch(ge=Ie[0],ge){case 3:Se=512;break;case 4:Se=4096;break;case 0:if(Ie[1]==0)return zt(ee,me);default:throw new Error("Major Version: Expected 3 or 4 saw "+ge)}Se!==512&&(ze=ee.slice(0,Se),so(ze,28));var et=ee.slice(0,Se);m(ze,ge);var gt=ze.read_shift(4,"i");if(ge===3&&gt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+gt);ze.l+=4,Ge=ze.read_shift(4,"i"),ze.l+=4,ze.chk("00100000","Mini Stream Cutoff Size: "),dt=ze.read_shift(4,"i"),Ee=ze.read_shift(4,"i"),Ve=ze.read_shift(4,"i"),Te=ze.read_shift(4,"i");for(var Lt=-1,Bt=0;Bt<109&&(Lt=ze.read_shift(4,"i"),!(Lt<0));++Bt)Qe[Bt]=Lt;var br=p(ee,Se);g(Ve,Te,br,Se,Qe);var Dr=w(br,Ge,Qe,Se);Dr[Ge].name="!Directory",Ee>0&&dt!==I&&(Dr[dt].name="!MiniFAT"),Dr[Qe[0]].name="!FAT",Dr.fat_addrs=Qe,Dr.ssz=Se;var Qr={},Nn=[],ds=[],qn=[];j(Ge,Dr,br,Nn,Ee,Qr,ds,dt),y(ds,qn,Nn),Nn.shift();var ss={FileIndex:ds,FullPaths:qn};return me&&me.raw&&(ss.raw={header:et,sectors:br}),ss}function h(ee){if(ee[ee.l]==80&&ee[ee.l+1]==75)return[0,0];ee.chk(B,"Header Signature: "),ee.l+=16;var me=ee.read_shift(2,"u");return[ee.read_shift(2,"u"),me]}function m(ee,me){var ge=9;switch(ee.l+=2,ge=ee.read_shift(2)){case 9:if(me!=3)throw new Error("Sector Shift: Expected 9 saw "+ge);break;case 12:if(me!=4)throw new Error("Sector Shift: Expected 12 saw "+ge);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ge)}ee.chk("0600","Mini Sector Shift: "),ee.chk("000000000000","Reserved: ")}function p(ee,me){for(var ge=Math.ceil(ee.length/me)-1,Se=[],Ee=1;Ee<ge;++Ee)Se[Ee-1]=ee.slice(Ee*me,(Ee+1)*me);return Se[ge-1]=ee.slice(ge*me),Se}function y(ee,me,ge){for(var Se=0,Ee=0,Te=0,Ge=0,dt=0,Ve=ge.length,Qe=[],ze=[];Se<Ve;++Se)Qe[Se]=ze[Se]=Se,me[Se]=ge[Se];for(;dt<ze.length;++dt)Se=ze[dt],Ee=ee[Se].L,Te=ee[Se].R,Ge=ee[Se].C,Qe[Se]===Se&&(Ee!==-1&&Qe[Ee]!==Ee&&(Qe[Se]=Qe[Ee]),Te!==-1&&Qe[Te]!==Te&&(Qe[Se]=Qe[Te])),Ge!==-1&&(Qe[Ge]=Se),Ee!==-1&&Se!=Qe[Se]&&(Qe[Ee]=Qe[Se],ze.lastIndexOf(Ee)<dt&&ze.push(Ee)),Te!==-1&&Se!=Qe[Se]&&(Qe[Te]=Qe[Se],ze.lastIndexOf(Te)<dt&&ze.push(Te));for(Se=1;Se<Ve;++Se)Qe[Se]===Se&&(Te!==-1&&Qe[Te]!==Te?Qe[Se]=Qe[Te]:Ee!==-1&&Qe[Ee]!==Ee&&(Qe[Se]=Qe[Ee]));for(Se=1;Se<Ve;++Se)if(ee[Se].type!==0){if(dt=Se,dt!=Qe[dt])do dt=Qe[dt],me[Se]=me[dt]+"/"+me[Se];while(dt!==0&&Qe[dt]!==-1&&dt!=Qe[dt]);Qe[Se]=-1}for(me[0]+="/",Se=1;Se<Ve;++Se)ee[Se].type!==2&&(me[Se]+="/")}function v(ee,me,ge){for(var Se=ee.start,Ee=ee.size,Te=[],Ge=Se;ge&&Ee>0&&Ge>=0;)Te.push(me.slice(Ge*T,Ge*T+T)),Ee-=T,Ge=_0(ge,Ge*4);return Te.length===0?Mt(0):Ui(Te).slice(0,ee.size)}function g(ee,me,ge,Se,Ee){var Te=I;if(ee===I){if(me!==0)throw new Error("DIFAT chain shorter than expected")}else if(ee!==-1){var Ge=ge[ee],dt=(Se>>>2)-1;if(!Ge)return;for(var Ve=0;Ve<dt&&(Te=_0(Ge,Ve*4))!==I;++Ve)Ee.push(Te);g(_0(Ge,Se-4),me-1,ge,Se,Ee)}}function b(ee,me,ge,Se,Ee){var Te=[],Ge=[];Ee||(Ee=[]);var dt=Se-1,Ve=0,Qe=0;for(Ve=me;Ve>=0;){Ee[Ve]=!0,Te[Te.length]=Ve,Ge.push(ee[Ve]);var ze=ge[Math.floor(Ve*4/Se)];if(Qe=Ve*4&dt,Se<4+Qe)throw new Error("FAT boundary crossed: "+Ve+" 4 "+Se);if(!ee[ze])break;Ve=_0(ee[ze],Qe)}return{nodes:Te,data:EI([Ge])}}function w(ee,me,ge,Se){var Ee=ee.length,Te=[],Ge=[],dt=[],Ve=[],Qe=Se-1,ze=0,Ie=0,et=0,gt=0;for(ze=0;ze<Ee;++ze)if(dt=[],et=ze+me,et>=Ee&&(et-=Ee),!Ge[et]){Ve=[];var Lt=[];for(Ie=et;Ie>=0;){Lt[Ie]=!0,Ge[Ie]=!0,dt[dt.length]=Ie,Ve.push(ee[Ie]);var Bt=ge[Math.floor(Ie*4/Se)];if(gt=Ie*4&Qe,Se<4+gt)throw new Error("FAT boundary crossed: "+Ie+" 4 "+Se);if(!ee[Bt]||(Ie=_0(ee[Bt],gt),Lt[Ie]))break}Te[et]={nodes:dt,data:EI([Ve])}}return Te}function j(ee,me,ge,Se,Ee,Te,Ge,dt){for(var Ve=0,Qe=Se.length?2:0,ze=me[ee].data,Ie=0,et=0,gt;Ie<ze.length;Ie+=128){var Lt=ze.slice(Ie,Ie+128);so(Lt,64),et=Lt.read_shift(2),gt=V3(Lt,0,et-Qe),Se.push(gt);var Bt={name:gt,type:Lt.read_shift(1),color:Lt.read_shift(1),L:Lt.read_shift(4,"i"),R:Lt.read_shift(4,"i"),C:Lt.read_shift(4,"i"),clsid:Lt.read_shift(16),state:Lt.read_shift(4,"i"),start:0,size:0},br=Lt.read_shift(2)+Lt.read_shift(2)+Lt.read_shift(2)+Lt.read_shift(2);br!==0&&(Bt.ct=N(Lt,Lt.l-8));var Dr=Lt.read_shift(2)+Lt.read_shift(2)+Lt.read_shift(2)+Lt.read_shift(2);Dr!==0&&(Bt.mt=N(Lt,Lt.l-8)),Bt.start=Lt.read_shift(4,"i"),Bt.size=Lt.read_shift(4,"i"),Bt.size<0&&Bt.start<0&&(Bt.size=Bt.type=0,Bt.start=I,Bt.name=""),Bt.type===5?(Ve=Bt.start,Ee>0&&Ve!==I&&(me[Ve].name="!StreamData")):Bt.size>=4096?(Bt.storage="fat",me[Bt.start]===void 0&&(me[Bt.start]=b(ge,Bt.start,me.fat_addrs,me.ssz)),me[Bt.start].name=Bt.name,Bt.content=me[Bt.start].data.slice(0,Bt.size)):(Bt.storage="minifat",Bt.size<0?Bt.size=0:Ve!==I&&Bt.start!==I&&me[Ve]&&(Bt.content=v(Bt,me[Ve].data,(me[dt]||{}).data))),Bt.content&&so(Bt.content,0),Te[gt]=Bt,Ge.push(Bt)}}function N(ee,me){return new Date((Xl(ee,me+4)/1e7*Math.pow(2,32)+Xl(ee,me)/1e7-11644473600)*1e3)}function k(ee,me){return u(),d(c.readFileSync(ee),me)}function P(ee,me){var ge=me&&me.type;switch(ge||En&&Buffer.isBuffer(ee)&&(ge="buffer"),ge||"base64"){case"file":return k(ee,me);case"base64":return d(Jl(rc(ee)),me);case"binary":return d(Jl(ee),me)}return d(ee,me)}function A(ee,me){var ge=me||{},Se=ge.root||"Root Entry";if(ee.FullPaths||(ee.FullPaths=[]),ee.FileIndex||(ee.FileIndex=[]),ee.FullPaths.length!==ee.FileIndex.length)throw new Error("inconsistent CFB structure");ee.FullPaths.length===0&&(ee.FullPaths[0]=Se+"/",ee.FileIndex[0]={name:Se,type:5}),ge.CLSID&&(ee.FileIndex[0].clsid=ge.CLSID),O(ee)}function O(ee){var me="Sh33tJ5";if(!Vr.find(ee,"/"+me)){var ge=Mt(4);ge[0]=55,ge[1]=ge[3]=50,ge[2]=54,ee.FileIndex.push({name:me,type:2,content:ge,size:4,L:69,R:69,C:69}),ee.FullPaths.push(ee.FullPaths[0]+me),D(ee)}}function D(ee,me){A(ee);for(var ge=!1,Se=!1,Ee=ee.FullPaths.length-1;Ee>=0;--Ee){var Te=ee.FileIndex[Ee];switch(Te.type){case 0:Se?ge=!0:(ee.FileIndex.pop(),ee.FullPaths.pop());break;case 1:case 2:case 5:Se=!0,isNaN(Te.R*Te.L*Te.C)&&(ge=!0),Te.R>-1&&Te.L>-1&&Te.R==Te.L&&(ge=!0);break;default:ge=!0;break}}if(!(!ge&&!me)){var Ge=new Date(1987,1,19),dt=0,Ve=Object.create?Object.create(null):{},Qe=[];for(Ee=0;Ee<ee.FullPaths.length;++Ee)Ve[ee.FullPaths[Ee]]=!0,ee.FileIndex[Ee].type!==0&&Qe.push([ee.FullPaths[Ee],ee.FileIndex[Ee]]);for(Ee=0;Ee<Qe.length;++Ee){var ze=n(Qe[Ee][0]);Se=Ve[ze],Se||(Qe.push([ze,{name:s(ze).replace("/",""),type:1,clsid:re,ct:Ge,mt:Ge,content:null}]),Ve[ze]=!0)}for(Qe.sort(function(gt,Lt){return r(gt[0],Lt[0])}),ee.FullPaths=[],ee.FileIndex=[],Ee=0;Ee<Qe.length;++Ee)ee.FullPaths[Ee]=Qe[Ee][0],ee.FileIndex[Ee]=Qe[Ee][1];for(Ee=0;Ee<Qe.length;++Ee){var Ie=ee.FileIndex[Ee],et=ee.FullPaths[Ee];if(Ie.name=s(et).replace("/",""),Ie.L=Ie.R=Ie.C=-(Ie.color=1),Ie.size=Ie.content?Ie.content.length:0,Ie.start=0,Ie.clsid=Ie.clsid||re,Ee===0)Ie.C=Qe.length>1?1:-1,Ie.size=0,Ie.type=5;else if(et.slice(-1)=="/"){for(dt=Ee+1;dt<Qe.length&&n(ee.FullPaths[dt])!=et;++dt);for(Ie.C=dt>=Qe.length?-1:dt,dt=Ee+1;dt<Qe.length&&n(ee.FullPaths[dt])!=n(et);++dt);Ie.R=dt>=Qe.length?-1:dt,Ie.type=1}else n(ee.FullPaths[Ee+1]||"")==n(et)&&(Ie.R=Ee+1),Ie.type=2}}}function R(ee,me){var ge=me||{};if(ge.fileType=="mad")return vr(ee,ge);if(D(ee),ge.fileType==="zip")return Tr(ee,ge);var Se=(function(gt){for(var Lt=0,Bt=0,br=0;br<gt.FileIndex.length;++br){var Dr=gt.FileIndex[br];if(Dr.content){var Qr=Dr.content.length;Qr>0&&(Qr<4096?Lt+=Qr+63>>6:Bt+=Qr+511>>9)}}for(var Nn=gt.FullPaths.length+3>>2,ds=Lt+7>>3,qn=Lt+127>>7,ss=ds+Bt+Nn+qn,$n=ss+127>>7,fs=$n<=109?0:Math.ceil(($n-109)/127);ss+$n+fs+127>>7>$n;)fs=++$n<=109?0:Math.ceil(($n-109)/127);var jn=[1,fs,$n,qn,Nn,Bt,Lt,0];return gt.FileIndex[0].size=Lt<<6,jn[7]=(gt.FileIndex[0].start=jn[0]+jn[1]+jn[2]+jn[3]+jn[4]+jn[5])+(jn[6]+7>>3),jn})(ee),Ee=Mt(Se[7]<<9),Te=0,Ge=0;{for(Te=0;Te<8;++Te)Ee.write_shift(1,X[Te]);for(Te=0;Te<8;++Te)Ee.write_shift(2,0);for(Ee.write_shift(2,62),Ee.write_shift(2,3),Ee.write_shift(2,65534),Ee.write_shift(2,9),Ee.write_shift(2,6),Te=0;Te<3;++Te)Ee.write_shift(2,0);for(Ee.write_shift(4,0),Ee.write_shift(4,Se[2]),Ee.write_shift(4,Se[0]+Se[1]+Se[2]+Se[3]-1),Ee.write_shift(4,0),Ee.write_shift(4,4096),Ee.write_shift(4,Se[3]?Se[0]+Se[1]+Se[2]-1:I),Ee.write_shift(4,Se[3]),Ee.write_shift(-4,Se[1]?Se[0]-1:I),Ee.write_shift(4,Se[1]),Te=0;Te<109;++Te)Ee.write_shift(-4,Te<Se[2]?Se[1]+Te:-1)}if(Se[1])for(Ge=0;Ge<Se[1];++Ge){for(;Te<236+Ge*127;++Te)Ee.write_shift(-4,Te<Se[2]?Se[1]+Te:-1);Ee.write_shift(-4,Ge===Se[1]-1?I:Ge+1)}var dt=function(gt){for(Ge+=gt;Te<Ge-1;++Te)Ee.write_shift(-4,Te+1);gt&&(++Te,Ee.write_shift(-4,I))};for(Ge=Te=0,Ge+=Se[1];Te<Ge;++Te)Ee.write_shift(-4,Z.DIFSECT);for(Ge+=Se[2];Te<Ge;++Te)Ee.write_shift(-4,Z.FATSECT);dt(Se[3]),dt(Se[4]);for(var Ve=0,Qe=0,ze=ee.FileIndex[0];Ve<ee.FileIndex.length;++Ve)ze=ee.FileIndex[Ve],ze.content&&(Qe=ze.content.length,!(Qe<4096)&&(ze.start=Ge,dt(Qe+511>>9)));for(dt(Se[6]+7>>3);Ee.l&511;)Ee.write_shift(-4,Z.ENDOFCHAIN);for(Ge=Te=0,Ve=0;Ve<ee.FileIndex.length;++Ve)ze=ee.FileIndex[Ve],ze.content&&(Qe=ze.content.length,!(!Qe||Qe>=4096)&&(ze.start=Ge,dt(Qe+63>>6)));for(;Ee.l&511;)Ee.write_shift(-4,Z.ENDOFCHAIN);for(Te=0;Te<Se[4]<<2;++Te){var Ie=ee.FullPaths[Te];if(!Ie||Ie.length===0){for(Ve=0;Ve<17;++Ve)Ee.write_shift(4,0);for(Ve=0;Ve<3;++Ve)Ee.write_shift(4,-1);for(Ve=0;Ve<12;++Ve)Ee.write_shift(4,0);continue}ze=ee.FileIndex[Te],Te===0&&(ze.start=ze.size?ze.start-1:I);var et=Te===0&&ge.root||ze.name;if(Qe=2*(et.length+1),Ee.write_shift(64,et,"utf16le"),Ee.write_shift(2,Qe),Ee.write_shift(1,ze.type),Ee.write_shift(1,ze.color),Ee.write_shift(-4,ze.L),Ee.write_shift(-4,ze.R),Ee.write_shift(-4,ze.C),ze.clsid)Ee.write_shift(16,ze.clsid,"hex");else for(Ve=0;Ve<4;++Ve)Ee.write_shift(4,0);Ee.write_shift(4,ze.state||0),Ee.write_shift(4,0),Ee.write_shift(4,0),Ee.write_shift(4,0),Ee.write_shift(4,0),Ee.write_shift(4,ze.start),Ee.write_shift(4,ze.size),Ee.write_shift(4,0)}for(Te=1;Te<ee.FileIndex.length;++Te)if(ze=ee.FileIndex[Te],ze.size>=4096)if(Ee.l=ze.start+1<<9,En&&Buffer.isBuffer(ze.content))ze.content.copy(Ee,Ee.l,0,ze.size),Ee.l+=ze.size+511&-512;else{for(Ve=0;Ve<ze.size;++Ve)Ee.write_shift(1,ze.content[Ve]);for(;Ve&511;++Ve)Ee.write_shift(1,0)}for(Te=1;Te<ee.FileIndex.length;++Te)if(ze=ee.FileIndex[Te],ze.size>0&&ze.size<4096)if(En&&Buffer.isBuffer(ze.content))ze.content.copy(Ee,Ee.l,0,ze.size),Ee.l+=ze.size+63&-64;else{for(Ve=0;Ve<ze.size;++Ve)Ee.write_shift(1,ze.content[Ve]);for(;Ve&63;++Ve)Ee.write_shift(1,0)}if(En)Ee.l=Ee.length;else for(;Ee.l<Ee.length;)Ee.write_shift(1,0);return Ee}function C(ee,me){var ge=ee.FullPaths.map(function(Ve){return Ve.toUpperCase()}),Se=ge.map(function(Ve){var Qe=Ve.split("/");return Qe[Qe.length-(Ve.slice(-1)=="/"?2:1)]}),Ee=!1;me.charCodeAt(0)===47?(Ee=!0,me=ge[0].slice(0,-1)+me):Ee=me.indexOf("/")!==-1;var Te=me.toUpperCase(),Ge=Ee===!0?ge.indexOf(Te):Se.indexOf(Te);if(Ge!==-1)return ee.FileIndex[Ge];var dt=!Te.match(Cm);for(Te=Te.replace(sl,""),dt&&(Te=Te.replace(Cm,"!")),Ge=0;Ge<ge.length;++Ge)if((dt?ge[Ge].replace(Cm,"!"):ge[Ge]).replace(sl,"")==Te||(dt?Se[Ge].replace(Cm,"!"):Se[Ge]).replace(sl,"")==Te)return ee.FileIndex[Ge];return null}var T=64,I=-2,B="d0cf11e0a1b11ae1",X=[208,207,17,224,161,177,26,225],re="00000000000000000000000000000000",Z={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:I,FREESECT:-1,HEADER_SIGNATURE:B,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:re,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function te(ee,me,ge){u();var Se=R(ee,ge);c.writeFileSync(me,Se)}function Y(ee){for(var me=new Array(ee.length),ge=0;ge<ee.length;++ge)me[ge]=String.fromCharCode(ee[ge]);return me.join("")}function Q(ee,me){var ge=R(ee,me);switch(me&&me.type||"buffer"){case"file":return u(),c.writeFileSync(me.filename,ge),ge;case"binary":return typeof ge=="string"?ge:Y(ge);case"base64":return Lx(typeof ge=="string"?ge:Y(ge));case"buffer":if(En)return Buffer.isBuffer(ge)?ge:sf(ge);case"array":return typeof ge=="string"?Jl(ge):ge}return ge}var H;function E(ee){try{var me=ee.InflateRaw,ge=new me;if(ge._processChunk(new Uint8Array([3,0]),ge._finishFlushFlag),ge.bytesRead)H=ee;else throw new Error("zlib does not expose bytesRead")}catch(Se){console.error("cannot use native zlib: "+(Se.message||Se))}}function q(ee,me){if(!H)return jt(ee,me);var ge=H.InflateRaw,Se=new ge,Ee=Se._processChunk(ee.slice(ee.l),Se._finishFlushFlag);return ee.l+=Se.bytesRead,Ee}function V(ee){return H?H.deflateRawSync(ee):ot(ee)}var U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],G=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ne=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function de(ee){var me=(ee<<1|ee<<11)&139536|(ee<<5|ee<<15)&558144;return(me>>16|me>>8|me)&255}for(var ce=typeof Uint8Array<"u",he=ce?new Uint8Array(256):[],Le=0;Le<256;++Le)he[Le]=de(Le);function se(ee,me){var ge=he[ee&255];return me<=8?ge>>>8-me:(ge=ge<<8|he[ee>>8&255],me<=16?ge>>>16-me:(ge=ge<<8|he[ee>>16&255],ge>>>24-me))}function Fe(ee,me){var ge=me&7,Se=me>>>3;return(ee[Se]|(ge<=6?0:ee[Se+1]<<8))>>>ge&3}function _e(ee,me){var ge=me&7,Se=me>>>3;return(ee[Se]|(ge<=5?0:ee[Se+1]<<8))>>>ge&7}function oe(ee,me){var ge=me&7,Se=me>>>3;return(ee[Se]|(ge<=4?0:ee[Se+1]<<8))>>>ge&15}function ae(ee,me){var ge=me&7,Se=me>>>3;return(ee[Se]|(ge<=3?0:ee[Se+1]<<8))>>>ge&31}function ke(ee,me){var ge=me&7,Se=me>>>3;return(ee[Se]|(ge<=1?0:ee[Se+1]<<8))>>>ge&127}function we(ee,me,ge){var Se=me&7,Ee=me>>>3,Te=(1<<ge)-1,Ge=ee[Ee]>>>Se;return ge<8-Se||(Ge|=ee[Ee+1]<<8-Se,ge<16-Se)||(Ge|=ee[Ee+2]<<16-Se,ge<24-Se)||(Ge|=ee[Ee+3]<<24-Se),Ge&Te}function Pe(ee,me,ge){var Se=me&7,Ee=me>>>3;return Se<=5?ee[Ee]|=(ge&7)<<Se:(ee[Ee]|=ge<<Se&255,ee[Ee+1]=(ge&7)>>8-Se),me+3}function pe(ee,me,ge){var Se=me&7,Ee=me>>>3;return ge=(ge&1)<<Se,ee[Ee]|=ge,me+1}function fe(ee,me,ge){var Se=me&7,Ee=me>>>3;return ge<<=Se,ee[Ee]|=ge&255,ge>>>=8,ee[Ee+1]=ge,me+8}function De(ee,me,ge){var Se=me&7,Ee=me>>>3;return ge<<=Se,ee[Ee]|=ge&255,ge>>>=8,ee[Ee+1]=ge&255,ee[Ee+2]=ge>>>8,me+16}function Xe(ee,me){var ge=ee.length,Se=2*ge>me?2*ge:me+5,Ee=0;if(ge>=me)return ee;if(En){var Te=cI(Se);if(ee.copy)ee.copy(Te);else for(;Ee<ee.length;++Ee)Te[Ee]=ee[Ee];return Te}else if(ce){var Ge=new Uint8Array(Se);if(Ge.set)Ge.set(ee);else for(;Ee<ge;++Ee)Ge[Ee]=ee[Ee];return Ge}return ee.length=Se,ee}function Je(ee){for(var me=new Array(ee),ge=0;ge<ee;++ge)me[ge]=0;return me}function ht(ee,me,ge){var Se=1,Ee=0,Te=0,Ge=0,dt=0,Ve=ee.length,Qe=ce?new Uint16Array(32):Je(32);for(Te=0;Te<32;++Te)Qe[Te]=0;for(Te=Ve;Te<ge;++Te)ee[Te]=0;Ve=ee.length;var ze=ce?new Uint16Array(Ve):Je(Ve);for(Te=0;Te<Ve;++Te)Qe[Ee=ee[Te]]++,Se<Ee&&(Se=Ee),ze[Te]=0;for(Qe[0]=0,Te=1;Te<=Se;++Te)Qe[Te+16]=dt=dt+Qe[Te-1]<<1;for(Te=0;Te<Ve;++Te)dt=ee[Te],dt!=0&&(ze[Te]=Qe[dt+16]++);var Ie=0;for(Te=0;Te<Ve;++Te)if(Ie=ee[Te],Ie!=0)for(dt=se(ze[Te],Se)>>Se-Ie,Ge=(1<<Se+4-Ie)-1;Ge>=0;--Ge)me[dt|Ge<<Ie]=Ie&15|Te<<4;return Se}var Ue=ce?new Uint16Array(512):Je(512),at=ce?new Uint16Array(32):Je(32);if(!ce){for(var Me=0;Me<512;++Me)Ue[Me]=0;for(Me=0;Me<32;++Me)at[Me]=0}(function(){for(var ee=[],me=0;me<32;me++)ee.push(5);ht(ee,at,32);var ge=[];for(me=0;me<=143;me++)ge.push(8);for(;me<=255;me++)ge.push(9);for(;me<=279;me++)ge.push(7);for(;me<=287;me++)ge.push(8);ht(ge,Ue,288)})();var ut=(function(){for(var me=ce?new Uint8Array(32768):[],ge=0,Se=0;ge<ne.length-1;++ge)for(;Se<ne[ge+1];++Se)me[Se]=ge;for(;Se<32768;++Se)me[Se]=29;var Ee=ce?new Uint8Array(259):[];for(ge=0,Se=0;ge<G.length-1;++ge)for(;Se<G[ge+1];++Se)Ee[Se]=ge;function Te(dt,Ve){for(var Qe=0;Qe<dt.length;){var ze=Math.min(65535,dt.length-Qe),Ie=Qe+ze==dt.length;for(Ve.write_shift(1,+Ie),Ve.write_shift(2,ze),Ve.write_shift(2,~ze&65535);ze-- >0;)Ve[Ve.l++]=dt[Qe++]}return Ve.l}function Ge(dt,Ve){for(var Qe=0,ze=0,Ie=ce?new Uint16Array(32768):[];ze<dt.length;){var et=Math.min(65535,dt.length-ze);if(et<10){for(Qe=Pe(Ve,Qe,+(ze+et==dt.length)),Qe&7&&(Qe+=8-(Qe&7)),Ve.l=Qe/8|0,Ve.write_shift(2,et),Ve.write_shift(2,~et&65535);et-- >0;)Ve[Ve.l++]=dt[ze++];Qe=Ve.l*8;continue}Qe=Pe(Ve,Qe,+(ze+et==dt.length)+2);for(var gt=0;et-- >0;){var Lt=dt[ze];gt=(gt<<5^Lt)&32767;var Bt=-1,br=0;if((Bt=Ie[gt])&&(Bt|=ze&-32768,Bt>ze&&(Bt-=32768),Bt<ze))for(;dt[Bt+br]==dt[ze+br]&&br<250;)++br;if(br>2){Lt=Ee[br],Lt<=22?Qe=fe(Ve,Qe,he[Lt+1]>>1)-1:(fe(Ve,Qe,3),Qe+=5,fe(Ve,Qe,he[Lt-23]>>5),Qe+=3);var Dr=Lt<8?0:Lt-4>>2;Dr>0&&(De(Ve,Qe,br-G[Lt]),Qe+=Dr),Lt=me[ze-Bt],Qe=fe(Ve,Qe,he[Lt]>>3),Qe-=3;var Qr=Lt<4?0:Lt-2>>1;Qr>0&&(De(Ve,Qe,ze-Bt-ne[Lt]),Qe+=Qr);for(var Nn=0;Nn<br;++Nn)Ie[gt]=ze&32767,gt=(gt<<5^dt[ze])&32767,++ze;et-=br-1}else Lt<=143?Lt=Lt+48:Qe=pe(Ve,Qe,1),Qe=fe(Ve,Qe,he[Lt]),Ie[gt]=ze&32767,++ze}Qe=fe(Ve,Qe,0)-1}return Ve.l=(Qe+7)/8|0,Ve.l}return function(Ve,Qe){return Ve.length<8?Te(Ve,Qe):Ge(Ve,Qe)}})();function ot(ee){var me=Mt(50+Math.floor(ee.length*1.1)),ge=ut(ee,me);return me.slice(0,ge)}var rt=ce?new Uint16Array(32768):Je(32768),lr=ce?new Uint16Array(32768):Je(32768),er=ce?new Uint16Array(128):Je(128),xt=1,Ht=1;function Ut(ee,me){var ge=ae(ee,me)+257;me+=5;var Se=ae(ee,me)+1;me+=5;var Ee=oe(ee,me)+4;me+=4;for(var Te=0,Ge=ce?new Uint8Array(19):Je(19),dt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ve=1,Qe=ce?new Uint8Array(8):Je(8),ze=ce?new Uint8Array(8):Je(8),Ie=Ge.length,et=0;et<Ee;++et)Ge[U[et]]=Te=_e(ee,me),Ve<Te&&(Ve=Te),Qe[Te]++,me+=3;var gt=0;for(Qe[0]=0,et=1;et<=Ve;++et)ze[et]=gt=gt+Qe[et-1]<<1;for(et=0;et<Ie;++et)(gt=Ge[et])!=0&&(dt[et]=ze[gt]++);var Lt=0;for(et=0;et<Ie;++et)if(Lt=Ge[et],Lt!=0){gt=he[dt[et]]>>8-Lt;for(var Bt=(1<<7-Lt)-1;Bt>=0;--Bt)er[gt|Bt<<Lt]=Lt&7|et<<3}var br=[];for(Ve=1;br.length<ge+Se;)switch(gt=er[ke(ee,me)],me+=gt&7,gt>>>=3){case 16:for(Te=3+Fe(ee,me),me+=2,gt=br[br.length-1];Te-- >0;)br.push(gt);break;case 17:for(Te=3+_e(ee,me),me+=3;Te-- >0;)br.push(0);break;case 18:for(Te=11+ke(ee,me),me+=7;Te-- >0;)br.push(0);break;default:br.push(gt),Ve<gt&&(Ve=gt);break}var Dr=br.slice(0,ge),Qr=br.slice(ge);for(et=ge;et<286;++et)Dr[et]=0;for(et=Se;et<30;++et)Qr[et]=0;return xt=ht(Dr,rt,286),Ht=ht(Qr,lr,30),me}function qe(ee,me){if(ee[0]==3&&!(ee[1]&3))return[Gf(me),2];for(var ge=0,Se=0,Ee=cI(me||1<<18),Te=0,Ge=Ee.length>>>0,dt=0,Ve=0;(Se&1)==0;){if(Se=_e(ee,ge),ge+=3,Se>>>1)Se>>1==1?(dt=9,Ve=5):(ge=Ut(ee,ge),dt=xt,Ve=Ht);else{ge&7&&(ge+=8-(ge&7));var Qe=ee[ge>>>3]|ee[(ge>>>3)+1]<<8;if(ge+=32,Qe>0)for(!me&&Ge<Te+Qe&&(Ee=Xe(Ee,Te+Qe),Ge=Ee.length);Qe-- >0;)Ee[Te++]=ee[ge>>>3],ge+=8;continue}for(;;){!me&&Ge<Te+32767&&(Ee=Xe(Ee,Te+32767),Ge=Ee.length);var ze=we(ee,ge,dt),Ie=Se>>>1==1?Ue[ze]:rt[ze];if(ge+=Ie&15,Ie>>>=4,(Ie>>>8&255)===0)Ee[Te++]=Ie;else{if(Ie==256)break;Ie-=257;var et=Ie<8?0:Ie-4>>2;et>5&&(et=0);var gt=Te+G[Ie];et>0&&(gt+=we(ee,ge,et),ge+=et),ze=we(ee,ge,Ve),Ie=Se>>>1==1?at[ze]:lr[ze],ge+=Ie&15,Ie>>>=4;var Lt=Ie<4?0:Ie-2>>1,Bt=ne[Ie];for(Lt>0&&(Bt+=we(ee,ge,Lt),ge+=Lt),!me&&Ge<gt&&(Ee=Xe(Ee,gt+100),Ge=Ee.length);Te<gt;)Ee[Te]=Ee[Te-Bt],++Te}}}return me?[Ee,ge+7>>>3]:[Ee.slice(0,Te),ge+7>>>3]}function jt(ee,me){var ge=ee.slice(ee.l||0),Se=qe(ge,me);return ee.l+=Se[1],Se[0]}function kr(ee,me){if(ee)typeof console<"u"&&console.error(me);else throw new Error(me)}function zt(ee,me){var ge=ee;so(ge,0);var Se=[],Ee=[],Te={FileIndex:Se,FullPaths:Ee};A(Te,{root:me.root});for(var Ge=ge.length-4;(ge[Ge]!=80||ge[Ge+1]!=75||ge[Ge+2]!=5||ge[Ge+3]!=6)&&Ge>=0;)--Ge;ge.l=Ge+4,ge.l+=4;var dt=ge.read_shift(2);ge.l+=6;var Ve=ge.read_shift(4);for(ge.l=Ve,Ge=0;Ge<dt;++Ge){ge.l+=20;var Qe=ge.read_shift(4),ze=ge.read_shift(4),Ie=ge.read_shift(2),et=ge.read_shift(2),gt=ge.read_shift(2);ge.l+=8;var Lt=ge.read_shift(4),Bt=l(ge.slice(ge.l+Ie,ge.l+Ie+et));ge.l+=Ie+et+gt;var br=ge.l;ge.l=Lt+4,_r(ge,Qe,ze,Te,Bt),ge.l=br}return Te}function _r(ee,me,ge,Se,Ee){ee.l+=2;var Te=ee.read_shift(2),Ge=ee.read_shift(2),dt=o(ee);if(Te&8257)throw new Error("Unsupported ZIP encryption");for(var Ve=ee.read_shift(4),Qe=ee.read_shift(4),ze=ee.read_shift(4),Ie=ee.read_shift(2),et=ee.read_shift(2),gt="",Lt=0;Lt<Ie;++Lt)gt+=String.fromCharCode(ee[ee.l++]);if(et){var Bt=l(ee.slice(ee.l,ee.l+et));(Bt[21589]||{}).mt&&(dt=Bt[21589].mt),((Ee||{})[21589]||{}).mt&&(dt=Ee[21589].mt)}ee.l+=et;var br=ee.slice(ee.l,ee.l+Qe);switch(Ge){case 8:br=q(ee,ze);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ge)}var Dr=!1;Te&8&&(Ve=ee.read_shift(4),Ve==134695760&&(Ve=ee.read_shift(4),Dr=!0),Qe=ee.read_shift(4),ze=ee.read_shift(4)),Qe!=me&&kr(Dr,"Bad compressed size: "+me+" != "+Qe),ze!=ge&&kr(Dr,"Bad uncompressed size: "+ge+" != "+ze),vn(Se,gt,br,{unsafe:!0,mt:dt})}function Tr(ee,me){var ge=me||{},Se=[],Ee=[],Te=Mt(1),Ge=ge.compression?8:0,dt=0,Ve=0,Qe=0,ze=0,Ie=0,et=ee.FullPaths[0],gt=et,Lt=ee.FileIndex[0],Bt=[],br=0;for(Ve=1;Ve<ee.FullPaths.length;++Ve)if(gt=ee.FullPaths[Ve].slice(et.length),Lt=ee.FileIndex[Ve],!(!Lt.size||!Lt.content||gt=="Sh33tJ5")){var Dr=ze,Qr=Mt(gt.length);for(Qe=0;Qe<gt.length;++Qe)Qr.write_shift(1,gt.charCodeAt(Qe)&127);Qr=Qr.slice(0,Qr.l),Bt[Ie]=xie.buf(Lt.content,0);var Nn=Lt.content;Ge==8&&(Nn=V(Nn)),Te=Mt(30),Te.write_shift(4,67324752),Te.write_shift(2,20),Te.write_shift(2,dt),Te.write_shift(2,Ge),Lt.mt?i(Te,Lt.mt):Te.write_shift(4,0),Te.write_shift(-4,Bt[Ie]),Te.write_shift(4,Nn.length),Te.write_shift(4,Lt.content.length),Te.write_shift(2,Qr.length),Te.write_shift(2,0),ze+=Te.length,Se.push(Te),ze+=Qr.length,Se.push(Qr),ze+=Nn.length,Se.push(Nn),Te=Mt(46),Te.write_shift(4,33639248),Te.write_shift(2,0),Te.write_shift(2,20),Te.write_shift(2,dt),Te.write_shift(2,Ge),Te.write_shift(4,0),Te.write_shift(-4,Bt[Ie]),Te.write_shift(4,Nn.length),Te.write_shift(4,Lt.content.length),Te.write_shift(2,Qr.length),Te.write_shift(2,0),Te.write_shift(2,0),Te.write_shift(2,0),Te.write_shift(2,0),Te.write_shift(4,0),Te.write_shift(4,Dr),br+=Te.l,Ee.push(Te),br+=Qr.length,Ee.push(Qr),++Ie}return Te=Mt(22),Te.write_shift(4,101010256),Te.write_shift(2,0),Te.write_shift(2,0),Te.write_shift(2,Ie),Te.write_shift(2,Ie),Te.write_shift(4,br),Te.write_shift(4,ze),Te.write_shift(2,0),Ui([Ui(Se),Ui(Ee),Te])}var pr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Jt(ee,me){if(ee.ctype)return ee.ctype;var ge=ee.name||"",Se=ge.match(/\.([^\.]+)$/);return Se&&pr[Se[1]]||me&&(Se=(ge=me).match(/[\.\\]([^\.\\])+$/),Se&&pr[Se[1]])?pr[Se[1]]:"application/octet-stream"}function Lr(ee){for(var me=Lx(ee),ge=[],Se=0;Se<me.length;Se+=76)ge.push(me.slice(Se,Se+76));return ge.join(`\r
`)+`\r
`}function Ar(ee){var me=ee.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Qe){var ze=Qe.charCodeAt(0).toString(16).toUpperCase();return"="+(ze.length==1?"0"+ze:ze)});me=me.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),me.charAt(0)==`
`&&(me="=0D"+me.slice(1)),me=me.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ge=[],Se=me.split(`\r
`),Ee=0;Ee<Se.length;++Ee){var Te=Se[Ee];if(Te.length==0){ge.push("");continue}for(var Ge=0;Ge<Te.length;){var dt=76,Ve=Te.slice(Ge,Ge+dt);Ve.charAt(dt-1)=="="?dt--:Ve.charAt(dt-2)=="="?dt-=2:Ve.charAt(dt-3)=="="&&(dt-=3),Ve=Te.slice(Ge,Ge+dt),Ge+=dt,Ge<Te.length&&(Ve+="="),ge.push(Ve)}}return ge.join(`\r
`)}function Gr(ee){for(var me=[],ge=0;ge<ee.length;++ge){for(var Se=ee[ge];ge<=ee.length&&Se.charAt(Se.length-1)=="=";)Se=Se.slice(0,Se.length-1)+ee[++ge];me.push(Se)}for(var Ee=0;Ee<me.length;++Ee)me[Ee]=me[Ee].replace(/[=][0-9A-Fa-f]{2}/g,function(Te){return String.fromCharCode(parseInt(Te.slice(1),16))});return Jl(me.join(`\r
`))}function Tn(ee,me,ge){for(var Se="",Ee="",Te="",Ge,dt=0;dt<10;++dt){var Ve=me[dt];if(!Ve||Ve.match(/^\s*$/))break;var Qe=Ve.match(/^(.*?):\s*([^\s].*)$/);if(Qe)switch(Qe[1].toLowerCase()){case"content-location":Se=Qe[2].trim();break;case"content-type":Te=Qe[2].trim();break;case"content-transfer-encoding":Ee=Qe[2].trim();break}}switch(++dt,Ee.toLowerCase()){case"base64":Ge=Jl(rc(me.slice(dt).join("")));break;case"quoted-printable":Ge=Gr(me.slice(dt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Ee)}var ze=vn(ee,Se.slice(ge.length),Ge,{unsafe:!0});Te&&(ze.ctype=Te)}function Ln(ee,me){if(Y(ee.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ge=me&&me.root||"",Se=(En&&Buffer.isBuffer(ee)?ee.toString("binary"):Y(ee)).split(`\r
`),Ee=0,Te="";for(Ee=0;Ee<Se.length;++Ee)if(Te=Se[Ee],!!/^Content-Location:/i.test(Te)&&(Te=Te.slice(Te.indexOf("file")),ge||(ge=Te.slice(0,Te.lastIndexOf("/")+1)),Te.slice(0,ge.length)!=ge))for(;ge.length>0&&(ge=ge.slice(0,ge.length-1),ge=ge.slice(0,ge.lastIndexOf("/")+1),Te.slice(0,ge.length)!=ge););var Ge=(Se[1]||"").match(/boundary="(.*?)"/);if(!Ge)throw new Error("MAD cannot find boundary");var dt="--"+(Ge[1]||""),Ve=[],Qe=[],ze={FileIndex:Ve,FullPaths:Qe};A(ze);var Ie,et=0;for(Ee=0;Ee<Se.length;++Ee){var gt=Se[Ee];gt!==dt&&gt!==dt+"--"||(et++&&Tn(ze,Se.slice(Ie,Ee),ge),Ie=Ee)}return ze}function vr(ee,me){var ge=me||{},Se=ge.boundary||"SheetJS";Se="------="+Se;for(var Ee=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Se.slice(2)+'"',"","",""],Te=ee.FullPaths[0],Ge=Te,dt=ee.FileIndex[0],Ve=1;Ve<ee.FullPaths.length;++Ve)if(Ge=ee.FullPaths[Ve].slice(Te.length),dt=ee.FileIndex[Ve],!(!dt.size||!dt.content||Ge=="Sh33tJ5")){Ge=Ge.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(br){return"_x"+br.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(br){return"_u"+br.charCodeAt(0).toString(16)+"_"});for(var Qe=dt.content,ze=En&&Buffer.isBuffer(Qe)?Qe.toString("binary"):Y(Qe),Ie=0,et=Math.min(1024,ze.length),gt=0,Lt=0;Lt<=et;++Lt)(gt=ze.charCodeAt(Lt))>=32&&gt<128&&++Ie;var Bt=Ie>=et*4/5;Ee.push(Se),Ee.push("Content-Location: "+(ge.root||"file:///C:/SheetJS/")+Ge),Ee.push("Content-Transfer-Encoding: "+(Bt?"quoted-printable":"base64")),Ee.push("Content-Type: "+Jt(dt,Ge)),Ee.push(""),Ee.push(Bt?Ar(ze):Lr(ze))}return Ee.push(Se+`--\r
`),Ee.join(`\r
`)}function Xn(ee){var me={};return A(me,ee),me}function vn(ee,me,ge,Se){var Ee=Se&&Se.unsafe;Ee||A(ee);var Te=!Ee&&Vr.find(ee,me);if(!Te){var Ge=ee.FullPaths[0];me.slice(0,Ge.length)==Ge?Ge=me:(Ge.slice(-1)!="/"&&(Ge+="/"),Ge=(Ge+me).replace("//","/")),Te={name:s(me),type:2},ee.FileIndex.push(Te),ee.FullPaths.push(Ge),Ee||Vr.utils.cfb_gc(ee)}return Te.content=ge,Te.size=ge?ge.length:0,Se&&(Se.CLSID&&(Te.clsid=Se.CLSID),Se.mt&&(Te.mt=Se.mt),Se.ct&&(Te.ct=Se.ct)),Te}function Ke(ee,me){A(ee);var ge=Vr.find(ee,me);if(ge){for(var Se=0;Se<ee.FileIndex.length;++Se)if(ee.FileIndex[Se]==ge)return ee.FileIndex.splice(Se,1),ee.FullPaths.splice(Se,1),!0}return!1}function bt(ee,me,ge){A(ee);var Se=Vr.find(ee,me);if(Se){for(var Ee=0;Ee<ee.FileIndex.length;++Ee)if(ee.FileIndex[Ee]==Se)return ee.FileIndex[Ee].name=s(ge),ee.FullPaths[Ee]=ge,!0}return!1}function Wt(ee){D(ee,!0)}return t.find=C,t.read=P,t.parse=d,t.write=Q,t.writeFile=te,t.utils={cfb_new:Xn,cfb_add:vn,cfb_del:Ke,cfb_mov:bt,cfb_gc:Wt,ReadShift:Bm,CheckField:kM,prep_blob:so,bconcat:Ui,use_zlib:E,_deflateRaw:ot,_inflateRaw:jt,consts:Z},t})();function gie(e){return typeof e=="string"?Gy(e):Array.isArray(e)?zse(e):e}function sg(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=Gy(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?td(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var s=new Blob([gie(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(s,e);if(typeof saveAs<"u")return saveAs(s,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(s);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=s0(t)),l.write(t),l.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function vie(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function Fs(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function gI(e,t){for(var r=[],n=Fs(e),s=0;s!==n.length;++s)r[e[n[s]][t]]==null&&(r[e[n[s]][t]]=n[s]);return r}function Xy(e){for(var t=[],r=Fs(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function Yy(e){for(var t=[],r=Fs(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function yie(e){for(var t=[],r=Fs(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var J1=new Date(1899,11,30,0,0,0);function Ni(e,t){var r=e.getTime(),n=J1.getTime()+(e.getTimezoneOffset()-J1.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var nM=new Date,bie=J1.getTime()+(nM.getTimezoneOffset()-J1.getTimezoneOffset())*6e4,vI=nM.getTimezoneOffset();function Jy(e){var t=new Date;return t.setTime(e*24*60*60*1e3+bie),t.getTimezoneOffset()!==vI&&t.setTime(t.getTime()+(t.getTimezoneOffset()-vI)*6e4),t}function wie(e){var t=0,r=0,n=!1,s=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!s)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=s.length;++i)if(s[i]){switch(r=1,i>3&&(n=!0),s[i].slice(s[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+s[i].slice(s[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(s[i],10)}return t}var yI=new Date("2017-02-19T19:06:09.000Z"),aM=isNaN(yI.getFullYear())?new Date("2/19/17"):yI,Nie=aM.getFullYear()==2017;function ns(e,t){var r=new Date(e);if(Nie)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(aM.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var s=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Z0(e,t){if(En&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return td(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return td(W7(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return td(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return td(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],s=0;s!=e.length;++s)n.push(String.fromCharCode(e[s]));return n.join("")}function as(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=as(e[r]));return t}function Ds(e,t){for(var r="";r.length<t;)r+=e;return r}function Cu(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(s,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var jie=["january","february","march","april","may","june","july","august","september","october","november","december"];function Tp(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),s=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&jie.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(s>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var kie=(function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,s){if(e||typeof n=="string")return r.split(n);for(var i=r.split(n),o=[i[0]],l=1;l<i.length;++l)o.push(s),o.push(i[l]);return o}})();function sM(e){return e?e.content&&e.type?Z0(e.content,!0):e.data?Em(e.data):e.asNodeBuffer&&En?Em(e.asNodeBuffer().toString("binary")):e.asBinary?Em(e.asBinary()):e._data&&e._data.getContent?Em(Z0(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function iM(e){if(!e)return null;if(e.data)return oI(e.data);if(e.asNodeBuffer&&En)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?oI(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function Sie(e){return e&&e.name.slice(-4)===".bin"?iM(e):sM(e)}function Ac(e,t){for(var r=e.FullPaths||Fs(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),s=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var o=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==o||s==o)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function U3(e,t){var r=Ac(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function si(e,t,r){if(!r)return Sie(U3(e,t));if(!t)return null;try{return si(e,t)}catch{return null}}function Ql(e,t,r){if(!r)return sM(U3(e,t));if(!t)return null;try{return Ql(e,t)}catch{return null}}function _ie(e,t,r){return iM(U3(e,t))}function bI(e){for(var t=e.FullPaths||Fs(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function wn(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return En?n=sf(r):n=Hse(r),Vr.utils.cfb_add(e,t,n)}Vr.utils.cfb_add(e,t,r)}else e.file(t,r)}function q3(){return Vr.utils.cfb_new()}function oM(e,t){switch(t.type){case"base64":return Vr.read(e,{type:"base64"});case"binary":return Vr.read(e,{type:"binary"});case"buffer":case"array":return Vr.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function Tm(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var s=n.shift();s===".."?r.pop():s!=="."&&r.push(s)}return r.join("/")}var Js=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Aie=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,wI=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,Eie=/<[^>]*>/g,Uo=Js.match(wI)?wI:Eie,Cie=/<\w*:/,Tie=/<(\/?)\w+:/;function dn(e,t,r){for(var n={},s=0,i=0;s!==e.length&&!((i=e.charCodeAt(s))===32||i===10||i===13);++s);if(t||(n[0]=e.slice(0,s)),s===e.length)return n;var o=e.match(Aie),l=0,c="",u=0,d="",h="",m=1;if(o)for(u=0;u!=o.length;++u){for(h=o[u],i=0;i!=h.length&&h.charCodeAt(i)!==61;++i);for(d=h.slice(0,i).trim();h.charCodeAt(i+1)==32;)++i;for(m=(s=h.charCodeAt(i+1))==34||s==39?1:0,c=h.slice(i+1+m,h.length-m),l=0;l!=d.length&&d.charCodeAt(l)!==58;++l);if(l===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=c,n[d.toLowerCase()]=c;else{var p=(l===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(l+1);if(n[p]&&d.slice(l-3,l)=="ext")continue;n[p]=c,n[p.toLowerCase()]=c}}return n}function md(e){return e.replace(Tie,"<$1")}var lM={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},$3=Xy(lM),sa=(function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var s=n+"",i=s.indexOf("<![CDATA[");if(i==-1)return s.replace(e,function(l,c){return lM[l]||String.fromCharCode(parseInt(c,l.indexOf("x")>-1?16:10))||l}).replace(t,function(l,c){return String.fromCharCode(parseInt(c,16))});var o=s.indexOf("]]>");return r(s.slice(0,i))+s.slice(i+9,o)+r(s.slice(o+3))}})(),z3=/[&<>'"]/g,Oie=/[\u0000-\u0008\u000b-\u001f]/g;function Oa(e){var t=e+"";return t.replace(z3,function(r){return $3[r]}).replace(Oie,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function NI(e){return Oa(e).replace(/ /g,"_x0020_")}var cM=/[\u0000-\u001f]/g;function H3(e){var t=e+"";return t.replace(z3,function(r){return $3[r]}).replace(/\n/g,"<br/>").replace(cM,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function Pie(e){var t=e+"";return t.replace(z3,function(r){return $3[r]}).replace(cM,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var jI=(function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}})();function Iie(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function ts(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function GN(e){for(var t="",r=0,n=0,s=0,i=0,o=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(s=e.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=s&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(s&63)<<6|i&63);continue}o=e.charCodeAt(r++),l=((n&7)<<18|(s&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function kI(e){var t=Gf(2*e.length),r,n,s=1,i=0,o=0,l;for(n=0;n<e.length;n+=s)s=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),s=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),s=3):(s=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function SI(e){return sf(e,"binary").toString("utf8")}var uv="foo bar baz",Ra=En&&(SI(uv)==GN(uv)&&SI||kI(uv)==GN(uv)&&kI)||GN,td=En?function(e){return sf(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,s=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,s=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(s>>18&7))),t.push(String.fromCharCode(144+(s>>12&63))),t.push(String.fromCharCode(128+(s>>6&63))),t.push(String.fromCharCode(128+(s&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Mx=(function(){var e={};return function(r,n){var s=r+"|"+(n||"");return e[s]?e[s]:e[s]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}})(),uM=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<e.length;++s)n=n.replace(e[s][0],e[s][1]);return n}})(),Die=(function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}})(),Lie=/<\/?(?:vt:)?variant>/g,Fie=/<(?:vt:)([^>]*)>([\s\S]*)</;function _I(e,t){var r=dn(e),n=e.match(Die(r.baseType))||[],s=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return s}return n.forEach(function(i){var o=i.replace(Lie,"").match(Fie);o&&s.push({v:Ra(o[2]),t:o[1]})}),s}var dM=/(^\s|\s$|\n)/;function io(e,t){return"<"+e+(t.match(dM)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Rx(e){return Fs(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function ur(e,t,r){return"<"+e+(r!=null?Rx(r):"")+(t!=null?(t.match(dM)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function Y4(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function Mie(e,t){switch(typeof e){case"string":var r=ur("vt:lpwstr",Oa(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return ur((e|0)==e?"vt:i4":"vt:r8",Oa(String(e)));case"boolean":return ur("vt:bool",e?"true":"false")}if(e instanceof Date)return ur("vt:filetime",Y4(e));throw new Error("Unable to serialize "+e)}function W3(e){if(En&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Ra(s0(M3(e)));throw new Error("Bad input format: expected Buffer or string")}var Bx=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,yi={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},ch=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Kl={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Rie(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),s=e[t+6]&15,i=5;i>=0;--i)s=s*256+e[t+i];return n==2047?s==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,s+=Math.pow(2,52)),r*Math.pow(2,n-52)*s)}function Bie(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,s=0,i=0,o=n?-t:t;isFinite(o)?o==0?s=i=0:(s=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-s),s<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?s=-1022:(i-=Math.pow(2,52),s+=1023)):(s=2047,i=isNaN(t)?26985:0);for(var l=0;l<=5;++l,i/=256)e[r+l]=i&255;e[r+6]=(s&15)<<4|i&15,e[r+7]=s>>4|n}var AI=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var s=0,i=e[0][n].length;s<i;s+=r)t.push.apply(t,e[0][n].slice(s,s+r));return t},EI=En?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:sf(t)})):AI(e)}:AI,CI=function(e,t,r){for(var n=[],s=t;s<r;s+=2)n.push(String.fromCharCode(Bd(e,s)));return n.join("").replace(sl,"")},V3=En?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(sl,""):CI(e,t,r)}:CI,TI=function(e,t,r){for(var n=[],s=t;s<t+r;++s)n.push(("0"+e[s].toString(16)).slice(-2));return n.join("")},fM=En?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):TI(e,t,r)}:TI,OI=function(e,t,r){for(var n=[],s=t;s<r;s++)n.push(String.fromCharCode(Bh(e,s)));return n.join("")},ig=En?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):OI(t,r,n)}:OI,hM=function(e,t){var r=Xl(e,t);return r>0?ig(e,t+4,t+4+r-1):""},pM=hM,mM=function(e,t){var r=Xl(e,t);return r>0?ig(e,t+4,t+4+r-1):""},xM=mM,gM=function(e,t){var r=2*Xl(e,t);return r>0?ig(e,t+4,t+4+r-1):""},vM=gM,yM=function(t,r){var n=Xl(t,r);return n>0?V3(t,r+4,r+4+n):""},bM=yM,wM=function(e,t){var r=Xl(e,t);return r>0?ig(e,t+4,t+4+r):""},NM=wM,jM=function(e,t){return Rie(e,t)},Q1=jM,G3=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};En&&(pM=function(t,r){if(!Buffer.isBuffer(t))return hM(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},xM=function(t,r){if(!Buffer.isBuffer(t))return mM(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},vM=function(t,r){if(!Buffer.isBuffer(t))return gM(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},bM=function(t,r){if(!Buffer.isBuffer(t))return yM(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},NM=function(t,r){if(!Buffer.isBuffer(t))return wM(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Q1=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):jM(t,r)},G3=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Bh=function(e,t){return e[t]},Bd=function(e,t){return e[t+1]*256+e[t]},Uie=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Xl=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},_0=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},qie=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Bm(e,t){var r="",n,s,i=[],o,l,c,u;switch(t){case"dbcs":if(u=this.l,En&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(Bd(this,u)),u+=2;e*=2;break;case"utf8":r=ig(this,this.l,this.l+e);break;case"utf16le":e*=2,r=V3(this,this.l,this.l+e);break;case"wstr":return Bm.call(this,e,"dbcs");case"lpstr-ansi":r=pM(this,this.l),e=4+Xl(this,this.l);break;case"lpstr-cp":r=xM(this,this.l),e=4+Xl(this,this.l);break;case"lpwstr":r=vM(this,this.l),e=4+2*Xl(this,this.l);break;case"lpp4":e=4+Xl(this,this.l),r=bM(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Xl(this,this.l),r=NM(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=Bh(this,this.l+e++))!==0;)i.push(cv(o));r=i.join("");break;case"_wstr":for(e=0,r="";(o=Bd(this,this.l+e))!==0;)i.push(cv(o)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=Bh(this,u),this.l=u+1,l=Bm.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(cv(Bd(this,u))),u+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=Bh(this,u),this.l=u+1,l=Bm.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(cv(Bh(this,u))),u+=1}r=i.join("");break;default:switch(e){case 1:return n=Bh(this,this.l),this.l++,n;case 2:return n=(t==="i"?Uie:Bd)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(n=(e>0?_0:qie)(this,this.l),this.l+=4,n):(s=Xl(this,this.l),this.l+=4,s);case 8:case-8:if(t==="f")return e==8?s=Q1(this,this.l):s=Q1([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;e=8;case 16:r=fM(this,this.l,e);break}}return this.l+=e,r}var $ie=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},zie=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},Hie=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function Wie(e,t,r){var n=0,s=0;if(r==="dbcs"){for(s=0;s!=t.length;++s)Hie(this,t.charCodeAt(s),this.l+2*s);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=t.length;++s)this[this.l+s]=t.charCodeAt(s)&255;n=t.length}else if(r==="hex"){for(;s<e;++s)this[this.l++]=parseInt(t.slice(2*s,2*s+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(s=0;s<Math.min(t.length,e);++s){var o=t.charCodeAt(s);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,$ie(this,t,this.l);break;case 8:if(n=8,r==="f"){Bie(this,t,this.l);break}case 16:break;case-4:n=4,zie(this,t,this.l);break}return this.l+=n,this}function kM(e,t){var r=fM(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function so(e,t){e.l=t,e.read_shift=Bm,e.chk=kM,e.write_shift=Wie}function Bo(e,t){e.l+=t}function Mt(e){var t=Gf(e);return so(t,0),t}function of(e,t,r){if(e){var n,s,i;so(e,e.l||0);for(var o=e.length,l=0,c=0;e.l<o;){l=e.read_shift(1),l&128&&(l=(l&127)+((e.read_shift(1)&127)<<7));var u=Wx[l]||Wx[65535];for(n=e.read_shift(1),i=n&127,s=1;s<4&&n&128;++s)i+=((n=e.read_shift(1))&127)<<7*s;c=e.l+i;var d=u.f&&u.f(e,i,r);if(e.l=c,t(d,u,l))return}}}function Sl(){var e=[],t=En?256:2048,r=function(u){var d=Mt(u);return so(d,0),d},n=r(t),s=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(u){return n&&u<n.length-n.l?n:(s(),n=r(Math.max(u+1,t)))},o=function(){return s(),Ui(e)},l=function(u){s(),n=u,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:l,end:o,_bufs:e}}function Vt(e,t,r,n){var s=+t,i;if(!isNaN(s)){n||(n=Wx[s].p||(r||[]).length||0),i=1+(s>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var o=e.next(i);s<=127?o.write_shift(1,s):(o.write_shift(1,(s&127)+128),o.write_shift(1,s>>7));for(var l=0;l!=4;++l)if(n>=128)o.write_shift(1,(n&127)+128),n>>=7;else{o.write_shift(1,n);break}n>0&&G3(r)&&e.push(r)}}function Um(e,t,r){var n=as(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function PI(e,t,r){var n=as(e);return n.s=Um(n.s,t.s,r),n.e=Um(n.e,t.s,r),n}function qm(e,t){if(e.cRel&&e.c<0)for(e=as(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=as(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=cn(e);return!e.cRel&&e.cRel!=null&&(r=Kie(r)),!e.rRel&&e.rRel!=null&&(r=Vie(r)),r}function KN(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Ns(e.s.c)+":"+(e.e.cRel?"":"$")+Ns(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Ys(e.s.r)+":"+(e.e.rRel?"":"$")+Ys(e.e.r):qm(e.s,t.biff)+":"+qm(e.e,t.biff)}function K3(e){return parseInt(Gie(e),10)-1}function Ys(e){return""+(e+1)}function Vie(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Gie(e){return e.replace(/\$(\d+)$/,"$1")}function X3(e){for(var t=Xie(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Ns(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function Kie(e){return e.replace(/^([A-Z])/,"$$$1")}function Xie(e){return e.replace(/^\$([A-Z])/,"$1")}function Yie(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function js(e){for(var t=0,r=0,n=0;n<e.length;++n){var s=e.charCodeAt(n);s>=48&&s<=57?t=10*t+(s-48):s>=65&&s<=90&&(r=26*r+(s-64))}return{c:r-1,r:t-1}}function cn(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function _l(e){var t=e.indexOf(":");return t==-1?{s:js(e),e:js(e)}:{s:js(e.slice(0,t)),e:js(e.slice(t+1))}}function bn(e,t){return typeof t>"u"||typeof t=="number"?bn(e.s,e.e):(typeof e!="string"&&(e=cn(e)),typeof t!="string"&&(t=cn(t)),e==t?e:e+":"+t)}function ia(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,s=0,i=e.length;for(r=0;n<i&&!((s=e.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(t.s.c=--r,r=0;n<i&&!((s=e.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;if(t.s.r=--r,n===i||s!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((s=e.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(t.e.c=--r,r=0;n!=i&&!((s=e.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;return t.e.r=--r,t}function II(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Fc(e.z,r?Ni(t):t)}catch{}try{return e.w=Fc((e.XF||{}).numFmtId||(r?14:0),r?Ni(t):t)}catch{return""+t}}function ef(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?lf[e.v]||e.v:t==null?II(e,e.v):II(e,t))}function i0(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function SM(e,t,r){var n=r||{},s=e?Array.isArray(e):n.dense,i=e||(s?[]:{}),o=0,l=0;if(i&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?js(n.origin):n.origin;o=c.r,l=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var d=ia(i["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),o==-1&&(u.e.r=o=d.e.r+1)}for(var h=0;h!=t.length;++h)if(t[h]){if(!Array.isArray(t[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var m=0;m!=t[h].length;++m)if(!(typeof t[h][m]>"u")){var p={v:t[h][m]},y=o+h,v=l+m;if(u.s.r>y&&(u.s.r=y),u.s.c>v&&(u.s.c=v),u.e.r<y&&(u.e.r=y),u.e.c<v&&(u.e.c=v),t[h][m]&&typeof t[h][m]=="object"&&!Array.isArray(t[h][m])&&!(t[h][m]instanceof Date))p=t[h][m];else if(Array.isArray(p.v)&&(p.f=t[h][m][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||an[14],n.cellDates?(p.t="d",p.w=Fc(p.z,Ni(p.v))):(p.t="n",p.v=Ni(p.v),p.w=Fc(p.z,p.v))):p.t="s";if(s)i[y]||(i[y]=[]),i[y][v]&&i[y][v].z&&(p.z=i[y][v].z),i[y][v]=p;else{var g=cn({c:v,r:y});i[g]&&i[g].z&&(p.z=i[g].z),i[g]=p}}}return u.s.c<1e7&&(i["!ref"]=bn(u)),i}function Vp(e,t){return SM(null,e,t)}function Jie(e){return e.read_shift(4,"i")}function Tu(e,t){return t||(t=Mt(4)),t.write_shift(4,e),t}function Ro(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function qi(e,t){var r=!1;return t==null&&(r=!0,t=Mt(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function Qie(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function Zie(e,t){return t||(t=Mt(4)),t.write_shift(2,0),t.write_shift(2,0),t}function Y3(e,t){var r=e.l,n=e.read_shift(1),s=Ro(e),i=[],o={t:s,h:s};if((n&1)!==0){for(var l=e.read_shift(4),c=0;c!=l;++c)i.push(Qie(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function eoe(e,t){var r=!1;return t==null&&(r=!0,t=Mt(15+4*e.t.length)),t.write_shift(1,0),qi(e.t,t),r?t.slice(0,t.l):t}var toe=Y3;function roe(e,t){var r=!1;return t==null&&(r=!0,t=Mt(23+4*e.t.length)),t.write_shift(1,1),qi(e.t,t),t.write_shift(4,1),Zie({},t),r?t.slice(0,t.l):t}function Bc(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function uh(e,t){return t==null&&(t=Mt(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function dh(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function fh(e,t){return t==null&&(t=Mt(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var noe=Ro,_M=qi;function J3(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Z1(e,t){var r=!1;return t==null&&(r=!0,t=Mt(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var aoe=Ro,J4=J3,Q3=Z1;function Z3(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var s=n===0?Q1([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):_0(t,0)>>2;return r?s/100:s}function AM(e,t){t==null&&(t=Mt(4));var r=0,n=0,s=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:s==(s|0)&&s>=-536870912&&s<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?s:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function EM(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function soe(e,t){return t||(t=Mt(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var hh=EM,Gp=soe;function Fo(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function eh(e,t){return(t||Mt(8)).write_shift(8,e,"f")}function ioe(e){var t={},r=e.read_shift(1),n=r>>>1,s=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=s;var u=q0[s];u&&(t.rgb=qx(u));break;case 2:t.rgb=qx([o,l,c]);break;case 3:t.theme=s;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function ey(e,t){if(t||(t=Mt(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function ooe(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function loe(e,t){t||(t=Mt(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}function CM(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function coe(e){return CM(e,1)}function uoe(e){return CM(e,2)}var eS=2,jl=3,dv=11,DI=12,ty=19,fv=64,doe=65,foe=71,hoe=4108,poe=4126,Ri=80,TM=81,moe=[Ri,TM],Q4={1:{n:"CodePage",t:eS},2:{n:"Category",t:Ri},3:{n:"PresentationFormat",t:Ri},4:{n:"ByteCount",t:jl},5:{n:"LineCount",t:jl},6:{n:"ParagraphCount",t:jl},7:{n:"SlideCount",t:jl},8:{n:"NoteCount",t:jl},9:{n:"HiddenCount",t:jl},10:{n:"MultimediaClipCount",t:jl},11:{n:"ScaleCrop",t:dv},12:{n:"HeadingPairs",t:hoe},13:{n:"TitlesOfParts",t:poe},14:{n:"Manager",t:Ri},15:{n:"Company",t:Ri},16:{n:"LinksUpToDate",t:dv},17:{n:"CharacterCount",t:jl},19:{n:"SharedDoc",t:dv},22:{n:"HyperlinksChanged",t:dv},23:{n:"AppVersion",t:jl,p:"version"},24:{n:"DigSig",t:doe},26:{n:"ContentType",t:Ri},27:{n:"ContentStatus",t:Ri},28:{n:"Language",t:Ri},29:{n:"Version",t:Ri},255:{},2147483648:{n:"Locale",t:ty},2147483651:{n:"Behavior",t:ty},1919054434:{}},Z4={1:{n:"CodePage",t:eS},2:{n:"Title",t:Ri},3:{n:"Subject",t:Ri},4:{n:"Author",t:Ri},5:{n:"Keywords",t:Ri},6:{n:"Comments",t:Ri},7:{n:"Template",t:Ri},8:{n:"LastAuthor",t:Ri},9:{n:"RevNumber",t:Ri},10:{n:"EditTime",t:fv},11:{n:"LastPrinted",t:fv},12:{n:"CreatedDate",t:fv},13:{n:"ModifiedDate",t:fv},14:{n:"PageCount",t:jl},15:{n:"WordCount",t:jl},16:{n:"CharCount",t:jl},17:{n:"Thumbnail",t:foe},18:{n:"Application",t:Ri},19:{n:"DocSecurity",t:jl},255:{},2147483648:{n:"Locale",t:ty},2147483651:{n:"Behavior",t:ty},1919054434:{}},LI={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},xoe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function goe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var voe=goe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),q0=as(voe),lf={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},OM={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},ek={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},hv={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function tS(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function yoe(e){var t=tS();if(!e||!e.match)return t;var r={};if((e.match(Uo)||[]).forEach(function(n){var s=dn(n);switch(s[0].replace(Cie,"<")){case"<?xml":break;case"<Types":t.xmlns=s["xmlns"+(s[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[s.Extension]=s.ContentType;break;case"<Override":t[ek[s.ContentType]]!==void 0&&t[ek[s.ContentType]].push(s.PartName);break}}),t.xmlns!==yi.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}function PM(e,t){var r=yie(ek),n=[],s;n[n.length]=Js,n[n.length]=ur("Types",null,{xmlns:yi.CT,"xmlns:xsd":yi.xsd,"xmlns:xsi":yi.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return ur("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(s=e[c][0],n[n.length]=ur("Override",null,{PartName:(s[0]=="/"?"":"/")+s,ContentType:hv[c][t.bookType]||hv[c].xlsx}))},o=function(c){(e[c]||[]).forEach(function(u){n[n.length]=ur("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:hv[c][t.bookType]||hv[c].xlsx})})},l=function(c){(e[c]||[]).forEach(function(u){n[n.length]=ur("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return i("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Dn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Ux(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function $m(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Uo)||[]).forEach(function(s){var i=dn(s);if(i[0]==="<Relationship"){var o={};o.Type=i.Type,o.Target=i.Target,o.Id=i.Id,i.TargetMode&&(o.TargetMode=i.TargetMode);var l=i.TargetMode==="External"?i.Target:Tm(i.Target,t);r[l]=o,n[i.Id]=o}}),r["!id"]=n,r}function Qh(e){var t=[Js,ur("Relationships",null,{xmlns:yi.RELS})];return Fs(e["!id"]).forEach(function(r){t[t.length]=ur("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Ta(e,t,r,n,s,i){if(s||(s={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,s.Id="rId"+t,s.Type=n,s.Target=r,[Dn.HLINK,Dn.XPATH,Dn.XMISS].indexOf(s.Type)>-1&&(s.TargetMode="External"),e["!id"][s.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][s.Id]=s,e[("/"+s.Target).replace("//","/")]=s,t}var boe="application/vnd.oasis.opendocument.spreadsheet";function woe(e,t){for(var r=W3(e),n,s;n=Bx.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(s=dn(n[0],!1),s.path=="/"&&s.type!==boe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}function Noe(e){var t=[Js];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function FI(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function joe(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function koe(e){var t=[Js];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(FI(e[r][0],e[r][1])),t.push(joe("",e[r][0]));return t.push(FI("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function IM(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+G1.version+"</meta:generator></office:meta></office:document-meta>"}var Dc=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],Soe=(function(){for(var e=new Array(Dc.length),t=0;t<Dc.length;++t){var r=Dc[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e})();function DM(e){var t={};e=Ra(e);for(var r=0;r<Dc.length;++r){var n=Dc[r],s=e.match(Soe[r]);s!=null&&s.length>0&&(t[n[1]]=sa(s[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=ns(t[n[1]]))}return t}function XN(e,t,r,n,s){s[e]!=null||t==null||t===""||(s[e]=t,t=Oa(t),n[n.length]=r?ur(e,t,r):io(e,t))}function LM(e,t){var r=t||{},n=[Js,ur("cp:coreProperties",null,{"xmlns:cp":yi.CORE_PROPS,"xmlns:dc":yi.dc,"xmlns:dcterms":yi.dcterms,"xmlns:dcmitype":yi.dcmitype,"xmlns:xsi":yi.xsi})],s={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&XN("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:Y4(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,s),e.ModifiedDate!=null&&XN("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:Y4(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,s));for(var i=0;i!=Dc.length;++i){var o=Dc[i],l=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&XN(o[0],l,null,n,s)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var $0=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],FM=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function MM(e,t,r,n){var s=[];if(typeof e=="string")s=_I(e,n);else for(var i=0;i<e.length;++i)s=s.concat(e[i].map(function(d){return{v:d}}));var o=typeof t=="string"?_I(t,n).map(function(d){return d.v}):t,l=0,c=0;if(o.length>0)for(var u=0;u!==s.length;u+=2){switch(c=+s[u+1].v,s[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=o.slice(l,l+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=c,r.DefinedNames=o.slice(l,l+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=o.slice(l,l+c);break}l+=c}}function _oe(e,t,r){var n={};return t||(t={}),e=Ra(e),$0.forEach(function(s){var i=(e.match(Mx(s[0]))||[])[1];switch(s[2]){case"string":i&&(t[s[1]]=sa(i));break;case"bool":t[s[1]]=i==="true";break;case"raw":var o=e.match(new RegExp("<"+s[0]+"[^>]*>([\\s\\S]*?)</"+s[0]+">"));o&&o.length>0&&(n[s[1]]=o[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&MM(n.HeadingPairs,n.TitlesOfParts,t,r),t}function RM(e){var t=[],r=ur;return e||(e={}),e.Application="SheetJS",t[t.length]=Js,t[t.length]=ur("Properties",null,{xmlns:yi.EXT_PROPS,"xmlns:vt":yi.vt}),$0.forEach(function(n){if(e[n[1]]!==void 0){var s;switch(n[2]){case"string":s=Oa(String(e[n[1]]));break;case"bool":s=e[n[1]]?"true":"false";break}s!==void 0&&(t[t.length]=r(n[0],s))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+Oa(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var Aoe=/<[^>]+>[^<]*/g;function Eoe(e,t){var r={},n="",s=e.match(Aoe);if(s)for(var i=0;i!=s.length;++i){var o=s[i],l=dn(o);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":n=sa(l.name);break;case"</property>":n=null;break;default:if(o.indexOf("<vt:")===0){var c=o.split(">"),u=c[0].slice(4),d=c[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=sa(d);break;case"bool":r[n]=ts(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=ns(d);break;case"cy":case"error":r[n]=sa(d);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",o,u,c)}}else if(o.slice(0,2)!=="</"){if(t.WTF)throw new Error(o)}}}return r}function BM(e){var t=[Js,ur("Properties",null,{xmlns:yi.CUST_PROPS,"xmlns:vt":yi.vt})];if(!e)return t.join("");var r=1;return Fs(e).forEach(function(s){++r,t[t.length]=ur("property",Mie(e[s]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Oa(s)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var tk={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},YN;function Coe(e,t,r){YN||(YN=Xy(tk)),t=YN[t]||t,e[t]=r}function Toe(e,t){var r=[];return Fs(tk).map(function(n){for(var s=0;s<Dc.length;++s)if(Dc[s][1]==n)return Dc[s];for(s=0;s<$0.length;++s)if($0[s][1]==n)return $0[s];throw n}).forEach(function(n){if(e[n[1]]!=null){var s=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];n[2]==="date"&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"Z")),typeof s=="number"?s=String(s):s===!0||s===!1?s=s?"1":"0":s instanceof Date&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"")),r.push(io(tk[n[1]]||n[1],s))}}),ur("DocumentProperties",r.join(""),{xmlns:Kl.o})}function Ooe(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",s=[];return e&&Fs(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var o=0;o<Dc.length;++o)if(i==Dc[o][1])return;for(o=0;o<$0.length;++o)if(i==$0[o][1])return;for(o=0;o<r.length;++o)if(i==r[o])return;var l=e[i],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),s.push(ur(NI(i),l,{"dt:dt":c}))}}),t&&Fs(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var o=t[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),s.push(ur(NI(i),o,{"dt:dt":l}))}}),"<"+n+' xmlns="'+Kl.o+'">'+s.join("")+"</"+n+">"}function rS(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function Poe(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),s=(r-n)/Math.pow(2,32);n*=1e7,s*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),s+=i);var o=Mt(8);return o.write_shift(4,n),o.write_shift(4,s),o}function UM(e,t,r){var n=e.l,s=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return s}function qM(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function $M(e,t,r){return t===31?qM(e):UM(e,t,r)}function rk(e,t,r){return $M(e,t,r===!1?0:4)}function Ioe(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return $M(e,t,0)}function Doe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var s=e.l;r[n]=e.read_shift(0,"lpwstr").replace(sl,""),e.l-s&2&&(e.l+=2)}return r}function Loe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(sl,"");return r}function Foe(e){var t=e.l,r=ry(e,TM);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=ry(e,jl);return[r,n]}function Moe(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(Foe(e));return r}function MI(e,t){for(var r=e.read_shift(4),n={},s=0;s!=r;++s){var i=e.read_shift(4),o=e.read_shift(4);n[i]=e.read_shift(o,t===1200?"utf16le":"utf8").replace(sl,"").replace(Cm,"!"),t===1200&&o%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function zM(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function Roe(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function ry(e,t,r){var n=e.read_shift(2),s,i=r||{};if(e.l+=2,t!==DI&&n!==t&&moe.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===DI?n:t){case 2:return s=e.read_shift(2,"i"),i.raw||(e.l+=2),s;case 3:return s=e.read_shift(4,"i"),s;case 11:return e.read_shift(4)!==0;case 19:return s=e.read_shift(4),s;case 30:return UM(e,n,4).replace(sl,"");case 31:return qM(e);case 64:return rS(e);case 65:return zM(e);case 71:return Roe(e);case 80:return rk(e,n,!i.raw).replace(sl,"");case 81:return Ioe(e,n).replace(sl,"");case 4108:return Moe(e);case 4126:case 4127:return n==4127?Doe(e):Loe(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function RI(e,t){var r=Mt(4),n=Mt(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=Mt(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=Poe(t);break;case 31:case 80:for(n=Mt(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Ui([r,n])}function BI(e,t){var r=e.l,n=e.read_shift(4),s=e.read_shift(4),i=[],o=0,l=0,c=-1,u={};for(o=0;o!=s;++o){var d=e.read_shift(4),h=e.read_shift(4);i[o]=[d,h+r]}i.sort(function(w,j){return w[1]-j[1]});var m={};for(o=0;o!=s;++o){if(e.l!==i[o][1]){var p=!0;if(o>0&&t)switch(t[i[o-1][0]].t){case 2:e.l+2===i[o][1]&&(e.l+=2,p=!1);break;case 80:e.l<=i[o][1]&&(e.l=i[o][1],p=!1);break;case 4108:e.l<=i[o][1]&&(e.l=i[o][1],p=!1);break}if((!t||o==0)&&e.l<=i[o][1]&&(p=!1,e.l=i[o][1]),p)throw new Error("Read Error: Expected address "+i[o][1]+" at "+e.l+" :"+o)}if(t){var y=t[i[o][0]];if(m[y.n]=ry(e,y.t,{raw:!0}),y.p==="version"&&(m[y.n]=String(m[y.n]>>16)+"."+("0000"+String(m[y.n]&65535)).slice(-4)),y.n=="CodePage")switch(m[y.n]){case 0:m[y.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Su(l=m[y.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+m[y.n])}}else if(i[o][0]===1){if(l=m.CodePage=ry(e,eS),Su(l),c!==-1){var v=e.l;e.l=i[c][1],u=MI(e,l),e.l=v}}else if(i[o][0]===0){if(l===0){c=o,e.l=i[o+1][1];continue}u=MI(e,l)}else{var g=u[i[o][0]],b;switch(e[e.l]){case 65:e.l+=4,b=zM(e);break;case 30:e.l+=4,b=rk(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,b=rk(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,b=e.read_shift(4,"i");break;case 19:e.l+=4,b=e.read_shift(4);break;case 5:e.l+=4,b=e.read_shift(8,"f");break;case 11:e.l+=4,b=Ws(e,4);break;case 64:e.l+=4,b=ns(rS(e));break;default:throw new Error("unparsed value: "+e[e.l])}m[g]=b}}return e.l=r+n,m}var HM=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function Boe(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function UI(e,t,r){var n=Mt(8),s=[],i=[],o=8,l=0,c=Mt(8),u=Mt(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),i.push(c),s.push(u),o+=8+c.length,!t){u=Mt(8),u.write_shift(4,0),s.unshift(u);var d=[Mt(4)];for(d[0].write_shift(4,e.length),l=0;l<e.length;++l){var h=e[l][0];for(c=Mt(8+2*(h.length+1)+(h.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,h.length+1),c.write_shift(0,h,"dbcs");c.l!=c.length;)c.write_shift(1,0);d.push(c)}c=Ui(d),i.unshift(c),o+=8+c.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(HM.indexOf(e[l][0])>-1||FM.indexOf(e[l][0])>-1)&&e[l][1]!=null){var m=e[l][1],p=0;if(t){p=+t[e[l][0]];var y=r[p];if(y.p=="version"&&typeof m=="string"){var v=m.split(".");m=(+v[0]<<16)+(+v[1]||0)}c=RI(y.t,m)}else{var g=Boe(m);g==-1&&(g=31,m=String(m)),c=RI(g,m)}i.push(c),u=Mt(8),u.write_shift(4,t?p:2+l),s.push(u),o+=8+c.length}var b=8*(i.length+1);for(l=0;l<i.length;++l)s[l].write_shift(4,b),b+=i[l].length;return n.write_shift(4,o),n.write_shift(4,i.length),Ui([n].concat(s).concat(i))}function qI(e,t,r){var n=e.content;if(!n)return{};so(n,0);var s,i,o,l,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),d=n.read_shift(16);if(d!==Vr.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(s=n.read_shift(4),s!==1&&s!==2)throw new Error("Unrecognized #Sets: "+s);if(i=n.read_shift(16),l=n.read_shift(4),s===1&&l!==n.l)throw new Error("Length mismatch: "+l+" !== "+n.l);s===2&&(o=n.read_shift(16),c=n.read_shift(4));var h=BI(n,t),m={SystemIdentifier:u};for(var p in h)m[p]=h[p];if(m.FMTID=i,s===1)return m;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var y;try{y=BI(n,null)}catch{}for(p in y)m[p]=y[p];return m.FMTID=[i,o],m}function $I(e,t,r,n,s,i){var o=Mt(s?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Vr.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,s?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,s?68:48);var c=UI(e,r,n);if(l.push(c),s){var u=UI(s,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+c.length),l.push(u)}return Ui(l)}function Af(e,t){return e.read_shift(t),null}function Uoe(e,t){t||(t=Mt(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function qoe(e,t,r){for(var n=[],s=e.l+t;e.l<s;)n.push(r(e,s-e.l));if(s!==e.l)throw new Error("Slurp error");return n}function Ws(e,t){return e.read_shift(t)===1}function el(e,t){return t||(t=Mt(2)),t.write_shift(2,+!!e),t}function ii(e){return e.read_shift(2,"u")}function Ec(e,t){return t||(t=Mt(2)),t.write_shift(2,e),t}function WM(e,t){return qoe(e,t,ii)}function $oe(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function VM(e,t,r){return r||(r=Mt(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function og(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),s="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(s="dbcs-cont")}else r.biff==12&&(s="wstr");r.biff>=2&&r.biff<=5&&(s="cpstr");var o=n?e.read_shift(n,s):"";return o}function zoe(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,s=r&8,i=1+(r&1),o=0,l,c={};s&&(o=e.read_shift(2)),n&&(l=e.read_shift(4));var u=i==2?"dbcs-cont":"sbcs-cont",d=t===0?"":e.read_shift(t,u);return s&&(e.l+=4*o),n&&(e.l+=l),c.t=d,s||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function Hoe(e){var t=e.t||"",r=Mt(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=Mt(2*t.length);n.write_shift(2*t.length,t,"utf16le");var s=[r,n];return Ui(s)}function th(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var s=e.read_shift(1);return s===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function lg(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):th(e,n,r)}function ph(e,t,r){if(r.biff>5)return lg(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function GM(e,t,r){return r||(r=Mt(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function Woe(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function Voe(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var s=e.read_shift((n?t-24:t)>>1,"utf16le").replace(sl,"");return n&&(e.l+=24),s}function Goe(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var s=e.read_shift(4);if(s===0)return r+n.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=e.read_shift(i>>1,"utf16le").replace(sl,"");return r+o}function Koe(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return Voe(e);case"0303000000000000c000000000000046":return Goe(e);default:throw new Error("Unsupported Moniker "+r)}}function pv(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(sl,""):"";return r}function zI(e,t){t||(t=Mt(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function Xoe(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var s=e.read_shift(2);e.l+=2;var i,o,l,c,u="",d,h;s&16&&(i=pv(e,r-e.l)),s&128&&(o=pv(e,r-e.l)),(s&257)===257&&(l=pv(e,r-e.l)),(s&257)===1&&(c=Koe(e,r-e.l)),s&8&&(u=pv(e,r-e.l)),s&32&&(d=e.read_shift(16)),s&64&&(h=rS(e)),e.l=r;var m=o||l||c||"";m&&u&&(m+="#"+u),m||(m="#"+u),s&2&&m.charAt(0)=="/"&&m.charAt(1)!="/"&&(m="file://"+m);var p={Target:m};return d&&(p.guid=d),h&&(p.time=h),i&&(p.Tooltip=i),p}function Yoe(e){var t=Mt(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var s=n.indexOf("#"),i=s>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(i==28)n=n.slice(1),zI(n,t);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var l=s>-1?n.slice(0,s):n;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),i&8&&zI(s>-1?n.slice(s+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)t.write_shift(1,n.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function KM(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),s=e.read_shift(1);return[t,r,n,s]}function XM(e,t){var r=KM(e);return r[3]=0,r}function xd(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function rh(e,t,r,n){return n||(n=Mt(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function Joe(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function Qoe(e,t,r){return t===0?"":ph(e,t,r)}function Zoe(e,t,r){var n=r.biff>8?4:2,s=e.read_shift(n),i=e.read_shift(n,"i"),o=e.read_shift(n,"i");return[s,i,o]}function YM(e){var t=e.read_shift(2),r=Z3(e);return[t,r]}function ele(e,t,r){e.l+=4,t-=4;var n=e.l+t,s=og(e,t,r),i=e.read_shift(2);if(n-=e.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return e.l+=i,s}function Qy(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),s=e.read_shift(2);return{s:{c:n,r:t},e:{c:s,r}}}function JM(e,t){return t||(t=Mt(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function QM(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),s=e.read_shift(1);return{s:{c:n,r:t},e:{c:s,r}}}var tle=QM;function ZM(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function rle(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function nle(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function So(e){e.l+=2,e.l+=e.read_shift(2)}var ale={0:So,4:So,5:So,6:So,7:nle,8:So,9:So,10:So,11:So,12:So,13:rle,14:So,15:So,16:So,17:So,18:So,19:So,20:So,21:ZM};function sle(e,t){for(var r=e.l+t,n=[];e.l<r;){var s=e.read_shift(2);e.l-=2;try{n.push(ale[s](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function mv(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function nS(e,t,r){var n=1536,s=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,s=8;break;case"biff4":n=4,s=6;break;case"biff3":n=3,s=6;break;case"biff2":n=2,s=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=Mt(s);return i.write_shift(2,n),i.write_shift(2,t),s>4&&i.write_shift(2,29282),s>6&&i.write_shift(2,1997),s>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function ile(e,t){return t===0||e.read_shift(2),1200}function ole(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,s=ph(e,0,r);return e.read_shift(t+n-e.l),s}function lle(e,t){var r=!t||t.biff==8,n=Mt(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function cle(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function ule(e,t,r){var n=e.read_shift(4),s=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var o=og(e,0,r);return o.length===0&&(o="Sheet1"),{pos:n,hs:s,dt:i,name:o}}function dle(e,t){var r=!t||t.biff>=8?2:1,n=Mt(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var s=n.slice(0,n.l);return s.l=n.l,s}function fle(e,t){for(var r=e.l+t,n=e.read_shift(4),s=e.read_shift(4),i=[],o=0;o!=s&&e.l<r;++o)i.push(zoe(e));return i.Count=n,i.Unique=s,i}function hle(e,t){var r=Mt(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],s=0;s<e.length;++s)n[s]=Hoe(e[s]);var i=Ui([r].concat(n));return i.parts=[r.length].concat(n.map(function(o){return o.length})),i}function ple(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function mle(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function xle(e){var t=Joe(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function gle(e){return e.read_shift(2),e.read_shift(4)}function HI(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var s=e.read_shift(2);r&&r.biff==2&&(n=1-(s>>15),s&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,s]}function vle(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,r],Dim:[n,s],Flags:i,CurTab:o,FirstTab:l,Selected:c,TabRatio:u}}function yle(){var e=Mt(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function ble(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function wle(e){var t=Mt(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function Nle(){}function jle(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=og(e,0,r),n}function kle(e,t){var r=e.name||"Arial",n=t&&t.biff==5,s=n?15+r.length:16+2*r.length,i=Mt(s);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function Sle(e){var t=xd(e);return t.isst=e.read_shift(4),t}function _le(e,t,r,n){var s=Mt(10);return rh(e,t,n,s),s.write_shift(4,r),s}function Ale(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,s=xd(e);r.biff==2&&e.l++;var i=lg(e,n-e.l,r);return s.val=i,s}function Ele(e,t,r,n,s){var i=!s||s.biff==8,o=Mt(8+ +i+(1+i)*r.length);return rh(e,t,n,o),o.write_shift(2,r.length),i&&o.write_shift(1,1),o.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),o}function Cle(e,t,r){var n=e.read_shift(2),s=ph(e,0,r);return[n,s]}function Tle(e,t,r,n){var s=r&&r.biff==5;n||(n=Mt(s?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(s?1:2,t.length),s||n.write_shift(1,1),n.write_shift((s?1:2)*t.length,t,s?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}var Ole=ph;function WI(e,t,r){var n=e.l+t,s=r.biff==8||!r.biff?4:2,i=e.read_shift(s),o=e.read_shift(s),l=e.read_shift(2),c=e.read_shift(2);return e.l=n,{s:{r:i,c:l},e:{r:o,c}}}function Ple(e,t){var r=t.biff==8||!t.biff?4:2,n=Mt(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function Ile(e){var t=e.read_shift(2),r=e.read_shift(2),n=YM(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function Dle(e,t){for(var r=e.l+t-2,n=e.read_shift(2),s=e.read_shift(2),i=[];e.l<r;)i.push(YM(e));if(e.l!==r)throw new Error("MulRK read error");var o=e.read_shift(2);if(i.length!=o-s+1)throw new Error("MulRK length mismatch");return{r:n,c:s,C:o,rkrec:i}}function Lle(e,t){for(var r=e.l+t-2,n=e.read_shift(2),s=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var o=e.read_shift(2);if(i.length!=o-s+1)throw new Error("MulBlank length mismatch");return{r:n,c:s,C:o,ixfe:i}}function Fle(e,t,r,n){var s={},i=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(4),c=e.read_shift(2);return s.patternType=xoe[l>>26],n.cellStyles&&(s.alc=i&7,s.fWrap=i>>3&1,s.alcV=i>>4&7,s.fJustLast=i>>7&1,s.trot=i>>8&255,s.cIndent=i>>16&15,s.fShrinkToFit=i>>20&1,s.iReadOrder=i>>22&2,s.fAtrNum=i>>26&1,s.fAtrFnt=i>>27&1,s.fAtrAlc=i>>28&1,s.fAtrBdr=i>>29&1,s.fAtrPat=i>>30&1,s.fAtrProt=i>>31&1,s.dgLeft=o&15,s.dgRight=o>>4&15,s.dgTop=o>>8&15,s.dgBottom=o>>12&15,s.icvLeft=o>>16&127,s.icvRight=o>>23&127,s.grbitDiag=o>>30&3,s.icvTop=l&127,s.icvBottom=l>>7&127,s.icvDiag=l>>14&127,s.dgDiag=l>>21&15,s.icvFore=c&127,s.icvBack=c>>7&127,s.fsxButton=c>>14&1),s}function Mle(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=Fle(e,t,n.fStyle,r),n}function VI(e,t,r,n){var s=r&&r.biff==5;n||(n=Mt(s?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&s&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),s||n.write_shift(4,0),n.write_shift(2,0),n}function Rle(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function Ble(e){var t=Mt(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function GI(e,t,r){var n=xd(e);(r.biff==2||t==9)&&++e.l;var s=$oe(e);return n.val=s,n.t=s===!0||s===!1?"b":"e",n}function Ule(e,t,r,n,s,i){var o=Mt(8);return rh(e,t,n,o),VM(r,i,o),o}function qle(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=xd(e),s=Fo(e);return n.val=s,n}function $le(e,t,r,n){var s=Mt(14);return rh(e,t,n,s),eh(r,s),s}var KI=Qoe;function zle(e,t,r){var n=e.l+t,s=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,s];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var o=th(e,i),l=[];n>e.l;)l.push(lg(e));return[i,s,o,l]}function XI(e,t,r){var n=e.read_shift(2),s,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(s=ele(e,t-2,r)),i.body=s||e.read_shift(t-2),typeof s=="string"&&(i.Name=s),i}var Hle=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function YI(e,t,r){var n=e.l+t,s=e.read_shift(2),i=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),c=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var u=th(e,o,r);s&32&&(u=Hle[u.charCodeAt(0)]);var d=n-e.l;r&&r.biff==2&&--d;var h=n==e.l||l===0||!(d>0)?[]:s0e(e,d,r,l);return{chKey:i,Name:u,itab:c,rgce:h}}function eR(e,t,r){if(r.biff<8)return Wle(e,t,r);for(var n=[],s=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(Zoe(e,r.biff>8?12:6,r));if(e.l!=s)throw new Error("Bad ExternSheet: "+e.l+" != "+s);return n}function Wle(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=og(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function Vle(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),s=e.read_shift(2),i=th(e,n,r),o=th(e,s,r);return[i,o]}function Gle(e,t,r){var n=QM(e);e.l++;var s=e.read_shift(1);return t-=8,[i0e(e,t,r),s,n]}function JI(e,t,r){var n=tle(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,n0e(e,t,r)]}function Kle(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function Xle(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),l=ph(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:s},l,o,i]}}function Yle(e,t,r){return Xle(e,t,r)}function Jle(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(Qy(e));return r}function Qle(e){var t=Mt(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)JM(e[r],t);return t}function Zle(e,t,r){if(r&&r.biff<8)return tce(e,t,r);var n=ZM(e),s=sle(e,t-22,n[1]);return{cmo:n,ft:s}}var ece={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var s=e.read_shift(1);return e.l+=s,e.l=r,{fmt:n}}};function tce(e,t,r){e.l+=4;var n=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var o=[];return o.push((ece[n]||Bo)(e,t,r)),{cmo:[s,n,i],ft:o}}function rce(e,t,r){var n=e.l,s="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:o=Woe(e,6,r);var l=e.read_shift(2);e.read_shift(2),ii(e,2);var c=e.read_shift(2);e.l+=c;for(var u=1;u<e.lens.length-1;++u){if(e.l-n!=e.lens[u])throw new Error("TxO: bad continue record");var d=e[e.l],h=th(e,e.lens[u+1]-e.lens[u]-1);if(s+=h,s.length>=(d?l:2*l))break}if(s.length!==l&&s.length!==l*2)throw new Error("cchText: "+l+" != "+s.length);return e.l=n+t,{t:s}}catch{return e.l=n+t,{t:s}}}function nce(e,t){var r=Qy(e);e.l+=16;var n=Xoe(e,t-24);return[r,n]}function ace(e){var t=Mt(24),r=js(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<16;++s)t.write_shift(1,parseInt(n[s],16));return Ui([t,Yoe(e[1])])}function sce(e,t){e.read_shift(2);var r=Qy(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(sl,""),[r,n]}function ice(e){var t=e[1].Tooltip,r=Mt(10+2*(t.length+1));r.write_shift(2,2048);var n=js(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var s=0;s<t.length;++s)r.write_shift(2,t.charCodeAt(s));return r.write_shift(2,0),r}function oce(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=LI[r]||r,r=e.read_shift(2),t[1]=LI[r]||r,t}function lce(e){return e||(e=Mt(4)),e.write_shift(2,1),e.write_shift(2,1),e}function cce(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(XM(e));return r}function uce(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(XM(e));return r}function dce(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function tR(e,t,r){if(!r.cellStyles)return Bo(e,t);var n=r&&r.biff>=12?4:2,s=e.read_shift(n),i=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s,e:i,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function fce(e,t){var r=Mt(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function hce(e,t){var r={};return t<32||(e.l+=16,r.header=Fo(e),r.footer=Fo(e),e.l+=2),r}function pce(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var s=e.read_shift(1);return e.l+=3,s&16&&(n.area=!0),n}function mce(e){for(var t=Mt(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}var xce=xd,gce=WM,vce=lg;function yce(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),s={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,s}function bce(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=xd(e);++e.l;var s=ph(e,t-7,r);return n.t="str",n.val=s,n}function wce(e){var t=xd(e);++e.l;var r=Fo(e);return t.t="n",t.val=r,t}function Nce(e,t,r){var n=Mt(15);return fg(n,e,t),n.write_shift(8,r,"f"),n}function jce(e){var t=xd(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function kce(e,t,r){var n=Mt(9);return fg(n,e,t),n.write_shift(2,r),n}function Sce(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function _ce(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function Ace(e,t,r){var n=e.l+t,s=xd(e),i=e.read_shift(2),o=th(e,i,r);return e.l=n,s.t="str",s.val=o,s}var Ece=[2,3,48,49,131,139,140,245],nk=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=Xy({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var u=[],d=Gf(1);switch(c.type){case"base64":d=Jl(rc(l));break;case"binary":d=Jl(l);break;case"buffer":case"array":d=l;break}so(d,0);var h=d.read_shift(1),m=!!(h&136),p=!1,y=!1;switch(h){case 2:break;case 3:break;case 48:p=!0,m=!0;break;case 49:p=!0,m=!0;break;case 131:break;case 139:break;case 140:y=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var v=0,g=521;h==2&&(v=d.read_shift(2)),d.l+=3,h!=2&&(v=d.read_shift(4)),v>1048576&&(v=1e6),h!=2&&(g=d.read_shift(2));var b=d.read_shift(2),w=c.codepage||1252;h!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(w=e[d[d.l]]),d.l+=1,d.l+=2),y&&(d.l+=36);for(var j=[],N={},k=Math.min(d.length,h==2?521:g-10-(p?264:0)),P=y?32:11;d.l<k&&d[d.l]!=13;)switch(N={},N.name=Dx.utils.decode(w,d.slice(d.l,d.l+P)).replace(/[\u0000\r\n].*$/g,""),d.l+=P,N.type=String.fromCharCode(d.read_shift(1)),h!=2&&!y&&(N.offset=d.read_shift(4)),N.len=d.read_shift(1),h==2&&(N.offset=d.read_shift(2)),N.dec=d.read_shift(1),N.name.length&&j.push(N),h!=2&&(d.l+=y?13:14),N.type){case"B":(!p||N.len!=8)&&c.WTF&&console.log("Skipping "+N.name+":"+N.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+N.name+":"+N.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+N.type)}if(d[d.l]!==13&&(d.l=g-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=g;var A=0,O=0;for(u[0]=[],O=0;O!=j.length;++O)u[0][O]=j[O].name;for(;v-- >0;){if(d[d.l]===42){d.l+=b;continue}for(++d.l,u[++A]=[],O=0,O=0;O!=j.length;++O){var D=d.slice(d.l,d.l+j[O].len);d.l+=j[O].len,so(D,0);var R=Dx.utils.decode(w,D);switch(j[O].type){case"C":R.trim().length&&(u[A][O]=R.replace(/\s+$/,""));break;case"D":R.length===8?u[A][O]=new Date(+R.slice(0,4),+R.slice(4,6)-1,+R.slice(6,8)):u[A][O]=R;break;case"F":u[A][O]=parseFloat(R.trim());break;case"+":case"I":u[A][O]=y?D.read_shift(-4,"i")^2147483648:D.read_shift(4,"i");break;case"L":switch(R.trim().toUpperCase()){case"Y":case"T":u[A][O]=!0;break;case"N":case"F":u[A][O]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+R+"|")}break;case"M":if(!m)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));u[A][O]="##MEMO##"+(y?parseInt(R.trim(),10):D.read_shift(4));break;case"N":R=R.replace(/\u0000/g,"").trim(),R&&R!="."&&(u[A][O]=+R||0);break;case"@":u[A][O]=new Date(D.read_shift(-8,"f")-621356832e5);break;case"T":u[A][O]=new Date((D.read_shift(4)-2440588)*864e5+D.read_shift(4));break;case"Y":u[A][O]=D.read_shift(4,"i")/1e4+D.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[A][O]=-D.read_shift(-8,"f");break;case"B":if(p&&j[O].len==8){u[A][O]=D.read_shift(8,"f");break}case"G":case"P":D.l+=j[O].len;break;case"0":if(j[O].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+j[O].type)}}}if(h!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=j,u}function n(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=Vp(r(l,u),u);return d["!cols"]=u.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete u.DBF,d}function s(l,c){try{return i0(n(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var u=c||{};if(+u.codepage>=0&&Su(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=Sl(),h=iy(l,{header:1,raw:!0,cellDates:!0}),m=h[0],p=h.slice(1),y=l["!cols"]||[],v=0,g=0,b=0,w=1;for(v=0;v<m.length;++v){if(((y[v]||{}).DBF||{}).name){m[v]=y[v].DBF.name,++b;continue}if(m[v]!=null){if(++b,typeof m[v]=="number"&&(m[v]=m[v].toString(10)),typeof m[v]!="string")throw new Error("DBF Invalid column name "+m[v]+" |"+typeof m[v]+"|");if(m.indexOf(m[v])!==v){for(g=0;g<1024;++g)if(m.indexOf(m[v]+"_"+g)==-1){m[v]+="_"+g;break}}}}var j=ia(l["!ref"]),N=[],k=[],P=[];for(v=0;v<=j.e.c-j.s.c;++v){var A="",O="",D=0,R=[];for(g=0;g<p.length;++g)p[g][v]!=null&&R.push(p[g][v]);if(R.length==0||m[v]==null){N[v]="?";continue}for(g=0;g<R.length;++g){switch(typeof R[g]){case"number":O="B";break;case"string":O="C";break;case"boolean":O="L";break;case"object":O=R[g]instanceof Date?"D":"C";break;default:O="C"}D=Math.max(D,String(R[g]).length),A=A&&A!=O?"C":O}D>250&&(D=250),O=((y[v]||{}).DBF||{}).type,O=="C"&&y[v].DBF.len>D&&(D=y[v].DBF.len),A=="B"&&O=="N"&&(A="N",P[v]=y[v].DBF.dec,D=y[v].DBF.len),k[v]=A=="C"||O=="N"?D:i[A]||0,w+=k[v],N[v]=A}var C=d.next(32);for(C.write_shift(4,318902576),C.write_shift(4,p.length),C.write_shift(2,296+32*b),C.write_shift(2,w),v=0;v<4;++v)C.write_shift(4,0);for(C.write_shift(4,0|(+t[H7]||3)<<8),v=0,g=0;v<m.length;++v)if(m[v]!=null){var T=d.next(32),I=(m[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);T.write_shift(1,I,"sbcs"),T.write_shift(1,N[v]=="?"?"C":N[v],"sbcs"),T.write_shift(4,g),T.write_shift(1,k[v]||i[N[v]]||0),T.write_shift(1,P[v]||0),T.write_shift(1,2),T.write_shift(4,0),T.write_shift(1,0),T.write_shift(4,0),T.write_shift(4,0),g+=k[v]||i[N[v]]||0}var B=d.next(264);for(B.write_shift(4,13),v=0;v<65;++v)B.write_shift(4,0);for(v=0;v<p.length;++v){var X=d.next(w);for(X.write_shift(1,0),g=0;g<m.length;++g)if(m[g]!=null)switch(N[g]){case"L":X.write_shift(1,p[v][g]==null?63:p[v][g]?84:70);break;case"B":X.write_shift(8,p[v][g]||0,"f");break;case"N":var re="0";for(typeof p[v][g]=="number"&&(re=p[v][g].toFixed(P[g]||0)),b=0;b<k[g]-re.length;++b)X.write_shift(1,32);X.write_shift(1,re,"sbcs");break;case"D":p[v][g]?(X.write_shift(4,("0000"+p[v][g].getFullYear()).slice(-4),"sbcs"),X.write_shift(2,("00"+(p[v][g].getMonth()+1)).slice(-2),"sbcs"),X.write_shift(2,("00"+p[v][g].getDate()).slice(-2),"sbcs")):X.write_shift(8,"00000000","sbcs");break;case"C":var Z=String(p[v][g]!=null?p[v][g]:"").slice(0,k[g]);for(X.write_shift(1,Z,"sbcs"),b=0;b<k[g]-Z.length;++b)X.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:s,to_sheet:n,from_sheet:o}})(),rR=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Fs(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(m,p){var y=e[p];return typeof y=="number"?lI(y):y},n=function(m,p,y){var v=p.charCodeAt(0)-32<<4|y.charCodeAt(0)-48;return v==59?m:lI(v)};e["|"]=254;function s(m,p){switch(p.type){case"base64":return i(rc(m),p);case"binary":return i(m,p);case"buffer":return i(En&&Buffer.isBuffer(m)?m.toString("binary"):s0(m),p);case"array":return i(Z0(m),p)}throw new Error("Unrecognized type "+p.type)}function i(m,p){var y=m.split(/[\n\r]+/),v=-1,g=-1,b=0,w=0,j=[],N=[],k=null,P={},A=[],O=[],D=[],R=0,C;for(+p.codepage>=0&&Su(+p.codepage);b!==y.length;++b){R=0;var T=y[b].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),I=T.replace(/;;/g,"\0").split(";").map(function(U){return U.replace(/\u0000/g,";")}),B=I[0],X;if(T.length>0)switch(B){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":I[1].charAt(0)=="P"&&N.push(T.slice(3).replace(/;;/g,";"));break;case"C":var re=!1,Z=!1,te=!1,Y=!1,Q=-1,H=-1;for(w=1;w<I.length;++w)switch(I[w].charAt(0)){case"A":break;case"X":g=parseInt(I[w].slice(1))-1,Z=!0;break;case"Y":for(v=parseInt(I[w].slice(1))-1,Z||(g=0),C=j.length;C<=v;++C)j[C]=[];break;case"K":X=I[w].slice(1),X.charAt(0)==='"'?X=X.slice(1,X.length-1):X==="TRUE"?X=!0:X==="FALSE"?X=!1:isNaN(Cu(X))?isNaN(Tp(X).getDate())||(X=ns(X)):(X=Cu(X),k!==null&&Hp(k)&&(X=Jy(X))),re=!0;break;case"E":Y=!0;var E=Zh(I[w].slice(1),{r:v,c:g});j[v][g]=[j[v][g],E];break;case"S":te=!0,j[v][g]=[j[v][g],"S5S"];break;case"G":break;case"R":Q=parseInt(I[w].slice(1))-1;break;case"C":H=parseInt(I[w].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+T)}if(re&&(j[v][g]&&j[v][g].length==2?j[v][g][0]=X:j[v][g]=X,k=null),te){if(Y)throw new Error("SYLK shared formula cannot have own formula");var q=Q>-1&&j[Q][H];if(!q||!q[1])throw new Error("SYLK shared formula cannot find base");j[v][g][1]=bR(q[1],{r:v-Q,c:g-H})}break;case"F":var V=0;for(w=1;w<I.length;++w)switch(I[w].charAt(0)){case"X":g=parseInt(I[w].slice(1))-1,++V;break;case"Y":for(v=parseInt(I[w].slice(1))-1,C=j.length;C<=v;++C)j[C]=[];break;case"M":R=parseInt(I[w].slice(1))/20;break;case"F":break;case"G":break;case"P":k=N[parseInt(I[w].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(D=I[w].slice(1).split(" "),C=parseInt(D[0],10);C<=parseInt(D[1],10);++C)R=parseInt(D[2],10),O[C-1]=R===0?{hidden:!0}:{wch:R},Kf(O[C-1]);break;case"C":g=parseInt(I[w].slice(1))-1,O[g]||(O[g]={});break;case"R":v=parseInt(I[w].slice(1))-1,A[v]||(A[v]={}),R>0?(A[v].hpt=R,A[v].hpx=Pp(R)):R===0&&(A[v].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+T)}V<1&&(k=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+T)}}return A.length>0&&(P["!rows"]=A),O.length>0&&(P["!cols"]=O),p&&p.sheetRows&&(j=j.slice(0,p.sheetRows)),[j,P]}function o(m,p){var y=s(m,p),v=y[0],g=y[1],b=Vp(v,p);return Fs(g).forEach(function(w){b[w]=g[w]}),b}function l(m,p){return i0(o(m,p),p)}function c(m,p,y,v){var g="C;Y"+(y+1)+";X"+(v+1)+";K";switch(m.t){case"n":g+=m.v||0,m.f&&!m.F&&(g+=";E"+cS(m.f,{r:y,c:v}));break;case"b":g+=m.v?"TRUE":"FALSE";break;case"e":g+=m.w||m.v;break;case"d":g+='"'+(m.w||m.v)+'"';break;case"s":g+='"'+m.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return g}function u(m,p){p.forEach(function(y,v){var g="F;W"+(v+1)+" "+(v+1)+" ";y.hidden?g+="0":(typeof y.width=="number"&&!y.wpx&&(y.wpx=$x(y.width)),typeof y.wpx=="number"&&!y.wch&&(y.wch=zx(y.wpx)),typeof y.wch=="number"&&(g+=Math.round(y.wch))),g.charAt(g.length-1)!=" "&&m.push(g)})}function d(m,p){p.forEach(function(y,v){var g="F;";y.hidden?g+="M0;":y.hpt?g+="M"+20*y.hpt+";":y.hpx&&(g+="M"+20*Hx(y.hpx)+";"),g.length>2&&m.push(g+"R"+(v+1))})}function h(m,p){var y=["ID;PWXL;N;E"],v=[],g=ia(m["!ref"]),b,w=Array.isArray(m),j=`\r
`;y.push("P;PGeneral"),y.push("F;P0;DG0G8;M255"),m["!cols"]&&u(y,m["!cols"]),m["!rows"]&&d(y,m["!rows"]),y.push("B;Y"+(g.e.r-g.s.r+1)+";X"+(g.e.c-g.s.c+1)+";D"+[g.s.c,g.s.r,g.e.c,g.e.r].join(" "));for(var N=g.s.r;N<=g.e.r;++N)for(var k=g.s.c;k<=g.e.c;++k){var P=cn({r:N,c:k});b=w?(m[N]||[])[k]:m[P],!(!b||b.v==null&&(!b.f||b.F))&&v.push(c(b,m,N,k))}return y.join(j)+j+v.join(j)+j+"E"+j}return{to_workbook:l,to_sheet:o,from_sheet:h}})(),nR=(function(){function e(i,o){switch(o.type){case"base64":return t(rc(i),o);case"binary":return t(i,o);case"buffer":return t(En&&Buffer.isBuffer(i)?i.toString("binary"):s0(i),o);case"array":return t(Z0(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var l=i.split(`
`),c=-1,u=-1,d=0,h=[];d!==l.length;++d){if(l[d].trim()==="BOT"){h[++c]=[],u=0;continue}if(!(c<0)){var m=l[d].trim().split(","),p=m[0],y=m[1];++d;for(var v=l[d]||"";(v.match(/["]/g)||[]).length&1&&d<l.length-1;)v+=`
`+l[++d];switch(v=v.trim(),+p){case-1:if(v==="BOT"){h[++c]=[],u=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?h[c][u]=!0:v==="FALSE"?h[c][u]=!1:isNaN(Cu(y))?isNaN(Tp(y).getDate())?h[c][u]=y:h[c][u]=ns(y):h[c][u]=Cu(y),++u;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),h[c][u++]=v!==""?v:null;break}if(v==="EOD")break}}return o&&o.sheetRows&&(h=h.slice(0,o.sheetRows)),h}function r(i,o){return Vp(e(i,o),o)}function n(i,o){return i0(r(i,o),o)}var s=(function(){var i=function(c,u,d,h,m){c.push(u),c.push(d+","+h),c.push('"'+m.replace(/"/g,'""')+'"')},o=function(c,u,d,h){c.push(u+","+d),c.push(u==1?'"'+h.replace(/"/g,'""')+'"':h)};return function(c){var u=[],d=ia(c["!ref"]),h,m=Array.isArray(c);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,d.e.r-d.s.r+1,""),i(u,"TUPLES",0,d.e.c-d.s.c+1,""),i(u,"DATA",0,0,"");for(var p=d.s.r;p<=d.e.r;++p){o(u,-1,0,"BOT");for(var y=d.s.c;y<=d.e.c;++y){var v=cn({r:p,c:y});if(h=m?(c[p]||[])[y]:c[v],!h){o(u,1,0,"");continue}switch(h.t){case"n":var g=h.w;!g&&h.v!=null&&(g=h.v),g==null?h.f&&!h.F?o(u,1,0,"="+h.f):o(u,1,0,""):o(u,0,g,"V");break;case"b":o(u,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=Fc(h.z||an[14],Ni(ns(h.v)))),o(u,0,h.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var b=`\r
`,w=u.join(b);return w}})();return{to_workbook:n,to_sheet:r,from_sheet:s}})(),aR=(function(){function e(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(h,m){for(var p=h.split(`
`),y=-1,v=-1,g=0,b=[];g!==p.length;++g){var w=p[g].trim().split(":");if(w[0]==="cell"){var j=js(w[1]);if(b.length<=j.r)for(y=b.length;y<=j.r;++y)b[y]||(b[y]=[]);switch(y=j.r,v=j.c,w[2]){case"t":b[y][v]=e(w[3]);break;case"v":b[y][v]=+w[3];break;case"vtf":var N=w[w.length-1];case"vtc":w[3]==="nl"?b[y][v]=!!+w[4]:b[y][v]=+w[4],w[2]=="vtf"&&(b[y][v]=[b[y][v],N])}}}return m&&m.sheetRows&&(b=b.slice(0,m.sheetRows)),b}function n(h,m){return Vp(r(h,m),m)}function s(h,m){return i0(n(h,m),m)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(h){if(!h||!h["!ref"])return"";for(var m=[],p=[],y,v="",g=_l(h["!ref"]),b=Array.isArray(h),w=g.s.r;w<=g.e.r;++w)for(var j=g.s.c;j<=g.e.c;++j)if(v=cn({r:w,c:j}),y=b?(h[w]||[])[j]:h[v],!(!y||y.v==null||y.t==="z")){switch(p=["cell",v,"t"],y.t){case"s":case"str":p.push(t(y.v));break;case"n":y.f?(p[2]="vtf",p[3]="n",p[4]=y.v,p[5]=t(y.f)):(p[2]="v",p[3]=y.v);break;case"b":p[2]="vt"+(y.f?"f":"c"),p[3]="nl",p[4]=y.v?"1":"0",p[5]=t(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var N=Ni(ns(y.v));p[2]="vtc",p[3]="nd",p[4]=""+N,p[5]=y.w||Fc(y.z||an[14],N);break;case"e":continue}m.push(p.join(":"))}return m.push("sheet:c:"+(g.e.c-g.s.c+1)+":r:"+(g.e.r-g.s.r+1)+":tvf:1"),m.push("valueformat:1:text-wiki"),m.join(`
`)}function d(h){return[i,o,l,o,u(h),c].join(`
`)}return{to_workbook:s,to_sheet:n,from_sheet:d}})(),Op=(function(){function e(d,h,m,p,y){y.raw?h[m][p]=d:d===""||(d==="TRUE"?h[m][p]=!0:d==="FALSE"?h[m][p]=!1:isNaN(Cu(d))?isNaN(Tp(d).getDate())?h[m][p]=d:h[m][p]=ns(d):h[m][p]=Cu(d))}function t(d,h){var m=h||{},p=[];if(!d||d.length===0)return p;for(var y=d.split(/[\r\n]/),v=y.length-1;v>=0&&y[v].length===0;)--v;for(var g=10,b=0,w=0;w<=v;++w)b=y[w].indexOf(" "),b==-1?b=y[w].length:b++,g=Math.max(g,b);for(w=0;w<=v;++w){p[w]=[];var j=0;for(e(y[w].slice(0,g).trim(),p,w,j,m),j=1;j<=(y[w].length-g)/10+1;++j)e(y[w].slice(g+(j-1)*10,g+j*10).trim(),p,w,j,m)}return m.sheetRows&&(p=p.slice(0,m.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function s(d){for(var h={},m=!1,p=0,y=0;p<d.length;++p)(y=d.charCodeAt(p))==34?m=!m:!m&&y in r&&(h[y]=(h[y]||0)+1);y=[];for(p in h)Object.prototype.hasOwnProperty.call(h,p)&&y.push([h[p],p]);if(!y.length){h=n;for(p in h)Object.prototype.hasOwnProperty.call(h,p)&&y.push([h[p],p])}return y.sort(function(v,g){return v[0]-g[0]||n[v[1]]-n[g[1]]}),r[y.pop()[1]]||44}function i(d,h){var m=h||{},p="",y=m.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(p=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(p=d.charAt(4),d=d.slice(6)):p=s(d.slice(0,1024)):m&&m.FS?p=m.FS:p=s(d.slice(0,1024));var g=0,b=0,w=0,j=0,N=0,k=p.charCodeAt(0),P=!1,A=0,O=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var D=m.dateNF!=null?pie(m.dateNF):null;function R(){var C=d.slice(j,N),T={};if(C.charAt(0)=='"'&&C.charAt(C.length-1)=='"'&&(C=C.slice(1,-1).replace(/""/g,'"')),C.length===0)T.t="z";else if(m.raw)T.t="s",T.v=C;else if(C.trim().length===0)T.t="s",T.v=C;else if(C.charCodeAt(0)==61)C.charCodeAt(1)==34&&C.charCodeAt(C.length-1)==34?(T.t="s",T.v=C.slice(2,-1).replace(/""/g,'"')):zde(C)?(T.t="n",T.f=C.slice(1)):(T.t="s",T.v=C);else if(C=="TRUE")T.t="b",T.v=!0;else if(C=="FALSE")T.t="b",T.v=!1;else if(!isNaN(w=Cu(C)))T.t="n",m.cellText!==!1&&(T.w=C),T.v=w;else if(!isNaN(Tp(C).getDate())||D&&C.match(D)){T.z=m.dateNF||an[14];var I=0;D&&C.match(D)&&(C=mie(C,m.dateNF,C.match(D)||[]),I=1),m.cellDates?(T.t="d",T.v=ns(C,I)):(T.t="n",T.v=Ni(ns(C,I))),m.cellText!==!1&&(T.w=Fc(T.z,T.v instanceof Date?Ni(T.v):T.v)),m.cellNF||delete T.z}else T.t="s",T.v=C;if(T.t=="z"||(m.dense?(y[g]||(y[g]=[]),y[g][b]=T):y[cn({c:b,r:g})]=T),j=N+1,O=d.charCodeAt(j),v.e.c<b&&(v.e.c=b),v.e.r<g&&(v.e.r=g),A==k)++b;else if(b=0,++g,m.sheetRows&&m.sheetRows<=g)return!0}e:for(;N<d.length;++N)switch(A=d.charCodeAt(N)){case 34:O===34&&(P=!P);break;case k:case 10:case 13:if(!P&&R())break e;break}return N-j>0&&R(),y["!ref"]=bn(v),y}function o(d,h){return!(h&&h.PRN)||h.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?i(d,h):Vp(t(d,h),h)}function l(d,h){var m="",p=h.type=="string"?[0,0,0,0]:gS(d,h);switch(h.type){case"base64":m=rc(d);break;case"binary":m=d;break;case"buffer":h.codepage==65001?m=d.toString("utf8"):h.codepage&&typeof Dx<"u"||(m=En&&Buffer.isBuffer(d)?d.toString("binary"):s0(d));break;case"array":m=Z0(d);break;case"string":m=d;break;default:throw new Error("Unrecognized type "+h.type)}return p[0]==239&&p[1]==187&&p[2]==191?m=Ra(m.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?m=Ra(m):h.type=="binary"&&typeof Dx<"u",m.slice(0,19)=="socialcalc:version:"?aR.to_sheet(h.type=="string"?m:Ra(m),h):o(m,h)}function c(d,h){return i0(l(d,h),h)}function u(d){for(var h=[],m=ia(d["!ref"]),p,y=Array.isArray(d),v=m.s.r;v<=m.e.r;++v){for(var g=[],b=m.s.c;b<=m.e.c;++b){var w=cn({r:v,c:b});if(p=y?(d[v]||[])[b]:d[w],!p||p.v==null){g.push("          ");continue}for(var j=(p.w||(ef(p),p.w)||"").slice(0,10);j.length<10;)j+=" ";g.push(j+(b===0?" ":""))}h.push(g.join(""))}return h.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}})();function Cce(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var s=rR.to_workbook(e,r);return r.WTF=n,s}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return Op.to_workbook(e,t)}}var z0=(function(){function e(E,q,V){if(E){so(E,E.l||0);for(var U=V.Enum||Q;E.l<E.length;){var G=E.read_shift(2),ne=U[G]||U[65535],de=E.read_shift(2),ce=E.l+de,he=ne.f&&ne.f(E,de,V);if(E.l=ce,q(he,ne,G))return}}}function t(E,q){switch(q.type){case"base64":return r(Jl(rc(E)),q);case"binary":return r(Jl(E),q);case"buffer":case"array":return r(E,q)}throw"Unsupported type "+q.type}function r(E,q){if(!E)return E;var V=q||{},U=V.dense?[]:{},G="Sheet1",ne="",de=0,ce={},he=[],Le=[],se={s:{r:0,c:0},e:{r:0,c:0}},Fe=V.sheetRows||0;if(E[2]==0&&(E[3]==8||E[3]==9)&&E.length>=16&&E[14]==5&&E[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(E[2]==2)V.Enum=Q,e(E,function(ke,we,Pe){switch(Pe){case 0:V.vers=ke,ke>=4096&&(V.qpro=!0);break;case 6:se=ke;break;case 204:ke&&(ne=ke);break;case 222:ne=ke;break;case 15:case 51:V.qpro||(ke[1].v=ke[1].v.slice(1));case 13:case 14:case 16:Pe==14&&(ke[2]&112)==112&&(ke[2]&15)>1&&(ke[2]&15)<15&&(ke[1].z=V.dateNF||an[14],V.cellDates&&(ke[1].t="d",ke[1].v=Jy(ke[1].v))),V.qpro&&ke[3]>de&&(U["!ref"]=bn(se),ce[G]=U,he.push(G),U=V.dense?[]:{},se={s:{r:0,c:0},e:{r:0,c:0}},de=ke[3],G=ne||"Sheet"+(de+1),ne="");var pe=V.dense?(U[ke[0].r]||[])[ke[0].c]:U[cn(ke[0])];if(pe){pe.t=ke[1].t,pe.v=ke[1].v,ke[1].z!=null&&(pe.z=ke[1].z),ke[1].f!=null&&(pe.f=ke[1].f);break}V.dense?(U[ke[0].r]||(U[ke[0].r]=[]),U[ke[0].r][ke[0].c]=ke[1]):U[cn(ke[0])]=ke[1];break}},V);else if(E[2]==26||E[2]==14)V.Enum=H,E[2]==14&&(V.qpro=!0,E.l=0),e(E,function(ke,we,Pe){switch(Pe){case 204:G=ke;break;case 22:ke[1].v=ke[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ke[3]>de&&(U["!ref"]=bn(se),ce[G]=U,he.push(G),U=V.dense?[]:{},se={s:{r:0,c:0},e:{r:0,c:0}},de=ke[3],G="Sheet"+(de+1)),Fe>0&&ke[0].r>=Fe)break;V.dense?(U[ke[0].r]||(U[ke[0].r]=[]),U[ke[0].r][ke[0].c]=ke[1]):U[cn(ke[0])]=ke[1],se.e.c<ke[0].c&&(se.e.c=ke[0].c),se.e.r<ke[0].r&&(se.e.r=ke[0].r);break;case 27:ke[14e3]&&(Le[ke[14e3][0]]=ke[14e3][1]);break;case 1537:Le[ke[0]]=ke[1],ke[0]==de&&(G=ke[1]);break}},V);else throw new Error("Unrecognized LOTUS BOF "+E[2]);if(U["!ref"]=bn(se),ce[ne||G]=U,he.push(ne||G),!Le.length)return{SheetNames:he,Sheets:ce};for(var _e={},oe=[],ae=0;ae<Le.length;++ae)ce[he[ae]]?(oe.push(Le[ae]||he[ae]),_e[Le[ae]]=ce[Le[ae]]||ce[he[ae]]):(oe.push(Le[ae]),_e[Le[ae]]={"!ref":"A1"});return{SheetNames:oe,Sheets:_e}}function n(E,q){var V=q||{};if(+V.codepage>=0&&Su(+V.codepage),V.type=="string")throw new Error("Cannot write WK1 to JS string");var U=Sl(),G=ia(E["!ref"]),ne=Array.isArray(E),de=[];fr(U,0,i(1030)),fr(U,6,c(G));for(var ce=Math.min(G.e.r,8191),he=G.s.r;he<=ce;++he)for(var Le=Ys(he),se=G.s.c;se<=G.e.c;++se){he===G.s.r&&(de[se]=Ns(se));var Fe=de[se]+Le,_e=ne?(E[he]||[])[se]:E[Fe];if(!(!_e||_e.t=="z"))if(_e.t=="n")(_e.v|0)==_e.v&&_e.v>=-32768&&_e.v<=32767?fr(U,13,p(he,se,_e.v)):fr(U,14,v(he,se,_e.v));else{var oe=ef(_e);fr(U,15,h(he,se,oe.slice(0,239)))}}return fr(U,1),U.end()}function s(E,q){var V=q||{};if(+V.codepage>=0&&Su(+V.codepage),V.type=="string")throw new Error("Cannot write WK3 to JS string");var U=Sl();fr(U,0,o(E));for(var G=0,ne=0;G<E.SheetNames.length;++G)(E.Sheets[E.SheetNames[G]]||{})["!ref"]&&fr(U,27,Y(E.SheetNames[G],ne++));var de=0;for(G=0;G<E.SheetNames.length;++G){var ce=E.Sheets[E.SheetNames[G]];if(!(!ce||!ce["!ref"])){for(var he=ia(ce["!ref"]),Le=Array.isArray(ce),se=[],Fe=Math.min(he.e.r,8191),_e=he.s.r;_e<=Fe;++_e)for(var oe=Ys(_e),ae=he.s.c;ae<=he.e.c;++ae){_e===he.s.r&&(se[ae]=Ns(ae));var ke=se[ae]+oe,we=Le?(ce[_e]||[])[ae]:ce[ke];if(!(!we||we.t=="z"))if(we.t=="n")fr(U,23,R(_e,ae,de,we.v));else{var Pe=ef(we);fr(U,22,A(_e,ae,de,Pe.slice(0,239)))}}++de}}return fr(U,1),U.end()}function i(E){var q=Mt(2);return q.write_shift(2,E),q}function o(E){var q=Mt(26);q.write_shift(2,4096),q.write_shift(2,4),q.write_shift(4,0);for(var V=0,U=0,G=0,ne=0;ne<E.SheetNames.length;++ne){var de=E.SheetNames[ne],ce=E.Sheets[de];if(!(!ce||!ce["!ref"])){++G;var he=_l(ce["!ref"]);V<he.e.r&&(V=he.e.r),U<he.e.c&&(U=he.e.c)}}return V>8191&&(V=8191),q.write_shift(2,V),q.write_shift(1,G),q.write_shift(1,U),q.write_shift(2,0),q.write_shift(2,0),q.write_shift(1,1),q.write_shift(1,2),q.write_shift(4,0),q.write_shift(4,0),q}function l(E,q,V){var U={s:{c:0,r:0},e:{c:0,r:0}};return q==8&&V.qpro?(U.s.c=E.read_shift(1),E.l++,U.s.r=E.read_shift(2),U.e.c=E.read_shift(1),E.l++,U.e.r=E.read_shift(2),U):(U.s.c=E.read_shift(2),U.s.r=E.read_shift(2),q==12&&V.qpro&&(E.l+=2),U.e.c=E.read_shift(2),U.e.r=E.read_shift(2),q==12&&V.qpro&&(E.l+=2),U.s.c==65535&&(U.s.c=U.e.c=U.s.r=U.e.r=0),U)}function c(E){var q=Mt(8);return q.write_shift(2,E.s.c),q.write_shift(2,E.s.r),q.write_shift(2,E.e.c),q.write_shift(2,E.e.r),q}function u(E,q,V){var U=[{c:0,r:0},{t:"n",v:0},0,0];return V.qpro&&V.vers!=20768?(U[0].c=E.read_shift(1),U[3]=E.read_shift(1),U[0].r=E.read_shift(2),E.l+=2):(U[2]=E.read_shift(1),U[0].c=E.read_shift(2),U[0].r=E.read_shift(2)),U}function d(E,q,V){var U=E.l+q,G=u(E,q,V);if(G[1].t="s",V.vers==20768){E.l++;var ne=E.read_shift(1);return G[1].v=E.read_shift(ne,"utf8"),G}return V.qpro&&E.l++,G[1].v=E.read_shift(U-E.l,"cstr"),G}function h(E,q,V){var U=Mt(7+V.length);U.write_shift(1,255),U.write_shift(2,q),U.write_shift(2,E),U.write_shift(1,39);for(var G=0;G<U.length;++G){var ne=V.charCodeAt(G);U.write_shift(1,ne>=128?95:ne)}return U.write_shift(1,0),U}function m(E,q,V){var U=u(E,q,V);return U[1].v=E.read_shift(2,"i"),U}function p(E,q,V){var U=Mt(7);return U.write_shift(1,255),U.write_shift(2,q),U.write_shift(2,E),U.write_shift(2,V,"i"),U}function y(E,q,V){var U=u(E,q,V);return U[1].v=E.read_shift(8,"f"),U}function v(E,q,V){var U=Mt(13);return U.write_shift(1,255),U.write_shift(2,q),U.write_shift(2,E),U.write_shift(8,V,"f"),U}function g(E,q,V){var U=E.l+q,G=u(E,q,V);if(G[1].v=E.read_shift(8,"f"),V.qpro)E.l=U;else{var ne=E.read_shift(2);N(E.slice(E.l,E.l+ne),G),E.l+=ne}return G}function b(E,q,V){var U=q&32768;return q&=-32769,q=(U?E:0)+(q>=8192?q-16384:q),(U?"":"$")+(V?Ns(q):Ys(q))}var w={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},j=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function N(E,q){so(E,0);for(var V=[],U=0,G="",ne="",de="",ce="";E.l<E.length;){var he=E[E.l++];switch(he){case 0:V.push(E.read_shift(8,"f"));break;case 1:ne=b(q[0].c,E.read_shift(2),!0),G=b(q[0].r,E.read_shift(2),!1),V.push(ne+G);break;case 2:{var Le=b(q[0].c,E.read_shift(2),!0),se=b(q[0].r,E.read_shift(2),!1);ne=b(q[0].c,E.read_shift(2),!0),G=b(q[0].r,E.read_shift(2),!1),V.push(Le+se+":"+ne+G)}break;case 3:if(E.l<E.length){console.error("WK1 premature formula end");return}break;case 4:V.push("("+V.pop()+")");break;case 5:V.push(E.read_shift(2));break;case 6:{for(var Fe="";he=E[E.l++];)Fe+=String.fromCharCode(he);V.push('"'+Fe.replace(/"/g,'""')+'"')}break;case 8:V.push("-"+V.pop());break;case 23:V.push("+"+V.pop());break;case 22:V.push("NOT("+V.pop()+")");break;case 20:case 21:ce=V.pop(),de=V.pop(),V.push(["AND","OR"][he-20]+"("+de+","+ce+")");break;default:if(he<32&&j[he])ce=V.pop(),de=V.pop(),V.push(de+j[he]+ce);else if(w[he]){if(U=w[he][1],U==69&&(U=E[E.l++]),U>V.length){console.error("WK1 bad formula parse 0x"+he.toString(16)+":|"+V.join("|")+"|");return}var _e=V.slice(-U);V.length-=U,V.push(w[he][0]+"("+_e.join(",")+")")}else return he<=7?console.error("WK1 invalid opcode "+he.toString(16)):he<=24?console.error("WK1 unsupported op "+he.toString(16)):he<=30?console.error("WK1 invalid opcode "+he.toString(16)):he<=115?console.error("WK1 unsupported function opcode "+he.toString(16)):console.error("WK1 unrecognized opcode "+he.toString(16))}}V.length==1?q[1].f=""+V[0]:console.error("WK1 bad formula parse |"+V.join("|")+"|")}function k(E){var q=[{c:0,r:0},{t:"n",v:0},0];return q[0].r=E.read_shift(2),q[3]=E[E.l++],q[0].c=E[E.l++],q}function P(E,q){var V=k(E);return V[1].t="s",V[1].v=E.read_shift(q-4,"cstr"),V}function A(E,q,V,U){var G=Mt(6+U.length);G.write_shift(2,E),G.write_shift(1,V),G.write_shift(1,q),G.write_shift(1,39);for(var ne=0;ne<U.length;++ne){var de=U.charCodeAt(ne);G.write_shift(1,de>=128?95:de)}return G.write_shift(1,0),G}function O(E,q){var V=k(E);V[1].v=E.read_shift(2);var U=V[1].v>>1;if(V[1].v&1)switch(U&7){case 0:U=(U>>3)*5e3;break;case 1:U=(U>>3)*500;break;case 2:U=(U>>3)/20;break;case 3:U=(U>>3)/200;break;case 4:U=(U>>3)/2e3;break;case 5:U=(U>>3)/2e4;break;case 6:U=(U>>3)/16;break;case 7:U=(U>>3)/64;break}return V[1].v=U,V}function D(E,q){var V=k(E),U=E.read_shift(4),G=E.read_shift(4),ne=E.read_shift(2);if(ne==65535)return U===0&&G===3221225472?(V[1].t="e",V[1].v=15):U===0&&G===3489660928?(V[1].t="e",V[1].v=42):V[1].v=0,V;var de=ne&32768;return ne=(ne&32767)-16446,V[1].v=(1-de*2)*(G*Math.pow(2,ne+32)+U*Math.pow(2,ne)),V}function R(E,q,V,U){var G=Mt(14);if(G.write_shift(2,E),G.write_shift(1,V),G.write_shift(1,q),U==0)return G.write_shift(4,0),G.write_shift(4,0),G.write_shift(2,65535),G;var ne=0,de=0,ce=0,he=0;return U<0&&(ne=1,U=-U),de=Math.log2(U)|0,U/=Math.pow(2,de-31),he=U>>>0,(he&2147483648)==0&&(U/=2,++de,he=U>>>0),U-=he,he|=2147483648,he>>>=0,U*=Math.pow(2,32),ce=U>>>0,G.write_shift(4,ce),G.write_shift(4,he),de+=16383+(ne?32768:0),G.write_shift(2,de),G}function C(E,q){var V=D(E);return E.l+=q-14,V}function T(E,q){var V=k(E),U=E.read_shift(4);return V[1].v=U>>6,V}function I(E,q){var V=k(E),U=E.read_shift(8,"f");return V[1].v=U,V}function B(E,q){var V=I(E);return E.l+=q-10,V}function X(E,q){return E[E.l+q-1]==0?E.read_shift(q,"cstr"):""}function re(E,q){var V=E[E.l++];V>q-1&&(V=q-1);for(var U="";U.length<V;)U+=String.fromCharCode(E[E.l++]);return U}function Z(E,q,V){if(!(!V.qpro||q<21)){var U=E.read_shift(1);E.l+=17,E.l+=1,E.l+=2;var G=E.read_shift(q-21,"cstr");return[U,G]}}function te(E,q){for(var V={},U=E.l+q;E.l<U;){var G=E.read_shift(2);if(G==14e3){for(V[G]=[0,""],V[G][0]=E.read_shift(2);E[E.l];)V[G][1]+=String.fromCharCode(E[E.l]),E.l++;E.l++}}return V}function Y(E,q){var V=Mt(5+E.length);V.write_shift(2,14e3),V.write_shift(2,q);for(var U=0;U<E.length;++U){var G=E.charCodeAt(U);V[V.l++]=G>127?95:G}return V[V.l++]=0,V}var Q={0:{n:"BOF",f:ii},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:m},14:{n:"NUMBER",f:y},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:g},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:X},222:{n:"SHEETNAMELP",f:re},65535:{n:""}},H={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:P},23:{n:"NUMBER17",f:D},24:{n:"NUMBER18",f:O},25:{n:"FORMULA19",f:C},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:te},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:T},38:{n:"??"},39:{n:"NUMBER27",f:I},40:{n:"FORMULA28",f:B},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:X},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Z},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:s,to_workbook:t}})();function Tce(e){var t={},r=e.match(Uo),n=0,s=!1;if(r)for(;n!=r.length;++n){var i=dn(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=D3[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(i[0].charCodeAt(1)!==47&&!s)throw new Error("Unrecognized rich format "+i[0])}}return t}var Oce=(function(){var e=Mx("t"),t=Mx("rPr");function r(i){var o=i.match(e);if(!o)return{t:"s",v:""};var l={t:"s",v:sa(o[1])},c=i.match(t);return c&&(l.s=Tce(c[1])),l}var n=/<(?:\w+:)?r>/g,s=/<\/(?:\w+:)?r>/;return function(o){return o.replace(n,"").split(s).map(r).filter(function(l){return l.v})}})(),Pce=(function(){var t=/(\r\n|\n)/g;function r(s,i,o){var l=[];s.u&&l.push("text-decoration: underline;"),s.uval&&l.push("text-underline-style:"+s.uval+";"),s.sz&&l.push("font-size:"+s.sz+"pt;"),s.outline&&l.push("text-effect: outline;"),s.shadow&&l.push("text-shadow: auto;"),i.push('<span style="'+l.join("")+'">'),s.b&&(i.push("<b>"),o.push("</b>")),s.i&&(i.push("<i>"),o.push("</i>")),s.strike&&(i.push("<s>"),o.push("</s>"));var c=s.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(i.push("<"+c+">"),o.push("</"+c+">")),o.push("</span>"),s}function n(s){var i=[[],s.v,[]];return s.v?(s.s&&r(s.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}})(),Ice=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,Dce=/<(?:\w+:)?r>/,Lce=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function aS(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=sa(Ra(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Ra(e),r&&(n.h=H3(n.t))):e.match(Dce)&&(n.r=Ra(e),n.t=sa(Ra((e.replace(Lce,"").match(Ice)||[]).join("").replace(Uo,""))),r&&(n.h=Pce(Oce(n.r)))),n):{t:""}}var Fce=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,Mce=/<(?:\w+:)?(?:si|sstItem)>/g,Rce=/<\/(?:\w+:)?(?:si|sstItem)>/;function Bce(e,t){var r=[],n="";if(!e)return r;var s=e.match(Fce);if(s){n=s[2].replace(Mce,"").split(Rce);for(var i=0;i!=n.length;++i){var o=aS(n[i].trim(),t);o!=null&&(r[r.length]=o)}s=dn(s[1]),r.Count=s.count,r.Unique=s.uniqueCount}return r}var Uce=/^\s|\s$|[\t\n\r]/;function sR(e,t){if(!t.bookSST)return"";var r=[Js];r[r.length]=ur("sst",null,{xmlns:ch[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var s=e[n],i="<si>";s.r?i+=s.r:(i+="<t",s.t||(s.t=""),s.t.match(Uce)&&(i+=' xml:space="preserve"'),i+=">"+Oa(s.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function qce(e){return[e.read_shift(4),e.read_shift(4)]}function $ce(e,t){var r=[],n=!1;return of(e,function(i,o,l){switch(l){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(o.T,!n||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),r}function zce(e,t){return t||(t=Mt(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var Hce=eoe;function Wce(e){var t=Sl();Vt(t,159,zce(e));for(var r=0;r<e.length;++r)Vt(t,19,Hce(e[r]));return Vt(t,160),t.end()}function iR(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function Kd(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function Vce(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Kd(e,4),t.U=Kd(e,4),t.W=Kd(e,4),t}function Gce(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},s=e.read_shift(4),i=[];s-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function Kce(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(Gce(e));return t}function Xce(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function Yce(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Kd(e,4),t.U=Kd(e,4),t.W=Kd(e,4),t}function Jce(e){var t=Yce(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function oR(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var s=!1;switch(n.AlgID){case 26126:case 26127:case 26128:s=n.Flags==36;break;case 26625:s=n.Flags==4;break;case 0:s=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!s)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function lR(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function Qce(e){var t=Kd(e);switch(t.Minor){case 2:return[t.Minor,Zce(e)];case 3:return[t.Minor,eue()];case 4:return[t.Minor,tue(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function Zce(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=oR(e,r),s=lR(e,e.length-e.l);return{t:"Std",h:n,v:s}}function eue(){throw new Error("File is password-protected: ECMA-376 Extensible")}function tue(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Uo,function(i){var o=dn(i);switch(md(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(l){n[l]=o[l]});break;case"<dataIntegrity":n.encryptedHmacKey=o.encryptedHmacKey,n.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(o);break;default:throw o[0]}}),n}function rue(e,t){var r={},n=r.EncryptionVersionInfo=Kd(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var s=e.read_shift(4);return t-=4,r.EncryptionHeader=oR(e,s),t-=s,r.EncryptionVerifier=lR(e,t),r}function nue(e){var t={},r=t.EncryptionVersionInfo=Kd(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function sS(e){var t=0,r,n=iR(e),s=n.length+1,i,o,l,c,u;for(r=Gf(s),r[0]=n.length,i=1;i!=s;++i)r[i]=n[i-1];for(i=s-1;i>=0;--i)o=r[i],l=(t&16384)===0?0:1,c=t<<1&32767,u=l|c,t=u^o;return t^52811}var cR=(function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(o){return(o/2|o*128)&255},s=function(o,l){return n(o^l)},i=function(o){for(var l=t[o.length-1],c=104,u=o.length-1;u>=0;--u)for(var d=o[u],h=0;h!=7;++h)d&64&&(l^=r[c]),d*=2,--c;return l};return function(o){for(var l=iR(o),c=i(l),u=l.length,d=Gf(16),h=0;h!=16;++h)d[h]=0;var m,p,y;for((u&1)===1&&(m=c>>8,d[u]=s(e[0],m),--u,m=c&255,p=l[l.length-1],d[u]=s(p,m));u>0;)--u,m=c>>8,d[u]=s(l[u],m),--u,m=c&255,d[u]=s(l[u],m);for(u=15,y=15-l.length;y>0;)m=c>>8,d[u]=s(e[y],m),--u,--y,m=c&255,d[u]=s(l[u],m),--u,--y;return d}})(),aue=function(e,t,r,n,s){s||(s=t),n||(n=cR(e));var i,o;for(i=0;i!=t.length;++i)o=t[i],o^=n[r],o=(o>>5|o<<3)&255,s[i]=o,++r;return[s,r,n]},sue=function(e){var t=0,r=cR(e);return function(n){var s=aue("",n,t,r);return t=s[1],s[0]}};function iue(e,t,r,n){var s={key:ii(e),verificationBytes:ii(e)};return r.password&&(s.verifier=sS(r.password)),n.valid=s.verificationBytes===s.verifier,n.valid&&(n.insitu=sue(r.password)),s}function oue(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=nue(e):n.Data=rue(e,t),n}function lue(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?oue(e,t-2,n):iue(e,r.biff>=8?t:t-2,r,n),n}var uR=(function(){function e(s,i){switch(i.type){case"base64":return t(rc(s),i);case"binary":return t(s,i);case"buffer":return t(En&&Buffer.isBuffer(s)?s.toString("binary"):s0(s),i);case"array":return t(Z0(s),i)}throw new Error("Unrecognized type "+i.type)}function t(s,i){var o=i||{},l=o.dense?[]:{},c=s.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,h){Array.isArray(l)&&(l[h]=[]);for(var m=/\\\w+\b/g,p=0,y,v=-1;y=m.exec(d);){switch(y[0]){case"\\cell":var g=d.slice(p,m.lastIndex-y[0].length);if(g[0]==" "&&(g=g.slice(1)),++v,g.length){var b={v:g,t:"s"};Array.isArray(l)?l[h][v]=b:l[cn({r:h,c:v})]=b}break}p=m.lastIndex}v>u.e.c&&(u.e.c=v)}),l["!ref"]=bn(u),l}function r(s,i){return i0(e(s,i),i)}function n(s){for(var i=["{\\rtf1\\ansi"],o=ia(s["!ref"]),l,c=Array.isArray(s),u=o.s.r;u<=o.e.r;++u){i.push("\\trowd\\trautofit1");for(var d=o.s.c;d<=o.e.c;++d)i.push("\\cellx"+(d+1));for(i.push("\\pard\\intbl"),d=o.s.c;d<=o.e.c;++d){var h=cn({r:u,c:d});l=c?(s[u]||[])[d]:s[h],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(ef(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}})();function cue(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function qx(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function uue(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,s=Math.max(t,r,n),i=Math.min(t,r,n),o=s-i;if(o===0)return[0,0,t];var l=0,c=0,u=s+i;switch(c=o/(u>1?2-u:u),s){case t:l=((r-n)/o+6)%6;break;case r:l=(n-t)/o+2;break;case n:l=(t-r)/o+4;break}return[l/6,c,u/2]}function due(e){var t=e[0],r=e[1],n=e[2],s=r*2*(n<.5?n:1-n),i=n-s/2,o=[i,i,i],l=6*t,c;if(r!==0)switch(l|0){case 0:case 6:c=s*l,o[0]+=s,o[1]+=c;break;case 1:c=s*(2-l),o[0]+=c,o[1]+=s;break;case 2:c=s*(l-2),o[1]+=s,o[2]+=c;break;case 3:c=s*(4-l),o[1]+=c,o[2]+=s;break;case 4:c=s*(l-4),o[2]+=s,o[0]+=c;break;case 5:c=s*(6-l),o[2]+=c,o[0]+=s;break}for(var u=0;u!=3;++u)o[u]=Math.round(o[u]*255);return o}function ny(e,t){if(t===0)return e;var r=uue(cue(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),qx(due(r))}var dR=6,fue=15,hue=1,Lo=dR;function $x(e){return Math.floor((e+Math.round(128/Lo)/256)*Lo)}function zx(e){return Math.floor((e-5)/Lo*100+.5)/100}function ay(e){return Math.round((e*Lo+5)/Lo*256)/256}function JN(e){return ay(zx($x(e)))}function iS(e){var t=Math.abs(e-JN(e)),r=Lo;if(t>.005)for(Lo=hue;Lo<fue;++Lo)Math.abs(e-JN(e))<=t&&(t=Math.abs(e-JN(e)),r=Lo);Lo=r}function Kf(e){e.width?(e.wpx=$x(e.width),e.wch=zx(e.wpx),e.MDW=Lo):e.wpx?(e.wch=zx(e.wpx),e.width=ay(e.wch),e.MDW=Lo):typeof e.wch=="number"&&(e.width=ay(e.wch),e.wpx=$x(e.width),e.MDW=Lo),e.customWidth&&delete e.customWidth}var pue=96,fR=pue;function Hx(e){return e*96/fR}function Pp(e){return e*fR/96}var mue={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function xue(e,t,r,n){t.Borders=[];var s={},i=!1;(e[0].match(Uo)||[]).forEach(function(o){var l=dn(o);switch(md(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":s={},l.diagonalUp&&(s.diagonalUp=ts(l.diagonalUp)),l.diagonalDown&&(s.diagonalDown=ts(l.diagonalDown)),t.Borders.push(s);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in borders")}})}function gue(e,t,r,n){t.Fills=[];var s={},i=!1;(e[0].match(Uo)||[]).forEach(function(o){var l=dn(o);switch(md(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":s={},t.Fills.push(s);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(s),s={};break;case"<patternFill":case"<patternFill>":l.patternType&&(s.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":s.bgColor||(s.bgColor={}),l.indexed&&(s.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(s.bgColor.theme=parseInt(l.theme,10)),l.tint&&(s.bgColor.tint=parseFloat(l.tint)),l.rgb&&(s.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":s.fgColor||(s.fgColor={}),l.theme&&(s.fgColor.theme=parseInt(l.theme,10)),l.tint&&(s.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(s.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fills")}})}function vue(e,t,r,n){t.Fonts=[];var s={},i=!1;(e[0].match(Uo)||[]).forEach(function(o){var l=dn(o);switch(md(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(s),s={};break;case"<name":l.val&&(s.name=Ra(l.val));break;case"<name/>":case"</name>":break;case"<b":s.bold=l.val?ts(l.val):1;break;case"<b/>":s.bold=1;break;case"<i":s.italic=l.val?ts(l.val):1;break;case"<i/>":s.italic=1;break;case"<u":switch(l.val){case"none":s.underline=0;break;case"single":s.underline=1;break;case"double":s.underline=2;break;case"singleAccounting":s.underline=33;break;case"doubleAccounting":s.underline=34;break}break;case"<u/>":s.underline=1;break;case"<strike":s.strike=l.val?ts(l.val):1;break;case"<strike/>":s.strike=1;break;case"<outline":s.outline=l.val?ts(l.val):1;break;case"<outline/>":s.outline=1;break;case"<shadow":s.shadow=l.val?ts(l.val):1;break;case"<shadow/>":s.shadow=1;break;case"<condense":s.condense=l.val?ts(l.val):1;break;case"<condense/>":s.condense=1;break;case"<extend":s.extend=l.val?ts(l.val):1;break;case"<extend/>":s.extend=1;break;case"<sz":l.val&&(s.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(s.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(s.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(s.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=D3[parseInt(l.val,10)];break;case"<color":if(s.color||(s.color={}),l.auto&&(s.color.auto=ts(l.auto)),l.rgb)s.color.rgb=l.rgb.slice(-6);else if(l.indexed){s.color.index=parseInt(l.indexed,10);var c=q0[s.color.index];s.color.index==81&&(c=q0[1]),c||(c=q0[1]),s.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else l.theme&&(s.color.theme=parseInt(l.theme,10),l.tint&&(s.color.tint=parseFloat(l.tint)),l.theme&&r.themeElements&&r.themeElements.clrScheme&&(s.color.rgb=ny(r.themeElements.clrScheme[s.color.theme].rgb,s.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fonts")}})}function yue(e,t,r){t.NumberFmt=[];for(var n=Fs(an),s=0;s<n.length;++s)t.NumberFmt[n[s]]=an[n[s]];var i=e[0].match(Uo);if(i)for(s=0;s<i.length;++s){var o=dn(i[s]);switch(md(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=sa(Ra(o.formatCode)),c=parseInt(o.numFmtId,10);if(t.NumberFmt[c]=l,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=l}Gd(l,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}function bue(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=ur("numFmt",null,{numFmtId:n,formatCode:Oa(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=ur("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var xv=["numFmtId","fillId","fontId","borderId","xfId"],gv=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function wue(e,t,r){t.CellXf=[];var n,s=!1;(e[0].match(Uo)||[]).forEach(function(i){var o=dn(i),l=0;switch(md(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=o,delete n[0],l=0;l<xv.length;++l)n[xv[l]]&&(n[xv[l]]=parseInt(n[xv[l]],10));for(l=0;l<gv.length;++l)n[gv[l]]&&(n[gv[l]]=ts(n[gv[l]]));if(t.NumberFmt&&n.numFmtId>392){for(l=392;l>60;--l)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[l]){n.numFmtId=l;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};o.vertical&&(c.vertical=o.vertical),o.horizontal&&(c.horizontal=o.horizontal),o.textRotation!=null&&(c.textRotation=o.textRotation),o.indent&&(c.indent=o.indent),o.wrapText&&(c.wrapText=ts(o.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}function Nue(e){var t=[];return t[t.length]=ur("cellXfs",null),e.forEach(function(r){t[t.length]=ur("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=ur("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var jue=(function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,s=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,c,u){var d={};if(!l)return d;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var h;return(h=l.match(t))&&yue(h,d,u),(h=l.match(s))&&vue(h,d,c,u),(h=l.match(n))&&gue(h,d,c,u),(h=l.match(i))&&xue(h,d,c,u),(h=l.match(r))&&wue(h,d,u),d}})();function hR(e,t){var r=[Js,ur("styleSheet",null,{xmlns:ch[0],"xmlns:vt":yi.vt})],n;return e.SSF&&(n=bue(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=Nue(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function kue(e,t){var r=e.read_shift(2),n=Ro(e);return[r,n]}function Sue(e,t,r){r||(r=Mt(6+4*t.length)),r.write_shift(2,e),qi(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function _ue(e,t,r){var n={};n.sz=e.read_shift(2)/20;var s=ooe(e);s.fItalic&&(n.italic=1),s.fCondense&&(n.condense=1),s.fExtend&&(n.extend=1),s.fShadow&&(n.shadow=1),s.fOutline&&(n.outline=1),s.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(n.underline=o);var l=e.read_shift(1);l>0&&(n.family=l);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=ioe(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Ro(e),n}function Aue(e,t){t||(t=Mt(153)),t.write_shift(2,e.sz*20),loe(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),ey(e.color,t);var n=0;return n=2,t.write_shift(1,n),qi(e.name,t),t.length>t.l?t.slice(0,t.l):t}var Eue=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],QN,Cue=Bo;function QI(e,t){t||(t=Mt(84)),QN||(QN=Xy(Eue));var r=QN[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(ey({auto:1},t),ey({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function Tue(e,t){var r=e.l+t,n=e.read_shift(2),s=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:s}}function pR(e,t,r){r||(r=Mt(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function gm(e,t){return t||(t=Mt(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var Oue=Bo;function Pue(e,t){return t||(t=Mt(51)),t.write_shift(1,0),gm(null,t),gm(null,t),gm(null,t),gm(null,t),gm(null,t),t.length>t.l?t.slice(0,t.l):t}function Iue(e,t){return t||(t=Mt(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),Z1(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function Due(e,t,r){var n=Mt(2052);return n.write_shift(4,e),Z1(t,n),Z1(r,n),n.length>n.l?n.slice(0,n.l):n}function Lue(e,t,r){var n={};n.NumberFmt=[];for(var s in an)n.NumberFmt[s]=an[s];n.CellXf=[],n.Fonts=[];var i=[],o=!1;return of(e,function(c,u,d){switch(d){case 44:n.NumberFmt[c[0]]=c[1],Gd(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=ny(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:i.push(d),o=!0;break;case 38:i.pop(),o=!1;break;default:if(u.T>0)i.push(d);else if(u.T<0)i.pop();else if(!o||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}function Fue(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)t[s]!=null&&++r}),r!=0&&(Vt(e,615,Tu(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)t[s]!=null&&Vt(e,44,Sue(s,t[s]))}),Vt(e,616))}}function Mue(e){var t=1;Vt(e,611,Tu(t)),Vt(e,43,Aue({sz:12,color:{theme:1},name:"Calibri",family:2})),Vt(e,612)}function Rue(e){var t=2;Vt(e,603,Tu(t)),Vt(e,45,QI({patternType:"none"})),Vt(e,45,QI({patternType:"gray125"})),Vt(e,604)}function Bue(e){var t=1;Vt(e,613,Tu(t)),Vt(e,46,Pue()),Vt(e,614)}function Uue(e){var t=1;Vt(e,626,Tu(t)),Vt(e,47,pR({numFmtId:0},65535)),Vt(e,627)}function que(e,t){Vt(e,617,Tu(t.length)),t.forEach(function(r){Vt(e,47,pR(r,0))}),Vt(e,618)}function $ue(e){var t=1;Vt(e,619,Tu(t)),Vt(e,48,Iue({xfId:0,name:"Normal"})),Vt(e,620)}function zue(e){var t=0;Vt(e,505,Tu(t)),Vt(e,506)}function Hue(e){var t=0;Vt(e,508,Due(t,"TableStyleMedium9","PivotStyleMedium4")),Vt(e,509)}function Wue(e,t){var r=Sl();return Vt(r,278),Fue(r,e.SSF),Mue(r),Rue(r),Bue(r),Uue(r),que(r,t.cellXfs),$ue(r),zue(r),Hue(r),Vt(r,279),r.end()}var Vue=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function Gue(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Uo)||[]).forEach(function(s){var i=dn(s);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[Vue.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function Kue(){}function Xue(){}var Yue=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,Jue=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,Que=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function Zue(e,t,r){t.themeElements={};var n;[["clrScheme",Yue,Gue],["fontScheme",Jue,Kue],["fmtScheme",Que,Xue]].forEach(function(s){if(!(n=e.match(s[1])))throw new Error(s[0]+" not found in themeElements");s[2](n,t,r)})}var ede=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function mR(e,t){(!e||e.length===0)&&(e=oS());var r,n={};if(!(r=e.match(ede)))throw new Error("themeElements not found in theme");return Zue(r[0],n,t),n.raw=e,n}function oS(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[Js];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function tde(e,t,r){var n=e.l+t,s=e.read_shift(4);if(s!==124226){if(!r.cellStyles){e.l=n;return}var i=e.slice(e.l);e.l=n;var o;try{o=oM(i,{type:"array"})}catch{return}var l=Ql(o,"theme/theme/theme1.xml",!0);if(l)return mR(l,r)}}function rde(e){return e.read_shift(4)}function nde(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=ade(e,4);break;case 2:t.xclrValue=KM(e);break;case 3:t.xclrValue=rde(e);break;case 4:e.l+=4;break}return e.l+=8,t}function ade(e,t){return Bo(e,t)}function sde(e,t){return Bo(e,t)}function ide(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=nde(e);break;case 6:n[1]=sde(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function ode(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var s=e.read_shift(2),i=[];s-- >0;)i.push(ide(e,r-e.l));return{ixfe:n,ext:i}}function lde(e,t){t.forEach(function(r){r[0]})}function cde(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Ro(e)}}function ude(e){var t=Mt(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),qi(e.name,t),t.slice(0,t.l)}function dde(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function fde(e){var t=Mt(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function hde(e,t){var r=Mt(8+2*t.length);return r.write_shift(4,e),qi(t,r),r.slice(0,r.l)}function pde(e){return e.l+=4,e.read_shift(4)!=0}function mde(e,t){var r=Mt(8);return r.write_shift(4,e),r.write_shift(4,1),r}function xde(e,t,r){var n={Types:[],Cell:[],Value:[]},s=r||{},i=[],o=!1,l=2;return of(e,function(c,u,d){switch(d){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(h){l==1?n.Cell.push({type:n.Types[h[0]-1].name,index:h[1]}):l==0&&n.Value.push({type:n.Types[h[0]-1].name,index:h[1]})});break;case 337:l=c?1:0;break;case 338:l=2;break;case 35:i.push(d),o=!0;break;case 36:i.pop(),o=!1;break;default:if(!u.T){if(!o||s.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function gde(){var e=Sl();return Vt(e,332),Vt(e,334,Tu(1)),Vt(e,335,ude({name:"XLDAPR",version:12e4,flags:3496657072})),Vt(e,336),Vt(e,339,hde(1,"XLDAPR")),Vt(e,52),Vt(e,35,Tu(514)),Vt(e,4096,Tu(0)),Vt(e,4097,Ec(1)),Vt(e,36),Vt(e,53),Vt(e,340),Vt(e,337,mde(1)),Vt(e,51,fde([[1,0]])),Vt(e,338),Vt(e,333),e.end()}function vde(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var s=!1,i=2,o;return e.replace(Uo,function(l){var c=dn(l);switch(md(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==c.name&&(o=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):i==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+c.i);break;default:if(!s&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return l}),n}function xR(){var e=[Js];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function yde(e){var t=[];if(!e)return t;var r=1;return(e.match(Uo)||[]).forEach(function(n){var s=dn(n);switch(s[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete s[0],s.i?r=s.i:s.i=r,t.push(s);break}}),t}function bde(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=cn(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function wde(e,t,r){var n=[];return of(e,function(i,o,l){switch(l){case 63:n.push(i);break;default:if(!o.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),n}function Nde(e,t,r,n){if(!e)return e;var s=n||{},i=!1;of(e,function(l,c,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!c.T){if(!i||s.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},s)}function jde(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}var Wh=1024;function gR(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),s=[ur("xml",null,{"xmlns:v":Kl.v,"xmlns:o":Kl.o,"xmlns:x":Kl.x,"xmlns:mv":Kl.mv}).replace(/\/>/,">"),ur("o:shapelayout",ur("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),ur("v:shapetype",[ur("v:stroke",null,{joinstyle:"miter"}),ur("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Wh<e*1e3;)Wh+=1e3;return t.forEach(function(i){var o=js(i[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?ur("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=ur("v:fill",c,l),d={on:"t",obscured:"t"};++Wh,s=s.concat(["<v:shape"+Rx({id:"_x0000_s"+Wh,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,ur("v:shadow",null,d),ur("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",io("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),io("x:AutoFill","False"),io("x:Row",String(o.r)),io("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),s.push("</xml>"),s.join("")}function ZI(e,t,r,n){var s=Array.isArray(e),i;t.forEach(function(o){var l=js(o.ref);if(s?(e[l.r]||(e[l.r]=[]),i=e[l.r][l.c]):i=e[o.ref],!i){i={t:"z"},s?e[l.r][l.c]=i:e[o.ref]=i;var c=ia(e["!ref"]||"BDWGO1000001:A1");c.s.r>l.r&&(c.s.r=l.r),c.e.r<l.r&&(c.e.r=l.r),c.s.c>l.c&&(c.s.c=l.c),c.e.c<l.c&&(c.e.c=l.c);var u=bn(c);u!==e["!ref"]&&(e["!ref"]=u)}i.c||(i.c=[]);var d={a:o.author,t:o.t,r:o.r,T:r};o.h&&(d.h=o.h);for(var h=i.c.length-1;h>=0;--h){if(!r&&i.c[h].T)return;r&&!i.c[h].T&&i.c.splice(h,1)}if(r&&n){for(h=0;h<n.length;++h)if(d.a==n[h].id){d.a=n[h].name||d.a;break}}i.c.push(d)})}function kde(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],s=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);s&&s[1]&&s[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&r.push(l[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?comment[^>]*>/);if(l){var c=dn(l[0]),u={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},d=js(c.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var h=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),m=!!h&&!!h[1]&&aS(h[1])||{r:"",t:"",h:""};u.r=m.r,m.r=="<t></t>"&&(m.t=m.h=""),u.t=(m.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=m.h),n.push(u)}}}}),n}function vR(e){var t=[Js,ur("comments",null,{xmlns:ch[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(s){var i=Oa(s.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),s.T&&s.ID&&r.indexOf("tc="+s.ID)==-1&&(r.push("tc="+s.ID),t.push("<author>tc="+s.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var s=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?s=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(s=r.indexOf(Oa(c.a))),i.push(c.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+s+'"><text>'),i.length<=1)t.push(io("t",Oa(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,l=1;l<i.length;++l)o+=`Reply:
    `+i[l]+`
`;t.push(io("t",Oa(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function Sde(e,t){var r=[],n=!1,s={},i=0;return e.replace(Uo,function(l,c){var u=dn(l);switch(md(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":s={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":s.t!=null&&r.push(s);break;case"<text>":case"<text":i=c+l.length;break;case"</text>":s.t=e.slice(i,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return l}),r}function _de(e,t,r){var n=[Js,ur("ThreadedComments",null,{xmlns:yi.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(s){var i="";(s[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var c={ref:s[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?i=c.id:c.parentId=i,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),n.push(ur("threadedComment",io("text",o.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function Ade(e,t){var r=[],n=!1;return e.replace(Uo,function(i){var o=dn(i);switch(md(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return i}),r}function Ede(e){var t=[Js,ur("personList",null,{xmlns:yi.TCMNT,"xmlns:x":ch[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(ur("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function Cde(e){var t={};t.iauthor=e.read_shift(4);var r=hh(e);return t.rfx=r.s,t.ref=cn(r.s),e.l+=16,t}function Tde(e,t){return t==null&&(t=Mt(36)),t.write_shift(4,e[1].iauthor),Gp(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var Ode=Ro;function Pde(e){return qi(e.slice(0,54))}function Ide(e,t){var r=[],n=[],s={},i=!1;return of(e,function(l,c,u){switch(u){case 632:n.push(l);break;case 635:s=l;break;case 637:s.t=l.t,s.h=l.h,s.r=l.r;break;case 636:if(s.author=n[s.iauthor],delete s.iauthor,t.sheetRows&&s.rfx&&t.sheetRows<=s.rfx.r)break;s.t||(s.t=""),delete s.rfx,r.push(s);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}function Dde(e){var t=Sl(),r=[];return Vt(t,628),Vt(t,630),e.forEach(function(n){n[1].forEach(function(s){r.indexOf(s.a)>-1||(r.push(s.a.slice(0,54)),Vt(t,632,Pde(s.a)))})}),Vt(t,631),Vt(t,633),e.forEach(function(n){n[1].forEach(function(s){s.iauthor=r.indexOf(s.a);var i={s:js(n[0]),e:js(n[0])};Vt(t,635,Tde([i,s])),s.t&&s.t.length>0&&Vt(t,637,roe(s)),Vt(t,636),delete s.iauthor})}),Vt(t,634),Vt(t,629),t.end()}var Lde="application/vnd.ms-office.vbaProject";function Fde(e){var t=Vr.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var s=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Vr.utils.cfb_add(t,s,e.FileIndex[n].content)}}),Vr.write(t)}function Mde(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var s=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");s.slice(-1)!=="/"&&Vr.utils.cfb_add(e,s,t.FileIndex[n].content)}})}var yR=["xlsb","xlsm","xlam","biff8","xla"];function Rde(){return{"!type":"dialog"}}function Bde(){return{"!type":"dialog"}}function Ude(){return{"!type":"macro"}}function qde(){return{"!type":"macro"}}var Zh=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,s,i,o){var l=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,d=o.length>0?parseInt(o,10)|0:0;return l?d+=t.c:--d,c?u+=t.r:--u,s+(l?"":"$")+Ns(d)+(c?"":"$")+Ys(u)}return function(s,i){return t=i,s.replace(e,r)}})(),lS=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,cS=(function(){return function(t,r){return t.replace(lS,function(n,s,i,o,l,c){var u=X3(o)-(i?0:r.c),d=K3(c)-(l?0:r.r),h=d==0?"":l?d+1:"["+d+"]",m=u==0?"":i?u+1:"["+u+"]";return s+"R"+h+"C"+m})}})();function bR(e,t){return e.replace(lS,function(r,n,s,i,o,l){return n+(s=="$"?s+i:Ns(X3(i)+t.c))+(o=="$"?o+l:Ys(K3(l)+t.r))})}function $de(e,t,r){var n=_l(t),s=n.s,i=js(r),o={r:i.r-s.r,c:i.c-s.c};return bR(e,o)}function zde(e){return e.length!=1}function e8(e){return e.replace(/_xlfn\./g,"")}function ni(e){e.l+=1}function Xf(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function wR(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return NR(e);r.biff==12&&(n=4)}var s=e.read_shift(n),i=e.read_shift(n),o=Xf(e),l=Xf(e);return{s:{r:s,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function NR(e){var t=Xf(e),r=Xf(e),n=e.read_shift(1),s=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:s,cRel:r[1],rRel:r[2]}}}function Hde(e,t,r){if(r.biff<8)return NR(e);var n=e.read_shift(r.biff==12?4:2),s=e.read_shift(r.biff==12?4:2),i=Xf(e),o=Xf(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function jR(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return Wde(e);var n=e.read_shift(r&&r.biff==12?4:2),s=Xf(e);return{r:n,c:s[0],cRel:s[1],rRel:s[2]}}function Wde(e){var t=Xf(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function Vde(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function Gde(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return Kde(e);var s=e.read_shift(n>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;s>524287;)s-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:s,c:i,cRel:o,rRel:l}}function Kde(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,s=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),s==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:s,rRel:n}}function Xde(e,t,r){var n=(e[e.l++]&96)>>5,s=wR(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,s]}function Yde(e,t,r){var n=(e[e.l++]&96)>>5,s=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=wR(e,i,r);return[n,s,o]}function Jde(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function Qde(e,t,r){var n=(e[e.l++]&96)>>5,s=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,s]}function Zde(e,t,r){var n=(e[e.l++]&96)>>5,s=Hde(e,t-1,r);return[n,s]}function efe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function t8(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function tfe(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),s=[],i=0;i<=n;++i)s.push(e.read_shift(r&&r.biff==2?1:2));return s}function rfe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function nfe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function afe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function sfe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function kR(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function ife(e){return e.read_shift(2),kR(e)}function ofe(e){return e.read_shift(2),kR(e)}function lfe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=jR(e,0,r);return[n,s]}function cfe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=Gde(e,0,r);return[n,s]}function ufe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=jR(e,0,r);return[n,s,i]}function dfe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(r&&r.biff<=3?1:2);return[p0e[s],AR[s],n]}function ffe(e,t,r){var n=e[e.l++],s=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:hfe(e);return[s,(i[0]===0?AR:h0e)[i[1]]]}function hfe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function pfe(e,t,r){e.l+=r&&r.biff==2?3:4}function mfe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),s=e.read_shift(r&&r.biff==2?1:2);return[n,s]}function xfe(e){return e.l++,lf[e.read_shift(1)]}function gfe(e){return e.l++,e.read_shift(2)}function vfe(e){return e.l++,e.read_shift(1)!==0}function yfe(e){return e.l++,Fo(e)}function bfe(e,t,r){return e.l++,og(e,t-1,r)}function wfe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Ws(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=lf[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Fo(e);break;case 2:r[1]=ph(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function Nfe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),s=[],i=0;i!=n;++i)s.push((r.biff==12?hh:Qy)(e));return s}function jfe(e,t,r){var n=0,s=0;r.biff==12?(n=e.read_shift(4),s=e.read_shift(4)):(s=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--s==0&&(s=256));for(var i=0,o=[];i!=n&&(o[i]=[]);++i)for(var l=0;l!=s;++l)o[i][l]=wfe(e,r.biff);return o}function kfe(e,t,r){var n=e.read_shift(1)>>>5&3,s=!r||r.biff>=8?4:2,i=e.read_shift(s);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function Sfe(e,t,r){if(r.biff==5)return _fe(e);var n=e.read_shift(1)>>>5&3,s=e.read_shift(2),i=e.read_shift(4);return[n,s,i]}function _fe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function Afe(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var s=e.read_shift(r&&r.biff==2?1:2);return[n,s]}function Efe(e,t,r){var n=e.read_shift(1)>>>5&3,s=e.read_shift(r&&r.biff==2?1:2);return[n,s]}function Cfe(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function Tfe(e,t,r){var n=(e[e.l++]&96)>>5,s=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,s]}var Ofe=Bo,Pfe=Bo,Ife=Bo;function cg(e,t,r){return e.l+=2,[Vde(e)]}function uS(e){return e.l+=6,[]}var Dfe=cg,Lfe=uS,Ffe=uS,Mfe=cg;function SR(e){return e.l+=2,[ii(e),e.read_shift(2)&1]}var Rfe=cg,Bfe=SR,Ufe=uS,qfe=cg,$fe=cg,zfe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Hfe(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),s=e.read_shift(2),i=e.read_shift(2),o=zfe[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:n,c:s,C:i}}function Wfe(e){return e.l+=2,[e.read_shift(4)]}function Vfe(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function Gfe(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function Kfe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Xfe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Yfe(e){return e.l+=4,[0,0]}var r8={1:{n:"PtgExp",f:mfe},2:{n:"PtgTbl",f:Ife},3:{n:"PtgAdd",f:ni},4:{n:"PtgSub",f:ni},5:{n:"PtgMul",f:ni},6:{n:"PtgDiv",f:ni},7:{n:"PtgPower",f:ni},8:{n:"PtgConcat",f:ni},9:{n:"PtgLt",f:ni},10:{n:"PtgLe",f:ni},11:{n:"PtgEq",f:ni},12:{n:"PtgGe",f:ni},13:{n:"PtgGt",f:ni},14:{n:"PtgNe",f:ni},15:{n:"PtgIsect",f:ni},16:{n:"PtgUnion",f:ni},17:{n:"PtgRange",f:ni},18:{n:"PtgUplus",f:ni},19:{n:"PtgUminus",f:ni},20:{n:"PtgPercent",f:ni},21:{n:"PtgParen",f:ni},22:{n:"PtgMissArg",f:ni},23:{n:"PtgStr",f:bfe},26:{n:"PtgSheet",f:Vfe},27:{n:"PtgEndSheet",f:Gfe},28:{n:"PtgErr",f:xfe},29:{n:"PtgBool",f:vfe},30:{n:"PtgInt",f:gfe},31:{n:"PtgNum",f:yfe},32:{n:"PtgArray",f:efe},33:{n:"PtgFunc",f:dfe},34:{n:"PtgFuncVar",f:ffe},35:{n:"PtgName",f:kfe},36:{n:"PtgRef",f:lfe},37:{n:"PtgArea",f:Xde},38:{n:"PtgMemArea",f:Afe},39:{n:"PtgMemErr",f:Ofe},40:{n:"PtgMemNoMem",f:Pfe},41:{n:"PtgMemFunc",f:Efe},42:{n:"PtgRefErr",f:Cfe},43:{n:"PtgAreaErr",f:Jde},44:{n:"PtgRefN",f:cfe},45:{n:"PtgAreaN",f:Zde},46:{n:"PtgMemAreaN",f:Kfe},47:{n:"PtgMemNoMemN",f:Xfe},57:{n:"PtgNameX",f:Sfe},58:{n:"PtgRef3d",f:ufe},59:{n:"PtgArea3d",f:Yde},60:{n:"PtgRefErr3d",f:Tfe},61:{n:"PtgAreaErr3d",f:Qde},255:{}},Jfe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Qfe={1:{n:"PtgElfLel",f:SR},2:{n:"PtgElfRw",f:qfe},3:{n:"PtgElfCol",f:Dfe},6:{n:"PtgElfRwV",f:$fe},7:{n:"PtgElfColV",f:Mfe},10:{n:"PtgElfRadical",f:Rfe},11:{n:"PtgElfRadicalS",f:Ufe},13:{n:"PtgElfColS",f:Lfe},15:{n:"PtgElfColSV",f:Ffe},16:{n:"PtgElfRadicalLel",f:Bfe},25:{n:"PtgList",f:Hfe},29:{n:"PtgSxName",f:Wfe},255:{}},Zfe={0:{n:"PtgAttrNoop",f:Yfe},1:{n:"PtgAttrSemi",f:sfe},2:{n:"PtgAttrIf",f:nfe},4:{n:"PtgAttrChoose",f:tfe},8:{n:"PtgAttrGoto",f:rfe},16:{n:"PtgAttrSum",f:pfe},32:{n:"PtgAttrBaxcel",f:t8},33:{n:"PtgAttrBaxcel",f:t8},64:{n:"PtgAttrSpace",f:ife},65:{n:"PtgAttrSpaceSemi",f:ofe},128:{n:"PtgAttrIfError",f:afe},255:{}};function ug(e,t,r,n){if(n.biff<8)return Bo(e,t);for(var s=e.l+t,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=jfe(e,0,n),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=Nfe(e,r[o][1],n),i.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=e.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=s-e.l,t!==0&&i.push(Bo(e,t)),i}function dg(e,t,r){for(var n=e.l+t,s,i,o=[];n!=e.l;)t=n-e.l,i=e[e.l],s=r8[i]||r8[Jfe[i]],(i===24||i===25)&&(s=(i===24?Qfe:Zfe)[e[e.l+1]]),!s||!s.f?Bo(e,t):o.push([s.n,s.f(e,t,r)]);return o}function e0e(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],s=[],i=0;i<n.length;++i){var o=n[i];o?o[0]===2?s.push('"'+o[1].replace(/"/g,'""')+'"'):s.push(o[1]):s.push("")}t.push(s.join(","))}return t.join(";")}var t0e={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function r0e(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function _R(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var s="";if(r.biff>8)switch(e[n[0]][0]){case 357:return s=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?s:s+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return s=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?s:s+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(s=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?s:s+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function n8(e,t,r){var n=_R(e,t,r);return n=="#REF"?n:r0e(n,r)}function Po(e,t,r,n,s){var i=s&&s.biff||8,o={s:{c:0,r:0}},l=[],c,u,d,h=0,m=0,p,y="";if(!e[0]||!e[0][0])return"";for(var v=-1,g="",b=0,w=e[0].length;b<w;++b){var j=e[0][b];switch(j[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),v>=0){switch(e[0][v][1][0]){case 0:g=Ds(" ",e[0][v][1][1]);break;case 1:g=Ds("\r",e[0][v][1][1]);break;default:if(g="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}u=u+g,v=-1}l.push(u+t0e[j[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=Um(j[1][1],o,s),l.push(qm(d,i));break;case"PtgRefN":d=r?Um(j[1][1],r,s):j[1][1],l.push(qm(d,i));break;case"PtgRef3d":h=j[1][1],d=Um(j[1][2],o,s),y=n8(n,h,s),l.push(y+"!"+qm(d,i));break;case"PtgFunc":case"PtgFuncVar":var N=j[1][0],k=j[1][1];N||(N=0),N&=127;var P=N==0?[]:l.slice(-N);l.length-=N,k==="User"&&(k=P.shift()),l.push(k+"("+P.join(",")+")");break;case"PtgBool":l.push(j[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(j[1]);break;case"PtgNum":l.push(String(j[1]));break;case"PtgStr":l.push('"'+j[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(j[1]);break;case"PtgAreaN":p=PI(j[1][1],r?{s:r}:o,s),l.push(KN(p,s));break;case"PtgArea":p=PI(j[1][1],o,s),l.push(KN(p,s));break;case"PtgArea3d":h=j[1][1],p=j[1][2],y=n8(n,h,s),l.push(y+"!"+KN(p,s));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":m=j[1][2];var A=(n.names||[])[m-1]||(n[0]||[])[m],O=A?A.Name:"SH33TJSNAME"+String(m);O&&O.slice(0,6)=="_xlfn."&&!s.xlfn&&(O=O.slice(6)),l.push(O);break;case"PtgNameX":var D=j[1][1];m=j[1][2];var R;if(s.biff<=5)D<0&&(D=-D),n[D]&&(R=n[D][m]);else{var C="";if(((n[D]||[])[0]||[])[0]==14849||(((n[D]||[])[0]||[])[0]==1025?n[D][m]&&n[D][m].itab>0&&(C=n.SheetNames[n[D][m].itab-1]+"!"):C=n.SheetNames[m-1]+"!"),n[D]&&n[D][m])C+=n[D][m].Name;else if(n[0]&&n[0][m])C+=n[0][m].Name;else{var T=(_R(n,D,s)||"").split(";;");T[m-1]?C=T[m-1]:C+="SH33TJSERRX"}l.push(C);break}R||(R={Name:"SH33TJSERRY"}),l.push(R.Name);break;case"PtgParen":var I="(",B=")";if(v>=0){switch(g="",e[0][v][1][0]){case 2:I=Ds(" ",e[0][v][1][1])+I;break;case 3:I=Ds("\r",e[0][v][1][1])+I;break;case 4:B=Ds(" ",e[0][v][1][1])+B;break;case 5:B=Ds("\r",e[0][v][1][1])+B;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}v=-1}l.push(I+l.pop()+B);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:j[1][1],r:j[1][0]};var X={c:r.c,r:r.r};if(n.sharedf[cn(d)]){var re=n.sharedf[cn(d)];l.push(Po(re,o,X,n,s))}else{var Z=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){l.push(Po(u[1],o,X,n,s)),Z=!0;break}Z||l.push(j[1])}break;case"PtgArray":l.push("{"+e0e(j[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=b;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+j[1].idx+"[#"+j[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(j));default:throw new Error("Unrecognized Formula Token: "+String(j))}var te=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&v>=0&&te.indexOf(e[0][b][0])==-1){j=e[0][v];var Y=!0;switch(j[1][0]){case 4:Y=!1;case 0:g=Ds(" ",j[1][1]);break;case 5:Y=!1;case 1:g=Ds("\r",j[1][1]);break;default:if(g="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+j[1][0])}l.push((Y?g:"")+l.pop()+(Y?"":g)),v=-1}}if(l.length>1&&s.WTF)throw new Error("bad formula stack");return l[0]}function n0e(e,t,r){var n=e.l+t,s=r.biff==2?1:2,i,o=e.read_shift(s);if(o==65535)return[[],Bo(e,t-2)];var l=dg(e,o,r);return t!==o+s&&(i=ug(e,t-o-s,l,r)),e.l=n,[l,i]}function a0e(e,t,r){var n=e.l+t,s=r.biff==2?1:2,i,o=e.read_shift(s);if(o==65535)return[[],Bo(e,t-2)];var l=dg(e,o,r);return t!==o+s&&(i=ug(e,t-o-s,l,r)),e.l=n,[l,i]}function s0e(e,t,r,n){var s=e.l+t,i=dg(e,n,r),o;return s!==e.l&&(o=ug(e,s-e.l,i,r)),[i,o]}function i0e(e,t,r){var n=e.l+t,s,i=e.read_shift(2),o=dg(e,i,r);return i==65535?[[],Bo(e,t-2)]:(t!==i+2&&(s=ug(e,n-i-2,o,r)),[o,s])}function o0e(e){var t;if(Bd(e,e.l+6)!==65535)return[Fo(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function l0e(e){if(e==null){var t=Mt(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return eh(e);return eh(0)}function ZN(e,t,r){var n=e.l+t,s=xd(e);r.biff==2&&++e.l;var i=o0e(e),o=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var l=a0e(e,n-e.l,r);return{cell:s,val:i[0],formula:l,shared:o>>3&1,tt:i[1]}}function c0e(e,t,r,n,s){var i=rh(t,r,s),o=l0e(e.v),l=Mt(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var u=Mt(e.bf.length),d=0;d<e.bf.length;++d)u[d]=e.bf[d];var h=Ui([i,o,l,u]);return h}function Zy(e,t,r){var n=e.read_shift(4),s=dg(e,n,r),i=e.read_shift(4),o=i>0?ug(e,i,s,r):null;return[s,o]}var u0e=Zy,eb=Zy,d0e=Zy,f0e=Zy,h0e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},AR={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},p0e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function a8(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function m0e(e){var t="of:="+e.replace(lS,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function ej(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function x0e(e){return e.replace(/\./,"!")}var zm={},ep={},Hm=typeof Map<"u";function dS(e,t,r){var n=0,s=e.length;if(r){if(Hm?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=Hm?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<s;++n)if(e[n].t===t)return e.Count++,n;return e[s]={t},e.Count++,e.Unique++,r&&(Hm?(r.has(t)||r.set(t,[]),r.get(t).push(s)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(s))),s}function tb(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(Lo=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=zx(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=ay(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function H0(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function o0(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],s=60,i=e.length;if(n==null&&r.ssf){for(;s<392;++s)if(r.ssf[s]==null){Gd(t.z,s),r.ssf[s]=t.z,r.revssf[t.z]=n=s;break}}for(s=0;s!=i;++s)if(e[s].numFmtId===n)return s;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function ER(e,t,r,n,s,i){try{n.cellNF&&(e.z=an[t])}catch(l){if(n.WTF)throw l}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=ns(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(an[t]==null&&Gd(hie[t]||"General",t),e.t==="e")e.w=e.w||lf[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Fx(e.v);else if(e.t==="d"){var o=Ni(e.v);(o|0)===o?e.w=o.toString(10):e.w=Fx(o)}else{if(e.v===void 0)return"";e.w=Q0(e.v,ep)}else e.t==="d"?e.w=Fc(t,Ni(e.v),ep):e.w=Fc(t,e.v,ep)}catch(l){if(n.WTF)throw l}if(n.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=ny(s.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=s.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=ny(s.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=s.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(l){if(n.WTF&&i.Fills)throw l}}}function g0e(e,t,r){if(e&&e["!ref"]){var n=ia(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function v0e(e,t){var r=ia(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=bn(r))}var y0e=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,b0e=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,w0e=/<(?:\w:)?hyperlink [^>]*>/mg,N0e=/"(\w*:\w*)"/,j0e=/<(?:\w:)?col\b[^>]*[\/]?>/g,k0e=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,S0e=/<(?:\w:)?pageMargins[^>]*\/>/g,CR=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,_0e=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,A0e=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function E0e(e,t,r,n,s,i,o){if(!e)return e;n||(n={"!id":{}});var l=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",h=e.match(b0e);h?(u=e.slice(0,h.index),d=e.slice(h.index+h[0].length)):u=d=e;var m=u.match(CR);m?fS(m[0],l,s,r):(m=u.match(_0e))&&T0e(m[0],m[1]||"",l,s,r);var p=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var y=u.slice(p,p+50).match(N0e);y&&v0e(l,y[1])}var v=u.match(A0e);v&&v[1]&&z0e(v[1],s);var g=[];if(t.cellStyles){var b=u.match(j0e);b&&R0e(g,b)}h&&V0e(h[1],l,t,c,i,o);var w=d.match(k0e);w&&(l["!autofilter"]=U0e(w[0]));var j=[],N=d.match(y0e);if(N)for(p=0;p!=N.length;++p)j[p]=ia(N[p].slice(N[p].indexOf('"')+1));var k=d.match(w0e);k&&L0e(l,k,n);var P=d.match(S0e);if(P&&(l["!margins"]=F0e(dn(P[0]))),!l["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(l["!ref"]=bn(c)),t.sheetRows>0&&l["!ref"]){var A=ia(l["!ref"]);t.sheetRows<=+A.e.r&&(A.e.r=t.sheetRows-1,A.e.r>c.e.r&&(A.e.r=c.e.r),A.e.r<A.s.r&&(A.s.r=A.e.r),A.e.c>c.e.c&&(A.e.c=c.e.c),A.e.c<A.s.c&&(A.s.c=A.e.c),l["!fullref"]=l["!ref"],l["!ref"]=bn(A))}return g.length>0&&(l["!cols"]=g),j.length>0&&(l["!merges"]=j),l}function C0e(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+bn(e[r])+'"/>';return t+"</mergeCells>"}function fS(e,t,r,n){var s=dn(e);r.Sheets[n]||(r.Sheets[n]={}),s.codeName&&(r.Sheets[n].CodeName=sa(Ra(s.codeName)))}function T0e(e,t,r,n,s){fS(e.slice(0,e.indexOf(">")),r,n,s)}function O0e(e,t,r,n,s){var i=!1,o={},l=null;if(n.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}i=!0,o.codeName=td(Oa(c))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),l=(l||"")+ur("outlinePr",null,u)}!i&&!l||(s[s.length]=ur("sheetPr",l,o))}var P0e=["objects","scenarios","selectLockedCells","selectUnlockedCells"],I0e=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function D0e(e){var t={sheet:1};return P0e.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),I0e.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=sS(e.password).toString(16).toUpperCase()),ur("sheetProtection",null,t)}function L0e(e,t,r){for(var n=Array.isArray(e),s=0;s!=t.length;++s){var i=dn(Ra(t[s]),!0);if(!i.ref)return;var o=((r||{})["!id"]||[])[i.id];o?(i.Target=o.Target,i.location&&(i.Target+="#"+sa(i.location))):(i.Target="#"+sa(i.location),o={Target:i.Target,TargetMode:"Internal"}),i.Rel=o,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var l=ia(i.ref),c=l.s.r;c<=l.e.r;++c)for(var u=l.s.c;u<=l.e.c;++u){var d=cn({c:u,r:c});n?(e[c]||(e[c]=[]),e[c][u]||(e[c][u]={t:"z",v:void 0}),e[c][u].l=i):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=i)}}}function F0e(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function M0e(e){return H0(e),ur("pageMargins",null,e)}function R0e(e,t){for(var r=!1,n=0;n!=t.length;++n){var s=dn(t[n],!0);s.hidden&&(s.hidden=ts(s.hidden));var i=parseInt(s.min,10)-1,o=parseInt(s.max,10)-1;for(s.outlineLevel&&(s.level=+s.outlineLevel||0),delete s.min,delete s.max,s.width=+s.width,!r&&s.width&&(r=!0,iS(s.width)),Kf(s);i<=o;)e[i++]=as(s)}}function B0e(e,t){for(var r=["<cols>"],n,s=0;s!=t.length;++s)(n=t[s])&&(r[r.length]=ur("col",null,tb(s,n)));return r[r.length]="</cols>",r.join("")}function U0e(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function q0e(e,t,r,n){var s=typeof e.ref=="string"?e.ref:bn(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=_l(s);o.s.r==o.e.r&&(o.e.r=_l(t["!ref"]).e.r,s=bn(o));for(var l=0;l<i.length;++l){var c=i[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+s;break}}return l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),ur("autoFilter",null,{ref:s})}var $0e=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function z0e(e,t){t.Views||(t.Views=[{}]),(e.match($0e)||[]).forEach(function(r,n){var s=dn(r);t.Views[n]||(t.Views[n]={}),+s.zoomScale&&(t.Views[n].zoom=+s.zoomScale),ts(s.rightToLeft)&&(t.Views[n].RTL=!0)})}function H0e(e,t,r,n){var s={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(s.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),ur("sheetViews",ur("sheetView",null,s),{})}function W0e(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var s="",i=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":s=e.v?"1":"0";break;case"n":s=""+e.v;break;case"e":s=lf[e.v];break;case"d":n&&n.cellDates?s=ns(e.v,-1).toISOString():(e=as(e),e.t="n",s=""+(e.v=Ni(ns(e.v)))),typeof e.z>"u"&&(e.z=an[14]);break;default:s=e.v;break}var l=io("v",Oa(s)),c={r:t},u=o0(n.cellXfs,e,n);switch(u!==0&&(c.s=u),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){l=io("v",""+dS(n.Strings,e.v,n.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=o),typeof e.f=="string"&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=ur("f",Oa(e.f),d)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),ur("c",l,c)}var V0e=(function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,s=/ref=["']([^"']*)["']/,i=Mx("v"),o=Mx("f");return function(c,u,d,h,m,p){for(var y=0,v="",g=[],b=[],w=0,j=0,N=0,k="",P,A,O=0,D=0,R,C,T=0,I=0,B=Array.isArray(p.CellXf),X,re=[],Z=[],te=Array.isArray(u),Y=[],Q={},H=!1,E=!!d.sheetStubs,q=c.split(t),V=0,U=q.length;V!=U;++V){v=q[V].trim();var G=v.length;if(G!==0){var ne=0;e:for(y=0;y<G;++y)switch(v[y]){case">":if(v[y-1]!="/"){++y;break e}if(d&&d.cellStyles){if(A=dn(v.slice(ne,y),!0),O=A.r!=null?parseInt(A.r,10):O+1,D=-1,d.sheetRows&&d.sheetRows<O)continue;Q={},H=!1,A.ht&&(H=!0,Q.hpt=parseFloat(A.ht),Q.hpx=Pp(Q.hpt)),A.hidden=="1"&&(H=!0,Q.hidden=!0),A.outlineLevel!=null&&(H=!0,Q.level=+A.outlineLevel),H&&(Y[O-1]=Q)}break;case"<":ne=y;break}if(ne>=y)break;if(A=dn(v.slice(ne,y),!0),O=A.r!=null?parseInt(A.r,10):O+1,D=-1,!(d.sheetRows&&d.sheetRows<O)){h.s.r>O-1&&(h.s.r=O-1),h.e.r<O-1&&(h.e.r=O-1),d&&d.cellStyles&&(Q={},H=!1,A.ht&&(H=!0,Q.hpt=parseFloat(A.ht),Q.hpx=Pp(Q.hpt)),A.hidden=="1"&&(H=!0,Q.hidden=!0),A.outlineLevel!=null&&(H=!0,Q.level=+A.outlineLevel),H&&(Y[O-1]=Q)),g=v.slice(y).split(e);for(var de=0;de!=g.length&&g[de].trim().charAt(0)=="<";++de);for(g=g.slice(de),y=0;y!=g.length;++y)if(v=g[y].trim(),v.length!==0){if(b=v.match(r),w=y,j=0,N=0,v="<c "+(v.slice(0,1)=="<"?">":"")+v,b!=null&&b.length===2){for(w=0,k=b[1],j=0;j!=k.length&&!((N=k.charCodeAt(j)-64)<1||N>26);++j)w=26*w+N;--w,D=w}else++D;for(j=0;j!=v.length&&v.charCodeAt(j)!==62;++j);if(++j,A=dn(v.slice(0,j),!0),A.r||(A.r=cn({r:O-1,c:D})),k=v.slice(j),P={t:""},(b=k.match(i))!=null&&b[1]!==""&&(P.v=sa(b[1])),d.cellFormula){if((b=k.match(o))!=null&&b[1]!==""){if(P.f=sa(Ra(b[1])).replace(/\r\n/g,`
`),d.xlfn||(P.f=e8(P.f)),b[0].indexOf('t="array"')>-1)P.F=(k.match(s)||[])[1],P.F.indexOf(":")>-1&&re.push([ia(P.F),P.F]);else if(b[0].indexOf('t="shared"')>-1){C=dn(b[0]);var ce=sa(Ra(b[1]));d.xlfn||(ce=e8(ce)),Z[parseInt(C.si,10)]=[C,ce,A.r]}}else(b=k.match(/<f[^>]*\/>/))&&(C=dn(b[0]),Z[C.si]&&(P.f=$de(Z[C.si][1],Z[C.si][2],A.r)));var he=js(A.r);for(j=0;j<re.length;++j)he.r>=re[j][0].s.r&&he.r<=re[j][0].e.r&&he.c>=re[j][0].s.c&&he.c<=re[j][0].e.c&&(P.F=re[j][1])}if(A.t==null&&P.v===void 0)if(P.f||P.F)P.v=0,P.t="n";else if(E)P.t="z";else continue;else P.t=A.t||"n";switch(h.s.c>D&&(h.s.c=D),h.e.c<D&&(h.e.c=D),P.t){case"n":if(P.v==""||P.v==null){if(!E)continue;P.t="z"}else P.v=parseFloat(P.v);break;case"s":if(typeof P.v>"u"){if(!E)continue;P.t="z"}else R=zm[parseInt(P.v,10)],P.v=R.t,P.r=R.r,d.cellHTML&&(P.h=R.h);break;case"str":P.t="s",P.v=P.v!=null?Ra(P.v):"",d.cellHTML&&(P.h=H3(P.v));break;case"inlineStr":b=k.match(n),P.t="s",b!=null&&(R=aS(b[1]))?(P.v=R.t,d.cellHTML&&(P.h=R.h)):P.v="";break;case"b":P.v=ts(P.v);break;case"d":d.cellDates?P.v=ns(P.v,1):(P.v=Ni(ns(P.v,1)),P.t="n");break;case"e":(!d||d.cellText!==!1)&&(P.w=P.v),P.v=OM[P.v];break}if(T=I=0,X=null,B&&A.s!==void 0&&(X=p.CellXf[A.s],X!=null&&(X.numFmtId!=null&&(T=X.numFmtId),d.cellStyles&&X.fillId!=null&&(I=X.fillId))),ER(P,T,I,d,m,p),d.cellDates&&B&&P.t=="n"&&Hp(an[T])&&(P.t="d",P.v=Jy(P.v)),A.cm&&d.xlmeta){var Le=(d.xlmeta.Cell||[])[+A.cm-1];Le&&Le.type=="XLDAPR"&&(P.D=!0)}if(te){var se=js(A.r);u[se.r]||(u[se.r]=[]),u[se.r][se.c]=P}else u[A.r]=P}}}}Y.length>0&&(u["!rows"]=Y)}})();function G0e(e,t,r,n){var s=[],i=[],o=ia(e["!ref"]),l="",c,u="",d=[],h=0,m=0,p=e["!rows"],y=Array.isArray(e),v={r:u},g,b=-1;for(m=o.s.c;m<=o.e.c;++m)d[m]=Ns(m);for(h=o.s.r;h<=o.e.r;++h){for(i=[],u=Ys(h),m=o.s.c;m<=o.e.c;++m){c=d[m]+u;var w=y?(e[h]||[])[m]:e[c];w!==void 0&&(l=W0e(w,c,e,t))!=null&&i.push(l)}(i.length>0||p&&p[h])&&(v={r:u},p&&p[h]&&(g=p[h],g.hidden&&(v.hidden=1),b=-1,g.hpx?b=Hx(g.hpx):g.hpt&&(b=g.hpt),b>-1&&(v.ht=b,v.customHeight=1),g.level&&(v.outlineLevel=g.level)),s[s.length]=ur("row",i.join(""),v))}if(p)for(;h<p.length;++h)p&&p[h]&&(v={r:h+1},g=p[h],g.hidden&&(v.hidden=1),b=-1,g.hpx?b=Hx(g.hpx):g.hpt&&(b=g.hpt),b>-1&&(v.ht=b,v.customHeight=1),g.level&&(v.outlineLevel=g.level),s[s.length]=ur("row","",v));return s.join("")}function TR(e,t,r,n){var s=[Js,ur("worksheet",null,{xmlns:ch[0],"xmlns:r":yi.r})],i=r.SheetNames[e],o=0,l="",c=r.Sheets[i];c==null&&(c={});var u=c["!ref"]||"A1",d=ia(u);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=bn(d)}n||(n={}),c["!comments"]=[];var h=[];O0e(c,r,e,t,s),s[s.length]=ur("dimension",null,{ref:u}),s[s.length]=H0e(c,t,e,r),t.sheetFormat&&(s[s.length]=ur("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(s[s.length]=B0e(c,c["!cols"])),s[o=s.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=G0e(c,t),l.length>0&&(s[s.length]=l)),s.length>o+1&&(s[s.length]="</sheetData>",s[o]=s[o].replace("/>",">")),c["!protect"]&&(s[s.length]=D0e(c["!protect"])),c["!autofilter"]!=null&&(s[s.length]=q0e(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(s[s.length]=C0e(c["!merges"]));var m=-1,p,y=-1;return c["!links"].length>0&&(s[s.length]="<hyperlinks>",c["!links"].forEach(function(v){v[1].Target&&(p={ref:v[0]},v[1].Target.charAt(0)!="#"&&(y=Ta(n,-1,Oa(v[1].Target).replace(/#.*$/,""),Dn.HLINK),p["r:id"]="rId"+y),(m=v[1].Target.indexOf("#"))>-1&&(p.location=Oa(v[1].Target.slice(m+1))),v[1].Tooltip&&(p.tooltip=Oa(v[1].Tooltip)),s[s.length]=ur("hyperlink",null,p))}),s[s.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(s[s.length]=M0e(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(s[s.length]=io("ignoredErrors",ur("ignoredError",null,{numberStoredAsText:1,sqref:u}))),h.length>0&&(y=Ta(n,-1,"../drawings/drawing"+(e+1)+".xml",Dn.DRAW),s[s.length]=ur("drawing",null,{"r:id":"rId"+y}),c["!drawing"]=h),c["!comments"].length>0&&(y=Ta(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Dn.VML),s[s.length]=ur("legacyDrawing",null,{"r:id":"rId"+y}),c["!legacy"]=y),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function K0e(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var s=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=s/20),r}function X0e(e,t,r){var n=Mt(145),s=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;s.hpx?i=Hx(s.hpx)*20:s.hpt&&(i=s.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var o=0;s.level&&(o|=s.level),s.hidden&&(o|=16),(s.hpx||s.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var l=0,c=n.l;n.l+=4;for(var u={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var h=-1,m=-1,p=d<<10;p<d+1<<10;++p){u.c=p;var y=Array.isArray(r)?(r[u.r]||[])[u.c]:r[cn(u)];y&&(h<0&&(h=p),m=p)}h<0||(++l,n.write_shift(4,h),n.write_shift(4,m))}var v=n.l;return n.l=c,n.write_shift(4,l),n.l=v,n.length>n.l?n.slice(0,n.l):n}function Y0e(e,t,r,n){var s=X0e(n,r,t);(s.length>17||(t["!rows"]||[])[n])&&Vt(e,0,s)}var J0e=hh,Q0e=Gp;function Z0e(){}function ehe(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=noe(e),r}function the(e,t,r){r==null&&(r=Mt(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var s=1;s<3;++s)r.write_shift(1,0);return ey({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),_M(e,r),r.slice(0,r.l)}function rhe(e){var t=Bc(e);return[t]}function nhe(e,t,r){return r==null&&(r=Mt(8)),uh(t,r)}function ahe(e){var t=dh(e);return[t]}function she(e,t,r){return r==null&&(r=Mt(4)),fh(t,r)}function ihe(e){var t=Bc(e),r=e.read_shift(1);return[t,r,"b"]}function ohe(e,t,r){return r==null&&(r=Mt(9)),uh(t,r),r.write_shift(1,e.v?1:0),r}function lhe(e){var t=dh(e),r=e.read_shift(1);return[t,r,"b"]}function che(e,t,r){return r==null&&(r=Mt(5)),fh(t,r),r.write_shift(1,e.v?1:0),r}function uhe(e){var t=Bc(e),r=e.read_shift(1);return[t,r,"e"]}function dhe(e,t,r){return r==null&&(r=Mt(9)),uh(t,r),r.write_shift(1,e.v),r}function fhe(e){var t=dh(e),r=e.read_shift(1);return[t,r,"e"]}function hhe(e,t,r){return r==null&&(r=Mt(8)),fh(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function phe(e){var t=Bc(e),r=e.read_shift(4);return[t,r,"s"]}function mhe(e,t,r){return r==null&&(r=Mt(12)),uh(t,r),r.write_shift(4,t.v),r}function xhe(e){var t=dh(e),r=e.read_shift(4);return[t,r,"s"]}function ghe(e,t,r){return r==null&&(r=Mt(8)),fh(t,r),r.write_shift(4,t.v),r}function vhe(e){var t=Bc(e),r=Fo(e);return[t,r,"n"]}function yhe(e,t,r){return r==null&&(r=Mt(16)),uh(t,r),eh(e.v,r),r}function OR(e){var t=dh(e),r=Fo(e);return[t,r,"n"]}function bhe(e,t,r){return r==null&&(r=Mt(12)),fh(t,r),eh(e.v,r),r}function whe(e){var t=Bc(e),r=Z3(e);return[t,r,"n"]}function Nhe(e,t,r){return r==null&&(r=Mt(12)),uh(t,r),AM(e.v,r),r}function jhe(e){var t=dh(e),r=Z3(e);return[t,r,"n"]}function khe(e,t,r){return r==null&&(r=Mt(8)),fh(t,r),AM(e.v,r),r}function She(e){var t=Bc(e),r=Y3(e);return[t,r,"is"]}function _he(e){var t=Bc(e),r=Ro(e);return[t,r,"str"]}function Ahe(e,t,r){return r==null&&(r=Mt(12+4*e.v.length)),uh(t,r),qi(e.v,r),r.length>r.l?r.slice(0,r.l):r}function Ehe(e){var t=dh(e),r=Ro(e);return[t,r,"str"]}function Che(e,t,r){return r==null&&(r=Mt(8+4*e.v.length)),fh(t,r),qi(e.v,r),r.length>r.l?r.slice(0,r.l):r}function The(e,t,r){var n=e.l+t,s=Bc(e);s.r=r["!row"];var i=e.read_shift(1),o=[s,i,"b"];if(r.cellFormula){e.l+=2;var l=eb(e,n-e.l,r);o[3]=Po(l,null,s,r.supbooks,r)}else e.l=n;return o}function Ohe(e,t,r){var n=e.l+t,s=Bc(e);s.r=r["!row"];var i=e.read_shift(1),o=[s,i,"e"];if(r.cellFormula){e.l+=2;var l=eb(e,n-e.l,r);o[3]=Po(l,null,s,r.supbooks,r)}else e.l=n;return o}function Phe(e,t,r){var n=e.l+t,s=Bc(e);s.r=r["!row"];var i=Fo(e),o=[s,i,"n"];if(r.cellFormula){e.l+=2;var l=eb(e,n-e.l,r);o[3]=Po(l,null,s,r.supbooks,r)}else e.l=n;return o}function Ihe(e,t,r){var n=e.l+t,s=Bc(e);s.r=r["!row"];var i=Ro(e),o=[s,i,"str"];if(r.cellFormula){e.l+=2;var l=eb(e,n-e.l,r);o[3]=Po(l,null,s,r.supbooks,r)}else e.l=n;return o}var Dhe=hh,Lhe=Gp;function Fhe(e,t){return t==null&&(t=Mt(4)),t.write_shift(4,e),t}function Mhe(e,t){var r=e.l+t,n=hh(e),s=J3(e),i=Ro(e),o=Ro(e),l=Ro(e);e.l=r;var c={rfx:n,relId:s,loc:i,display:l};return o&&(c.Tooltip=o),c}function Rhe(e,t){var r=Mt(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Gp({s:js(e[0]),e:js(e[0])},r),Q3("rId"+t,r);var n=e[1].Target.indexOf("#"),s=n==-1?"":e[1].Target.slice(n+1);return qi(s||"",r),qi(e[1].Tooltip||"",r),qi("",r),r.slice(0,r.l)}function Bhe(){}function Uhe(e,t,r){var n=e.l+t,s=EM(e),i=e.read_shift(1),o=[s];if(o[2]=i,r.cellFormula){var l=u0e(e,n-e.l,r);o[1]=l}else e.l=n;return o}function qhe(e,t,r){var n=e.l+t,s=hh(e),i=[s];if(r.cellFormula){var o=f0e(e,n-e.l,r);i[1]=o,e.l=n}else e.l=n;return i}function $he(e,t,r){r==null&&(r=Mt(18));var n=tb(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var s=0;return t.hidden&&(s|=1),typeof n.width=="number"&&(s|=2),t.level&&(s|=t.level<<8),r.write_shift(2,s),r}var PR=["left","right","top","bottom","header","footer"];function zhe(e){var t={};return PR.forEach(function(r){t[r]=Fo(e)}),t}function Hhe(e,t){return t==null&&(t=Mt(48)),H0(e),PR.forEach(function(r){eh(e[r],t)}),t}function Whe(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function Vhe(e,t,r){r==null&&(r=Mt(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function Ghe(e){var t=Mt(24);return t.write_shift(4,4),t.write_shift(4,1),Gp(e,t),t}function Khe(e,t){return t==null&&(t=Mt(66)),t.write_shift(2,e.password?sS(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function Xhe(){}function Yhe(){}function Jhe(e,t,r,n,s,i,o){if(!e)return e;var l=t||{};n||(n={"!id":{}});var c=l.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},h=!1,m=!1,p,y,v,g,b,w,j,N,k,P=[];l.biff=12,l["!row"]=0;var A=0,O=!1,D=[],R={},C=l.supbooks||s.supbooks||[[]];if(C.sharedf=R,C.arrayf=D,C.SheetNames=s.SheetNames||s.Sheets.map(function(te){return te.name}),!l.supbooks&&(l.supbooks=C,s.Names))for(var T=0;T<s.Names.length;++T)C[0][T+1]=s.Names[T];var I=[],B=[],X=!1;Wx[16]={n:"BrtShortReal",f:OR};var re;if(of(e,function(Y,Q,H){if(!m)switch(H){case 148:u=Y;break;case 0:p=Y,l.sheetRows&&l.sheetRows<=p.r&&(m=!0),N=Ys(g=p.r),l["!row"]=p.r,(Y.hidden||Y.hpt||Y.level!=null)&&(Y.hpt&&(Y.hpx=Pp(Y.hpt)),B[Y.r]=Y);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(y={t:Y[2]},Y[2]){case"n":y.v=Y[1];break;case"s":j=zm[Y[1]],y.v=j.t,y.r=j.r;break;case"b":y.v=!!Y[1];break;case"e":y.v=Y[1],l.cellText!==!1&&(y.w=lf[y.v]);break;case"str":y.t="s",y.v=Y[1];break;case"is":y.t="s",y.v=Y[1].t;break}if((v=o.CellXf[Y[0].iStyleRef])&&ER(y,v.numFmtId,null,l,i,o),b=Y[0].c==-1?b+1:Y[0].c,l.dense?(c[g]||(c[g]=[]),c[g][b]=y):c[Ns(b)+N]=y,l.cellFormula){for(O=!1,A=0;A<D.length;++A){var E=D[A];p.r>=E[0].s.r&&p.r<=E[0].e.r&&b>=E[0].s.c&&b<=E[0].e.c&&(y.F=bn(E[0]),O=!0)}!O&&Y.length>3&&(y.f=Y[3])}if(d.s.r>p.r&&(d.s.r=p.r),d.s.c>b&&(d.s.c=b),d.e.r<p.r&&(d.e.r=p.r),d.e.c<b&&(d.e.c=b),l.cellDates&&v&&y.t=="n"&&Hp(an[v.numFmtId])){var q=D0(y.v);q&&(y.t="d",y.v=new Date(q.y,q.m-1,q.d,q.H,q.M,q.S,q.u))}re&&(re.type=="XLDAPR"&&(y.D=!0),re=void 0);break;case 1:case 12:if(!l.sheetStubs||h)break;y={t:"z",v:void 0},b=Y[0].c==-1?b+1:Y[0].c,l.dense?(c[g]||(c[g]=[]),c[g][b]=y):c[Ns(b)+N]=y,d.s.r>p.r&&(d.s.r=p.r),d.s.c>b&&(d.s.c=b),d.e.r<p.r&&(d.e.r=p.r),d.e.c<b&&(d.e.c=b),re&&(re.type=="XLDAPR"&&(y.D=!0),re=void 0);break;case 176:P.push(Y);break;case 49:re=((l.xlmeta||{}).Cell||[])[Y-1];break;case 494:var V=n["!id"][Y.relId];for(V?(Y.Target=V.Target,Y.loc&&(Y.Target+="#"+Y.loc),Y.Rel=V):Y.relId==""&&(Y.Target="#"+Y.loc),g=Y.rfx.s.r;g<=Y.rfx.e.r;++g)for(b=Y.rfx.s.c;b<=Y.rfx.e.c;++b)l.dense?(c[g]||(c[g]=[]),c[g][b]||(c[g][b]={t:"z",v:void 0}),c[g][b].l=Y):(w=cn({c:b,r:g}),c[w]||(c[w]={t:"z",v:void 0}),c[w].l=Y);break;case 426:if(!l.cellFormula)break;D.push(Y),k=l.dense?c[g][b]:c[Ns(b)+N],k.f=Po(Y[1],d,{r:p.r,c:b},C,l),k.F=bn(Y[0]);break;case 427:if(!l.cellFormula)break;R[cn(Y[0].s)]=Y[1],k=l.dense?c[g][b]:c[Ns(b)+N],k.f=Po(Y[1],d,{r:p.r,c:b},C,l);break;case 60:if(!l.cellStyles)break;for(;Y.e>=Y.s;)I[Y.e--]={width:Y.w/256,hidden:!!(Y.flags&1),level:Y.level},X||(X=!0,iS(Y.w/256)),Kf(I[Y.e+1]);break;case 161:c["!autofilter"]={ref:bn(Y)};break;case 476:c["!margins"]=Y;break;case 147:s.Sheets[r]||(s.Sheets[r]={}),Y.name&&(s.Sheets[r].CodeName=Y.name),(Y.above||Y.left)&&(c["!outline"]={above:Y.above,left:Y.left});break;case 137:s.Views||(s.Views=[{}]),s.Views[0]||(s.Views[0]={}),Y.RTL&&(s.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:h=!0;break;case 36:h=!1;break;case 37:h=!0;break;case 38:h=!1;break;default:if(!Q.T){if(!h||l.WTF)throw new Error("Unexpected record 0x"+H.toString(16))}}},l),delete l.supbooks,delete l["!row"],!c["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(c["!ref"]=bn(u||d)),l.sheetRows&&c["!ref"]){var Z=ia(c["!ref"]);l.sheetRows<=+Z.e.r&&(Z.e.r=l.sheetRows-1,Z.e.r>d.e.r&&(Z.e.r=d.e.r),Z.e.r<Z.s.r&&(Z.s.r=Z.e.r),Z.e.c>d.e.c&&(Z.e.c=d.e.c),Z.e.c<Z.s.c&&(Z.s.c=Z.e.c),c["!fullref"]=c["!ref"],c["!ref"]=bn(Z))}return P.length>0&&(c["!merges"]=P),I.length>0&&(c["!cols"]=I),B.length>0&&(c["!rows"]=B),c}function Qhe(e,t,r,n,s,i,o){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=as(t),t.z=t.z||an[14],t.v=Ni(ns(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var c={r,c:n};switch(c.s=o0(s.cellXfs,t,s),t.l&&i["!links"].push([cn(c),t.l]),t.c&&i["!comments"].push([cn(c),t.c]),t.t){case"s":case"str":return s.bookSST?(l=dS(s.Strings,t.v,s.revStrings),c.t="s",c.v=l,o?Vt(e,18,ghe(t,c)):Vt(e,7,mhe(t,c))):(c.t="str",o?Vt(e,17,Che(t,c)):Vt(e,6,Ahe(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?Vt(e,13,khe(t,c)):Vt(e,2,Nhe(t,c)):o?Vt(e,16,bhe(t,c)):Vt(e,5,yhe(t,c)),!0;case"b":return c.t="b",o?Vt(e,15,che(t,c)):Vt(e,4,ohe(t,c)),!0;case"e":return c.t="e",o?Vt(e,14,hhe(t,c)):Vt(e,3,dhe(t,c)),!0}return o?Vt(e,12,she(t,c)):Vt(e,1,nhe(t,c)),!0}function Zhe(e,t,r,n){var s=ia(t["!ref"]||"A1"),i,o="",l=[];Vt(e,145);var c=Array.isArray(t),u=s.e.r;t["!rows"]&&(u=Math.max(s.e.r,t["!rows"].length-1));for(var d=s.s.r;d<=u;++d){o=Ys(d),Y0e(e,t,s,d);var h=!1;if(d<=s.e.r)for(var m=s.s.c;m<=s.e.c;++m){d===s.s.r&&(l[m]=Ns(m)),i=l[m]+o;var p=c?(t[d]||[])[m]:t[i];if(!p){h=!1;continue}h=Qhe(e,p,d,m,n,t,h)}}Vt(e,146)}function epe(e,t){!t||!t["!merges"]||(Vt(e,177,Fhe(t["!merges"].length)),t["!merges"].forEach(function(r){Vt(e,176,Lhe(r))}),Vt(e,178))}function tpe(e,t){!t||!t["!cols"]||(Vt(e,390),t["!cols"].forEach(function(r,n){r&&Vt(e,60,$he(n,r))}),Vt(e,391))}function rpe(e,t){!t||!t["!ref"]||(Vt(e,648),Vt(e,649,Ghe(ia(t["!ref"]))),Vt(e,650))}function npe(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var s=Ta(r,-1,n[1].Target.replace(/#.*$/,""),Dn.HLINK);Vt(e,494,Rhe(n,s))}}),delete t["!links"]}function ape(e,t,r,n){if(t["!comments"].length>0){var s=Ta(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Dn.VML);Vt(e,551,Q3("rId"+s)),t["!legacy"]=s}}function spe(e,t,r,n){if(t["!autofilter"]){var s=t["!autofilter"],i=typeof s.ref=="string"?s.ref:bn(s.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,l=_l(i);l.s.r==l.e.r&&(l.e.r=_l(t["!ref"]).e.r,i=bn(l));for(var c=0;c<o.length;++c){var u=o[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+i;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),Vt(e,161,Gp(ia(i))),Vt(e,162)}}function ipe(e,t,r){Vt(e,133),Vt(e,137,Vhe(t,r)),Vt(e,138),Vt(e,134)}function ope(e,t){t["!protect"]&&Vt(e,535,Khe(t["!protect"]))}function lpe(e,t,r,n){var s=Sl(),i=r.SheetNames[e],o=r.Sheets[i]||{},l=i;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var c=ia(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Vt(s,129),(r.vbaraw||o["!outline"])&&Vt(s,147,the(l,o["!outline"])),Vt(s,148,Q0e(c)),ipe(s,o,r.Workbook),tpe(s,o),Zhe(s,o,e,t),ope(s,o),spe(s,o,r,e),epe(s,o),npe(s,o,n),o["!margins"]&&Vt(s,476,Hhe(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&rpe(s,o),ape(s,o,e,n),Vt(s,130),s.end()}function cpe(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var o=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(t[+o[1]]=r?+o[2]:o[2])});var s=sa((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[t,s,n]}function upe(e,t,r,n,s,i){var o=i||{"!type":"chart"};if(!e)return i;var l=0,c=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(h){var m=cpe(h);d.s.r=d.s.c=0,d.e.c=l,u=Ns(l),m[0].forEach(function(p,y){o[u+Ys(y)]={t:"n",v:p,z:m[1]},c=y}),d.e.r<c&&(d.e.r=c),++l}),l>0&&(o["!ref"]=bn(d)),o}function dpe(e,t,r,n,s){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o,l=e.match(CR);return l&&fS(l[0],i,s,r),(o=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=o[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function fpe(e,t){e.l+=10;var r=Ro(e);return{name:r}}function hpe(e,t,r,n,s){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o=!1;return of(e,function(c,u,d){switch(d){case 550:i["!rel"]=c;break;case 651:s.Sheets[r]||(s.Sheets[r]={}),c.name&&(s.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!o||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var hS=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],ppe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],mpe=[],xpe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function s8(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],s=0;s!=t.length;++s){var i=t[s];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=ts(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function i8(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=ts(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function IR(e){i8(e.WBProps,hS),i8(e.CalcPr,xpe),s8(e.WBView,ppe),s8(e.Sheets,mpe),ep.date1904=ts(e.WBProps.date1904)}function gpe(e){return!e.Workbook||!e.Workbook.WBProps?"false":ts(e.Workbook.WBProps.date1904)?"true":"false"}var vpe="][*?/\\".split("");function DR(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return vpe.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function ype(e,t,r){e.forEach(function(n,s){DR(n);for(var i=0;i<s;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var o=t&&t[s]&&t[s].CodeName||n;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function bpe(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];ype(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)g0e(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var wpe=/<\w+:workbook/;function Npe(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,s="xmlns",i={},o=0;if(e.replace(Uo,function(c,u){var d=dn(c);switch(md(d[0])){case"<?xml":break;case"<workbook":c.match(wpe)&&(s="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=d[s];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":hS.forEach(function(h){if(d[h[0]]!=null)switch(h[2]){case"bool":r.WBProps[h[0]]=ts(d[h[0]]);break;case"int":r.WBProps[h[0]]=parseInt(d[h[0]],10);break;default:r.WBProps[h[0]]=d[h[0]]}}),d.codeName&&(r.WBProps.CodeName=Ra(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=sa(Ra(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=Ra(d.name),d.comment&&(i.Comment=d.comment),d.localSheetId&&(i.Sheet=+d.localSheetId),ts(d.hidden||"0")&&(i.Hidden=!0),o=u+c.length;break;case"</definedName>":i.Ref=sa(Ra(e.slice(o,u))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return c}),ch.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return IR(r),r}function LR(e){var t=[Js];t[t.length]=ur("workbook",null,{xmlns:ch[0],"xmlns:r":yi.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(hS.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=ur("workbookPr",null,n);var s=e.Workbook&&e.Workbook.Sheets||[],i=0;if(s&&s[0]&&s[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!s[i]||!s[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var o={name:Oa(e.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),s[i])switch(s[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=ur("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=ur("definedName",Oa(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function jpe(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=J4(e),r.name=Ro(e),r}function kpe(e,t){return t||(t=Mt(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),Q3(e.strRelID,t),qi(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function Spe(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var s=t>8?Ro(e):"";return s.length>0&&(r.CodeName=s),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function _pe(e,t){t||(t=Mt(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),_M(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function Ape(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function Epe(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var s=e.read_shift(4),i=aoe(e),o=d0e(e,0,r),l=J3(e);e.l=n;var c={Name:i,Ptg:o};return s<268435455&&(c.Sheet=s),l&&(c.Comment=l),c}function Cpe(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],s=!1;t||(t={}),t.biff=12;var i=[],o=[[]];return o.SheetNames=[],o.XTI=[],Wx[16]={n:"BrtFRTArchID$",f:Ape},of(e,function(c,u,d){switch(d){case 156:o.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=Po(c.Ptg,null,null,o,t),delete t.SID,delete c.Ptg,i.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([d,c]):o[0]=[d,c],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(c),o.XTI=o.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),s=!0;break;case 36:n.pop(),s=!1;break;case 37:n.push(d),s=!0;break;case 38:n.pop(),s=!1;break;case 16:break;default:if(!u.T){if(!s||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),IR(r),r.Names=i,r.supbooks=o,r}function Tpe(e,t){Vt(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,s={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};Vt(e,156,kpe(s))}Vt(e,144)}function Ope(e,t){t||(t=Mt(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return qi("SheetJS",t),qi(G1.version,t),qi(G1.version,t),qi("7262",t),t.length>t.l?t.slice(0,t.l):t}function Ppe(e,t){t||(t=Mt(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function Ipe(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,s=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&s==-1?s=n:r[n].Hidden==1&&i==-1&&(i=n);i>s||(Vt(e,135),Vt(e,158,Ppe(s)),Vt(e,136))}}function Dpe(e,t){var r=Sl();return Vt(r,131),Vt(r,128,Ope()),Vt(r,153,_pe(e.Workbook&&e.Workbook.WBProps||null)),Ipe(r,e),Tpe(r,e),Vt(r,132),r.end()}function Lpe(e,t,r){return t.slice(-4)===".bin"?Cpe(e,r):Npe(e,r)}function Fpe(e,t,r,n,s,i,o,l){return t.slice(-4)===".bin"?Jhe(e,n,r,s,i,o,l):E0e(e,n,r,s,i,o,l)}function Mpe(e,t,r,n,s,i,o,l){return t.slice(-4)===".bin"?hpe(e,n,r,s,i):dpe(e,n,r,s,i)}function Rpe(e,t,r,n,s,i,o,l){return t.slice(-4)===".bin"?Ude():qde()}function Bpe(e,t,r,n,s,i,o,l){return t.slice(-4)===".bin"?Rde():Bde()}function Upe(e,t,r,n){return t.slice(-4)===".bin"?Lue(e,r,n):jue(e,r,n)}function qpe(e,t,r){return mR(e,r)}function $pe(e,t,r){return t.slice(-4)===".bin"?$ce(e,r):Bce(e,r)}function zpe(e,t,r){return t.slice(-4)===".bin"?Ide(e,r):kde(e,r)}function Hpe(e,t,r){return t.slice(-4)===".bin"?wde(e):yde(e)}function Wpe(e,t,r,n){return r.slice(-4)===".bin"?Nde(e,t,r,n):void 0}function Vpe(e,t,r){return t.slice(-4)===".bin"?xde(e,t,r):vde(e,t,r)}function Gpe(e,t,r){return(t.slice(-4)===".bin"?Dpe:LR)(e)}function Kpe(e,t,r,n,s){return(t.slice(-4)===".bin"?lpe:TR)(e,r,n,s)}function Xpe(e,t,r){return(t.slice(-4)===".bin"?Wue:hR)(e,r)}function Ype(e,t,r){return(t.slice(-4)===".bin"?Wce:sR)(e,r)}function Jpe(e,t,r){return(t.slice(-4)===".bin"?Dde:vR)(e)}function Qpe(e){return(e.slice(-4)===".bin"?gde:xR)()}var FR=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,MR=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function mu(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var s=e.match(FR),i,o,l,c;if(s)for(c=0;c!=s.length;++c)i=s[c].match(MR),(o=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?l="xmlns"+i[1].slice(6):l=i[1].slice(o+1),n[l]=i[2].slice(1,i[2].length-1));return n}function Zpe(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(FR),s,i,o,l;if(n)for(l=0;l!=n.length;++l)s=n[l].match(MR),(i=s[1].indexOf(":"))===-1?r[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?o="xmlns"+s[1].slice(6):o=s[1].slice(i+1),r[o]=s[2].slice(1,s[2].length-1));return r}var Wm;function eme(e,t){var r=Wm[e]||sa(e);return r==="General"?Q0(t):Fc(r,t)}function tme(e,t,r,n){var s=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":s=ts(n);break;case"i2":case"int":s=parseInt(n,10);break;case"r4":case"float":s=parseFloat(n);break;case"date":case"dateTime.tz":s=ns(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[sa(t)]=s}function rme(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||lf[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Fx(e.v):e.w=Q0(e.v):e.w=eme(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var n=Wm[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&Hp(n)){var s=D0(e.v);s&&(e.t="d",e.v=new Date(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u))}}catch(i){if(r.WTF)throw i}}}function nme(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=mue[n.Pattern]||n.Pattern)}e[t.ID]=t}function ame(e,t,r,n,s,i,o,l,c,u){var d="General",h=n.StyleID,m={};u=u||{};var p=[],y=0;for(h===void 0&&l&&(h=l.StyleID),h===void 0&&o&&(h=o.StyleID);i[h]!==void 0&&(i[h].nf&&(d=i[h].nf),i[h].Interior&&p.push(i[h].Interior),!!i[h].Parent);)h=i[h].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=ts(e);break;case"String":n.t="s",n.r=jI(sa(e)),n.v=e.indexOf("<")>-1?sa(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(ns(e)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=sa(e):n.v<60&&(n.v=n.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=OM[e],u.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=jI(t||e));break}if(rme(n,d,u),u.cellFormula!==!1)if(n.Formula){var v=sa(n.Formula);v.charCodeAt(0)==61&&(v=v.slice(1)),n.f=Zh(v,s),delete n.Formula,n.ArrayRange=="RC"?n.F=Zh("RC:RC",s):n.ArrayRange&&(n.F=Zh(n.ArrayRange,s),c.push([ia(n.F),n.F]))}else for(y=0;y<c.length;++y)s.r>=c[y][0].s.r&&s.r<=c[y][0].e.r&&s.c>=c[y][0].s.c&&s.c<=c[y][0].e.c&&(n.F=c[y][1]);u.cellStyles&&(p.forEach(function(g){!m.patternType&&g.patternType&&(m.patternType=g.patternType)}),n.s=m),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function sme(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function tj(e,t){var r=t||{};Wp();var n=Em(W3(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Ra(n));var s=n.slice(0,1024).toLowerCase(),i=!1;if(s=s.replace(/".*?"/g,""),(s.indexOf(">")&1023)>Math.min(s.indexOf(",")&1023,s.indexOf(";")&1023)){var o=as(r);return o.type="string",Op.to_workbook(n,o)}if(s.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(we){s.indexOf("<"+we)>=0&&(i=!0)}),i)return Hme(n,r);Wm={"General Number":"General","General Date":an[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":an[15],"Short Date":an[14],"Long Time":an[19],"Medium Time":an[18],"Short Time":an[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:an[2],Standard:an[4],Percent:an[10],Scientific:an[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c=[],u,d={},h=[],m=r.dense?[]:{},p="",y={},v={},g=mu('<Data ss:Type="String">'),b=0,w=0,j=0,N={s:{r:2e6,c:2e6},e:{r:0,c:0}},k={},P={},A="",O=0,D=[],R={},C={},T=0,I=[],B=[],X={},re=[],Z,te=!1,Y=[],Q=[],H={},E=0,q=0,V={Sheets:[],WBProps:{date1904:!1}},U={};Bx.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var G="";l=Bx.exec(n);)switch(l[3]=(G=l[3]).toLowerCase()){case"data":if(G=="data"){if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break}if(c[c.length-1][1])break;l[1]==="/"?ame(n.slice(b,l.index),A,g,c[c.length-1][0]=="comment"?X:y,{c:w,r:j},k,re[w],v,Y,r):(A="",g=mu(l[0]),b=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(B.length>0&&(y.c=B),(!r.sheetRows||r.sheetRows>j)&&y.v!==void 0&&(r.dense?(m[j]||(m[j]=[]),m[j][w]=y):m[Ns(w)+Ys(j)]=y),y.HRef&&(y.l={Target:sa(y.HRef)},y.HRefScreenTip&&(y.l.Tooltip=y.HRefScreenTip),delete y.HRef,delete y.HRefScreenTip),(y.MergeAcross||y.MergeDown)&&(E=w+(parseInt(y.MergeAcross,10)|0),q=j+(parseInt(y.MergeDown,10)|0),D.push({s:{c:w,r:j},e:{c:E,r:q}})),!r.sheetStubs)y.MergeAcross?w=E+1:++w;else if(y.MergeAcross||y.MergeDown){for(var ne=w;ne<=E;++ne)for(var de=j;de<=q;++de)(ne>w||de>j)&&(r.dense?(m[de]||(m[de]=[]),m[de][ne]={t:"z"}):m[Ns(ne)+Ys(de)]={t:"z"});w=E+1}else++w;else y=Zpe(l[0]),y.Index&&(w=+y.Index-1),w<N.s.c&&(N.s.c=w),w>N.e.c&&(N.e.c=w),l[0].slice(-2)==="/>"&&++w,B=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(j<N.s.r&&(N.s.r=j),j>N.e.r&&(N.e.r=j),l[0].slice(-2)==="/>"&&(v=mu(l[0]),v.Index&&(j=+v.Index-1)),w=0,++j):(v=mu(l[0]),v.Index&&(j=+v.Index-1),H={},(v.AutoFitHeight=="0"||v.Height)&&(H.hpx=parseInt(v.Height,10),H.hpt=Hx(H.hpx),Q[j]=H),v.Hidden=="1"&&(H.hidden=!0,Q[j]=H));break;case"worksheet":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));h.push(p),N.s.r<=N.e.r&&N.s.c<=N.e.c&&(m["!ref"]=bn(N),r.sheetRows&&r.sheetRows<=N.e.r&&(m["!fullref"]=m["!ref"],N.e.r=r.sheetRows-1,m["!ref"]=bn(N))),D.length&&(m["!merges"]=D),re.length>0&&(m["!cols"]=re),Q.length>0&&(m["!rows"]=Q),d[p]=m}else N={s:{r:2e6,c:2e6},e:{r:0,c:0}},j=w=0,c.push([l[3],!1]),u=mu(l[0]),p=sa(u.Name),m=r.dense?[]:{},D=[],Y=[],Q=[],U={name:p,Hidden:0},V.Sheets.push(U);break;case"table":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else{if(l[0].slice(-2)=="/>")break;c.push([l[3],!1]),re=[],te=!1}break;case"style":l[1]==="/"?nme(k,P,r):P=mu(l[0]);break;case"numberformat":P.nf=sa(mu(l[0]).Format||"General"),Wm[P.nf]&&(P.nf=Wm[P.nf]);for(var ce=0;ce!=392&&an[ce]!=P.nf;++ce);if(ce==392){for(ce=57;ce!=392;++ce)if(an[ce]==null){Gd(P.nf,ce);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(Z=mu(l[0]),Z.Hidden&&(Z.hidden=!0,delete Z.Hidden),Z.Width&&(Z.wpx=parseInt(Z.Width,10)),!te&&Z.wpx>10){te=!0,Lo=dR;for(var he=0;he<re.length;++he)re[he]&&Kf(re[he])}te&&Kf(Z),re[Z.Index-1||re.length]=Z;for(var Le=0;Le<+Z.Span;++Le)re[re.length]=as(Z);break;case"namedrange":if(l[1]==="/")break;V.Names||(V.Names=[]);var se=dn(l[0]),Fe={Name:se.Name,Ref:Zh(se.RefersTo.slice(1),{r:0,c:0})};V.Sheets.length>0&&(Fe.Sheet=V.Sheets.length-1),V.Names.push(Fe);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?A+=n.slice(O,l.index):O=l.index+l[0].length;break;case"interior":if(!r.cellStyles)break;P.Interior=mu(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?Coe(R,G,n.slice(T,l.index)):T=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else c.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));sme(X),B.push(X)}else c.push([l[3],!1]),u=mu(l[0]),X={a:u.Author};break;case"autofilter":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var _e=mu(l[0]);m["!autofilter"]={ref:Zh(_e.Range).replace(/\$/g,"")},c.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"null":break;default:if(c.length==0&&l[3]=="document"||c.length==0&&l[3]=="uof")return d8(n,r);var oe=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:oe=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:oe=!1}break;case"excelworkbook":switch(l[3]){case"date1904":V.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:oe=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:oe=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(n.slice(T,l.index)){case"SheetHidden":U.Hidden=1;break;case"SheetVeryHidden":U.Hidden=2;break}else T=l.index+l[0].length;break;case"header":m["!margins"]||H0(m["!margins"]={},"xlml"),isNaN(+dn(l[0]).Margin)||(m["!margins"].header=+dn(l[0]).Margin);break;case"footer":m["!margins"]||H0(m["!margins"]={},"xlml"),isNaN(+dn(l[0]).Margin)||(m["!margins"].footer=+dn(l[0]).Margin);break;case"pagemargins":var ae=dn(l[0]);m["!margins"]||H0(m["!margins"]={},"xlml"),isNaN(+ae.Top)||(m["!margins"].top=+ae.Top),isNaN(+ae.Left)||(m["!margins"].left=+ae.Left),isNaN(+ae.Right)||(m["!margins"].right=+ae.Right),isNaN(+ae.Bottom)||(m["!margins"].bottom=+ae.Bottom);break;case"displayrighttoleft":V.Views||(V.Views=[]),V.Views[0]||(V.Views[0]={}),V.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":m["!outline"]||(m["!outline"]={}),m["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":m["!outline"]||(m["!outline"]={}),m["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:oe=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:oe=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:oe=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:oe=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:oe=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:oe=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:oe=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:oe=!1}break;case"smarttags":break;default:oe=!1;break}if(oe||l[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?tme(C,G,I,n.slice(T,l.index)):(I=l,T=l.index+l[0].length);break}if(r.WTF)throw"Unrecognized tag: "+l[3]+"|"+c.join("|")}var ke={};return!r.bookSheets&&!r.bookProps&&(ke.Sheets=d),ke.SheetNames=h,ke.Workbook=V,ke.SSF=as(an),ke.Props=R,ke.Custprops=C,ke}function ak(e,t){switch(mS(t=t||{}),t.type||"base64"){case"base64":return tj(rc(e),t);case"binary":case"buffer":case"file":return tj(e,t);case"array":return tj(s0(e),t)}}function ime(e,t){var r=[];return e.Props&&r.push(Toe(e.Props,t)),e.Custprops&&r.push(Ooe(e.Props,e.Custprops)),r.join("")}function ome(){return""}function lme(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,s){var i=[];i.push(ur("NumberFormat",null,{"ss:Format":Oa(an[n.numFmtId])}));var o={"ss:ID":"s"+(21+s)};r.push(ur("Style",i.join(""),o))}),ur("Styles",r.join(""))}function RR(e){return ur("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+cS(e.Ref,{r:0,c:0})})}function cme(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var s=t[n];s.Sheet==null&&(s.Name.match(/^_xlfn\./)||r.push(RR(s)))}return ur("Names",r.join(""))}function ume(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var s=n.Workbook.Names,i=[],o=0;o<s.length;++o){var l=s[o];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||i.push(RR(l)))}return i.join("")}function dme(e,t,r,n){if(!e)return"";var s=[];if(e["!margins"]&&(s.push("<PageSetup>"),e["!margins"].header&&s.push(ur("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&s.push(ur("Footer",null,{"x:Margin":e["!margins"].footer})),s.push(ur("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),s.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)s.push(ur("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&s.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&s.push("<DisplayRightToLeft/>"),e["!protect"]&&(s.push(io("ProtectContents","True")),e["!protect"].objects&&s.push(io("ProtectObjects","True")),e["!protect"].scenarios&&s.push(io("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?s.push(io("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&s.push(io("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&s.push("<"+o[1]+"/>")})),s.length==0?"":ur("WorksheetOptions",s.join(""),{xmlns:Kl.x})}function fme(e){return e.map(function(t){var r=Iie(t.t||""),n=ur("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return ur("Comment",n,{"ss:Author":t.a})}).join("")}function hme(e,t,r,n,s,i,o){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+Oa(cS(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var c=js(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=Oa(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=Oa(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],d=0;d!=u.length;++d)u[d].s.c!=o.c||u[d].s.r!=o.r||(u[d].e.c>u[d].s.c&&(l["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(l["ss:MergeDown"]=u[d].e.r-u[d].s.r));var h="",m="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":h="Number",m=String(e.v);break;case"b":h="Boolean",m=e.v?"1":"0";break;case"e":h="Error",m=lf[e.v];break;case"d":h="DateTime",m=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||an[14]);break;case"s":h="String",m=Pie(e.v||"");break}var p=o0(n.cellXfs,e,n);l["ss:StyleID"]="s"+(21+p),l["ss:Index"]=o.c+1;var y=e.v!=null?m:"",v=e.t=="z"?"":'<Data ss:Type="'+h+'">'+y+"</Data>";return(e.c||[]).length>0&&(v+=fme(e.c)),ur("Cell",v,l)}function pme(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=Pp(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function mme(e,t,r,n){if(!e["!ref"])return"";var s=ia(e["!ref"]),i=e["!merges"]||[],o=0,l=[];e["!cols"]&&e["!cols"].forEach(function(g,b){Kf(g);var w=!!g.width,j=tb(b,g),N={"ss:Index":b+1};w&&(N["ss:Width"]=$x(j.width)),g.hidden&&(N["ss:Hidden"]="1"),l.push(ur("Column",null,N))});for(var c=Array.isArray(e),u=s.s.r;u<=s.e.r;++u){for(var d=[pme(u,(e["!rows"]||[])[u])],h=s.s.c;h<=s.e.c;++h){var m=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>h)&&!(i[o].s.r>u)&&!(i[o].e.c<h)&&!(i[o].e.r<u)){(i[o].s.c!=h||i[o].s.r!=u)&&(m=!0);break}if(!m){var p={r:u,c:h},y=cn(p),v=c?(e[u]||[])[h]:e[y];d.push(hme(v,y,e,t,r,n,p))}}d.push("</Row>"),d.length>2&&l.push(d.join(""))}return l.join("")}function xme(e,t,r){var n=[],s=r.SheetNames[e],i=r.Sheets[s],o=i?ume(i,t,e,r):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=i?mme(i,t,e,r):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(dme(i,t,e,r)),n.join("")}function gme(e,t){t||(t={}),e.SSF||(e.SSF=as(an)),e.SSF&&(Wp(),Ky(e.SSF),t.revssf=Yy(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],o0(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(ime(e,t)),r.push(ome()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(ur("Worksheet",xme(n,t,e),{"ss:Name":Oa(e.SheetNames[n])}));return r[2]=lme(e,t),r[3]=cme(e),Js+ur("Workbook",r.join(""),{xmlns:Kl.ss,"xmlns:o":Kl.o,"xmlns:x":Kl.x,"xmlns:ss":Kl.ss,"xmlns:dt":Kl.dt,"xmlns:html":Kl.html})}function vme(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=coe(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=uoe(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var yme=[60,1084,2066,2165,2175];function bme(e,t,r,n,s){var i=n,o=[],l=r.slice(r.l,r.l+i);if(s&&s.enc&&s.enc.insitu&&l.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:s.enc.insitu(l)}o.push(l),r.l+=i;for(var c=Bd(r,r.l),u=sk[c],d=0;u!=null&&yme.indexOf(c)>-1;)i=Bd(r,r.l+2),d=r.l+4,c==2066?d+=4:(c==2165||c==2175)&&(d+=12),l=r.slice(d,r.l+4+i),o.push(l),r.l+=4+i,u=sk[c=Bd(r,r.l)];var h=Ui(o);so(h,0);var m=0;h.lens=[];for(var p=0;p<o.length;++p)h.lens.push(m),m+=o[p].length;if(h.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+h.length+" < "+n;return t.f(h,h.length,s)}function Vu(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=an[n])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||lf[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Fx(e.v):e.w=Q0(e.v):e.w=Fc(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&n&&e.t=="n"&&Hp(an[n]||String(n))){var s=D0(e.v);s&&(e.t="d",e.v=new Date(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u))}}}function vv(e,t,r){return{v:e,ixfe:t,t:r}}function wme(e,t){var r={opts:{}},n={},s=t.dense?[]:{},i={},o={},l=null,c=[],u="",d={},h,m="",p,y,v,g,b={},w=[],j,N,k=[],P=[],A={Sheets:[],WBProps:{date1904:!1},Views:[{}]},O={},D=function(ot){return ot<8?q0[ot]:ot<64&&P[ot-8]||q0[ot]},R=function(ot,rt,lr){var er=rt.XF.data;if(!(!er||!er.patternType||!lr||!lr.cellStyles)){rt.s={},rt.s.patternType=er.patternType;var xt;(xt=qx(D(er.icvFore)))&&(rt.s.fgColor={rgb:xt}),(xt=qx(D(er.icvBack)))&&(rt.s.bgColor={rgb:xt})}},C=function(ot,rt,lr){if(!(H>1)&&!(lr.sheetRows&&ot.r>=lr.sheetRows)){if(lr.cellStyles&&rt.XF&&rt.XF.data&&R(ot,rt,lr),delete rt.ixfe,delete rt.XF,h=ot,m=cn(ot),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),ot.r<o.s.r&&(o.s.r=ot.r),ot.c<o.s.c&&(o.s.c=ot.c),ot.r+1>o.e.r&&(o.e.r=ot.r+1),ot.c+1>o.e.c&&(o.e.c=ot.c+1),lr.cellFormula&&rt.f){for(var er=0;er<w.length;++er)if(!(w[er][0].s.c>ot.c||w[er][0].s.r>ot.r)&&!(w[er][0].e.c<ot.c||w[er][0].e.r<ot.r)){rt.F=bn(w[er][0]),(w[er][0].s.c!=ot.c||w[er][0].s.r!=ot.r)&&delete rt.f,rt.f&&(rt.f=""+Po(w[er][1],o,ot,Y,T));break}}lr.dense?(s[ot.r]||(s[ot.r]=[]),s[ot.r][ot.c]=rt):s[m]=rt}},T={enc:!1,sbcch:0,snames:[],sharedf:b,arrayf:w,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(T.password=t.password);var I,B=[],X=[],re=[],Z=[],te=!1,Y=[];Y.SheetNames=T.snames,Y.sharedf=T.sharedf,Y.arrayf=T.arrayf,Y.names=[],Y.XTI=[];var Q=0,H=0,E=0,q=[],V=[],U;T.codepage=1200,Su(1200);for(var G=!1;e.l<e.length-1;){var ne=e.l,de=e.read_shift(2);if(de===0&&Q===10)break;var ce=e.l===e.length?0:e.read_shift(2),he=sk[de];if(he&&he.f){if(t.bookSheets&&Q===133&&de!==133)break;if(Q=de,he.r===2||he.r==12){var Le=e.read_shift(2);if(ce-=2,!T.enc&&Le!==de&&((Le&255)<<8|Le>>8)!==de)throw new Error("rt mismatch: "+Le+"!="+de);he.r==12&&(e.l+=10,ce-=10)}var se={};if(de===10?se=he.f(e,ce,T):se=bme(de,he,e,ce,T),H==0&&[9,521,1033,2057].indexOf(Q)===-1)continue;switch(de){case 34:r.opts.Date1904=A.WBProps.date1904=se;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(T.enc||(e.l=0),T.enc=se,!t.password)throw new Error("File is password-protected");if(se.valid==null)throw new Error("Encryption scheme unsupported");if(!se.valid)throw new Error("Password is incorrect");break;case 92:T.lastuser=se;break;case 66:var Fe=Number(se);switch(Fe){case 21010:Fe=1200;break;case 32768:Fe=1e4;break;case 32769:Fe=1252;break}Su(T.codepage=Fe),G=!0;break;case 317:T.rrtabid=se;break;case 25:T.winlocked=se;break;case 439:r.opts.RefreshAll=se;break;case 12:r.opts.CalcCount=se;break;case 16:r.opts.CalcDelta=se;break;case 17:r.opts.CalcIter=se;break;case 13:r.opts.CalcMode=se;break;case 14:r.opts.CalcPrecision=se;break;case 95:r.opts.CalcSaveRecalc=se;break;case 15:T.CalcRefMode=se;break;case 2211:r.opts.FullCalc=se;break;case 129:se.fDialog&&(s["!type"]="dialog"),se.fBelow||((s["!outline"]||(s["!outline"]={})).above=!0),se.fRight||((s["!outline"]||(s["!outline"]={})).left=!0);break;case 224:k.push(se);break;case 430:Y.push([se]),Y[Y.length-1].XTI=[];break;case 35:case 547:Y[Y.length-1].push(se);break;case 24:case 536:U={Name:se.Name,Ref:Po(se.rgce,o,null,Y,T)},se.itab>0&&(U.Sheet=se.itab-1),Y.names.push(U),Y[0]||(Y[0]=[],Y[0].XTI=[]),Y[Y.length-1].push(se),se.Name=="_xlnm._FilterDatabase"&&se.itab>0&&se.rgce&&se.rgce[0]&&se.rgce[0][0]&&se.rgce[0][0][0]=="PtgArea3d"&&(V[se.itab-1]={ref:bn(se.rgce[0][0][1][2])});break;case 22:T.ExternCount=se;break;case 23:Y.length==0&&(Y[0]=[],Y[0].XTI=[]),Y[Y.length-1].XTI=Y[Y.length-1].XTI.concat(se),Y.XTI=Y.XTI.concat(se);break;case 2196:if(T.biff<8)break;U!=null&&(U.Comment=se[1]);break;case 18:s["!protect"]=se;break;case 19:se!==0&&T.WTF&&console.error("Password verifier: "+se);break;case 133:i[se.pos]=se,T.snames.push(se.name);break;case 10:{if(--H)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,s["!ref"]=bn(o),t.sheetRows&&t.sheetRows<=o.e.r){var _e=o.e.r;o.e.r=t.sheetRows-1,s["!fullref"]=s["!ref"],s["!ref"]=bn(o),o.e.r=_e}o.e.r++,o.e.c++}B.length>0&&(s["!merges"]=B),X.length>0&&(s["!objects"]=X),re.length>0&&(s["!cols"]=re),Z.length>0&&(s["!rows"]=Z),A.Sheets.push(O)}u===""?d=s:n[u]=s,s=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(T.biff===8&&(T.biff={9:2,521:3,1033:4}[de]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[se.BIFFVer]||8),T.biffguess=se.BIFFVer==0,se.BIFFVer==0&&se.dt==4096&&(T.biff=5,G=!0,Su(T.codepage=28591)),T.biff==8&&se.BIFFVer==0&&se.dt==16&&(T.biff=2),H++)break;if(s=t.dense?[]:{},T.biff<8&&!G&&(G=!0,Su(T.codepage=t.codepage||1252)),T.biff<5||se.BIFFVer==0&&se.dt==4096){u===""&&(u="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var oe={pos:e.l-ce,name:u};i[oe.pos]=oe,T.snames.push(u)}else u=(i[ne]||{name:""}).name;se.dt==32&&(s["!type"]="chart"),se.dt==64&&(s["!type"]="macro"),B=[],X=[],T.arrayf=w=[],re=[],Z=[],te=!1,O={Hidden:(i[ne]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:s["!type"]=="chart"&&(t.dense?(s[se.r]||[])[se.c]:s[cn({c:se.c,r:se.r})])&&++se.c,j={ixfe:se.ixfe,XF:k[se.ixfe]||{},v:se.val,t:"n"},E>0&&(j.z=q[j.ixfe>>8&63]),Vu(j,t,r.opts.Date1904),C({c:se.c,r:se.r},j,t);break;case 5:case 517:j={ixfe:se.ixfe,XF:k[se.ixfe],v:se.val,t:se.t},E>0&&(j.z=q[j.ixfe>>8&63]),Vu(j,t,r.opts.Date1904),C({c:se.c,r:se.r},j,t);break;case 638:j={ixfe:se.ixfe,XF:k[se.ixfe],v:se.rknum,t:"n"},E>0&&(j.z=q[j.ixfe>>8&63]),Vu(j,t,r.opts.Date1904),C({c:se.c,r:se.r},j,t);break;case 189:for(var ae=se.c;ae<=se.C;++ae){var ke=se.rkrec[ae-se.c][0];j={ixfe:ke,XF:k[ke],v:se.rkrec[ae-se.c][1],t:"n"},E>0&&(j.z=q[j.ixfe>>8&63]),Vu(j,t,r.opts.Date1904),C({c:ae,r:se.r},j,t)}break;case 6:case 518:case 1030:{if(se.val=="String"){l=se;break}if(j=vv(se.val,se.cell.ixfe,se.tt),j.XF=k[j.ixfe],t.cellFormula){var we=se.formula;if(we&&we[0]&&we[0][0]&&we[0][0][0]=="PtgExp"){var Pe=we[0][0][1][0],pe=we[0][0][1][1],fe=cn({r:Pe,c:pe});b[fe]?j.f=""+Po(se.formula,o,se.cell,Y,T):j.F=((t.dense?(s[Pe]||[])[pe]:s[fe])||{}).F}else j.f=""+Po(se.formula,o,se.cell,Y,T)}E>0&&(j.z=q[j.ixfe>>8&63]),Vu(j,t,r.opts.Date1904),C(se.cell,j,t),l=se}break;case 7:case 519:if(l)l.val=se,j=vv(se,l.cell.ixfe,"s"),j.XF=k[j.ixfe],t.cellFormula&&(j.f=""+Po(l.formula,o,l.cell,Y,T)),E>0&&(j.z=q[j.ixfe>>8&63]),Vu(j,t,r.opts.Date1904),C(l.cell,j,t),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{w.push(se);var De=cn(se[0].s);if(p=t.dense?(s[se[0].s.r]||[])[se[0].s.c]:s[De],t.cellFormula&&p){if(!l||!De||!p)break;p.f=""+Po(se[1],o,se[0],Y,T),p.F=bn(se[0])}}break;case 1212:{if(!t.cellFormula)break;if(m){if(!l)break;b[cn(l.cell)]=se[0],p=t.dense?(s[l.cell.r]||[])[l.cell.c]:s[cn(l.cell)],(p||{}).f=""+Po(se[0],o,h,Y,T)}}break;case 253:j=vv(c[se.isst].t,se.ixfe,"s"),c[se.isst].h&&(j.h=c[se.isst].h),j.XF=k[j.ixfe],E>0&&(j.z=q[j.ixfe>>8&63]),Vu(j,t,r.opts.Date1904),C({c:se.c,r:se.r},j,t);break;case 513:t.sheetStubs&&(j={ixfe:se.ixfe,XF:k[se.ixfe],t:"z"},E>0&&(j.z=q[j.ixfe>>8&63]),Vu(j,t,r.opts.Date1904),C({c:se.c,r:se.r},j,t));break;case 190:if(t.sheetStubs)for(var Xe=se.c;Xe<=se.C;++Xe){var Je=se.ixfe[Xe-se.c];j={ixfe:Je,XF:k[Je],t:"z"},E>0&&(j.z=q[j.ixfe>>8&63]),Vu(j,t,r.opts.Date1904),C({c:Xe,r:se.r},j,t)}break;case 214:case 516:case 4:j=vv(se.val,se.ixfe,"s"),j.XF=k[j.ixfe],E>0&&(j.z=q[j.ixfe>>8&63]),Vu(j,t,r.opts.Date1904),C({c:se.c,r:se.r},j,t);break;case 0:case 512:H===1&&(o=se);break;case 252:c=se;break;case 1054:if(T.biff==4){q[E++]=se[1];for(var ht=0;ht<E+163&&an[ht]!=se[1];++ht);ht>=163&&Gd(se[1],E+163)}else Gd(se[1],se[0]);break;case 30:{q[E++]=se;for(var Ue=0;Ue<E+163&&an[Ue]!=se;++Ue);Ue>=163&&Gd(se,E+163)}break;case 229:B=B.concat(se);break;case 93:X[se.cmo[0]]=T.lastobj=se;break;case 438:T.lastobj.TxO=se;break;case 127:T.lastobj.ImData=se;break;case 440:for(g=se[0].s.r;g<=se[0].e.r;++g)for(v=se[0].s.c;v<=se[0].e.c;++v)p=t.dense?(s[g]||[])[v]:s[cn({c:v,r:g})],p&&(p.l=se[1]);break;case 2048:for(g=se[0].s.r;g<=se[0].e.r;++g)for(v=se[0].s.c;v<=se[0].e.c;++v)p=t.dense?(s[g]||[])[v]:s[cn({c:v,r:g})],p&&p.l&&(p.l.Tooltip=se[1]);break;case 28:{if(T.biff<=5&&T.biff>=2)break;p=t.dense?(s[se[0].r]||[])[se[0].c]:s[cn(se[0])];var at=X[se[2]];p||(t.dense?(s[se[0].r]||(s[se[0].r]=[]),p=s[se[0].r][se[0].c]={t:"z"}):p=s[cn(se[0])]={t:"z"},o.e.r=Math.max(o.e.r,se[0].r),o.s.r=Math.min(o.s.r,se[0].r),o.e.c=Math.max(o.e.c,se[0].c),o.s.c=Math.min(o.s.c,se[0].c)),p.c||(p.c=[]),y={a:se[1],t:at.TxO.t},p.c.push(y)}break;case 2173:lde(k[se.ixfe],se.ext);break;case 125:{if(!T.cellStyles)break;for(;se.e>=se.s;)re[se.e--]={width:se.w/256,level:se.level||0,hidden:!!(se.flags&1)},te||(te=!0,iS(se.w/256)),Kf(re[se.e+1])}break;case 520:{var Me={};se.level!=null&&(Z[se.r]=Me,Me.level=se.level),se.hidden&&(Z[se.r]=Me,Me.hidden=!0),se.hpt&&(Z[se.r]=Me,Me.hpt=se.hpt,Me.hpx=Pp(se.hpt))}break;case 38:case 39:case 40:case 41:s["!margins"]||H0(s["!margins"]={}),s["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[de]]=se;break;case 161:s["!margins"]||H0(s["!margins"]={}),s["!margins"].header=se.header,s["!margins"].footer=se.footer;break;case 574:se.RTL&&(A.Views[0].RTL=!0);break;case 146:P=se;break;case 2198:I=se;break;case 140:N=se;break;case 442:u?O.CodeName=se||O.name:A.WBProps.CodeName=se||"ThisWorkbook";break}}else he||console.error("Missing Info for XLS Record 0x"+de.toString(16)),e.l+=ce}return r.SheetNames=Fs(i).sort(function(ut,ot){return Number(ut)-Number(ot)}).map(function(ut){return i[ut].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&V.forEach(function(ut,ot){r.Sheets[r.SheetNames[ot]]["!autofilter"]=ut}),r.Strings=c,r.SSF=as(an),T.enc&&(r.Encryption=T.enc),I&&(r.Themes=I),r.Metadata={},N!==void 0&&(r.Metadata.Country=N),Y.names.length>0&&(A.Names=Y.names),r.Workbook=A,r}var Vm={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Nme(e,t,r){var n=Vr.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var s=qI(n,Q4,Vm.DSI);for(var i in s)t[i]=s[i]}catch(u){if(r.WTF)throw u}var o=Vr.find(e,"/!SummaryInformation");if(o&&o.size>0)try{var l=qI(o,Z4,Vm.SI);for(var c in l)t[c]==null&&(t[c]=l[c])}catch(u){if(r.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(MM(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function jme(e,t){var r=[],n=[],s=[],i=0,o,l=gI(Q4,"n"),c=gI(Z4,"n");if(e.Props)for(o=Fs(e.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?n:s).push([o[i],e.Props[o[i]]]);if(e.Custprops)for(o=Fs(e.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?n:s).push([o[i],e.Custprops[o[i]]]);var u=[];for(i=0;i<s.length;++i)HM.indexOf(s[i][0])>-1||FM.indexOf(s[i][0])>-1||s[i][1]!=null&&u.push(s[i]);n.length&&Vr.utils.cfb_add(t,"/SummaryInformation",$I(n,Vm.SI,c,Z4)),(r.length||u.length)&&Vr.utils.cfb_add(t,"/DocumentSummaryInformation",$I(r,Vm.DSI,l,Q4,u.length?u:null,Vm.UDI))}function BR(e,t){t||(t={}),mS(t),F3(),t.codepage&&L3(t.codepage);var r,n;if(e.FullPaths){if(Vr.find(e,"/encryption"))throw new Error("File is password-protected");r=Vr.find(e,"!CompObj"),n=Vr.find(e,"/Workbook")||Vr.find(e,"/Book")}else{switch(t.type){case"base64":e=Jl(rc(e));break;case"binary":e=Jl(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}so(e,0),n={content:e}}var s,i;if(r&&vme(r),t.bookProps&&!t.bookSheets)s={};else{var o=En?"buffer":"array";if(n&&n.content)s=wme(n.content,t);else if((i=Vr.find(e,"PerfectOffice_MAIN"))&&i.content)s=z0.to_workbook(i.content,(t.type=o,t));else if((i=Vr.find(e,"NativeContent_MAIN"))&&i.content)s=z0.to_workbook(i.content,(t.type=o,t));else throw(i=Vr.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Vr.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(s.vbaraw=Fde(e))}var l={};return e.FullPaths&&Nme(e,l,t),s.Props=s.Custprops=l,t.bookFiles&&(s.cfb=e),s}function kme(e,t){var r=t||{},n=Vr.utils.cfb_new({root:"R"}),s="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":s="/Workbook",r.biff=8;break;case"biff5":s="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Vr.utils.cfb_add(n,s,UR(e,r)),r.biff==8&&(e.Props||e.Custprops)&&jme(e,n),r.biff==8&&e.vbaraw&&Mde(n,Vr.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var Wx={0:{f:K0e},1:{f:rhe},2:{f:whe},3:{f:uhe},4:{f:ihe},5:{f:vhe},6:{f:_he},7:{f:phe},8:{f:Ihe},9:{f:Phe},10:{f:The},11:{f:Ohe},12:{f:ahe},13:{f:jhe},14:{f:fhe},15:{f:lhe},16:{f:OR},17:{f:Ehe},18:{f:xhe},19:{f:Y3},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Epe},40:{},42:{},43:{f:_ue},44:{f:kue},45:{f:Cue},46:{f:Oue},47:{f:Tue},48:{},49:{f:Jie},50:{},51:{f:dde},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:tR},62:{f:She},63:{f:bde},64:{f:Xhe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Bo,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Whe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:ehe},148:{f:J0e,p:16},151:{f:Bhe},152:{},153:{f:Spe},154:{},155:{},156:{f:jpe},157:{},158:{},159:{T:1,f:qce},160:{T:-1},161:{T:1,f:hh},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Dhe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:cde},336:{T:-1},337:{f:pde,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:J4},357:{},358:{},359:{},360:{T:1},361:{},362:{f:eR},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Uhe},427:{f:qhe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:zhe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Z0e},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Mhe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:J4},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Ode},633:{T:1},634:{T:-1},635:{T:1,f:Cde},636:{T:-1},637:{f:toe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:fpe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Yhe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},sk={6:{f:ZN},10:{f:Af},12:{f:ii},13:{f:ii},14:{f:Ws},15:{f:Ws},16:{f:Fo},17:{f:Ws},18:{f:Ws},19:{f:ii},20:{f:KI},21:{f:KI},23:{f:eR},24:{f:YI},25:{f:Ws},26:{},27:{},28:{f:Yle},29:{},34:{f:Ws},35:{f:XI},38:{f:Fo},39:{f:Fo},40:{f:Fo},41:{f:Fo},42:{f:Ws},43:{f:Ws},47:{f:lue},49:{f:jle},51:{f:ii},60:{},61:{f:vle},64:{f:Ws},65:{f:Nle},66:{f:ii},77:{},80:{},81:{},82:{},85:{f:ii},89:{},90:{},91:{},92:{f:ole},93:{f:Zle},94:{},95:{f:Ws},96:{},97:{},99:{f:Ws},125:{f:tR},128:{f:Rle},129:{f:cle},130:{f:ii},131:{f:Ws},132:{f:Ws},133:{f:ule},134:{},140:{f:oce},141:{f:ii},144:{},146:{f:uce},151:{},152:{},153:{},154:{},155:{},156:{f:ii},157:{},158:{},160:{f:gce},161:{f:hce},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:Dle},190:{f:Lle},193:{f:Af},197:{},198:{},199:{},200:{},201:{},202:{f:Ws},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:ii},220:{},221:{f:Ws},222:{},224:{f:Mle},225:{f:ile},226:{f:Af},227:{},229:{f:Jle},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:fle},253:{f:Sle},255:{f:ple},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:WM},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Ws},353:{f:Af},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:zle},431:{f:Ws},432:{},433:{},434:{},437:{},438:{f:rce},439:{f:Ws},440:{f:nce},441:{},442:{f:lg},443:{},444:{f:ii},445:{},446:{},448:{f:Af},449:{f:gle,r:2},450:{f:Af},512:{f:WI},513:{f:xce},515:{f:qle},516:{f:Ale},517:{f:GI},519:{f:vce},520:{f:mle},523:{},545:{f:JI},549:{f:HI},566:{},574:{f:ble},638:{f:Ile},659:{},1048:{},1054:{f:Cle},1084:{},1212:{f:Gle},2048:{f:sce},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:mv},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Af},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:dce,r:12},2173:{f:ode,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Ws,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:Vle,r:12},2197:{},2198:{f:tde,r:12},2199:{},2200:{},2201:{},2202:{f:Kle,r:12},2203:{f:Af},2204:{},2205:{},2206:{},2207:{},2211:{f:xle},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:ii},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:pce},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:cce},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:WI},1:{},2:{f:jce},3:{f:wce},4:{f:bce},5:{f:GI},7:{f:Sce},8:{},9:{f:mv},11:{},22:{f:ii},30:{f:Ole},31:{},32:{},33:{f:JI},36:{},37:{f:HI},50:{f:_ce},62:{},52:{},67:{},68:{f:ii},69:{},86:{},126:{},127:{f:yce},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:Ace},223:{},234:{},354:{},421:{},518:{f:ZN},521:{f:mv},536:{f:YI},547:{f:XI},561:{},579:{},1030:{f:ZN},1033:{f:mv},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function fr(e,t,r,n){var s=t;if(!isNaN(s)){var i=n||(r||[]).length||0,o=e.next(4);o.write_shift(2,s),o.write_shift(2,i),i>0&&G3(r)&&e.push(r)}}function Sme(e,t,r,n){var s=(r||[]).length||0;if(s<=8224)return fr(e,t,r,s);var i=t;if(!isNaN(i)){for(var o=r.parts||[],l=0,c=0,u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;var d=e.next(4);for(d.write_shift(2,i),d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u;c<s;){for(d=e.next(4),d.write_shift(2,60),u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u}}}function fg(e,t,r){return e||(e=Mt(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function _me(e,t,r,n){var s=Mt(9);return fg(s,e,t),VM(r,n||"b",s),s}function Ame(e,t,r){var n=Mt(8+2*r.length);return fg(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function Eme(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var s=t.t=="d"?Ni(ns(t.v)):t.v;s==(s|0)&&s>=0&&s<65536?fr(e,2,kce(r,n,s)):fr(e,3,Nce(r,n,s));return;case"b":case"e":fr(e,5,_me(r,n,t.v,t.t));return;case"s":case"str":fr(e,4,Ame(r,n,(t.v||"").slice(0,255)));return}fr(e,1,fg(null,r,n))}function Cme(e,t,r,n){var s=Array.isArray(t),i=ia(t["!ref"]||"A1"),o,l="",c=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=bn(i)}for(var u=i.s.r;u<=i.e.r;++u){l=Ys(u);for(var d=i.s.c;d<=i.e.c;++d){u===i.s.r&&(c[d]=Ns(d)),o=c[d]+l;var h=s?(t[u]||[])[d]:t[o];h&&Eme(e,h,u,d)}}}function Tme(e,t){for(var r=t||{},n=Sl(),s=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(s=i);if(s==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return fr(n,r.biff==4?1033:r.biff==3?521:9,nS(e,16,r)),Cme(n,e.Sheets[e.SheetNames[s]],s,r),fr(n,10),n.end()}function Ome(e,t,r){fr(e,49,kle({sz:12,name:"Arial"},r))}function Pme(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)t[s]!=null&&fr(e,1054,Tle(s,t[s],r))})}function Ime(e,t){var r=Mt(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),fr(e,2151,r),r=Mt(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),JM(ia(t["!ref"]||"A1"),r),r.write_shift(4,4),fr(e,2152,r)}function Dme(e,t){for(var r=0;r<16;++r)fr(e,224,VI({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){fr(e,224,VI(n,0,t))})}function Lme(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];fr(e,440,ace(n)),n[1].Tooltip&&fr(e,2048,ice(n))}delete t["!links"]}function Fme(e,t){if(t){var r=0;t.forEach(function(n,s){++r<=256&&n&&fr(e,125,fce(tb(s,n),s))})}}function Mme(e,t,r,n,s){var i=16+o0(s.cellXfs,t,s);if(t.v==null&&!t.bf){fr(e,513,rh(r,n,i));return}if(t.bf)fr(e,6,c0e(t,r,n,s,i));else switch(t.t){case"d":case"n":var o=t.t=="d"?Ni(ns(t.v)):t.v;fr(e,515,$le(r,n,o,i));break;case"b":case"e":fr(e,517,Ule(r,n,t.v,i,s,t.t));break;case"s":case"str":if(s.bookSST){var l=dS(s.Strings,t.v,s.revStrings);fr(e,253,_le(r,n,l,i))}else fr(e,516,Ele(r,n,(t.v||"").slice(0,255),i,s));break;default:fr(e,513,rh(r,n,i))}}function Rme(e,t,r){var n=Sl(),s=r.SheetNames[e],i=r.Sheets[s]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(i),u=t.biff==8,d,h="",m=[],p=ia(i["!ref"]||"A1"),y=u?65536:16384;if(p.e.c>255||p.e.r>=y){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,y-1)}fr(n,2057,nS(r,16,t)),fr(n,13,Ec(1)),fr(n,12,Ec(100)),fr(n,15,el(!0)),fr(n,17,el(!1)),fr(n,16,eh(.001)),fr(n,95,el(!0)),fr(n,42,el(!1)),fr(n,43,el(!1)),fr(n,130,Ec(1)),fr(n,128,Ble()),fr(n,131,el(!1)),fr(n,132,el(!1)),u&&Fme(n,i["!cols"]),fr(n,512,Ple(p,t)),u&&(i["!links"]=[]);for(var v=p.s.r;v<=p.e.r;++v){h=Ys(v);for(var g=p.s.c;g<=p.e.c;++g){v===p.s.r&&(m[g]=Ns(g)),d=m[g]+h;var b=c?(i[v]||[])[g]:i[d];b&&(Mme(n,b,v,g,t),u&&b.l&&i["!links"].push([d,b.l]))}}var w=l.CodeName||l.name||s;return u&&fr(n,574,wle((o.Views||[])[0])),u&&(i["!merges"]||[]).length&&fr(n,229,Qle(i["!merges"])),u&&Lme(n,i),fr(n,442,GM(w)),u&&Ime(n,i),fr(n,10),n.end()}function Bme(e,t,r){var n=Sl(),s=(e||{}).Workbook||{},i=s.Sheets||[],o=s.WBProps||{},l=r.biff==8,c=r.biff==5;if(fr(n,2057,nS(e,5,r)),r.bookType=="xla"&&fr(n,135),fr(n,225,l?Ec(1200):null),fr(n,193,Uoe(2)),c&&fr(n,191),c&&fr(n,192),fr(n,226),fr(n,92,lle("SheetJS",r)),fr(n,66,Ec(l?1200:1252)),l&&fr(n,353,Ec(0)),l&&fr(n,448),fr(n,317,mce(e.SheetNames.length)),l&&e.vbaraw&&fr(n,211),l&&e.vbaraw){var u=o.CodeName||"ThisWorkbook";fr(n,442,GM(u))}fr(n,156,Ec(17)),fr(n,25,el(!1)),fr(n,18,el(!1)),fr(n,19,Ec(0)),l&&fr(n,431,el(!1)),l&&fr(n,444,Ec(0)),fr(n,61,yle()),fr(n,64,el(!1)),fr(n,141,Ec(0)),fr(n,34,el(gpe(e)=="true")),fr(n,14,el(!0)),l&&fr(n,439,el(!1)),fr(n,218,Ec(0)),Ome(n,e,r),Pme(n,e.SSF,r),Dme(n,r),l&&fr(n,352,el(!1));var d=n.end(),h=Sl();l&&fr(h,140,lce()),l&&r.Strings&&Sme(h,252,hle(r.Strings)),fr(h,10);var m=h.end(),p=Sl(),y=0,v=0;for(v=0;v<e.SheetNames.length;++v)y+=(l?12:11)+(l?2:1)*e.SheetNames[v].length;var g=d.length+y+m.length;for(v=0;v<e.SheetNames.length;++v){var b=i[v]||{};fr(p,133,dle({pos:g,hs:b.Hidden||0,dt:0,name:e.SheetNames[v]},r)),g+=t[v].length}var w=p.end();if(y!=w.length)throw new Error("BS8 "+y+" != "+w.length);var j=[];return d.length&&j.push(d),w.length&&j.push(w),m.length&&j.push(m),Ui(j)}function Ume(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=as(an)),e&&e.SSF&&(Wp(),Ky(e.SSF),r.revssf=Yy(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,xS(r),r.cellXfs=[],o0(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var s=0;s<e.SheetNames.length;++s)n[n.length]=Rme(s,r,e);return n.unshift(Bme(e,n,r)),Ui(n)}function UR(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var s=_l(n["!ref"]);s.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return Ume(e,t);case 4:case 3:case 2:return Tme(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function o8(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var s=e.match(/<table/i);if(!s)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),o=s.index,l=i&&i.index||e.length,c=kie(e.slice(o,l),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,h=0,m=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},y=[];for(o=0;o<c.length;++o){var v=c[o].trim(),g=v.slice(0,3).toLowerCase();if(g=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}d=0;continue}if(!(g!="<td"&&g!="<th")){var b=v.split(/<\/t[dh]>/i);for(l=0;l<b.length;++l){var w=b[l].trim();if(w.match(/<t[dh]/i)){for(var j=w,N=0;j.charAt(0)=="<"&&(N=j.indexOf(">"))>-1;)j=j.slice(N+1);for(var k=0;k<y.length;++k){var P=y[k];P.s.c==d&&P.s.r<u&&u<=P.e.r&&(d=P.e.c+1,k=-1)}var A=dn(w.slice(0,w.indexOf(">")));m=A.colspan?+A.colspan:1,((h=+A.rowspan)>1||m>1)&&y.push({s:{r:u,c:d},e:{r:u+(h||1)-1,c:d+m-1}});var O=A.t||A["data-t"]||"";if(!j.length){d+=m;continue}if(j=uM(j),p.s.r>u&&(p.s.r=u),p.e.r<u&&(p.e.r=u),p.s.c>d&&(p.s.c=d),p.e.c<d&&(p.e.c=d),!j.length){d+=m;continue}var D={t:"s",v:j};r.raw||!j.trim().length||O=="s"||(j==="TRUE"?D={t:"b",v:!0}:j==="FALSE"?D={t:"b",v:!1}:isNaN(Cu(j))?isNaN(Tp(j).getDate())||(D={t:"d",v:ns(j)},r.cellDates||(D={t:"n",v:Ni(D.v)}),D.z=r.dateNF||an[14]):D={t:"n",v:Cu(j)}),r.dense?(n[u]||(n[u]=[]),n[u][d]=D):n[cn({r:u,c:d})]=D,d+=m}}}}return n["!ref"]=bn(p),y.length&&(n["!merges"]=y),n}function qme(e,t,r,n){for(var s=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,u=0;u<s.length;++u)if(!(s[u].s.r>r||s[u].s.c>o)&&!(s[u].e.r<r||s[u].e.c<o)){if(s[u].s.r<r||s[u].s.c<o){l=-1;break}l=s[u].e.r-s[u].s.r+1,c=s[u].e.c-s[u].s.c+1;break}if(!(l<0)){var d=cn({r,c:o}),h=n.dense?(e[r]||[])[o]:e[d],m=h&&h.v!=null&&(h.h||H3(h.w||(ef(h),h.w)||""))||"",p={};l>1&&(p.rowspan=l),c>1&&(p.colspan=c),n.editable?m='<span contenteditable="true">'+m+"</span>":h&&(p["data-t"]=h&&h.t||"z",h.v!=null&&(p["data-v"]=h.v),h.z!=null&&(p["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(m='<a href="'+h.l.Target+'">'+m+"</a>")),p.id=(n.id||"sjs")+"-"+d,i.push(ur("td",m,p))}}var y="<tr>";return y+i.join("")+"</tr>"}var $me='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',zme="</body></html>";function Hme(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return i0(o8(r[0],t),t);var n=yS();return r.forEach(function(s,i){bS(n,o8(s,t),"Sheet"+(i+1))}),n}function Wme(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function qR(e,t){var r=t||{},n=r.header!=null?r.header:$me,s=r.footer!=null?r.footer:zme,i=[n],o=_l(e["!ref"]);r.dense=Array.isArray(e),i.push(Wme(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)i.push(qme(e,o,l,r));return i.push("</table>"+s),i.join("")}function $R(e,t,r){var n=r||{},s=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var o=typeof n.origin=="string"?js(n.origin):n.origin;s=o.r,i=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:s,c:i}};if(e["!ref"]){var d=_l(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),s==-1&&(u.e.r=s=d.e.r+1)}var h=[],m=0,p=e["!rows"]||(e["!rows"]=[]),y=0,v=0,g=0,b=0,w=0,j=0;for(e["!cols"]||(e["!cols"]=[]);y<l.length&&v<c;++y){var N=l[y];if(l8(N)){if(n.display)continue;p[v]={hidden:!0}}var k=N.children;for(g=b=0;g<k.length;++g){var P=k[g];if(!(n.display&&l8(P))){var A=P.hasAttribute("data-v")?P.getAttribute("data-v"):P.hasAttribute("v")?P.getAttribute("v"):uM(P.innerHTML),O=P.getAttribute("data-z")||P.getAttribute("z");for(m=0;m<h.length;++m){var D=h[m];D.s.c==b+i&&D.s.r<v+s&&v+s<=D.e.r&&(b=D.e.c+1-i,m=-1)}j=+P.getAttribute("colspan")||1,((w=+P.getAttribute("rowspan")||1)>1||j>1)&&h.push({s:{r:v+s,c:b+i},e:{r:v+s+(w||1)-1,c:b+i+(j||1)-1}});var R={t:"s",v:A},C=P.getAttribute("data-t")||P.getAttribute("t")||"";A!=null&&(A.length==0?R.t=C||"z":n.raw||A.trim().length==0||C=="s"||(A==="TRUE"?R={t:"b",v:!0}:A==="FALSE"?R={t:"b",v:!1}:isNaN(Cu(A))?isNaN(Tp(A).getDate())||(R={t:"d",v:ns(A)},n.cellDates||(R={t:"n",v:Ni(R.v)}),R.z=n.dateNF||an[14]):R={t:"n",v:Cu(A)})),R.z===void 0&&O!=null&&(R.z=O);var T="",I=P.getElementsByTagName("A");if(I&&I.length)for(var B=0;B<I.length&&!(I[B].hasAttribute("href")&&(T=I[B].getAttribute("href"),T.charAt(0)!="#"));++B);T&&T.charAt(0)!="#"&&(R.l={Target:T}),n.dense?(e[v+s]||(e[v+s]=[]),e[v+s][b+i]=R):e[cn({c:b+i,r:v+s})]=R,u.e.c<b+i&&(u.e.c=b+i),b+=j}}++v}return h.length&&(e["!merges"]=(e["!merges"]||[]).concat(h)),u.e.r=Math.max(u.e.r,v-1+s),e["!ref"]=bn(u),v>=c&&(e["!fullref"]=bn((u.e.r=l.length-y+v-1+s,u))),e}function zR(e,t){var r=t||{},n=r.dense?[]:{};return $R(n,e,t)}function Vme(e,t){return i0(zR(e,t),t)}function l8(e){var t="",r=Gme(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function Gme(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function Kme(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,s){return Array(parseInt(s,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=sa(t.replace(/<[^>]*>/g,""));return[r]}var c8={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function HR(e,t){var r=t||{},n=W3(e),s=[],i,o,l={name:""},c="",u=0,d,h,m={},p=[],y=r.dense?[]:{},v,g,b={value:""},w="",j=0,N=[],k=-1,P=-1,A={s:{r:1e6,c:1e7},e:{r:0,c:0}},O=0,D={},R=[],C={},T=0,I=0,B=[],X=1,re=1,Z=[],te={Names:[]},Y={},Q=["",""],H=[],E={},q="",V=0,U=!1,G=!1,ne=0;for(Bx.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");v=Bx.exec(n);)switch(v[3]=v[3].replace(/_.*$/,"")){case"table":case"":v[1]==="/"?(A.e.c>=A.s.c&&A.e.r>=A.s.r?y["!ref"]=bn(A):y["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=A.e.r&&(y["!fullref"]=y["!ref"],A.e.r=r.sheetRows-1,y["!ref"]=bn(A)),R.length&&(y["!merges"]=R),B.length&&(y["!rows"]=B),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),p.push(d.name),m[d.name]=y,G=!1):v[0].charAt(v[0].length-2)!=="/"&&(d=dn(v[0],!1),k=P=-1,A.s.r=A.s.c=1e7,A.e.r=A.e.c=0,y=r.dense?[]:{},R=[],B=[],G=!0);break;case"table-row-group":v[1]==="/"?--O:++O;break;case"table-row":case"":if(v[1]==="/"){k+=X,X=1;break}if(h=dn(v[0],!1),h.?k=h.-1:k==-1&&(k=0),X=+h["number-rows-repeated"]||1,X<10)for(ne=0;ne<X;++ne)O>0&&(B[k+ne]={level:O});P=-1;break;case"covered-table-cell":v[1]!=="/"&&++P,r.sheetStubs&&(r.dense?(y[k]||(y[k]=[]),y[k][P]={t:"z"}):y[cn({r:k,c:P})]={t:"z"}),w="",N=[];break;case"table-cell":case"":if(v[0].charAt(v[0].length-2)==="/")++P,b=dn(v[0],!1),re=parseInt(b["number-columns-repeated"]||"1",10),g={t:"z",v:null},b.formula&&r.cellFormula!=!1&&(g.f=a8(sa(b.formula))),(b.||b["value-type"])=="string"&&(g.t="s",g.v=sa(b["string-value"]||""),r.dense?(y[k]||(y[k]=[]),y[k][P]=g):y[cn({r:k,c:P})]=g),P+=re-1;else if(v[1]!=="/"){++P,w="",j=0,N=[],re=1;var de=X?k+X-1:k;if(P>A.e.c&&(A.e.c=P),P<A.s.c&&(A.s.c=P),k<A.s.r&&(A.s.r=k),de>A.e.r&&(A.e.r=de),b=dn(v[0],!1),H=[],E={},g={t:b.||b["value-type"],v:null},r.cellFormula)if(b.formula&&(b.formula=sa(b.formula)),b["number-matrix-columns-spanned"]&&b["number-matrix-rows-spanned"]&&(T=parseInt(b["number-matrix-rows-spanned"],10)||0,I=parseInt(b["number-matrix-columns-spanned"],10)||0,C={s:{r:k,c:P},e:{r:k+T-1,c:P+I-1}},g.F=bn(C),Z.push([C,g.F])),b.formula)g.f=a8(b.formula);else for(ne=0;ne<Z.length;++ne)k>=Z[ne][0].s.r&&k<=Z[ne][0].e.r&&P>=Z[ne][0].s.c&&P<=Z[ne][0].e.c&&(g.F=Z[ne][1]);switch((b["number-columns-spanned"]||b["number-rows-spanned"])&&(T=parseInt(b["number-rows-spanned"],10)||0,I=parseInt(b["number-columns-spanned"],10)||0,C={s:{r:k,c:P},e:{r:k+T-1,c:P+I-1}},R.push(C)),b["number-columns-repeated"]&&(re=parseInt(b["number-columns-repeated"],10)),g.t){case"boolean":g.t="b",g.v=ts(b["boolean-value"]);break;case"float":g.t="n",g.v=parseFloat(b.value);break;case"percentage":g.t="n",g.v=parseFloat(b.value);break;case"currency":g.t="n",g.v=parseFloat(b.value);break;case"date":g.t="d",g.v=ns(b["date-value"]),r.cellDates||(g.t="n",g.v=Ni(g.v)),g.z="m/d/yy";break;case"time":g.t="n",g.v=wie(b["time-value"])/86400,r.cellDates&&(g.t="d",g.v=Jy(g.v)),g.z="HH:MM:SS";break;case"number":g.t="n",g.v=parseFloat(b.);break;default:if(g.t==="string"||g.t==="text"||!g.t)g.t="s",b["string-value"]!=null&&(w=sa(b["string-value"]),N=[]);else throw new Error("Unsupported value type "+g.t)}}else{if(U=!1,g.t==="s"&&(g.v=w||"",N.length&&(g.R=N),U=j==0),Y.Target&&(g.l=Y),H.length>0&&(g.c=H,H=[]),w&&r.cellText!==!1&&(g.w=w),U&&(g.t="z",delete g.v),(!U||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=k))for(var ce=0;ce<X;++ce){if(re=parseInt(b["number-columns-repeated"]||"1",10),r.dense)for(y[k+ce]||(y[k+ce]=[]),y[k+ce][P]=ce==0?g:as(g);--re>0;)y[k+ce][P+re]=as(g);else for(y[cn({r:k+ce,c:P})]=g;--re>0;)y[cn({r:k+ce,c:P+re})]=as(g);A.e.c<=P&&(A.e.c=P)}re=parseInt(b["number-columns-repeated"]||"1",10),P+=re-1,re=0,g={},w="",N=[]}Y={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(v[1]==="/"){if((i=s.pop())[0]!==v[3])throw"Bad state: "+i}else v[0].charAt(v[0].length-2)!=="/"&&s.push([v[3],!0]);break;case"annotation":if(v[1]==="/"){if((i=s.pop())[0]!==v[3])throw"Bad state: "+i;E.t=w,N.length&&(E.R=N),E.a=q,H.push(E)}else v[0].charAt(v[0].length-2)!=="/"&&s.push([v[3],!1]);q="",V=0,w="",j=0,N=[];break;case"creator":v[1]==="/"?q=n.slice(V,v.index):V=v.index+v[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(v[1]==="/"){if((i=s.pop())[0]!==v[3])throw"Bad state: "+i}else v[0].charAt(v[0].length-2)!=="/"&&s.push([v[3],!1]);w="",j=0,N=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(v[1]==="/"){if(D[l.name]=c,(i=s.pop())[0]!==v[3])throw"Bad state: "+i}else v[0].charAt(v[0].length-2)!=="/"&&(c="",l=dn(v[0],!1),s.push([v[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(s[s.length-1][0]){case"time-style":case"date-style":o=dn(v[0],!1),c+=c8[v[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(s[s.length-1][0]){case"time-style":case"date-style":o=dn(v[0],!1),c+=c8[v[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(v[0].slice(-2)==="/>")break;if(v[1]==="/")switch(s[s.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(u,v.index);break}else u=v.index+v[0].length;break;case"named-range":o=dn(v[0],!1),Q=ej(o["cell-range-address"]);var he={Name:o.name,Ref:Q[0]+"!"+Q[1]};G&&(he.Sheet=p.length),te.Names.push(he);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(s[s.length-1][0])>-1)break;if(v[1]==="/"&&(!b||!b["string-value"])){var Le=Kme(n.slice(j,v.index));w=(w.length>0?w+`
`:"")+Le[0]}else dn(v[0],!1),j=v.index+v[0].length;break;case"s":break;case"database-range":if(v[1]==="/")break;try{Q=ej(dn(v[0])["target-range-address"]),m[Q[0]]["!autofilter"]={ref:Q[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(v[1]!=="/"){if(Y=dn(v[0],!1),!Y.href)break;Y.Target=sa(Y.href),delete Y.href,Y.Target.charAt(0)=="#"&&Y.Target.indexOf(".")>-1?(Q=ej(Y.Target.slice(1)),Y.Target="#"+Q[0]+"!"+Q[1]):Y.Target.match(/^\.\.[\\\/]/)&&(Y.Target=Y.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(v[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(v)}}var se={Sheets:m,SheetNames:p,Workbook:te};return r.bookSheets&&delete se.Sheets,se}function u8(e,t){t=t||{},Ac(e,"META-INF/manifest.xml")&&woe(si(e,"META-INF/manifest.xml"),t);var r=Ql(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=HR(Ra(r),t);return Ac(e,"meta.xml")&&(n.Props=DM(si(e,"meta.xml"))),n}function d8(e,t){return HR(e,t)}var Xme=(function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Rx({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Js+t}})(),f8=(function(){var e=function(i){return Oa(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,o,l){var c=[];c.push('      <table:table table:name="'+Oa(o.SheetNames[l])+`" table:style-name="ta1">
`);var u=0,d=0,h=_l(i["!ref"]||"A1"),m=i["!merges"]||[],p=0,y=Array.isArray(i);if(i["!cols"])for(d=0;d<=h.e.c;++d)c.push("        <table:table-column"+(i["!cols"][d]?' table:style-name="co'+i["!cols"][d].ods+'"':"")+`></table:table-column>
`);var v="",g=i["!rows"]||[];for(u=0;u<h.s.r;++u)v=g[u]?' table:style-name="ro'+g[u].ods+'"':"",c.push("        <table:table-row"+v+`></table:table-row>
`);for(;u<=h.e.r;++u){for(v=g[u]?' table:style-name="ro'+g[u].ods+'"':"",c.push("        <table:table-row"+v+`>
`),d=0;d<h.s.c;++d)c.push(t);for(;d<=h.e.c;++d){var b=!1,w={},j="";for(p=0;p!=m.length;++p)if(!(m[p].s.c>d)&&!(m[p].s.r>u)&&!(m[p].e.c<d)&&!(m[p].e.r<u)){(m[p].s.c!=d||m[p].s.r!=u)&&(b=!0),w["table:number-columns-spanned"]=m[p].e.c-m[p].s.c+1,w["table:number-rows-spanned"]=m[p].e.r-m[p].s.r+1;break}if(b){c.push(r);continue}var N=cn({r:u,c:d}),k=y?(i[u]||[])[d]:i[N];if(k&&k.f&&(w["table:formula"]=Oa(m0e(k.f)),k.F&&k.F.slice(0,N.length)==N)){var P=_l(k.F);w["table:number-matrix-columns-spanned"]=P.e.c-P.s.c+1,w["table:number-matrix-rows-spanned"]=P.e.r-P.s.r+1}if(!k){c.push(t);continue}switch(k.t){case"b":j=k.v?"TRUE":"FALSE",w["office:value-type"]="boolean",w["office:boolean-value"]=k.v?"true":"false";break;case"n":j=k.w||String(k.v||0),w["office:value-type"]="float",w["office:value"]=k.v||0;break;case"s":case"str":j=k.v==null?"":k.v,w["office:value-type"]="string";break;case"d":j=k.w||ns(k.v).toISOString(),w["office:value-type"]="date",w["office:date-value"]=ns(k.v).toISOString(),w["table:style-name"]="ce1";break;default:c.push(t);continue}var A=e(j);if(k.l&&k.l.Target){var O=k.l.Target;O=O.charAt(0)=="#"?"#"+x0e(O.slice(1)):O,O.charAt(0)!="#"&&!O.match(/^\w+:/)&&(O="../"+O),A=ur("text:a",A,{"xlink:href":O.replace(/&/g,"&amp;")})}c.push("          "+ur("table:table-cell",ur("text:p",A,{}),w)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},s=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var h=u["!cols"][d];if(h.width==null&&h.wpx==null&&h.wch==null)continue;Kf(h),h.ods=l;var m=u["!cols"][d].wpx+"px";i.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+m+`"/>
`),i.push(`  </style:style>
`),++l}}});var c=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=c;var h=u["!rows"][d].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+h+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,l){var c=[Js],u=Rx({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=Rx({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+u+d+`>
`),c.push(IM().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),s(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var h=0;h!=o.SheetNames.length;++h)c.push(n(o.Sheets[o.SheetNames[h]],o,h));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}})();function WR(e,t){if(t.bookType=="fods")return f8(e,t);var r=q3(),n="",s=[],i=[];return n="mimetype",wn(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",wn(r,n,f8(e,t)),s.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",wn(r,n,Xme(e,t)),s.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",wn(r,n,Js+IM()),s.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",wn(r,n,koe(i)),s.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",wn(r,n,Noe(s)),r}function nh(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function ik(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Ra(s0(e))}function Yme(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Jl(td(e))}function Jme(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function Yf(e){var t=e.reduce(function(s,i){return s+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(s){r.set(s,n),n+=s.length}),r}function h8(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function Qme(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,s=t+13;s>=t;--s)n=n*256+e[s];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function Zme(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,s=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;s>=1;++i,s/=256)e[t+i]=s&255;e[t+15]|=r>=0?0:128}function Vx(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Ca(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Ls(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function ma(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],s=Vx(e,r),i=s&7;s=Math.floor(s/8);var o=0,l;if(s==0)break;switch(i){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=Vx(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;default:throw new Error("PB Type ".concat(i," for Field ").concat(s," at offset ").concat(n))}var u={data:l,type:i};t[s]==null?t[s]=[u]:t[s].push(u)}return t}function ro(e){var t=[];return e.forEach(function(r,n){r.forEach(function(s){s.data&&(t.push(Ca(n*8+s.type)),s.type==2&&t.push(Ca(s.data.length)),t.push(s.data))})}),Yf(t)}function pS(e,t){return e?.map(function(r){return t(r.data)})||[]}function Sc(e){for(var t,r=[],n=[0];n[0]<e.length;){var s=Vx(e,n),i=ma(e.slice(n[0],n[0]+s));n[0]+=s;var o={id:Ls(i[1][0].data),messages:[]};i[2].forEach(function(l){var c=ma(l.data),u=Ls(c[3][0].data);o.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=i[3])!=null&&t[0]&&(o.merge=Ls(i[3][0].data)>>>0>0),r.push(o)}return r}function Lh(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:Ca(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Ca(+!!r.merge),type:0}]);var s=[];r.messages.forEach(function(o){s.push(o.data),o.meta[3]=[{type:0,data:Ca(o.data.length)}],n[2].push({data:ro(o.meta),type:2})});var i=ro(n);t.push(Ca(i.length)),t.push(i),s.forEach(function(o){return t.push(o)})}),Yf(t)}function exe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=Vx(t,r),s=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}s.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,u=0;if(i==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,i==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),s=[Yf(s)],c==0)throw new Error("Invalid offset 0");if(c>s[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(s.push(s[0].slice(-c)),u-=c;u>=s[s.length-1].length;)s.push(s[s.length-1]),u-=s[s.length-1].length;s.push(s[0].slice(-c,-c+u))}}var d=Yf(s);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function _c(e){for(var t=[],r=0;r<e.length;){var n=e[r++],s=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(exe(n,e.slice(r,r+s))),r+=s}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Yf(t)}function Fh(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),s=new Uint8Array(4);t.push(s);var i=Ca(n),o=i.length;t.push(i),n<=60?(o++,t.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),o+=n,s[0]=0,s[1]=o&255,s[2]=o>>8&255,s[3]=o>>16&255,r+=n}return Yf(t)}function txe(e,t,r,n){var s=nh(e),i=s.getUint32(4,!0),o=(n>1?12:8)+h8(i&(n>1?3470:398))*4,l=-1,c=-1,u=NaN,d=new Date(2001,0,1);i&512&&(l=s.getUint32(o,!0),o+=4),o+=h8(i&(n>1?12288:4096))*4,i&16&&(c=s.getUint32(o,!0),o+=4),i&32&&(u=s.getFloat64(o,!0),o+=8),i&64&&(d.setTime(d.getTime()+s.getFloat64(o,!0)*1e3),o+=8);var h;switch(e[2]){case 0:break;case 2:h={t:"n",v:u};break;case 3:h={t:"s",v:t[c]};break;case 5:h={t:"d",v:d};break;case 6:h={t:"b",v:u>0};break;case 7:h={t:"n",v:u/86400};break;case 8:h={t:"e",v:0};break;case 9:if(l>-1)h={t:"s",v:r[l]};else if(c>-1)h={t:"s",v:t[c]};else if(!isNaN(u))h={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return h}function rxe(e,t,r){var n=nh(e),s=n.getUint32(8,!0),i=12,o=-1,l=-1,c=NaN,u=NaN,d=new Date(2001,0,1);s&1&&(c=Qme(e,i),i+=16),s&2&&(u=n.getFloat64(i,!0),i+=8),s&4&&(d.setTime(d.getTime()+n.getFloat64(i,!0)*1e3),i+=8),s&8&&(l=n.getUint32(i,!0),i+=4),s&16&&(o=n.getUint32(i,!0),i+=4);var h;switch(e[1]){case 0:break;case 2:h={t:"n",v:c};break;case 3:h={t:"s",v:t[l]};break;case 5:h={t:"d",v:d};break;case 6:h={t:"b",v:u>0};break;case 7:h={t:"n",v:u/86400};break;case 8:h={t:"e",v:0};break;case 9:if(o>-1)h={t:"s",v:r[o]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(s&31," : ").concat(e.slice(0,4)));break;case 10:h={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(s&31," : ").concat(e.slice(0,4)))}return h}function rj(e,t){var r=new Uint8Array(32),n=nh(r),s=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,Zme(r,s,e.v),i|=1,s+=16;break;case"b":r[1]=6,n.setFloat64(s,e.v?1:0,!0),i|=2,s+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(s,t.indexOf(e.v),!0),i|=8,s+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,s)}function nj(e,t){var r=new Uint8Array(32),n=nh(r),s=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(s,e.v,!0),i|=32,s+=8;break;case"b":r[2]=6,n.setFloat64(s,e.v?1:0,!0),i|=32,s+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(s,t.indexOf(e.v),!0),i|=16,s+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,s)}function nxe(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return txe(e,t,r,e[0]);case 5:return rxe(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Oo(e){var t=ma(e);return Vx(t[1][0].data)}function p8(e,t){var r=ma(t.data),n=Ls(r[1][0].data),s=r[3],i=[];return(s||[]).forEach(function(o){var l=ma(o.data),c=Ls(l[1][0].data)>>>0;switch(n){case 1:i[c]=ik(l[3][0].data);break;case 8:{var u=e[Oo(l[9][0].data)][0],d=ma(u.data),h=e[Oo(d[1][0].data)][0],m=Ls(h.meta[1][0].data);if(m!=2001)throw new Error("2000 unexpected reference to ".concat(m));var p=ma(h.data);i[c]=p[3].map(function(y){return ik(y.data)}).join("")}break}}),i}function axe(e,t){var r,n,s,i,o,l,c,u,d,h,m,p,y,v,g=ma(e),b=Ls(g[1][0].data)>>>0,w=Ls(g[2][0].data)>>>0,j=((n=(r=g[8])==null?void 0:r[0])==null?void 0:n.data)&&Ls(g[8][0].data)>0||!1,N,k;if((i=(s=g[7])==null?void 0:s[0])!=null&&i.data&&t!=0)N=(l=(o=g[7])==null?void 0:o[0])==null?void 0:l.data,k=(u=(c=g[6])==null?void 0:c[0])==null?void 0:u.data;else if((h=(d=g[4])==null?void 0:d[0])!=null&&h.data&&t!=1)N=(p=(m=g[4])==null?void 0:m[0])==null?void 0:p.data,k=(v=(y=g[3])==null?void 0:y[0])==null?void 0:v.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var P=j?4:1,A=nh(N),O=[],D=0;D<N.length/2;++D){var R=A.getUint16(D*2,!0);R<65535&&O.push([D,R])}if(O.length!=w)throw"Expected ".concat(w," cells, found ").concat(O.length);var C=[];for(D=0;D<O.length-1;++D)C[O[D][0]]=k.subarray(O[D][1]*P,O[D+1][1]*P);return O.length>=1&&(C[O[O.length-1][0]]=k.subarray(O[O.length-1][1]*P)),{R:b,cells:C}}function sxe(e,t){var r,n=ma(t.data),s=(r=n?.[7])!=null&&r[0]?Ls(n[7][0].data)>>>0>0?1:0:-1,i=pS(n[5],function(o){return axe(o,s)});return{nrows:Ls(n[4][0].data)>>>0,data:i.reduce(function(o,l){return o[l.R]||(o[l.R]=[]),l.cells.forEach(function(c,u){if(o[l.R][u])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(u));o[l.R][u]=c}),o},[])}}function ixe(e,t,r){var n,s=ma(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(Ls(s[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(s[6][0].data));if(i.e.c=(Ls(s[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(s[7][0].data));r["!ref"]=bn(i);var o=ma(s[4][0].data),l=p8(e,e[Oo(o[4][0].data)][0]),c=(n=o[17])!=null&&n[0]?p8(e,e[Oo(o[17][0].data)][0]):[],u=ma(o[3][0].data),d=0;u[1].forEach(function(h){var m=ma(h.data),p=e[Oo(m[2][0].data)][0],y=Ls(p.meta[1][0].data);if(y!=6002)throw new Error("6001 unexpected reference to ".concat(y));var v=sxe(e,p);v.data.forEach(function(g,b){g.forEach(function(w,j){var N=cn({r:d+b,c:j}),k=nxe(w,l,c);k&&(r[N]=k)})}),d+=v.nrows})}function oxe(e,t){var r=ma(t.data),n={"!ref":"A1"},s=e[Oo(r[2][0].data)],i=Ls(s[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return ixe(e,s[0],n),n}function lxe(e,t){var r,n=ma(t.data),s={name:(r=n[1])!=null&&r[0]?ik(n[1][0].data):"",sheets:[]},i=pS(n[2],Oo);return i.forEach(function(o){e[o].forEach(function(l){var c=Ls(l.meta[1][0].data);c==6e3&&s.sheets.push(oxe(e,l))})}),s}function cxe(e,t){var r=yS(),n=ma(t.data),s=pS(n[1],Oo);if(s.forEach(function(i){e[i].forEach(function(o){var l=Ls(o.meta[1][0].data);if(l==2){var c=lxe(e,o);c.sheets.forEach(function(u,d){bS(r,u,d==0?c.name:c.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function aj(e){var t,r,n,s,i={},o=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var u;try{u=_c(c.content)}catch(h){return console.log("?? "+c.content.length+" "+(h.message||h))}var d;try{d=Sc(u)}catch(h){return console.log("## "+(h.message||h))}d.forEach(function(h){i[h.id]=h.messages,o.push(h.id)})}}),!o.length)throw new Error("File has no messages");var l=((s=(n=(r=(t=i?.[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:s[0].data)&&Ls(i[1][0].meta[1][0].data)==1&&i[1][0];if(l||o.forEach(function(c){i[c].forEach(function(u){var d=Ls(u.meta[1][0].data)>>>0;if(d==1)if(!l)l=u;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return cxe(i,l)}function uxe(e,t,r){var n,s,i,o;if(!((n=e[6])!=null&&n[0])||!((s=e[7])!=null&&s[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(i=e[8])==null?void 0:i[0])==null?void 0:o.data)&&Ls(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,u=nh(e[7][0].data),d=0,h=[],m=nh(e[4][0].data),p=0,y=[],v=0;v<t.length;++v){if(t[v]==null){u.setUint16(v*2,65535,!0),m.setUint16(v*2,65535);continue}u.setUint16(v*2,d,!0),m.setUint16(v*2,p,!0);var g,b;switch(typeof t[v]){case"string":g=rj({t:"s",v:t[v]},r),b=nj({t:"s",v:t[v]},r);break;case"number":g=rj({t:"n",v:t[v]},r),b=nj({t:"n",v:t[v]},r);break;case"boolean":g=rj({t:"b",v:t[v]},r),b=nj({t:"b",v:t[v]},r);break;default:throw new Error("Unsupported value "+t[v])}h.push(g),d+=g.length,y.push(b),p+=b.length,++c}for(e[2][0].data=Ca(c);v<e[7][0].data.length/2;++v)u.setUint16(v*2,65535,!0),m.setUint16(v*2,65535,!0);return e[6][0].data=Yf(h),e[3][0].data=Yf(y),c}function dxe(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=_l(r["!ref"]);n.s.r=n.s.c=0;var s=!1;n.e.c>9&&(s=!0,n.e.c=9),n.e.r>49&&(s=!0,n.e.r=49),s&&console.error("The Numbers writer is currently limited to ".concat(bn(n)));var i=iy(r,{range:n,header:1}),o=["~Sh33tJ5~"];i.forEach(function(q){return q.forEach(function(V){typeof V=="string"&&o.push(V)})});var l={},c=[],u=Vr.read(t.numbers,{type:"base64"});u.FileIndex.map(function(q,V){return[q,u.FullPaths[V]]}).forEach(function(q){var V=q[0],U=q[1];if(V.type==2&&V.name.match(/\.iwa/)){var G=V.content,ne=_c(G),de=Sc(ne);de.forEach(function(ce){c.push(ce.id),l[ce.id]={deps:[],location:U,type:Ls(ce.messages[0].meta[1][0].data)}})}}),c.sort(function(q,V){return q-V});var d=c.filter(function(q){return q>1}).map(function(q){return[q,Ca(q)]});u.FileIndex.map(function(q,V){return[q,u.FullPaths[V]]}).forEach(function(q){var V=q[0];if(q[1],!!V.name.match(/\.iwa/)){var U=Sc(_c(V.content));U.forEach(function(G){G.messages.forEach(function(ne){d.forEach(function(de){G.messages.some(function(ce){return Ls(ce.meta[1][0].data)!=11006&&Jme(ce.data,de[1])})&&l[de[0]].deps.push(G.id)})})})}});for(var h=Vr.find(u,l[1].location),m=Sc(_c(h.content)),p,y=0;y<m.length;++y){var v=m[y];v.id==1&&(p=v)}var g=Oo(ma(p.messages[0].data)[1][0].data);for(h=Vr.find(u,l[g].location),m=Sc(_c(h.content)),y=0;y<m.length;++y)v=m[y],v.id==g&&(p=v);for(g=Oo(ma(p.messages[0].data)[2][0].data),h=Vr.find(u,l[g].location),m=Sc(_c(h.content)),y=0;y<m.length;++y)v=m[y],v.id==g&&(p=v);for(g=Oo(ma(p.messages[0].data)[2][0].data),h=Vr.find(u,l[g].location),m=Sc(_c(h.content)),y=0;y<m.length;++y)v=m[y],v.id==g&&(p=v);var b=ma(p.messages[0].data);{b[6][0].data=Ca(n.e.r+1),b[7][0].data=Ca(n.e.c+1);var w=Oo(b[46][0].data),j=Vr.find(u,l[w].location),N=Sc(_c(j.content));{for(var k=0;k<N.length&&N[k].id!=w;++k);if(N[k].id!=w)throw"Bad ColumnRowUIDMapArchive";var P=ma(N[k].messages[0].data);P[1]=[],P[2]=[],P[3]=[];for(var A=0;A<=n.e.c;++A){var O=[];O[1]=O[2]=[{type:0,data:Ca(A+420690)}],P[1].push({type:2,data:ro(O)}),P[2].push({type:0,data:Ca(A)}),P[3].push({type:0,data:Ca(A)})}P[4]=[],P[5]=[],P[6]=[];for(var D=0;D<=n.e.r;++D)O=[],O[1]=O[2]=[{type:0,data:Ca(D+726270)}],P[4].push({type:2,data:ro(O)}),P[5].push({type:0,data:Ca(D)}),P[6].push({type:0,data:Ca(D)});N[k].messages[0].data=ro(P)}j.content=Fh(Lh(N)),j.size=j.content.length,delete b[46];var R=ma(b[4][0].data);{R[7][0].data=Ca(n.e.r+1);var C=ma(R[1][0].data),T=Oo(C[2][0].data);j=Vr.find(u,l[T].location),N=Sc(_c(j.content));{if(N[0].id!=T)throw"Bad HeaderStorageBucket";var I=ma(N[0].messages[0].data);for(D=0;D<i.length;++D){var B=ma(I[2][0].data);B[1][0].data=Ca(D),B[4][0].data=Ca(i[D].length),I[2][D]={type:I[2][0].type,data:ro(B)}}N[0].messages[0].data=ro(I)}j.content=Fh(Lh(N)),j.size=j.content.length;var X=Oo(R[2][0].data);j=Vr.find(u,l[X].location),N=Sc(_c(j.content));{if(N[0].id!=X)throw"Bad HeaderStorageBucket";for(I=ma(N[0].messages[0].data),A=0;A<=n.e.c;++A)B=ma(I[2][0].data),B[1][0].data=Ca(A),B[4][0].data=Ca(n.e.r+1),I[2][A]={type:I[2][0].type,data:ro(B)};N[0].messages[0].data=ro(I)}j.content=Fh(Lh(N)),j.size=j.content.length;var re=Oo(R[4][0].data);(function(){for(var q=Vr.find(u,l[re].location),V=Sc(_c(q.content)),U,G=0;G<V.length;++G){var ne=V[G];ne.id==re&&(U=ne)}var de=ma(U.messages[0].data);{de[3]=[];var ce=[];o.forEach(function(se,Fe){ce[1]=[{type:0,data:Ca(Fe)}],ce[2]=[{type:0,data:Ca(1)}],ce[3]=[{type:2,data:Yme(se)}],de[3].push({type:2,data:ro(ce)})})}U.messages[0].data=ro(de);var he=Lh(V),Le=Fh(he);q.content=Le,q.size=q.content.length})();var Z=ma(R[3][0].data);{var te=Z[1][0];delete Z[2];var Y=ma(te.data);{var Q=Oo(Y[2][0].data);(function(){for(var q=Vr.find(u,l[Q].location),V=Sc(_c(q.content)),U,G=0;G<V.length;++G){var ne=V[G];ne.id==Q&&(U=ne)}var de=ma(U.messages[0].data);{delete de[6],delete Z[7];var ce=new Uint8Array(de[5][0].data);de[5]=[];for(var he=0,Le=0;Le<=n.e.r;++Le){var se=ma(ce);he+=uxe(se,i[Le],o),se[1][0].data=Ca(Le),de[5].push({data:ro(se),type:2})}de[1]=[{type:0,data:Ca(n.e.c+1)}],de[2]=[{type:0,data:Ca(n.e.r+1)}],de[3]=[{type:0,data:Ca(he)}],de[4]=[{type:0,data:Ca(n.e.r+1)}]}U.messages[0].data=ro(de);var Fe=Lh(V),_e=Fh(Fe);q.content=_e,q.size=q.content.length})()}te.data=ro(Y)}R[3][0].data=ro(Z)}b[4][0].data=ro(R)}p.messages[0].data=ro(b);var H=Lh(m),E=Fh(H);return h.content=E,h.size=h.content.length,u}function VR(e){return function(r){for(var n=0;n!=e.length;++n){var s=e[n];r[s[0]]===void 0&&(r[s[0]]=s[1]),s[2]==="n"&&(r[s[0]]=Number(r[s[0]]))}}}function mS(e){VR([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function xS(e){VR([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function fxe(e){return Dn.WS.indexOf(e)>-1?"sheet":e==Dn.CS?"chart":e==Dn.DS?"dialog":e==Dn.MS?"macro":e&&e.length?e:"sheet"}function hxe(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,fxe(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function pxe(e,t,r,n,s,i,o,l,c,u,d,h){try{i[n]=$m(Ql(e,r,!0),t);var m=si(e,t),p;switch(l){case"sheet":p=Fpe(m,t,s,c,i[n],u,d,h);break;case"chart":if(p=Mpe(m,t,s,c,i[n],u,d,h),!p||!p["!drawel"])break;var y=Tm(p["!drawel"].Target,t),v=Ux(y),g=jde(Ql(e,y,!0),$m(Ql(e,v,!0),y)),b=Tm(g,y),w=Ux(b);p=upe(Ql(e,b,!0),b,c,$m(Ql(e,w,!0),b),u,p);break;case"macro":p=Rpe(m,t,s,c,i[n],u,d,h);break;case"dialog":p=Bpe(m,t,s,c,i[n],u,d,h);break;default:throw new Error("Unrecognized sheet type "+l)}o[n]=p;var j=[];i&&i[n]&&Fs(i[n]).forEach(function(N){var k="";if(i[n][N].Type==Dn.CMNT){k=Tm(i[n][N].Target,t);var P=zpe(si(e,k,!0),k,c);if(!P||!P.length)return;ZI(p,P,!1)}i[n][N].Type==Dn.TCMNT&&(k=Tm(i[n][N].Target,t),j=j.concat(Sde(si(e,k,!0),c)))}),j&&j.length&&ZI(p,j,!0,c.people||[])}catch(N){if(c.WTF)throw N}}function Nc(e){return e.charAt(0)=="/"?e.slice(1):e}function mxe(e,t){if(Wp(),t=t||{},mS(t),Ac(e,"META-INF/manifest.xml")||Ac(e,"objectdata.xml"))return u8(e,t);if(Ac(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof aj<"u"){if(e.FileIndex)return aj(e);var r=Vr.utils.cfb_new();return bI(e).forEach(function(B){wn(r,B,_ie(e,B))}),aj(r)}throw new Error("Unsupported NUMBERS file")}if(!Ac(e,"[Content_Types].xml"))throw Ac(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Ac(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=bI(e),s=yoe(Ql(e,"[Content_Types].xml")),i=!1,o,l;if(s.workbooks.length===0&&(l="xl/workbook.xml",si(e,l,!0)&&s.workbooks.push(l)),s.workbooks.length===0){if(l="xl/workbook.bin",!si(e,l,!0))throw new Error("Could not find workbook");s.workbooks.push(l),i=!0}s.workbooks[0].slice(-3)=="bin"&&(i=!0);var c={},u={};if(!t.bookSheets&&!t.bookProps){if(zm=[],s.sst)try{zm=$pe(si(e,Nc(s.sst)),s.sst,t)}catch(B){if(t.WTF)throw B}t.cellStyles&&s.themes.length&&(c=qpe(Ql(e,s.themes[0].replace(/^\//,""),!0)||"",s.themes[0],t)),s.style&&(u=Upe(si(e,Nc(s.style)),s.style,c,t))}s.links.map(function(B){try{var X=$m(Ql(e,Ux(Nc(B))),B);return Wpe(si(e,Nc(B)),X,B,t)}catch{}});var d=Lpe(si(e,Nc(s.workbooks[0])),s.workbooks[0],t),h={},m="";s.coreprops.length&&(m=si(e,Nc(s.coreprops[0]),!0),m&&(h=DM(m)),s.extprops.length!==0&&(m=si(e,Nc(s.extprops[0]),!0),m&&_oe(m,h,t)));var p={};(!t.bookSheets||t.bookProps)&&s.custprops.length!==0&&(m=Ql(e,Nc(s.custprops[0]),!0),m&&(p=Eoe(m,t)));var y={};if((t.bookSheets||t.bookProps)&&(d.Sheets?o=d.Sheets.map(function(X){return X.name}):h.Worksheets&&h.SheetNames.length>0&&(o=h.SheetNames),t.bookProps&&(y.Props=h,y.Custprops=p),t.bookSheets&&typeof o<"u"&&(y.SheetNames=o),t.bookSheets?y.SheetNames:t.bookProps))return y;o={};var v={};t.bookDeps&&s.calcchain&&(v=Hpe(si(e,Nc(s.calcchain)),s.calcchain));var g=0,b={},w,j;{var N=d.Sheets;h.Worksheets=N.length,h.SheetNames=[];for(var k=0;k!=N.length;++k)h.SheetNames[k]=N[k].name}var P=i?"bin":"xml",A=s.workbooks[0].lastIndexOf("/"),O=(s.workbooks[0].slice(0,A+1)+"_rels/"+s.workbooks[0].slice(A+1)+".rels").replace(/^\//,"");Ac(e,O)||(O="xl/_rels/workbook."+P+".rels");var D=$m(Ql(e,O,!0),O.replace(/_rels.*/,"s5s"));(s.metadata||[]).length>=1&&(t.xlmeta=Vpe(si(e,Nc(s.metadata[0])),s.metadata[0],t)),(s.people||[]).length>=1&&(t.people=Ade(si(e,Nc(s.people[0])),t)),D&&(D=hxe(D,d.Sheets));var R=si(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(g=0;g!=h.Worksheets;++g){var C="sheet";if(D&&D[g]?(w="xl/"+D[g][1].replace(/[\/]?xl\//,""),Ac(e,w)||(w=D[g][1]),Ac(e,w)||(w=O.replace(/_rels\/.*$/,"")+D[g][1]),C=D[g][2]):(w="xl/worksheets/sheet"+(g+1-R)+"."+P,w=w.replace(/sheet0\./,"sheet.")),j=w.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(g!=t.sheets)continue e;break;case"string":if(h.SheetNames[g].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var T=!1,I=0;I!=t.sheets.length;++I)typeof t.sheets[I]=="number"&&t.sheets[I]==g&&(T=1),typeof t.sheets[I]=="string"&&t.sheets[I].toLowerCase()==h.SheetNames[g].toLowerCase()&&(T=1);if(!T)continue e}}pxe(e,w,j,h.SheetNames[g],g,b,o,C,t,d,c,u)}return y={Directory:s,Workbook:d,Props:h,Custprops:p,Deps:v,Sheets:o,SheetNames:h.SheetNames,Strings:zm,Styles:u,Themes:c,SSF:as(an)},t&&t.bookFiles&&(e.files?(y.keys=n,y.files=e.files):(y.keys=[],y.files={},e.FullPaths.forEach(function(B,X){B=B.replace(/^Root Entry[\/]/,""),y.keys.push(B),y.files[B]=e.FileIndex[X]}))),t&&t.bookVBA&&(s.vba.length>0?y.vbaraw=si(e,Nc(s.vba[0]),!0):s.defaults&&s.defaults.bin===Lde&&(y.vbaraw=si(e,"xl/vbaProject.bin",!0))),y}function xxe(e,t){var r=t||{},n="Workbook",s=Vr.find(e,n);try{if(n="/!DataSpaces/Version",s=Vr.find(e,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(Vce(s.content),n="/!DataSpaces/DataSpaceMap",s=Vr.find(e,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=Kce(s.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",s=Vr.find(e,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=Xce(s.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",s=Vr.find(e,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);Jce(s.content)}catch{}if(n="/EncryptionInfo",s=Vr.find(e,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=Qce(s.content);if(n="/EncryptedPackage",s=Vr.find(e,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],s.content,r.password||"",r);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],s.content,r.password||"",r);throw new Error("File is password-protected")}function gxe(e,t){return t.bookType=="ods"?WR(e,t):t.bookType=="numbers"?dxe(e,t):t.bookType=="xlsb"?vxe(e,t):yxe(e,t)}function vxe(e,t){Wh=1024,e&&!e.SSF&&(e.SSF=as(an)),e&&e.SSF&&(Wp(),Ky(e.SSF),t.revssf=Yy(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Hm?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=yR.indexOf(t.bookType)>-1,s=tS();xS(t=t||{});var i=q3(),o="",l=0;if(t.cellXfs=[],o0(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",wn(i,o,LM(e.Props,t)),s.coreprops.push(o),Ta(t.rels,2,o,Dn.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,wn(i,o,RM(e.Props)),s.extprops.push(o),Ta(t.rels,3,o,Dn.EXT_PROPS),e.Custprops!==e.Props&&Fs(e.Custprops||{}).length>0&&(o="docProps/custom.xml",wn(i,o,BM(e.Custprops)),s.custprops.push(o),Ta(t.rels,4,o,Dn.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var d={"!id":{}},h=e.Sheets[e.SheetNames[l-1]],m=(h||{})["!type"]||"sheet";if(o="xl/worksheets/sheet"+l+"."+r,wn(i,o,Kpe(l-1,o,t,e,d)),s.sheets.push(o),Ta(t.wbrels,-1,"worksheets/sheet"+l+"."+r,Dn.WS[0]),h){var p=h["!comments"],y=!1,v="";p&&p.length>0&&(v="xl/comments"+l+"."+r,wn(i,v,Jpe(p,v)),s.comments.push(v),Ta(d,-1,"../comments"+l+"."+r,Dn.CMNT),y=!0),h["!legacy"]&&y&&wn(i,"xl/drawings/vmlDrawing"+l+".vml",gR(l,h["!comments"])),delete h["!comments"],delete h["!legacy"]}d["!id"].rId1&&wn(i,Ux(o),Qh(d))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,wn(i,o,Ype(t.Strings,o,t)),s.strs.push(o),Ta(t.wbrels,-1,"sharedStrings."+r,Dn.SST)),o="xl/workbook."+r,wn(i,o,Gpe(e,o)),s.workbooks.push(o),Ta(t.rels,1,o,Dn.WB),o="xl/theme/theme1.xml",wn(i,o,oS(e.Themes,t)),s.themes.push(o),Ta(t.wbrels,-1,"theme/theme1.xml",Dn.THEME),o="xl/styles."+r,wn(i,o,Xpe(e,o,t)),s.styles.push(o),Ta(t.wbrels,-1,"styles."+r,Dn.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",wn(i,o,e.vbaraw),s.vba.push(o),Ta(t.wbrels,-1,"vbaProject.bin",Dn.VBA)),o="xl/metadata."+r,wn(i,o,Qpe(o)),s.metadata.push(o),Ta(t.wbrels,-1,"metadata."+r,Dn.XLMETA),wn(i,"[Content_Types].xml",PM(s,t)),wn(i,"_rels/.rels",Qh(t.rels)),wn(i,"xl/_rels/workbook."+r+".rels",Qh(t.wbrels)),delete t.revssf,delete t.ssf,i}function yxe(e,t){Wh=1024,e&&!e.SSF&&(e.SSF=as(an)),e&&e.SSF&&(Wp(),Ky(e.SSF),t.revssf=Yy(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Hm?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=yR.indexOf(t.bookType)>-1,s=tS();xS(t=t||{});var i=q3(),o="",l=0;if(t.cellXfs=[],o0(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",wn(i,o,LM(e.Props,t)),s.coreprops.push(o),Ta(t.rels,2,o,Dn.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,wn(i,o,RM(e.Props)),s.extprops.push(o),Ta(t.rels,3,o,Dn.EXT_PROPS),e.Custprops!==e.Props&&Fs(e.Custprops||{}).length>0&&(o="docProps/custom.xml",wn(i,o,BM(e.Custprops)),s.custprops.push(o),Ta(t.rels,4,o,Dn.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var h={"!id":{}},m=e.Sheets[e.SheetNames[l-1]],p=(m||{})["!type"]||"sheet";if(o="xl/worksheets/sheet"+l+"."+r,wn(i,o,TR(l-1,t,e,h)),s.sheets.push(o),Ta(t.wbrels,-1,"worksheets/sheet"+l+"."+r,Dn.WS[0]),m){var y=m["!comments"],v=!1,g="";if(y&&y.length>0){var b=!1;y.forEach(function(w){w[1].forEach(function(j){j.T==!0&&(b=!0)})}),b&&(g="xl/threadedComments/threadedComment"+l+"."+r,wn(i,g,_de(y,d,t)),s.threadedcomments.push(g),Ta(h,-1,"../threadedComments/threadedComment"+l+"."+r,Dn.TCMNT)),g="xl/comments"+l+"."+r,wn(i,g,vR(y)),s.comments.push(g),Ta(h,-1,"../comments"+l+"."+r,Dn.CMNT),v=!0}m["!legacy"]&&v&&wn(i,"xl/drawings/vmlDrawing"+l+".vml",gR(l,m["!comments"])),delete m["!comments"],delete m["!legacy"]}h["!id"].rId1&&wn(i,Ux(o),Qh(h))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,wn(i,o,sR(t.Strings,t)),s.strs.push(o),Ta(t.wbrels,-1,"sharedStrings."+r,Dn.SST)),o="xl/workbook."+r,wn(i,o,LR(e)),s.workbooks.push(o),Ta(t.rels,1,o,Dn.WB),o="xl/theme/theme1.xml",wn(i,o,oS(e.Themes,t)),s.themes.push(o),Ta(t.wbrels,-1,"theme/theme1.xml",Dn.THEME),o="xl/styles."+r,wn(i,o,hR(e,t)),s.styles.push(o),Ta(t.wbrels,-1,"styles."+r,Dn.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",wn(i,o,e.vbaraw),s.vba.push(o),Ta(t.wbrels,-1,"vbaProject.bin",Dn.VBA)),o="xl/metadata."+r,wn(i,o,xR()),s.metadata.push(o),Ta(t.wbrels,-1,"metadata."+r,Dn.XLMETA),d.length>1&&(o="xl/persons/person.xml",wn(i,o,Ede(d)),s.people.push(o),Ta(t.wbrels,-1,"persons/person.xml",Dn.PEOPLE)),wn(i,"[Content_Types].xml",PM(s,t)),wn(i,"_rels/.rels",Qh(t.rels)),wn(i,"xl/_rels/workbook."+r+".rels",Qh(t.wbrels)),delete t.revssf,delete t.ssf,i}function gS(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=rc(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function bxe(e,t){return Vr.find(e,"EncryptedPackage")?xxe(e,t):BR(e,t)}function wxe(e,t){var r,n=e,s=t||{};return s.type||(s.type=En&&Buffer.isBuffer(e)?"buffer":"base64"),r=oM(n,s),mxe(r,s)}function GR(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return ak(e.slice(r),t);default:break e}return Op.to_workbook(e,t)}function Nxe(e,t){var r="",n=gS(e,t);switch(t.type){case"base64":r=rc(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=Z0(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Ra(r)),t.type="binary",GR(r,t)}function jxe(e,t){var r=e;return t.type=="base64"&&(r=rc(r)),r=Dx.utils.decode(1200,r.slice(2),"str"),t.type="binary",GR(r,t)}function kxe(e){return e.match(/[^\x00-\x7F]/)?td(e):e}function sj(e,t,r,n){return n?(r.type="string",Op.to_workbook(e,r)):Op.to_workbook(t,r)}function sy(e,t){F3();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return sy(new Uint8Array(e),(r=as(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,s=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),ep={},r.dateNF&&(ep.dateNF=r.dateNF),r.type||(r.type=En&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=En?"buffer":"binary",n=vie(e),typeof Uint8Array<"u"&&!En&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=kxe(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),l=new Uint8Array(o);if(l.foo="bar",!l.foo)return r=as(r),r.type="array",sy(M3(n),r)}switch((s=gS(n,r))[0]){case 208:if(s[1]===207&&s[2]===17&&s[3]===224&&s[4]===161&&s[5]===177&&s[6]===26&&s[7]===225)return bxe(Vr.read(n,r),r);break;case 9:if(s[1]<=8)return BR(n,r);break;case 60:return ak(n,r);case 73:if(s[1]===73&&s[2]===42&&s[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(s[1]===68)return Cce(n,r);break;case 84:if(s[1]===65&&s[2]===66&&s[3]===76)return nR.to_workbook(n,r);break;case 80:return s[1]===75&&s[2]<9&&s[3]<9?wxe(n,r):sj(e,n,r,i);case 239:return s[3]===60?ak(n,r):sj(e,n,r,i);case 255:if(s[1]===254)return jxe(n,r);if(s[1]===0&&s[2]===2&&s[3]===0)return z0.to_workbook(n,r);break;case 0:if(s[1]===0&&(s[2]>=2&&s[3]===0||s[2]===0&&(s[3]===8||s[3]===9)))return z0.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return nk.to_workbook(n,r);case 123:if(s[1]===92&&s[2]===114&&s[3]===116)return uR.to_workbook(n,r);break;case 10:case 13:case 32:return Nxe(n,r);case 137:if(s[1]===80&&s[2]===78&&s[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return Ece.indexOf(s[0])>-1&&s[2]<=12&&s[3]<=31?nk.to_workbook(n,r):sj(e,n,r,i)}function KR(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return sg(t.file,Vr.write(e,{type:En?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Vr.write(e,t)}function Sxe(e,t){var r=as(t||{}),n=gxe(e,r);return _xe(n,r)}function _xe(e,t){var r={},n=En?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var s=e.FullPaths?Vr.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof s=="string"){if(t.type=="binary"||t.type=="base64")return s;s=new Uint8Array(Gy(s))}return t.password&&typeof encrypt_agile<"u"?KR(encrypt_agile(s,t.password),t):t.type==="file"?sg(t.file,s):t.type=="string"?Ra(s):s}function Axe(e,t){var r=t||{},n=kme(e,r);return KR(n,r)}function Ku(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return Lx(td(n));case"binary":return td(n);case"string":return e;case"file":return sg(t.file,n,"utf8");case"buffer":return En?sf(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Ku(n,{type:"binary"}).split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Exe(e,t){switch(t.type){case"base64":return Lx(e);case"binary":return e;case"string":return e;case"file":return sg(t.file,e,"binary");case"buffer":return En?sf(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function yv(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?Lx(r):t.type=="string"?Ra(r):r;case"file":return sg(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function XR(e,t){F3(),bpe(e);var r=as(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=XR(e,r);return r.type="array",Gy(n)}var s=0;if(r.sheet&&(typeof r.sheet=="number"?s=r.sheet:s=e.SheetNames.indexOf(r.sheet),!e.SheetNames[s]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Ku(gme(e,r),r);case"slk":case"sylk":return Ku(rR.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"htm":case"html":return Ku(qR(e.Sheets[e.SheetNames[s]],r),r);case"txt":return Exe(YR(e.Sheets[e.SheetNames[s]],r),r);case"csv":return Ku(vS(e.Sheets[e.SheetNames[s]],r),r,"\uFEFF");case"dif":return Ku(nR.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"dbf":return yv(nk.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"prn":return Ku(Op.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"rtf":return Ku(uR.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"eth":return Ku(aR.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"fods":return Ku(WR(e,r),r);case"wk1":return yv(z0.sheet_to_wk1(e.Sheets[e.SheetNames[s]],r),r);case"wk3":return yv(z0.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),yv(UR(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),Axe(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Sxe(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function Cxe(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function Txe(e,t,r){var n={};return n.type="file",n.file=t,Cxe(n),XR(e,n)}function Oxe(e,t,r,n,s,i,o,l){var c=Ys(r),u=l.defval,d=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),h=!0,m=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(m,"__rowNum__",{value:r,enumerable:!1})}catch{m.__rowNum__=r}else m.__rowNum__=r;if(!o||e[r])for(var p=t.s.c;p<=t.e.c;++p){var y=o?e[r][p]:e[n[p]+c];if(y===void 0||y.t===void 0){if(u===void 0)continue;i[p]!=null&&(m[i[p]]=u);continue}var v=y.v;switch(y.t){case"z":if(v==null)break;continue;case"e":v=v==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+y.t)}if(i[p]!=null){if(v==null)if(y.t=="e"&&v===null)m[i[p]]=null;else if(u!==void 0)m[i[p]]=u;else if(d&&v===null)m[i[p]]=null;else continue;else m[i[p]]=d&&(y.t!=="n"||y.t==="n"&&l.rawNumbers!==!1)?v:ef(y,v,l);v!=null&&(h=!1)}}return{row:m,isempty:h}}function iy(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,s=1,i=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=ia(d);break;case"number":c=ia(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(s=0);var h=Ys(c.s.r),m=[],p=[],y=0,v=0,g=Array.isArray(e),b=c.s.r,w=0,j={};g&&!e[b]&&(e[b]=[]);var N=u.skipHidden&&e["!cols"]||[],k=u.skipHidden&&e["!rows"]||[];for(w=c.s.c;w<=c.e.c;++w)if(!(N[w]||{}).hidden)switch(m[w]=Ns(w),r=g?e[b][w]:e[m[w]+h],n){case 1:i[w]=w-c.s.c;break;case 2:i[w]=m[w];break;case 3:i[w]=u.header[w-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=ef(r,null,u),v=j[o]||0,!v)j[o]=1;else{do l=o+"_"+v++;while(j[l]);j[o]=v,j[l]=1}i[w]=l}for(b=c.s.r+s;b<=c.e.r;++b)if(!(k[b]||{}).hidden){var P=Oxe(e,c,b,m,n,i,g,u);(P.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(p[y++]=P.row)}return p.length=y,p}var m8=/"/g;function Pxe(e,t,r,n,s,i,o,l){for(var c=!0,u=[],d="",h=Ys(r),m=t.s.c;m<=t.e.c;++m)if(n[m]){var p=l.dense?(e[r]||[])[m]:e[n[m]+h];if(p==null)d="";else if(p.v!=null){c=!1,d=""+(l.rawNumbers&&p.t=="n"?p.v:ef(p,null,l));for(var y=0,v=0;y!==d.length;++y)if((v=d.charCodeAt(y))===s||v===i||v===34||l.forceQuotes){d='"'+d.replace(m8,'""')+'"';break}d=="ID"&&(d='"ID"')}else p.f!=null&&!p.F?(c=!1,d="="+p.f,d.indexOf(",")>=0&&(d='"'+d.replace(m8,'""')+'"')):d="";u.push(d)}return l.blankrows===!1&&c?null:u.join(o)}function vS(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var s=ia(e["!ref"]),i=n.FS!==void 0?n.FS:",",o=i.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),d="",h=[];n.dense=Array.isArray(e);for(var m=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],y=s.s.c;y<=s.e.c;++y)(m[y]||{}).hidden||(h[y]=Ns(y));for(var v=0,g=s.s.r;g<=s.e.r;++g)(p[g]||{}).hidden||(d=Pxe(e,s,g,h,o,c,i,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((v++?l:"")+d)));return delete n.dense,r.join("")}function YR(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=vS(e,t);return r}function Ixe(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var s=ia(e["!ref"]),i="",o=[],l,c=[],u=Array.isArray(e);for(l=s.s.c;l<=s.e.c;++l)o[l]=Ns(l);for(var d=s.s.r;d<=s.e.r;++d)for(i=Ys(d),l=s.s.c;l<=s.e.c;++l)if(t=o[l]+i,r=u?(e[d]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function JR(e,t,r){var n=r||{},s=+!n.skipHeader,i=e||{},o=0,l=0;if(i&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?js(n.origin):n.origin;o=c.r,l=c.c}var u,d={s:{c:0,r:0},e:{c:l,r:o+t.length-1+s}};if(i["!ref"]){var h=ia(i["!ref"]);d.e.c=Math.max(d.e.c,h.e.c),d.e.r=Math.max(d.e.r,h.e.r),o==-1&&(o=h.e.r+1,d.e.r=o+t.length-1+s)}else o==-1&&(o=0,d.e.r=t.length-1+s);var m=n.header||[],p=0;t.forEach(function(v,g){Fs(v).forEach(function(b){(p=m.indexOf(b))==-1&&(m[p=m.length]=b);var w=v[b],j="z",N="",k=cn({c:l+p,r:o+g+s});u=Gx(i,k),w&&typeof w=="object"&&!(w instanceof Date)?i[k]=w:(typeof w=="number"?j="n":typeof w=="boolean"?j="b":typeof w=="string"?j="s":w instanceof Date?(j="d",n.cellDates||(j="n",w=Ni(w)),N=n.dateNF||an[14]):w===null&&n.nullError&&(j="e",w=0),u?(u.t=j,u.v=w,delete u.w,delete u.R,N&&(u.z=N)):i[k]=u={t:j,v:w},N&&(u.z=N))})}),d.e.c=Math.max(d.e.c,l+m.length-1);var y=Ys(o);if(s)for(p=0;p<m.length;++p)i[Ns(p+l)+y]={t:"s",v:m[p]};return i["!ref"]=bn(d),i}function Dxe(e,t){return JR(null,e,t)}function Gx(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=js(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Gx(e,cn(t)):Gx(e,cn({r:t,c:r||0}))}function Lxe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function yS(){return{SheetNames:[],Sheets:{}}}function bS(e,t,r,n){var s=1;if(!r)for(;s<=65535&&e.SheetNames.indexOf(r="Sheet"+s)!=-1;++s,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);s=i&&+i[2]||0;var o=i&&i[1]||r;for(++s;s<=65535&&e.SheetNames.indexOf(r=o+s)!=-1;++s);}if(DR(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function Fxe(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=Lxe(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function Mxe(e,t){return e.z=t,e}function QR(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function Rxe(e,t,r){return QR(e,"#"+t,r)}function Bxe(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function Uxe(e,t,r,n){for(var s=typeof t!="string"?t:ia(t),i=typeof t=="string"?t:bn(t),o=s.s.r;o<=s.e.r;++o)for(var l=s.s.c;l<=s.e.c;++l){var c=Gx(e,o,l);c.t="n",c.F=i,delete c.v,o==s.s.r&&l==s.s.c&&(c.f=r,n&&(c.D=!0))}return e}var N0={encode_col:Ns,encode_row:Ys,encode_cell:cn,encode_range:bn,decode_col:X3,decode_row:K3,split_cell:Yie,decode_cell:js,decode_range:_l,format_cell:ef,sheet_add_aoa:SM,sheet_add_json:JR,sheet_add_dom:$R,aoa_to_sheet:Vp,json_to_sheet:Dxe,table_to_sheet:zR,table_to_book:Vme,sheet_to_csv:vS,sheet_to_txt:YR,sheet_to_json:iy,sheet_to_html:qR,sheet_to_formulae:Ixe,sheet_to_row_object_array:iy,sheet_get_cell:Gx,book_new:yS,book_append_sheet:bS,book_set_sheet_visibility:Fxe,cell_set_number_format:Mxe,cell_set_hyperlink:QR,cell_set_internal_link:Rxe,cell_add_comment:Bxe,sheet_set_array_formula:Uxe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const qxe=({onCreateTask:e,currentUser:t})=>{const{showSuccess:r,showError:n,showInfo:s}=Ms(),[i,o]=z.useState([]),[l,c]=z.useState([]),[u,d]=z.useState([]),[h,m]=z.useState(!0),[p,y]=z.useState(""),[v,g]=z.useState("active"),[b,w]=z.useState("list"),[j,N]=z.useState("none"),[k,P]=z.useState(!1),[A,O]=z.useState("upload"),[D,R]=z.useState([]),[C,T]=z.useState([]),[I,B]=z.useState({title:"",category:"",dueDate:"",description:"",priority:"",owner:""}),[X,re]=z.useState(!1),[Z,te]=z.useState(null),[Y,Q]=z.useState(null),[H,E]=z.useState(null),[q,V]=z.useState(null),[U,G]=z.useState(null),[ne,de]=z.useState(null),[ce,he]=z.useState(!1),[Le,se]=z.useState(!1),[Fe,_e]=z.useState({title:"",category:"",description:"",dueDate:"",priority:"Medium",status:"Todo",assigneeId:"",projectId:""}),[oe,ae]=z.useState([]),[ke,we]=z.useState(!1),[Pe,pe]=z.useState(!1),[fe,De]=z.useState(!1),[Xe,Je]=z.useState(!1),[ht,Ue]=z.useState(""),[at,Me]=z.useState(""),[ut,ot]=z.useState(""),[rt,lr]=z.useState(null),[er,xt]=z.useState(!1),[Ht,Ut]=z.useState(null),[qe,jt]=z.useState(null),[kr,zt]=z.useState(!1),[_r,Tr]=z.useState(""),[pr,Jt]=z.useState(0),[Lr,Ar]=z.useState([]),[Gr,Tn]=z.useState(!1),[Ln,vr]=z.useState([]),[Xn,vn]=z.useState(!1),Ke=z.useRef(null),bt=z.useRef(null),Wt=z.useRef(null),ee=Be=>{const kt=Be.getFullYear(),yt=Be.getMonth(),Yt=Be.getDate();return`${kt}-${String(yt+1).padStart(2,"0")}-${String(Yt).padStart(2,"0")}`},me=Be=>{if(!Be||!/^\d{4}-\d{2}-\d{2}$/.test(Be))return Be;const[kt,yt,Yt]=Be.split("-").map(Number);return new Date(kt,yt-1,Yt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},ge=Be=>{const kt=new Date(Be),yt=kt.getDay(),Yt=kt.getDate()-yt+(yt===0?-6:1);return new Date(kt.setDate(Yt))},Se=Be=>{const kt=new Date(Be);kt.setHours(0,0,0,0);const yt=new Date(kt);return yt.setDate(kt.getDate()+6),yt.setHours(23,59,59,999),{start:kt,end:yt}},Ee=Be=>{if(!Be||!/^\d{4}-\d{2}-\d{2}$/.test(Be))return null;const[kt,yt,Yt]=Be.split("-").map(Number),cr=new Date(kt,yt-1,Yt),ar=ge(cr);return`${ar.getFullYear()}-${String(ar.getMonth()+1).padStart(2,"0")}-${String(ar.getDate()).padStart(2,"0")}`},Te=async()=>{m(!0);try{const Be=t?.id||JSON.parse(localStorage.getItem("user_data")||"{}").id;console.log("[TASKS] Fetching data (all tasks). Current userId:",Be);const[kt,yt,Yt]=await Promise.all([Ap(),$p(),fd()]);console.log("[TASKS] API Responses:",{tasks:kt,tasksData:kt?.data,tasksCount:Array.isArray(kt?.data)?kt.data.length:Array.isArray(kt)?kt.length:"not array",projects:yt?.data?.length??(Array.isArray(yt)?yt.length:"unknown"),users:Yt?.data?.length??(Array.isArray(Yt)?Yt.length:"unknown")});let cr=[];Array.isArray(kt)?cr=kt:(kt?.data&&Array.isArray(kt.data)||kt?.success&&kt?.data&&Array.isArray(kt.data))&&(cr=kt.data);let ar=[];Array.isArray(yt)?ar=yt:(yt?.data&&Array.isArray(yt.data)||yt?.success&&yt?.data&&Array.isArray(yt.data))&&(ar=yt.data);let Nr=[];Array.isArray(Yt)?Nr=Yt:(Yt?.data&&Array.isArray(Yt.data)||Yt?.success&&Yt?.data&&Array.isArray(Yt.data))&&(Nr=Yt.data),o(cr),c(ar),d(Nr),console.log("[TASKS] State updated:",{tasksCount:Array.isArray(cr)?cr.length:0,projectsCount:Array.isArray(ar)?ar.length:0,usersCount:Array.isArray(Nr)?Nr.length:0})}catch(Be){console.error("[TASKS] Fetch error:",Be),n(Be.message||"Failed to load tasks")}finally{m(!1)}};z.useEffect(()=>{Te()},[t]),z.useEffect(()=>{const Be=()=>Te();return window.addEventListener("refresh-tasks",Be),()=>window.removeEventListener("refresh-tasks",Be)},[]),z.useEffect(()=>{ne&&!ce&&_e({title:ne.title,category:ne.category||"",description:ne.description||"",dueDate:ne.dueDate||"",priority:ne.priority||"Medium",status:ne.status||"Todo",assigneeId:ne.assigneeId,projectId:ne.projectId||""})},[ne,ce]),z.useEffect(()=>{if(!ne)return;let Be=!1;return(async()=>{try{const kt=await H1(),yt=Array.isArray(kt?.data)?kt.data:[];Be||vr(yt)}catch{Be||vr([])}})(),()=>{Be=!0}},[ne?.id]),z.useEffect(()=>{if(!ce){vn(!1);return}Fe.category&&Ln.includes(Fe.category)?vn(!1):Fe.category&&!Ln.includes(Fe.category)&&vn(!0)},[ce,Fe.category,Ln]);const Ge=async Be=>{if(i.find(yt=>yt.id===Be)){Q(Be);try{await Id(Be,{archived:v==="active"}),o(yt=>yt.map(Yt=>Yt.id===Be?{...Yt,archived:v==="active"}:Yt)),V(null),r(v==="active"?"Task archived":"Task restored")}catch{n("Update failed")}finally{Q(null)}}},dt=async Be=>{te(Be);try{await $4(Be),o(kt=>kt.filter(yt=>yt.id!==Be)),G(null),r("Task deleted successfully"),Te()}catch{n("Failed to delete task")}finally{te(null)}},Ve=()=>{oe.length===Hr.length?ae([]):ae(Hr.map(Be=>Be.id))},Qe=async()=>{we(!0);try{const Be=[...oe];await Promise.all(Be.map(kt=>$4(kt))),o(kt=>kt.filter(yt=>!Be.includes(yt.id))),ae([]),pe(!1),r(`Successfully deleted ${Be.length} task${Be.length>1?"s":""}`),Te()}catch(Be){n(Be.message||"Failed to delete tasks")}finally{we(!1)}},ze=async()=>{if(!ht){n("Please select a project");return}Je(!0);try{const Be=[...oe];await Promise.all(Be.map(kt=>Id(kt,{projectId:ht==="__none__"?null:ht}))),o(kt=>kt.map(yt=>Be.includes(yt.id)?{...yt,projectId:ht==="__none__"?null:ht}:yt)),ae([]),De(!1),Ue(""),r(`Assigned ${Be.length} task${Be.length>1?"s":""} to ${ht==="__none__"?"No project":l.find(kt=>kt.id===ht)?.title||"project"}`),Te()}catch(Be){n(Be.message||"Failed to assign project")}finally{Je(!1)}},Ie=()=>{const Be=new Date;Be.setDate(Be.getDate()+30);const kt=Be.getDate(),yt=Be.getMonth()+1,Yt=Be.getFullYear(),cr=`${kt}-${yt}-${Yt}`,ar=N0.aoa_to_sheet([["Title","Task Category","Due Date","Priority (Low/Medium/High)","Description","Owner (Name or Email)"],["Update Logistics Map","Operations",cr,"High","Audit the EMEA transit routes","rpk@wx.agency"]]),Nr=N0.book_new();N0.book_append_sheet(Nr,ar,"Tasks"),Txe(Nr,"ImpactFlow_Task_Import_Template.xlsx"),s("Registry template downloaded")},et=async()=>{if(!I.title){n("Please map the required field: Title");return}if(C.length===0){n("No data to import");return}re(!0);try{console.log("[IMPORT] ===== STARTING IMPORT PROCESS ====="),console.log("[IMPORT] Column mapping:",I),console.log("[IMPORT] Parsed data rows:",C.length),console.log("[IMPORT] Sample parsed row:",C[0]);const Be=t?.id||JSON.parse(localStorage.getItem("user_data")||"{}").id;if(!Be){n("Please log in to import tasks"),re(!1);return}console.log("[IMPORT] Starting import with:",{parsedDataRows:C.length,columnMapping:I,usersCount:u.length,currentUserId:Be});const kt=C.map((rr,nr)=>{console.log(`[IMPORT] Processing row ${nr}:`,rr),console.log("[IMPORT] Column mapping:",I);const Ot=String(rr[I.title]||"").trim(),Zr=I.category?String(rr[I.category]||"").trim():"",Ct=String(rr[I.dueDate]||"").trim(),Fr=I.description?String(rr[I.description]||"").trim():"",oa=I.priority?String(rr[I.priority]||"").trim():"Medium",ja=I.owner?String(rr[I.owner]||"").trim():"";console.log(`[IMPORT] Extracted values for row ${nr}:`,{title:Ot,category:Zr,dueDateRaw:Ct,description:Fr,priorityRaw:oa,ownerRaw:ja,rowKeys:Object.keys(rr),mappedTitleKey:I.title,mappedDueDateKey:I.dueDate});let ir="";if(Ct&&Ct.toLowerCase().trim()==="ongoing")ir="";else if(Ct)if(/^\d+$/.test(Ct)&&parseFloat(Ct)>25569){const Wr=new Date(1900,0,1),Or=parseFloat(Ct)-2,Rr=new Date(Wr.getTime()+Or*24*60*60*1e3);isNaN(Rr.getTime())||(ir=ee(Rr))}else{let Wr=null;if(/^\d{4}-\d{2}-\d{2}$/.test(Ct))ir=Ct,Wr=new Date(0);else if(Ct.includes("-")&&/^\d{1,2}-\d{1,2}-\d{4}$/.test(Ct)){const Or=Ct.split("-").map(Rr=>Rr.trim());if(Or.length===3){const Rr=parseInt(Or[0],10),kn=parseInt(Or[1],10)-1,Ce=parseInt(Or[2],10);!isNaN(Rr)&&!isNaN(kn)&&!isNaN(Ce)&&Rr>=1&&Rr<=31&&kn>=0&&kn<=11&&(Wr=new Date(Ce,kn,Rr),console.log(`[IMPORT] Parsed hyphen-separated date "${Ct}" as day-month-year -> ${ee(Wr)}`))}}else if(Ct.includes("/")){const Or=Ct.split("/").map(Rr=>Rr.trim());if(Or.length===3){const Rr=parseInt(Or[0],10),kn=parseInt(Or[1],10)-1;let Ce=parseInt(Or[2],10);Ce<100&&(Ce+=2e3),!isNaN(Rr)&&!isNaN(kn)&&!isNaN(Ce)&&(Wr=new Date(Ce,kn,Rr))}}else if(Ct.match(/^\d{1,2}\/\d{1,2}\/\d{4}$/)){const Or=Ct.split("/"),Rr=parseInt(Or[0],10)-1,kn=parseInt(Or[1],10),Ce=parseInt(Or[2],10);!isNaN(kn)&&!isNaN(Rr)&&!isNaN(Ce)&&(Wr=new Date(Ce,Rr,kn))}else if(!Wr||isNaN(Wr.getTime())){const Or=Ct.match(/^([A-Za-z]+)\s+(\d{1,2}),?\s*(\d{4})$/);if(Or){const[,Rr,kn,Ce]=Or,xr=["january","february","march","april","may","june","july","august","september","october","november","december"],Qt=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],jr=Rr.toLowerCase().trim();let Kr=-1;for(let tn=0;tn<xr.length;tn++)if(jr.startsWith(xr[tn])||jr.startsWith(Qt[tn])){Kr=tn;break}if(Kr>=0){const tn=parseInt(kn,10),Sn=parseInt(Ce,10);Wr=new Date(Sn,Kr,tn),Wr.getFullYear()!==Sn||Wr.getMonth()!==Kr||Wr.getDate()!==tn?(console.warn(`[IMPORT] Invalid date parsed from "${Ct}": year=${Sn}, month=${Kr}, day=${tn}`),Wr=null):console.log(`[IMPORT] Successfully parsed date "${Ct}" -> ${ee(Wr)}`)}else console.warn(`[IMPORT] Could not match month name in "${Ct}"`)}}if(!Wr||isNaN(Wr.getTime())){const Or=new Date(Ct);if(!isNaN(Or.getTime())){const Rr=Or.getFullYear(),kn=Or.getMonth(),Ce=Or.getDate();Wr=new Date(Rr,kn,Ce),console.log(`[IMPORT] Used fallback date parsing for "${Ct}" -> ${ee(Wr)}`)}}Wr&&!isNaN(Wr.getTime())&&!ir?(ir=ee(Wr),console.log(`[IMPORT] Final dueDate for row ${nr}: "${Ct}" -> "${ir}"`)):Ct&&!ir&&console.error(`[IMPORT] Failed to parse date "${Ct}" for row ${nr}`)}const ya={low:"Low",medium:"Medium",high:"High",l:"Low",m:"Medium",h:"High"}[oa.toLowerCase()]||"Medium";let en=Be;if(ja&&u.length>0){const Wr=ja.toLowerCase().trim(),Or=u.find(Rr=>Rr.name.toLowerCase().trim()===Wr||Rr.email.toLowerCase().trim()===Wr||Rr.name.toLowerCase().trim().includes(Wr)||Rr.email.toLowerCase().trim().includes(Wr));Or?(en=Or.id,console.log(`[IMPORT] Matched owner "${ja}" to user:`,Or.name,Or.id)):console.warn(`[IMPORT] Could not match owner "${ja}", using current user`)}en||(console.error("[IMPORT] No assigneeId available, using current user as fallback"),en=Be);const Da={title:Ot.trim(),category:Zr||void 0,dueDate:ir||null,description:Fr.trim()||"",priority:ya,status:"Todo",assigneeId:en,_rowIndex:nr,_rawDate:Ct};return(!Da.title||!Da.assigneeId)&&console.error(`[IMPORT] Row ${nr} missing required fields:`,{hasTitle:!!Da.title,hasAssigneeId:!!Da.assigneeId,taskData:Da}),en||console.warn(`[IMPORT] Row ${nr}: No assigneeId found, using current user:`,{title:Ot,ownerRaw:ja,userId:Be}),console.log(`[IMPORT] Task data for row ${nr}:`,Da),Da}).filter(rr=>{const nr=rr.title&&rr.assigneeId;return nr?console.log("[IMPORT] Valid task:",{title:rr.title,dueDate:rr.dueDate||"Not set",assigneeId:rr.assigneeId,priority:rr.priority,status:rr.status}):console.error("[IMPORT] Filtered out invalid task:",{title:rr.title,dueDate:rr.dueDate,assigneeId:rr.assigneeId,rawDate:rr._rawDate,rowIndex:rr._rowIndex,fullTask:rr,missingFields:{title:!rr.title,assigneeId:!rr.assigneeId}}),nr}).map(({_rowIndex:rr,_rawDate:nr,...Ot})=>(Ot.assigneeId||(console.warn("[IMPORT] Task missing assigneeId, using current user:",Ot),Ot.assigneeId=Be),Ot));if(console.log("[IMPORT] Final tasks to import:",kt),console.log("[IMPORT] Tasks count:",kt.length),kt.length===0){const rr=C[0],nr=rr?String(rr[I.title]||"").trim():"N/A",Ot=rr?String(rr[I.dueDate]||"").trim():"N/A";console.error("[IMPORT] Validation failed - no valid tasks:",{totalRows:C.length,columnMapping:I,mappedTitle:I.title,mappedDueDate:I.dueDate,sampleRow:rr,sampleTitle:nr,sampleDate:Ot,sampleRowKeys:rr?Object.keys(rr):[],parsedData:C.slice(0,3)}),n(`No valid tasks found to import. Please check that:
1. Title column is mapped correctly (current: "${I.title}")
2. Due Date column is mapped correctly (current: "${I.dueDate}")
3. Date format is valid (15-2-2026, DD-MM-YYYY, YYYY-MM-DD, February 15 2026, or "Ongoing" for no date)

Sample data - Title: "${nr}", Date: "${Ot}"

Available columns: ${D.join(", ")}`),re(!1);return}console.log("[IMPORT] ===== STARTING API CALL =====");const yt=kt.map(({_rowIndex:rr,_rawDate:nr,...Ot})=>Ot);console.log("[IMPORT] Tasks to import count:",yt.length),console.log("[IMPORT] Tasks for API (cleaned):",JSON.stringify(yt,null,2)),console.log("[IMPORT] Sample task structure:",{title:yt[0]?.title,dueDate:yt[0]?.dueDate,assigneeId:yt[0]?.assigneeId,priority:yt[0]?.priority,status:yt[0]?.status,description:yt[0]?.description,hasProjectId:!!yt[0]?.projectId});const Yt=yt.filter(rr=>!rr.title||!rr.assigneeId);if(Yt.length>0){console.error("[IMPORT] Invalid tasks found:",Yt),n(`Cannot import: ${Yt.length} task(s) missing required fields (title or assigneeId)`),re(!1);return}let cr;try{cr=await tne(yt),console.log("[IMPORT] API call successful")}catch(rr){console.error("[IMPORT] API call failed:",rr),console.error("[IMPORT] Error details:",{message:rr.message,status:rr.status,code:rr.code,stack:rr.stack}),n(`Failed to import tasks: ${rr.message||"Unknown error"}`),re(!1);return}console.log("[IMPORT] Raw API Response:",JSON.stringify(cr,null,2)),console.log("[IMPORT] Response type:",typeof cr),console.log("[IMPORT] Response keys:",cr?Object.keys(cr):"null");let ar={},Nr=[];if(cr)cr.success&&cr.data?(ar=cr.data,Nr=ar.created||[]):cr.data&&Array.isArray(cr.data.created)?(ar=cr.data,Nr=ar.created||[]):cr.created&&Array.isArray(cr.created)?(ar=cr,Nr=ar.created||[]):(console.warn("[IMPORT] Unexpected response structure, searching for created tasks..."),ar=cr.data||cr,Nr=ar.created||ar.data?.created||[]),console.log("[IMPORT] Extracted importData:",ar),console.log("[IMPORT] Created tasks:",Nr),console.log("[IMPORT] Created tasks count:",Nr.length),console.log("[IMPORT] Created task IDs:",Nr.map(rr=>rr?.id)),console.log("[IMPORT] Created task details:",Nr.map(rr=>({id:rr.id,title:rr.title,assigneeId:rr.assigneeId})));else{console.error("[IMPORT] No response received from API"),n("No response received from server. Please check your connection."),re(!1);return}const mn=ar.successful??Nr.length??0,Fn=ar.failed??0;if(console.log("[IMPORT] Import results:",{successCount:mn,failedCount:Fn,total:kt.length,createdTasks:Nr.length,createdTaskIds:Nr.map(rr=>rr.id),errors:ar.errors}),Nr&&Nr.length>0?(console.log("[IMPORT] ===== ADDING TASKS TO STATE ====="),console.log("[IMPORT] Adding imported tasks directly to state:",Nr),console.log("[IMPORT] First created task:",Nr[0]),o(rr=>{const nr=new Set(rr.map(Ct=>Ct.id)),Ot=Nr.filter(Ct=>{const Fr=Ct&&Ct.id,oa=!nr.has(Ct.id);return Fr?oa?!0:(console.warn("[IMPORT] Task already exists, skipping:",Ct.id),!1):(console.error("[IMPORT] Task missing ID:",Ct),!1)}).map(Ct=>{const Fr={id:Ct.id,title:Ct.title||"",category:Ct.category||void 0,description:Ct.description||"",dueDate:Ct.dueDate||"",priority:Ct.priority||"Medium",status:Ct.status||"Todo",assigneeId:Ct.assigneeId||Be,projectId:Ct.projectId||void 0,archived:Ct.archived||!1,createdAt:Ct.createdAt,updatedAt:Ct.updatedAt};return console.log("[IMPORT] Mapped task:",Fr),Fr}),Zr=[...Ot,...rr];return console.log("[IMPORT] ===== STATE UPDATE COMPLETE ====="),console.log("[IMPORT] Merged tasks:",{previousCount:rr.length,newCount:Ot.length,totalCount:Zr.length,newTaskIds:Ot.map(Ct=>Ct.id),newTaskTitles:Ot.map(Ct=>Ct.title)}),Zr})):(console.error("[IMPORT] ===== NO TASKS TO ADD ====="),console.error("[IMPORT] No created tasks to add to state. createdTasks:",Nr),console.error("[IMPORT] Response structure:",cr),console.error("[IMPORT] Import data:",ar)),Fn>0){const rr=ar.errors?.map(nr=>`Row ${nr.index+1}: ${nr.error}`).join(`
`)||"";n(`Imported ${mn} task(s), but ${Fn} failed.
${rr}`)}else r(`Successfully imported ${mn} task(s)`);T([]),R([]),B({title:"",category:"",dueDate:"",description:"",priority:"",owner:""}),Ke.current&&(Ke.current.value=""),P(!1),setTimeout(async()=>{console.log("[IMPORT] Refreshing tasks list from server...");try{await Te(),console.log("[IMPORT] Tasks list refreshed from server");const rr=i.length;if(console.log("[IMPORT] Current tasks count after refresh:",rr),rr===0&&Nr.length>0){console.warn("[IMPORT] Tasks not showing after refresh, fetching all tasks...");const nr=await Ap();console.log("[IMPORT] All tasks response:",nr)}}catch(rr){console.error("[IMPORT] Error refreshing tasks:",rr)}},1500),window.dispatchEvent(new Event("refresh-tasks"))}catch(Be){console.error("Import error:",Be),n(Be.message||"Failed to import tasks. Please check your data format.")}finally{re(!1)}},gt=Be=>{if(!Be||Be.length===0)return console.log("[IMPORT] Header detection: empty or null firstRow"),!1;console.log("[IMPORT] Header detection - firstRow:",Be),console.log("[IMPORT] Header detection - firstRow length:",Be.length),console.log("[IMPORT] Header detection - firstRow values:",Be.map((ar,Nr)=>`[${Nr}]: "${ar}"`));const kt=["task","title","name","category","due","date","priority","description","owner","assignee","status","project","desc"];let yt=0;const Yt=Be.filter(ar=>ar&&String(ar).trim()!=="");console.log("[IMPORT] Header detection - non-empty cells:",Yt);for(const ar of Yt){const Nr=String(ar).toLowerCase().trim();kt.some(mn=>Nr.includes(mn))&&(yt++,console.log(`[IMPORT] Header detection - matched keyword in: "${ar}"`)),Nr.match(/^(task|due|owner|assignee|priority|description|category|status)/)&&(yt++,console.log(`[IMPORT] Header detection - matched pattern in: "${ar}"`))}const cr=Yt.length>0?yt/Yt.length:0;return console.log("[IMPORT] Header detection result:",{firstRow:Be,totalCells:Be.length,cellsToCheck:Yt.length,matchCount:yt,matchRatio:cr,isHeader:cr>=.4}),cr>=.4},Lt=async Be=>{const kt=Be.target.files?.[0];if(kt)try{const yt=kt.name.split(".").pop()?.toLowerCase();if(yt==="csv"){const Yt=new FileReader;Yt.onload=cr=>{try{const ar=new Uint8Array(cr.target?.result),Nr=sy(ar,{type:"array",sheetStubs:!0}),mn=Nr.SheetNames[0],Fn=Nr.Sheets[mn],rr=N0.decode_range(Fn["!ref"]||"A1"),nr=rr.e.c-rr.s.c+1;console.log("[IMPORT] CSV worksheet range:",Fn["!ref"]),console.log("[IMPORT] CSV number of columns from range:",nr);const Ot=N0.sheet_to_json(Fn,{header:1,defval:"",raw:!1,dateNF:"yyyy-mm-dd",blankrows:!0});if(console.log("[IMPORT] CSV raw data length:",Ot.length),console.log("[IMPORT] CSV first row length:",Ot[0]?.length),console.log("[IMPORT] CSV first row:",Ot[0]),Ot.length===0){n("File is empty");return}if(Ot[0]&&Ot[0].length<nr)for(console.log(`[IMPORT] CSV: Padding first row from ${Ot[0].length} to ${nr} columns`);Ot[0].length<nr;)Ot[0].push("");const Zr=gt(Ot[0]);console.log("[IMPORT] CSV Header detection result:",Zr);let Ct,Fr;if(Zr?(Ct=Ot[0].map((ir,Zn)=>String(ir||"").trim()||`Column ${Zn+1}`),Fr=1,console.log("[IMPORT] CSV raw first row:",Ot[0]),console.log("[IMPORT] CSV processed headers:",Ct)):(Ct=Ot[0].map((ir,Zn)=>`Column ${Zn+1}`),Fr=0,s("No header row detected. Using generic column names (Column 1, Column 2, etc.)")),Ct.length===0){n("No columns found in file");return}console.log("[IMPORT] CSV detected headers:",Ct),console.log("[IMPORT] CSV detected headers count:",Ct.length),console.log("[IMPORT] CSV detected headers array:",Ct),R(Ct),console.log("[IMPORT] CSV setDetectedColumns called with:",Ct);const oa=[];for(let ir=Fr;ir<Ot.length;ir++){const Zn={},ya=Ot[ir]||[];for(;ya.length<Ct.length;)ya.push("");Ct.forEach((en,Da)=>{const Wr=ya[Da];if(typeof Wr=="number"&&Wr>25569&&en.toLowerCase().includes("date")){const Or=new Date(1900,0,1),Rr=Wr-2,kn=new Date(Or.getTime()+Rr*24*60*60*1e3);Zn[en]=kn.toISOString().split("T")[0]}else Zn[en]=Wr!=null?String(Wr).trim():""}),Object.values(Zn).some(en=>en)&&oa.push(Zn)}console.log("[IMPORT] CSV parsed rows:",oa),console.log("[IMPORT] CSV parsed rows count:",oa.length),T(oa);const ja={title:Ct.find(ir=>ir.toLowerCase().includes("title")||ir.toLowerCase().includes("task")&&ir.toLowerCase().includes("name")||!ir.toLowerCase().includes("category")&&ir.toLowerCase().includes("name"))||"",category:Ct.find(ir=>ir.toLowerCase().includes("category")||ir.toLowerCase().includes("task")&&ir.toLowerCase().includes("cat"))||"",dueDate:Ct.find(ir=>ir.toLowerCase().includes("due")||ir.toLowerCase().includes("date")&&!ir.toLowerCase().includes("created")&&!ir.toLowerCase().includes("updated"))||"",description:Ct.find(ir=>ir.toLowerCase().includes("description")||ir.toLowerCase().includes("desc"))||"",priority:Ct.find(ir=>ir.toLowerCase().includes("priority")||ir.toLowerCase().includes("prio"))||"",owner:Ct.find(ir=>ir.toLowerCase().includes("owner")||ir.toLowerCase().includes("assignee")||ir.toLowerCase().includes("assigned")||ir.toLowerCase().includes("task")&&ir.toLowerCase().includes("owner"))||""};B(ja),O("mapping")}catch(ar){console.error("CSV parse error:",ar),n("Failed to parse CSV file: "+(ar.message||"Unknown error"))}},Yt.readAsArrayBuffer(kt)}else if(yt==="xlsx"||yt==="xls"){const Yt=new FileReader;Yt.onload=cr=>{const ar=new Uint8Array(cr.target?.result),Nr=sy(ar,{type:"array"}),mn=Nr.SheetNames[0],Fn=Nr.Sheets[mn],rr=N0.decode_range(Fn["!ref"]||"A1"),nr=rr.e.c-rr.s.c+1;console.log("[IMPORT] Excel worksheet range:",Fn["!ref"]),console.log("[IMPORT] Excel number of columns from range:",nr);const Ot=N0.sheet_to_json(Fn,{header:1,raw:!0,defval:"",blankrows:!0});if(console.log("[IMPORT] Excel raw data length:",Ot.length),console.log("[IMPORT] Excel first row length:",Ot[0]?.length),console.log("[IMPORT] Excel first row:",Ot[0]),Ot.length===0){n("File is empty");return}if(Ot[0]&&Ot[0].length<nr)for(console.log(`[IMPORT] Padding first row from ${Ot[0].length} to ${nr} columns`);Ot[0].length<nr;)Ot[0].push("");const Zr=gt(Ot[0]);console.log("[IMPORT] Excel Header detection result:",Zr);let Ct,Fr;Zr?(Ct=Ot[0].map((ir,Zn)=>String(ir||"").trim()||`Column ${Zn+1}`),Fr=1,console.log("[IMPORT] Excel raw first row:",Ot[0]),console.log("[IMPORT] Excel processed headers:",Ct)):(Ct=Ot[0].map((ir,Zn)=>`Column ${Zn+1}`),Fr=0,s("No header row detected. Using generic column names (Column 1, Column 2, etc.)")),console.log("[IMPORT] Detected headers:",Ct),console.log("[IMPORT] Detected headers count:",Ct.length),console.log("[IMPORT] Detected headers array:",Ct),console.log("[IMPORT] Raw JSON data:",Ot),R(Ct),console.log("[IMPORT] setDetectedColumns called with:",Ct);const oa=[];for(let ir=Fr;ir<Ot.length;ir++){const Zn={},ya=Ot[ir]||[];for(;ya.length<Ct.length;)ya.push("");Ct.forEach((en,Da)=>{const Wr=ya[Da];if(typeof Wr=="number"&&Wr>25569&&en.toLowerCase().includes("date")){const Or=new Date(1900,0,1),Rr=Wr-2,kn=new Date(Or.getTime()+Rr*24*60*60*1e3),Ce=kn.getFullYear(),xr=kn.getMonth(),Qt=kn.getDate();Zn[en]=`${Ce}-${String(xr+1).padStart(2,"0")}-${String(Qt).padStart(2,"0")}`}else Zn[en]=Wr!=null?String(Wr).trim():""}),Object.values(Zn).some(en=>en)&&oa.push(Zn)}console.log("[IMPORT] Parsed rows:",oa),console.log("[IMPORT] Parsed rows count:",oa.length),T(oa);const ja={title:Ct.find(ir=>ir.toLowerCase().includes("title")||ir.toLowerCase().includes("task")&&ir.toLowerCase().includes("name")||!ir.toLowerCase().includes("category")&&ir.toLowerCase().includes("name"))||"",category:Ct.find(ir=>ir.toLowerCase().includes("category")||ir.toLowerCase().includes("task")&&ir.toLowerCase().includes("cat"))||"",dueDate:Ct.find(ir=>ir.toLowerCase().includes("due")||ir.toLowerCase().includes("date")&&!ir.toLowerCase().includes("created")&&!ir.toLowerCase().includes("updated"))||"",description:Ct.find(ir=>ir.toLowerCase().includes("description")||ir.toLowerCase().includes("desc"))||"",priority:Ct.find(ir=>ir.toLowerCase().includes("priority")||ir.toLowerCase().includes("prio"))||"",owner:Ct.find(ir=>ir.toLowerCase().includes("owner")||ir.toLowerCase().includes("assignee")||ir.toLowerCase().includes("assigned")||ir.toLowerCase().includes("task")&&ir.toLowerCase().includes("owner"))||""};console.log("[IMPORT] Auto-mapping:",ja),B(ja),O("mapping")},Yt.readAsArrayBuffer(kt)}else n("Unsupported file format. Please use CSV, XLS, or XLSX.")}catch(yt){console.error("Error parsing file:",yt),n("Failed to parse file: "+(yt.message||"Unknown error"))}},Bt=async(Be,kt,yt)=>{yt.stopPropagation();const Yt=kt==="Done"?"Todo":"Done";E(Be);try{await Id(Be,{status:Yt}),o(cr=>cr.map(ar=>ar.id===Be?{...ar,status:Yt}:ar)),ne?.id===Be&&de({...ne,status:Yt}),r(Yt==="Done"?"Task marked as done":"Task marked as todo")}catch{n("Status update failed")}finally{E(null)}},br=async()=>{if(ne){if(!Fe.title.trim()){n("Task title is required");return}if(!Fe.assigneeId){n("Assignee is required");return}se(!0);try{await Id(ne.id,{title:Fe.title.trim(),category:Fe.category.trim()||void 0,description:Fe.description.trim()||"",dueDate:Fe.dueDate||null,priority:Fe.priority,status:Fe.status,assigneeId:Fe.assigneeId,projectId:Fe.projectId||null}),o(Be=>Be.map(kt=>kt.id===ne.id?{...kt,title:Fe.title.trim(),category:Fe.category.trim()||void 0,description:Fe.description.trim()||"",dueDate:Fe.dueDate||"",priority:Fe.priority,status:Fe.status,assigneeId:Fe.assigneeId,projectId:Fe.projectId||void 0}:kt)),de({...ne,title:Fe.title.trim(),category:Fe.category.trim()||void 0,description:Fe.description.trim()||"",dueDate:Fe.dueDate||"",priority:Fe.priority,status:Fe.status,assigneeId:Fe.assigneeId,projectId:Fe.projectId||void 0}),he(!1),r("Task updated successfully"),window.dispatchEvent(new Event("refresh-tasks"))}catch(Be){n(Be.message||"Failed to update task")}finally{se(!1)}}},Dr=(Be,kt=1200,yt=1200,Yt=.8)=>new Promise((cr,ar)=>{const Nr=new FileReader;Nr.onload=mn=>{const Fn=new Image;Fn.onload=()=>{let rr=Fn.width,nr=Fn.height;rr>nr?rr>kt&&(nr=nr*kt/rr,rr=kt):nr>yt&&(rr=rr*yt/nr,nr=yt);const Ot=document.createElement("canvas");Ot.width=rr,Ot.height=nr;const Zr=Ot.getContext("2d");Zr?(Zr.drawImage(Fn,0,0,rr,nr),cr(Ot.toDataURL("image/jpeg",Yt))):ar(new Error("Canvas context not available"))},Fn.onerror=()=>ar(new Error("Failed to load image")),Fn.src=mn.target?.result},Nr.onerror=()=>ar(new Error("Failed to read file")),Nr.readAsDataURL(Be)}),Qr=async Be=>{const kt=Be.target.files?.[0];if(kt){if(!kt.type.startsWith("image/")){n("Please select an image file");return}if(kt.size>10*1024*1024){n("Image size must be less than 10MB");return}try{const yt=await Dr(kt,1200,1200,.8);ot(yt),lr(kt)}catch(yt){n(yt.message||"Failed to process image")}}},Nn=Be=>{const kt=Be.target.value,yt=Be.target.selectionStart;Me(kt),Jt(yt);const Yt=kt.substring(0,yt),cr=Yt.lastIndexOf("@");if(cr!==-1){const ar=Yt.substring(cr+1),Nr=cr>0?Yt[cr-1]:" ";if((Nr===" "||Nr===`
`||cr===0)&&!ar.includes(" ")&&!ar.includes(`
`)){Tr(ar);const mn=u.filter(Fn=>Fn.name.toLowerCase().includes(ar.toLowerCase())||Fn.email.toLowerCase().includes(ar.toLowerCase()));Ar(mn.slice(0,5)),zt(!0);return}}zt(!1)},ds=Be=>{const yt=at.substring(0,pr).lastIndexOf("@"),Yt=at.substring(pr),ar=`${at.substring(0,yt)}@${Be.name} ${Yt}`;if(Me(ar),zt(!1),Wt.current){Wt.current.focus();const Nr=yt+Be.name.length+2;Wt.current.setSelectionRange(Nr,Nr)}},qn=Be=>{const kt=/@([A-Za-z0-9\s]+?)(?=\s|$|[.,!?])/g,yt=[];let Yt;for(;(Yt=kt.exec(Be))!==null;){const cr=Yt[1].trim(),ar=u.find(Nr=>Nr.name.toLowerCase()===cr.toLowerCase());ar&&ar.id!==(t?.id||JSON.parse(localStorage.getItem("user_data")||"{}").id)&&yt.push(ar.id)}return[...new Set(yt)]},ss=Be=>{const kt=/@([A-Za-z0-9\s]+?)(?=\s|$|[.,!?])/g,yt=[];let Yt=0,cr;for(;(cr=kt.exec(Be))!==null;){cr.index>Yt&&yt.push(Be.substring(Yt,cr.index));const ar=cr[1].trim(),Nr=u.find(mn=>mn.name.toLowerCase()===ar.toLowerCase());Nr?yt.push(a.jsxs("span",{className:"bg-indigo-100 text-indigo-700 px-1.5 py-0.5 rounded font-bold",children:["@",Nr.name]},cr.index)):yt.push(`@${ar}`),Yt=cr.index+cr[0].length}return Yt<Be.length&&yt.push(Be.substring(Yt)),yt.length>0?yt:Be},$n=async()=>{if(ne){if(!at.trim()&&!rt){n("Please enter a note or upload an image");return}xt(!0);try{const Be=t?.id||JSON.parse(localStorage.getItem("user_data")||"{}").id,kt=t?.name||JSON.parse(localStorage.getItem("user_data")||"{}").name||"Unknown User",yt={id:`note_${Date.now()}`,userId:Be,userName:kt,text:at.trim(),imageUrl:ut||void 0,imageName:rt?.name||void 0,imageMimeType:rt?.type||void 0,createdAt:new Date().toISOString()},Yt=[...ne.notes||[],yt];await Id(ne.id,{notes:Yt}),de({...ne,notes:Yt}),o(Nr=>Nr.map(mn=>mn.id===ne.id?{...mn,notes:Yt}:mn));const cr=qn(at);for(const Nr of cr)try{await Ep({userId:Nr,type:"mention",title:"You were mentioned in a task",message:`${kt} mentioned you in task "${ne.title}"`,relatedId:ne.id,relatedType:"task",read:!1})}catch(mn){console.error("Failed to send notification:",mn)}Me(""),ot(""),lr(null),bt.current&&(bt.current.value="");const ar=cr.length>0?`Note added and ${cr.length} user(s) notified`:"Note added successfully";r(ar)}catch(Be){n(Be.message||"Failed to add note")}finally{xt(!1)}}},fs=async()=>{if(!(!ne||!t||!qe))try{Ut(qe);const Be=ne.notes?.filter(kt=>kt.id!==qe)||[];await Id(ne.id,{notes:Be}),de({...ne,notes:Be}),o(kt=>kt.map(yt=>yt.id===ne.id?{...yt,notes:Be}:yt)),r("Note deleted successfully"),jt(null)}catch(Be){n(Be.message||"Failed to delete note")}finally{Ut(null)}},jn=()=>{de(null),he(!1),Me(""),ot(""),lr(null),zt(!1),Tn(!1),bt.current&&(bt.current.value="")};let Hr=i.filter(Be=>{if(v==="archived"){if(!Be.archived)return!1}else if(v==="week"){if(Be.archived)return!1}else if(Be.archived)return!1;return p.trim()?Be.title.toLowerCase().includes(p.toLowerCase()):!0});if(j==="dueDate")Hr=[...Hr].sort((Be,kt)=>!Be.dueDate&&!kt.dueDate?0:Be.dueDate?kt.dueDate?(Be.dueDate||"").localeCompare(kt.dueDate||""):-1:1);else if(j==="priority"){const Be={High:1,Medium:2,Low:3};Hr=[...Hr].sort((kt,yt)=>{const Yt=Be[kt.priority]||4,cr=Be[yt.priority]||4;return Yt-cr})}else j==="category"?Hr=[...Hr].sort((Be,kt)=>{const yt=(Be.category||"Uncategorized").toLowerCase(),Yt=(kt.category||"Uncategorized").toLowerCase();return yt.localeCompare(Yt)}):j==="owner"&&(Hr=[...Hr].sort((Be,kt)=>{const yt=u.find(cr=>cr.id===Be.assigneeId)?.name||"Unassigned",Yt=u.find(cr=>cr.id===kt.assigneeId)?.name||"Unassigned";return yt.localeCompare(Yt)}));return a.jsxs("div",{className:"space-y-6 animate-in slide-in-from-bottom-2 duration-500 pb-10",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Tasks"}),a.jsxs("div",{className:"flex gap-4 mt-2",children:[a.jsx("button",{onClick:()=>{g("active"),ae([])},className:`text-sm font-bold pb-1 transition-all ${v==="active"?"text-indigo-600 border-b-2 border-indigo-600":"text-slate-400"}`,children:"Active"}),a.jsxs("button",{onClick:()=>{g("archived"),ae([])},className:`text-sm font-bold pb-1 transition-all ${v==="archived"?"text-indigo-600 border-b-2 border-indigo-600":"text-slate-400"}`,children:["Archive (",i.filter(Be=>Be.archived).length,")"]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>{P(!0),O("upload")},className:"px-3 py-2 bg-white border border-slate-200 text-slate-600 rounded-lg text-xs font-bold flex items-center gap-2 hover:bg-slate-50 transition-all",children:[a.jsx(U_,{className:"w-4 h-4"})," Bulk Import"]}),a.jsxs("button",{onClick:e,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg text-sm font-bold flex items-center gap-2 hover:bg-indigo-700 shadow-lg",children:[a.jsx(_n,{className:"w-4 h-4"})," New Task"]})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(tf,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Search tasks...",value:p,onChange:Be=>{y(Be.target.value),ae([])},className:"w-full pl-10 pr-4 py-2.5 bg-white border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-indigo-100"})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{value:j,onChange:Be=>N(Be.target.value),className:"appearance-none pl-4 pr-10 py-2.5 bg-white border border-slate-200 rounded-xl text-sm font-medium text-slate-700 outline-none focus:ring-2 focus:ring-indigo-100 cursor-pointer hover:bg-slate-50 transition-all",children:[a.jsx("option",{value:"none",children:"No Sort"}),a.jsx("option",{value:"dueDate",children:"Sort by Due Date"}),a.jsx("option",{value:"priority",children:"Sort by Priority"}),a.jsx("option",{value:"category",children:"Sort by Category"}),a.jsx("option",{value:"owner",children:"Sort by Owner"})]}),a.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none",children:a.jsx(Uf,{className:"w-4 h-4 text-slate-400"})})]}),a.jsxs("div",{className:"flex bg-white p-1 border border-slate-200 rounded-xl shadow-sm",children:[a.jsx("button",{onClick:()=>w("list"),className:`p-2 rounded-lg ${b==="list"?"bg-indigo-50 text-indigo-600":"text-slate-400"}`,children:a.jsx(IB,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>w("card"),className:`p-2 rounded-lg ${b==="card"?"bg-indigo-50 text-indigo-600":"text-slate-400"}`,children:a.jsx(CB,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>{g(v==="week"?"active":"week"),ae([])},className:`p-2 rounded-lg ${v==="week"?"bg-indigo-50 text-indigo-600":"text-slate-400"}`,title:"Week View",children:a.jsx(Ha,{className:"w-4 h-4"})})]})]}),!h&&Hr.length>0&&a.jsxs("div",{className:"flex items-center gap-3 pb-2",children:[a.jsx("input",{type:"checkbox",className:"rounded border-slate-300 text-indigo-600 focus:ring-indigo-500 w-4 h-4",checked:Hr.length>0&&oe.length===Hr.length,onChange:Ve}),a.jsx("span",{className:"text-sm font-semibold text-slate-600",children:"Select All Tasks"})]}),h?a.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm overflow-hidden min-h-[400px]",children:a.jsx("div",{className:"flex items-center justify-center py-20",children:a.jsx(Et,{className:"w-8 h-8 animate-spin text-indigo-600"})})}):Hr.length===0?a.jsxs("div",{className:"py-20 bg-white rounded-3xl border border-dashed border-slate-200 text-center",children:[a.jsx($v,{className:"w-12 h-12 text-slate-200 mx-auto mb-4"}),a.jsxs("p",{className:"text-slate-400 font-bold uppercase text-[10px] tracking-widest",children:["No ",v==="week"?"tasks":v," tasks found"]})]}):v==="week"?a.jsx("div",{className:"space-y-8",children:(()=>{const Be=Hr.filter(nr=>!Ee(nr.dueDate)),kt=Hr.filter(nr=>Ee(nr.dueDate)),yt={};kt.forEach(nr=>{const Ot=Ee(nr.dueDate);yt[Ot]||(yt[Ot]=[]),yt[Ot].push(nr)});const Yt=Object.keys(yt).sort(),cr=(()=>{const nr=ge(new Date);return`${nr.getFullYear()}-${String(nr.getMonth()+1).padStart(2,"0")}-${String(nr.getDate()).padStart(2,"0")}`})(),ar=(()=>{const nr=ge(new Date),Ot=new Date(nr);return Ot.setDate(nr.getDate()+7),`${Ot.getFullYear()}-${String(Ot.getMonth()+1).padStart(2,"0")}-${String(Ot.getDate()).padStart(2,"0")}`})(),Nr=(nr,Ot)=>{const Zr=nr.toLocaleDateString("en-US",{month:"short",day:"numeric"}),Ct=Ot.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return`${Zr} - ${Ct}`},mn=nr=>{if(nr===cr)return"This Week";if(nr===ar)return"Next Week";const[Ot,Zr,Ct]=nr.split("-").map(Number),Fr=new Date(Ot,Zr-1,Ct),{start:oa,end:ja}=Se(Fr);return`Week of ${Nr(oa,ja)}`},Fn=nr=>{const[Ot,Zr,Ct]=nr.split("-").map(Number);return Se(new Date(Ot,Zr-1,Ct))};Yt.forEach(nr=>{yt[nr].sort((Ot,Zr)=>(Ot.dueDate||"").localeCompare(Zr.dueDate||""))});const rr=nr=>nr.length===0?null:b==="list"?a.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm overflow-hidden",children:a.jsx("div",{className:"divide-y divide-slate-50",children:nr.map(Ot=>{const Zr=oe.includes(Ot.id);return a.jsxs("div",{onClick:()=>de(Ot),className:`flex items-center gap-4 p-5 hover:bg-slate-50 transition-colors cursor-pointer ${Zr?"bg-indigo-50/30 border-l-4 border-indigo-400":""}`,children:[a.jsx("div",{onClick:Ct=>Ct.stopPropagation(),children:a.jsx("input",{type:"checkbox",className:"rounded border-slate-300 text-indigo-600 focus:ring-indigo-500 w-4 h-4 cursor-pointer",checked:Zr,onChange:()=>ae(Ct=>Zr?Ct.filter(Fr=>Fr!==Ot.id):[...Ct,Ot.id])})}),a.jsx("button",{onClick:Ct=>Bt(Ot.id,Ot.status,Ct),disabled:H===Ot.id,className:"text-slate-300 hover:text-indigo-600 disabled:opacity-50 disabled:cursor-not-allowed transition-opacity",children:H===Ot.id?a.jsx(Et,{className:"w-6 h-6 text-indigo-600 animate-spin"}):Ot.status==="Done"?a.jsx(Cn,{className:"w-6 h-6 text-emerald-500"}):a.jsx(ad,{className:"w-6 h-6"})}),a.jsxs("div",{className:"flex-1 overflow-hidden",children:[a.jsx("p",{className:`font-bold text-sm ${Ot.status==="Done"?"line-through text-slate-400":"text-slate-900"}`,children:Ot.title}),a.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[Ot.category&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(vs,{className:"w-3 h-3 text-indigo-400"}),a.jsx("span",{className:"text-[10px] text-indigo-600 font-bold uppercase",children:Ot.category})]}),a.jsx("span",{className:"text-slate-300",children:""})]}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:l.find(Ct=>Ct.id===Ot.projectId)?.title||"General"}),a.jsx("span",{className:"text-slate-300",children:""}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(Ha,{className:"w-3 h-3 text-slate-400"}),a.jsx("span",{className:"text-[10px] text-slate-400 font-bold",children:Ot.dueDate?me(Ot.dueDate):"Ongoing"})]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase ${Ot.priority==="High"?"bg-red-50 text-red-600":Ot.priority==="Medium"?"bg-amber-50 text-amber-600":"bg-slate-50 text-slate-600"}`,children:Ot.priority}),a.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 bg-slate-50 rounded-full",children:[a.jsx(rl,{className:"w-3 h-3 text-slate-400"}),a.jsx("span",{className:"text-[10px] font-bold text-slate-600",children:u.find(Ct=>Ct.id===Ot.assigneeId)?.name||"Unassigned"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:Ct=>{Ct.stopPropagation(),de(Ot)},className:"p-1.5 hover:bg-slate-100 rounded-lg text-slate-400 transition-colors",children:a.jsx(Ud,{className:"w-4 h-4"})}),a.jsx("button",{onClick:Ct=>{Ct.stopPropagation(),V(Ot)},className:"p-1.5 hover:bg-slate-100 rounded-lg text-slate-400 transition-colors",children:a.jsx(Qu,{className:"w-4 h-4"})}),a.jsx("button",{onClick:Ct=>{Ct.stopPropagation(),G(Ot)},className:"p-1.5 hover:bg-red-50 rounded-lg text-red-400 transition-colors",children:a.jsx($r,{className:"w-4 h-4"})})]})]})]},Ot.id)})})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:nr.map(Ot=>{const Zr=oe.includes(Ot.id);return a.jsxs("div",{onClick:()=>de(Ot),className:`bg-white p-6 rounded-3xl border ${Zr?"border-indigo-400 bg-indigo-50/30":"border-slate-200"} relative group cursor-pointer hover:shadow-lg transition-all`,children:[a.jsx("div",{className:"absolute top-4 left-4",onClick:Ct=>Ct.stopPropagation(),children:a.jsx("input",{type:"checkbox",className:`${Zr?"opacity-100":"opacity-0 group-hover:opacity-100"} transition-opacity rounded border-slate-300 text-indigo-600 focus:ring-indigo-500 w-4 h-4 cursor-pointer`,checked:Zr,onChange:()=>ae(Ct=>Zr?Ct.filter(Fr=>Fr!==Ot.id):[...Ct,Ot.id])})}),a.jsxs("div",{className:"mt-6",children:[a.jsx("p",{className:`font-bold text-sm mb-3 ${Ot.status==="Done"?"line-through text-slate-400":"text-slate-900"}`,children:Ot.title}),a.jsxs("div",{className:"space-y-2 mb-4",children:[Ot.category&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(vs,{className:"w-3 h-3 text-indigo-400"}),a.jsx("span",{className:"text-[10px] text-indigo-600 font-bold uppercase",children:Ot.category})]}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:l.find(Ct=>Ct.id===Ot.projectId)?.title||"General"})]})]}),a.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-slate-50",children:[Ot.dueDate?a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(Ha,{className:"w-3.5 h-3.5 text-slate-400"}),a.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase",children:me(Ot.dueDate)})]}):a.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Ongoing"}),a.jsx("div",{className:`px-2.5 py-1 rounded-full text-[9px] font-black uppercase ${Ot.priority==="High"?"bg-red-50 text-red-600":Ot.priority==="Medium"?"bg-amber-50 text-amber-600":"bg-slate-50 text-slate-600"}`,children:Ot.priority})]})]},Ot.id)})});return a.jsxs(a.Fragment,{children:[Yt.map(nr=>{const Ot=yt[nr];if(!Ot||Ot.length===0)return null;const Zr=Fn(nr),Ct=mn(nr);return a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4 flex-wrap",children:[a.jsx("h2",{className:"text-lg font-black text-slate-900",children:Ct}),a.jsx("span",{className:"px-3 py-1 bg-indigo-50 text-indigo-600 rounded-full text-xs font-black",children:Nr(Zr.start,Zr.end)}),a.jsxs("span",{className:"text-sm text-slate-400 font-bold",children:["(",Ot.length,")"]})]}),rr(Ot)]},nr)}),Be.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("h2",{className:"text-lg font-black text-slate-900",children:"Ongoing"}),a.jsxs("span",{className:"text-sm text-slate-400 font-bold",children:["(",Be.length," tasks)"]})]}),rr(Be)]})]})})()}):b==="list"?a.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm overflow-hidden",children:a.jsx("div",{className:"divide-y divide-slate-50",children:Hr.map(Be=>{const kt=oe.includes(Be.id);return a.jsxs("div",{onClick:()=>de(Be),className:`flex items-center gap-4 p-5 hover:bg-slate-50 transition-colors cursor-pointer ${Be.archived?"bg-slate-50/50":""} ${kt?"bg-indigo-50/30 border-l-4 border-indigo-400":""}`,children:[a.jsx("div",{onClick:yt=>yt.stopPropagation(),children:a.jsx("input",{type:"checkbox",className:"rounded border-slate-300 text-indigo-600 focus:ring-indigo-500 w-4 h-4 cursor-pointer",checked:kt,onChange:()=>ae(yt=>kt?yt.filter(Yt=>Yt!==Be.id):[...yt,Be.id])})}),a.jsx("button",{onClick:yt=>Bt(Be.id,Be.status,yt),disabled:H===Be.id,className:"text-slate-300 hover:text-indigo-600 disabled:opacity-50 disabled:cursor-not-allowed transition-opacity",children:H===Be.id?a.jsx(Et,{className:"w-6 h-6 text-indigo-600 animate-spin"}):Be.status==="Done"?a.jsx(Cn,{className:"w-6 h-6 text-emerald-500"}):a.jsx(ad,{className:"w-6 h-6"})}),a.jsxs("div",{className:"flex-1 overflow-hidden",children:[a.jsx("p",{className:`font-bold text-sm ${Be.status==="Done"?"line-through text-slate-400":"text-slate-900"}`,children:Be.title}),a.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[Be.category&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(vs,{className:"w-3 h-3 text-indigo-400"}),a.jsx("span",{className:"text-[10px] text-indigo-600 font-bold uppercase",children:Be.category})]}),a.jsx("span",{className:"text-slate-300",children:""})]}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:l.find(yt=>yt.id===Be.projectId)?.title||"General"}),a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-slate-300",children:""}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(Ha,{className:"w-3 h-3 text-slate-400"}),a.jsx("span",{className:"text-[10px] text-slate-400 font-bold",children:Be.dueDate?me(Be.dueDate):"Ongoing"})]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase ${Be.priority==="High"?"bg-red-50 text-red-600":Be.priority==="Medium"?"bg-amber-50 text-amber-600":"bg-slate-50 text-slate-600"}`,children:Be.priority}),Be.assigneeId&&(()=>{const yt=u.find(Yt=>Yt.id===Be.assigneeId);return yt?a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-indigo-50 rounded-full",title:yt.name,children:[a.jsx(rl,{className:"w-3 h-3 text-indigo-600"}),a.jsx("span",{className:"text-[10px] font-bold text-indigo-600 max-w-[120px] truncate",children:yt.name})]}):null})()]}),a.jsxs("div",{className:"flex items-center gap-3 ml-3",children:[a.jsx("button",{onClick:yt=>{yt.stopPropagation(),de(Be)},className:"p-2 text-slate-300 hover:text-indigo-600 hover:bg-white rounded-lg transition-all",title:"View task",children:a.jsx(Ud,{className:"w-4 h-4"})}),a.jsx("button",{onClick:yt=>{yt.stopPropagation(),V(Be)},className:"p-2 text-slate-300 hover:text-indigo-600 hover:bg-white rounded-lg transition-all",children:Be.archived?a.jsx(zv,{className:"w-4 h-4"}):a.jsx(Qu,{className:"w-4 h-4"})}),a.jsx("button",{onClick:yt=>{yt.stopPropagation(),G(Be)},className:"p-2 text-slate-300 hover:text-red-500 hover:bg-white rounded-lg transition-all",children:a.jsx($r,{className:"w-4 h-4"})})]})]},Be.id)})})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Hr.map(Be=>{const kt=oe.includes(Be.id);return a.jsxs("div",{onClick:()=>de(Be),className:`bg-white p-6 rounded-3xl border ${kt?"border-indigo-400 bg-indigo-50/30":"border-slate-200"} relative group cursor-pointer hover:shadow-lg transition-all`,children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-indigo-50 flex items-center justify-center text-indigo-600",children:a.jsx(al,{className:"w-4 h-4"})}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:[a.jsx("button",{onClick:yt=>{yt.stopPropagation(),de(Be)},className:"p-1.5 text-slate-400 hover:text-indigo-600",title:"View task",children:a.jsx(Ud,{className:"w-3.5 h-3.5"})}),a.jsx("button",{onClick:yt=>{yt.stopPropagation(),V(Be)},className:"p-1.5 text-slate-400 hover:text-indigo-600",children:a.jsx(Qu,{className:"w-3.5 h-3.5"})}),a.jsx("button",{onClick:yt=>{yt.stopPropagation(),G(Be)},className:"p-1.5 text-slate-400 hover:text-red-500",children:a.jsx($r,{className:"w-3.5 h-3.5"})})]}),a.jsx("div",{onClick:yt=>yt.stopPropagation(),className:`${kt?"opacity-100":"opacity-0 group-hover:opacity-100"} transition-opacity`,children:a.jsx("input",{type:"checkbox",className:"rounded border-slate-300 text-indigo-600 focus:ring-indigo-500 w-4 h-4 cursor-pointer",checked:kt,onChange:()=>ae(yt=>kt?yt.filter(Yt=>Yt!==Be.id):[...yt,Be.id])})})]})]}),a.jsx("h4",{className:`font-bold text-slate-900 mb-2 ${Be.status==="Done"?"line-through opacity-40":""}`,children:Be.title}),a.jsx("p",{className:"text-xs text-slate-500 line-clamp-2 mb-4",children:Be.description}),Be.category&&a.jsx("div",{className:"flex items-center gap-2 mb-2",children:a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-indigo-50 rounded-full",children:[a.jsx(vs,{className:"w-3.5 h-3.5 text-indigo-600"}),a.jsx("span",{className:"text-[10px] font-bold text-indigo-600",children:Be.category})]})}),Be.assigneeId&&(()=>{const yt=u.find(Yt=>Yt.id===Be.assigneeId);return yt?a.jsx("div",{className:"flex items-center gap-2 mb-4",children:a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-emerald-50 rounded-full",children:[a.jsx(rl,{className:"w-3.5 h-3.5 text-emerald-600"}),a.jsx("span",{className:"text-[10px] font-bold text-emerald-600",children:yt.name})]})}):null})(),a.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-slate-50",children:[Be.dueDate?a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(Ha,{className:"w-3.5 h-3.5 text-slate-400"}),a.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase",children:me(Be.dueDate)})]}):a.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Ongoing"}),a.jsx("div",{className:`px-2.5 py-1 rounded-full text-[9px] font-black uppercase ${Be.priority==="High"?"bg-red-50 text-red-600":Be.priority==="Medium"?"bg-amber-50 text-amber-600":"bg-slate-50 text-slate-600"}`,children:Be.priority})]})]},Be.id)})}),k&&a.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-[40px] w-full max-w-2xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 flex flex-col max-h-[90vh]",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-start bg-slate-50/50 shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-14 h-14 bg-indigo-600 rounded-2xl flex items-center justify-center text-white shadow-xl shadow-indigo-100",children:a.jsx(U_,{className:"w-7 h-7"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-slate-900 tracking-tight leading-none",children:"Enterprise Registry Import"}),a.jsx("p",{className:"text-[10px] text-slate-400 uppercase tracking-[0.2em] font-black mt-2",children:"Logistical Data Migration"})]})]}),a.jsx("button",{onClick:()=>P(!1),className:"p-2 hover:bg-white rounded-full transition-colors border border-transparent hover:border-slate-200",children:a.jsx(mr,{className:"w-6 h-6 text-slate-400"})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-10 custom-scrollbar",children:A==="upload"?a.jsxs("div",{className:"space-y-10 animate-in fade-in duration-300",children:[a.jsxs("div",{className:"bg-indigo-50 border border-indigo-100 rounded-3xl p-8",children:[a.jsxs("h4",{className:"text-[10px] font-black text-indigo-600 uppercase tracking-widest flex items-center gap-2 mb-6",children:[a.jsx(Wf,{className:"w-4 h-4"})," Registry Data Requirements"]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs("p",{className:"text-xs font-black text-slate-700 uppercase tracking-tighter flex items-center gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500"})," Column: Title *"]}),a.jsx("p",{className:"text-[10px] text-slate-500 font-medium ml-3.5",children:"Official objective identifier."})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("p",{className:"text-xs font-black text-slate-700 uppercase tracking-tighter flex items-center gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-300"})," Column: Task Category"]}),a.jsx("p",{className:"text-[10px] text-slate-500 font-medium ml-3.5",children:"Organizational category (optional). New categories from the file are added automatically."})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("p",{className:"text-xs font-black text-slate-700 uppercase tracking-tighter flex items-center gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500"})," Column: Due Date *"]}),a.jsx("p",{className:"text-[10px] text-slate-500 font-medium ml-3.5",children:'e.g. 15-2-2026, YYYY-MM-DD, or February 15, 2026. Use "Ongoing" for no date.'})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("p",{className:"text-xs font-black text-slate-700 uppercase tracking-tighter flex items-center gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-300"})," Column: Priority"]}),a.jsx("p",{className:"text-[10px] text-slate-500 font-medium ml-3.5",children:"Low, Medium, or High."})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("p",{className:"text-xs font-black text-slate-700 uppercase tracking-tighter flex items-center gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-300"})," Column: Description"]}),a.jsx("p",{className:"text-[10px] text-slate-500 font-medium ml-3.5",children:"Strategic context/notes."})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("p",{className:"text-xs font-black text-slate-700 uppercase tracking-tighter flex items-center gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-300"})," Column: Task Owner"]}),a.jsx("p",{className:"text-[10px] text-slate-500 font-medium ml-3.5",children:"Task owner name or email (optional)."})]})]})]}),a.jsxs("div",{className:"flex flex-col gap-5",children:[a.jsxs("button",{onClick:()=>Ke.current?.click(),className:"w-full py-16 border-4 border-dashed border-slate-100 rounded-[40px] flex flex-col items-center justify-center gap-4 hover:border-indigo-400 hover:bg-indigo-50/30 transition-all group shadow-sm bg-white",children:[a.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-2xl flex items-center justify-center text-slate-300 group-hover:text-indigo-600 group-hover:scale-110 transition-all border border-slate-100 shadow-inner",children:a.jsx(_B,{className:"w-8 h-8"})}),a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:"text-lg font-black text-slate-900 block mb-1",children:"Select Local Registry"}),a.jsx("span",{className:"text-xs text-slate-400 font-bold uppercase tracking-widest",children:"Supports CSV, XLS, XLSX"})]})]}),a.jsxs("button",{onClick:Ie,className:"w-full py-5 bg-white border-2 border-slate-100 text-slate-600 rounded-[24px] text-xs font-black uppercase tracking-[0.2em] flex items-center justify-center gap-3 hover:bg-slate-50 transition-all shadow-sm",children:[a.jsx(L0,{className:"w-5 h-5 text-indigo-500"})," Download Registry Schema (Excel Template)"]})]})]}):a.jsxs("div",{className:"space-y-8 animate-in slide-in-from-right-4 duration-300",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"text-lg font-black text-slate-900",children:"Smart Mapping Interface"}),a.jsxs("span",{className:"px-3 py-1 bg-emerald-50 text-emerald-600 rounded-full text-[10px] font-black uppercase tracking-tighter flex items-center gap-1.5",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full animate-pulse"})," Data Detected"]})]}),a.jsxs("p",{className:"text-sm text-slate-500 leading-relaxed",children:["We've detected ",D.length," columns and ",C.length," rows in your file. Ensure the ImpactFlow system properties are correctly mapped below."]}),a.jsx("div",{className:"space-y-4 bg-slate-50 p-8 rounded-[32px] border border-slate-100",children:[{label:"Task Name (Title)",key:"title",required:!0,icon:a.jsx(Xa,{className:"w-4 h-4"})},{label:"Task Category",key:"category",required:!1,icon:a.jsx(vs,{className:"w-4 h-4"})},{label:"Due Date",key:"dueDate",required:!0,icon:a.jsx(Ha,{className:"w-4 h-4"})},{label:"Task Description",key:"description",required:!1,icon:a.jsx(Wf,{className:"w-4 h-4"})},{label:"Priority Level",key:"priority",required:!1,icon:a.jsx(vs,{className:"w-4 h-4"})},{label:"Task Owner",key:"owner",required:!1,icon:a.jsx(rl,{className:"w-4 h-4"})}].map(Be=>a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 group",children:[a.jsxs("div",{className:"flex-1 flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-white border border-slate-100 rounded-xl flex items-center justify-center text-slate-400 group-hover:text-indigo-600 group-hover:border-indigo-200 transition-all",children:Be.icon}),a.jsx("div",{children:a.jsxs("p",{className:"text-xs font-black text-slate-700 uppercase tracking-tighter",children:[Be.label," ",Be.required&&a.jsx("span",{className:"text-red-500",children:"*"})]})})]}),a.jsx(ao,{className:"w-4 h-4 text-slate-300 hidden sm:block"}),a.jsxs("select",{value:I[Be.key]||"",onChange:kt=>B({...I,[Be.key]:kt.target.value}),className:"flex-1 px-4 py-2.5 bg-white border border-slate-200 rounded-xl text-xs font-bold text-slate-600 outline-none focus:ring-2 focus:ring-indigo-100",children:[a.jsx("option",{value:"",children:"-- Select Source Column --"}),D.map(kt=>a.jsx("option",{value:kt,children:kt},kt))]})]},Be.key))}),a.jsxs("div",{className:"flex gap-4 pt-6",children:[a.jsx("button",{onClick:()=>{O("upload"),T([]),R([]),B({title:"",category:"",dueDate:"",description:"",priority:"",owner:""}),Ke.current&&(Ke.current.value="")},className:"flex-1 py-5 border border-slate-200 text-slate-400 font-black uppercase text-xs tracking-widest rounded-[24px] hover:bg-slate-50 transition-all",children:"Back to Upload"}),a.jsx("button",{onClick:et,disabled:X||!I.title||!I.dueDate,className:"flex-[2] py-5 bg-indigo-600 text-white font-black uppercase text-xs tracking-[0.2em] rounded-[24px] hover:bg-indigo-700 transition-all shadow-2xl flex items-center justify-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed",children:X?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-5 h-5 animate-spin"})," Importing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(wi,{className:"w-5 h-5"})," Execute Registry Deploy"]})})]})]})}),a.jsx("input",{ref:Ke,type:"file",accept:".csv,.xls,.xlsx",className:"hidden",onChange:Lt})]})}),q&&a.jsx("div",{className:"fixed inset-0 z-[130] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-[32px] w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center bg-indigo-50 text-indigo-600",children:q.archived?a.jsx(zv,{className:"w-6 h-6"}):a.jsx(Qu,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-slate-900",children:q.archived?"Restore Task?":"Archive Task?"}),a.jsx("p",{className:"text-xs text-slate-400 font-medium mt-1",children:q.archived?"This will restore the task to active status.":"This will move the task to archive. You can restore it later."})]})]}),a.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-200",children:[a.jsx("p",{className:"text-sm font-bold text-slate-900 mb-1",children:q.title}),q.description&&a.jsx("p",{className:"text-xs text-slate-500 line-clamp-2",children:q.description})]})]}),a.jsxs("div",{className:"p-6 flex gap-3",children:[a.jsx("button",{onClick:()=>V(null),disabled:Y===q.id,className:"flex-1 py-3 border border-slate-200 text-slate-400 font-black uppercase text-xs tracking-widest rounded-xl hover:bg-slate-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),a.jsx("button",{onClick:()=>Ge(q.id),disabled:Y===q.id,className:"flex-1 py-3 bg-indigo-600 text-white font-black uppercase text-xs tracking-widest rounded-xl hover:bg-indigo-700 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:Y===q.id?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),q.archived?"Restoring...":"Archiving..."]}):q.archived?"Restore Task":"Archive Task"})]})]})}),U&&a.jsx("div",{className:"fixed inset-0 z-[130] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-[32px] w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center bg-red-50 text-red-600",children:a.jsx($r,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-slate-900",children:"Delete Task?"}),a.jsx("p",{className:"text-xs text-slate-400 font-medium mt-1",children:"This action cannot be undone. The task will be permanently removed."})]})]}),a.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-200",children:[a.jsx("p",{className:"text-sm font-bold text-slate-900 mb-1",children:U.title}),U.description&&a.jsx("p",{className:"text-xs text-slate-500 line-clamp-2",children:U.description})]})]}),a.jsxs("div",{className:"p-6 flex gap-3",children:[a.jsx("button",{onClick:()=>G(null),disabled:Z===U.id,className:"flex-1 py-3 border border-slate-200 text-slate-400 font-black uppercase text-xs tracking-widest rounded-xl hover:bg-slate-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),a.jsx("button",{onClick:()=>dt(U.id),disabled:Z===U.id,className:"flex-1 py-3 bg-red-600 text-white font-black uppercase text-xs tracking-widest rounded-xl hover:bg-red-700 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:Z===U.id?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):"Delete Task"})]})]})}),oe.length>0&&a.jsx("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-[100] animate-in slide-in-from-bottom-10 duration-300",children:a.jsxs("div",{className:"bg-slate-900 text-white rounded-3xl shadow-2xl px-8 py-4 flex items-center gap-8 border border-white/10 ring-4 ring-indigo-500/10",children:[a.jsxs("span",{className:"text-sm font-black flex items-center gap-3",children:[a.jsx("div",{className:"w-6 h-6 bg-indigo-500 rounded-full flex items-center justify-center text-[10px]",children:oe.length}),"Selected"]}),a.jsx("div",{className:"h-8 w-px bg-white/10"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{onClick:Be=>{Be.stopPropagation(),De(!0),Ue("")},disabled:Xe,className:"px-5 py-2 bg-indigo-600 hover:bg-indigo-500 rounded-xl text-xs font-black uppercase tracking-widest transition-all flex items-center gap-2 disabled:opacity-50",children:[a.jsx(qf,{className:"w-3.5 h-3.5"}),"Assign to project"]}),a.jsxs("button",{onClick:Be=>{Be.stopPropagation(),pe(!0)},disabled:ke,className:"px-5 py-2 bg-red-600 hover:bg-red-700 rounded-xl text-xs font-black uppercase tracking-widest transition-all flex items-center gap-2 disabled:opacity-50",children:[ke?a.jsx(Et,{className:"w-3.5 h-3.5 animate-spin"}):a.jsx($r,{className:"w-3.5 h-3.5"}),"Delete"]}),a.jsx("button",{onClick:()=>ae([]),className:"p-2 hover:bg-white/10 rounded-xl text-slate-400 transition-colors",children:a.jsx(mr,{className:"w-5 h-5"})})]})]})}),fe&&oe.length>0&&a.jsx("div",{className:"fixed inset-0 z-[130] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-[32px] w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center bg-indigo-50 text-indigo-600",children:a.jsx(qf,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-slate-900",children:"Assign to project"}),a.jsxs("p",{className:"text-xs text-slate-400 font-medium mt-1",children:["Change the linked project for ",oe.length," selected task",oe.length>1?"s":"","."]})]})]}),a.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Project"}),a.jsxs("select",{value:ht,onChange:Be=>Ue(Be.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100 focus:border-indigo-500 appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%22%3E%3Cpath%20stroke%3D%226b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22m6%208%204%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:16px_16px] bg-[right_12px_center] bg-no-repeat",children:[a.jsx("option",{value:"",children:"Select project..."}),a.jsx("option",{value:"__none__",children:"None (General)"}),l.filter(Be=>!Be.archived).map(Be=>a.jsx("option",{value:Be.id,children:Be.title},Be.id))]})]}),a.jsxs("div",{className:"p-6 flex gap-3",children:[a.jsx("button",{onClick:()=>{De(!1),Ue("")},disabled:Xe,className:"flex-1 py-3 border border-slate-200 text-slate-400 font-black uppercase text-xs tracking-widest rounded-xl hover:bg-slate-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),a.jsx("button",{onClick:ze,disabled:Xe||!ht,className:"flex-1 py-3 bg-indigo-600 text-white font-black uppercase text-xs tracking-widest rounded-xl hover:bg-indigo-700 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:Xe?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Assigning..."]}):`Assign ${oe.length} task${oe.length>1?"s":""}`})]})]})}),Pe&&oe.length>0&&a.jsx("div",{className:"fixed inset-0 z-[130] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-[32px] w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center bg-red-50 text-red-600",children:a.jsx($r,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xl font-black text-slate-900",children:["Delete ",oe.length," Task",oe.length>1?"s":"","?"]}),a.jsx("p",{className:"text-xs text-slate-400 font-medium mt-1",children:"This action cannot be undone. The tasks will be permanently removed."})]})]}),a.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-200 max-h-48 overflow-y-auto",children:[i.filter(Be=>oe.includes(Be.id)).slice(0,5).map(Be=>a.jsxs("div",{className:"flex items-center gap-3 mb-2 last:mb-0",children:[a.jsx(al,{className:"w-4 h-4 text-indigo-500"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-xs font-bold text-slate-900",children:Be.title}),a.jsx("p",{className:"text-[10px] text-slate-500",children:l.find(kt=>kt.id===Be.projectId)?.title||"General"})]})]},Be.id)),oe.length>5&&a.jsxs("p",{className:"text-xs text-slate-400 font-medium mt-2 text-center",children:["+ ",oe.length-5," more"]})]})]}),a.jsxs("div",{className:"p-6 flex gap-3",children:[a.jsx("button",{onClick:()=>pe(!1),disabled:ke,className:"flex-1 py-3 border border-slate-200 text-slate-400 font-black uppercase text-xs tracking-widest rounded-xl hover:bg-slate-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),a.jsx("button",{onClick:Qe,disabled:ke,className:"flex-1 py-3 bg-red-600 text-white font-black uppercase text-xs tracking-widest rounded-xl hover:bg-red-700 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:ke?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):`Delete ${oe.length} Task${oe.length>1?"s":""}`})]})]})}),ne&&a.jsxs("div",{className:"fixed inset-0 z-[110] overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md pointer-events-auto animate-in fade-in duration-300",onClick:jn}),a.jsxs("div",{className:"absolute right-0 inset-y-0 w-full max-w-xl bg-white shadow-2xl pointer-events-auto animate-in slide-in-from-right duration-500 flex flex-col",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 bg-slate-50/50 relative",children:[a.jsx("button",{onClick:jn,className:"absolute top-6 right-6 p-2 hover:bg-white rounded-full text-slate-400 transition-all shadow-sm z-10",children:a.jsx(mr,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex items-center gap-5 mb-6",children:[a.jsx("div",{className:"w-16 h-16 rounded-[24px] flex items-center justify-center text-white shadow-xl bg-indigo-500 shadow-indigo-100",children:a.jsx(al,{className:"w-8 h-8"})}),a.jsxs("div",{className:"flex-1",children:[ce?a.jsx("input",{type:"text",value:Fe.title,onChange:Be=>_e(kt=>({...kt,title:Be.target.value})),className:"w-full px-4 py-2 bg-white border-2 border-indigo-200 rounded-xl text-xl font-black text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100",placeholder:"Task title"}):a.jsx("h2",{className:"text-2xl font-black text-slate-900 tracking-tight leading-tight",children:ne.title}),a.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[a.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border ${ne.status==="Done"?"bg-emerald-50 text-emerald-600 border-emerald-100":ne.status==="In Progress"?"bg-blue-50 text-blue-600 border-blue-100":ne.status==="Review"?"bg-amber-50 text-amber-600 border-amber-100":"bg-slate-50 text-slate-600 border-slate-100"}`,children:ne.status}),a.jsxs("span",{className:"text-slate-400 text-xs font-bold",children:[" Task ID: #",ne.id.substring(0,8)]})]})]})]}),a.jsx("div",{className:"flex items-center gap-2",children:ce?a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>{he(!1),_e({title:ne.title,description:ne.description||"",dueDate:ne.dueDate||"",priority:ne.priority||"Medium",status:ne.status||"Todo",assigneeId:ne.assigneeId,projectId:ne.projectId||""})},disabled:Le,className:"px-4 py-2 border border-slate-200 text-slate-400 font-bold text-xs uppercase tracking-widest rounded-xl hover:bg-slate-50 transition-all disabled:opacity-50",children:"Cancel"}),a.jsx("button",{onClick:br,disabled:Le||!Fe.title.trim()||!Fe.assigneeId,className:"px-4 py-2 bg-indigo-600 text-white font-bold text-xs uppercase tracking-widest rounded-xl hover:bg-indigo-700 transition-all shadow-lg flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:Le?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(wi,{className:"w-4 h-4"}),"Save Changes"]})})]}):a.jsxs("button",{onClick:()=>he(!0),className:"px-4 py-2 bg-indigo-600 text-white font-bold text-xs uppercase tracking-widest rounded-xl hover:bg-indigo-700 transition-all shadow-lg flex items-center gap-2",children:[a.jsx(ec,{className:"w-4 h-4"}),"Edit Task"]})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-8 space-y-8 custom-scrollbar",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"p-6 bg-slate-50 rounded-[24px] border border-slate-100",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Assignee"}),ce?a.jsxs("select",{value:Fe.assigneeId,onChange:Be=>_e(kt=>({...kt,assigneeId:Be.target.value})),className:"w-full px-4 py-2 bg-white border-2 border-indigo-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100 mt-2",children:[a.jsx("option",{value:"",children:"Select Assignee"}),u.map(Be=>a.jsx("option",{value:Be.id,children:Be.name},Be.id))]}):a.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[a.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-xl flex items-center justify-center text-indigo-600 font-black text-sm",children:u.find(Be=>Be.id===ne.assigneeId)?.name?.charAt(0)||"U"}),a.jsx("p",{className:"text-sm font-bold text-slate-900",children:u.find(Be=>Be.id===ne.assigneeId)?.name||"Unassigned"})]})]}),a.jsxs("div",{className:"p-6 bg-slate-50 rounded-[24px] border border-slate-100",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Linked Project"}),ce?a.jsxs("select",{value:Fe.projectId,onChange:Be=>_e(kt=>({...kt,projectId:Be.target.value})),className:"w-full px-4 py-2 bg-white border-2 border-indigo-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100 mt-2",children:[a.jsx("option",{value:"",children:"None"}),l.filter(Be=>!Be.archived).map(Be=>a.jsx("option",{value:Be.id,children:Be.title},Be.id))]}):a.jsx("p",{className:"text-sm font-bold text-slate-900 mt-2",children:ne.projectId?l.find(Be=>Be.id===ne.projectId)?.title||"Unknown Project":"None"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Xa,{className:"w-4 h-4 text-indigo-500"})," Description"]}),ce?a.jsx("textarea",{rows:6,value:Fe.description,onChange:Be=>_e(kt=>({...kt,description:Be.target.value})),className:"w-full px-4 py-3 bg-white border-2 border-indigo-200 rounded-xl text-sm font-medium text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100 resize-none",placeholder:"Add task description..."}):a.jsxs("div",{className:"p-6 bg-slate-950 rounded-[32px] text-indigo-50 relative overflow-hidden shadow-2xl",children:[a.jsx("p",{className:"text-sm leading-relaxed italic opacity-90 z-10 relative",children:ne.description||"No description provided."}),a.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-indigo-500/10 blur-[100px] rounded-full translate-x-1/2 -translate-y-1/2"})]})]}),a.jsxs("div",{className:"p-6 bg-slate-50 rounded-[24px] border border-slate-100",children:[a.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1 flex items-center gap-1.5",children:[a.jsx(vs,{className:"w-3.5 h-3.5"})," Task Category"]}),ce?a.jsxs("div",{className:"space-y-2 mt-2",children:[a.jsxs("select",{value:Xn?"__new__":Fe.category||"",onChange:Be=>{const kt=Be.target.value;kt==="__new__"?(vn(!0),_e(yt=>({...yt,category:""}))):(vn(!1),_e(yt=>({...yt,category:kt})))},className:"w-full px-4 py-2 bg-white border-2 border-indigo-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100 appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%22%3E%3Cpath%20stroke%3D%226b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22m6%208%204%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:16px_16px] bg-[right_12px_center] bg-no-repeat",children:[a.jsx("option",{value:"",children:"None"}),Ln.map(Be=>a.jsx("option",{value:Be,children:Be},Be)),a.jsx("option",{value:"__new__",children:"+ Create new category..."})]}),Xn&&a.jsx("input",{type:"text",value:Fe.category,onChange:Be=>_e(kt=>({...kt,category:Be.target.value.trim()})),placeholder:"Enter new category name",className:"w-full px-4 py-2 bg-white border-2 border-indigo-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100"})]}):a.jsx("div",{className:"flex items-center gap-2 mt-2",children:ne.category?a.jsxs(a.Fragment,{children:[a.jsx(vs,{className:"w-4 h-4 text-indigo-600"}),a.jsx("p",{className:"text-sm font-bold text-indigo-700",children:ne.category})]}):a.jsx("p",{className:"text-sm text-slate-400",children:"No category"})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"p-6 bg-slate-50 rounded-[24px] border border-slate-100",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Due Date"}),ce?a.jsx("input",{type:"date",value:Fe.dueDate,onChange:Be=>_e(kt=>({...kt,dueDate:Be.target.value})),className:"w-full px-4 py-2 bg-white border-2 border-indigo-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100 mt-2"}):a.jsx("p",{className:"text-sm font-bold text-slate-900 mt-2",children:ne.dueDate?me(ne.dueDate):"Ongoing"})]}),a.jsxs("div",{className:"p-6 bg-slate-50 rounded-[24px] border border-slate-100",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Priority"}),ce?a.jsx("div",{className:"flex gap-2 mt-2",children:["Low","Medium","High"].map(Be=>a.jsx("button",{onClick:()=>_e(kt=>({...kt,priority:Be})),className:`flex-1 px-3 py-2 rounded-xl text-xs font-black uppercase transition-all ${Fe.priority===Be?"bg-indigo-600 text-white shadow-lg":"bg-white text-slate-400 border border-slate-200 hover:border-indigo-300"}`,children:Be},Be))}):a.jsx("div",{className:`inline-block px-3 py-1 rounded-full text-xs font-black uppercase mt-2 ${ne.priority==="High"?"bg-red-50 text-red-600":ne.priority==="Medium"?"bg-amber-50 text-amber-600":"bg-slate-50 text-slate-600"}`,children:ne.priority})]})]}),a.jsxs("div",{className:"p-6 bg-slate-50 rounded-[24px] border border-slate-100",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Status"}),ce?a.jsxs("select",{value:Fe.status,onChange:Be=>_e(kt=>({...kt,status:Be.target.value})),className:"w-full px-4 py-2 bg-white border-2 border-indigo-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100 mt-2",children:[a.jsx("option",{value:"Todo",children:"Todo"}),a.jsx("option",{value:"In Progress",children:"In Progress"}),a.jsx("option",{value:"Review",children:"Review"}),a.jsx("option",{value:"Done",children:"Done"})]}):a.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[ne.status==="Done"?a.jsx(Cn,{className:"w-5 h-5 text-emerald-500"}):ne.status==="In Progress"?a.jsx(ws,{className:"w-5 h-5 text-blue-500 animate-pulse"}):a.jsx(ad,{className:"w-5 h-5 text-slate-400"}),a.jsx("p",{className:"text-sm font-bold text-slate-900 capitalize",children:ne.status})]})]}),a.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-200",children:[a.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(oo,{className:"w-4 h-4 text-indigo-500"}),"Notes & Comments",ne.notes&&ne.notes.length>0&&a.jsx("span",{className:"ml-1 px-2 py-0.5 bg-indigo-100 text-indigo-600 rounded-full text-[10px]",children:ne.notes.length})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx("textarea",{ref:Wt,rows:3,value:at,onChange:Nn,onBlur:()=>{setTimeout(()=>zt(!1),200)},className:"w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-sm font-medium text-slate-900 outline-none focus:ring-2 focus:ring-indigo-200 focus:border-indigo-300 resize-none",placeholder:"Add a note or comment... (Use @ to mention users)"}),kr&&Lr.length>0&&a.jsx("div",{className:"absolute bottom-full mb-2 left-0 w-full max-w-sm bg-white border-2 border-indigo-200 rounded-xl shadow-2xl z-50 max-h-48 overflow-y-auto",children:a.jsxs("div",{className:"p-2",children:[a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 text-xs font-bold text-slate-400 uppercase tracking-wider",children:[a.jsx(Km,{className:"w-3 h-3"}),"Mention User"]}),Lr.map(Be=>a.jsxs("button",{onClick:()=>ds(Be),className:"w-full flex items-center gap-3 px-3 py-2 hover:bg-indigo-50 rounded-lg transition-all text-left",children:[a.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center text-indigo-600 font-bold text-xs",children:Be.name.charAt(0)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-bold text-slate-900 truncate",children:Be.name}),a.jsx("p",{className:"text-xs text-slate-400 truncate",children:Be.email})]})]},Be.id))]})})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("label",{className:"flex-1 cursor-pointer group",children:[a.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 bg-slate-50 border-2 border-dashed border-slate-200 rounded-xl hover:border-indigo-300 hover:bg-indigo-50/30 transition-all",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-indigo-100 flex items-center justify-center text-indigo-600 group-hover:bg-indigo-200 transition-all",children:ut?a.jsx(tl,{className:"w-4 h-4"}):a.jsx(Ou,{className:"w-4 h-4"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-xs font-bold text-slate-900",children:ut?rt?.name||"Image selected":"Attach Image"}),a.jsx("p",{className:"text-[10px] text-slate-400",children:"PNG, JPG (Max 10MB)"})]})]}),a.jsx("input",{ref:bt,type:"file",accept:"image/*",onChange:Qr,className:"hidden"})]}),a.jsx("button",{onClick:$n,disabled:er||!at.trim()&&!rt,className:"px-6 py-3 bg-indigo-600 text-white font-bold text-xs uppercase tracking-widest rounded-xl hover:bg-indigo-700 transition-all shadow-lg flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed shrink-0",children:er?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Sending..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Nu,{className:"w-4 h-4"}),"Send"]})})]}),ut&&a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:ut,alt:"Note attachment preview",className:"w-full max-h-48 object-contain rounded-lg border-2 border-slate-200"}),a.jsx("button",{onClick:()=>{ot(""),lr(null),bt.current&&(bt.current.value="")},className:"absolute top-2 right-2 p-1.5 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-all shadow-lg",children:a.jsx(mr,{className:"w-4 h-4"})})]})]}),a.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto custom-scrollbar",children:ne.notes&&ne.notes.length>0?[...ne.notes].reverse().map(Be=>{const kt=t?.role==="Admin"||Be.userId===t?.id;return a.jsxs("div",{className:"p-4 bg-white border border-slate-200 rounded-xl space-y-2",children:[a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center text-indigo-600 font-black text-xs",children:Be.userName?.charAt(0)||"U"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-bold text-slate-900",children:Be.userName}),a.jsx("p",{className:"text-[10px] text-slate-400",children:new Date(Be.createdAt).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})})]})]}),kt&&a.jsx("button",{onClick:()=>jt(Be.id),disabled:Ht===Be.id,className:"p-2 hover:bg-red-50 rounded-lg transition-colors group disabled:opacity-50",title:"Delete note",children:Ht===Be.id?a.jsx(Et,{className:"w-4 h-4 text-red-600 animate-spin"}):a.jsx($r,{className:"w-4 h-4 text-slate-400 group-hover:text-red-600 transition-colors"})})]}),Be.text&&a.jsx("p",{className:"text-sm text-slate-700 leading-relaxed pl-10",children:ss(Be.text)}),Be.imageUrl&&a.jsx("div",{className:"pl-10",children:a.jsx("img",{src:Be.imageUrl,alt:Be.imageName||"Note attachment",className:"max-w-full max-h-64 object-contain rounded-lg border border-slate-200 cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>{const yt=window.open();yt&&yt.document.write(`<img src="${Be.imageUrl}" style="max-width:100%;height:auto;" />`)}})})]},Be.id)}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(oo,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),a.jsx("p",{className:"text-sm text-slate-400 font-medium",children:"No notes yet"}),a.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Add your first note above"})]})})]}),a.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-200",children:[a.jsxs("button",{onClick:()=>Tn(!Gr),className:"w-full flex items-center justify-between group",children:[a.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2 group-hover:text-indigo-600 transition-colors",children:[a.jsx(qd,{className:"w-4 h-4 text-indigo-500"}),"Activity Log"]}),a.jsx(bs,{className:`w-4 h-4 text-slate-400 transition-transform ${Gr?"rotate-90":""}`})]}),Gr&&a.jsxs("div",{className:"space-y-2 pl-6 border-l-2 border-indigo-100",children:[a.jsxs("div",{className:"flex items-start gap-3 pb-3",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-400 mt-1.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-xs font-bold text-slate-900",children:"Task created"}),a.jsx("p",{className:"text-[10px] text-slate-400 mt-0.5",children:ne.createdAt?new Date(ne.createdAt).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):"Unknown"})]})]}),ne.updatedAt&&ne.updatedAt!==ne.createdAt&&a.jsxs("div",{className:"flex items-start gap-3 pb-3",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-1.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-xs font-bold text-slate-900",children:"Task updated"}),a.jsx("p",{className:"text-[10px] text-slate-400 mt-0.5",children:new Date(ne.updatedAt).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})})]})]}),ne.notes&&ne.notes.map((Be,kt)=>a.jsxs("div",{className:"flex items-start gap-3 pb-3",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-400 mt-1.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"text-xs font-bold text-slate-900",children:[Be.userName," added a comment"]}),a.jsx("p",{className:"text-[10px] text-slate-400 mt-0.5",children:new Date(Be.createdAt).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})})]})]},Be.id)),(!ne.notes||ne.notes.length===0)&&(!ne.updatedAt||ne.updatedAt===ne.createdAt)&&a.jsx("p",{className:"text-xs text-slate-400 italic",children:"No recent activity"})]})]})]})}),a.jsxs("div",{className:"p-8 border-t border-slate-100 bg-white flex gap-4",children:[a.jsx("button",{onClick:()=>{G(ne),jn()},className:"px-6 py-4 border border-red-200 bg-white text-red-600 hover:bg-red-50 rounded-[24px] transition-all group shrink-0 active:scale-95",children:a.jsx($r,{className:"w-6 h-6 group-hover:scale-110 transition-transform"})}),a.jsxs("button",{onClick:jn,className:"flex-1 py-4 bg-slate-900 text-white font-black uppercase text-xs tracking-[0.2em] rounded-[24px] hover:bg-indigo-700 active:scale-95 transition-all shadow-2xl flex items-center justify-center gap-3",children:[a.jsx(Cn,{className:"w-5 h-5"})," Close"]})]})]})]}),qe&&a.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 flex items-center justify-center text-red-600 mx-auto",children:a.jsx(pa,{className:"w-6 h-6"})}),a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"text-lg font-black text-slate-900 mb-2",children:"Delete Note?"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Are you sure you want to delete this note? This action cannot be undone."})]})]}),a.jsxs("div",{className:"flex gap-3 p-6 bg-slate-50 border-t border-slate-200",children:[a.jsx("button",{onClick:()=>jt(null),disabled:Ht===qe,className:"flex-1 px-4 py-2 bg-white border-2 border-slate-200 text-slate-700 font-bold text-sm rounded-xl hover:bg-slate-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),a.jsx("button",{onClick:fs,disabled:Ht===qe,className:"flex-1 px-4 py-2 bg-red-600 text-white font-bold text-sm rounded-xl hover:bg-red-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:Ht===qe?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):a.jsxs(a.Fragment,{children:[a.jsx($r,{className:"w-4 h-4"}),"Delete"]})})]})]})})]})};function Pa(e){"@babel/helpers - typeof";return Pa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pa(e)}var Mo=Uint8Array,Zl=Uint16Array,wS=Int32Array,rb=new Mo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),nb=new Mo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ok=new Mo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ZR=function(e,t){for(var r=new Zl(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var s=new wS(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)s[i]=i-r[n]<<5|n;return{b:r,r:s}},e9=ZR(rb,2),t9=e9.b,lk=e9.r;t9[28]=258,lk[258]=28;var r9=ZR(nb,0),$xe=r9.b,x8=r9.r,ck=new Zl(32768);for(var rs=0;rs<32768;++rs){var Ef=(rs&43690)>>1|(rs&21845)<<1;Ef=(Ef&52428)>>2|(Ef&13107)<<2,Ef=(Ef&61680)>>4|(Ef&3855)<<4,ck[rs]=((Ef&65280)>>8|(Ef&255)<<8)>>1}var ld=(function(e,t,r){for(var n=e.length,s=0,i=new Zl(t);s<n;++s)e[s]&&++i[e[s]-1];var o=new Zl(t);for(s=1;s<t;++s)o[s]=o[s-1]+i[s-1]<<1;var l;if(r){l=new Zl(1<<t);var c=15-t;for(s=0;s<n;++s)if(e[s])for(var u=s<<4|e[s],d=t-e[s],h=o[e[s]-1]++<<d,m=h|(1<<d)-1;h<=m;++h)l[ck[h]>>c]=u}else for(l=new Zl(n),s=0;s<n;++s)e[s]&&(l[s]=ck[o[e[s]-1]++]>>15-e[s]);return l}),Jf=new Mo(288);for(var rs=0;rs<144;++rs)Jf[rs]=8;for(var rs=144;rs<256;++rs)Jf[rs]=9;for(var rs=256;rs<280;++rs)Jf[rs]=7;for(var rs=280;rs<288;++rs)Jf[rs]=8;var Kx=new Mo(32);for(var rs=0;rs<32;++rs)Kx[rs]=5;var zxe=ld(Jf,9,0),Hxe=ld(Jf,9,1),Wxe=ld(Kx,5,0),Vxe=ld(Kx,5,1),ij=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},xu=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},oj=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},NS=function(e){return(e+7)/8|0},n9=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Mo(e.subarray(t,r))},Gxe=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],bu=function(e,t,r){var n=new Error(t||Gxe[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,bu),!r)throw n;return n},Kxe=function(e,t,r,n){var s=e.length,i=0;if(!s||t.f&&!t.l)return r||new Mo(0);var o=!r,l=o||t.i!=2,c=t.i;o&&(r=new Mo(s*3));var u=function(Le){var se=r.length;if(Le>se){var Fe=new Mo(Math.max(se*2,Le));Fe.set(r),r=Fe}},d=t.f||0,h=t.p||0,m=t.b||0,p=t.l,y=t.d,v=t.m,g=t.n,b=s*8;do{if(!p){d=xu(e,h,1);var w=xu(e,h+1,3);if(h+=3,w)if(w==1)p=Hxe,y=Vxe,v=9,g=5;else if(w==2){var P=xu(e,h,31)+257,A=xu(e,h+10,15)+4,O=P+xu(e,h+5,31)+1;h+=14;for(var D=new Mo(O),R=new Mo(19),C=0;C<A;++C)R[ok[C]]=xu(e,h+C*3,7);h+=A*3;for(var T=ij(R),I=(1<<T)-1,B=ld(R,T,1),C=0;C<O;){var X=B[xu(e,h,I)];h+=X&15;var j=X>>4;if(j<16)D[C++]=j;else{var re=0,Z=0;for(j==16?(Z=3+xu(e,h,3),h+=2,re=D[C-1]):j==17?(Z=3+xu(e,h,7),h+=3):j==18&&(Z=11+xu(e,h,127),h+=7);Z--;)D[C++]=re}}var te=D.subarray(0,P),Y=D.subarray(P);v=ij(te),g=ij(Y),p=ld(te,v,1),y=ld(Y,g,1)}else bu(1);else{var j=NS(h)+4,N=e[j-4]|e[j-3]<<8,k=j+N;if(k>s){c&&bu(0);break}l&&u(m+N),r.set(e.subarray(j,k),m),t.b=m+=N,t.p=h=k*8,t.f=d;continue}if(h>b){c&&bu(0);break}}l&&u(m+131072);for(var Q=(1<<v)-1,H=(1<<g)-1,E=h;;E=h){var re=p[oj(e,h)&Q],q=re>>4;if(h+=re&15,h>b){c&&bu(0);break}if(re||bu(2),q<256)r[m++]=q;else if(q==256){E=h,p=null;break}else{var V=q-254;if(q>264){var C=q-257,U=rb[C];V=xu(e,h,(1<<U)-1)+t9[C],h+=U}var G=y[oj(e,h)&H],ne=G>>4;G||bu(3),h+=G&15;var Y=$xe[ne];if(ne>3){var U=nb[ne];Y+=oj(e,h)&(1<<U)-1,h+=U}if(h>b){c&&bu(0);break}l&&u(m+131072);var de=m+V;if(m<Y){var ce=i-Y,he=Math.min(Y,de);for(ce+m<0&&bu(3);m<he;++m)r[m]=n[ce+m]}for(;m<de;++m)r[m]=r[m-Y]}}t.l=p,t.p=E,t.b=m,t.f=d,p&&(d=1,t.m=v,t.d=y,t.n=g)}while(!d);return m!=r.length&&o?n9(r,0,m):r.subarray(0,m)},Pd=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},vm=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},lj=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var s=r.length,i=r.slice();if(!s)return{t:s9,l:0};if(s==1){var o=new Mo(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(k,P){return k.f-P.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,d=1,h=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};d!=s-1;)l=r[r[u].f<r[h].f?u++:h++],c=r[u!=d&&r[u].f<r[h].f?u++:h++],r[d++]={s:-1,f:l.f+c.f,l,r:c};for(var m=i[0].s,n=1;n<s;++n)i[n].s>m&&(m=i[n].s);var p=new Zl(m+1),y=uk(r[d-1],p,0);if(y>t){var n=0,v=0,g=y-t,b=1<<g;for(i.sort(function(P,A){return p[A.s]-p[P.s]||P.f-A.f});n<s;++n){var w=i[n].s;if(p[w]>t)v+=b-(1<<y-p[w]),p[w]=t;else break}for(v>>=g;v>0;){var j=i[n].s;p[j]<t?v-=1<<t-p[j]++-1:++n}for(;n>=0&&v;--n){var N=i[n].s;p[N]==t&&(--p[N],++v)}y=t}return{t:new Mo(p),l:y}},uk=function(e,t,r){return e.s==-1?Math.max(uk(e.l,t,r+1),uk(e.r,t,r+1)):t[e.s]=r},g8=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Zl(++t),n=0,s=e[0],i=1,o=function(c){r[n++]=c},l=1;l<=t;++l)if(e[l]==s&&l!=t)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=e[l]}return{c:r.subarray(0,n),n:t}},ym=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},a9=function(e,t,r){var n=r.length,s=NS(t+2);e[s]=n&255,e[s+1]=n>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var i=0;i<n;++i)e[s+i+4]=r[i];return(s+4+n)*8},v8=function(e,t,r,n,s,i,o,l,c,u,d){Pd(t,d++,r),++s[256];for(var h=lj(s,15),m=h.t,p=h.l,y=lj(i,15),v=y.t,g=y.l,b=g8(m),w=b.c,j=b.n,N=g8(v),k=N.c,P=N.n,A=new Zl(19),O=0;O<w.length;++O)++A[w[O]&31];for(var O=0;O<k.length;++O)++A[k[O]&31];for(var D=lj(A,7),R=D.t,C=D.l,T=19;T>4&&!R[ok[T-1]];--T);var I=u+5<<3,B=ym(s,Jf)+ym(i,Kx)+o,X=ym(s,m)+ym(i,v)+o+14+3*T+ym(A,R)+2*A[16]+3*A[17]+7*A[18];if(c>=0&&I<=B&&I<=X)return a9(t,d,e.subarray(c,c+u));var re,Z,te,Y;if(Pd(t,d,1+(X<B)),d+=2,X<B){re=ld(m,p,0),Z=m,te=ld(v,g,0),Y=v;var Q=ld(R,C,0);Pd(t,d,j-257),Pd(t,d+5,P-1),Pd(t,d+10,T-4),d+=14;for(var O=0;O<T;++O)Pd(t,d+3*O,R[ok[O]]);d+=3*T;for(var H=[w,k],E=0;E<2;++E)for(var q=H[E],O=0;O<q.length;++O){var V=q[O]&31;Pd(t,d,Q[V]),d+=R[V],V>15&&(Pd(t,d,q[O]>>5&127),d+=q[O]>>12)}}else re=zxe,Z=Jf,te=Wxe,Y=Kx;for(var O=0;O<l;++O){var U=n[O];if(U>255){var V=U>>18&31;vm(t,d,re[V+257]),d+=Z[V+257],V>7&&(Pd(t,d,U>>23&31),d+=rb[V]);var G=U&31;vm(t,d,te[G]),d+=Y[G],G>3&&(vm(t,d,U>>5&8191),d+=nb[G])}else vm(t,d,re[U]),d+=Z[U]}return vm(t,d,re[256]),d+Z[256]},Xxe=new wS([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),s9=new Mo(0),Yxe=function(e,t,r,n,s,i){var o=i.z||e.length,l=new Mo(n+o+5*(1+Math.ceil(o/7e3))+s),c=l.subarray(n,l.length-s),u=i.l,d=(i.r||0)&7;if(t){d&&(c[0]=i.r>>3);for(var h=Xxe[t-1],m=h>>13,p=h&8191,y=(1<<r)-1,v=i.p||new Zl(32768),g=i.h||new Zl(y+1),b=Math.ceil(r/3),w=2*b,j=function(_e){return(e[_e]^e[_e+1]<<b^e[_e+2]<<w)&y},N=new wS(25e3),k=new Zl(288),P=new Zl(32),A=0,O=0,D=i.i||0,R=0,C=i.w||0,T=0;D+2<o;++D){var I=j(D),B=D&32767,X=g[I];if(v[B]=X,g[I]=B,C<=D){var re=o-D;if((A>7e3||R>24576)&&(re>423||!u)){d=v8(e,c,0,N,k,P,O,R,T,D-T,d),R=A=O=0,T=D;for(var Z=0;Z<286;++Z)k[Z]=0;for(var Z=0;Z<30;++Z)P[Z]=0}var te=2,Y=0,Q=p,H=B-X&32767;if(re>2&&I==j(D-H))for(var E=Math.min(m,re)-1,q=Math.min(32767,D),V=Math.min(258,re);H<=q&&--Q&&B!=X;){if(e[D+te]==e[D+te-H]){for(var U=0;U<V&&e[D+U]==e[D+U-H];++U);if(U>te){if(te=U,Y=H,U>E)break;for(var G=Math.min(H,U-2),ne=0,Z=0;Z<G;++Z){var de=D-H+Z&32767,ce=v[de],he=de-ce&32767;he>ne&&(ne=he,X=de)}}}B=X,X=v[B],H+=B-X&32767}if(Y){N[R++]=268435456|lk[te]<<18|x8[Y];var Le=lk[te]&31,se=x8[Y]&31;O+=rb[Le]+nb[se],++k[257+Le],++P[se],C=D+te,++A}else N[R++]=e[D],++k[e[D]]}}for(D=Math.max(D,C);D<o;++D)N[R++]=e[D],++k[e[D]];d=v8(e,c,u,N,k,P,O,R,T,D-T,d),u||(i.r=d&7|c[d/8|0]<<3,d-=7,i.h=g,i.p=v,i.i=D,i.w=C)}else{for(var D=i.w||0;D<o+u;D+=65535){var Fe=D+65535;Fe>=o&&(c[d/8|0]=u,Fe=o),d=a9(c,d+1,e.subarray(D,Fe))}i.i=o}return n9(l,0,n+NS(d)+s)},i9=function(){var e=1,t=0;return{p:function(r){for(var n=e,s=t,i=r.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)s+=n+=r[o];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}e=n,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},Jxe=function(e,t,r,n,s){if(!s&&(s={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new Mo(i.length+e.length);o.set(i),o.set(e,i.length),e=o,s.w=i.length}return Yxe(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,s)},o9=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},Qxe=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=i9();s.p(t.dictionary),o9(e,2,s.d())}},Zxe=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&bu(6,"invalid zlib data"),(e[1]>>5&1)==1&&bu(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function dk(e,t){t||(t={});var r=i9();r.p(e);var n=Jxe(e,t,t.dictionary?6:2,4);return Qxe(n,t),o9(n,n.length-4,r.d()),n}function ege(e,t){return Kxe(e.subarray(Zxe(e),-4),{i:2},t,t)}var tge=typeof TextDecoder<"u"&&new TextDecoder,rge=0;try{tge.decode(s9,{stream:!0}),rge=1}catch{}var ln=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function cj(){ln.console&&typeof ln.console.log=="function"&&ln.console.log.apply(ln.console,arguments)}var za={log:cj,warn:function(e){ln.console&&(typeof ln.console.warn=="function"?ln.console.warn.apply(ln.console,arguments):cj.call(null,arguments))},error:function(e){ln.console&&(typeof ln.console.error=="function"?ln.console.error.apply(ln.console,arguments):cj(e))}};function uj(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){S0(n.response,t,r)},n.onerror=function(){za.error("could not download file")},n.send()}function y8(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function bv(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Gm,fk,S0=ln.saveAs||((typeof window>"u"?"undefined":Pa(window))!=="object"||window!==ln?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=ln.URL||ln.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?y8(s.href)?uj(e,t,r):bv(s,s.target="_blank"):bv(s)):(s.href=n.createObjectURL(e),setTimeout((function(){n.revokeObjectURL(s.href)}),4e4),setTimeout((function(){bv(s)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(y8(e))uj(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout((function(){bv(n)}))}else navigator.msSaveOrOpenBlob((function(s,i){return i===void 0?i={autoBom:!1}:Pa(i)!=="object"&&(za.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return uj(e,t,r);var s=e.type==="application/octet-stream",i=/constructor/i.test(ln.HTMLElement)||ln.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&i)&&(typeof FileReader>"u"?"undefined":Pa(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},l.readAsDataURL(e)}else{var c=ln.URL||ln.webkitURL,u=c.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout((function(){c.revokeObjectURL(u)}),4e4)}});function l9(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,i=r[n].process,o=s.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}function dj(e,t){var r=e[0],n=e[1],s=e[2],i=e[3];r=_o(r,n,s,i,t[0],7,-680876936),i=_o(i,r,n,s,t[1],12,-389564586),s=_o(s,i,r,n,t[2],17,606105819),n=_o(n,s,i,r,t[3],22,-1044525330),r=_o(r,n,s,i,t[4],7,-176418897),i=_o(i,r,n,s,t[5],12,1200080426),s=_o(s,i,r,n,t[6],17,-1473231341),n=_o(n,s,i,r,t[7],22,-45705983),r=_o(r,n,s,i,t[8],7,1770035416),i=_o(i,r,n,s,t[9],12,-1958414417),s=_o(s,i,r,n,t[10],17,-42063),n=_o(n,s,i,r,t[11],22,-1990404162),r=_o(r,n,s,i,t[12],7,1804603682),i=_o(i,r,n,s,t[13],12,-40341101),s=_o(s,i,r,n,t[14],17,-1502002290),r=Ao(r,n=_o(n,s,i,r,t[15],22,1236535329),s,i,t[1],5,-165796510),i=Ao(i,r,n,s,t[6],9,-1069501632),s=Ao(s,i,r,n,t[11],14,643717713),n=Ao(n,s,i,r,t[0],20,-373897302),r=Ao(r,n,s,i,t[5],5,-701558691),i=Ao(i,r,n,s,t[10],9,38016083),s=Ao(s,i,r,n,t[15],14,-660478335),n=Ao(n,s,i,r,t[4],20,-405537848),r=Ao(r,n,s,i,t[9],5,568446438),i=Ao(i,r,n,s,t[14],9,-1019803690),s=Ao(s,i,r,n,t[3],14,-187363961),n=Ao(n,s,i,r,t[8],20,1163531501),r=Ao(r,n,s,i,t[13],5,-1444681467),i=Ao(i,r,n,s,t[2],9,-51403784),s=Ao(s,i,r,n,t[7],14,1735328473),r=Eo(r,n=Ao(n,s,i,r,t[12],20,-1926607734),s,i,t[5],4,-378558),i=Eo(i,r,n,s,t[8],11,-2022574463),s=Eo(s,i,r,n,t[11],16,1839030562),n=Eo(n,s,i,r,t[14],23,-35309556),r=Eo(r,n,s,i,t[1],4,-1530992060),i=Eo(i,r,n,s,t[4],11,1272893353),s=Eo(s,i,r,n,t[7],16,-155497632),n=Eo(n,s,i,r,t[10],23,-1094730640),r=Eo(r,n,s,i,t[13],4,681279174),i=Eo(i,r,n,s,t[0],11,-358537222),s=Eo(s,i,r,n,t[3],16,-722521979),n=Eo(n,s,i,r,t[6],23,76029189),r=Eo(r,n,s,i,t[9],4,-640364487),i=Eo(i,r,n,s,t[12],11,-421815835),s=Eo(s,i,r,n,t[15],16,530742520),r=Co(r,n=Eo(n,s,i,r,t[2],23,-995338651),s,i,t[0],6,-198630844),i=Co(i,r,n,s,t[7],10,1126891415),s=Co(s,i,r,n,t[14],15,-1416354905),n=Co(n,s,i,r,t[5],21,-57434055),r=Co(r,n,s,i,t[12],6,1700485571),i=Co(i,r,n,s,t[3],10,-1894986606),s=Co(s,i,r,n,t[10],15,-1051523),n=Co(n,s,i,r,t[1],21,-2054922799),r=Co(r,n,s,i,t[8],6,1873313359),i=Co(i,r,n,s,t[15],10,-30611744),s=Co(s,i,r,n,t[6],15,-1560198380),n=Co(n,s,i,r,t[13],21,1309151649),r=Co(r,n,s,i,t[4],6,-145523070),i=Co(i,r,n,s,t[11],10,-1120210379),s=Co(s,i,r,n,t[2],15,718787259),n=Co(n,s,i,r,t[9],21,-343485551),e[0]=Bf(r,e[0]),e[1]=Bf(n,e[1]),e[2]=Bf(s,e[2]),e[3]=Bf(i,e[3])}function ab(e,t,r,n,s,i){return t=Bf(Bf(t,e),Bf(n,i)),Bf(t<<s|t>>>32-s,r)}function _o(e,t,r,n,s,i,o){return ab(t&r|~t&n,e,t,s,i,o)}function Ao(e,t,r,n,s,i,o){return ab(t&n|r&~n,e,t,s,i,o)}function Eo(e,t,r,n,s,i,o){return ab(t^r^n,e,t,s,i,o)}function Co(e,t,r,n,s,i,o){return ab(r^(t|~n),e,t,s,i,o)}function c9(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)dj(n,nge(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(dj(n,s),t=0;t<16;t++)s[t]=0;return s[14]=8*r,dj(n,s),n}function nge(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}Gm=ln.atob.bind(ln),fk=ln.btoa.bind(ln);var b8="0123456789abcdef".split("");function age(e){for(var t="",r=0;r<4;r++)t+=b8[e>>8*r+4&15]+b8[e>>8*r&15];return t}function sge(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function hk(e){return c9(e).map(sge).join("")}var ige=(function(e){for(var t=0;t<e.length;t++)e[t]=age(e[t]);return e.join("")})(c9("hello"))!="5d41402abc4b2a76b9719d911017c592";function Bf(e,t){if(ige){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}function pk(e,t){var r,n,s,i;if(e!==r){for(var o=(s=e,i=1+(256/e.length>>0),new Array(i+1).join(s)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+o.charCodeAt(c))%256,l[c]=l[u],l[u]=d}r=e,n=l}else l=n;var h=t.length,m=0,p=0,y="";for(c=0;c<h;c++)p=(p+(d=l[m=(m+1)%256]))%256,l[m]=l[p],l[p]=d,o=l[(l[m]+l[p])%256],y+=String.fromCharCode(t.charCodeAt(c)^o);return y}var w8={print:4,modify:8,copy:16,"annot-forms":32};function Uh(e,t,r,n){this.v=1,this.r=2;var s=192;e.forEach((function(l){if(w8.perm!==void 0)throw new Error("Invalid permission: "+l);s+=w8[l]})),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^s)),this.encryptionKey=hk(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=pk(this.encryptionKey,this.padding)}function qh(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var s=e.charCodeAt(n);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?t+="#"+("0"+s.toString(16)).slice(-2):t+=e[n]}return t}function N8(e){if(Pa(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,s){if(s=s||!1,typeof r!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!s],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var i in t[r]){var o=t[r][i];try{o[0].apply(e,n)}catch(l){ln.console&&za.error("jsPDF PubSub Error",l.message,l)}o[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function oy(e){if(!(this instanceof oy))return new oy(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function u9(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function A0(e,t,r,n,s){if(!(this instanceof A0))return new A0(e,t,r,n,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,u9.call(this,n,s)}function Vh(e,t,r,n,s){if(!(this instanceof Vh))return new Vh(e,t,r,n,s);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,u9.call(this,n,s)}function on(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],i=arguments[3],o=[],l=1,c=16,u="S",d=null;Pa(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,s=e.format||s,i=e.compress||e.compressPdf||i,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,m={},p={internal:{},__private__:{}};p.__private__.PubSub=N8;var y="1.3",v=p.__private__.getPdfVersion=function(){return y};p.__private__.setPdfVersion=function(W){y=W};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return g};var b=p.__private__.getPageFormat=function(W){return g[W]};s=s||"a4";var w={COMPAT:"compat",ADVANCED:"advanced"},j=w.COMPAT;function N(){this.saveGraphicsState(),ae(new vr(rt,0,0,-rt,0,Pl()*rt).toString()+" cm"),this.setFontSize(this.getFontSize()/rt),u="n",j=w.ADVANCED}function k(){this.restoreGraphicsState(),u="S",j=w.COMPAT}var P=p.__private__.combineFontStyleAndFontWeight=function(W,ve){if(W=="bold"&&ve=="normal"||W=="bold"&&ve==400||W=="normal"&&ve=="italic"||W=="bold"&&ve=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ve&&(W=ve==400||ve==="normal"?W==="italic"?"italic":"normal":ve!=700&&ve!=="bold"||W!=="normal"?(ve==700?"bold":ve)+""+W:"bold"),W};p.advancedAPI=function(W){var ve=j===w.COMPAT;return ve&&N.call(this),typeof W!="function"||(W(this),ve&&k.call(this)),this},p.compatAPI=function(W){var ve=j===w.ADVANCED;return ve&&k.call(this),typeof W!="function"||(W(this),ve&&N.call(this)),this},p.isAdvancedAPI=function(){return j===w.ADVANCED};var A,O=function(W){if(j!==w.ADVANCED)throw new Error(W+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},D=p.roundToPrecision=p.__private__.roundToPrecision=function(W,ve){var $e=t||ve;if(isNaN(W)||isNaN($e))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return W.toFixed($e).replace(/0+$/,"")};A=p.hpf=p.__private__.hpf=typeof c=="number"?function(W){if(isNaN(W))throw new Error("Invalid argument passed to jsPDF.hpf");return D(W,c)}:c==="smart"?function(W){if(isNaN(W))throw new Error("Invalid argument passed to jsPDF.hpf");return D(W,W>-1&&W<1?16:5)}:function(W){if(isNaN(W))throw new Error("Invalid argument passed to jsPDF.hpf");return D(W,16)};var R=p.f2=p.__private__.f2=function(W){if(isNaN(W))throw new Error("Invalid argument passed to jsPDF.f2");return D(W,2)},C=p.__private__.f3=function(W){if(isNaN(W))throw new Error("Invalid argument passed to jsPDF.f3");return D(W,3)},T=p.scale=p.__private__.scale=function(W){if(isNaN(W))throw new Error("Invalid argument passed to jsPDF.scale");return j===w.COMPAT?W*rt:j===w.ADVANCED?W:void 0},I=function(W){return j===w.COMPAT?Pl()-W:j===w.ADVANCED?W:void 0},B=function(W){return T(I(W))};p.__private__.setPrecision=p.setPrecision=function(W){typeof parseInt(W,10)=="number"&&(t=parseInt(W,10))};var X,re="00000000000000000000000000000000",Z=p.__private__.getFileId=function(){return re},te=p.__private__.setFileId=function(W){return re=W!==void 0&&/^[a-fA-F0-9]{32}$/.test(W)?W.toUpperCase():re.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),d!==null&&(Or=new Uh(d.userPermissions,d.userPassword,d.ownerPassword,re)),re};p.setFileId=function(W){return te(W),this},p.getFileId=function(){return Z()};var Y=p.__private__.convertDateToPDFDate=function(W){var ve=W.getTimezoneOffset(),$e=ve<0?"+":"-",Ze=Math.floor(Math.abs(ve/60)),pt=Math.abs(ve%60),It=[$e,V(Ze),"'",V(pt),"'"].join("");return["D:",W.getFullYear(),V(W.getMonth()+1),V(W.getDate()),V(W.getHours()),V(W.getMinutes()),V(W.getSeconds()),It].join("")},Q=p.__private__.convertPDFDateToDate=function(W){var ve=parseInt(W.substr(2,4),10),$e=parseInt(W.substr(6,2),10)-1,Ze=parseInt(W.substr(8,2),10),pt=parseInt(W.substr(10,2),10),It=parseInt(W.substr(12,2),10),Gt=parseInt(W.substr(14,2),10);return new Date(ve,$e,Ze,pt,It,Gt,0)},H=p.__private__.setCreationDate=function(W){var ve;if(W===void 0&&(W=new Date),W instanceof Date)ve=Y(W);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(W))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ve=W}return X=ve},E=p.__private__.getCreationDate=function(W){var ve=X;return W==="jsDate"&&(ve=Q(X)),ve};p.setCreationDate=function(W){return H(W),this},p.getCreationDate=function(W){return E(W)};var q,V=p.__private__.padd2=function(W){return("0"+parseInt(W)).slice(-2)},U=p.__private__.padd2Hex=function(W){return("00"+(W=W.toString())).substr(W.length)},G=0,ne=[],de=[],ce=0,he=[],Le=[],se=!1,Fe=de,_e=function(){G=0,ce=0,de=[],ne=[],he=[],ge=Wt(),Se=Wt()};p.__private__.setCustomOutputDestination=function(W){se=!0,Fe=W};var oe=function(W){se||(Fe=W)};p.__private__.resetCustomOutputDestination=function(){se=!1,Fe=de};var ae=p.__private__.out=function(W){return W=W.toString(),ce+=W.length+1,Fe.push(W),Fe},ke=p.__private__.write=function(W){return ae(arguments.length===1?W.toString():Array.prototype.join.call(arguments," "))},we=p.__private__.getArrayBuffer=function(W){for(var ve=W.length,$e=new ArrayBuffer(ve),Ze=new Uint8Array($e);ve--;)Ze[ve]=W.charCodeAt(ve);return $e},Pe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Pe};var pe=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(W){return pe=j===w.ADVANCED?W/rt:W,this};var fe,De=p.__private__.getFontSize=p.getFontSize=function(){return j===w.COMPAT?pe:pe*rt},Xe=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(W){return Xe=W,this},p.__private__.getR2L=p.getR2L=function(){return Xe};var Je,ht=p.__private__.setZoomMode=function(W){var ve=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(W))fe=W;else if(isNaN(W)){if(ve.indexOf(W)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+W+'" is not recognized.');fe=W}else fe=parseInt(W,10)};p.__private__.getZoomMode=function(){return fe};var Ue,at=p.__private__.setPageMode=function(W){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(W)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+W+'" is not recognized.');Je=W};p.__private__.getPageMode=function(){return Je};var Me=p.__private__.setLayoutMode=function(W){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(W)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+W+'" is not recognized.');Ue=W};p.__private__.getLayoutMode=function(){return Ue},p.__private__.setDisplayMode=p.setDisplayMode=function(W,ve,$e){return ht(W),Me(ve),at($e),this};var ut={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(W){if(Object.keys(ut).indexOf(W)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ut[W]},p.__private__.getDocumentProperties=function(){return ut},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(W){for(var ve in ut)ut.hasOwnProperty(ve)&&W[ve]&&(ut[ve]=W[ve]);return this},p.__private__.setDocumentProperty=function(W,ve){if(Object.keys(ut).indexOf(W)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ut[W]=ve};var ot,rt,lr,er,xt,Ht={},Ut={},qe=[],jt={},kr={},zt={},_r={},Tr=null,pr=0,Jt=[],Lr=new N8(p),Ar=e.hotfixes||[],Gr={},Tn={},Ln=[],vr=function W(ve,$e,Ze,pt,It,Gt){if(!(this instanceof W))return new W(ve,$e,Ze,pt,It,Gt);isNaN(ve)&&(ve=1),isNaN($e)&&($e=0),isNaN(Ze)&&(Ze=0),isNaN(pt)&&(pt=1),isNaN(It)&&(It=0),isNaN(Gt)&&(Gt=0),this._matrix=[ve,$e,Ze,pt,It,Gt]};Object.defineProperty(vr.prototype,"sx",{get:function(){return this._matrix[0]},set:function(W){this._matrix[0]=W}}),Object.defineProperty(vr.prototype,"shy",{get:function(){return this._matrix[1]},set:function(W){this._matrix[1]=W}}),Object.defineProperty(vr.prototype,"shx",{get:function(){return this._matrix[2]},set:function(W){this._matrix[2]=W}}),Object.defineProperty(vr.prototype,"sy",{get:function(){return this._matrix[3]},set:function(W){this._matrix[3]=W}}),Object.defineProperty(vr.prototype,"tx",{get:function(){return this._matrix[4]},set:function(W){this._matrix[4]=W}}),Object.defineProperty(vr.prototype,"ty",{get:function(){return this._matrix[5]},set:function(W){this._matrix[5]=W}}),Object.defineProperty(vr.prototype,"a",{get:function(){return this._matrix[0]},set:function(W){this._matrix[0]=W}}),Object.defineProperty(vr.prototype,"b",{get:function(){return this._matrix[1]},set:function(W){this._matrix[1]=W}}),Object.defineProperty(vr.prototype,"c",{get:function(){return this._matrix[2]},set:function(W){this._matrix[2]=W}}),Object.defineProperty(vr.prototype,"d",{get:function(){return this._matrix[3]},set:function(W){this._matrix[3]=W}}),Object.defineProperty(vr.prototype,"e",{get:function(){return this._matrix[4]},set:function(W){this._matrix[4]=W}}),Object.defineProperty(vr.prototype,"f",{get:function(){return this._matrix[5]},set:function(W){this._matrix[5]=W}}),Object.defineProperty(vr.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(vr.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(vr.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(vr.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),vr.prototype.join=function(W){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(A).join(W)},vr.prototype.multiply=function(W){var ve=W.sx*this.sx+W.shy*this.shx,$e=W.sx*this.shy+W.shy*this.sy,Ze=W.shx*this.sx+W.sy*this.shx,pt=W.shx*this.shy+W.sy*this.sy,It=W.tx*this.sx+W.ty*this.shx+this.tx,Gt=W.tx*this.shy+W.ty*this.sy+this.ty;return new vr(ve,$e,Ze,pt,It,Gt)},vr.prototype.decompose=function(){var W=this.sx,ve=this.shy,$e=this.shx,Ze=this.sy,pt=this.tx,It=this.ty,Gt=Math.sqrt(W*W+ve*ve),yr=(W/=Gt)*$e+(ve/=Gt)*Ze;$e-=W*yr,Ze-=ve*yr;var Br=Math.sqrt($e*$e+Ze*Ze);return yr/=Br,W*(Ze/=Br)<ve*($e/=Br)&&(W=-W,ve=-ve,yr=-yr,Gt=-Gt),{scale:new vr(Gt,0,0,Br,0,0),translate:new vr(1,0,0,1,pt,It),rotate:new vr(W,ve,-ve,W,0,0),skew:new vr(1,0,yr,1,0,0)}},vr.prototype.toString=function(W){return this.join(" ")},vr.prototype.inversed=function(){var W=this.sx,ve=this.shy,$e=this.shx,Ze=this.sy,pt=this.tx,It=this.ty,Gt=1/(W*Ze-ve*$e),yr=Ze*Gt,Br=-ve*Gt,rn=-$e*Gt,sn=W*Gt;return new vr(yr,Br,rn,sn,-yr*pt-rn*It,-Br*pt-sn*It)},vr.prototype.applyToPoint=function(W){var ve=W.x*this.sx+W.y*this.shx+this.tx,$e=W.x*this.shy+W.y*this.sy+this.ty;return new _i(ve,$e)},vr.prototype.applyToRectangle=function(W){var ve=this.applyToPoint(W),$e=this.applyToPoint(new _i(W.x+W.w,W.y+W.h));return new Tl(ve.x,ve.y,$e.x-ve.x,$e.y-ve.y)},vr.prototype.clone=function(){var W=this.sx,ve=this.shy,$e=this.shx,Ze=this.sy,pt=this.tx,It=this.ty;return new vr(W,ve,$e,Ze,pt,It)},p.Matrix=vr;var Xn=p.matrixMult=function(W,ve){return ve.multiply(W)},vn=new vr(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=vn;var Ke=function(W,ve){if(!kr[W]){var $e=(ve instanceof A0?"Sh":"P")+(Object.keys(jt).length+1).toString(10);ve.id=$e,kr[W]=$e,jt[$e]=ve,Lr.publish("addPattern",ve)}};p.ShadingPattern=A0,p.TilingPattern=Vh,p.addShadingPattern=function(W,ve){return O("addShadingPattern()"),Ke(W,ve),this},p.beginTilingPattern=function(W){O("beginTilingPattern()"),Gc(W.boundingBox[0],W.boundingBox[1],W.boundingBox[2]-W.boundingBox[0],W.boundingBox[3]-W.boundingBox[1],W.matrix)},p.endTilingPattern=function(W,ve){O("endTilingPattern()"),ve.stream=Le[q].join(`
`),Ke(W,ve),Lr.publish("endTilingPattern",ve),Ln.pop().restore()};var bt=p.__private__.newObject=function(){var W=Wt();return ee(W,!0),W},Wt=p.__private__.newObjectDeferred=function(){return G++,ne[G]=function(){return ce},G},ee=function(W,ve){return ve=typeof ve=="boolean"&&ve,ne[W]=ce,ve&&ae(W+" 0 obj"),W},me=p.__private__.newAdditionalObject=function(){var W={objId:Wt(),content:""};return he.push(W),W},ge=Wt(),Se=Wt(),Ee=p.__private__.decodeColorString=function(W){var ve=W.split(" ");if(ve.length!==2||ve[1]!=="g"&&ve[1]!=="G")ve.length===5&&(ve[4]==="k"||ve[4]==="K")&&(ve=[(1-ve[0])*(1-ve[3]),(1-ve[1])*(1-ve[3]),(1-ve[2])*(1-ve[3]),"r"]);else{var $e=parseFloat(ve[0]);ve=[$e,$e,$e,"r"]}for(var Ze="#",pt=0;pt<3;pt++)Ze+=("0"+Math.floor(255*parseFloat(ve[pt])).toString(16)).slice(-2);return Ze},Te=p.__private__.encodeColorString=function(W){var ve;typeof W=="string"&&(W={ch1:W});var $e=W.ch1,Ze=W.ch2,pt=W.ch3,It=W.ch4,Gt=W.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof $e=="string"&&$e.charAt(0)!=="#"){var yr=new l9($e);if(yr.ok)$e=yr.toHex();else if(!/^\d*\.?\d*$/.test($e))throw new Error('Invalid color "'+$e+'" passed to jsPDF.encodeColorString.')}if(typeof $e=="string"&&/^#[0-9A-Fa-f]{3}$/.test($e)&&($e="#"+$e[1]+$e[1]+$e[2]+$e[2]+$e[3]+$e[3]),typeof $e=="string"&&/^#[0-9A-Fa-f]{6}$/.test($e)){var Br=parseInt($e.substr(1),16);$e=Br>>16&255,Ze=Br>>8&255,pt=255&Br}if(Ze===void 0||It===void 0&&$e===Ze&&Ze===pt)typeof $e=="string"?ve=$e+" "+Gt[0]:W.precision===2?ve=R($e/255)+" "+Gt[0]:ve=C($e/255)+" "+Gt[0];else if(It===void 0||Pa(It)==="object"){if(It&&!isNaN(It.a)&&It.a===0)return ve=["1.","1.","1.",Gt[1]].join(" ");if(typeof $e=="string")ve=[$e,Ze,pt,Gt[1]].join(" ");else switch(W.precision){case 2:ve=[R($e/255),R(Ze/255),R(pt/255),Gt[1]].join(" ");break;default:case 3:ve=[C($e/255),C(Ze/255),C(pt/255),Gt[1]].join(" ")}}else typeof $e=="string"?ve=[$e,Ze,pt,It,Gt[2]].join(" "):W.precision===2?ve=[R($e),R(Ze),R(pt),R(It),Gt[2]].join(" "):ve=[C($e),C(Ze),C(pt),C(It),Gt[2]].join(" ");return ve},Ge=p.__private__.getFilters=function(){return o},dt=p.__private__.putStream=function(W){var ve=(W=W||{}).data||"",$e=W.filters||Ge(),Ze=W.alreadyAppliedFilters||[],pt=W.addLength1||!1,It=ve.length,Gt=W.objectId,yr=function(nn){return nn};if(d!==null&&Gt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(yr=Or.encryptor(Gt,0));var Br={};$e===!0&&($e=["FlateEncode"]);var rn=W.additionalKeyValues||[],sn=(Br=on.API.processDataByFilters!==void 0?on.API.processDataByFilters(ve,$e):{data:ve,reverseChain:[]}).reverseChain+(Array.isArray(Ze)?Ze.join(" "):Ze.toString());if(Br.data.length!==0&&(rn.push({key:"Length",value:Br.data.length}),pt===!0&&rn.push({key:"Length1",value:It})),sn.length!=0)if(sn.split("/").length-1==1)rn.push({key:"Filter",value:sn});else{rn.push({key:"Filter",value:"["+sn+"]"});for(var pn=0;pn<rn.length;pn+=1)if(rn[pn].key==="DecodeParms"){for(var la=[],yn=0;yn<Br.reverseChain.split("/").length-1;yn+=1)la.push("null");la.push(rn[pn].value),rn[pn].value="["+la.join(" ")+"]"}}ae("<<");for(var Va=0;Va<rn.length;Va++)ae("/"+rn[Va].key+" "+rn[Va].value);ae(">>"),Br.data.length!==0&&(ae("stream"),ae(yr(Br.data)),ae("endstream"))},Ve=p.__private__.putPage=function(W){var ve=W.number,$e=W.data,Ze=W.objId,pt=W.contentsObjId;ee(Ze,!0),ae("<</Type /Page"),ae("/Parent "+W.rootDictionaryObjId+" 0 R"),ae("/Resources "+W.resourceDictionaryObjId+" 0 R"),ae("/MediaBox ["+parseFloat(A(W.mediaBox.bottomLeftX))+" "+parseFloat(A(W.mediaBox.bottomLeftY))+" "+A(W.mediaBox.topRightX)+" "+A(W.mediaBox.topRightY)+"]"),W.cropBox!==null&&ae("/CropBox ["+A(W.cropBox.bottomLeftX)+" "+A(W.cropBox.bottomLeftY)+" "+A(W.cropBox.topRightX)+" "+A(W.cropBox.topRightY)+"]"),W.bleedBox!==null&&ae("/BleedBox ["+A(W.bleedBox.bottomLeftX)+" "+A(W.bleedBox.bottomLeftY)+" "+A(W.bleedBox.topRightX)+" "+A(W.bleedBox.topRightY)+"]"),W.trimBox!==null&&ae("/TrimBox ["+A(W.trimBox.bottomLeftX)+" "+A(W.trimBox.bottomLeftY)+" "+A(W.trimBox.topRightX)+" "+A(W.trimBox.topRightY)+"]"),W.artBox!==null&&ae("/ArtBox ["+A(W.artBox.bottomLeftX)+" "+A(W.artBox.bottomLeftY)+" "+A(W.artBox.topRightX)+" "+A(W.artBox.topRightY)+"]"),typeof W.userUnit=="number"&&W.userUnit!==1&&ae("/UserUnit "+W.userUnit),Lr.publish("putPage",{objId:Ze,pageContext:Jt[ve],pageNumber:ve,page:$e}),ae("/Contents "+pt+" 0 R"),ae(">>"),ae("endobj");var It=$e.join(`
`);return j===w.ADVANCED&&(It+=`
Q`),ee(pt,!0),dt({data:It,filters:Ge(),objectId:pt}),ae("endobj"),Ze},Qe=p.__private__.putPages=function(){var W,ve,$e=[];for(W=1;W<=pr;W++)Jt[W].objId=Wt(),Jt[W].contentsObjId=Wt();for(W=1;W<=pr;W++)$e.push(Ve({number:W,data:Le[W],objId:Jt[W].objId,contentsObjId:Jt[W].contentsObjId,mediaBox:Jt[W].mediaBox,cropBox:Jt[W].cropBox,bleedBox:Jt[W].bleedBox,trimBox:Jt[W].trimBox,artBox:Jt[W].artBox,userUnit:Jt[W].userUnit,rootDictionaryObjId:ge,resourceDictionaryObjId:Se}));ee(ge,!0),ae("<</Type /Pages");var Ze="/Kids [";for(ve=0;ve<pr;ve++)Ze+=$e[ve]+" 0 R ";ae(Ze+"]"),ae("/Count "+pr),ae(">>"),ae("endobj"),Lr.publish("postPutPages")},ze=function(W){Lr.publish("putFont",{font:W,out:ae,newObject:bt,putStream:dt}),W.isAlreadyPutted!==!0&&(W.objectNumber=bt(),ae("<<"),ae("/Type /Font"),ae("/BaseFont /"+qh(W.postScriptName)),ae("/Subtype /Type1"),typeof W.encoding=="string"&&ae("/Encoding /"+W.encoding),ae("/FirstChar 32"),ae("/LastChar 255"),ae(">>"),ae("endobj"))},Ie=function(){for(var W in Ht)Ht.hasOwnProperty(W)&&(h===!1||h===!0&&m.hasOwnProperty(W))&&ze(Ht[W])},et=function(W){W.objectNumber=bt();var ve=[];ve.push({key:"Type",value:"/XObject"}),ve.push({key:"Subtype",value:"/Form"}),ve.push({key:"BBox",value:"["+[A(W.x),A(W.y),A(W.x+W.width),A(W.y+W.height)].join(" ")+"]"}),ve.push({key:"Matrix",value:"["+W.matrix.toString()+"]"});var $e=W.pages[1].join(`
`);dt({data:$e,additionalKeyValues:ve,objectId:W.objectNumber}),ae("endobj")},gt=function(){for(var W in Gr)Gr.hasOwnProperty(W)&&et(Gr[W])},Lt=function(W,ve){var $e,Ze=[],pt=1/(ve-1);for($e=0;$e<1;$e+=pt)Ze.push($e);if(Ze.push(1),W[0].offset!=0){var It={offset:0,color:W[0].color};W.unshift(It)}if(W[W.length-1].offset!=1){var Gt={offset:1,color:W[W.length-1].color};W.push(Gt)}for(var yr="",Br=0,rn=0;rn<Ze.length;rn++){for($e=Ze[rn];$e>W[Br+1].offset;)Br++;var sn=W[Br].offset,pn=($e-sn)/(W[Br+1].offset-sn),la=W[Br].color,yn=W[Br+1].color;yr+=U(Math.round((1-pn)*la[0]+pn*yn[0]).toString(16))+U(Math.round((1-pn)*la[1]+pn*yn[1]).toString(16))+U(Math.round((1-pn)*la[2]+pn*yn[2]).toString(16))}return yr.trim()},Bt=function(W,ve){ve||(ve=21);var $e=bt(),Ze=Lt(W.colors,ve),pt=[];pt.push({key:"FunctionType",value:"0"}),pt.push({key:"Domain",value:"[0.0 1.0]"}),pt.push({key:"Size",value:"["+ve+"]"}),pt.push({key:"BitsPerSample",value:"8"}),pt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),pt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),dt({data:Ze,additionalKeyValues:pt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:$e}),ae("endobj"),W.objectNumber=bt(),ae("<< /ShadingType "+W.type),ae("/ColorSpace /DeviceRGB");var It="/Coords ["+A(parseFloat(W.coords[0]))+" "+A(parseFloat(W.coords[1]))+" ";W.type===2?It+=A(parseFloat(W.coords[2]))+" "+A(parseFloat(W.coords[3])):It+=A(parseFloat(W.coords[2]))+" "+A(parseFloat(W.coords[3]))+" "+A(parseFloat(W.coords[4]))+" "+A(parseFloat(W.coords[5])),ae(It+="]"),W.matrix&&ae("/Matrix ["+W.matrix.toString()+"]"),ae("/Function "+$e+" 0 R"),ae("/Extend [true true]"),ae(">>"),ae("endobj")},br=function(W,ve){var $e=Wt(),Ze=bt();ve.push({resourcesOid:$e,objectOid:Ze}),W.objectNumber=Ze;var pt=[];pt.push({key:"Type",value:"/Pattern"}),pt.push({key:"PatternType",value:"1"}),pt.push({key:"PaintType",value:"1"}),pt.push({key:"TilingType",value:"1"}),pt.push({key:"BBox",value:"["+W.boundingBox.map(A).join(" ")+"]"}),pt.push({key:"XStep",value:A(W.xStep)}),pt.push({key:"YStep",value:A(W.yStep)}),pt.push({key:"Resources",value:$e+" 0 R"}),W.matrix&&pt.push({key:"Matrix",value:"["+W.matrix.toString()+"]"}),dt({data:W.stream,additionalKeyValues:pt,objectId:W.objectNumber}),ae("endobj")},Dr=function(W){var ve;for(ve in jt)jt.hasOwnProperty(ve)&&(jt[ve]instanceof A0?Bt(jt[ve]):jt[ve]instanceof Vh&&br(jt[ve],W))},Qr=function(W){for(var ve in W.objectNumber=bt(),ae("<<"),W)switch(ve){case"opacity":ae("/ca "+R(W[ve]));break;case"stroke-opacity":ae("/CA "+R(W[ve]))}ae(">>"),ae("endobj")},Nn=function(){var W;for(W in zt)zt.hasOwnProperty(W)&&Qr(zt[W])},ds=function(){for(var W in ae("/XObject <<"),Gr)Gr.hasOwnProperty(W)&&Gr[W].objectNumber>=0&&ae("/"+W+" "+Gr[W].objectNumber+" 0 R");Lr.publish("putXobjectDict"),ae(">>")},qn=function(){Or.oid=bt(),ae("<<"),ae("/Filter /Standard"),ae("/V "+Or.v),ae("/R "+Or.r),ae("/U <"+Or.toHexString(Or.U)+">"),ae("/O <"+Or.toHexString(Or.O)+">"),ae("/P "+Or.P),ae(">>"),ae("endobj")},ss=function(){for(var W in ae("/Font <<"),Ht)Ht.hasOwnProperty(W)&&(h===!1||h===!0&&m.hasOwnProperty(W))&&ae("/"+W+" "+Ht[W].objectNumber+" 0 R");ae(">>")},$n=function(){if(Object.keys(jt).length>0){for(var W in ae("/Shading <<"),jt)jt.hasOwnProperty(W)&&jt[W]instanceof A0&&jt[W].objectNumber>=0&&ae("/"+W+" "+jt[W].objectNumber+" 0 R");Lr.publish("putShadingPatternDict"),ae(">>")}},fs=function(W){if(Object.keys(jt).length>0){for(var ve in ae("/Pattern <<"),jt)jt.hasOwnProperty(ve)&&jt[ve]instanceof p.TilingPattern&&jt[ve].objectNumber>=0&&jt[ve].objectNumber<W&&ae("/"+ve+" "+jt[ve].objectNumber+" 0 R");Lr.publish("putTilingPatternDict"),ae(">>")}},jn=function(){if(Object.keys(zt).length>0){var W;for(W in ae("/ExtGState <<"),zt)zt.hasOwnProperty(W)&&zt[W].objectNumber>=0&&ae("/"+W+" "+zt[W].objectNumber+" 0 R");Lr.publish("putGStateDict"),ae(">>")}},Hr=function(W){ee(W.resourcesOid,!0),ae("<<"),ae("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ss(),$n(),fs(W.objectOid),jn(),ds(),ae(">>"),ae("endobj")},Be=function(){var W=[];Ie(),Nn(),gt(),Dr(W),Lr.publish("putResources"),W.forEach(Hr),Hr({resourcesOid:Se,objectOid:Number.MAX_SAFE_INTEGER}),Lr.publish("postPutResources")},kt=function(){Lr.publish("putAdditionalObjects");for(var W=0;W<he.length;W++){var ve=he[W];ee(ve.objId,!0),ae(ve.content),ae("endobj")}Lr.publish("postPutAdditionalObjects")},yt=function(W){Ut[W.fontName]=Ut[W.fontName]||{},Ut[W.fontName][W.fontStyle]=W.id},Yt=function(W,ve,$e,Ze,pt){var It={id:"F"+(Object.keys(Ht).length+1).toString(10),postScriptName:W,fontName:ve,fontStyle:$e,encoding:Ze,isStandardFont:pt||!1,metadata:{}};return Lr.publish("addFont",{font:It,instance:this}),Ht[It.id]=It,yt(It),It.id},cr=function(W){for(var ve=0,$e=Pe.length;ve<$e;ve++){var Ze=Yt.call(this,W[ve][0],W[ve][1],W[ve][2],Pe[ve][3],!0);h===!1&&(m[Ze]=!0);var pt=W[ve][0].split("-");yt({id:Ze,fontName:pt[0],fontStyle:pt[1]||""})}Lr.publish("addFonts",{fonts:Ht,dictionary:Ut})},ar=function(W){return W.foo=function(){try{return W.apply(this,arguments)}catch(Ze){var ve=Ze.stack||"";~ve.indexOf(" at ")&&(ve=ve.split(" at ")[1]);var $e="Error in function "+ve.split(`
`)[0].split("<")[0]+": "+Ze.message;if(!ln.console)throw new Error($e);ln.console.error($e,Ze),ln.alert&&alert($e)}},W.foo.bar=W,W.foo},Nr=function(W,ve){var $e,Ze,pt,It,Gt,yr,Br,rn,sn;if(pt=(ve=ve||{}).sourceEncoding||"Unicode",Gt=ve.outputEncoding,(ve.autoencode||Gt)&&Ht[ot].metadata&&Ht[ot].metadata[pt]&&Ht[ot].metadata[pt].encoding&&(It=Ht[ot].metadata[pt].encoding,!Gt&&Ht[ot].encoding&&(Gt=Ht[ot].encoding),!Gt&&It.codePages&&(Gt=It.codePages[0]),typeof Gt=="string"&&(Gt=It[Gt]),Gt)){for(Br=!1,yr=[],$e=0,Ze=W.length;$e<Ze;$e++)(rn=Gt[W.charCodeAt($e)])?yr.push(String.fromCharCode(rn)):yr.push(W[$e]),yr[$e].charCodeAt(0)>>8&&(Br=!0);W=yr.join("")}for($e=W.length;Br===void 0&&$e!==0;)W.charCodeAt($e-1)>>8&&(Br=!0),$e--;if(!Br)return W;for(yr=ve.noBOM?[]:[254,255],$e=0,Ze=W.length;$e<Ze;$e++){if((sn=(rn=W.charCodeAt($e))>>8)>>8)throw new Error("Character at position "+$e+" of string '"+W+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");yr.push(sn),yr.push(rn-(sn<<8))}return String.fromCharCode.apply(void 0,yr)},mn=p.__private__.pdfEscape=p.pdfEscape=function(W,ve){return Nr(W,ve).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Fn=p.__private__.beginPage=function(W){Le[++pr]=[],Jt[pr]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(W[0]),topRightY:Number(W[1])}},Ot(pr),oe(Le[q])},rr=function(W,ve){var $e,Ze,pt;switch(r=ve||r,typeof W=="string"&&($e=b(W.toLowerCase()),Array.isArray($e)&&(Ze=$e[0],pt=$e[1])),Array.isArray(W)&&(Ze=W[0]*rt,pt=W[1]*rt),isNaN(Ze)&&(Ze=s[0],pt=s[1]),(Ze>14400||pt>14400)&&(za.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ze=Math.min(14400,Ze),pt=Math.min(14400,pt)),s=[Ze,pt],r.substr(0,1)){case"l":pt>Ze&&(s=[pt,Ze]);break;case"p":Ze>pt&&(s=[pt,Ze])}Fn(s),$c(qc),ae(ks),vd!==0&&ae(vd+" J"),po!==0&&ae(po+" j"),Lr.publish("addPage",{pageNumber:pr})},nr=function(W){W>0&&W<=pr&&(Le.splice(W,1),Jt.splice(W,1),pr--,q>pr&&(q=pr),this.setPage(q))},Ot=function(W){W>0&&W<=pr&&(q=W)},Zr=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Le.length-1},Ct=function(W,ve,$e){var Ze,pt=void 0;return $e=$e||{},W=W!==void 0?W:Ht[ot].fontName,ve=ve!==void 0?ve:Ht[ot].fontStyle,Ze=W.toLowerCase(),Ut[Ze]!==void 0&&Ut[Ze][ve]!==void 0?pt=Ut[Ze][ve]:Ut[W]!==void 0&&Ut[W][ve]!==void 0?pt=Ut[W][ve]:$e.disableWarning===!1&&za.warn("Unable to look up font label for font '"+W+"', '"+ve+"'. Refer to getFontList() for available fonts."),pt||$e.noFallback||(pt=Ut.times[ve])==null&&(pt=Ut.times.normal),pt},Fr=p.__private__.putInfo=function(){var W=bt(),ve=function(Ze){return Ze};for(var $e in d!==null&&(ve=Or.encryptor(W,0)),ae("<<"),ae("/Producer ("+mn(ve("jsPDF "+on.version))+")"),ut)ut.hasOwnProperty($e)&&ut[$e]&&ae("/"+$e.substr(0,1).toUpperCase()+$e.substr(1)+" ("+mn(ve(ut[$e]))+")");ae("/CreationDate ("+mn(ve(X))+")"),ae(">>"),ae("endobj")},oa=p.__private__.putCatalog=function(W){var ve=(W=W||{}).rootDictionaryObjId||ge;switch(bt(),ae("<<"),ae("/Type /Catalog"),ae("/Pages "+ve+" 0 R"),fe||(fe="fullwidth"),fe){case"fullwidth":ae("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ae("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ae("/OpenAction [3 0 R /Fit]");break;case"original":ae("/OpenAction [3 0 R /XYZ null null 1]");break;default:var $e=""+fe;$e.substr($e.length-1)==="%"&&(fe=parseInt(fe)/100),typeof fe=="number"&&ae("/OpenAction [3 0 R /XYZ null null "+R(fe)+"]")}switch(Ue||(Ue="continuous"),Ue){case"continuous":ae("/PageLayout /OneColumn");break;case"single":ae("/PageLayout /SinglePage");break;case"two":case"twoleft":ae("/PageLayout /TwoColumnLeft");break;case"tworight":ae("/PageLayout /TwoColumnRight")}Je&&ae("/PageMode /"+Je),Lr.publish("putCatalog"),ae(">>"),ae("endobj")},ja=p.__private__.putTrailer=function(){ae("trailer"),ae("<<"),ae("/Size "+(G+1)),ae("/Root "+G+" 0 R"),ae("/Info "+(G-1)+" 0 R"),d!==null&&ae("/Encrypt "+Or.oid+" 0 R"),ae("/ID [ <"+re+"> <"+re+"> ]"),ae(">>")},ir=p.__private__.putHeader=function(){ae("%PDF-"+y),ae("%")},Zn=p.__private__.putXRef=function(){var W="0000000000";ae("xref"),ae("0 "+(G+1)),ae("0000000000 65535 f ");for(var ve=1;ve<=G;ve++)typeof ne[ve]=="function"?ae((W+ne[ve]()).slice(-10)+" 00000 n "):ne[ve]!==void 0?ae((W+ne[ve]).slice(-10)+" 00000 n "):ae("0000000000 00000 n ")},ya=p.__private__.buildDocument=function(){_e(),oe(de),Lr.publish("buildDocument"),ir(),Qe(),kt(),Be(),d!==null&&qn(),Fr(),oa();var W=ce;return Zn(),ja(),ae("startxref"),ae(""+W),ae("%%EOF"),oe(Le[q]),de.join(`
`)},en=p.__private__.getBlob=function(W){return new Blob([we(W)],{type:"application/pdf"})},Da=p.output=p.__private__.output=ar((function(W,ve){switch(typeof(ve=ve||{})=="string"?ve={filename:ve}:ve.filename=ve.filename||"generated.pdf",W){case void 0:return ya();case"save":p.save(ve.filename);break;case"arraybuffer":return we(ya());case"blob":return en(ya());case"bloburi":case"bloburl":if(ln.URL!==void 0&&typeof ln.URL.createObjectURL=="function")return ln.URL&&ln.URL.createObjectURL(en(ya()))||void 0;za.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var $e="",Ze=ya();try{$e=fk(Ze)}catch{$e=fk(unescape(encodeURIComponent(Ze)))}return"data:application/pdf;filename="+ve.filename+";base64,"+$e;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ln)==="[object Window]"){var pt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",It=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ve.pdfObjectUrl&&(pt=ve.pdfObjectUrl,It="");var Gt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+pt+'"'+It+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ve)+");<\/script></body></html>",yr=ln.open();return yr!==null&&yr.document.write(Gt),yr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ln)==="[object Window]"){var Br='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ve.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ve.filename+'" width="500px" height="400px" /></body></html>',rn=ln.open();if(rn!==null){rn.document.write(Br);var sn=this;rn.document.documentElement.querySelector("#pdfViewer").onload=function(){rn.document.title=ve.filename,rn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(sn.output("bloburl"))}}return rn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ln)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var pn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ve)+'"></iframe></body></html>',la=ln.open();if(la!==null&&(la.document.write(pn),la.document.title=ve.filename),la||typeof safari>"u")return la;break;case"datauri":case"dataurl":return ln.document.location.href=this.output("datauristring",ve);default:return null}})),Wr=function(W){return Array.isArray(Ar)===!0&&Ar.indexOf(W)>-1};switch(n){case"pt":rt=1;break;case"mm":rt=72/25.4;break;case"cm":rt=72/2.54;break;case"in":rt=72;break;case"px":rt=Wr("px_scaling")==1?.75:96/72;break;case"pc":case"em":rt=12;break;case"ex":rt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);rt=n}var Or=null;H(),te();var Rr=function(W){return d!==null?Or.encryptor(W,0):function(ve){return ve}},kn=p.__private__.getPageInfo=p.getPageInfo=function(W){if(isNaN(W)||W%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Jt[W].objId,pageNumber:W,pageContext:Jt[W]}},Ce=p.__private__.getPageInfoByObjId=function(W){if(isNaN(W)||W%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ve in Jt)if(Jt[ve].objId===W)break;return kn(ve)},xr=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Jt[q].objId,pageNumber:q,pageContext:Jt[q]}};p.addPage=function(){return rr.apply(this,arguments),this},p.setPage=function(){return Ot.apply(this,arguments),oe.call(this,Le[q]),this},p.insertPage=function(W){return this.addPage(),this.movePage(q,W),this},p.movePage=function(W,ve){var $e,Ze;if(W>ve){$e=Le[W],Ze=Jt[W];for(var pt=W;pt>ve;pt--)Le[pt]=Le[pt-1],Jt[pt]=Jt[pt-1];Le[ve]=$e,Jt[ve]=Ze,this.setPage(ve)}else if(W<ve){$e=Le[W],Ze=Jt[W];for(var It=W;It<ve;It++)Le[It]=Le[It+1],Jt[It]=Jt[It+1];Le[ve]=$e,Jt[ve]=Ze,this.setPage(ve)}return this},p.deletePage=function(){return nr.apply(this,arguments),this},p.__private__.text=p.text=function(W,ve,$e,Ze,pt){var It,Gt,yr,Br,rn,sn,pn,la,yn,Va=(Ze=Ze||{}).scope||this;if(typeof W=="number"&&typeof ve=="number"&&(typeof $e=="string"||Array.isArray($e))){var nn=$e;$e=ve,ve=W,W=nn}if(arguments[3]instanceof vr?(O("The transform parameter of text() with a Matrix value"),yn=pt):(yr=arguments[4],Br=arguments[5],Pa(pn=arguments[3])==="object"&&pn!==null||(typeof yr=="string"&&(Br=yr,yr=null),typeof pn=="string"&&(Br=pn,pn=null),typeof pn=="number"&&(yr=pn,pn=null),Ze={flags:pn,angle:yr,align:Br})),isNaN(ve)||isNaN($e)||W==null)throw new Error("Invalid arguments passed to jsPDF.text");if(W.length===0)return Va;var zn="",ea=!1,ka=typeof Ze.lineHeightFactor=="number"?Ze.lineHeightFactor:cl,Yn=Va.internal.scaleFactor;function is(ua){return ua=ua.split("	").join(Array(Ze.TabLen||9).join(" ")),mn(ua,pn)}function Ua(ua){for(var ta,Fa=ua.concat(),cs=[],zo=Fa.length;zo--;)typeof(ta=Fa.shift())=="string"?cs.push(ta):Array.isArray(ua)&&(ta.length===1||ta[1]===void 0&&ta[2]===void 0)?cs.push(ta[0]):cs.push([ta[0],ta[1],ta[2]]);return cs}function Ai(ua,ta){var Fa;if(typeof ua=="string")Fa=ta(ua)[0];else if(Array.isArray(ua)){for(var cs,zo,Ru=ua.concat(),xl=[],Bu=Ru.length;Bu--;)typeof(cs=Ru.shift())=="string"?xl.push(ta(cs)[0]):Array.isArray(cs)&&typeof cs[0]=="string"&&(zo=ta(cs[0],cs[1],cs[2]),xl.push([zo[0],zo[1],zo[2]]));Fa=xl}return Fa}var os=!1,Ss=!0;if(typeof W=="string")os=!0;else if(Array.isArray(W)){var _s=W.concat();Gt=[];for(var mo,ca=_s.length;ca--;)(typeof(mo=_s.shift())!="string"||Array.isArray(mo)&&typeof mo[0]!="string")&&(Ss=!1);os=Ss}if(os===!1)throw new Error('Type of text must be string or Array. "'+W+'" is not recognized.');typeof W=="string"&&(W=W.match(/[\r?\n]/)?W.split(/\r\n|\r|\n/g):[W]);var Xc=pe/Va.internal.scaleFactor,Il=Xc*(ka-1);switch(Ze.baseline){case"bottom":$e-=Il;break;case"top":$e+=Xc-Il;break;case"hanging":$e+=Xc-2*Il;break;case"middle":$e+=Xc/2-Il}if((sn=Ze.maxWidth||0)>0&&(typeof W=="string"?W=Va.splitTextToSize(W,sn):Object.prototype.toString.call(W)==="[object Array]"&&(W=W.reduce((function(ua,ta){return ua.concat(Va.splitTextToSize(ta,sn))}),[]))),It={text:W,x:ve,y:$e,options:Ze,mutex:{pdfEscape:mn,activeFontKey:ot,fonts:Ht,activeFontSize:pe}},Lr.publish("preProcessText",It),W=It.text,yr=(Ze=It.options).angle,!(yn instanceof vr)&&yr&&typeof yr=="number"){yr*=Math.PI/180,Ze.rotationDirection===0&&(yr=-yr),j===w.ADVANCED&&(yr=-yr);var Fu=Math.cos(yr),ic=Math.sin(yr);yn=new vr(Fu,ic,-ic,Fu,0,0)}else yr&&yr instanceof vr&&(yn=yr);j!==w.ADVANCED||yn||(yn=vn),(rn=Ze.charSpace||sc)!==void 0&&(zn+=A(T(rn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(la=Ze.horizontalScale)!==void 0&&(zn+=A(100*la)+` Tz
`),Ze.lang;var ui=-1,oc=Ze.renderingMode!==void 0?Ze.renderingMode:Ze.stroke,dl=Va.internal.getCurrentPageInfo().pageContext;switch(oc){case 0:case!1:case"fill":ui=0;break;case 1:case!0:case"stroke":ui=1;break;case 2:case"fillThenStroke":ui=2;break;case 3:case"invisible":ui=3;break;case 4:case"fillAndAddForClipping":ui=4;break;case 5:case"strokeAndAddPathForClipping":ui=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ui=6;break;case 7:case"addToPathForClipping":ui=7}var Mu=dl.usedRenderingMode!==void 0?dl.usedRenderingMode:-1;ui!==-1?zn+=ui+` Tr
`:Mu!==-1&&(zn+=`0 Tr
`),ui!==-1&&(dl.usedRenderingMode=ui),Br=Ze.align||"left";var As,lc=pe*ka,cc=Va.internal.pageSize.getWidth(),$o=Ht[ot];rn=Ze.charSpace||sc,sn=Ze.maxWidth||0,pn=Object.assign({autoencode:!0,noBOM:!0},Ze.flags);var Rs=[],Wi=function(ua){return Va.getStringUnitWidth(ua,{font:$o,charSpace:rn,fontSize:pe,doKerning:!1})*pe/Yn};if(Object.prototype.toString.call(W)==="[object Array]"){var ls;Gt=Ua(W),Br!=="left"&&(As=Gt.map(Wi));var Ya,Vi=0;if(Br==="right"){ve-=As[0],W=[],ca=Gt.length;for(var Gi=0;Gi<ca;Gi++)Gi===0?(Ya=Si(ve),ls=uo($e)):(Ya=T(Vi-As[Gi]),ls=-lc),W.push([Gt[Gi],Ya,ls]),Vi=As[Gi]}else if(Br==="center"){ve-=As[0]/2,W=[],ca=Gt.length;for(var Dl=0;Dl<ca;Dl++)Dl===0?(Ya=Si(ve),ls=uo($e)):(Ya=T((Vi-As[Dl])/2),ls=-lc),W.push([Gt[Dl],Ya,ls]),Vi=As[Dl]}else if(Br==="left"){W=[],ca=Gt.length;for(var Ll=0;Ll<ca;Ll++)W.push(Gt[Ll])}else if(Br==="justify"&&$o.encoding==="Identity-H"){W=[],ca=Gt.length,sn=sn!==0?sn:cc;for(var di=0,Mn=0;Mn<ca;Mn++)if(ls=Mn===0?uo($e):-lc,Ya=Mn===0?Si(ve):di,Mn<ca-1){var fl=T((sn-As[Mn])/(Gt[Mn].split(" ").length-1)),Vn=Gt[Mn].split(" ");W.push([Vn[0]+" ",Ya,ls]),di=0;for(var Es=1;Es<Vn.length;Es++){var Fl=(Wi(Vn[Es-1]+" "+Vn[Es])-Wi(Vn[Es]))*Yn+fl;Es==Vn.length-1?W.push([Vn[Es],Fl,0]):W.push([Vn[Es]+" ",Fl,0]),di-=Fl}}else W.push([Gt[Mn],Ya,ls]);W.push(["",di,0])}else{if(Br!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(W=[],ca=Gt.length,sn=sn!==0?sn:cc,Mn=0;Mn<ca;Mn++)ls=Mn===0?uo($e):-lc,Ya=Mn===0?Si(ve):0,Mn<ca-1?Rs.push(A(T((sn-As[Mn])/(Gt[Mn].split(" ").length-1)))):Rs.push(0),W.push([Gt[Mn],Ya,ls])}}var bd=typeof Ze.R2L=="boolean"?Ze.R2L:Xe;bd===!0&&(W=Ai(W,(function(ua,ta,Fa){return[ua.split("").reverse().join(""),ta,Fa]}))),It={text:W,x:ve,y:$e,options:Ze,mutex:{pdfEscape:mn,activeFontKey:ot,fonts:Ht,activeFontSize:pe}},Lr.publish("postProcessText",It),W=It.text,ea=It.mutex.isHex||!1;var xo=Ht[ot].encoding;xo!=="WinAnsiEncoding"&&xo!=="StandardEncoding"||(W=Ai(W,(function(ua,ta,Fa){return[is(ua),ta,Fa]}))),Gt=Ua(W),W=[];for(var Ml,Rl,Bs,hl=0,Ei=1,pl=Array.isArray(Gt[0])?Ei:hl,ml="",uc=function(ua,ta,Fa){var cs="";return Fa instanceof vr?(Fa=typeof Ze.angle=="number"?Xn(Fa,new vr(1,0,0,1,ua,ta)):Xn(new vr(1,0,0,1,ua,ta),Fa),j===w.ADVANCED&&(Fa=Xn(new vr(1,0,0,-1,0,0),Fa)),cs=Fa.join(" ")+` Tm
`):cs=A(ua)+" "+A(ta)+` Td
`,cs},Cs=0;Cs<Gt.length;Cs++){switch(ml="",pl){case Ei:Bs=(ea?"<":"(")+Gt[Cs][0]+(ea?">":")"),Ml=parseFloat(Gt[Cs][1]),Rl=parseFloat(Gt[Cs][2]);break;case hl:Bs=(ea?"<":"(")+Gt[Cs]+(ea?">":")"),Ml=Si(ve),Rl=uo($e)}Rs!==void 0&&Rs[Cs]!==void 0&&(ml=Rs[Cs]+` Tw
`),Cs===0?W.push(ml+uc(Ml,Rl,yn)+Bs):pl===hl?W.push(ml+Bs):pl===Ei&&W.push(ml+uc(Ml,Rl,yn)+Bs)}W=pl===hl?W.join(` Tj
T* `):W.join(` Tj
`),W+=` Tj
`;var Ci=`BT
/`;return Ci+=ot+" "+pe+` Tf
`,Ci+=A(pe*ka)+` TL
`,Ci+=La+`
`,Ci+=zn,Ci+=W,ae(Ci+="ET"),m[ot]=!0,Va};var Qt=p.__private__.clip=p.clip=function(W){return ae(W==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Qt("evenodd")},p.__private__.discardPath=p.discardPath=function(){return ae("n"),this};var jr=p.__private__.isValidStyle=function(W){var ve=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(W)!==-1&&(ve=!0),ve};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(W){return jr(W)&&(u=W),this};var Kr=p.__private__.getStyle=p.getStyle=function(W){var ve=u;switch(W){case"D":case"S":ve="S";break;case"F":ve="f";break;case"FD":case"DF":ve="B";break;case"f":case"f*":case"B":case"B*":ve=W}return ve},tn=p.close=function(){return ae("h"),this};p.stroke=function(){return ae("S"),this},p.fill=function(W){return Sn("f",W),this},p.fillEvenOdd=function(W){return Sn("f*",W),this},p.fillStroke=function(W){return Sn("B",W),this},p.fillStrokeEvenOdd=function(W){return Sn("B*",W),this};var Sn=function(W,ve){Pa(ve)==="object"?nc(ve,W):ae(W)},ba=function(W){W===null||j===w.ADVANCED&&W===void 0||(W=Kr(W),ae(W))};function zi(W,ve,$e,Ze,pt){var It=new Vh(ve||this.boundingBox,$e||this.xStep,Ze||this.yStep,this.gState,pt||this.matrix);It.stream=this.stream;var Gt=W+"$$"+this.cloneIndex+++"$$";return Ke(Gt,It),It}var nc=function(W,ve){var $e=kr[W.key],Ze=jt[$e];if(Ze instanceof A0)ae("q"),ae(l0(ve)),Ze.gState&&p.setGState(Ze.gState),ae(W.matrix.toString()+" cm"),ae("/"+$e+" sh"),ae("Q");else if(Ze instanceof Vh){var pt=new vr(1,0,0,-1,0,Pl());W.matrix&&(pt=pt.multiply(W.matrix||vn),$e=zi.call(Ze,W.key,W.boundingBox,W.xStep,W.yStep,pt).id),ae("q"),ae("/Pattern cs"),ae("/"+$e+" scn"),Ze.gState&&p.setGState(Ze.gState),ae(ve),ae("Q")}},l0=function(W){switch(W){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},ll=p.moveTo=function(W,ve){return ae(A(T(W))+" "+A(B(ve))+" m"),this},co=p.lineTo=function(W,ve){return ae(A(T(W))+" "+A(B(ve))+" l"),this},ki=p.curveTo=function(W,ve,$e,Ze,pt,It){return ae([A(T(W)),A(B(ve)),A(T($e)),A(B(Ze)),A(T(pt)),A(B(It)),"c"].join(" ")),this};p.__private__.line=p.line=function(W,ve,$e,Ze,pt){if(isNaN(W)||isNaN(ve)||isNaN($e)||isNaN(Ze)||!jr(pt))throw new Error("Invalid arguments passed to jsPDF.line");return j===w.COMPAT?this.lines([[$e-W,Ze-ve]],W,ve,[1,1],pt||"S"):this.lines([[$e-W,Ze-ve]],W,ve,[1,1]).stroke()},p.__private__.lines=p.lines=function(W,ve,$e,Ze,pt,It){var Gt,yr,Br,rn,sn,pn,la,yn,Va,nn,zn,ea;if(typeof W=="number"&&(ea=$e,$e=ve,ve=W,W=ea),Ze=Ze||[1,1],It=It||!1,isNaN(ve)||isNaN($e)||!Array.isArray(W)||!Array.isArray(Ze)||!jr(pt)||typeof It!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ll(ve,$e),Gt=Ze[0],yr=Ze[1],rn=W.length,nn=ve,zn=$e,Br=0;Br<rn;Br++)(sn=W[Br]).length===2?(nn=sn[0]*Gt+nn,zn=sn[1]*yr+zn,co(nn,zn)):(pn=sn[0]*Gt+nn,la=sn[1]*yr+zn,yn=sn[2]*Gt+nn,Va=sn[3]*yr+zn,nn=sn[4]*Gt+nn,zn=sn[5]*yr+zn,ki(pn,la,yn,Va,nn,zn));return It&&tn(),ba(pt),this},p.path=function(W){for(var ve=0;ve<W.length;ve++){var $e=W[ve],Ze=$e.c;switch($e.op){case"m":ll(Ze[0],Ze[1]);break;case"l":co(Ze[0],Ze[1]);break;case"c":ki.apply(this,Ze);break;case"h":tn()}}return this},p.__private__.rect=p.rect=function(W,ve,$e,Ze,pt){if(isNaN(W)||isNaN(ve)||isNaN($e)||isNaN(Ze)||!jr(pt))throw new Error("Invalid arguments passed to jsPDF.rect");return j===w.COMPAT&&(Ze=-Ze),ae([A(T(W)),A(B(ve)),A(T($e)),A(T(Ze)),"re"].join(" ")),ba(pt),this},p.__private__.triangle=p.triangle=function(W,ve,$e,Ze,pt,It,Gt){if(isNaN(W)||isNaN(ve)||isNaN($e)||isNaN(Ze)||isNaN(pt)||isNaN(It)||!jr(Gt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[$e-W,Ze-ve],[pt-$e,It-Ze],[W-pt,ve-It]],W,ve,[1,1],Gt,!0),this},p.__private__.roundedRect=p.roundedRect=function(W,ve,$e,Ze,pt,It,Gt){if(isNaN(W)||isNaN(ve)||isNaN($e)||isNaN(Ze)||isNaN(pt)||isNaN(It)||!jr(Gt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var yr=4/3*(Math.SQRT2-1);return pt=Math.min(pt,.5*$e),It=Math.min(It,.5*Ze),this.lines([[$e-2*pt,0],[pt*yr,0,pt,It-It*yr,pt,It],[0,Ze-2*It],[0,It*yr,-pt*yr,It,-pt,It],[2*pt-$e,0],[-pt*yr,0,-pt,-It*yr,-pt,-It],[0,2*It-Ze],[0,-It*yr,pt*yr,-It,pt,-It]],W+pt,ve,[1,1],Gt,!0),this},p.__private__.ellipse=p.ellipse=function(W,ve,$e,Ze,pt){if(isNaN(W)||isNaN(ve)||isNaN($e)||isNaN(Ze)||!jr(pt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var It=4/3*(Math.SQRT2-1)*$e,Gt=4/3*(Math.SQRT2-1)*Ze;return ll(W+$e,ve),ki(W+$e,ve-Gt,W+It,ve-Ze,W,ve-Ze),ki(W-It,ve-Ze,W-$e,ve-Gt,W-$e,ve),ki(W-$e,ve+Gt,W-It,ve+Ze,W,ve+Ze),ki(W+It,ve+Ze,W+$e,ve+Gt,W+$e,ve),ba(pt),this},p.__private__.circle=p.circle=function(W,ve,$e,Ze){if(isNaN(W)||isNaN(ve)||isNaN($e)||!jr(Ze))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(W,ve,$e,$e,Ze)},p.setFont=function(W,ve,$e){return $e&&(ve=P(ve,$e)),ot=Ct(W,ve,{disableWarning:!1}),this};var Uc=p.__private__.getFont=p.getFont=function(){return Ht[Ct.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var W,ve,$e={};for(W in Ut)if(Ut.hasOwnProperty(W))for(ve in $e[W]=[],Ut[W])Ut[W].hasOwnProperty(ve)&&$e[W].push(ve);return $e},p.addFont=function(W,ve,$e,Ze,pt){var It=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&It.indexOf(arguments[3])!==-1?pt=arguments[3]:arguments[3]&&It.indexOf(arguments[3])==-1&&($e=P($e,Ze)),pt=pt||"Identity-H",Yt.call(this,W,ve,$e,pt)};var cl,qc=e.lineWidth||.200025,Cl=p.__private__.getLineWidth=p.getLineWidth=function(){return qc},$c=p.__private__.setLineWidth=p.setLineWidth=function(W){return qc=W,ae(A(T(W))+" w"),this};p.__private__.setLineDash=on.API.setLineDash=on.API.setLineDashPattern=function(W,ve){if(W=W||[],ve=ve||0,isNaN(ve)||!Array.isArray(W))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return W=W.map((function($e){return A(T($e))})).join(" "),ve=A(T(ve)),ae("["+W+"] "+ve+" d"),this};var ac=p.__private__.getLineHeight=p.getLineHeight=function(){return pe*cl};p.__private__.getLineHeight=p.getLineHeight=function(){return pe*cl};var zc=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(W){return typeof(W=W||1.15)=="number"&&(cl=W),this},Hi=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return cl};zc(e.lineHeight);var Si=p.__private__.getHorizontalCoordinate=function(W){return T(W)},uo=p.__private__.getVerticalCoordinate=function(W){return j===w.ADVANCED?W:Jt[q].mediaBox.topRightY-Jt[q].mediaBox.bottomLeftY-T(W)},Hc=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(W){return A(Si(W))},fo=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(W){return A(uo(W))},ks=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Ee(ks)},p.__private__.setStrokeColor=p.setDrawColor=function(W,ve,$e,Ze){return ks=Te({ch1:W,ch2:ve,ch3:$e,ch4:Ze,pdfColorType:"draw",precision:2}),ae(ks),this};var Wc=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Ee(Wc)},p.__private__.setFillColor=p.setFillColor=function(W,ve,$e,Ze){return Wc=Te({ch1:W,ch2:ve,ch3:$e,ch4:Ze,pdfColorType:"fill",precision:2}),ae(Wc),this};var La=e.textColor||"0 g",ho=p.__private__.getTextColor=p.getTextColor=function(){return Ee(La)};p.__private__.setTextColor=p.setTextColor=function(W,ve,$e,Ze){return La=Te({ch1:W,ch2:ve,ch3:$e,ch4:Ze,pdfColorType:"text",precision:3}),this};var sc=e.charSpace,ul=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(sc||0)};p.__private__.setCharSpace=p.setCharSpace=function(W){if(isNaN(W))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return sc=W,this};var vd=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(W){var ve=p.CapJoinStyles[W];if(ve===void 0)throw new Error("Line cap style of '"+W+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return vd=ve,ae(ve+" J"),this};var po=0;p.__private__.setLineJoin=p.setLineJoin=function(W){var ve=p.CapJoinStyles[W];if(ve===void 0)throw new Error("Line join style of '"+W+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return po=ve,ae(ve+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(W){if(W=W||0,isNaN(W))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ae(A(T(W))+" M"),this},p.GState=oy,p.setGState=function(W){(W=typeof W=="string"?zt[_r[W]]:qo(null,W)).equals(Tr)||(ae("/"+W.id+" gs"),Tr=W)};var qo=function(W,ve){if(!W||!_r[W]){var $e=!1;for(var Ze in zt)if(zt.hasOwnProperty(Ze)&&zt[Ze].equals(ve)){$e=!0;break}if($e)ve=zt[Ze];else{var pt="GS"+(Object.keys(zt).length+1).toString(10);zt[pt]=ve,ve.id=pt}return W&&(_r[W]=ve.id),Lr.publish("addGState",ve),ve}};p.addGState=function(W,ve){return qo(W,ve),this},p.saveGraphicsState=function(){return ae("q"),qe.push({key:ot,size:pe,color:La}),this},p.restoreGraphicsState=function(){ae("Q");var W=qe.pop();return ot=W.key,pe=W.size,La=W.color,Tr=null,this},p.setCurrentTransformationMatrix=function(W){return ae(W.toString()+" cm"),this},p.comment=function(W){return ae("#"+W),this};var _i=function(W,ve){var $e=W||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return $e},set:function(It){isNaN(It)||($e=parseFloat(It))}});var Ze=ve||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ze},set:function(It){isNaN(It)||(Ze=parseFloat(It))}});var pt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return pt},set:function(It){pt=It.toString()}}),this},Tl=function(W,ve,$e,Ze){_i.call(this,W,ve),this.type="rect";var pt=$e||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return pt},set:function(Gt){isNaN(Gt)||(pt=parseFloat(Gt))}});var It=Ze||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return It},set:function(Gt){isNaN(Gt)||(It=parseFloat(Gt))}}),this},Vc=function(){this.page=pr,this.currentPage=q,this.pages=Le.slice(0),this.pagesContext=Jt.slice(0),this.x=lr,this.y=er,this.matrix=xt,this.width=Ol(q),this.height=Pl(q),this.outputDestination=Fe,this.id="",this.objectNumber=-1};Vc.prototype.restore=function(){pr=this.page,q=this.currentPage,Jt=this.pagesContext,Le=this.pages,lr=this.x,er=this.y,xt=this.matrix,Lu(q,this.width),Kc(q,this.height),Fe=this.outputDestination};var Gc=function(W,ve,$e,Ze,pt){Ln.push(new Vc),pr=q=0,Le=[],lr=W,er=ve,xt=pt,Fn([$e,Ze])},yd=function(W){if(Tn[W])Ln.pop().restore();else{var ve=new Vc,$e="Xo"+(Object.keys(Gr).length+1).toString(10);ve.id=$e,Tn[W]=$e,Gr[$e]=ve,Lr.publish("addFormObject",ve),Ln.pop().restore()}};for(var Ba in p.beginFormObject=function(W,ve,$e,Ze,pt){return Gc(W,ve,$e,Ze,pt),this},p.endFormObject=function(W){return yd(W),this},p.doFormObject=function(W,ve){var $e=Gr[Tn[W]];return ae("q"),ae(ve.toString()+" cm"),ae("/"+$e.id+" Do"),ae("Q"),this},p.getFormObject=function(W){var ve=Gr[Tn[W]];return{x:ve.x,y:ve.y,width:ve.width,height:ve.height,matrix:ve.matrix}},p.save=function(W,ve){return W=W||"generated.pdf",(ve=ve||{}).returnPromise=ve.returnPromise||!1,ve.returnPromise===!1?(S0(en(ya()),W),typeof S0.unload=="function"&&ln.setTimeout&&setTimeout(S0.unload,911),this):new Promise((function($e,Ze){try{var pt=S0(en(ya()),W);typeof S0.unload=="function"&&ln.setTimeout&&setTimeout(S0.unload,911),$e(pt)}catch(It){Ze(It.message)}}))},on.API)on.API.hasOwnProperty(Ba)&&(Ba==="events"&&on.API.events.length?(function(W,ve){var $e,Ze,pt;for(pt=ve.length-1;pt!==-1;pt--)$e=ve[pt][0],Ze=ve[pt][1],W.subscribe.apply(W,[$e].concat(typeof Ze=="function"?[Ze]:Ze))})(Lr,on.API.events):p[Ba]=on.API[Ba]);var Ol=p.getPageWidth=function(W){return(Jt[W=W||q].mediaBox.topRightX-Jt[W].mediaBox.bottomLeftX)/rt},Lu=p.setPageWidth=function(W,ve){Jt[W].mediaBox.topRightX=ve*rt+Jt[W].mediaBox.bottomLeftX},Pl=p.getPageHeight=function(W){return(Jt[W=W||q].mediaBox.topRightY-Jt[W].mediaBox.bottomLeftY)/rt},Kc=p.setPageHeight=function(W,ve){Jt[W].mediaBox.topRightY=ve*rt+Jt[W].mediaBox.bottomLeftY};return p.internal={pdfEscape:mn,getStyle:Kr,getFont:Uc,getFontSize:De,getCharSpace:ul,getTextColor:ho,getLineHeight:ac,getLineHeightFactor:Hi,getLineWidth:Cl,write:ke,getHorizontalCoordinate:Si,getVerticalCoordinate:uo,getCoordinateString:Hc,getVerticalCoordinateString:fo,collections:{},newObject:bt,newAdditionalObject:me,newObjectDeferred:Wt,newObjectDeferredBegin:ee,getFilters:Ge,putStream:dt,events:Lr,scaleFactor:rt,pageSize:{getWidth:function(){return Ol(q)},setWidth:function(W){Lu(q,W)},getHeight:function(){return Pl(q)},setHeight:function(W){Kc(q,W)}},encryptionOptions:d,encryption:Or,getEncryptor:Rr,output:Da,getNumberOfPages:Zr,pages:Le,out:ae,f2:R,f3:C,getPageInfo:kn,getPageInfoByObjId:Ce,getCurrentPageInfo:xr,getPDFVersion:v,Point:_i,Rectangle:Tl,Matrix:vr,hasHotfix:Wr},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Ol(q)},set:function(W){Lu(q,W)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Pl(q)},set:function(W){Kc(q,W)},enumerable:!0,configurable:!0}),cr.call(p,Pe),ot="F1",rr(s,r),Lr.publish("initialized"),p}Uh.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Uh.prototype.toHexString=function(e){return e.split("").map((function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)})).join("")},Uh.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Uh.prototype.processOwnerPassword=function(e,t){return pk(hk(t).substr(0,5),e)},Uh.prototype.encryptor=function(e,t){var r=hk(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return pk(r,n)}},oy.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Pa(e)!==Pa(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},on.API={events:[]},on.version="2.5.2";var Ps=on.API,jS=1,mh=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Mh=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},gn=function(e){return e.toFixed(2)},Cf=function(e){return e.toFixed(5)};Ps.__acroform__={};var El=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},j8=function(e){return e*jS},Xu=function(e){var t=new f9,r=Ir.internal.getHeight(e)||0,n=Ir.internal.getWidth(e)||0;return t.BBox=[0,0,Number(gn(n)),Number(gn(r))],t},oge=Ps.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},lge=Ps.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},cge=Ps.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(e&1<<t)==0?0:1},Vs=Ps.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return cge(e,t-1)},Gs=Ps.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return oge(e,t-1)},Ks=Ps.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return lge(e,t-1)},uge=Ps.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,s=e[0],i=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=r(s)||0,c.lowerLeft_Y=n(i+l)||0,c.upperRight_X=r(s+o)||0,c.upperRight_Y=n(i)||0,[Number(gn(c.lowerLeft_X)),Number(gn(c.lowerLeft_Y)),Number(gn(c.upperRight_X)),Number(gn(c.upperRight_Y))]},dge=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=mk(e,r),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+gn(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Xu(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},mk=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map((function(C){return C.split(`
`)})):s.map((function(C){return[C]}));var i=r,o=Ir.internal.getHeight(e)||0;o=o<0?-o:o;var l=Ir.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(C,T,I){if(C+1<s.length){var B=T+" "+s[C+1][0];return wv(B,e,I).width<=l-4}return!1};i++;e:for(;i>0;){t="",i--;var u,d,h=wv("3",e,i).height,m=e.multiline?o-i:(o-h)/2,p=m+=2,y=0,v=0,g=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+wv(t,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var b="",w=0,j=0;j<s.length;j++)if(s.hasOwnProperty(j)){var N=!1;if(s[j].length!==1&&g!==s[j].length-1){if((h+2)*(w+2)+2>o)continue e;b+=s[j][g],N=!0,v=j,j--}else{b=(b+=s[j][g]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var k=parseInt(j),P=c(k,b,i),A=j>=s.length-1;if(P&&!A){b+=" ",g=0;continue}if(P||A){if(A)v=k;else if(e.multiline&&(h+2)*(w+2)+2>o)continue e}else{if(!e.multiline||(h+2)*(w+2)+2>o)continue e;v=k}}for(var O="",D=y;D<=v;D++){var R=s[D];if(e.multiline){if(D===v){O+=R[g]+" ",g=(g+1)%R.length;continue}if(D===y){O+=R[R.length-1]+" ";continue}}O+=R[0]+" "}switch(O=O.substr(O.length-1)==" "?O.substr(0,O.length-1):O,d=wv(O,e,i).width,e.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;default:u=2}t+=gn(u)+" "+gn(p)+` Td
`,t+="("+mh(O)+`) Tj
`,t+=-gn(u)+` 0 Td
`,p=-(i+2),d=0,y=N?v:v+1,w++,b=""}break}return n.text=t,n.fontSize=i,n},wv=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},fge={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},hge=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find((function(n){return n.type===r.type&&n.object===r.object}))===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},pge=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,s=e[r];t.internal.newObjectDeferredBegin(s.objId,!0),Pa(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete e[n]}},mge=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Iu.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(fge)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");jS=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new h9,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",(function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)})),e.internal.events.subscribe("buildDocument",(function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var i=n[s];i.objId=void 0,i.hasAnnotation&&hge(i,r)}})(e)})),e.internal.events.subscribe("putCatalog",(function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)})),e.internal.events.subscribe("postPutPages",(function(r){(function(n,s){var i=!n;for(var o in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],u=l.Rect;if(l.Rect&&(l.Rect=uge(l.Rect,s)),s.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Ir.createDefaultAppearanceStream(l),Pa(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=dge(l);c.push({key:"AP",value:"<</N "+d+">>"}),s.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var h="";for(var m in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(m)){var p=l.appearanceStreamContent[m];if(h+="/"+m+" ",h+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var y=p[o];typeof y=="function"&&(y=y.call(s,l)),h+="/"+o+" "+y+" ",s.internal.acroformPlugin.xForms.indexOf(y)>=0||s.internal.acroformPlugin.xForms.push(y)}}else typeof(y=p)=="function"&&(y=y.call(s,l)),h+="/"+o+" "+y,s.internal.acroformPlugin.xForms.indexOf(y)>=0||s.internal.acroformPlugin.xForms.push(y);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}s.internal.putStream({additionalKeyValues:c,objectId:l.objId}),s.internal.out("endobj")}i&&pge(s.internal.acroformPlugin.xForms,s)})(r,e)})),e.internal.acroformPlugin.isInitialized=!0}},d9=Ps.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var s="[",i=0;i<e.length;i++)switch(i!==0&&(s+=" "),Pa(e[i])){case"boolean":case"number":case"object":s+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),s+="("+mh(n(e[i].toString()))+")"):s+=e[i].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},fj=function(e,t,r){var n=function(s){return s};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+mh(n(e))+")"},rd=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};rd.prototype.toString=function(){return this.objId+" 0 R"},rd.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},rd.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter((function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"}));for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],s=this[n];s&&(Array.isArray(s)?e.push({key:n,value:d9(s,this.objId,this.scope)}):s instanceof rd?(s.scope=this.scope,e.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:n,value:s}))}return e};var f9=function(){rd.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};El(f9,rd);var h9=function(){rd.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+mh(r(e))+")"}},set:function(r){e=r}})};El(h9,rd);var Iu=function e(){rd.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');t=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Vs(t,3)},set:function(b){b?this.F=Gs(t,3):this.F=Ks(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');r=b}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(b){n=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(b){n[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(b){n[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(b){n[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(b){n[3]=b}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof ly)return;i="FieldObject"+e.FieldNum++}var b=function(w){return w};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+mh(b(i))+")"},set:function(b){i=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(b){i=b}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(b){o=b}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(b){l=b}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(b){c=b}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/jS:u},set:function(b){u=b}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(b){d=b}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof ly||this instanceof W0))return fj(h,this.objId,this.scope)},set:function(b){b=b.toString(),h=b}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Bi?m:fj(m,this.objId,this.scope)},set:function(b){b=b.toString(),m=this instanceof Bi?b:b.substr(0,1)==="("?Mh(b.substr(1,b.length-2)):Mh(b)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Bi?Mh(m.substr(1,m.length-1)):m},set:function(b){b=b.toString(),m=this instanceof Bi?"/"+b:b}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Bi?p:fj(p,this.objId,this.scope)},set:function(b){b=b.toString(),p=this instanceof Bi?b:b.substr(0,1)==="("?Mh(b.substr(1,b.length-2)):Mh(b)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Bi?Mh(p.substr(1,p.length-1)):p},set:function(b){b=b.toString(),p=this instanceof Bi?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(b){b=!!b,v=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(b){y=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Vs(this.Ff,1)},set:function(b){b?this.Ff=Gs(this.Ff,1):this.Ff=Ks(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Vs(this.Ff,2)},set:function(b){b?this.Ff=Gs(this.Ff,2):this.Ff=Ks(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Vs(this.Ff,3)},set:function(b){b?this.Ff=Gs(this.Ff,3):this.Ff=Ks(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(g!==null)return g},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');g=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(g){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:g=2;break;case"center":case 1:g=1;break;default:g=0}}})};El(Iu,rd);var tp=function(){Iu.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return d9(t,this.objId,this.scope)},set:function(r){var n,s;s=[],typeof(n=r)=="string"&&(s=(function(i,o,l){l||(l=1);for(var c,u=[];c=o.exec(i);)u.push(c[l]);return u})(n,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Vs(this.Ff,18)},set:function(r){r?this.Ff=Gs(this.Ff,18):this.Ff=Ks(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Vs(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Gs(this.Ff,19):this.Ff=Ks(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Vs(this.Ff,20)},set:function(r){r?(this.Ff=Gs(this.Ff,20),t.sort()):this.Ff=Ks(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Vs(this.Ff,22)},set:function(r){r?this.Ff=Gs(this.Ff,22):this.Ff=Ks(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Vs(this.Ff,23)},set:function(r){r?this.Ff=Gs(this.Ff,23):this.Ff=Ks(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Vs(this.Ff,27)},set:function(r){r?this.Ff=Gs(this.Ff,27):this.Ff=Ks(this.Ff,27)}}),this.hasAppearanceStream=!1};El(tp,Iu);var rp=function(){tp.call(this),this.fontName="helvetica",this.combo=!1};El(rp,tp);var np=function(){rp.call(this),this.combo=!0};El(np,rp);var Dv=function(){np.call(this),this.edit=!0};El(Dv,np);var Bi=function(){Iu.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Vs(this.Ff,15)},set:function(r){r?this.Ff=Gs(this.Ff,15):this.Ff=Ks(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Vs(this.Ff,16)},set:function(r){r?this.Ff=Gs(this.Ff,16):this.Ff=Ks(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Vs(this.Ff,17)},set:function(r){r?this.Ff=Gs(this.Ff,17):this.Ff=Ks(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Vs(this.Ff,26)},set:function(r){r?this.Ff=Gs(this.Ff,26):this.Ff=Ks(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,s=[];for(n in s.push("<<"),t)s.push("/"+n+" ("+mh(r(t[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){Pa(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};El(Bi,Iu);var Lv=function(){Bi.call(this),this.pushButton=!0};El(Lv,Bi);var ap=function(){Bi.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};El(ap,Bi);var ly=function(){var e,t;Iu.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),n)o.push("/"+i+" ("+mh(s(n[i]))+")");return o.push(">>"),o.join(`
`)},set:function(s){Pa(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ir.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};El(ly,Iu),ap.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},ap.prototype.createOption=function(e){var t=new ly;return t.Parent=this,t.optionName=e,this.Kids.push(t),xge.call(this.scope,t),t};var Fv=function(){Bi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ir.CheckBox.createAppearanceStream()};El(Fv,Bi);var W0=function(){Iu.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Vs(this.Ff,13)},set:function(t){t?this.Ff=Gs(this.Ff,13):this.Ff=Ks(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Vs(this.Ff,21)},set:function(t){t?this.Ff=Gs(this.Ff,21):this.Ff=Ks(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Vs(this.Ff,23)},set:function(t){t?this.Ff=Gs(this.Ff,23):this.Ff=Ks(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Vs(this.Ff,24)},set:function(t){t?this.Ff=Gs(this.Ff,24):this.Ff=Ks(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Vs(this.Ff,25)},set:function(t){t?this.Ff=Gs(this.Ff,25):this.Ff=Ks(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Vs(this.Ff,26)},set:function(t){t?this.Ff=Gs(this.Ff,26):this.Ff=Ks(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};El(W0,Iu);var Mv=function(){W0.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Vs(this.Ff,14)},set:function(e){e?this.Ff=Gs(this.Ff,14):this.Ff=Ks(this.Ff,14)}}),this.password=!0};El(Mv,W0);var Ir={CheckBox:{createAppearanceStream:function(){return{N:{On:Ir.CheckBox.YesNormal},D:{On:Ir.CheckBox.YesPushDown,Off:Ir.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Xu(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),i=mk(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+gn(Ir.internal.getWidth(e))+" "+gn(Ir.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+gn(i.fontSize)+" Tf "+s),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Xu(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),s=[],i=Ir.internal.getHeight(e),o=Ir.internal.getWidth(e),l=mk(e,e.caption);return s.push("1 g"),s.push("0 0 "+gn(o)+" "+gn(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+gn(o-1)+" "+gn(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+gn(l.fontSize)+" Tf "+n),s.push(l.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=Xu(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+gn(Ir.internal.getWidth(e))+" "+gn(Ir.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Ir.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Ir.RadioButton.Circle.YesNormal,t.D[e]=Ir.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Xu(e);t.scope=e.scope;var r=[],n=Ir.internal.getWidth(e)<=Ir.internal.getHeight(e)?Ir.internal.getWidth(e)/4:Ir.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Ir.internal.Bezier_C,i=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Cf(Ir.internal.getWidth(e)/2)+" "+Cf(Ir.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Xu(e);t.scope=e.scope;var r=[],n=Ir.internal.getWidth(e)<=Ir.internal.getHeight(e)?Ir.internal.getWidth(e)/4:Ir.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*Ir.internal.Bezier_C).toFixed(5)),o=Number((n*Ir.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Cf(Ir.internal.getWidth(e)/2)+" "+Cf(Ir.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Cf(Ir.internal.getWidth(e)/2)+" "+Cf(Ir.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Xu(e);t.scope=e.scope;var r=[],n=Ir.internal.getWidth(e)<=Ir.internal.getHeight(e)?Ir.internal.getWidth(e)/4:Ir.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*Ir.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Cf(Ir.internal.getWidth(e)/2)+" "+Cf(Ir.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Ir.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Ir.RadioButton.Cross.YesNormal,t.D[e]=Ir.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Xu(e);t.scope=e.scope;var r=[],n=Ir.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+gn(Ir.internal.getWidth(e)-2)+" "+gn(Ir.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(gn(n.x1.x)+" "+gn(n.x1.y)+" m"),r.push(gn(n.x2.x)+" "+gn(n.x2.y)+" l"),r.push(gn(n.x4.x)+" "+gn(n.x4.y)+" m"),r.push(gn(n.x3.x)+" "+gn(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Xu(e);t.scope=e.scope;var r=Ir.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+gn(Ir.internal.getWidth(e))+" "+gn(Ir.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+gn(Ir.internal.getWidth(e)-2)+" "+gn(Ir.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(gn(r.x1.x)+" "+gn(r.x1.y)+" m"),n.push(gn(r.x2.x)+" "+gn(r.x2.y)+" l"),n.push(gn(r.x4.x)+" "+gn(r.x4.y)+" m"),n.push(gn(r.x3.x)+" "+gn(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Xu(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+gn(Ir.internal.getWidth(e))+" "+gn(Ir.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Ir.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Ir.internal.getWidth(e),r=Ir.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Ir.internal.getWidth=function(e){var t=0;return Pa(e)==="object"&&(t=j8(e.Rect[2])),t},Ir.internal.getHeight=function(e){var t=0;return Pa(e)==="object"&&(t=j8(e.Rect[3])),t};var xge=Ps.addField=function(e){if(mge(this,e),!(e instanceof Iu))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Ps.AcroFormChoiceField=tp,Ps.AcroFormListBox=rp,Ps.AcroFormComboBox=np,Ps.AcroFormEditBox=Dv,Ps.AcroFormButton=Bi,Ps.AcroFormPushButton=Lv,Ps.AcroFormRadioButton=ap,Ps.AcroFormCheckBox=Fv,Ps.AcroFormTextField=W0,Ps.AcroFormPasswordField=Mv,Ps.AcroFormAppearance=Ir,Ps.AcroForm={ChoiceField:tp,ListBox:rp,ComboBox:np,EditBox:Dv,Button:Bi,PushButton:Lv,RadioButton:ap,CheckBox:Fv,TextField:W0,PasswordField:Mv,Appearance:Ir},on.AcroForm={ChoiceField:tp,ListBox:rp,ComboBox:np,EditBox:Dv,Button:Bi,PushButton:Lv,RadioButton:ap,CheckBox:Fv,TextField:W0,PasswordField:Mv,Appearance:Ir};on.AcroForm;function p9(e){return e.reduce((function(t,r,n){return t[r]=n,t}),{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(C,T){var I,B,X,re,Z,te=t;if((T=T||t)==="RGBA"||C.data!==void 0&&C.data instanceof Uint8ClampedArray&&"height"in C&&"width"in C)return"RGBA";if(P(C))for(Z in r)for(X=r[Z],I=0;I<X.length;I+=1){for(re=!0,B=0;B<X[I].length;B+=1)if(X[I][B]!==void 0&&X[I][B]!==C[B]){re=!1;break}if(re===!0){te=Z;break}}else for(Z in r)for(X=r[Z],I=0;I<X.length;I+=1){for(re=!0,B=0;B<X[I].length;B+=1)if(X[I][B]!==void 0&&X[I][B]!==C.charCodeAt(B)){re=!1;break}if(re===!0){te=Z;break}}return te===t&&T!==t&&(te=T),te},s=function C(T){for(var I=this.internal.write,B=this.internal.putStream,X=(0,this.internal.getFilters)();X.indexOf("FlateEncode")!==-1;)X.splice(X.indexOf("FlateEncode"),1);T.objectId=this.internal.newObject();var re=[];if(re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Image"}),re.push({key:"Width",value:T.width}),re.push({key:"Height",value:T.height}),T.colorSpace===g.INDEXED?re.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(T.palette.length/3-1)+" "+("sMask"in T&&T.sMask!==void 0?T.objectId+2:T.objectId+1)+" 0 R]"}):(re.push({key:"ColorSpace",value:"/"+T.colorSpace}),T.colorSpace===g.DEVICE_CMYK&&re.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),re.push({key:"BitsPerComponent",value:T.bitsPerComponent}),"decodeParameters"in T&&T.decodeParameters!==void 0&&re.push({key:"DecodeParms",value:"<<"+T.decodeParameters+">>"}),"transparency"in T&&Array.isArray(T.transparency)){for(var Z="",te=0,Y=T.transparency.length;te<Y;te++)Z+=T.transparency[te]+" "+T.transparency[te]+" ";re.push({key:"Mask",value:"["+Z+"]"})}T.sMask!==void 0&&re.push({key:"SMask",value:T.objectId+1+" 0 R"});var Q=T.filter!==void 0?["/"+T.filter]:void 0;if(B({data:T.data,additionalKeyValues:re,alreadyAppliedFilters:Q,objectId:T.objectId}),I("endobj"),"sMask"in T&&T.sMask!==void 0){var H="/Predictor "+T.predictor+" /Colors 1 /BitsPerComponent "+T.bitsPerComponent+" /Columns "+T.width,E={width:T.width,height:T.height,colorSpace:"DeviceGray",bitsPerComponent:T.bitsPerComponent,decodeParameters:H,data:T.sMask};"filter"in T&&(E.filter=T.filter),C.call(this,E)}if(T.colorSpace===g.INDEXED){var q=this.internal.newObject();B({data:O(new Uint8Array(T.palette)),objectId:q}),I("endobj")}},i=function(){var C=this.internal.collections.addImage_images;for(var T in C)s.call(this,C[T])},o=function(){var C,T=this.internal.collections.addImage_images,I=this.internal.write;for(var B in T)I("/I"+(C=T[B]).index,C.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var C=this.internal.collections.addImage_images;return l.call(this),C},u=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(C){return typeof e["process"+C.toUpperCase()]=="function"},h=function(C){return Pa(C)==="object"&&C.nodeType===1},m=function(C,T){if(C.nodeName==="IMG"&&C.hasAttribute("src")){var I=""+C.getAttribute("src");if(I.indexOf("data:image/")===0)return Gm(unescape(I).split("base64,").pop());var B=e.loadFile(I,!0);if(B!==void 0)return B}if(C.nodeName==="CANVAS"){if(C.width===0||C.height===0)throw new Error("Given canvas must have data. Canvas width: "+C.width+", height: "+C.height);var X;switch(T){case"PNG":X="image/png";break;case"WEBP":X="image/webp";break;default:X="image/jpeg"}return Gm(C.toDataURL(X,1).split("base64,").pop())}},p=function(C){var T=this.internal.collections.addImage_images;if(T){for(var I in T)if(C===T[I].alias)return T[I]}},y=function(C,T,I){return C||T||(C=-96,T=-96),C<0&&(C=-1*I.width*72/C/this.internal.scaleFactor),T<0&&(T=-1*I.height*72/T/this.internal.scaleFactor),C===0&&(C=T*I.width/I.height),T===0&&(T=C*I.height/I.width),[C,T]},v=function(C,T,I,B,X,re){var Z=y.call(this,I,B,X),te=this.internal.getCoordinateString,Y=this.internal.getVerticalCoordinateString,Q=c.call(this);if(I=Z[0],B=Z[1],Q[X.index]=X,re){re*=Math.PI/180;var H=Math.cos(re),E=Math.sin(re),q=function(U){return U.toFixed(4)},V=[q(H),q(E),q(-1*E),q(H),0,0,"cm"]}this.internal.write("q"),re?(this.internal.write([1,"0","0",1,te(C),Y(T+B),"cm"].join(" ")),this.internal.write(V.join(" ")),this.internal.write([te(I),"0","0",te(B),"0","0","cm"].join(" "))):this.internal.write([te(I),"0","0",te(B),te(C),Y(T+B),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+X.index+" Do"),this.internal.write("Q")},g=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=e.__addimage__.sHashCode=function(C){var T,I,B=0;if(typeof C=="string")for(I=C.length,T=0;T<I;T++)B=(B<<5)-B+C.charCodeAt(T),B|=0;else if(P(C))for(I=C.byteLength/2,T=0;T<I;T++)B=(B<<5)-B+C[T],B|=0;return B},j=e.__addimage__.validateStringAsBase64=function(C){(C=C||"").toString().trim();var T=!0;return C.length===0&&(T=!1),C.length%4!=0&&(T=!1),/^[A-Za-z0-9+/]+$/.test(C.substr(0,C.length-2))===!1&&(T=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(C.substr(-2))===!1&&(T=!1),T},N=e.__addimage__.extractImageFromDataUrl=function(C){var T=(C=C||"").split("base64,"),I=null;if(T.length===2){var B=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(T[0]);Array.isArray(B)&&(I={mimeType:B[1],charset:B[2],data:T[1]})}return I},k=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(C){return k()&&C instanceof ArrayBuffer};var P=e.__addimage__.isArrayBufferView=function(C){return k()&&typeof Uint32Array<"u"&&(C instanceof Int8Array||C instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&C instanceof Uint8ClampedArray||C instanceof Int16Array||C instanceof Uint16Array||C instanceof Int32Array||C instanceof Uint32Array||C instanceof Float32Array||C instanceof Float64Array)},A=e.__addimage__.binaryStringToUint8Array=function(C){for(var T=C.length,I=new Uint8Array(T),B=0;B<T;B++)I[B]=C.charCodeAt(B);return I},O=e.__addimage__.arrayBufferToBinaryString=function(C){for(var T="",I=P(C)?C:new Uint8Array(C),B=0;B<I.length;B+=8192)T+=String.fromCharCode.apply(null,I.subarray(B,B+8192));return T};e.addImage=function(){var C,T,I,B,X,re,Z,te,Y;if(typeof arguments[1]=="number"?(T=t,I=arguments[1],B=arguments[2],X=arguments[3],re=arguments[4],Z=arguments[5],te=arguments[6],Y=arguments[7]):(T=arguments[1],I=arguments[2],B=arguments[3],X=arguments[4],re=arguments[5],Z=arguments[6],te=arguments[7],Y=arguments[8]),Pa(C=arguments[0])==="object"&&!h(C)&&"imageData"in C){var Q=C;C=Q.imageData,T=Q.format||T||t,I=Q.x||I||0,B=Q.y||B||0,X=Q.w||Q.width||X,re=Q.h||Q.height||re,Z=Q.alias||Z,te=Q.compression||te,Y=Q.rotation||Q.angle||Y}var H=this.internal.getFilters();if(te===void 0&&H.indexOf("FlateEncode")!==-1&&(te="SLOW"),isNaN(I)||isNaN(B))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var E=D.call(this,C,T,Z,te);return v.call(this,I,B,X,re,E,Y),this};var D=function(C,T,I,B){var X,re,Z;if(typeof C=="string"&&n(C)===t){C=unescape(C);var te=R(C,!1);(te!==""||(te=e.loadFile(C,!0))!==void 0)&&(C=te)}if(h(C)&&(C=m(C,T)),T=n(C,T),!d(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(((Z=I)==null||Z.length===0)&&(I=(function(Y){return typeof Y=="string"||P(Y)?w(Y):P(Y.data)?w(Y.data):null})(C)),(X=p.call(this,I))||(k()&&(C instanceof Uint8Array||T==="RGBA"||(re=C,C=A(C))),X=this["process"+T.toUpperCase()](C,u.call(this),I,(function(Y){return Y&&typeof Y=="string"&&(Y=Y.toUpperCase()),Y in e.image_compression?Y:b.NONE})(B),re)),!X)throw new Error("An unknown error occurred whilst processing the image.");return X},R=e.__addimage__.convertBase64ToBinaryString=function(C,T){var I;T=typeof T!="boolean"||T;var B,X="";if(typeof C=="string"){B=(I=N(C))!==null?I.data:C;try{X=Gm(B)}catch(re){if(T)throw j(B)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+re.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return X};e.getImageProperties=function(C){var T,I,B="";if(h(C)&&(C=m(C)),typeof C=="string"&&n(C)===t&&((B=R(C,!1))===""&&(B=e.loadFile(C)||""),C=B),I=n(C),!d(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(!k()||C instanceof Uint8Array||(C=A(C)),!(T=this["process"+I.toUpperCase()](C)))throw new Error("An unknown error occurred whilst processing the image");return T.fileType=I,T}})(on.API),(function(e){var t=function(r){if(r!==void 0&&r!="")return!0};on.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,s,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,h=0;h<u.length&&!d;h++)switch((n=u[h]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var m=0;m<u.length;m++){n=u[m];var p=this.internal.pdfEscape,y=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),g=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(v.objId),w=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+p(b(n.contents))+")",i+=" /Popup "+g.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+p(b(w))+") >>",v.content=i;var j=v.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+j,n.open&&(i+=" /Open true"),i+=" >>",g.content=i,this.internal.write(v.objId,"0 R",g.objId,"0 R");break;case"freetext":s="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var N=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+p(y(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+N+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var k=this.annotations._nameMap[n.options.name];n.options.pageNumber=k.page,n.options.top=k.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+p(y(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var P=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+P+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,s,i,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+s),h:u(n+i)},options:o,type:"link"})},e.textWithLink=function(r,n,s,i){var o,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var d=this.splitTextToSize(r,l).length;o=Math.ceil(u*d)}else l=c,o=u;return this.text(r,n,s,i),s+=.2*u,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,s-u,l,o,i),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(on.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(v){return t[v.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},l=e.__arabicParser__.isArabicEndLetter=function(v){return o(v)&&i(v)&&t[v.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(v){return o(v)&&s.indexOf(v.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return o(v)&&i(v)&&t[v.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(v){return o(v)&&i(v)&&t[v.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(v){return o(v)&&i(v)&&t[v.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(v){return o(v)&&i(v)&&t[v.charCodeAt(0)].length==4},h=e.__arabicParser__.resolveLigatures=function(v){var g=0,b=r,w="",j=0;for(g=0;g<v.length;g+=1)b[v.charCodeAt(g)]!==void 0?(j++,typeof(b=b[v.charCodeAt(g)])=="number"&&(w+=String.fromCharCode(b),b=r,j=0),g===v.length-1&&(b=r,w+=v.charAt(g-(j-1)),g-=j-1,j=0)):(b=r,w+=v.charAt(g-j),g-=j,j=0);return w};e.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&n[v.charCodeAt(0)]!==void 0};var m=e.__arabicParser__.getCorrectForm=function(v,g,b){return o(v)?i(v)===!1?-1:!u(v)||!o(g)&&!o(b)||!o(b)&&l(g)||l(v)&&!o(g)||l(v)&&c(g)||l(v)&&l(g)?0:d(v)&&o(g)&&!l(g)&&o(b)&&u(b)?3:l(v)||!o(b)?1:2:-1},p=function(v){var g=0,b=0,w=0,j="",N="",k="",P=(v=v||"").split("\\s+"),A=[];for(g=0;g<P.length;g+=1){for(A.push(""),b=0;b<P[g].length;b+=1)j=P[g][b],N=P[g][b-1],k=P[g][b+1],o(j)?(w=m(j,N,k),A[g]+=w!==-1?String.fromCharCode(t[j.charCodeAt(0)][w]):j):A[g]+=j;A[g]=h(A[g])}return A.join(" ")},y=e.__arabicParser__.processArabic=e.processArabic=function(){var v,g=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(g)){var w=0;for(b=[],w=0;w<g.length;w+=1)Array.isArray(g[w])?b.push([p(g[w][0]),g[w][1],g[w][2]]):b.push([p(g[w])]);v=b}else v=p(g);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};e.events.push(["preProcessText",y])})(on.API),on.API.autoPrint=function(e){var t;return((e=e||{}).variant=e.variant||"non-conform",e.variant)==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",(function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+t+" 0 R")}))),this},(function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var s;if((r=r||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(on.API),(function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(v){c=v}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(v){u=v}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(v){d=v}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(v){h=v}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(v){m=v}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(v){p=v}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(v){y=v}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),h=u.font||this.getFont(),m=u.scaleFactor||this.internal.scaleFactor,p=0,y=0,v=0,g=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var b=u.maxWidth;b>0?typeof c=="string"?c=this.splitTextToSize(c,b):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce((function(j,N){return j.concat(g.splitTextToSize(N,b))}),[])):c=Array.isArray(c)?c:[c];for(var w=0;w<c.length;w++)p<(v=this.getStringUnitWidth(c[w],{font:h})*d)&&(p=v);return p!==0&&(y=c.length),{w:p/=m,h:Math.max((y*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/m,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,h=this.internal.__cell__.margins||t,m=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,p&&m&&(this.printHeaderRow(c.lineNumber,!0),c.y+=m[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,d,h,m){if(n.call(this),!d)throw new Error("No data for PDF table.");var p,y,v,g,b=[],w=[],j=[],N={},k={},P=[],A=[],O=(m=m||{}).autoSize||!1,D=m.printHeaders!==!1,R=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,C=m.margins||Object.assign({width:this.getPageWidth()},t),T=typeof m.padding=="number"?m.padding:3,I=m.headerBackgroundColor||"#c8c8c8",B=m.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=D,this.internal.__cell__.margins=C,this.internal.__cell__.table_font_size=R,this.internal.__cell__.padding=T,this.internal.__cell__.headerBackgroundColor=I,this.internal.__cell__.headerTextColor=B,this.setFontSize(R),h==null)w=b=Object.keys(d[0]),j=b.map((function(){return"left"}));else if(Array.isArray(h)&&Pa(h[0])==="object")for(b=h.map((function(Q){return Q.name})),w=h.map((function(Q){return Q.prompt||Q.name||""})),j=h.map((function(Q){return Q.align||"left"})),p=0;p<h.length;p+=1)k[h[p].name]=h[p].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(w=b=h,j=b.map((function(){return"left"})));if(O||Array.isArray(h)&&typeof h[0]=="string")for(p=0;p<b.length;p+=1){for(N[g=b[p]]=d.map((function(Q){return Q[g]})),this.setFont(void 0,"bold"),P.push(this.getTextDimensions(w[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=N[g],this.setFont(void 0,"normal"),v=0;v<y.length;v+=1)P.push(this.getTextDimensions(y[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);k[g]=Math.max.apply(null,P)+T+T,P=[]}if(D){var X={};for(p=0;p<b.length;p+=1)X[b[p]]={},X[b[p]].text=w[p],X[b[p]].align=j[p];var re=l.call(this,X,k);A=b.map((function(Q){return new i(c,u,k[Q],re,X[Q].text,void 0,X[Q].align)})),this.setTableHeaderRow(A),this.printHeaderRow(1,!1)}var Z=h.reduce((function(Q,H){return Q[H.name]=H.align,Q}),{});for(p=0;p<d.length;p+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:p,data:d[p]},this);var te=l.call(this,d[p],k);for(v=0;v<b.length;v+=1){var Y=d[p][b[v]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:p,col:v,data:Y},this),o.call(this,new i(c,u,k[b[v]],te,Y,p+2,Z[b[v]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(c).map((function(p){var y=c[p];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,u[p]-d-d)}),this).map((function(p){return this.getLineHeightFactor()*p.length*h/m+d+d}),this).reduce((function(p,y){return Math.max(p,y)}),0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){d=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,m.push(d)),d.lineNumber=c;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(y)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),r=!1}})(on.API);var m9={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},x9=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],xk=p9(x9),g9=[100,200,300,400,500,600,700,800,900],gge=p9(g9);function gk(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=(function(i){return m9[i=i||"normal"]?i:"normal"})(e.style),n=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(e.weight),s=(function(i){return typeof xk[i=i||"normal"]=="number"?i:"normal"})(e.stretch);return{family:t,style:r,weight:n,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,r,n].join(" ")}}}function k8(e,t,r,n){var s;for(s=r;s>=0&&s<t.length;s+=n)if(e[t[s]])return e[t[s]];for(s=r;s>=0&&s<t.length;s-=n)if(e[t[s]])return e[t[s]]}var vge={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},S8={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function _8(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function yge(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",s=Object.assign({},vge,r.genericFontFamilies||{}),i=null,o=null,l=0;l<t.length;++l)if(s[(i=gk(t[l])).family]&&(i.family=s[i.family]),e.hasOwnProperty(i.family)){o=e[i.family];break}if(!(o=o||e[n]))throw new Error("Could not find a font-family for the rule '"+_8(i)+"' and default family '"+n+"'.");if(o=(function(c,u){if(u[c])return u[c];var d=xk[c],h=d<=xk.normal?-1:1,m=k8(u,x9,d,h);if(!m)throw new Error("Could not find a matching font-stretch value for "+c);return m})(i.stretch,o),o=(function(c,u){if(u[c])return u[c];for(var d=m9[c],h=0;h<d.length;++h)if(u[d[h]])return u[d[h]];throw new Error("Could not find a matching font-style for "+c)})(i.style,o),!(o=(function(c,u){if(u[c])return u[c];if(c===400&&u[500])return u[500];if(c===500&&u[400])return u[400];var d=gge[c],h=k8(u,g9,d,c<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+c);return h})(i.weight,o)))throw new Error("Failed to resolve a font for the rule '"+_8(i)+"'.");return o}function A8(e){return e.trimLeft()}function bge(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function wge(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Nv,E8,C8,hj=["times"];(function(e){var t,r,n,s,i,o,l,c,u,d=function(E){return E=E||{},this.isStrokeTransparent=E.isStrokeTransparent||!1,this.strokeOpacity=E.strokeOpacity||1,this.strokeStyle=E.strokeStyle||"#000000",this.fillStyle=E.fillStyle||"#000000",this.isFillTransparent=E.isFillTransparent||!1,this.fillOpacity=E.fillOpacity||1,this.font=E.font||"10px sans-serif",this.textBaseline=E.textBaseline||"alphabetic",this.textAlign=E.textAlign||"left",this.lineWidth=E.lineWidth||1,this.lineJoin=E.lineJoin||"miter",this.lineCap=E.lineCap||"butt",this.path=E.path||[],this.transform=E.transform!==void 0?E.transform.clone():new c,this.globalCompositeOperation=E.globalCompositeOperation||"normal",this.globalAlpha=E.globalAlpha||1,this.clip_path=E.clip_path||[],this.currentPoint=E.currentPoint||new o,this.miterLimit=E.miterLimit||10,this.lastPoint=E.lastPoint||new o,this.lineDashOffset=E.lineDashOffset||0,this.lineDash=E.lineDash||[],this.margin=E.margin||[0,0,0,0],this.prevPageLastElemOffset=E.prevPageLastElemOffset||0,this.ignoreClearRect=typeof E.ignoreClearRect!="boolean"||E.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var h=function(E){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=E;Object.defineProperty(this,"pdf",{get:function(){return q}});var V=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return V},set:function(oe){V=!!oe}});var U=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return U},set:function(oe){U=!!oe}});var G=0;Object.defineProperty(this,"posX",{get:function(){return G},set:function(oe){isNaN(oe)||(G=oe)}});var ne=0;Object.defineProperty(this,"posY",{get:function(){return ne},set:function(oe){isNaN(oe)||(ne=oe)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(oe){var ae;typeof oe=="number"?ae=[oe,oe,oe,oe]:((ae=new Array(4))[0]=oe[0],ae[1]=oe.length>=2?oe[1]:ae[0],ae[2]=oe.length>=3?oe[2]:ae[0],ae[3]=oe.length>=4?oe[3]:ae[1]),u.margin=ae}});var de=!1;Object.defineProperty(this,"autoPaging",{get:function(){return de},set:function(oe){de=oe}});var ce=0;Object.defineProperty(this,"lastBreak",{get:function(){return ce},set:function(oe){ce=oe}});var he=[];Object.defineProperty(this,"pageBreaks",{get:function(){return he},set:function(oe){he=oe}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(oe){oe instanceof d&&(u=oe)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(oe){u.path=oe}});var Le=[];Object.defineProperty(this,"ctxStack",{get:function(){return Le},set:function(oe){Le=oe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(oe){var ae;ae=m(oe),this.ctx.fillStyle=ae.style,this.ctx.isFillTransparent=ae.a===0,this.ctx.fillOpacity=ae.a,this.pdf.setFillColor(ae.r,ae.g,ae.b,{a:ae.a}),this.pdf.setTextColor(ae.r,ae.g,ae.b,{a:ae.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(oe){var ae=m(oe);this.ctx.strokeStyle=ae.style,this.ctx.isStrokeTransparent=ae.a===0,this.ctx.strokeOpacity=ae.a,ae.a===0?this.pdf.setDrawColor(255,255,255):(ae.a,this.pdf.setDrawColor(ae.r,ae.g,ae.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(oe){["butt","round","square"].indexOf(oe)!==-1&&(this.ctx.lineCap=oe,this.pdf.setLineCap(oe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(oe){isNaN(oe)||(this.ctx.lineWidth=oe,this.pdf.setLineWidth(oe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(oe){["bevel","round","miter"].indexOf(oe)!==-1&&(this.ctx.lineJoin=oe,this.pdf.setLineJoin(oe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(oe){isNaN(oe)||(this.ctx.miterLimit=oe,this.pdf.setMiterLimit(oe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(oe){this.ctx.textBaseline=oe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(oe){["right","end","center","left","start"].indexOf(oe)!==-1&&(this.ctx.textAlign=oe)}});var se=null;function Fe(oe,ae){if(se===null){var ke=(function(we){var Pe=[];return Object.keys(we).forEach((function(pe){we[pe].forEach((function(fe){var De=null;switch(fe){case"bold":De={family:pe,weight:"bold"};break;case"italic":De={family:pe,style:"italic"};break;case"bolditalic":De={family:pe,weight:"bold",style:"italic"};break;case"":case"normal":De={family:pe}}De!==null&&(De.ref={name:pe,style:fe},Pe.push(De))}))})),Pe})(oe.getFontList());se=(function(we){for(var Pe={},pe=0;pe<we.length;++pe){var fe=gk(we[pe]),De=fe.family,Xe=fe.stretch,Je=fe.style,ht=fe.weight;Pe[De]=Pe[De]||{},Pe[De][Xe]=Pe[De][Xe]||{},Pe[De][Xe][Je]=Pe[De][Xe][Je]||{},Pe[De][Xe][Je][ht]=fe}return Pe})(ke.concat(ae))}return se}var _e=null;Object.defineProperty(this,"fontFaces",{get:function(){return _e},set:function(oe){se=null,_e=oe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(oe){var ae;if(this.ctx.font=oe,(ae=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(oe))!==null){var ke=ae[1],we=(ae[2],ae[3]),Pe=ae[4],pe=(ae[5],ae[6]),fe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Pe)[2];Pe=Math.floor(fe==="px"?parseFloat(Pe)*this.pdf.internal.scaleFactor:fe==="em"?parseFloat(Pe)*this.pdf.getFontSize():parseFloat(Pe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Pe);var De=(function(ut){var ot,rt,lr=[],er=ut.trim();if(er==="")return hj;if(er in S8)return[S8[er]];for(;er!=="";){switch(rt=null,ot=(er=A8(er)).charAt(0)){case'"':case"'":rt=bge(er.substring(1),ot);break;default:rt=wge(er)}if(rt===null||(lr.push(rt[0]),(er=A8(rt[1]))!==""&&er.charAt(0)!==","))return hj;er=er.replace(/^,/,"")}return lr})(pe);if(this.fontFaces){var Xe=yge(Fe(this.pdf,this.fontFaces),De.map((function(ut){return{family:ut,stretch:"normal",weight:we,style:ke}})));this.pdf.setFont(Xe.ref.name,Xe.ref.style)}else{var Je="";(we==="bold"||parseInt(we,10)>=700||ke==="bold")&&(Je="bold"),ke==="italic"&&(Je+="italic"),Je.length===0&&(Je="normal");for(var ht="",Ue={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},at=0;at<De.length;at++){if(this.pdf.internal.getFont(De[at],Je,{noFallback:!0,disableWarning:!0})!==void 0){ht=De[at];break}if(Je==="bolditalic"&&this.pdf.internal.getFont(De[at],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ht=De[at],Je="bold";else if(this.pdf.internal.getFont(De[at],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ht=De[at],Je="normal";break}}if(ht===""){for(var Me=0;Me<De.length;Me++)if(Ue[De[Me]]){ht=Ue[De[Me]];break}}ht=ht===""?"Times":ht,this.pdf.setFont(ht,Je)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(oe){this.ctx.globalCompositeOperation=oe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(oe){this.ctx.globalAlpha=oe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(oe){this.ctx.lineDashOffset=oe,H.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(oe){this.ctx.lineDash=oe,H.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(oe){this.ctx.ignoreClearRect=!!oe}})};h.prototype.setLineDash=function(E){this.lineDash=E},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){N.call(this,"fill",!1)},h.prototype.stroke=function(){N.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(E,q){if(isNaN(E)||isNaN(q))throw za.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var V=this.ctx.transform.applyToPoint(new o(E,q));this.path.push({type:"mt",x:V.x,y:V.y}),this.ctx.lastPoint=new o(E,q)},h.prototype.closePath=function(){var E=new o(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&Pa(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){E=new o(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(E.x,E.y)},h.prototype.lineTo=function(E,q){if(isNaN(E)||isNaN(q))throw za.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var V=this.ctx.transform.applyToPoint(new o(E,q));this.path.push({type:"lt",x:V.x,y:V.y}),this.ctx.lastPoint=new o(V.x,V.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),N.call(this,null,!0)},h.prototype.quadraticCurveTo=function(E,q,V,U){if(isNaN(V)||isNaN(U)||isNaN(E)||isNaN(q))throw za.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var G=this.ctx.transform.applyToPoint(new o(V,U)),ne=this.ctx.transform.applyToPoint(new o(E,q));this.path.push({type:"qct",x1:ne.x,y1:ne.y,x:G.x,y:G.y}),this.ctx.lastPoint=new o(G.x,G.y)},h.prototype.bezierCurveTo=function(E,q,V,U,G,ne){if(isNaN(G)||isNaN(ne)||isNaN(E)||isNaN(q)||isNaN(V)||isNaN(U))throw za.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var de=this.ctx.transform.applyToPoint(new o(G,ne)),ce=this.ctx.transform.applyToPoint(new o(E,q)),he=this.ctx.transform.applyToPoint(new o(V,U));this.path.push({type:"bct",x1:ce.x,y1:ce.y,x2:he.x,y2:he.y,x:de.x,y:de.y}),this.ctx.lastPoint=new o(de.x,de.y)},h.prototype.arc=function(E,q,V,U,G,ne){if(isNaN(E)||isNaN(q)||isNaN(V)||isNaN(U)||isNaN(G))throw za.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ne=!!ne,!this.ctx.transform.isIdentity){var de=this.ctx.transform.applyToPoint(new o(E,q));E=de.x,q=de.y;var ce=this.ctx.transform.applyToPoint(new o(0,V)),he=this.ctx.transform.applyToPoint(new o(0,0));V=Math.sqrt(Math.pow(ce.x-he.x,2)+Math.pow(ce.y-he.y,2))}Math.abs(G-U)>=2*Math.PI&&(U=0,G=2*Math.PI),this.path.push({type:"arc",x:E,y:q,radius:V,startAngle:U,endAngle:G,counterclockwise:ne})},h.prototype.arcTo=function(E,q,V,U,G){throw new Error("arcTo not implemented.")},h.prototype.rect=function(E,q,V,U){if(isNaN(E)||isNaN(q)||isNaN(V)||isNaN(U))throw za.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(E,q),this.lineTo(E+V,q),this.lineTo(E+V,q+U),this.lineTo(E,q+U),this.lineTo(E,q),this.lineTo(E+V,q),this.lineTo(E,q)},h.prototype.fillRect=function(E,q,V,U){if(isNaN(E)||isNaN(q)||isNaN(V)||isNaN(U))throw za.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var G={};this.lineCap!=="butt"&&(G.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(G.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(E,q,V,U),this.fill(),G.hasOwnProperty("lineCap")&&(this.lineCap=G.lineCap),G.hasOwnProperty("lineJoin")&&(this.lineJoin=G.lineJoin)}},h.prototype.strokeRect=function(E,q,V,U){if(isNaN(E)||isNaN(q)||isNaN(V)||isNaN(U))throw za.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(E,q,V,U),this.stroke())},h.prototype.clearRect=function(E,q,V,U){if(isNaN(E)||isNaN(q)||isNaN(V)||isNaN(U))throw za.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(E,q,V,U))},h.prototype.save=function(E){E=typeof E!="boolean"||E;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),E){this.ctx.fontSize=this.pdf.internal.getFontSize();var U=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=U}},h.prototype.restore=function(E){E=typeof E!="boolean"||E;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("Q");this.pdf.setPage(q),E&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(E){var q,V,U,G;if(E.isCanvasGradient===!0&&(E=E.getColor()),!E)return{r:0,g:0,b:0,a:0,style:E};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(E))q=0,V=0,U=0,G=0;else{var ne=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(E);if(ne!==null)q=parseInt(ne[1]),V=parseInt(ne[2]),U=parseInt(ne[3]),G=1;else if((ne=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(E))!==null)q=parseInt(ne[1]),V=parseInt(ne[2]),U=parseInt(ne[3]),G=parseFloat(ne[4]);else{if(G=1,typeof E=="string"&&E.charAt(0)!=="#"){var de=new l9(E);E=de.ok?de.toHex():"#000000"}E.length===4?(q=E.substring(1,2),q+=q,V=E.substring(2,3),V+=V,U=E.substring(3,4),U+=U):(q=E.substring(1,3),V=E.substring(3,5),U=E.substring(5,7)),q=parseInt(q,16),V=parseInt(V,16),U=parseInt(U,16)}}return{r:q,g:V,b:U,a:G,style:E}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(E,q,V,U){if(isNaN(q)||isNaN(V)||typeof E!="string")throw za.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(U=isNaN(U)?void 0:U,!p.call(this)){var G=te(this.ctx.transform.rotation),ne=this.ctx.transform.scaleX;T.call(this,{text:E,x:q,y:V,scale:ne,angle:G,align:this.textAlign,maxWidth:U})}},h.prototype.strokeText=function(E,q,V,U){if(isNaN(q)||isNaN(V)||typeof E!="string")throw za.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){U=isNaN(U)?void 0:U;var G=te(this.ctx.transform.rotation),ne=this.ctx.transform.scaleX;T.call(this,{text:E,x:q,y:V,scale:ne,renderingMode:"stroke",angle:G,align:this.textAlign,maxWidth:U})}},h.prototype.measureText=function(E){if(typeof E!="string")throw za.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,V=this.pdf.internal.scaleFactor,U=q.internal.getFontSize(),G=q.getStringUnitWidth(E)*U/q.internal.scaleFactor,ne=function(de){var ce=(de=de||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ce}}),this};return new ne({width:G*=Math.round(96*V/72*1e4)/1e4})},h.prototype.scale=function(E,q){if(isNaN(E)||isNaN(q))throw za.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var V=new c(E,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(V)},h.prototype.rotate=function(E){if(isNaN(E))throw za.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new c(Math.cos(E),Math.sin(E),-Math.sin(E),Math.cos(E),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},h.prototype.translate=function(E,q){if(isNaN(E)||isNaN(q))throw za.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var V=new c(1,0,0,1,E,q);this.ctx.transform=this.ctx.transform.multiply(V)},h.prototype.transform=function(E,q,V,U,G,ne){if(isNaN(E)||isNaN(q)||isNaN(V)||isNaN(U)||isNaN(G)||isNaN(ne))throw za.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var de=new c(E,q,V,U,G,ne);this.ctx.transform=this.ctx.transform.multiply(de)},h.prototype.setTransform=function(E,q,V,U,G,ne){E=isNaN(E)?1:E,q=isNaN(q)?0:q,V=isNaN(V)?0:V,U=isNaN(U)?1:U,G=isNaN(G)?0:G,ne=isNaN(ne)?0:ne,this.ctx.transform=new c(E,q,V,U,G,ne)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(E,q,V,U,G,ne,de,ce,he){var Le=this.pdf.getImageProperties(E),se=1,Fe=1,_e=1,oe=1;U!==void 0&&ce!==void 0&&(_e=ce/U,oe=he/G,se=Le.width/U*ce/U,Fe=Le.height/G*he/G),ne===void 0&&(ne=q,de=V,q=0,V=0),U!==void 0&&ce===void 0&&(ce=U,he=G),U===void 0&&ce===void 0&&(ce=Le.width,he=Le.height);for(var ae,ke=this.ctx.transform.decompose(),we=te(ke.rotate.shx),Pe=new c,pe=(Pe=(Pe=(Pe=Pe.multiply(ke.translate)).multiply(ke.skew)).multiply(ke.scale)).applyToRectangle(new l(ne-q*_e,de-V*oe,U*se,G*Fe)),fe=g.call(this,pe),De=[],Xe=0;Xe<fe.length;Xe+=1)De.indexOf(fe[Xe])===-1&&De.push(fe[Xe]);if(j(De),this.autoPaging)for(var Je=De[0],ht=De[De.length-1],Ue=Je;Ue<ht+1;Ue++){this.pdf.setPage(Ue);var at=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Me=Ue===1?this.posY+this.margin[0]:this.margin[0],ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ot=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],rt=Ue===1?0:ut+(Ue-2)*ot;if(this.ctx.clip_path.length!==0){var lr=this.path;ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(ae,this.posX+this.margin[3],-rt+Me+this.ctx.prevPageLastElemOffset),k.call(this,"fill",!0),this.path=lr}var er=JSON.parse(JSON.stringify(pe));er=w([er],this.posX+this.margin[3],-rt+Me+this.ctx.prevPageLastElemOffset)[0];var xt=(Ue>Je||Ue<ht)&&v.call(this);xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],at,ot,null).clip().discardPath()),this.pdf.addImage(E,"JPEG",er.x,er.y,er.w,er.h,null,null,we),xt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(E,"JPEG",pe.x,pe.y,pe.w,pe.h,null,null,we)};var g=function(E,q,V){var U=[];q=q||this.pdf.internal.pageSize.width,V=V||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var G=this.posY+this.ctx.prevPageLastElemOffset;switch(E.type){default:case"mt":case"lt":U.push(Math.floor((E.y+G)/V)+1);break;case"arc":U.push(Math.floor((E.y+G-E.radius)/V)+1),U.push(Math.floor((E.y+G+E.radius)/V)+1);break;case"qct":var ne=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,E.x1,E.y1,E.x,E.y);U.push(Math.floor((ne.y+G)/V)+1),U.push(Math.floor((ne.y+ne.h+G)/V)+1);break;case"bct":var de=Q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,E.x1,E.y1,E.x2,E.y2,E.x,E.y);U.push(Math.floor((de.y+G)/V)+1),U.push(Math.floor((de.y+de.h+G)/V)+1);break;case"rect":U.push(Math.floor((E.y+G)/V)+1),U.push(Math.floor((E.y+E.h+G)/V)+1)}for(var ce=0;ce<U.length;ce+=1)for(;this.pdf.internal.getNumberOfPages()<U[ce];)b.call(this);return U},b=function(){var E=this.fillStyle,q=this.strokeStyle,V=this.font,U=this.lineCap,G=this.lineWidth,ne=this.lineJoin;this.pdf.addPage(),this.fillStyle=E,this.strokeStyle=q,this.font=V,this.lineCap=U,this.lineWidth=G,this.lineJoin=ne},w=function(E,q,V){for(var U=0;U<E.length;U++)switch(E[U].type){case"bct":E[U].x2+=q,E[U].y2+=V;case"qct":E[U].x1+=q,E[U].y1+=V;default:E[U].x+=q,E[U].y+=V}return E},j=function(E){return E.sort((function(q,V){return q-V}))},N=function(E,q){for(var V,U,G=this.fillStyle,ne=this.strokeStyle,de=this.lineCap,ce=this.lineWidth,he=Math.abs(ce*this.ctx.transform.scaleX),Le=this.lineJoin,se=JSON.parse(JSON.stringify(this.path)),Fe=JSON.parse(JSON.stringify(this.path)),_e=[],oe=0;oe<Fe.length;oe++)if(Fe[oe].x!==void 0)for(var ae=g.call(this,Fe[oe]),ke=0;ke<ae.length;ke+=1)_e.indexOf(ae[ke])===-1&&_e.push(ae[ke]);for(var we=0;we<_e.length;we++)for(;this.pdf.internal.getNumberOfPages()<_e[we];)b.call(this);if(j(_e),this.autoPaging)for(var Pe=_e[0],pe=_e[_e.length-1],fe=Pe;fe<pe+1;fe++){this.pdf.setPage(fe),this.fillStyle=G,this.strokeStyle=ne,this.lineCap=de,this.lineWidth=he,this.lineJoin=Le;var De=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Xe=fe===1?this.posY+this.margin[0]:this.margin[0],Je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ht=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ue=fe===1?0:Je+(fe-2)*ht;if(this.ctx.clip_path.length!==0){var at=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(V,this.posX+this.margin[3],-Ue+Xe+this.ctx.prevPageLastElemOffset),k.call(this,E,!0),this.path=at}if(U=JSON.parse(JSON.stringify(se)),this.path=w(U,this.posX+this.margin[3],-Ue+Xe+this.ctx.prevPageLastElemOffset),q===!1||fe===0){var Me=(fe>Pe||fe<pe)&&v.call(this);Me&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],De,ht,null).clip().discardPath()),k.call(this,E,q),Me&&this.pdf.restoreGraphicsState()}this.lineWidth=ce}else this.lineWidth=he,k.call(this,E,q),this.lineWidth=ce;this.path=se},k=function(E,q){if((E!=="stroke"||q||!y.call(this))&&(E==="stroke"||q||!p.call(this))){for(var V,U,G=[],ne=this.path,de=0;de<ne.length;de++){var ce=ne[de];switch(ce.type){case"begin":G.push({begin:!0});break;case"close":G.push({close:!0});break;case"mt":G.push({start:ce,deltas:[],abs:[]});break;case"lt":var he=G.length;if(ne[de-1]&&!isNaN(ne[de-1].x)&&(V=[ce.x-ne[de-1].x,ce.y-ne[de-1].y],he>0)){for(;he>=0;he--)if(G[he-1].close!==!0&&G[he-1].begin!==!0){G[he-1].deltas.push(V),G[he-1].abs.push(ce);break}}break;case"bct":V=[ce.x1-ne[de-1].x,ce.y1-ne[de-1].y,ce.x2-ne[de-1].x,ce.y2-ne[de-1].y,ce.x-ne[de-1].x,ce.y-ne[de-1].y],G[G.length-1].deltas.push(V);break;case"qct":var Le=ne[de-1].x+2/3*(ce.x1-ne[de-1].x),se=ne[de-1].y+2/3*(ce.y1-ne[de-1].y),Fe=ce.x+2/3*(ce.x1-ce.x),_e=ce.y+2/3*(ce.y1-ce.y),oe=ce.x,ae=ce.y;V=[Le-ne[de-1].x,se-ne[de-1].y,Fe-ne[de-1].x,_e-ne[de-1].y,oe-ne[de-1].x,ae-ne[de-1].y],G[G.length-1].deltas.push(V);break;case"arc":G.push({deltas:[],abs:[],arc:!0}),Array.isArray(G[G.length-1].abs)&&G[G.length-1].abs.push(ce)}}U=q?null:E==="stroke"?"stroke":"fill";for(var ke=!1,we=0;we<G.length;we++)if(G[we].arc)for(var Pe=G[we].abs,pe=0;pe<Pe.length;pe++){var fe=Pe[pe];fe.type==="arc"?O.call(this,fe.x,fe.y,fe.radius,fe.startAngle,fe.endAngle,fe.counterclockwise,void 0,q,!ke):I.call(this,fe.x,fe.y),ke=!0}else if(G[we].close===!0)this.pdf.internal.out("h"),ke=!1;else if(G[we].begin!==!0){var De=G[we].start.x,Xe=G[we].start.y;B.call(this,G[we].deltas,De,Xe),ke=!0}U&&D.call(this,U),q&&R.call(this)}},P=function(E){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,V=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return E-V;case"top":return E+q-V;case"hanging":return E+q-2*V;case"middle":return E+q/2-V;case"ideographic":return E;default:return E}},A=function(E){return E+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var E=function(){};return E.colorStops=[],E.addColorStop=function(q,V){this.colorStops.push([q,V])},E.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},E.isCanvasGradient=!0,E},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var O=function(E,q,V,U,G,ne,de,ce,he){for(var Le=re.call(this,V,U,G,ne),se=0;se<Le.length;se++){var Fe=Le[se];se===0&&(he?C.call(this,Fe.x1+E,Fe.y1+q):I.call(this,Fe.x1+E,Fe.y1+q)),X.call(this,E,q,Fe.x2,Fe.y2,Fe.x3,Fe.y3,Fe.x4,Fe.y4)}ce?R.call(this):D.call(this,de)},D=function(E){switch(E){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},R=function(){this.pdf.clip(),this.pdf.discardPath()},C=function(E,q){this.pdf.internal.out(r(E)+" "+n(q)+" m")},T=function(E){var q;switch(E.align){case"right":case"end":q="right";break;case"center":q="center";break;default:q="left"}var V=this.pdf.getTextDimensions(E.text),U=P.call(this,E.y),G=A.call(this,U)-V.h,ne=this.ctx.transform.applyToPoint(new o(E.x,U)),de=this.ctx.transform.decompose(),ce=new c;ce=(ce=(ce=ce.multiply(de.translate)).multiply(de.skew)).multiply(de.scale);for(var he,Le,se,Fe=this.ctx.transform.applyToRectangle(new l(E.x,U,V.w,V.h)),_e=ce.applyToRectangle(new l(E.x,G,V.w,V.h)),oe=g.call(this,_e),ae=[],ke=0;ke<oe.length;ke+=1)ae.indexOf(oe[ke])===-1&&ae.push(oe[ke]);if(j(ae),this.autoPaging)for(var we=ae[0],Pe=ae[ae.length-1],pe=we;pe<Pe+1;pe++){this.pdf.setPage(pe);var fe=pe===1?this.posY+this.margin[0]:this.margin[0],De=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Xe=this.pdf.internal.pageSize.height-this.margin[2],Je=Xe-this.margin[0],ht=this.pdf.internal.pageSize.width-this.margin[1],Ue=ht-this.margin[3],at=pe===1?0:De+(pe-2)*Je;if(this.ctx.clip_path.length!==0){var Me=this.path;he=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(he,this.posX+this.margin[3],-1*at+fe),k.call(this,"fill",!0),this.path=Me}var ut=w([JSON.parse(JSON.stringify(_e))],this.posX+this.margin[3],-at+fe+this.ctx.prevPageLastElemOffset)[0];E.scale>=.01&&(Le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Le*E.scale),se=this.lineWidth,this.lineWidth=se*E.scale);var ot=this.autoPaging!=="text";if(ot||ut.y+ut.h<=Xe){if(ot||ut.y>=fe&&ut.x<=ht){var rt=ot?E.text:this.pdf.splitTextToSize(E.text,E.maxWidth||ht-ut.x)[0],lr=w([JSON.parse(JSON.stringify(Fe))],this.posX+this.margin[3],-at+fe+this.ctx.prevPageLastElemOffset)[0],er=ot&&(pe>we||pe<Pe)&&v.call(this);er&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ue,Je,null).clip().discardPath()),this.pdf.text(rt,lr.x,lr.y,{angle:E.angle,align:q,renderingMode:E.renderingMode}),er&&this.pdf.restoreGraphicsState()}}else ut.y<Xe&&(this.ctx.prevPageLastElemOffset+=Xe-ut.y);E.scale>=.01&&(this.pdf.setFontSize(Le),this.lineWidth=se)}else E.scale>=.01&&(Le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Le*E.scale),se=this.lineWidth,this.lineWidth=se*E.scale),this.pdf.text(E.text,ne.x+this.posX,ne.y+this.posY,{angle:E.angle,align:q,renderingMode:E.renderingMode,maxWidth:E.maxWidth}),E.scale>=.01&&(this.pdf.setFontSize(Le),this.lineWidth=se)},I=function(E,q,V,U){V=V||0,U=U||0,this.pdf.internal.out(r(E+V)+" "+n(q+U)+" l")},B=function(E,q,V){return this.pdf.lines(E,q,V,null,null)},X=function(E,q,V,U,G,ne,de,ce){this.pdf.internal.out([t(s(V+E)),t(i(U+q)),t(s(G+E)),t(i(ne+q)),t(s(de+E)),t(i(ce+q)),"c"].join(" "))},re=function(E,q,V,U){for(var G=2*Math.PI,ne=Math.PI/2;q>V;)q-=G;var de=Math.abs(V-q);de<G&&U&&(de=G-de);for(var ce=[],he=U?-1:1,Le=q;de>1e-5;){var se=Le+he*Math.min(de,ne);ce.push(Z.call(this,E,Le,se)),de-=Math.abs(se-Le),Le=se}return ce},Z=function(E,q,V){var U=(V-q)/2,G=E*Math.cos(U),ne=E*Math.sin(U),de=G,ce=-ne,he=de*de+ce*ce,Le=he+de*G+ce*ne,se=4/3*(Math.sqrt(2*he*Le)-Le)/(de*ne-ce*G),Fe=de-se*ce,_e=ce+se*de,oe=Fe,ae=-_e,ke=U+q,we=Math.cos(ke),Pe=Math.sin(ke);return{x1:E*Math.cos(q),y1:E*Math.sin(q),x2:Fe*we-_e*Pe,y2:Fe*Pe+_e*we,x3:oe*we-ae*Pe,y3:oe*Pe+ae*we,x4:E*Math.cos(V),y4:E*Math.sin(V)}},te=function(E){return 180*E/Math.PI},Y=function(E,q,V,U,G,ne){var de=E+.5*(V-E),ce=q+.5*(U-q),he=G+.5*(V-G),Le=ne+.5*(U-ne),se=Math.min(E,G,de,he),Fe=Math.max(E,G,de,he),_e=Math.min(q,ne,ce,Le),oe=Math.max(q,ne,ce,Le);return new l(se,_e,Fe-se,oe-_e)},Q=function(E,q,V,U,G,ne,de,ce){var he,Le,se,Fe,_e,oe,ae,ke,we,Pe,pe,fe,De,Xe,Je=V-E,ht=U-q,Ue=G-V,at=ne-U,Me=de-G,ut=ce-ne;for(Le=0;Le<41;Le++)we=(ae=(se=E+(he=Le/40)*Je)+he*((_e=V+he*Ue)-se))+he*(_e+he*(G+he*Me-_e)-ae),Pe=(ke=(Fe=q+he*ht)+he*((oe=U+he*at)-Fe))+he*(oe+he*(ne+he*ut-oe)-ke),Le==0?(pe=we,fe=Pe,De=we,Xe=Pe):(pe=Math.min(pe,we),fe=Math.min(fe,Pe),De=Math.max(De,we),Xe=Math.max(Xe,Pe));return new l(Math.round(pe),Math.round(fe),Math.round(De-pe),Math.round(Xe-fe))},H=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var E,q,V=(E=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:E,lineDashOffset:q}));this.prevLineDash!==V&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=V)}}})(on.API),(function(e){var t=function(i){var o,l,c,u,d,h,m,p,y,v;for(l=[],c=0,u=(i+=o="\0\0\0\0".slice(i.length%4||4)).length;u>c;c+=4)(d=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(h=(d=((d=((d=((d=(d-(v=d%85))/85)-(y=d%85))/85)-(p=d%85))/85)-(m=d%85))/85)%85,l.push(h+33,m+33,p+33,y+33,v+33)):l.push(122);return(function(g,b){for(var w=b;w>0;w--)g.pop()})(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(i){var o,l,c,u,d,h=String,m="length",p=255,y="charCodeAt",v="slice",g="replace";for(i[v](-2),i=i[v](0,-2)[g](/\s/g,"")[g]("z","!!!!!"),c=[],u=0,d=(i+=o="uuuuu"[v](i[m]%5||5))[m];d>u;u+=5)l=52200625*(i[y](u)-33)+614125*(i[y](u+1)-33)+7225*(i[y](u+2)-33)+85*(i[y](u+3)-33)+(i[y](u+4)-33),c.push(p&l>>24,p&l>>16,p&l>>8,p&l);return(function(b,w){for(var j=w;j>0;j--)b.pop()})(c,o[m]),h.fromCharCode.apply(h,c)},n=function(i){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),o.test(i)===!1)return"";for(var l="",c=0;c<i.length;c+=2)l+=String.fromCharCode("0x"+(i[c]+i[c+1]));return l},s=function(i){for(var o=new Uint8Array(i.length),l=i.length;l--;)o[l]=i.charCodeAt(l);return i=(o=dk(o)).reduce((function(c,u){return c+String.fromCharCode(u)}),"")};e.processDataByFilters=function(i,o){var l=0,c=i||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map((function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)})).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}})(on.API),(function(e){e.loadFile=function(t,r,n){return(function(s,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=(function(c,u,d){var h=new XMLHttpRequest,m=0,p=function(y){var v=y.length,g=[],b=String.fromCharCode;for(m=0;m<v;m+=1)g.push(b(255&y.charCodeAt(m)));return g.join("")};if(h.open("GET",c,!u),h.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(h.onload=function(){h.status===200?d(p(this.responseText)):d(void 0)}),h.send(null),u&&h.status===200)return p(h.responseText)})(s,i,o)}catch{}return l})(t,r,n)},e.loadImageFile=e.loadFile})(on.API),(function(e){function t(){return(ln.html2canvas?Promise.resolve(ln.html2canvas):qv(()=>import("./html2canvas.esm-DXEQVQnt.js"),[])).catch((function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))})).then((function(o){return o.default?o.default:o}))}function r(){return(ln.DOMPurify?Promise.resolve(ln.DOMPurify):qv(()=>import("./purify.es-BpVZ_uCt.js"),[])).catch((function(o){return Promise.reject(new Error("Could not load dompurify: "+o))})).then((function(o){return o.default?o.default:o}))}var n=function(o){var l=Pa(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},s=function(o,l){var c=document.createElement(o);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},i=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return u=(u=u.setProgress(1,o,1,[o])).set(l)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(o,l){return o.__proto__=l||i.prototype,o},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(o,l){return this.then((function(){switch(l=l||(function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o)){case"string":return this.then(r).then((function(c){return this.set({src:s("div",{innerHTML:o,dompurify:c})})}));case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}}))},i.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=(function c(u,d){for(var h=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),m=u.firstChild;m;m=m.nextSibling)d!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||h.appendChild(c(m,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(h.width=u.width,h.height=u.height,h.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(h.value=u.value),h.addEventListener("load",(function(){h.scrollTop=u.scrollTop,h.scrollLeft=u.scrollLeft}),!0)),h})(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},i.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then((function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)})).then((function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)}))},i.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then((function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var m=0;m<u.length;++m){var p=u[m],y=p.src.find((function(v){return v.format==="truetype"}));y&&c.addFont(y.url,p.ref.name,p.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,c.context2d.save(!0),l(this.prop.container,h)})).then((function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)}))},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o}))},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},i.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},i.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(o,l)}))},i.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}}))},i.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},i.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map((function(c){if(c in i.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}}),this);return this.then((function(){return this.thenList(l)}))},i.prototype.get=function(o,l){return this.then((function(){var c=o in i.template.prop?this.prop[o]:this.opt[o];return l?l(c):c}))},i.prototype.setMargin=function(o){return this.then((function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o})).then(this.setPageSize)},i.prototype.setPageSize=function(o){function l(c,u){return Math.floor(c*u/72*96)}return this.then((function(){(o=o||on.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o}))},i.prototype.setProgress=function(o,l,c,u){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(o,l,c,u){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},i.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,(function(u,d){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,(function(h){return c.updateProgress(null,u),h})).then(u,d).then((function(h){return c.updateProgress(1),h}))}))},i.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),l&&(l=l.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),d=c.call(u,o,l);return i.convert(d,this.__proto__)},i.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},i.prototype.thenList=function(o){var l=this;return o.forEach((function(c){l=l.thenCore(c)})),l},i.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return i.convert(l,this)},i.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},i.prototype.error=function(o){return this.then((function(){throw new Error(o)}))},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,on.getPageSize=function(o,l,c){if(Pa(o)==="object"){var u=o;o=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var d,h=(""+c).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var p,y=0,v=0;if(m.hasOwnProperty(h))y=m[h][1]/d,v=m[h][0]/d;else try{y=c[1],v=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",v>y&&(p=v,v=y,y=p);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",y>v&&(p=v,v=y,y=p)}return{width:v,height:y,unit:l,k:d,orientation:o}},e.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(gk):null;var c=new i(l);return l.worker?c:c.from(o).doCallback()}})(on.API),on.API.addJS=function(e){return C8=e,this.internal.events.subscribe("postPutResources",(function(){Nv=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Nv+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),E8=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+C8+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){Nv!==void 0&&E8!==void 0&&this.internal.out("/Names <</JavaScript "+Nv+" 0 R>>")})),this},(function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),i=0;i<s.length;i++){var o=s[i],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(i=0;i<u;i++){var h=r.internal.newObject();d.push(h);var m=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<d.length;i++)r.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,s,i){var o={title:s,options:i,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var o=n.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,s){for(var i=0;i<s.children.length;i++)n.count++,this.count_r(n,s.children[i]);return n.count}}])})(on.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,s,i,o,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=(function(h){for(var m,p=256*h.charCodeAt(4)+h.charCodeAt(5),y=h.length,v={width:0,height:0,numcomponents:1},g=4;g<y;g+=2){if(g+=p,t.indexOf(h.charCodeAt(g+1))!==-1){m=256*h.charCodeAt(g+5)+h.charCodeAt(g+6),v={width:256*h.charCodeAt(g+7)+h.charCodeAt(g+8),height:m,numcomponents:h.charCodeAt(g+9)};break}p=256*h.charCodeAt(g+2)+h.charCodeAt(g+3)}return v})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:s}}return d}})(on.API);var Rh,jv,T8,O8,P8,Nge=(function(){var e,t,r;function n(i){var o,l,c,u,d,h,m,p,y,v,g,b,w,j;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(o=this.readUInt32(),y=(function(){var N,k;for(k=[],N=0;N<4;++N)k.push(String.fromCharCode(this.data[this.pos++]));return k}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),u=this.readUInt16()||100,h.delay=1e3*d/u,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(y==="fdAT"&&(this.pos+=4,o-=4),i=h?.data||this.imgData,b=0;0<=o?b<o:b>o;0<=o?++b:--b)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((v=c-this.transparency.indexed.length)>0)for(w=0;0<=v?w<v:w>v;0<=v?++w:--w)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":m=(g=this.read(o)).indexOf(0),p=String.fromCharCode.apply(String,g.slice(0,m)),this.text[p]=String.fromCharCode.apply(String,g.slice(m+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(j=this.colorType)===4||j===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var o,l;for(l=[],o=0;0<=i?o<i:o>i;0<=i?++o:--o)l.push(this.data[this.pos++]);return l},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var o=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*o),c=0,u=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function d(h,m,p,y){var v,g,b,w,j,N,k,P,A,O,D,R,C,T,I,B,X,re,Z,te,Y,Q=Math.ceil((u.width-h)/p),H=Math.ceil((u.height-m)/y),E=u.width==Q&&u.height==H;for(T=o*Q,R=E?l:new Uint8Array(T*H),N=i.length,C=0,g=0;C<H&&c<N;){switch(i[c++]){case 0:for(w=X=0;X<T;w=X+=1)R[g++]=i[c++];break;case 1:for(w=re=0;re<T;w=re+=1)v=i[c++],j=w<o?0:R[g-o],R[g++]=(v+j)%256;break;case 2:for(w=Z=0;Z<T;w=Z+=1)v=i[c++],b=(w-w%o)/o,I=C&&R[(C-1)*T+b*o+w%o],R[g++]=(I+v)%256;break;case 3:for(w=te=0;te<T;w=te+=1)v=i[c++],b=(w-w%o)/o,j=w<o?0:R[g-o],I=C&&R[(C-1)*T+b*o+w%o],R[g++]=(v+Math.floor((j+I)/2))%256;break;case 4:for(w=Y=0;Y<T;w=Y+=1)v=i[c++],b=(w-w%o)/o,j=w<o?0:R[g-o],C===0?I=B=0:(I=R[(C-1)*T+b*o+w%o],B=b&&R[(C-1)*T+(b-1)*o+w%o]),k=j+I-B,P=Math.abs(k-j),O=Math.abs(k-I),D=Math.abs(k-B),A=P<=O&&P<=D?j:O<=D?I:B,R[g++]=(v+A)%256;break;default:throw new Error("Invalid filter algorithm: "+i[c-1])}if(!E){var q=((m+C*y)*u.width+h)*o,V=C*T;for(w=0;w<Q;w+=1){for(var U=0;U<o;U+=1)l[q++]=R[V++];q+=(p-1)*o}}C++}}return i=ege(i),u.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),l},n.prototype.decodePalette=function(){var i,o,l,c,u,d,h,m,p;for(l=this.palette,d=this.transparency.indexed||[],u=new Uint8Array((d.length||0)+l.length),c=0,i=0,o=h=0,m=l.length;h<m;o=h+=3)u[c++]=l[o],u[c++]=l[o+1],u[c++]=l[o+2],u[c++]=(p=d[i++])!=null?p:255;return u},n.prototype.copyToImageData=function(i,o){var l,c,u,d,h,m,p,y,v,g,b;if(c=this.colors,v=null,l=this.hasAlphaChannel,this.palette.length&&(v=(b=this._decodedPalette)!=null?b:this._decodedPalette=this.decodePalette(),c=4,l=!0),y=(u=i.data||i).length,h=v||o,d=m=0,c===1)for(;d<y;)p=v?4*o[d/4]:m,g=h[p++],u[d++]=g,u[d++]=g,u[d++]=g,u[d++]=l?h[p++]:255,m=p;else for(;d<y;)p=v?4*o[d/4]:m,u[d++]=h[p++],u[d++]=h[p++],u[d++]=h[p++],u[d++]=l?h[p++]:255,m=p},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var s=function(){if(Object.prototype.toString.call(ln)==="[object Window]"){try{t=ln.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return s(),e=function(i){var o;if(s()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var o,l,c,u,d,h,m,p;if(this.animation){for(p=[],l=d=0,h=(m=this.animation.frames).length;d<h;l=++d)o=m[l],c=i.createImageData(o.width,o.height),u=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,u),o.imageData=c,p.push(o.image=e(c));return p}},n.prototype.renderFrame=function(i,o){var l,c,u;return l=(c=this.animation.frames)[o],u=c[o-1],o===0&&i.clearRect(0,0,this.width,this.height),u?.disposeOp===1?i.clearRect(u.xOffset,u.yOffset,u.width,u.height):u?.disposeOp===2&&i.putImageData(u.imageData,u.xOffset,u.yOffset),l.blendOp===0&&i.clearRect(l.xOffset,l.yOffset,l.width,l.height),i.drawImage(l.image,l.xOffset,l.yOffset)},n.prototype.animate=function(i){var o,l,c,u,d,h,m=this;return l=0,h=this.animation,u=h.numFrames,c=h.frames,d=h.numPlays,(o=function(){var p,y;if(p=l++%u,y=c[p],m.renderFrame(i,p),u>1&&l/u<d)return m.animation._timeout=setTimeout(o,y.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var o,l;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,o=i.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(l=o.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),o.putImageData(l,0,0))},n})();function jge(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,s=e[t++],i=s>>7,o=1<<(7&s)+1;e[t++],e[t++];var l=null,c=null;i&&(l=t,c=o,t+=3*o);var u=!0,d=[],h=0,m=null,p=0,y=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,y=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((C=e[t++])>=0))throw Error("Invalid block size");if(C===0)break;t+=C}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var v=e[t++];h=e[t++]|e[t++]<<8,m=e[t++],(1&v)==0&&(m=null),p=v>>2&7,t++;break;case 254:for(;;){if(!((C=e[t++])>=0))throw Error("Invalid block size");if(C===0)break;t+=C}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var g=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,j=e[t++]|e[t++]<<8,N=e[t++],k=N>>6&1,P=1<<(7&N)+1,A=l,O=c,D=!1;N>>7&&(D=!0,A=t,O=P,t+=3*P);var R=t;for(t++;;){var C;if(!((C=e[t++])>=0))throw Error("Invalid block size");if(C===0)break;t+=C}d.push({x:g,y:b,width:w,height:j,has_local_palette:D,palette_offset:A,palette_size:O,data_offset:R,data_length:t-R,transparent_index:m,interlaced:!!k,delay:h,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return y},this.frameInfo=function(T){if(T<0||T>=d.length)throw new Error("Frame index out of range.");return d[T]},this.decodeAndBlitFrameBGRA=function(T,I){var B=this.frameInfo(T),X=B.width*B.height,re=new Uint8Array(X);I8(e,B.data_offset,re,X);var Z=B.palette_offset,te=B.transparent_index;te===null&&(te=256);var Y=B.width,Q=r-Y,H=Y,E=4*(B.y*r+B.x),q=4*((B.y+B.height)*r+B.x),V=E,U=4*Q;B.interlaced===!0&&(U+=4*r*7);for(var G=8,ne=0,de=re.length;ne<de;++ne){var ce=re[ne];if(H===0&&(H=Y,(V+=U)>=q&&(U=4*Q+4*r*(G-1),V=E+(Y+Q)*(G<<1),G>>=1)),ce===te)V+=4;else{var he=e[Z+3*ce],Le=e[Z+3*ce+1],se=e[Z+3*ce+2];I[V++]=se,I[V++]=Le,I[V++]=he,I[V++]=255}--H}},this.decodeAndBlitFrameRGBA=function(T,I){var B=this.frameInfo(T),X=B.width*B.height,re=new Uint8Array(X);I8(e,B.data_offset,re,X);var Z=B.palette_offset,te=B.transparent_index;te===null&&(te=256);var Y=B.width,Q=r-Y,H=Y,E=4*(B.y*r+B.x),q=4*((B.y+B.height)*r+B.x),V=E,U=4*Q;B.interlaced===!0&&(U+=4*r*7);for(var G=8,ne=0,de=re.length;ne<de;++ne){var ce=re[ne];if(H===0&&(H=Y,(V+=U)>=q&&(U=4*Q+4*r*(G-1),V=E+(Y+Q)*(G<<1),G>>=1)),ce===te)V+=4;else{var he=e[Z+3*ce],Le=e[Z+3*ce+1],se=e[Z+3*ce+2];I[V++]=he,I[V++]=Le,I[V++]=se,I[V++]=255}--H}}}function I8(e,t,r,n){for(var s=e[t++],i=1<<s,o=i+1,l=o+1,c=s+1,u=(1<<c)-1,d=0,h=0,m=0,p=e[t++],y=new Int32Array(4096),v=null;;){for(;d<16&&p!==0;)h|=e[t++]<<d,d+=8,p===1?p=e[t++]:--p;if(d<c)break;var g=h&u;if(h>>=c,d-=c,g!==i){if(g===o)break;for(var b=g<l?g:v,w=0,j=b;j>i;)j=y[j]>>8,++w;var N=j;if(m+w+(b!==g?1:0)>n)return void za.log("Warning, gif stream longer than expected.");r[m++]=N;var k=m+=w;for(b!==g&&(r[m++]=N),j=b;w--;)j=y[j],r[--k]=255&j,j>>=8;v!==null&&l<4096&&(y[l++]=v<<8|N,l>=u+1&&c<12&&(++c,u=u<<1|1)),v=g}else l=o+1,u=(1<<(c=s+1))-1,v=null}return m!==n&&za.log("Warning, gif stream shorter than expected."),r}function pj(e){var t,r,n,s,i,o=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),h=new Array(65535),m=new Array(65535),p=new Array(64),y=new Array(64),v=[],g=0,b=7,w=new Array(64),j=new Array(64),N=new Array(64),k=new Array(256),P=new Array(2048),A=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],O=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],X=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function re(E,q){for(var V=0,U=0,G=new Array,ne=1;ne<=16;ne++){for(var de=1;de<=E[ne];de++)G[q[U]]=[],G[q[U]][0]=V,G[q[U]][1]=ne,U++,V++;V*=2}return G}function Z(E){for(var q=E[0],V=E[1]-1;V>=0;)q&1<<V&&(g|=1<<b),V--,--b<0&&(g==255?(te(255),te(0)):te(g),b=7,g=0)}function te(E){v.push(E)}function Y(E){te(E>>8&255),te(255&E)}function Q(E,q,V,U,G){for(var ne,de=G[0],ce=G[240],he=(function(Pe,pe){var fe,De,Xe,Je,ht,Ue,at,Me,ut,ot,rt=0;for(ut=0;ut<8;++ut){fe=Pe[rt],De=Pe[rt+1],Xe=Pe[rt+2],Je=Pe[rt+3],ht=Pe[rt+4],Ue=Pe[rt+5],at=Pe[rt+6];var lr=fe+(Me=Pe[rt+7]),er=fe-Me,xt=De+at,Ht=De-at,Ut=Xe+Ue,qe=Xe-Ue,jt=Je+ht,kr=Je-ht,zt=lr+jt,_r=lr-jt,Tr=xt+Ut,pr=xt-Ut;Pe[rt]=zt+Tr,Pe[rt+4]=zt-Tr;var Jt=.707106781*(pr+_r);Pe[rt+2]=_r+Jt,Pe[rt+6]=_r-Jt;var Lr=.382683433*((zt=kr+qe)-(pr=Ht+er)),Ar=.5411961*zt+Lr,Gr=1.306562965*pr+Lr,Tn=.707106781*(Tr=qe+Ht),Ln=er+Tn,vr=er-Tn;Pe[rt+5]=vr+Ar,Pe[rt+3]=vr-Ar,Pe[rt+1]=Ln+Gr,Pe[rt+7]=Ln-Gr,rt+=8}for(rt=0,ut=0;ut<8;++ut){fe=Pe[rt],De=Pe[rt+8],Xe=Pe[rt+16],Je=Pe[rt+24],ht=Pe[rt+32],Ue=Pe[rt+40],at=Pe[rt+48];var Xn=fe+(Me=Pe[rt+56]),vn=fe-Me,Ke=De+at,bt=De-at,Wt=Xe+Ue,ee=Xe-Ue,me=Je+ht,ge=Je-ht,Se=Xn+me,Ee=Xn-me,Te=Ke+Wt,Ge=Ke-Wt;Pe[rt]=Se+Te,Pe[rt+32]=Se-Te;var dt=.707106781*(Ge+Ee);Pe[rt+16]=Ee+dt,Pe[rt+48]=Ee-dt;var Ve=.382683433*((Se=ge+ee)-(Ge=bt+vn)),Qe=.5411961*Se+Ve,ze=1.306562965*Ge+Ve,Ie=.707106781*(Te=ee+bt),et=vn+Ie,gt=vn-Ie;Pe[rt+40]=gt+Qe,Pe[rt+24]=gt-Qe,Pe[rt+8]=et+ze,Pe[rt+56]=et-ze,rt++}for(ut=0;ut<64;++ut)ot=Pe[ut]*pe[ut],p[ut]=ot>0?ot+.5|0:ot-.5|0;return p})(E,q),Le=0;Le<64;++Le)y[A[Le]]=he[Le];var se=y[0]-V;V=y[0],se==0?Z(U[0]):(Z(U[m[ne=32767+se]]),Z(h[ne]));for(var Fe=63;Fe>0&&y[Fe]==0;)Fe--;if(Fe==0)return Z(de),V;for(var _e,oe=1;oe<=Fe;){for(var ae=oe;y[oe]==0&&oe<=Fe;)++oe;var ke=oe-ae;if(ke>=16){_e=ke>>4;for(var we=1;we<=_e;++we)Z(ce);ke&=15}ne=32767+y[oe],Z(G[(ke<<4)+m[ne]]),Z(h[ne]),oe++}return Fe!=63&&Z(de),V}function H(E){E=Math.min(Math.max(E,1),100),i!=E&&((function(q){for(var V=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],U=0;U<64;U++){var G=o((V[U]*q+50)/100);G=Math.min(Math.max(G,1),255),l[A[U]]=G}for(var ne=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],de=0;de<64;de++){var ce=o((ne[de]*q+50)/100);ce=Math.min(Math.max(ce,1),255),c[A[de]]=ce}for(var he=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Le=0,se=0;se<8;se++)for(var Fe=0;Fe<8;Fe++)u[Le]=1/(l[A[Le]]*he[se]*he[Fe]*8),d[Le]=1/(c[A[Le]]*he[se]*he[Fe]*8),Le++})(E<50?Math.floor(5e3/E):Math.floor(200-2*E)),i=E)}this.encode=function(E,q){q&&H(q),v=new Array,g=0,b=7,Y(65496),Y(65504),Y(16),te(74),te(70),te(73),te(70),te(0),te(1),te(1),te(0),Y(1),Y(1),te(0),te(0),(function(){Y(65499),Y(132),te(0);for(var De=0;De<64;De++)te(l[De]);te(1);for(var Xe=0;Xe<64;Xe++)te(c[Xe])})(),(function(De,Xe){Y(65472),Y(17),te(8),Y(Xe),Y(De),te(3),te(1),te(17),te(0),te(2),te(17),te(1),te(3),te(17),te(1)})(E.width,E.height),(function(){Y(65476),Y(418),te(0);for(var De=0;De<16;De++)te(O[De+1]);for(var Xe=0;Xe<=11;Xe++)te(D[Xe]);te(16);for(var Je=0;Je<16;Je++)te(R[Je+1]);for(var ht=0;ht<=161;ht++)te(C[ht]);te(1);for(var Ue=0;Ue<16;Ue++)te(T[Ue+1]);for(var at=0;at<=11;at++)te(I[at]);te(17);for(var Me=0;Me<16;Me++)te(B[Me+1]);for(var ut=0;ut<=161;ut++)te(X[ut])})(),Y(65498),Y(12),te(3),te(1),te(0),te(2),te(17),te(3),te(17),te(0),te(63),te(0);var V=0,U=0,G=0;g=0,b=7,this.encode.displayName="_encode_";for(var ne,de,ce,he,Le,se,Fe,_e,oe,ae=E.data,ke=E.width,we=E.height,Pe=4*ke,pe=0;pe<we;){for(ne=0;ne<Pe;){for(Le=Pe*pe+ne,Fe=-1,_e=0,oe=0;oe<64;oe++)se=Le+(_e=oe>>3)*Pe+(Fe=4*(7&oe)),pe+_e>=we&&(se-=Pe*(pe+1+_e-we)),ne+Fe>=Pe&&(se-=ne+Fe-Pe+4),de=ae[se++],ce=ae[se++],he=ae[se++],w[oe]=(P[de]+P[ce+256>>0]+P[he+512>>0]>>16)-128,j[oe]=(P[de+768>>0]+P[ce+1024>>0]+P[he+1280>>0]>>16)-128,N[oe]=(P[de+1280>>0]+P[ce+1536>>0]+P[he+1792>>0]>>16)-128;V=Q(w,u,V,t,n),U=Q(j,d,U,r,s),G=Q(N,d,G,r,s),ne+=32}pe+=8}if(b>=0){var fe=[];fe[1]=b+1,fe[0]=(1<<b+1)-1,Z(fe)}return Y(65497),new Uint8Array(v)},e=e||50,(function(){for(var E=String.fromCharCode,q=0;q<256;q++)k[q]=E(q)})(),t=re(O,D),r=re(T,I),n=re(R,C),s=re(B,X),(function(){for(var E=1,q=2,V=1;V<=15;V++){for(var U=E;U<q;U++)m[32767+U]=V,h[32767+U]=[],h[32767+U][1]=V,h[32767+U][0]=U;for(var G=-(q-1);G<=-E;G++)m[32767+G]=V,h[32767+G]=[],h[32767+G][1]=V,h[32767+G][0]=q-1+G;E<<=1,q<<=1}})(),(function(){for(var E=0;E<256;E++)P[E]=19595*E,P[E+256>>0]=38470*E,P[E+512>>0]=7471*E+32768,P[E+768>>0]=-11059*E,P[E+1024>>0]=-21709*E,P[E+1280>>0]=32768*E+8421375,P[E+1536>>0]=-27439*E,P[E+1792>>0]=-5329*E})(),H(e)}function gu(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function D8(e){function t(O){if(!O)throw Error("assert :P")}function r(O,D,R){for(var C=0;4>C;C++)if(O[D+C]!=R.charCodeAt(C))return!0;return!1}function n(O,D,R,C,T){for(var I=0;I<T;I++)O[D+I]=R[C+I]}function s(O,D,R,C){for(var T=0;T<C;T++)O[D+T]=R}function i(O){return new Int32Array(O)}function o(O,D){for(var R=[],C=0;C<O;C++)R.push(new D);return R}function l(O,D){var R=[];return(function C(T,I,B){for(var X=B[I],re=0;re<X&&(T.push(B.length>I+1?[]:new D),!(B.length<I+1));re++)C(T[re],I+1,B)})(R,0,O),R}var c=function(){var O=this;function D(_,M){for(var J=1<<M-1>>>0;_&J;)J>>>=1;return J?(_&J-1)+J:_}function R(_,M,J,le,xe){t(!(le%J));do _[M+(le-=J)]=xe;while(0<le)}function C(_,M,J,le,xe){if(t(2328>=xe),512>=xe)var ye=i(512);else if((ye=i(xe))==null)return 0;return(function(je,Ae,Oe,Re,Ye,vt){var mt,ct,qt=Ae,Tt=1<<Oe,tt=i(16),st=i(16);for(t(Ye!=0),t(Re!=null),t(je!=null),t(0<Oe),ct=0;ct<Ye;++ct){if(15<Re[ct])return 0;++tt[Re[ct]]}if(tt[0]==Ye)return 0;for(st[1]=0,mt=1;15>mt;++mt){if(tt[mt]>1<<mt)return 0;st[mt+1]=st[mt]+tt[mt]}for(ct=0;ct<Ye;++ct)mt=Re[ct],0<Re[ct]&&(vt[st[mt]++]=ct);if(st[15]==1)return(Re=new T).g=0,Re.value=vt[0],R(je,qt,1,Tt,Re),Tt;var Dt,Pt=-1,Ft=Tt-1,wr=0,dr=1,zr=1,gr=1<<Oe;for(ct=0,mt=1,Ye=2;mt<=Oe;++mt,Ye<<=1){if(dr+=zr<<=1,0>(zr-=tt[mt]))return 0;for(;0<tt[mt];--tt[mt])(Re=new T).g=mt,Re.value=vt[ct++],R(je,qt+wr,Ye,gr,Re),wr=D(wr,mt)}for(mt=Oe+1,Ye=2;15>=mt;++mt,Ye<<=1){if(dr+=zr<<=1,0>(zr-=tt[mt]))return 0;for(;0<tt[mt];--tt[mt]){if(Re=new T,(wr&Ft)!=Pt){for(qt+=gr,Dt=1<<(Pt=mt)-Oe;15>Pt&&!(0>=(Dt-=tt[Pt]));)++Pt,Dt<<=1;Tt+=gr=1<<(Dt=Pt-Oe),je[Ae+(Pt=wr&Ft)].g=Dt+Oe,je[Ae+Pt].value=qt-Ae-Pt}Re.g=mt-Oe,Re.value=vt[ct++],R(je,qt+(wr>>Oe),Ye,gr,Re),wr=D(wr,mt)}}return dr!=2*st[15]-1?0:Tt})(_,M,J,le,xe,ye)}function T(){this.value=this.g=0}function I(){this.value=this.g=0}function B(){this.G=o(5,T),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(ca,I)}function X(_,M,J,le){t(_!=null),t(M!=null),t(2147483648>le),_.Ca=254,_.I=0,_.b=-8,_.Ka=0,_.oa=M,_.pa=J,_.Jd=M,_.Yc=J+le,_.Zc=4<=le?J+le-4+1:J,ne(_)}function re(_,M){for(var J=0;0<M--;)J|=ce(_,128)<<M;return J}function Z(_,M){var J=re(_,M);return de(_)?-J:J}function te(_,M,J,le){var xe,ye=0;for(t(_!=null),t(M!=null),t(4294967288>le),_.Sb=le,_.Ra=0,_.u=0,_.h=0,4<le&&(le=4),xe=0;xe<le;++xe)ye+=M[J+xe]<<8*xe;_.Ra=ye,_.bb=le,_.oa=M,_.pa=J}function Y(_){for(;8<=_.u&&_.bb<_.Sb;)_.Ra>>>=8,_.Ra+=_.oa[_.pa+_.bb]<<Fu-8>>>0,++_.bb,_.u-=8;V(_)&&(_.h=1,_.u=0)}function Q(_,M){if(t(0<=M),!_.h&&M<=Il){var J=q(_)&Xc[M];return _.u+=M,Y(_),J}return _.h=1,_.u=0}function H(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function E(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(_){return _.Ra>>>(_.u&Fu-1)>>>0}function V(_){return t(_.bb<=_.Sb),_.h||_.bb==_.Sb&&_.u>Fu}function U(_,M){_.u=M,_.h=V(_)}function G(_){_.u>=ic&&(t(_.u>=ic),Y(_))}function ne(_){t(_!=null&&_.oa!=null),_.pa<_.Zc?(_.I=(_.oa[_.pa++]|_.I<<8)>>>0,_.b+=8):(t(_!=null&&_.oa!=null),_.pa<_.Yc?(_.b+=8,_.I=_.oa[_.pa++]|_.I<<8):_.Ka?_.b=0:(_.I<<=8,_.b+=8,_.Ka=1))}function de(_){return re(_,1)}function ce(_,M){var J=_.Ca;0>_.b&&ne(_);var le=_.b,xe=J*M>>>8,ye=(_.I>>>le>xe)+0;for(ye?(J-=xe,_.I-=xe+1<<le>>>0):J=xe+1,le=J,xe=0;256<=le;)xe+=8,le>>=8;return le=7^xe+ui[le],_.b-=le,_.Ca=(J<<le)-1,ye}function he(_,M,J){_[M+0]=J>>24&255,_[M+1]=J>>16&255,_[M+2]=J>>8&255,_[M+3]=J>>0&255}function Le(_,M){return _[M+0]<<0|_[M+1]<<8}function se(_,M){return Le(_,M)|_[M+2]<<16}function Fe(_,M){return Le(_,M)|Le(_,M+2)<<16}function _e(_,M){var J=1<<M;return t(_!=null),t(0<M),_.X=i(J),_.X==null?0:(_.Mb=32-M,_.Xa=M,1)}function oe(_,M){t(_!=null),t(M!=null),t(_.Xa==M.Xa),n(M.X,0,_.X,0,1<<M.Xa)}function ae(){this.X=[],this.Xa=this.Mb=0}function ke(_,M,J,le){t(J!=null),t(le!=null);var xe=J[0],ye=le[0];return xe==0&&(xe=(_*ye+M/2)/M),ye==0&&(ye=(M*xe+_/2)/_),0>=xe||0>=ye?0:(J[0]=xe,le[0]=ye,1)}function we(_,M){return _+(1<<M)-1>>>M}function Pe(_,M){return((4278255360&_)+(4278255360&M)>>>0&4278255360)+((16711935&_)+(16711935&M)>>>0&16711935)>>>0}function pe(_,M){O[M]=function(J,le,xe,ye,je,Ae,Oe){var Re;for(Re=0;Re<je;++Re){var Ye=O[_](Ae[Oe+Re-1],xe,ye+Re);Ae[Oe+Re]=Pe(J[le+Re],Ye)}}}function fe(){this.ud=this.hd=this.jd=0}function De(_,M){return((4278124286&(_^M))>>>1)+(_&M)>>>0}function Xe(_){return 0<=_&&256>_?_:0>_?0:255<_?255:void 0}function Je(_,M){return Xe(_+(_-M+.5>>1))}function ht(_,M,J){return Math.abs(M-J)-Math.abs(_-J)}function Ue(_,M,J,le,xe,ye,je){for(le=ye[je-1],J=0;J<xe;++J)ye[je+J]=le=Pe(_[M+J],le)}function at(_,M,J,le,xe){var ye;for(ye=0;ye<J;++ye){var je=_[M+ye],Ae=je>>8&255,Oe=16711935&(Oe=(Oe=16711935&je)+((Ae<<16)+Ae));le[xe+ye]=(4278255360&je)+Oe>>>0}}function Me(_,M){M.jd=_>>0&255,M.hd=_>>8&255,M.ud=_>>16&255}function ut(_,M,J,le,xe,ye){var je;for(je=0;je<le;++je){var Ae=M[J+je],Oe=Ae>>>8,Re=Ae,Ye=255&(Ye=(Ye=Ae>>>16)+((_.jd<<24>>24)*(Oe<<24>>24)>>>5));Re=255&(Re=(Re=Re+((_.hd<<24>>24)*(Oe<<24>>24)>>>5))+((_.ud<<24>>24)*(Ye<<24>>24)>>>5)),xe[ye+je]=(4278255360&Ae)+(Ye<<16)+Re}}function ot(_,M,J,le,xe){O[M]=function(ye,je,Ae,Oe,Re,Ye,vt,mt,ct){for(Oe=vt;Oe<mt;++Oe)for(vt=0;vt<ct;++vt)Re[Ye++]=xe(Ae[le(ye[je++])])},O[_]=function(ye,je,Ae,Oe,Re,Ye,vt){var mt=8>>ye.b,ct=ye.Ea,qt=ye.K[0],Tt=ye.w;if(8>mt)for(ye=(1<<ye.b)-1,Tt=(1<<mt)-1;je<Ae;++je){var tt,st=0;for(tt=0;tt<ct;++tt)tt&ye||(st=le(Oe[Re++])),Ye[vt++]=xe(qt[st&Tt]),st>>=mt}else O["VP8LMapColor"+J](Oe,Re,qt,Tt,Ye,vt,je,Ae,ct)}}function rt(_,M,J,le,xe){for(J=M+J;M<J;){var ye=_[M++];le[xe++]=ye>>16&255,le[xe++]=ye>>8&255,le[xe++]=ye>>0&255}}function lr(_,M,J,le,xe){for(J=M+J;M<J;){var ye=_[M++];le[xe++]=ye>>16&255,le[xe++]=ye>>8&255,le[xe++]=ye>>0&255,le[xe++]=ye>>24&255}}function er(_,M,J,le,xe){for(J=M+J;M<J;){var ye=(je=_[M++])>>16&240|je>>12&15,je=je>>0&240|je>>28&15;le[xe++]=ye,le[xe++]=je}}function xt(_,M,J,le,xe){for(J=M+J;M<J;){var ye=(je=_[M++])>>16&248|je>>13&7,je=je>>5&224|je>>3&31;le[xe++]=ye,le[xe++]=je}}function Ht(_,M,J,le,xe){for(J=M+J;M<J;){var ye=_[M++];le[xe++]=ye>>0&255,le[xe++]=ye>>8&255,le[xe++]=ye>>16&255}}function Ut(_,M,J,le,xe,ye){if(ye==0)for(J=M+J;M<J;)he(le,((ye=_[M++])[0]>>24|ye[1]>>8&65280|ye[2]<<8&16711680|ye[3]<<24)>>>0),xe+=32;else n(le,xe,_,M,J)}function qe(_,M){O[M][0]=O[_+"0"],O[M][1]=O[_+"1"],O[M][2]=O[_+"2"],O[M][3]=O[_+"3"],O[M][4]=O[_+"4"],O[M][5]=O[_+"5"],O[M][6]=O[_+"6"],O[M][7]=O[_+"7"],O[M][8]=O[_+"8"],O[M][9]=O[_+"9"],O[M][10]=O[_+"10"],O[M][11]=O[_+"11"],O[M][12]=O[_+"12"],O[M][13]=O[_+"13"],O[M][14]=O[_+"0"],O[M][15]=O[_+"0"]}function jt(_){return _==go||_==Ti||_==Ho||_==Nd}function kr(){this.eb=[],this.size=this.A=this.fb=0}function zt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function _r(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new kr,this.f.kb=new zt,this.sd=null}function Tr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function pr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Jt(_){return alert("todo:WebPSamplerProcessPlane"),_.T}function Lr(_,M){var J=_.T,le=M.ba.f.RGBA,xe=le.eb,ye=le.fb+_.ka*le.A,je=Oi[M.ba.S],Ae=_.y,Oe=_.O,Re=_.f,Ye=_.N,vt=_.ea,mt=_.W,ct=M.cc,qt=M.dc,Tt=M.Mc,tt=M.Nc,st=_.ka,Dt=_.ka+_.T,Pt=_.U,Ft=Pt+1>>1;for(st==0?je(Ae,Oe,null,null,Re,Ye,vt,mt,Re,Ye,vt,mt,xe,ye,null,null,Pt):(je(M.ec,M.fc,Ae,Oe,ct,qt,Tt,tt,Re,Ye,vt,mt,xe,ye-le.A,xe,ye,Pt),++J);st+2<Dt;st+=2)ct=Re,qt=Ye,Tt=vt,tt=mt,Ye+=_.Rc,mt+=_.Rc,ye+=2*le.A,je(Ae,(Oe+=2*_.fa)-_.fa,Ae,Oe,ct,qt,Tt,tt,Re,Ye,vt,mt,xe,ye-le.A,xe,ye,Pt);return Oe+=_.fa,_.j+Dt<_.o?(n(M.ec,M.fc,Ae,Oe,Pt),n(M.cc,M.dc,Re,Ye,Ft),n(M.Mc,M.Nc,vt,mt,Ft),J--):1&Dt||je(Ae,Oe,null,null,Re,Ye,vt,mt,Re,Ye,vt,mt,xe,ye+le.A,null,null,Pt),J}function Ar(_,M,J){var le=_.F,xe=[_.J];if(le!=null){var ye=_.U,je=M.ba.S,Ae=je==cf||je==Ho;M=M.ba.f.RGBA;var Oe=[0],Re=_.ka;Oe[0]=_.T,_.Kb&&(Re==0?--Oe[0]:(--Re,xe[0]-=_.width),_.j+_.ka+_.T==_.o&&(Oe[0]=_.o-_.j-Re));var Ye=M.eb;Re=M.fb+Re*M.A,_=ta(le,xe[0],_.width,ye,Oe,Ye,Re+(Ae?0:3),M.A),t(J==Oe),_&&jt(je)&&Ci(Ye,Re,Ae,ye,Oe,M.A)}return 0}function Gr(_){var M=_.ma,J=M.ba.S,le=11>J,xe=J==Bl||J==Uu||J==cf||J==da||J==12||jt(J);if(M.memory=null,M.Ib=null,M.Jb=null,M.Nd=null,!Ss(M.Oa,_,xe?11:12))return 0;if(xe&&jt(J)&&Gt(),_.da)alert("todo:use_scaling");else{if(le){if(M.Ib=Jt,_.Kb){if(J=_.U+1>>1,M.memory=i(_.U+2*J),M.memory==null)return 0;M.ec=M.memory,M.fc=0,M.cc=M.ec,M.dc=M.fc+_.U,M.Mc=M.cc,M.Nc=M.dc+J,M.Ib=Lr,Gt()}}else alert("todo:EmitYUV");xe&&(M.Jb=Ar,le&&pt())}if(le&&!Ja){for(_=0;256>_;++_)Pi[_]=89858*(_-128)+hs>>fi,Zs[_]=-22014*(_-128)+hs,$u[_]=-45773*(_-128),Yi[_]=113618*(_-128)+hs>>fi;for(_=ra;_<Jn;++_)M=76283*(_-16)+hs>>fi,jd[_-ra]=ka(M,255),kd[_-ra]=ka(M+8>>4,15);Ja=1}return 1}function Tn(_){var M=_.ma,J=_.U,le=_.T;return t(!(1&_.ka)),0>=J||0>=le?0:(J=M.Ib(_,M),M.Jb!=null&&M.Jb(_,M,J),M.Dc+=J,1)}function Ln(_){_.ma.memory=null}function vr(_,M,J,le){return Q(_,8)!=47?0:(M[0]=Q(_,14)+1,J[0]=Q(_,14)+1,le[0]=Q(_,1),Q(_,3)!=0?0:!_.h)}function Xn(_,M){if(4>_)return _+1;var J=_-2>>1;return(2+(1&_)<<J)+Q(M,J)+1}function vn(_,M){return 120<M?M-120:1<=(J=((J=Kp[M-1])>>4)*_+(8-(15&J)))?J:1;var J}function Ke(_,M,J){var le=q(J),xe=_[M+=255&le].g-8;return 0<xe&&(U(J,J.u+8),le=q(J),M+=_[M].value,M+=le&(1<<xe)-1),U(J,J.u+_[M].g),_[M].value}function bt(_,M,J){return J.g+=_.g,J.value+=_.value<<M>>>0,t(8>=J.g),_.g}function Wt(_,M,J){var le=_.xc;return t((M=le==0?0:_.vc[_.md*(J>>le)+(M>>le)])<_.Wb),_.Ya[M]}function ee(_,M,J,le){var xe=_.ab,ye=_.c*M,je=_.C;M=je+M;var Ae=J,Oe=le;for(le=_.Ta,J=_.Ua;0<xe--;){var Re=_.gc[xe],Ye=je,vt=M,mt=Ae,ct=Oe,qt=(Oe=le,Ae=J,Re.Ea);switch(t(Ye<vt),t(vt<=Re.nc),Re.hc){case 2:Mu(mt,ct,(vt-Ye)*qt,Oe,Ae);break;case 0:var Tt=Ye,tt=vt,st=Oe,Dt=Ae,Pt=(gr=Re).Ea;Tt==0&&(oc(mt,ct,null,null,1,st,Dt),Ue(mt,ct+1,0,0,Pt-1,st,Dt+1),ct+=Pt,Dt+=Pt,++Tt);for(var Ft=1<<gr.b,wr=Ft-1,dr=we(Pt,gr.b),zr=gr.K,gr=gr.w+(Tt>>gr.b)*dr;Tt<tt;){var Hn=zr,Wn=gr,On=1;for(dl(mt,ct,st,Dt-Pt,1,st,Dt);On<Pt;){var xn=(On&~wr)+Ft;xn>Pt&&(xn=Pt),(0,Rs[Hn[Wn++]>>8&15])(mt,ct+ +On,st,Dt+On-Pt,xn-On,st,Dt+On),On=xn}ct+=Pt,Dt+=Pt,++Tt&wr||(gr+=dr)}vt!=Re.nc&&n(Oe,Ae-qt,Oe,Ae+(vt-Ye-1)*qt,qt);break;case 1:for(qt=mt,tt=ct,Pt=(mt=Re.Ea)-(Dt=mt&~(st=(ct=1<<Re.b)-1)),Tt=we(mt,Re.b),Ft=Re.K,Re=Re.w+(Ye>>Re.b)*Tt;Ye<vt;){for(wr=Ft,dr=Re,zr=new fe,gr=tt+Dt,Hn=tt+mt;tt<gr;)Me(wr[dr++],zr),Wi(zr,qt,tt,ct,Oe,Ae),tt+=ct,Ae+=ct;tt<Hn&&(Me(wr[dr++],zr),Wi(zr,qt,tt,Pt,Oe,Ae),tt+=Pt,Ae+=Pt),++Ye&st||(Re+=Tt)}break;case 3:if(mt==Oe&&ct==Ae&&0<Re.b){for(tt=Oe,mt=qt=Ae+(vt-Ye)*qt-(Dt=(vt-Ye)*we(Re.Ea,Re.b)),ct=Oe,st=Ae,Tt=[],Dt=(Pt=Dt)-1;0<=Dt;--Dt)Tt[Dt]=ct[st+Dt];for(Dt=Pt-1;0<=Dt;--Dt)tt[mt+Dt]=Tt[Dt];As(Re,Ye,vt,Oe,qt,Oe,Ae)}else As(Re,Ye,vt,mt,ct,Oe,Ae)}Ae=le,Oe=J}Oe!=J&&n(le,J,Ae,Oe,ye)}function me(_,M){var J=_.V,le=_.Ba+_.c*_.C,xe=M-_.C;if(t(M<=_.l.o),t(16>=xe),0<xe){var ye=_.l,je=_.Ta,Ae=_.Ua,Oe=ye.width;if(ee(_,xe,J,le),xe=Ae=[Ae],t((J=_.C)<(le=M)),t(ye.v<ye.va),le>ye.o&&(le=ye.o),J<ye.j){var Re=ye.j-J;J=ye.j,xe[0]+=Re*Oe}if(J>=le?J=0:(xe[0]+=4*ye.v,ye.ka=J-ye.j,ye.U=ye.va-ye.v,ye.T=le-J,J=1),J){if(Ae=Ae[0],11>(J=_.ca).S){var Ye=J.f.RGBA,vt=(le=J.S,xe=ye.U,ye=ye.T,Re=Ye.eb,Ye.A),mt=ye;for(Ye=Ye.fb+_.Ma*Ye.A;0<mt--;){var ct=je,qt=Ae,Tt=xe,tt=Re,st=Ye;switch(le){case Jc:ls(ct,qt,Tt,tt,st);break;case Bl:Ya(ct,qt,Tt,tt,st);break;case go:Ya(ct,qt,Tt,tt,st),Ci(tt,st,0,Tt,1,0);break;case wd:Dl(ct,qt,Tt,tt,st);break;case Uu:Ut(ct,qt,Tt,tt,st,1);break;case Ti:Ut(ct,qt,Tt,tt,st,1),Ci(tt,st,0,Tt,1,0);break;case cf:Ut(ct,qt,Tt,tt,st,0);break;case Ho:Ut(ct,qt,Tt,tt,st,0),Ci(tt,st,1,Tt,1,0);break;case da:Vi(ct,qt,Tt,tt,st);break;case Nd:Vi(ct,qt,Tt,tt,st),ua(tt,st,Tt,1,0);break;case uf:Gi(ct,qt,Tt,tt,st);break;default:t(0)}Ae+=Oe,Ye+=vt}_.Ma+=ye}else alert("todo:EmitRescaledRowsYUVA");t(_.Ma<=J.height)}}_.C=M,t(_.C<=_.i)}function ge(_){var M;if(0<_.ua)return 0;for(M=0;M<_.Wb;++M){var J=_.Ya[M].G,le=_.Ya[M].H;if(0<J[1][le[1]+0].g||0<J[2][le[2]+0].g||0<J[3][le[3]+0].g)return 0}return 1}function Se(_,M,J,le,xe,ye){if(_.Z!=0){var je=_.qd,Ae=_.rd;for(t(qs[_.Z]!=null);M<J;++M)qs[_.Z](je,Ae,le,xe,le,xe,ye),je=le,Ae=xe,xe+=ye;_.qd=je,_.rd=Ae}}function Ee(_,M){var J=_.l.ma,le=J.Z==0||J.Z==1?_.l.j:_.C;if(le=_.C<le?le:_.C,t(M<=_.l.o),M>le){var xe=_.l.width,ye=J.ca,je=J.tb+xe*le,Ae=_.V,Oe=_.Ba+_.c*le,Re=_.gc;t(_.ab==1),t(Re[0].hc==3),cc(Re[0],le,M,Ae,Oe,ye,je),Se(J,le,M,ye,je,xe)}_.C=_.Ma=M}function Te(_,M,J,le,xe,ye,je){var Ae=_.$/le,Oe=_.$%le,Re=_.m,Ye=_.s,vt=J+_.$,mt=vt;xe=J+le*xe;var ct=J+le*ye,qt=280+Ye.ua,Tt=_.Pb?Ae:16777216,tt=0<Ye.ua?Ye.Wa:null,st=Ye.wc,Dt=vt<ct?Wt(Ye,Oe,Ae):null;t(_.C<ye),t(ct<=xe);var Pt=!1;e:for(;;){for(;Pt||vt<ct;){var Ft=0;if(Ae>=Tt){var wr=vt-J;t((Tt=_).Pb),Tt.wd=Tt.m,Tt.xd=wr,0<Tt.s.ua&&oe(Tt.s.Wa,Tt.s.vb),Tt=Ae+ff}if(Oe&st||(Dt=Wt(Ye,Oe,Ae)),t(Dt!=null),Dt.Qb&&(M[vt]=Dt.qb,Pt=!0),!Pt)if(G(Re),Dt.jc){Ft=Re,wr=M;var dr=vt,zr=Dt.pd[q(Ft)&ca-1];t(Dt.jc),256>zr.g?(U(Ft,Ft.u+zr.g),wr[dr]=zr.value,Ft=0):(U(Ft,Ft.u+zr.g-256),t(256<=zr.value),Ft=zr.value),Ft==0&&(Pt=!0)}else Ft=Ke(Dt.G[0],Dt.H[0],Re);if(Re.h)break;if(Pt||256>Ft){if(!Pt)if(Dt.nd)M[vt]=(Dt.qb|Ft<<8)>>>0;else{if(G(Re),Pt=Ke(Dt.G[1],Dt.H[1],Re),G(Re),wr=Ke(Dt.G[2],Dt.H[2],Re),dr=Ke(Dt.G[3],Dt.H[3],Re),Re.h)break;M[vt]=(dr<<24|Pt<<16|Ft<<8|wr)>>>0}if(Pt=!1,++vt,++Oe>=le&&(Oe=0,++Ae,je!=null&&Ae<=ye&&!(Ae%16)&&je(_,Ae),tt!=null))for(;mt<vt;)Ft=M[mt++],tt.X[(506832829*Ft&4294967295)>>>tt.Mb]=Ft}else if(280>Ft){if(Ft=Xn(Ft-256,Re),wr=Ke(Dt.G[4],Dt.H[4],Re),G(Re),wr=vn(le,wr=Xn(wr,Re)),Re.h)break;if(vt-J<wr||xe-vt<Ft)break e;for(dr=0;dr<Ft;++dr)M[vt+dr]=M[vt+dr-wr];for(vt+=Ft,Oe+=Ft;Oe>=le;)Oe-=le,++Ae,je!=null&&Ae<=ye&&!(Ae%16)&&je(_,Ae);if(t(vt<=xe),Oe&st&&(Dt=Wt(Ye,Oe,Ae)),tt!=null)for(;mt<vt;)Ft=M[mt++],tt.X[(506832829*Ft&4294967295)>>>tt.Mb]=Ft}else{if(!(Ft<qt))break e;for(Pt=Ft-280,t(tt!=null);mt<vt;)Ft=M[mt++],tt.X[(506832829*Ft&4294967295)>>>tt.Mb]=Ft;Ft=vt,t(!(Pt>>>(wr=tt).Xa)),M[Ft]=wr.X[Pt],Pt=!0}Pt||t(Re.h==V(Re))}if(_.Pb&&Re.h&&vt<xe)t(_.m.h),_.a=5,_.m=_.wd,_.$=_.xd,0<_.s.ua&&oe(_.s.vb,_.s.Wa);else{if(Re.h)break e;je?.(_,Ae>ye?ye:Ae),_.a=0,_.$=vt-J}return 1}return _.a=3,0}function Ge(_){t(_!=null),_.vc=null,_.yc=null,_.Ya=null;var M=_.Wa;M!=null&&(M.X=null),_.vb=null,t(_!=null)}function dt(){var _=new yd;return _==null?null:(_.a=0,_.xb=Ul,qe("Predictor","VP8LPredictors"),qe("Predictor","VP8LPredictors_C"),qe("PredictorAdd","VP8LPredictorsAdd"),qe("PredictorAdd","VP8LPredictorsAdd_C"),Mu=at,Wi=ut,ls=rt,Ya=lr,Vi=er,Gi=xt,Dl=Ht,O.VP8LMapColor32b=lc,O.VP8LMapColor8b=$o,_)}function Ve(_,M,J,le,xe){var ye=1,je=[_],Ae=[M],Oe=le.m,Re=le.s,Ye=null,vt=0;e:for(;;){if(J)for(;ye&&Q(Oe,1);){var mt=je,ct=Ae,qt=le,Tt=1,tt=qt.m,st=qt.gc[qt.ab],Dt=Q(tt,2);if(qt.Oc&1<<Dt)ye=0;else{switch(qt.Oc|=1<<Dt,st.hc=Dt,st.Ea=mt[0],st.nc=ct[0],st.K=[null],++qt.ab,t(4>=qt.ab),Dt){case 0:case 1:st.b=Q(tt,3)+2,Tt=Ve(we(st.Ea,st.b),we(st.nc,st.b),0,qt,st.K),st.K=st.K[0];break;case 3:var Pt,Ft=Q(tt,8)+1,wr=16<Ft?0:4<Ft?1:2<Ft?2:3;if(mt[0]=we(st.Ea,wr),st.b=wr,Pt=Tt=Ve(Ft,1,0,qt,st.K)){var dr,zr=Ft,gr=st,Hn=1<<(8>>gr.b),Wn=i(Hn);if(Wn==null)Pt=0;else{var On=gr.K[0],xn=gr.w;for(Wn[0]=gr.K[0][0],dr=1;dr<1*zr;++dr)Wn[dr]=Pe(On[xn+dr],Wn[dr-1]);for(;dr<4*Hn;++dr)Wn[dr]=0;gr.K[0]=null,gr.K[0]=Wn,Pt=1}}Tt=Pt;break;case 2:break;default:t(0)}ye=Tt}}if(je=je[0],Ae=Ae[0],ye&&Q(Oe,1)&&!(ye=1<=(vt=Q(Oe,4))&&11>=vt)){le.a=3;break e}var na;if(na=ye)t:{var fa,Xr,_a,Qa=le,va=je,ps=Ae,Rn=vt,ei=J,ti=Qa.m,qa=Qa.s,ms=[null],$s=1,Ii=0,bo=Zc[Rn];r:for(;;){if(ei&&Q(ti,1)){var Aa=Q(ti,3)+2,Ga=we(va,Aa),Qi=we(ps,Aa),mc=Ga*Qi;if(!Ve(Ga,Qi,0,Qa,ms))break r;for(ms=ms[0],qa.xc=Aa,fa=0;fa<mc;++fa){var ql=ms[fa]>>8&65535;ms[fa]=ql,ql>=$s&&($s=ql+1)}}if(ti.h)break r;for(Xr=0;5>Xr;++Xr){var Qn=dc[Xr];!Xr&&0<Rn&&(Qn+=1<<Rn),Ii<Qn&&(Ii=Qn)}var Wo=o($s*bo,T),_d=$s,f0=o(_d,B);if(f0==null)var wo=null;else t(65536>=_d),wo=f0;var Zi=i(Ii);if(wo==null||Zi==null||Wo==null){Qa.a=1;break r}var No=Wo;for(fa=_a=0;fa<$s;++fa){var Di=wo[fa],xs=Di.G,su=Di.H,iu=0,hi=1,ou=0;for(Xr=0;5>Xr;++Xr){Qn=dc[Xr],xs[Xr]=No,su[Xr]=_a,!Xr&&0<Rn&&(Qn+=1<<Rn);a:{var F,ue=Qn,Ne=Qa,He=Zi,ft=No,sr=_a,Nt=0,Zt=Ne.m,qr=Q(Zt,1);if(s(He,0,0,ue),qr){var fn=Q(Zt,1)+1,Bn=Q(Zt,1),Ea=Q(Zt,Bn==0?1:8);He[Ea]=1,fn==2&&(He[Ea=Q(Zt,8)]=1);var $a=1}else{var Gn=i(19),Za=Q(Zt,4)+4;if(19<Za){Ne.a=3;var gs=0;break a}for(F=0;F<Za;++F)Gn[df[F]]=Q(Zt,3);var gf=void 0,lu=void 0,vf=Ne,sb=Gn,zs=ue,vh=He,h0=0,xc=vf.m,$l=8,Vo=o(128,T);n:for(;C(Vo,0,7,sb,19);){if(Q(xc,1)){var p0=2+2*Q(xc,3);if((gf=2+Q(xc,p0))>zs)break n}else gf=zs;for(lu=0;lu<zs&&gf--;){G(xc);var yh=Vo[0+(127&q(xc))];U(xc,xc.u+yh.g);var Hu=yh.value;if(16>Hu)vh[lu++]=Hu,Hu!=0&&($l=Hu);else{var hg=Hu==16,Yp=Hu-16,pg=vl[Yp],Jp=Q(xc,Qc[Yp])+pg;if(lu+Jp>zs)break n;for(var mg=hg?$l:0;0<Jp--;)vh[lu++]=mg}}h0=1;break n}h0||(vf.a=3),$a=h0}($a=$a&&!Zt.h)&&(Nt=C(ft,sr,8,He,ue)),$a&&Nt!=0?gs=Nt:(Ne.a=3,gs=0)}if(gs==0)break r;if(hi&&c0[Xr]==1&&(hi=No[_a].g==0),iu+=No[_a].g,_a+=gs,3>=Xr){var yf,bh=Zi[0];for(yf=1;yf<Qn;++yf)Zi[yf]>bh&&(bh=Zi[yf]);ou+=bh}}if(Di.nd=hi,Di.Qb=0,hi&&(Di.qb=(xs[3][su[3]+0].value<<24|xs[1][su[1]+0].value<<16|xs[2][su[2]+0].value)>>>0,iu==0&&256>xs[0][su[0]+0].value&&(Di.Qb=1,Di.qb+=xs[0][su[0]+0].value<<8)),Di.jc=!Di.Qb&&6>ou,Di.jc){var m0,Go=Di;for(m0=0;m0<ca;++m0){var cu=m0,zl=Go.pd[cu],Ad=Go.G[0][Go.H[0]+cu];256<=Ad.value?(zl.g=Ad.g+256,zl.value=Ad.value):(zl.g=0,zl.value=0,cu>>=bt(Ad,8,zl),cu>>=bt(Go.G[1][Go.H[1]+cu],16,zl),cu>>=bt(Go.G[2][Go.H[2]+cu],0,zl),bt(Go.G[3][Go.H[3]+cu],24,zl))}}}qa.vc=ms,qa.Wb=$s,qa.Ya=wo,qa.yc=Wo,na=1;break t}na=0}if(!(ye=na)){le.a=3;break e}if(0<vt){if(Re.ua=1<<vt,!_e(Re.Wa,vt)){le.a=1,ye=0;break e}}else Re.ua=0;var wh=le,Nh=je,xg=Ae,jh=wh.s,kh=jh.xc;if(wh.c=Nh,wh.i=xg,jh.md=we(Nh,kh),jh.wc=kh==0?-1:(1<<kh)-1,J){le.xb=yo;break e}if((Ye=i(je*Ae))==null){le.a=1,ye=0;break e}ye=(ye=Te(le,Ye,0,je,Ae,Ae,null))&&!Oe.h;break e}return ye?(xe!=null?xe[0]=Ye:(t(Ye==null),t(J)),le.$=0,J||Ge(Re)):Ge(Re),ye}function Qe(_,M){var J=_.c*_.i,le=J+M+16*M;return t(_.c<=M),_.V=i(le),_.V==null?(_.Ta=null,_.Ua=0,_.a=1,0):(_.Ta=_.V,_.Ua=_.Ba+J+M,1)}function ze(_,M){var J=_.C,le=M-J,xe=_.V,ye=_.Ba+_.c*J;for(t(M<=_.l.o);0<le;){var je=16<le?16:le,Ae=_.l.ma,Oe=_.l.width,Re=Oe*je,Ye=Ae.ca,vt=Ae.tb+Oe*J,mt=_.Ta,ct=_.Ua;ee(_,je,xe,ye),Fa(mt,ct,Ye,vt,Re),Se(Ae,J,J+je,Ye,vt,Oe),le-=je,xe+=je*_.c,J+=je}t(J==M),_.C=_.Ma=M}function Ie(){this.ub=this.yd=this.td=this.Rb=0}function et(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function gt(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Lt(){this.Yb=(function(){var _=[];return(function M(J,le,xe){for(var ye=xe[le],je=0;je<ye&&(J.push(xe.length>le+1?[]:0),!(xe.length<le+1));je++)M(J[je],le+1,xe)})(_,0,[3,11]),_})()}function Bt(){this.jb=i(3),this.Wc=l([4,8],Lt),this.Xc=l([4,17],Lt)}function br(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Dr(){this.ld=this.La=this.dd=this.tc=0}function Qr(){this.Na=this.la=0}function Nn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ds(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function qn(){this.uc=this.M=this.Nb=0,this.wa=Array(new Dr),this.Y=0,this.ya=Array(new ds),this.aa=0,this.l=new fs}function ss(){this.y=i(16),this.f=i(8),this.ea=i(8)}function $n(){this.cb=this.a=0,this.sc="",this.m=new H,this.Od=new Ie,this.Kc=new et,this.ed=new br,this.Qa=new gt,this.Ic=this.$c=this.Aa=0,this.D=new qn,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,H),this.ia=0,this.pb=o(4,Nn),this.Pa=new Bt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ss),this.Hd=0,this.rb=Array(new Qr),this.sb=0,this.wa=Array(new Dr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ds),this.L=this.aa=0,this.gd=l([4,2],Dr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function fs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function jn(){var _=new $n;return _!=null&&(_.a=0,_.sc="OK",_.cb=0,_.Xb=0,eu||(eu=yt)),_}function Hr(_,M,J){return _.a==0&&(_.a=M,_.sc=J,_.cb=0),0}function Be(_,M,J){return 3<=J&&_[M+0]==157&&_[M+1]==1&&_[M+2]==42}function kt(_,M){if(_==null)return 0;if(_.a=0,_.sc="OK",M==null)return Hr(_,2,"null VP8Io passed to VP8GetHeaders()");var J=M.data,le=M.w,xe=M.ha;if(4>xe)return Hr(_,7,"Truncated header.");var ye=J[le+0]|J[le+1]<<8|J[le+2]<<16,je=_.Od;if(je.Rb=!(1&ye),je.td=ye>>1&7,je.yd=ye>>4&1,je.ub=ye>>5,3<je.td)return Hr(_,3,"Incorrect keyframe parameters.");if(!je.yd)return Hr(_,4,"Frame not displayable.");le+=3,xe-=3;var Ae=_.Kc;if(je.Rb){if(7>xe)return Hr(_,7,"cannot parse picture header");if(!Be(J,le,xe))return Hr(_,3,"Bad code word");Ae.c=16383&(J[le+4]<<8|J[le+3]),Ae.Td=J[le+4]>>6,Ae.i=16383&(J[le+6]<<8|J[le+5]),Ae.Ud=J[le+6]>>6,le+=7,xe-=7,_.za=Ae.c+15>>4,_.Ub=Ae.i+15>>4,M.width=Ae.c,M.height=Ae.i,M.Da=0,M.j=0,M.v=0,M.va=M.width,M.o=M.height,M.da=0,M.ib=M.width,M.hb=M.height,M.U=M.width,M.T=M.height,s((ye=_.Pa).jb,0,255,ye.jb.length),t((ye=_.Qa)!=null),ye.Cb=0,ye.Bb=0,ye.Fb=1,s(ye.Zb,0,0,ye.Zb.length),s(ye.Lb,0,0,ye.Lb)}if(je.ub>xe)return Hr(_,7,"bad partition length");X(ye=_.m,J,le,je.ub),le+=je.ub,xe-=je.ub,je.Rb&&(Ae.Ld=de(ye),Ae.Kd=de(ye)),Ae=_.Qa;var Oe,Re=_.Pa;if(t(ye!=null),t(Ae!=null),Ae.Cb=de(ye),Ae.Cb){if(Ae.Bb=de(ye),de(ye)){for(Ae.Fb=de(ye),Oe=0;4>Oe;++Oe)Ae.Zb[Oe]=de(ye)?Z(ye,7):0;for(Oe=0;4>Oe;++Oe)Ae.Lb[Oe]=de(ye)?Z(ye,6):0}if(Ae.Bb)for(Oe=0;3>Oe;++Oe)Re.jb[Oe]=de(ye)?re(ye,8):255}else Ae.Bb=0;if(ye.Ka)return Hr(_,3,"cannot parse segment header");if((Ae=_.ed).zd=de(ye),Ae.Tb=re(ye,6),Ae.wb=re(ye,3),Ae.Pc=de(ye),Ae.Pc&&de(ye)){for(Re=0;4>Re;++Re)de(ye)&&(Ae.vd[Re]=Z(ye,6));for(Re=0;4>Re;++Re)de(ye)&&(Ae.od[Re]=Z(ye,6))}if(_.L=Ae.Tb==0?0:Ae.zd?1:2,ye.Ka)return Hr(_,3,"cannot parse filter header");var Ye=xe;if(xe=Oe=le,le=Oe+Ye,Ae=Ye,_.Xb=(1<<re(_.m,2))-1,Ye<3*(Re=_.Xb))J=7;else{for(Oe+=3*Re,Ae-=3*Re,Ye=0;Ye<Re;++Ye){var vt=J[xe+0]|J[xe+1]<<8|J[xe+2]<<16;vt>Ae&&(vt=Ae),X(_.Jc[+Ye],J,Oe,vt),Oe+=vt,Ae-=vt,xe+=3}X(_.Jc[+Re],J,Oe,Ae),J=Oe<le?0:5}if(J!=0)return Hr(_,J,"cannot parse partitions");for(J=re(Oe=_.m,7),xe=de(Oe)?Z(Oe,4):0,le=de(Oe)?Z(Oe,4):0,Ae=de(Oe)?Z(Oe,4):0,Re=de(Oe)?Z(Oe,4):0,Oe=de(Oe)?Z(Oe,4):0,Ye=_.Qa,vt=0;4>vt;++vt){if(Ye.Cb){var mt=Ye.Zb[vt];Ye.Fb||(mt+=J)}else{if(0<vt){_.pb[vt]=_.pb[0];continue}mt=J}var ct=_.pb[vt];ct.Sc[0]=qu[ka(mt+xe,127)],ct.Sc[1]=fc[ka(mt+0,127)],ct.Eb[0]=2*qu[ka(mt+le,127)],ct.Eb[1]=101581*fc[ka(mt+Ae,127)]>>16,8>ct.Eb[1]&&(ct.Eb[1]=8),ct.Qc[0]=qu[ka(mt+Re,117)],ct.Qc[1]=fc[ka(mt+Oe,127)],ct.lc=mt+Oe}if(!je.Rb)return Hr(_,4,"Not a key frame.");for(de(ye),je=_.Pa,J=0;4>J;++J){for(xe=0;8>xe;++xe)for(le=0;3>le;++le)for(Ae=0;11>Ae;++Ae)Re=ce(ye,Xp[J][xe][le][Ae])?re(ye,8):u0[J][xe][le][Ae],je.Wc[J][xe].Yb[le][Ae]=Re;for(xe=0;17>xe;++xe)je.Xc[J][xe]=je.Wc[J][mf[xe]]}return _.kc=de(ye),_.kc&&(_.Bd=re(ye,8)),_.cb=1}function yt(_,M,J,le,xe,ye,je){var Ae=M[xe].Yb[J];for(J=0;16>xe;++xe){if(!ce(_,Ae[J+0]))return xe;for(;!ce(_,Ae[J+1]);)if(Ae=M[++xe].Yb[0],J=0,xe==16)return 16;var Oe=M[xe+1].Yb;if(ce(_,Ae[J+2])){var Re=_,Ye=0;if(ce(Re,(mt=Ae)[(vt=J)+3]))if(ce(Re,mt[vt+6])){for(Ae=0,vt=2*(Ye=ce(Re,mt[vt+8]))+(mt=ce(Re,mt[vt+9+Ye])),Ye=0,mt=tu[vt];mt[Ae];++Ae)Ye+=Ye+ce(Re,mt[Ae]);Ye+=3+(8<<vt)}else ce(Re,mt[vt+7])?(Ye=7+2*ce(Re,165),Ye+=ce(Re,145)):Ye=5+ce(Re,159);else Ye=ce(Re,mt[vt+4])?3+ce(Re,mt[vt+5]):2;Ae=Oe[2]}else Ye=1,Ae=Oe[1];Oe=je+hf[xe],0>(Re=_).b&&ne(Re);var vt,mt=Re.b,ct=(vt=Re.Ca>>1)-(Re.I>>mt)>>31;--Re.b,Re.Ca+=ct,Re.Ca|=1,Re.I-=(vt+1&ct)<<mt,ye[Oe]=((Ye^ct)-ct)*le[(0<xe)+0]}return 16}function Yt(_){var M=_.rb[_.sb-1];M.la=0,M.Na=0,s(_.zc,0,0,_.zc.length),_.ja=0}function cr(_,M){if(_==null)return 0;if(M==null)return Hr(_,2,"NULL VP8Io parameter in VP8Decode().");if(!_.cb&&!kt(_,M))return 0;if(t(_.cb),M.ac==null||M.ac(M)){M.ob&&(_.L=0);var J=au[_.L];if(_.L==2?(_.yb=0,_.zb=0):(_.yb=M.v-J>>4,_.zb=M.j-J>>4,0>_.yb&&(_.yb=0),0>_.zb&&(_.zb=0)),_.Va=M.o+15+J>>4,_.Hb=M.va+15+J>>4,_.Hb>_.za&&(_.Hb=_.za),_.Va>_.Ub&&(_.Va=_.Ub),0<_.L){var le=_.ed;for(J=0;4>J;++J){var xe;if(_.Qa.Cb){var ye=_.Qa.Lb[J];_.Qa.Fb||(ye+=le.Tb)}else ye=le.Tb;for(xe=0;1>=xe;++xe){var je=_.gd[J][xe],Ae=ye;if(le.Pc&&(Ae+=le.vd[0],xe&&(Ae+=le.od[0])),0<(Ae=0>Ae?0:63<Ae?63:Ae)){var Oe=Ae;0<le.wb&&(Oe=4<le.wb?Oe>>2:Oe>>1)>9-le.wb&&(Oe=9-le.wb),1>Oe&&(Oe=1),je.dd=Oe,je.tc=2*Ae+Oe,je.ld=40<=Ae?2:15<=Ae?1:0}else je.tc=0;je.La=xe}}}J=0}else Hr(_,6,"Frame setup failed"),J=_.a;if(J=J==0){if(J){_.$c=0,0<_.Aa||(_.Ic=Ji);e:{J=_.Ic,le=4*(Oe=_.za);var Re=32*Oe,Ye=Oe+1,vt=0<_.L?Oe*(0<_.Aa?2:1):0,mt=(_.Aa==2?2:1)*Oe;if((je=le+832+(xe=3*(16*J+au[_.L])/2*Re)+(ye=_.Fa!=null&&0<_.Fa.length?_.Kc.c*_.Kc.i:0))!=je)J=0;else{if(je>_.Vb){if(_.Vb=0,_.Ec=i(je),_.Fc=0,_.Ec==null){J=Hr(_,1,"no memory during frame initialization.");break e}_.Vb=je}je=_.Ec,Ae=_.Fc,_.Ac=je,_.Bc=Ae,Ae+=le,_.Gd=o(Re,ss),_.Hd=0,_.rb=o(Ye+1,Qr),_.sb=1,_.wa=vt?o(vt,Dr):null,_.Y=0,_.D.Nb=0,_.D.wa=_.wa,_.D.Y=_.Y,0<_.Aa&&(_.D.Y+=Oe),t(!0),_.oc=je,_.pc=Ae,Ae+=832,_.ya=o(mt,ds),_.aa=0,_.D.ya=_.ya,_.D.aa=_.aa,_.Aa==2&&(_.D.aa+=Oe),_.R=16*Oe,_.B=8*Oe,Oe=(Re=au[_.L])*_.R,Re=Re/2*_.B,_.sa=je,_.ta=Ae+Oe,_.qa=_.sa,_.ra=_.ta+16*J*_.R+Re,_.Ha=_.qa,_.Ia=_.ra+8*J*_.B+Re,_.$c=0,Ae+=xe,_.mb=ye?je:null,_.nb=ye?Ae:null,t(Ae+ye<=_.Fc+_.Vb),Yt(_),s(_.Ac,_.Bc,0,le),J=1}}if(J){if(M.ka=0,M.y=_.sa,M.O=_.ta,M.f=_.qa,M.N=_.ra,M.ea=_.Ha,M.Vd=_.Ia,M.fa=_.R,M.Rc=_.B,M.F=null,M.J=0,!Bu){for(J=-255;255>=J;++J)cs[255+J]=0>J?-J:J;for(J=-1020;1020>=J;++J)zo[1020+J]=-128>J?-128:127<J?127:J;for(J=-112;112>=J;++J)Ru[112+J]=-16>J?-16:15<J?15:J;for(J=-255;510>=J;++J)xl[255+J]=0>J?0:255<J?255:J;Bu=1}Ll=Fr,di=nr,fl=Ot,Vn=Zr,Es=Ct,Mn=rr,Fl=Wc,bd=La,xo=ul,Ml=vd,Rl=ho,Bs=sc,hl=po,Ei=qo,pl=Hi,ml=Si,uc=uo,Cs=Hc,vo[0]=jr,vo[1]=ja,vo[2]=xr,vo[3]=Qt,vo[4]=Kr,vo[5]=Sn,vo[6]=tn,vo[7]=ba,vo[8]=nc,vo[9]=zi,Qs[0]=Wr,Qs[1]=Zn,Qs[2]=ya,Qs[3]=en,Qs[4]=Or,Qs[5]=Rr,Qs[6]=kn,Us[0]=ki,Us[1]=ir,Us[2]=l0,Us[3]=ll,Us[4]=cl,Us[5]=Uc,Us[6]=qc,J=1}else J=0}J&&(J=(function(ct,qt){for(ct.M=0;ct.M<ct.Va;++ct.M){var Tt,tt=ct.Jc[ct.M&ct.Xb],st=ct.m,Dt=ct;for(Tt=0;Tt<Dt.za;++Tt){var Pt=st,Ft=Dt,wr=Ft.Ac,dr=Ft.Bc+4*Tt,zr=Ft.zc,gr=Ft.ya[Ft.aa+Tt];if(Ft.Qa.Bb?gr.$b=ce(Pt,Ft.Pa.jb[0])?2+ce(Pt,Ft.Pa.jb[2]):ce(Pt,Ft.Pa.jb[1]):gr.$b=0,Ft.kc&&(gr.Ad=ce(Pt,Ft.Bd)),gr.Za=!ce(Pt,145)+0,gr.Za){var Hn=gr.Ob,Wn=0;for(Ft=0;4>Ft;++Ft){var On,xn=zr[0+Ft];for(On=0;4>On;++On){xn=pf[wr[dr+On]][xn];for(var na=xh[ce(Pt,xn[0])];0<na;)na=xh[2*na+ce(Pt,xn[na])];xn=-na,wr[dr+On]=xn}n(Hn,Wn,wr,dr,4),Wn+=4,zr[0+Ft]=xn}}else xn=ce(Pt,156)?ce(Pt,128)?1:3:ce(Pt,163)?2:0,gr.Ob[0]=xn,s(wr,dr,xn,4),s(zr,0,xn,4);gr.Dd=ce(Pt,142)?ce(Pt,114)?ce(Pt,183)?1:3:2:0}if(Dt.m.Ka)return Hr(ct,7,"Premature end-of-partition0 encountered.");for(;ct.ja<ct.za;++ct.ja){if(Dt=tt,Pt=(st=ct).rb[st.sb-1],wr=st.rb[st.sb+st.ja],Tt=st.ya[st.aa+st.ja],dr=st.kc?Tt.Ad:0)Pt.la=wr.la=0,Tt.Za||(Pt.Na=wr.Na=0),Tt.Hc=0,Tt.Gc=0,Tt.ia=0;else{var fa,Xr;if(Pt=wr,wr=Dt,dr=st.Pa.Xc,zr=st.ya[st.aa+st.ja],gr=st.pb[zr.$b],Ft=zr.ad,Hn=0,Wn=st.rb[st.sb-1],xn=On=0,s(Ft,Hn,0,384),zr.Za)var _a=0,Qa=dr[3];else{na=i(16);var va=Pt.Na+Wn.Na;if(va=eu(wr,dr[1],va,gr.Eb,0,na,0),Pt.Na=Wn.Na=(0<va)+0,1<va)Ll(na,0,Ft,Hn);else{var ps=na[0]+3>>3;for(na=0;256>na;na+=16)Ft[Hn+na]=ps}_a=1,Qa=dr[0]}var Rn=15&Pt.la,ei=15&Wn.la;for(na=0;4>na;++na){var ti=1&ei;for(ps=Xr=0;4>ps;++ps)Rn=Rn>>1|(ti=(va=eu(wr,Qa,va=ti+(1&Rn),gr.Sc,_a,Ft,Hn))>_a)<<7,Xr=Xr<<2|(3<va?3:1<va?2:Ft[Hn+0]!=0),Hn+=16;Rn>>=4,ei=ei>>1|ti<<7,On=(On<<8|Xr)>>>0}for(Qa=Rn,_a=ei>>4,fa=0;4>fa;fa+=2){for(Xr=0,Rn=Pt.la>>4+fa,ei=Wn.la>>4+fa,na=0;2>na;++na){for(ti=1&ei,ps=0;2>ps;++ps)va=ti+(1&Rn),Rn=Rn>>1|(ti=0<(va=eu(wr,dr[2],va,gr.Qc,0,Ft,Hn)))<<3,Xr=Xr<<2|(3<va?3:1<va?2:Ft[Hn+0]!=0),Hn+=16;Rn>>=2,ei=ei>>1|ti<<5}xn|=Xr<<4*fa,Qa|=Rn<<4<<fa,_a|=(240&ei)<<fa}Pt.la=Qa,Wn.la=_a,zr.Hc=On,zr.Gc=xn,zr.ia=43690&xn?0:gr.ia,dr=!(On|xn)}if(0<st.L&&(st.wa[st.Y+st.ja]=st.gd[Tt.$b][Tt.Za],st.wa[st.Y+st.ja].La|=!dr),Dt.Ka)return Hr(ct,7,"Premature end-of-file encountered.")}if(Yt(ct),st=qt,Dt=1,Tt=(tt=ct).D,Pt=0<tt.L&&tt.M>=tt.zb&&tt.M<=tt.Va,tt.Aa==0)e:{if(Tt.M=tt.M,Tt.uc=Pt,Ai(tt,Tt),Dt=1,Tt=(Xr=tt.D).Nb,Pt=(xn=au[tt.L])*tt.R,wr=xn/2*tt.B,na=16*Tt*tt.R,ps=8*Tt*tt.B,dr=tt.sa,zr=tt.ta-Pt+na,gr=tt.qa,Ft=tt.ra-wr+ps,Hn=tt.Ha,Wn=tt.Ia-wr+ps,ei=(Rn=Xr.M)==0,On=Rn>=tt.Va-1,tt.Aa==2&&Ai(tt,Xr),Xr.uc)for(ti=(va=tt).D.M,t(va.D.uc),Xr=va.yb;Xr<va.Hb;++Xr){_a=Xr,Qa=ti;var qa=(ms=(Qn=va).D).Nb;fa=Qn.R;var ms=ms.wa[ms.Y+_a],$s=Qn.sa,Ii=Qn.ta+16*qa*fa+16*_a,bo=ms.dd,Aa=ms.tc;if(Aa!=0)if(t(3<=Aa),Qn.L==1)0<_a&&ml($s,Ii,fa,Aa+4),ms.La&&Cs($s,Ii,fa,Aa),0<Qa&&pl($s,Ii,fa,Aa+4),ms.La&&uc($s,Ii,fa,Aa);else{var Ga=Qn.B,Qi=Qn.qa,mc=Qn.ra+8*qa*Ga+8*_a,ql=Qn.Ha,Qn=Qn.Ia+8*qa*Ga+8*_a;qa=ms.ld,0<_a&&(bd($s,Ii,fa,Aa+4,bo,qa),Ml(Qi,mc,ql,Qn,Ga,Aa+4,bo,qa)),ms.La&&(Bs($s,Ii,fa,Aa,bo,qa),Ei(Qi,mc,ql,Qn,Ga,Aa,bo,qa)),0<Qa&&(Fl($s,Ii,fa,Aa+4,bo,qa),xo(Qi,mc,ql,Qn,Ga,Aa+4,bo,qa)),ms.La&&(Rl($s,Ii,fa,Aa,bo,qa),hl(Qi,mc,ql,Qn,Ga,Aa,bo,qa))}}if(tt.ia&&alert("todo:DitherRow"),st.put!=null){if(Xr=16*Rn,Rn=16*(Rn+1),ei?(st.y=tt.sa,st.O=tt.ta+na,st.f=tt.qa,st.N=tt.ra+ps,st.ea=tt.Ha,st.W=tt.Ia+ps):(Xr-=xn,st.y=dr,st.O=zr,st.f=gr,st.N=Ft,st.ea=Hn,st.W=Wn),On||(Rn-=xn),Rn>st.o&&(Rn=st.o),st.F=null,st.J=null,tt.Fa!=null&&0<tt.Fa.length&&Xr<Rn&&(st.J=Kc(tt,st,Xr,Rn-Xr),st.F=tt.mb,st.F==null&&st.F.length==0)){Dt=Hr(tt,3,"Could not decode alpha data.");break e}Xr<st.j&&(xn=st.j-Xr,Xr=st.j,t(!(1&xn)),st.O+=tt.R*xn,st.N+=tt.B*(xn>>1),st.W+=tt.B*(xn>>1),st.F!=null&&(st.J+=st.width*xn)),Xr<Rn&&(st.O+=st.v,st.N+=st.v>>1,st.W+=st.v>>1,st.F!=null&&(st.J+=st.v),st.ka=Xr-st.j,st.U=st.va-st.v,st.T=Rn-Xr,Dt=st.put(st))}Tt+1!=tt.Ic||On||(n(tt.sa,tt.ta-Pt,dr,zr+16*tt.R,Pt),n(tt.qa,tt.ra-wr,gr,Ft+8*tt.B,wr),n(tt.Ha,tt.Ia-wr,Hn,Wn+8*tt.B,wr))}if(!Dt)return Hr(ct,6,"Output aborted.")}return 1})(_,M)),M.bc!=null&&M.bc(M),J&=1}return J?(_.cb=0,J):0}function ar(_,M,J,le,xe){xe=_[M+J+32*le]+(xe>>3),_[M+J+32*le]=-256&xe?0>xe?0:255:xe}function Nr(_,M,J,le,xe,ye){ar(_,M,0,J,le+xe),ar(_,M,1,J,le+ye),ar(_,M,2,J,le-ye),ar(_,M,3,J,le-xe)}function mn(_){return(20091*_>>16)+_}function Fn(_,M,J,le){var xe,ye=0,je=i(16);for(xe=0;4>xe;++xe){var Ae=_[M+0]+_[M+8],Oe=_[M+0]-_[M+8],Re=(35468*_[M+4]>>16)-mn(_[M+12]),Ye=mn(_[M+4])+(35468*_[M+12]>>16);je[ye+0]=Ae+Ye,je[ye+1]=Oe+Re,je[ye+2]=Oe-Re,je[ye+3]=Ae-Ye,ye+=4,M++}for(xe=ye=0;4>xe;++xe)Ae=(_=je[ye+0]+4)+je[ye+8],Oe=_-je[ye+8],Re=(35468*je[ye+4]>>16)-mn(je[ye+12]),ar(J,le,0,0,Ae+(Ye=mn(je[ye+4])+(35468*je[ye+12]>>16))),ar(J,le,1,0,Oe+Re),ar(J,le,2,0,Oe-Re),ar(J,le,3,0,Ae-Ye),ye++,le+=32}function rr(_,M,J,le){var xe=_[M+0]+4,ye=35468*_[M+4]>>16,je=mn(_[M+4]),Ae=35468*_[M+1]>>16;Nr(J,le,0,xe+je,_=mn(_[M+1]),Ae),Nr(J,le,1,xe+ye,_,Ae),Nr(J,le,2,xe-ye,_,Ae),Nr(J,le,3,xe-je,_,Ae)}function nr(_,M,J,le,xe){Fn(_,M,J,le),xe&&Fn(_,M+16,J,le+4)}function Ot(_,M,J,le){di(_,M+0,J,le,1),di(_,M+32,J,le+128,1)}function Zr(_,M,J,le){var xe;for(_=_[M+0]+4,xe=0;4>xe;++xe)for(M=0;4>M;++M)ar(J,le,M,xe,_)}function Ct(_,M,J,le){_[M+0]&&Vn(_,M+0,J,le),_[M+16]&&Vn(_,M+16,J,le+4),_[M+32]&&Vn(_,M+32,J,le+128),_[M+48]&&Vn(_,M+48,J,le+128+4)}function Fr(_,M,J,le){var xe,ye=i(16);for(xe=0;4>xe;++xe){var je=_[M+0+xe]+_[M+12+xe],Ae=_[M+4+xe]+_[M+8+xe],Oe=_[M+4+xe]-_[M+8+xe],Re=_[M+0+xe]-_[M+12+xe];ye[0+xe]=je+Ae,ye[8+xe]=je-Ae,ye[4+xe]=Re+Oe,ye[12+xe]=Re-Oe}for(xe=0;4>xe;++xe)je=(_=ye[0+4*xe]+3)+ye[3+4*xe],Ae=ye[1+4*xe]+ye[2+4*xe],Oe=ye[1+4*xe]-ye[2+4*xe],Re=_-ye[3+4*xe],J[le+0]=je+Ae>>3,J[le+16]=Re+Oe>>3,J[le+32]=je-Ae>>3,J[le+48]=Re-Oe>>3,le+=64}function oa(_,M,J){var le,xe=M-32,ye=Ts,je=255-_[xe-1];for(le=0;le<J;++le){var Ae,Oe=ye,Re=je+_[M-1];for(Ae=0;Ae<J;++Ae)_[M+Ae]=Oe[Re+_[xe+Ae]];M+=32}}function ja(_,M){oa(_,M,4)}function ir(_,M){oa(_,M,8)}function Zn(_,M){oa(_,M,16)}function ya(_,M){var J;for(J=0;16>J;++J)n(_,M+32*J,_,M-32,16)}function en(_,M){var J;for(J=16;0<J;--J)s(_,M,_[M-1],16),M+=32}function Da(_,M,J){var le;for(le=0;16>le;++le)s(M,J+32*le,_,16)}function Wr(_,M){var J,le=16;for(J=0;16>J;++J)le+=_[M-1+32*J]+_[M+J-32];Da(le>>5,_,M)}function Or(_,M){var J,le=8;for(J=0;16>J;++J)le+=_[M-1+32*J];Da(le>>4,_,M)}function Rr(_,M){var J,le=8;for(J=0;16>J;++J)le+=_[M+J-32];Da(le>>4,_,M)}function kn(_,M){Da(128,_,M)}function Ce(_,M,J){return _+2*M+J+2>>2}function xr(_,M){var J,le=M-32;for(le=new Uint8Array([Ce(_[le-1],_[le+0],_[le+1]),Ce(_[le+0],_[le+1],_[le+2]),Ce(_[le+1],_[le+2],_[le+3]),Ce(_[le+2],_[le+3],_[le+4])]),J=0;4>J;++J)n(_,M+32*J,le,0,le.length)}function Qt(_,M){var J=_[M-1],le=_[M-1+32],xe=_[M-1+64],ye=_[M-1+96];he(_,M+0,16843009*Ce(_[M-1-32],J,le)),he(_,M+32,16843009*Ce(J,le,xe)),he(_,M+64,16843009*Ce(le,xe,ye)),he(_,M+96,16843009*Ce(xe,ye,ye))}function jr(_,M){var J,le=4;for(J=0;4>J;++J)le+=_[M+J-32]+_[M-1+32*J];for(le>>=3,J=0;4>J;++J)s(_,M+32*J,le,4)}function Kr(_,M){var J=_[M-1+0],le=_[M-1+32],xe=_[M-1+64],ye=_[M-1-32],je=_[M+0-32],Ae=_[M+1-32],Oe=_[M+2-32],Re=_[M+3-32];_[M+0+96]=Ce(le,xe,_[M-1+96]),_[M+1+96]=_[M+0+64]=Ce(J,le,xe),_[M+2+96]=_[M+1+64]=_[M+0+32]=Ce(ye,J,le),_[M+3+96]=_[M+2+64]=_[M+1+32]=_[M+0+0]=Ce(je,ye,J),_[M+3+64]=_[M+2+32]=_[M+1+0]=Ce(Ae,je,ye),_[M+3+32]=_[M+2+0]=Ce(Oe,Ae,je),_[M+3+0]=Ce(Re,Oe,Ae)}function tn(_,M){var J=_[M+1-32],le=_[M+2-32],xe=_[M+3-32],ye=_[M+4-32],je=_[M+5-32],Ae=_[M+6-32],Oe=_[M+7-32];_[M+0+0]=Ce(_[M+0-32],J,le),_[M+1+0]=_[M+0+32]=Ce(J,le,xe),_[M+2+0]=_[M+1+32]=_[M+0+64]=Ce(le,xe,ye),_[M+3+0]=_[M+2+32]=_[M+1+64]=_[M+0+96]=Ce(xe,ye,je),_[M+3+32]=_[M+2+64]=_[M+1+96]=Ce(ye,je,Ae),_[M+3+64]=_[M+2+96]=Ce(je,Ae,Oe),_[M+3+96]=Ce(Ae,Oe,Oe)}function Sn(_,M){var J=_[M-1+0],le=_[M-1+32],xe=_[M-1+64],ye=_[M-1-32],je=_[M+0-32],Ae=_[M+1-32],Oe=_[M+2-32],Re=_[M+3-32];_[M+0+0]=_[M+1+64]=ye+je+1>>1,_[M+1+0]=_[M+2+64]=je+Ae+1>>1,_[M+2+0]=_[M+3+64]=Ae+Oe+1>>1,_[M+3+0]=Oe+Re+1>>1,_[M+0+96]=Ce(xe,le,J),_[M+0+64]=Ce(le,J,ye),_[M+0+32]=_[M+1+96]=Ce(J,ye,je),_[M+1+32]=_[M+2+96]=Ce(ye,je,Ae),_[M+2+32]=_[M+3+96]=Ce(je,Ae,Oe),_[M+3+32]=Ce(Ae,Oe,Re)}function ba(_,M){var J=_[M+0-32],le=_[M+1-32],xe=_[M+2-32],ye=_[M+3-32],je=_[M+4-32],Ae=_[M+5-32],Oe=_[M+6-32],Re=_[M+7-32];_[M+0+0]=J+le+1>>1,_[M+1+0]=_[M+0+64]=le+xe+1>>1,_[M+2+0]=_[M+1+64]=xe+ye+1>>1,_[M+3+0]=_[M+2+64]=ye+je+1>>1,_[M+0+32]=Ce(J,le,xe),_[M+1+32]=_[M+0+96]=Ce(le,xe,ye),_[M+2+32]=_[M+1+96]=Ce(xe,ye,je),_[M+3+32]=_[M+2+96]=Ce(ye,je,Ae),_[M+3+64]=Ce(je,Ae,Oe),_[M+3+96]=Ce(Ae,Oe,Re)}function zi(_,M){var J=_[M-1+0],le=_[M-1+32],xe=_[M-1+64],ye=_[M-1+96];_[M+0+0]=J+le+1>>1,_[M+2+0]=_[M+0+32]=le+xe+1>>1,_[M+2+32]=_[M+0+64]=xe+ye+1>>1,_[M+1+0]=Ce(J,le,xe),_[M+3+0]=_[M+1+32]=Ce(le,xe,ye),_[M+3+32]=_[M+1+64]=Ce(xe,ye,ye),_[M+3+64]=_[M+2+64]=_[M+0+96]=_[M+1+96]=_[M+2+96]=_[M+3+96]=ye}function nc(_,M){var J=_[M-1+0],le=_[M-1+32],xe=_[M-1+64],ye=_[M-1+96],je=_[M-1-32],Ae=_[M+0-32],Oe=_[M+1-32],Re=_[M+2-32];_[M+0+0]=_[M+2+32]=J+je+1>>1,_[M+0+32]=_[M+2+64]=le+J+1>>1,_[M+0+64]=_[M+2+96]=xe+le+1>>1,_[M+0+96]=ye+xe+1>>1,_[M+3+0]=Ce(Ae,Oe,Re),_[M+2+0]=Ce(je,Ae,Oe),_[M+1+0]=_[M+3+32]=Ce(J,je,Ae),_[M+1+32]=_[M+3+64]=Ce(le,J,je),_[M+1+64]=_[M+3+96]=Ce(xe,le,J),_[M+1+96]=Ce(ye,xe,le)}function l0(_,M){var J;for(J=0;8>J;++J)n(_,M+32*J,_,M-32,8)}function ll(_,M){var J;for(J=0;8>J;++J)s(_,M,_[M-1],8),M+=32}function co(_,M,J){var le;for(le=0;8>le;++le)s(M,J+32*le,_,8)}function ki(_,M){var J,le=8;for(J=0;8>J;++J)le+=_[M+J-32]+_[M-1+32*J];co(le>>4,_,M)}function Uc(_,M){var J,le=4;for(J=0;8>J;++J)le+=_[M+J-32];co(le>>3,_,M)}function cl(_,M){var J,le=4;for(J=0;8>J;++J)le+=_[M-1+32*J];co(le>>3,_,M)}function qc(_,M){co(128,_,M)}function Cl(_,M,J){var le=_[M-J],xe=_[M+0],ye=3*(xe-le)+gl[1020+_[M-2*J]-_[M+J]],je=Yc[112+(ye+4>>3)];_[M-J]=Ts[255+le+Yc[112+(ye+3>>3)]],_[M+0]=Ts[255+xe-je]}function $c(_,M,J,le){var xe=_[M+0],ye=_[M+J];return Ki[255+_[M-2*J]-_[M-J]]>le||Ki[255+ye-xe]>le}function ac(_,M,J,le){return 4*Ki[255+_[M-J]-_[M+0]]+Ki[255+_[M-2*J]-_[M+J]]<=le}function zc(_,M,J,le,xe){var ye=_[M-3*J],je=_[M-2*J],Ae=_[M-J],Oe=_[M+0],Re=_[M+J],Ye=_[M+2*J],vt=_[M+3*J];return 4*Ki[255+Ae-Oe]+Ki[255+je-Re]>le?0:Ki[255+_[M-4*J]-ye]<=xe&&Ki[255+ye-je]<=xe&&Ki[255+je-Ae]<=xe&&Ki[255+vt-Ye]<=xe&&Ki[255+Ye-Re]<=xe&&Ki[255+Re-Oe]<=xe}function Hi(_,M,J,le){var xe=2*le+1;for(le=0;16>le;++le)ac(_,M+le,J,xe)&&Cl(_,M+le,J)}function Si(_,M,J,le){var xe=2*le+1;for(le=0;16>le;++le)ac(_,M+le*J,1,xe)&&Cl(_,M+le*J,1)}function uo(_,M,J,le){var xe;for(xe=3;0<xe;--xe)Hi(_,M+=4*J,J,le)}function Hc(_,M,J,le){var xe;for(xe=3;0<xe;--xe)Si(_,M+=4,J,le)}function fo(_,M,J,le,xe,ye,je,Ae){for(ye=2*ye+1;0<xe--;){if(zc(_,M,J,ye,je))if($c(_,M,J,Ae))Cl(_,M,J);else{var Oe=_,Re=M,Ye=J,vt=Oe[Re-2*Ye],mt=Oe[Re-Ye],ct=Oe[Re+0],qt=Oe[Re+Ye],Tt=Oe[Re+2*Ye],tt=27*(Dt=gl[1020+3*(ct-mt)+gl[1020+vt-qt]])+63>>7,st=18*Dt+63>>7,Dt=9*Dt+63>>7;Oe[Re-3*Ye]=Ts[255+Oe[Re-3*Ye]+Dt],Oe[Re-2*Ye]=Ts[255+vt+st],Oe[Re-Ye]=Ts[255+mt+tt],Oe[Re+0]=Ts[255+ct-tt],Oe[Re+Ye]=Ts[255+qt-st],Oe[Re+2*Ye]=Ts[255+Tt-Dt]}M+=le}}function ks(_,M,J,le,xe,ye,je,Ae){for(ye=2*ye+1;0<xe--;){if(zc(_,M,J,ye,je))if($c(_,M,J,Ae))Cl(_,M,J);else{var Oe=_,Re=M,Ye=J,vt=Oe[Re-Ye],mt=Oe[Re+0],ct=Oe[Re+Ye],qt=Yc[112+((Tt=3*(mt-vt))+4>>3)],Tt=Yc[112+(Tt+3>>3)],tt=qt+1>>1;Oe[Re-2*Ye]=Ts[255+Oe[Re-2*Ye]+tt],Oe[Re-Ye]=Ts[255+vt+Tt],Oe[Re+0]=Ts[255+mt-qt],Oe[Re+Ye]=Ts[255+ct-tt]}M+=le}}function Wc(_,M,J,le,xe,ye){fo(_,M,J,1,16,le,xe,ye)}function La(_,M,J,le,xe,ye){fo(_,M,1,J,16,le,xe,ye)}function ho(_,M,J,le,xe,ye){var je;for(je=3;0<je;--je)ks(_,M+=4*J,J,1,16,le,xe,ye)}function sc(_,M,J,le,xe,ye){var je;for(je=3;0<je;--je)ks(_,M+=4,1,J,16,le,xe,ye)}function ul(_,M,J,le,xe,ye,je,Ae){fo(_,M,xe,1,8,ye,je,Ae),fo(J,le,xe,1,8,ye,je,Ae)}function vd(_,M,J,le,xe,ye,je,Ae){fo(_,M,1,xe,8,ye,je,Ae),fo(J,le,1,xe,8,ye,je,Ae)}function po(_,M,J,le,xe,ye,je,Ae){ks(_,M+4*xe,xe,1,8,ye,je,Ae),ks(J,le+4*xe,xe,1,8,ye,je,Ae)}function qo(_,M,J,le,xe,ye,je,Ae){ks(_,M+4,1,xe,8,ye,je,Ae),ks(J,le+4,1,xe,8,ye,je,Ae)}function _i(){this.ba=new _r,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new pr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Tl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Vc(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Gc(){this.ua=0,this.Wa=new ae,this.vb=new ae,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new B,this.yc=new T}function yd(){this.xb=this.a=0,this.l=new fs,this.ca=new _r,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new E,this.Pb=0,this.wd=new E,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Gc,this.ab=0,this.gc=o(4,Vc),this.Oc=0}function Ba(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new fs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ol(_,M,J,le,xe,ye,je){for(_=_==null?0:_[M+0],M=0;M<je;++M)xe[ye+M]=_+J[le+M]&255,_=xe[ye+M]}function Lu(_,M,J,le,xe,ye,je){var Ae;if(_==null)Ol(null,null,J,le,xe,ye,je);else for(Ae=0;Ae<je;++Ae)xe[ye+Ae]=_[M+Ae]+J[le+Ae]&255}function Pl(_,M,J,le,xe,ye,je){if(_==null)Ol(null,null,J,le,xe,ye,je);else{var Ae,Oe=_[M+0],Re=Oe,Ye=Oe;for(Ae=0;Ae<je;++Ae)Re=Ye+(Oe=_[M+Ae])-Re,Ye=J[le+Ae]+(-256&Re?0>Re?0:255:Re)&255,Re=Oe,xe[ye+Ae]=Ye}}function Kc(_,M,J,le){var xe=M.width,ye=M.o;if(t(_!=null&&M!=null),0>J||0>=le||J+le>ye)return null;if(!_.Cc){if(_.ga==null){var je;if(_.ga=new Ba,(je=_.ga==null)||(je=M.width*M.o,t(_.Gb.length==0),_.Gb=i(je),_.Uc=0,_.Gb==null?je=0:(_.mb=_.Gb,_.nb=_.Uc,_.rc=null,je=1),je=!je),!je){je=_.ga;var Ae=_.Fa,Oe=_.P,Re=_.qc,Ye=_.mb,vt=_.nb,mt=Oe+1,ct=Re-1,qt=je.l;if(t(Ae!=null&&Ye!=null&&M!=null),qs[0]=null,qs[1]=Ol,qs[2]=Lu,qs[3]=Pl,je.ca=Ye,je.tb=vt,je.c=M.width,je.i=M.height,t(0<je.c&&0<je.i),1>=Re)M=0;else if(je.$a=Ae[Oe+0]>>0&3,je.Z=Ae[Oe+0]>>2&3,je.Lc=Ae[Oe+0]>>4&3,Oe=Ae[Oe+0]>>6&3,0>je.$a||1<je.$a||4<=je.Z||1<je.Lc||Oe)M=0;else if(qt.put=Tn,qt.ac=Gr,qt.bc=Ln,qt.ma=je,qt.width=M.width,qt.height=M.height,qt.Da=M.Da,qt.v=M.v,qt.va=M.va,qt.j=M.j,qt.o=M.o,je.$a)e:{t(je.$a==1),M=dt();t:for(;;){if(M==null){M=0;break e}if(t(je!=null),je.mc=M,M.c=je.c,M.i=je.i,M.l=je.l,M.l.ma=je,M.l.width=je.c,M.l.height=je.i,M.a=0,te(M.m,Ae,mt,ct),!Ve(je.c,je.i,1,M,null)||(M.ab==1&&M.gc[0].hc==3&&ge(M.s)?(je.ic=1,Ae=M.c*M.i,M.Ta=null,M.Ua=0,M.V=i(Ae),M.Ba=0,M.V==null?(M.a=1,M=0):M=1):(je.ic=0,M=Qe(M,je.c)),!M))break t;M=1;break e}je.mc=null,M=0}else M=ct>=je.c*je.i;je=!M}if(je)return null;_.ga.Lc!=1?_.Ga=0:le=ye-J}t(_.ga!=null),t(J+le<=ye);e:{if(M=(Ae=_.ga).c,ye=Ae.l.o,Ae.$a==0){if(mt=_.rc,ct=_.Vc,qt=_.Fa,Oe=_.P+1+J*M,Re=_.mb,Ye=_.nb+J*M,t(Oe<=_.P+_.qc),Ae.Z!=0)for(t(qs[Ae.Z]!=null),je=0;je<le;++je)qs[Ae.Z](mt,ct,qt,Oe,Re,Ye,M),mt=Re,ct=Ye,Ye+=M,Oe+=M;else for(je=0;je<le;++je)n(Re,Ye,qt,Oe,M),mt=Re,ct=Ye,Ye+=M,Oe+=M;_.rc=mt,_.Vc=ct}else{if(t(Ae.mc!=null),M=J+le,t((je=Ae.mc)!=null),t(M<=je.i),je.C>=M)M=1;else if(Ae.ic||pt(),Ae.ic){Ae=je.V,mt=je.Ba,ct=je.c;var Tt=je.i,tt=(qt=1,Oe=je.$/ct,Re=je.$%ct,Ye=je.m,vt=je.s,je.$),st=ct*Tt,Dt=ct*M,Pt=vt.wc,Ft=tt<Dt?Wt(vt,Re,Oe):null;t(tt<=st),t(M<=Tt),t(ge(vt));t:for(;;){for(;!Ye.h&&tt<Dt;){if(Re&Pt||(Ft=Wt(vt,Re,Oe)),t(Ft!=null),G(Ye),256>(Tt=Ke(Ft.G[0],Ft.H[0],Ye)))Ae[mt+tt]=Tt,++tt,++Re>=ct&&(Re=0,++Oe<=M&&!(Oe%16)&&Ee(je,Oe));else{if(!(280>Tt)){qt=0;break t}Tt=Xn(Tt-256,Ye);var wr,dr=Ke(Ft.G[4],Ft.H[4],Ye);if(G(Ye),!(tt>=(dr=vn(ct,dr=Xn(dr,Ye)))&&st-tt>=Tt)){qt=0;break t}for(wr=0;wr<Tt;++wr)Ae[mt+tt+wr]=Ae[mt+tt+wr-dr];for(tt+=Tt,Re+=Tt;Re>=ct;)Re-=ct,++Oe<=M&&!(Oe%16)&&Ee(je,Oe);tt<Dt&&Re&Pt&&(Ft=Wt(vt,Re,Oe))}t(Ye.h==V(Ye))}Ee(je,Oe>M?M:Oe);break t}!qt||Ye.h&&tt<st?(qt=0,je.a=Ye.h?5:3):je.$=tt,M=qt}else M=Te(je,je.V,je.Ba,je.c,je.i,M,ze);if(!M){le=0;break e}}J+le>=ye&&(_.Cc=1),le=1}if(!le)return null;if(_.Cc&&((le=_.ga)!=null&&(le.mc=null),_.ga=null,0<_.Ga))return alert("todo:WebPDequantizeLevels"),null}return _.nb+J*xe}function W(_,M,J,le,xe,ye){for(;0<xe--;){var je,Ae=_,Oe=M+(J?1:0),Re=_,Ye=M+(J?0:3);for(je=0;je<le;++je){var vt=Re[Ye+4*je];vt!=255&&(vt*=32897,Ae[Oe+4*je+0]=Ae[Oe+4*je+0]*vt>>23,Ae[Oe+4*je+1]=Ae[Oe+4*je+1]*vt>>23,Ae[Oe+4*je+2]=Ae[Oe+4*je+2]*vt>>23)}M+=ye}}function ve(_,M,J,le,xe){for(;0<le--;){var ye;for(ye=0;ye<J;++ye){var je=_[M+2*ye+0],Ae=15&(Re=_[M+2*ye+1]),Oe=4369*Ae,Re=(240&Re|Re>>4)*Oe>>16;_[M+2*ye+0]=(240&je|je>>4)*Oe>>16&240|(15&je|je<<4)*Oe>>16>>4&15,_[M+2*ye+1]=240&Re|Ae}M+=xe}}function $e(_,M,J,le,xe,ye,je,Ae){var Oe,Re,Ye=255;for(Re=0;Re<xe;++Re){for(Oe=0;Oe<le;++Oe){var vt=_[M+Oe];ye[je+4*Oe]=vt,Ye&=vt}M+=J,je+=Ae}return Ye!=255}function Ze(_,M,J,le,xe){var ye;for(ye=0;ye<xe;++ye)J[le+ye]=_[M+ye]>>8}function pt(){Ci=W,ua=ve,ta=$e,Fa=Ze}function It(_,M,J){O[_]=function(le,xe,ye,je,Ae,Oe,Re,Ye,vt,mt,ct,qt,Tt,tt,st,Dt,Pt){var Ft,wr=Pt-1>>1,dr=Ae[Oe+0]|Re[Ye+0]<<16,zr=vt[mt+0]|ct[qt+0]<<16;t(le!=null);var gr=3*dr+zr+131074>>2;for(M(le[xe+0],255&gr,gr>>16,Tt,tt),ye!=null&&(gr=3*zr+dr+131074>>2,M(ye[je+0],255&gr,gr>>16,st,Dt)),Ft=1;Ft<=wr;++Ft){var Hn=Ae[Oe+Ft]|Re[Ye+Ft]<<16,Wn=vt[mt+Ft]|ct[qt+Ft]<<16,On=dr+Hn+zr+Wn+524296,xn=On+2*(Hn+zr)>>3;gr=xn+dr>>1,dr=(On=On+2*(dr+Wn)>>3)+Hn>>1,M(le[xe+2*Ft-1],255&gr,gr>>16,Tt,tt+(2*Ft-1)*J),M(le[xe+2*Ft-0],255&dr,dr>>16,Tt,tt+(2*Ft-0)*J),ye!=null&&(gr=On+zr>>1,dr=xn+Wn>>1,M(ye[je+2*Ft-1],255&gr,gr>>16,st,Dt+(2*Ft-1)*J),M(ye[je+2*Ft+0],255&dr,dr>>16,st,Dt+(2*Ft+0)*J)),dr=Hn,zr=Wn}1&Pt||(gr=3*dr+zr+131074>>2,M(le[xe+Pt-1],255&gr,gr>>16,Tt,tt+(Pt-1)*J),ye!=null&&(gr=3*zr+dr+131074>>2,M(ye[je+Pt-1],255&gr,gr>>16,st,Dt+(Pt-1)*J)))}}function Gt(){Oi[Jc]=gh,Oi[Bl]=hc,Oi[wd]=d0,Oi[Uu]=ru,Oi[cf]=nu,Oi[da]=pc,Oi[uf]=Sa,Oi[go]=hc,Oi[Ti]=ru,Oi[Ho]=nu,Oi[Nd]=pc}function yr(_){return _&-16384?0>_?0:255:_>>Xi}function Br(_,M){return yr((19077*_>>8)+(26149*M>>8)-14234)}function rn(_,M,J){return yr((19077*_>>8)-(6419*M>>8)-(13320*J>>8)+8708)}function sn(_,M){return yr((19077*_>>8)+(33050*M>>8)-17685)}function pn(_,M,J,le,xe){le[xe+0]=Br(_,J),le[xe+1]=rn(_,M,J),le[xe+2]=sn(_,M)}function la(_,M,J,le,xe){le[xe+0]=sn(_,M),le[xe+1]=rn(_,M,J),le[xe+2]=Br(_,J)}function yn(_,M,J,le,xe){var ye=rn(_,M,J);M=ye<<3&224|sn(_,M)>>3,le[xe+0]=248&Br(_,J)|ye>>5,le[xe+1]=M}function Va(_,M,J,le,xe){var ye=240&sn(_,M)|15;le[xe+0]=240&Br(_,J)|rn(_,M,J)>>4,le[xe+1]=ye}function nn(_,M,J,le,xe){le[xe+0]=255,pn(_,M,J,le,xe+1)}function zn(_,M,J,le,xe){la(_,M,J,le,xe),le[xe+3]=255}function ea(_,M,J,le,xe){pn(_,M,J,le,xe),le[xe+3]=255}function ka(_,M){return 0>_?0:_>M?M:_}function Yn(_,M,J){O[_]=function(le,xe,ye,je,Ae,Oe,Re,Ye,vt){for(var mt=Ye+(-2&vt)*J;Ye!=mt;)M(le[xe+0],ye[je+0],Ae[Oe+0],Re,Ye),M(le[xe+1],ye[je+0],Ae[Oe+0],Re,Ye+J),xe+=2,++je,++Oe,Ye+=2*J;1&vt&&M(le[xe+0],ye[je+0],Ae[Oe+0],Re,Ye)}}function is(_,M,J){return J==0?_==0?M==0?6:5:M==0?4:0:J}function Ua(_,M,J,le,xe){switch(_>>>30){case 3:di(M,J,le,xe,0);break;case 2:Mn(M,J,le,xe);break;case 1:Vn(M,J,le,xe)}}function Ai(_,M){var J,le,xe=M.M,ye=M.Nb,je=_.oc,Ae=_.pc+40,Oe=_.oc,Re=_.pc+584,Ye=_.oc,vt=_.pc+600;for(J=0;16>J;++J)je[Ae+32*J-1]=129;for(J=0;8>J;++J)Oe[Re+32*J-1]=129,Ye[vt+32*J-1]=129;for(0<xe?je[Ae-1-32]=Oe[Re-1-32]=Ye[vt-1-32]=129:(s(je,Ae-32-1,127,21),s(Oe,Re-32-1,127,9),s(Ye,vt-32-1,127,9)),le=0;le<_.za;++le){var mt=M.ya[M.aa+le];if(0<le){for(J=-1;16>J;++J)n(je,Ae+32*J-4,je,Ae+32*J+12,4);for(J=-1;8>J;++J)n(Oe,Re+32*J-4,Oe,Re+32*J+4,4),n(Ye,vt+32*J-4,Ye,vt+32*J+4,4)}var ct=_.Gd,qt=_.Hd+le,Tt=mt.ad,tt=mt.Hc;if(0<xe&&(n(je,Ae-32,ct[qt].y,0,16),n(Oe,Re-32,ct[qt].f,0,8),n(Ye,vt-32,ct[qt].ea,0,8)),mt.Za){var st=je,Dt=Ae-32+16;for(0<xe&&(le>=_.za-1?s(st,Dt,ct[qt].y[15],4):n(st,Dt,ct[qt+1].y,0,4)),J=0;4>J;J++)st[Dt+128+J]=st[Dt+256+J]=st[Dt+384+J]=st[Dt+0+J];for(J=0;16>J;++J,tt<<=2)st=je,Dt=Ae+xf[J],vo[mt.Ob[J]](st,Dt),Ua(tt,Tt,16*+J,st,Dt)}else if(st=is(le,xe,mt.Ob[0]),Qs[st](je,Ae),tt!=0)for(J=0;16>J;++J,tt<<=2)Ua(tt,Tt,16*+J,je,Ae+xf[J]);for(J=mt.Gc,st=is(le,xe,mt.Dd),Us[st](Oe,Re),Us[st](Ye,vt),tt=Tt,st=Oe,Dt=Re,255&(mt=J>>0)&&(170&mt?fl(tt,256,st,Dt):Es(tt,256,st,Dt)),mt=Ye,tt=vt,255&(J>>=8)&&(170&J?fl(Tt,320,mt,tt):Es(Tt,320,mt,tt)),xe<_.Ub-1&&(n(ct[qt].y,0,je,Ae+480,16),n(ct[qt].f,0,Oe,Re+224,8),n(ct[qt].ea,0,Ye,vt+224,8)),J=8*ye*_.B,ct=_.sa,qt=_.ta+16*le+16*ye*_.R,Tt=_.qa,mt=_.ra+8*le+J,tt=_.Ha,st=_.Ia+8*le+J,J=0;16>J;++J)n(ct,qt+J*_.R,je,Ae+32*J,16);for(J=0;8>J;++J)n(Tt,mt+J*_.B,Oe,Re+32*J,8),n(tt,st+J*_.B,Ye,vt+32*J,8)}}function os(_,M,J,le,xe,ye,je,Ae,Oe){var Re=[0],Ye=[0],vt=0,mt=Oe!=null?Oe.kd:0,ct=Oe??new Tl;if(_==null||12>J)return 7;ct.data=_,ct.w=M,ct.ha=J,M=[M],J=[J],ct.gb=[ct.gb];e:{var qt=M,Tt=J,tt=ct.gb;if(t(_!=null),t(Tt!=null),t(tt!=null),tt[0]=0,12<=Tt[0]&&!r(_,qt[0],"RIFF")){if(r(_,qt[0]+8,"WEBP")){tt=3;break e}var st=Fe(_,qt[0]+4);if(12>st||4294967286<st){tt=3;break e}if(mt&&st>Tt[0]-8){tt=7;break e}tt[0]=st,qt[0]+=12,Tt[0]-=12}tt=0}if(tt!=0)return tt;for(st=0<ct.gb[0],J=J[0];;){e:{var Dt=_;Tt=M,tt=J;var Pt=Re,Ft=Ye,wr=qt=[0];if((gr=vt=[vt])[0]=0,8>tt[0])tt=7;else{if(!r(Dt,Tt[0],"VP8X")){if(Fe(Dt,Tt[0]+4)!=10){tt=3;break e}if(18>tt[0]){tt=7;break e}var dr=Fe(Dt,Tt[0]+8),zr=1+se(Dt,Tt[0]+12);if(2147483648<=zr*(Dt=1+se(Dt,Tt[0]+15))){tt=3;break e}wr!=null&&(wr[0]=dr),Pt!=null&&(Pt[0]=zr),Ft!=null&&(Ft[0]=Dt),Tt[0]+=18,tt[0]-=18,gr[0]=1}tt=0}}if(vt=vt[0],qt=qt[0],tt!=0)return tt;if(Tt=!!(2&qt),!st&&vt)return 3;if(ye!=null&&(ye[0]=!!(16&qt)),je!=null&&(je[0]=Tt),Ae!=null&&(Ae[0]=0),je=Re[0],qt=Ye[0],vt&&Tt&&Oe==null){tt=0;break}if(4>J){tt=7;break}if(st&&vt||!st&&!vt&&!r(_,M[0],"ALPH")){J=[J],ct.na=[ct.na],ct.P=[ct.P],ct.Sa=[ct.Sa];e:{dr=_,tt=M,st=J;var gr=ct.gb;Pt=ct.na,Ft=ct.P,wr=ct.Sa,zr=22,t(dr!=null),t(st!=null),Dt=tt[0];var Hn=st[0];for(t(Pt!=null),t(wr!=null),Pt[0]=null,Ft[0]=null,wr[0]=0;;){if(tt[0]=Dt,st[0]=Hn,8>Hn){tt=7;break e}var Wn=Fe(dr,Dt+4);if(4294967286<Wn){tt=3;break e}var On=8+Wn+1&-2;if(zr+=On,0<gr&&zr>gr){tt=3;break e}if(!r(dr,Dt,"VP8 ")||!r(dr,Dt,"VP8L")){tt=0;break e}if(Hn[0]<On){tt=7;break e}r(dr,Dt,"ALPH")||(Pt[0]=dr,Ft[0]=Dt+8,wr[0]=Wn),Dt+=On,Hn-=On}}if(J=J[0],ct.na=ct.na[0],ct.P=ct.P[0],ct.Sa=ct.Sa[0],tt!=0)break}J=[J],ct.Ja=[ct.Ja],ct.xa=[ct.xa];e:if(gr=_,tt=M,st=J,Pt=ct.gb[0],Ft=ct.Ja,wr=ct.xa,dr=tt[0],Dt=!r(gr,dr,"VP8 "),zr=!r(gr,dr,"VP8L"),t(gr!=null),t(st!=null),t(Ft!=null),t(wr!=null),8>st[0])tt=7;else{if(Dt||zr){if(gr=Fe(gr,dr+4),12<=Pt&&gr>Pt-12){tt=3;break e}if(mt&&gr>st[0]-8){tt=7;break e}Ft[0]=gr,tt[0]+=8,st[0]-=8,wr[0]=zr}else wr[0]=5<=st[0]&&gr[dr+0]==47&&!(gr[dr+4]>>5),Ft[0]=st[0];tt=0}if(J=J[0],ct.Ja=ct.Ja[0],ct.xa=ct.xa[0],M=M[0],tt!=0)break;if(4294967286<ct.Ja)return 3;if(Ae==null||Tt||(Ae[0]=ct.xa?2:1),je=[je],qt=[qt],ct.xa){if(5>J){tt=7;break}Ae=je,mt=qt,Tt=ye,_==null||5>J?_=0:5<=J&&_[M+0]==47&&!(_[M+4]>>5)?(st=[0],gr=[0],Pt=[0],te(Ft=new E,_,M,J),vr(Ft,st,gr,Pt)?(Ae!=null&&(Ae[0]=st[0]),mt!=null&&(mt[0]=gr[0]),Tt!=null&&(Tt[0]=Pt[0]),_=1):_=0):_=0}else{if(10>J){tt=7;break}Ae=qt,_==null||10>J||!Be(_,M+3,J-3)?_=0:(mt=_[M+0]|_[M+1]<<8|_[M+2]<<16,Tt=16383&(_[M+7]<<8|_[M+6]),_=16383&(_[M+9]<<8|_[M+8]),1&mt||3<(mt>>1&7)||!(mt>>4&1)||mt>>5>=ct.Ja||!Tt||!_?_=0:(je&&(je[0]=Tt),Ae&&(Ae[0]=_),_=1))}if(!_||(je=je[0],qt=qt[0],vt&&(Re[0]!=je||Ye[0]!=qt)))return 3;Oe!=null&&(Oe[0]=ct,Oe.offset=M-Oe.w,t(4294967286>M-Oe.w),t(Oe.offset==Oe.ha-J));break}return tt==0||tt==7&&vt&&Oe==null?(ye!=null&&(ye[0]|=ct.na!=null&&0<ct.na.length),le!=null&&(le[0]=je),xe!=null&&(xe[0]=qt),0):tt}function Ss(_,M,J){var le=M.width,xe=M.height,ye=0,je=0,Ae=le,Oe=xe;if(M.Da=_!=null&&0<_.Da,M.Da&&(Ae=_.cd,Oe=_.bd,ye=_.v,je=_.j,11>J||(ye&=-2,je&=-2),0>ye||0>je||0>=Ae||0>=Oe||ye+Ae>le||je+Oe>xe))return 0;if(M.v=ye,M.j=je,M.va=ye+Ae,M.o=je+Oe,M.U=Ae,M.T=Oe,M.da=_!=null&&0<_.da,M.da){if(!ke(Ae,Oe,J=[_.ib],ye=[_.hb]))return 0;M.ib=J[0],M.hb=ye[0]}return M.ob=_!=null&&_.ob,M.Kb=_==null||!_.Sd,M.da&&(M.ob=M.ib<3*le/4&&M.hb<3*xe/4,M.Kb=0),1}function _s(_){if(_==null)return 2;if(11>_.S){var M=_.f.RGBA;M.fb+=(_.height-1)*M.A,M.A=-M.A}else M=_.f.kb,_=_.height,M.O+=(_-1)*M.fa,M.fa=-M.fa,M.N+=(_-1>>1)*M.Ab,M.Ab=-M.Ab,M.W+=(_-1>>1)*M.Db,M.Db=-M.Db,M.F!=null&&(M.J+=(_-1)*M.lb,M.lb=-M.lb);return 0}function mo(_,M,J,le){if(le==null||0>=_||0>=M)return 2;if(J!=null){if(J.Da){var xe=J.cd,ye=J.bd,je=-2&J.v,Ae=-2&J.j;if(0>je||0>Ae||0>=xe||0>=ye||je+xe>_||Ae+ye>M)return 2;_=xe,M=ye}if(J.da){if(!ke(_,M,xe=[J.ib],ye=[J.hb]))return 2;_=xe[0],M=ye[0]}}le.width=_,le.height=M;e:{var Oe=le.width,Re=le.height;if(_=le.S,0>=Oe||0>=Re||!(_>=Jc&&13>_))_=2;else{if(0>=le.Rd&&le.sd==null){je=ye=xe=M=0;var Ye=(Ae=Oe*Sd[_])*Re;if(11>_||(ye=(Re+1)/2*(M=(Oe+1)/2),_==12&&(je=(xe=Oe)*Re)),(Re=i(Ye+2*ye+je))==null){_=1;break e}le.sd=Re,11>_?((Oe=le.f.RGBA).eb=Re,Oe.fb=0,Oe.A=Ae,Oe.size=Ye):((Oe=le.f.kb).y=Re,Oe.O=0,Oe.fa=Ae,Oe.Fd=Ye,Oe.f=Re,Oe.N=0+Ye,Oe.Ab=M,Oe.Cd=ye,Oe.ea=Re,Oe.W=0+Ye+ye,Oe.Db=M,Oe.Ed=ye,_==12&&(Oe.F=Re,Oe.J=0+Ye+2*ye),Oe.Tc=je,Oe.lb=xe)}if(M=1,xe=le.S,ye=le.width,je=le.height,xe>=Jc&&13>xe)if(11>xe)_=le.f.RGBA,M&=(Ae=Math.abs(_.A))*(je-1)+ye<=_.size,M&=Ae>=ye*Sd[xe],M&=_.eb!=null;else{_=le.f.kb,Ae=(ye+1)/2,Ye=(je+1)/2,Oe=Math.abs(_.fa),Re=Math.abs(_.Ab);var vt=Math.abs(_.Db),mt=Math.abs(_.lb),ct=mt*(je-1)+ye;M&=Oe*(je-1)+ye<=_.Fd,M&=Re*(Ye-1)+Ae<=_.Cd,M=(M&=vt*(Ye-1)+Ae<=_.Ed)&Oe>=ye&Re>=Ae&vt>=Ae,M&=_.y!=null,M&=_.f!=null,M&=_.ea!=null,xe==12&&(M&=mt>=ye,M&=ct<=_.Tc,M&=_.F!=null)}else M=0;_=M?0:2}}return _!=0||J!=null&&J.fd&&(_=_s(le)),_}var ca=64,Xc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Il=24,Fu=32,ic=8,ui=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];pe("Predictor0","PredictorAdd0"),O.Predictor0=function(){return 4278190080},O.Predictor1=function(_){return _},O.Predictor2=function(_,M,J){return M[J+0]},O.Predictor3=function(_,M,J){return M[J+1]},O.Predictor4=function(_,M,J){return M[J-1]},O.Predictor5=function(_,M,J){return De(De(_,M[J+1]),M[J+0])},O.Predictor6=function(_,M,J){return De(_,M[J-1])},O.Predictor7=function(_,M,J){return De(_,M[J+0])},O.Predictor8=function(_,M,J){return De(M[J-1],M[J+0])},O.Predictor9=function(_,M,J){return De(M[J+0],M[J+1])},O.Predictor10=function(_,M,J){return De(De(_,M[J-1]),De(M[J+0],M[J+1]))},O.Predictor11=function(_,M,J){var le=M[J+0];return 0>=ht(le>>24&255,_>>24&255,(M=M[J-1])>>24&255)+ht(le>>16&255,_>>16&255,M>>16&255)+ht(le>>8&255,_>>8&255,M>>8&255)+ht(255&le,255&_,255&M)?le:_},O.Predictor12=function(_,M,J){var le=M[J+0];return(Xe((_>>24&255)+(le>>24&255)-((M=M[J-1])>>24&255))<<24|Xe((_>>16&255)+(le>>16&255)-(M>>16&255))<<16|Xe((_>>8&255)+(le>>8&255)-(M>>8&255))<<8|Xe((255&_)+(255&le)-(255&M)))>>>0},O.Predictor13=function(_,M,J){var le=M[J-1];return(Je((_=De(_,M[J+0]))>>24&255,le>>24&255)<<24|Je(_>>16&255,le>>16&255)<<16|Je(_>>8&255,le>>8&255)<<8|Je(_>>0&255,le>>0&255))>>>0};var oc=O.PredictorAdd0;O.PredictorAdd1=Ue,pe("Predictor2","PredictorAdd2"),pe("Predictor3","PredictorAdd3"),pe("Predictor4","PredictorAdd4"),pe("Predictor5","PredictorAdd5"),pe("Predictor6","PredictorAdd6"),pe("Predictor7","PredictorAdd7"),pe("Predictor8","PredictorAdd8"),pe("Predictor9","PredictorAdd9"),pe("Predictor10","PredictorAdd10"),pe("Predictor11","PredictorAdd11"),pe("Predictor12","PredictorAdd12"),pe("Predictor13","PredictorAdd13");var dl=O.PredictorAdd2;ot("ColorIndexInverseTransform","MapARGB","32b",(function(_){return _>>8&255}),(function(_){return _})),ot("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(_){return _}),(function(_){return _>>8&255}));var Mu,As=O.ColorIndexInverseTransform,lc=O.MapARGB,cc=O.VP8LColorIndexInverseTransformAlpha,$o=O.MapAlpha,Rs=O.VP8LPredictorsAdd=[];Rs.length=16,(O.VP8LPredictors=[]).length=16,(O.VP8LPredictorsAdd_C=[]).length=16,(O.VP8LPredictors_C=[]).length=16;var Wi,ls,Ya,Vi,Gi,Dl,Ll,di,Mn,fl,Vn,Es,Fl,bd,xo,Ml,Rl,Bs,hl,Ei,pl,ml,uc,Cs,Ci,ua,ta,Fa,cs=i(511),zo=i(2041),Ru=i(225),xl=i(767),Bu=0,gl=zo,Yc=Ru,Ts=xl,Ki=cs,Jc=0,Bl=1,wd=2,Uu=3,cf=4,da=5,uf=6,go=7,Ti=8,Ho=9,Nd=10,Qc=[2,3,7],vl=[3,3,11],dc=[280,256,256,256,40],c0=[0,1,1,1,0],df=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Kp=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Zc=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ff=8,qu=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],fc=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],eu=null,tu=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],hf=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],xh=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],u0=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],pf=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Xp=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],mf=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Qs=[],vo=[],Us=[],yo=1,Ul=2,qs=[],Oi=[];It("UpsampleRgbLinePair",pn,3),It("UpsampleBgrLinePair",la,3),It("UpsampleRgbaLinePair",ea,4),It("UpsampleBgraLinePair",zn,4),It("UpsampleArgbLinePair",nn,4),It("UpsampleRgba4444LinePair",Va,2),It("UpsampleRgb565LinePair",yn,2);var gh=O.UpsampleRgbLinePair,d0=O.UpsampleBgrLinePair,hc=O.UpsampleRgbaLinePair,ru=O.UpsampleBgraLinePair,nu=O.UpsampleArgbLinePair,pc=O.UpsampleRgba4444LinePair,Sa=O.UpsampleRgb565LinePair,fi=16,hs=1<<fi-1,ra=-227,Jn=482,Xi=6,Ja=0,Pi=i(256),Yi=i(256),$u=i(256),Zs=i(256),jd=i(Jn-ra),kd=i(Jn-ra);Yn("YuvToRgbRow",pn,3),Yn("YuvToBgrRow",la,3),Yn("YuvToRgbaRow",ea,4),Yn("YuvToBgraRow",zn,4),Yn("YuvToArgbRow",nn,4),Yn("YuvToRgba4444Row",Va,2),Yn("YuvToRgb565Row",yn,2);var xf=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],au=[0,2,8],zu=[8,7,6,4,4,2,2,2,1,1,1,1],Ji=1;this.WebPDecodeRGBA=function(_,M,J,le,xe){var ye=Bl,je=new _i,Ae=new _r;je.ba=Ae,Ae.S=ye,Ae.width=[Ae.width],Ae.height=[Ae.height];var Oe=Ae.width,Re=Ae.height,Ye=new Tr;if(Ye==null||_==null)var vt=2;else t(Ye!=null),vt=os(_,M,J,Ye.width,Ye.height,Ye.Pd,Ye.Qd,Ye.format,null);if(vt!=0?Oe=0:(Oe!=null&&(Oe[0]=Ye.width[0]),Re!=null&&(Re[0]=Ye.height[0]),Oe=1),Oe){Ae.width=Ae.width[0],Ae.height=Ae.height[0],le!=null&&(le[0]=Ae.width),xe!=null&&(xe[0]=Ae.height);e:{if(le=new fs,(xe=new Tl).data=_,xe.w=M,xe.ha=J,xe.kd=1,M=[0],t(xe!=null),((_=os(xe.data,xe.w,xe.ha,null,null,null,M,null,xe))==0||_==7)&&M[0]&&(_=4),(M=_)==0){if(t(je!=null),le.data=xe.data,le.w=xe.w+xe.offset,le.ha=xe.ha-xe.offset,le.put=Tn,le.ac=Gr,le.bc=Ln,le.ma=je,xe.xa){if((_=dt())==null){je=1;break e}if((function(mt,ct){var qt=[0],Tt=[0],tt=[0];t:for(;;){if(mt==null)return 0;if(ct==null)return mt.a=2,0;if(mt.l=ct,mt.a=0,te(mt.m,ct.data,ct.w,ct.ha),!vr(mt.m,qt,Tt,tt)){mt.a=3;break t}if(mt.xb=Ul,ct.width=qt[0],ct.height=Tt[0],!Ve(qt[0],Tt[0],1,mt,null))break t;return 1}return t(mt.a!=0),0})(_,le)){if(le=(M=mo(le.width,le.height,je.Oa,je.ba))==0){t:{le=_;r:for(;;){if(le==null){le=0;break t}if(t(le.s.yc!=null),t(le.s.Ya!=null),t(0<le.s.Wb),t((J=le.l)!=null),t((xe=J.ma)!=null),le.xb!=0){if(le.ca=xe.ba,le.tb=xe.tb,t(le.ca!=null),!Ss(xe.Oa,J,Uu)){le.a=2;break r}if(!Qe(le,J.width)||J.da)break r;if((J.da||jt(le.ca.S))&&pt(),11>le.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),le.ca.f.kb.F!=null&&pt()),le.Pb&&0<le.s.ua&&le.s.vb.X==null&&!_e(le.s.vb,le.s.Wa.Xa)){le.a=1;break r}le.xb=0}if(!Te(le,le.V,le.Ba,le.c,le.i,J.o,me))break r;xe.Dc=le.Ma,le=1;break t}t(le.a!=0),le=0}le=!le}le&&(M=_.a)}else M=_.a}else{if((_=new jn)==null){je=1;break e}if(_.Fa=xe.na,_.P=xe.P,_.qc=xe.Sa,kt(_,le)){if((M=mo(le.width,le.height,je.Oa,je.ba))==0){if(_.Aa=0,J=je.Oa,t((xe=_)!=null),J!=null){if(0<(Oe=0>(Oe=J.Md)?0:100<Oe?255:255*Oe/100)){for(Re=Ye=0;4>Re;++Re)12>(vt=xe.pb[Re]).lc&&(vt.ia=Oe*zu[0>vt.lc?0:vt.lc]>>3),Ye|=vt.ia;Ye&&(alert("todo:VP8InitRandom"),xe.ia=1)}xe.Ga=J.Id,100<xe.Ga?xe.Ga=100:0>xe.Ga&&(xe.Ga=0)}cr(_,le)||(M=_.a)}}else M=_.a}M==0&&je.Oa!=null&&je.Oa.fd&&(M=_s(je.ba))}je=M}ye=je!=0?null:11>ye?Ae.f.RGBA.eb:Ae.f.kb.y}else ye=null;return ye};var Sd=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(O,D){for(var R="",C=0;C<4;C++)R+=String.fromCharCode(O[D++]);return R}function d(O,D){return(O[D+0]<<0|O[D+1]<<8|O[D+2]<<16)>>>0}function h(O,D){return(O[D+0]<<0|O[D+1]<<8|O[D+2]<<16|O[D+3]<<24)>>>0}new c;var m=[0],p=[0],y=[],v=new c,g=e,b=(function(O,D){var R={},C=0,T=!1,I=0,B=0;if(R.frames=[],!(function(q,V,U,G){for(var ne=0;ne<G;ne++)if(q[V+ne]!=U.charCodeAt(ne))return!0;return!1})(O,D,"RIFF",4)){var X,re;for(h(O,D+=4),D+=8;D<O.length;){var Z=u(O,D),te=h(O,D+=4);D+=4;var Y=te+(1&te);switch(Z){case"VP8 ":case"VP8L":R.frames[C]===void 0&&(R.frames[C]={}),(E=R.frames[C]).src_off=T?B:D-8,E.src_size=I+te+8,C++,T&&(T=!1,I=0,B=0);break;case"VP8X":(E=R.header={}).feature_flags=O[D];var Q=D+4;E.canvas_width=1+d(O,Q),Q+=3,E.canvas_height=1+d(O,Q),Q+=3;break;case"ALPH":T=!0,I=Y+8,B=D-8;break;case"ANIM":(E=R.header).bgcolor=h(O,D),Q=D+4,E.loop_count=(X=O)[(re=Q)+0]<<0|X[re+1]<<8,Q+=2;break;case"ANMF":var H,E;(E=R.frames[C]={}).offset_x=2*d(O,D),D+=3,E.offset_y=2*d(O,D),D+=3,E.width=1+d(O,D),D+=3,E.height=1+d(O,D),D+=3,E.duration=d(O,D),D+=3,H=O[D++],E.dispose=1&H,E.blend=H>>1&1}Z!="ANMF"&&(D+=Y)}return R}})(g,0);b.response=g,b.rgbaoutput=!0,b.dataurl=!1;var w=b.header?b.header:null,j=b.frames?b.frames:null;if(w){w.loop_counter=w.loop_count,m=[w.canvas_height],p=[w.canvas_width];for(var N=0;N<j.length&&j[N].blend!=0;N++);}var k=j[0],P=v.WebPDecodeRGBA(g,k.src_off,k.src_size,p,m);k.rgba=P,k.imgwidth=p[0],k.imgheight=m[0];for(var A=0;A<p[0]*m[0]*4;A++)y[A]=P[A];return this.width=p,this.height=m,this.data=y,this}(function(e){var t=function(){return typeof dk=="function"},r=function(m,p,y,v){var g=4,b=o;switch(v){case e.image_compression.FAST:g=1,b=i;break;case e.image_compression.MEDIUM:g=6,b=l;break;case e.image_compression.SLOW:g=9,b=c}m=n(m,p,y,b);var w=dk(m,{level:g});return e.__addimage__.arrayBufferToBinaryString(w)},n=function(m,p,y,v){for(var g,b,w,j=m.length/p,N=new Uint8Array(m.length+j),k=d(),P=0;P<j;P+=1){if(w=P*p,g=m.subarray(w,w+p),v)N.set(v(g,y,b),w+P);else{for(var A,O=k.length,D=[];A<O;A+=1)D[A]=k[A](g,y,b);var R=h(D.concat());N.set(D[R],w+P)}b=g}return N},s=function(m){var p=Array.apply([],m);return p.unshift(0),p},i=function(m,p){var y,v=[],g=m.length;v[0]=1;for(var b=0;b<g;b+=1)y=m[b-p]||0,v[b+1]=m[b]-y+256&255;return v},o=function(m,p,y){var v,g=[],b=m.length;g[0]=2;for(var w=0;w<b;w+=1)v=y&&y[w]||0,g[w+1]=m[w]-v+256&255;return g},l=function(m,p,y){var v,g,b=[],w=m.length;b[0]=3;for(var j=0;j<w;j+=1)v=m[j-p]||0,g=y&&y[j]||0,b[j+1]=m[j]+256-(v+g>>>1)&255;return b},c=function(m,p,y){var v,g,b,w,j=[],N=m.length;j[0]=4;for(var k=0;k<N;k+=1)v=m[k-p]||0,g=y&&y[k]||0,b=y&&y[k-p]||0,w=u(v,g,b),j[k+1]=m[k]-w+256&255;return j},u=function(m,p,y){if(m===p&&p===y)return m;var v=Math.abs(p-y),g=Math.abs(m-y),b=Math.abs(m+p-y-y);return v<=g&&v<=b?m:g<=b?p:y},d=function(){return[s,i,o,l,c]},h=function(m){var p=m.map((function(y){return y.reduce((function(v,g){return v+Math.abs(g)}),0)}));return p.indexOf(Math.min.apply(null,p))};e.processPNG=function(m,p,y,v){var g,b,w,j,N,k,P,A,O,D,R,C,T,I,B,X=this.decode.FLATE_DECODE,re="";if(this.__addimage__.isArrayBuffer(m)&&(m=new Uint8Array(m)),this.__addimage__.isArrayBufferView(m)){if(m=(w=new Nge(m)).imgData,b=w.bits,g=w.colorSpace,N=w.colors,[4,6].indexOf(w.colorType)!==-1){if(w.bits===8){O=(A=w.pixelBitlength==32?new Uint32Array(w.decodePixels().buffer):w.pixelBitlength==16?new Uint16Array(w.decodePixels().buffer):new Uint8Array(w.decodePixels().buffer)).length,R=new Uint8Array(O*w.colors),D=new Uint8Array(O);var Z,te=w.pixelBitlength-w.bits;for(I=0,B=0;I<O;I++){for(T=A[I],Z=0;Z<te;)R[B++]=T>>>Z&255,Z+=w.bits;D[I]=T>>>Z&255}}if(w.bits===16){O=(A=new Uint32Array(w.decodePixels().buffer)).length,R=new Uint8Array(O*(32/w.pixelBitlength)*w.colors),D=new Uint8Array(O*(32/w.pixelBitlength)),C=w.colors>1,I=0,B=0;for(var Y=0;I<O;)T=A[I++],R[B++]=T>>>0&255,C&&(R[B++]=T>>>16&255,T=A[I++],R[B++]=T>>>0&255),D[Y++]=T>>>16&255;b=8}v!==e.image_compression.NONE&&t()?(m=r(R,w.width*w.colors,w.colors,v),P=r(D,w.width,1,v)):(m=R,P=D,X=void 0)}if(w.colorType===3&&(g=this.color_spaces.INDEXED,k=w.palette,w.transparency.indexed)){var Q=w.transparency.indexed,H=0;for(I=0,O=Q.length;I<O;++I)H+=Q[I];if((H/=255)===O-1&&Q.indexOf(0)!==-1)j=[Q.indexOf(0)];else if(H!==O){for(A=w.decodePixels(),D=new Uint8Array(A.length),I=0,O=A.length;I<O;I++)D[I]=Q[A[I]];P=r(D,w.width,1)}}var E=(function(q){var V;switch(q){case e.image_compression.FAST:V=11;break;case e.image_compression.MEDIUM:V=13;break;case e.image_compression.SLOW:V=14;break;default:V=12}return V})(v);return X===this.decode.FLATE_DECODE&&(re="/Predictor "+E+" "),re+="/Colors "+N+" /BitsPerComponent "+b+" /Columns "+w.width,(this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),(P&&this.__addimage__.isArrayBuffer(P)||this.__addimage__.isArrayBufferView(P))&&(P=this.__addimage__.arrayBufferToBinaryString(P)),{alias:y,data:m,index:p,filter:X,decodeParameters:re,transparency:j,palette:k,sMask:P,predictor:E,width:w.width,height:w.height,bitsPerComponent:b,colorSpace:g}}}})(on.API),(function(e){e.processGIF89A=function(t,r,n,s){var i=new jge(t),o=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:l},d=new pj(100).encode(u,100);return e.processJPEG.call(this,d,r,n,s)},e.processGIF87A=e.processGIF89A})(on.API),gu.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},gu.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){za.log("bit decode error:"+r)}},gu.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*s*4,l=0;l<8&&8*s+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},gu.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<e;s++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*s*4,l=i>>4,c=15&i,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*s+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},gu.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(s<this.palette.length){var o=this.palette[s];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},gu.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,l=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,u=i>>15?255:0,d=n*this.width*4+4*s;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=u}this.pos+=e}},gu.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&r)/r*255|0,u=(o>>11)/t*255|0,d=s*this.width*4+4*i;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=e}},gu.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},gu.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=i,this.data[l+1]=s,this.data[l+2]=n,this.data[l+3]=o}},gu.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,r,n,s){var i=new gu(t,!1),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},u=new pj(100).encode(c,100);return e.processJPEG.call(this,u,r,n,s)}})(on.API),D8.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,r,n,s){var i=new D8(t),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},u=new pj(100).encode(c,100);return e.processJPEG.call(this,u,r,n,s)}})(on.API),on.API.processRGBA=function(e,t,r){for(var n=e.data,s=n.length,i=new Uint8Array(s/4*3),o=new Uint8Array(s/4),l=0,c=0,u=0;u<s;u+=4){var d=n[u],h=n[u+1],m=n[u+2],p=n[u+3];i[l++]=d,i[l++]=h,i[l++]=m,o[c++]=p}var y=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:y,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},on.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},Rh=on.API,jv=Rh.getCharWidthsArray=function(e,t){var r,n,s=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:s.metadata.Unicode.widths,c=l.fof?l.fof:1,u=t.kerning?t.kerning:s.metadata.Unicode.kerning,d=u.fof?u.fof:1,h=t.doKerning!==!1,m=0,p=e.length,y=0,v=l[0]||c,g=[];for(r=0;r<p;r++)n=e.charCodeAt(r),typeof s.metadata.widthOfString=="function"?g.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+o*(1e3/i)||0)/1e3):(m=h&&Pa(u[n])==="object"&&!isNaN(parseInt(u[n][y],10))?u[n][y]/d:0,g.push((l[n]||v)/c+m)),y=n;return g},T8=Rh.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return Rh.processArabic&&(e=Rh.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,s)/r:jv.apply(this,arguments).reduce((function(i,o){return i+o}),0)},O8=function(e,t,r,n){for(var s=[],i=0,o=e.length,l=0;i!==o&&l+t[i]<r;)l+=t[i],i++;s.push(e.slice(0,i));var c=i;for(l=0;i!==o;)l+t[i]>n&&(s.push(e.slice(c,i)),l=0,c=i),l+=t[i],i++;return c!==i&&s.push(e.slice(c,i)),s},P8=function(e,t,r){r||(r={});var n,s,i,o,l,c,u,d=[],h=[d],m=r.textIndent||0,p=0,y=0,v=e.split(" "),g=jv.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?v[0].length+2:r.lineIndent||0){var b=Array(c).join(" "),w=[];v.map((function(N){(N=N.split(/\s*\n/)).length>1?w=w.concat(N.map((function(k,P){return(P&&k.length?`
`:"")+k}))):w.push(N[0])})),v=w,c=T8.apply(this,[b,r])}for(i=0,o=v.length;i<o;i++){var j=0;if(n=v[i],c&&n[0]==`
`&&(n=n.substr(1),j=1),m+p+(y=(s=jv.apply(this,[n,r])).reduce((function(N,k){return N+k}),0))>t||j){if(y>t){for(l=O8.apply(this,[n,s,t-(m+p),t]),d.push(l.shift()),d=[l.pop()];l.length;)h.push([l.shift()]);y=s.slice(n.length-(d[0]?d[0].length:0)).reduce((function(N,k){return N+k}),0)}else d=[n];h.push(d),m=y+c,p=g}else d.push(n),m+=p+y,p=g}return u=c?function(N,k){return(k?b:"")+N.join(" ")}:function(N){return N.join(" ")},h.map(u)},Rh.splitTextToSize=function(e,t,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var h=this.internal.getFont(d.fontName,d.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/s;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(P8.apply(this,[n[l],o,i]));return u},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},s=0;s<t.length;s++)r[t[s]]="0123456789abcdef"[s],n["0123456789abcdef"[s]]=t[s];var i=function(h){return"0x"+parseInt(h,10).toString(16)},o=e.__fontmetrics__.compress=function(h){var m,p,y,v,g=["{"];for(var b in h){if(m=h[b],isNaN(parseInt(b,10))?p="'"+b+"'":(b=parseInt(b,10),p=(p=i(b).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof m=="number")m<0?(y=i(m).slice(3),v="-"):(y=i(m).slice(2),v=""),y=v+y.slice(0,-1)+n[y.slice(-1)];else{if(Pa(m)!=="object")throw new Error("Don't know what to do with value type "+Pa(m)+".");y=o(m)}g.push(p+y)}return g.push("}"),g.join("")},l=e.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,p,y,v,g={},b=1,w=g,j=[],N="",k="",P=h.length-1,A=1;A<P;A+=1)(v=h[A])=="'"?m?(y=m.join(""),m=void 0):m=[]:m?m.push(v):v=="{"?(j.push([w,y]),w={},y=void 0):v=="}"?((p=j.pop())[0][p[1]]=w,y=void 0,w=p[0]):v=="-"?b=-1:y===void 0?r.hasOwnProperty(v)?(N+=r[v],y=parseInt(N,16)*b,b=1,N=""):N+=v:r.hasOwnProperty(v)?(k+=r[v],w[y]=parseInt(k,16)*b,b=1,y=void 0,k=""):k+=v;return g},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(h){var m=h.font,p=d.Unicode[m.postScriptName];p&&(m.metadata.Unicode={},m.metadata.Unicode.widths=p.widths,m.metadata.Unicode.kerning=p.kerning);var y=u.Unicode[m.postScriptName];y&&(m.metadata.Unicode.encoding=y,m.encoding=y.codePages[0])}])})(on.API),(function(e){var t=function(r){for(var n=r.length,s=new Uint8Array(n),i=0;i<n;i++)s[i]=r.charCodeAt(i);return s};e.API.events.push(["addFont",function(r){var n=void 0,s=r.font,i=r.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(Gm(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(s,n)}}])})(on),(function(e){function t(){return(ln.canvg?Promise.resolve(ln.canvg):qv(()=>import("./index.es-B06olUaV.js"),[])).catch((function(r){return Promise.reject(new Error("Could not load canvg: "+r))})).then((function(r){return r.default?r.default:r}))}on.API.addSvgAsImage=function(r,n,s,i,o,l,c,u){if(isNaN(n)||isNaN(s))throw za.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw za.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=i,d.height=o;var h=d.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,d.width,d.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return t().then((function(y){return y.fromString(h,r,m)}),(function(){return Promise.reject(new Error("Could not load canvg."))})).then((function(y){return y.render(m)})).then((function(){p.addImage(d.toDataURL("image/jpeg",1),n,s,i,o,c,u)}))}})(),on.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(t,r);return this},on.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,s,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],u=0,d=0,h=0;function m(y,v){var g,b=!1;for(g=0;g<y.length;g+=1)y[g]===v&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=l.length;for(h=0;h<p;h+=1)r[l[h]].value=r[l[h]].defaultValue,r[l[h]].explicitSet=!1}if(Pa(e)==="object"){for(s in e)if(i=e[s],m(l,s)&&i!==void 0){if(r[s].type==="boolean"&&typeof i=="boolean")r[s].value=i;else if(r[s].type==="name"&&m(r[s].valueSet,i))r[s].value=i;else if(r[s].type==="integer"&&Number.isInteger(i))r[s].value=i;else if(r[s].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(d=0;d<i[u].length;d+=1)typeof i[u][d]!="number"&&(n=!1);n===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}r[s].value="["+c.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){var y,v=[];for(y in r)r[y].explicitSet===!0&&(r[y].type==="name"?v.push("/"+y+" /"+r[y].value):v.push("/"+y+" "+r[y].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+o.length+l.length+s.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(s+i+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}})(on.API),(function(e){var t=e.API,r=t.pdfEscape16=function(i,o){for(var l,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],h=0,m=i.length;h<m;++h){if(l=o.metadata.characterToGlyph(i.charCodeAt(h)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(h),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},n=function(i){var o,l,c,u,d,h,m;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,m=(l=Object.keys(i).sort((function(p,y){return p-y}))).length;h<m;h++)o=l[h],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(u=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var h=l.metadata.Unicode.widths,m=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",y=0;y<m.length;y++)p+=String.fromCharCode(m[y]);var v=u();d({data:p,addLength1:!0,objectId:v}),c("endobj");var g=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:g}),c("endobj");var b=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+qh(l.fontName)),c("/FontFile2 "+v+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var w=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+qh(l.fontName)),c("/FontDescriptor "+b+" 0 R"),c("/W "+e.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+g+" 0 R"),c("/BaseFont /"+qh(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+w+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var h=l.metadata.rawData,m="",p=0;p<h.length;p++)m+=String.fromCharCode(h[p]);var y=u();d({data:m,addLength1:!0,objectId:y}),c("endobj");var v=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var g=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+y+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+qh(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var b=0;b<l.metadata.hmtx.widths.length;b++)l.metadata.hmtx.widths[b]=parseInt(l.metadata.hmtx.widths[b]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+qh(l.fontName)+"/FontDescriptor "+g+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var s=function(i){var o,l=i.text||"",c=i.x,u=i.y,d=i.options||{},h=i.mutex||{},m=h.pdfEscape,p=h.activeFontKey,y=h.fonts,v=p,g="",b=0,w="",j=y[v].encoding;if(y[v].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:h};for(w=l,v=p,Array.isArray(l)&&(w=l[0]),b=0;b<w.length;b+=1)y[v].metadata.hasOwnProperty("cmap")&&(o=y[v].metadata.cmap.unicode.codeMap[w[b].charCodeAt(0)]),o||w[b].charCodeAt(0)<256&&y[v].metadata.hasOwnProperty("Unicode")?g+=w[b]:g+="";var N="";return parseInt(v.slice(1))<14||j==="WinAnsiEncoding"?N=m(g,v).split("").map((function(k){return k.charCodeAt(0).toString(16)})).join(""):j==="Identity-H"&&(N=r(g,y[v])),h.isHex=!0,{text:N,x:c,y:u,options:d,mutex:h}};t.events.push(["postProcessText",function(i){var o=i.text||"",l=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([s(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(s(Object.assign({},c,{text:o[u]})).text);i.text=l}else i.text=s(Object.assign({},c,{text:o})).text}])})(on),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(on.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var s,i,o,l,c,u,d,h=t,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},g=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,j=0;this.__bidiEngine__={};var N=function(C){var T=C.charCodeAt(),I=T>>8,B=v[I];return B!==void 0?h[256*B+(255&T)]:I===252||I===253?"AL":b.test(I)?"L":I===8?"R":"N"},k=function(C){for(var T,I=0;I<C.length;I++){if((T=N(C.charAt(I)))==="L")return!1;if(T==="R")return!0}return!1},P=function(C,T,I,B){var X,re,Z,te,Y=T[B];switch(Y){case"L":case"R":w=!1;break;case"N":case"AN":break;case"EN":w&&(Y="AN");break;case"AL":w=!0,Y="R";break;case"WS":Y="N";break;case"CS":B<1||B+1>=T.length||(X=I[B-1])!=="EN"&&X!=="AN"||(re=T[B+1])!=="EN"&&re!=="AN"?Y="N":w&&(re="AN"),Y=re===X?re:"N";break;case"ES":Y=(X=B>0?I[B-1]:"B")==="EN"&&B+1<T.length&&T[B+1]==="EN"?"EN":"N";break;case"ET":if(B>0&&I[B-1]==="EN"){Y="EN";break}if(w){Y="N";break}for(Z=B+1,te=T.length;Z<te&&T[Z]==="ET";)Z++;Y=Z<te&&T[Z]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(te=T.length,Z=B+1;Z<te&&T[Z]==="NSM";)Z++;if(Z<te){var Q=C[B],H=Q>=1425&&Q<=2303||Q===64286;if(X=T[Z],H&&(X==="R"||X==="AL")){Y="R";break}}}Y=B<1||(X=T[B-1])==="B"?"N":I[B-1];break;case"B":w=!1,s=!0,Y=j;break;case"S":i=!0,Y="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"BN":Y="N"}return Y},A=function(C,T,I){var B=C.split("");return I&&O(B,I,{hiLevel:j}),B.reverse(),T&&T.reverse(),B.join("")},O=function(C,T,I){var B,X,re,Z,te,Y=-1,Q=C.length,H=0,E=[],q=j?p:m,V=[];for(w=!1,s=!1,i=!1,X=0;X<Q;X++)V[X]=N(C[X]);for(re=0;re<Q;re++){if(te=H,E[re]=P(C,V,E,re),B=240&(H=q[te][y[E[re]]]),H&=15,T[re]=Z=q[H][5],B>0)if(B===16){for(X=Y;X<re;X++)T[X]=1;Y=-1}else Y=-1;if(q[H][6])Y===-1&&(Y=re);else if(Y>-1){for(X=Y;X<re;X++)T[X]=Z;Y=-1}V[re]==="B"&&(T[re]=0),I.hiLevel|=Z}i&&(function(U,G,ne){for(var de=0;de<ne;de++)if(U[de]==="S"){G[de]=j;for(var ce=de-1;ce>=0&&U[ce]==="WS";ce--)G[ce]=j}})(V,T,Q)},D=function(C,T,I,B,X){if(!(X.hiLevel<C)){if(C===1&&j===1&&!s)return T.reverse(),void(I&&I.reverse());for(var re,Z,te,Y,Q=T.length,H=0;H<Q;){if(B[H]>=C){for(te=H+1;te<Q&&B[te]>=C;)te++;for(Y=H,Z=te-1;Y<Z;Y++,Z--)re=T[Y],T[Y]=T[Z],T[Z]=re,I&&(re=I[Y],I[Y]=I[Z],I[Z]=re);H=te}H++}}},R=function(C,T,I){var B=C.split(""),X={hiLevel:j};return I||(I=[]),O(B,I,X),(function(re,Z,te){if(te.hiLevel!==0&&d)for(var Y,Q=0;Q<re.length;Q++)Z[Q]===1&&(Y=g.indexOf(re[Q]))>=0&&(re[Q]=g[Y+1])})(B,I,X),D(2,B,T,I,X),D(1,B,T,I,X),B.join("")};return this.__bidiEngine__.doBidiReorder=function(C,T,I){if((function(X,re){if(re)for(var Z=0;Z<X.length;Z++)re[Z]=Z;l===void 0&&(l=k(X)),u===void 0&&(u=k(X))})(C,T),o||!c||u)if(o&&c&&l^u)j=l?1:0,C=A(C,T,I);else if(!o&&c&&u)j=l?1:0,C=R(C,T,I),C=A(C,T);else if(!o||l||c||u){if(o&&!c&&l^u)C=A(C,T),l?(j=0,C=R(C,T,I)):(j=1,C=R(C,T,I),C=A(C,T));else if(o&&l&&!c&&u)j=1,C=R(C,T,I),C=A(C,T);else if(!o&&!c&&l^u){var B=d;l?(j=1,C=R(C,T,I),j=0,d=!1,C=R(C,T,I),d=B):(j=0,C=R(C,T,I),C=A(C,T),j=1,d=!1,C=R(C,T,I),d=B,C=A(C,T))}}else j=0,C=R(C,T,I);else j=l?1:0,C=R(C,T,I);return C},this.__bidiEngine__.setOptions=function(C){C&&(o=C.isInputVisual,c=C.isOutputVisual,l=C.isInputRtl,u=C.isOutputRtl,d=C.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var s=n.text,i=(n.x,n.y,n.options||{}),o=(n.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var l=0;for(o=[],l=0;l<s.length;l+=1)Object.prototype.toString.call(s[l])==="[object Array]"?o.push([r.doBidiReorder(s[l][0]),s[l][1],s[l][2]]):o.push([r.doBidiReorder(s[l])]);n.text=o}else n.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])})(on),on.API.TTFFont=(function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Qf(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Rge(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new kge(this.contents),this.head=new _ge(this),this.name=new Oge(this),this.cmap=new v9(this),this.toUnicode={},this.hhea=new Age(this),this.maxp=new Pge(this),this.hmtx=new Ige(this),this.post=new Cge(this),this.os2=new Ege(this),this.loca=new Mge(this),this.glyf=new Dge(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,u;for(u=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),(32768&(r=s>>16))!=0&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var s,i,o,l;for(o=0,i=0,l=(t=""+t).length;0<=l?i<l:i>l;i=0<=l?++i:--i)s=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e})();var Du,Qf=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,s;for(s=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)s.push(this.writeByte(t.charCodeAt(r)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,s,i,o,l,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*s+16777216*i+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,s,i;for(i=[],n=0,s=t.length;n<s;n++)r=t[n],i.push(this.writeByte(r));return i},e})(),kge=(function(){var e;function t(r){var n,s,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,s,i,o,l,c,u,d,h,m,p,y,v;for(v in p=Object.keys(r).length,c=Math.log(2),h=16*Math.floor(Math.log(p)/c),o=Math.floor(h/c),d=16*p-h,(s=new Qf).writeInt(this.scalarType),s.writeShort(p),s.writeShort(h),s.writeShort(o),s.writeShort(d),i=16*p,u=s.pos+i,l=null,y=[],r)for(m=r[v],s.writeString(v),s.writeInt(e(m)),s.writeInt(u),s.writeInt(m.length),y=y.concat(m),v==="head"&&(l=u),u+=m.length;u%4;)y.push(0),u++;return s.write(y),n=2981146554-e(s.data),s.pos=l+8,s.writeUInt32(n),s.data},e=function(r){var n,s,i,o;for(r=y9.call(r);r.length%4;)r.push(0);for(i=new Qf(r),s=0,n=0,o=r.length;n<o;n=n+=4)s+=i.readUInt32();return 4294967295&s},t})(),Sge={}.hasOwnProperty,gd=function(e,t){for(var r in t)Sge.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Du=(function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var _ge=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return gd(t,Du),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new Qf).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t})(),L8=(function(){function e(t,r){var n,s,i,o,l,c,u,d,h,m,p,y,v,g,b,w,j;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),h=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(p=t.readUInt16(),m=p/2,t.pos+=6,i=(function(){var N,k;for(k=[],c=N=0;0<=m?N<m:N>m;c=0<=m?++N:--N)k.push(t.readUInt16());return k})(),t.pos+=2,v=(function(){var N,k;for(k=[],c=N=0;0<=m?N<m:N>m;c=0<=m?++N:--N)k.push(t.readUInt16());return k})(),u=(function(){var N,k;for(k=[],c=N=0;0<=m?N<m:N>m;c=0<=m?++N:--N)k.push(t.readUInt16());return k})(),d=(function(){var N,k;for(k=[],c=N=0;0<=m?N<m:N>m;c=0<=m?++N:--N)k.push(t.readUInt16());return k})(),s=(this.length-t.pos+this.offset)/2,l=(function(){var N,k;for(k=[],c=N=0;0<=s?N<s:N>s;c=0<=s?++N:--N)k.push(t.readUInt16());return k})(),c=b=0,j=i.length;b<j;c=++b)for(g=i[c],n=w=y=v[c];y<=g?w<=g:w>=g;n=y<=g?++w:--w)d[c]===0?o=n+u[c]:(o=l[d[c]/2+(n-y)-(m-c)]||0)!==0&&(o+=u[c]),this.codeMap[n]=65535&o}t.pos=h}return e.encode=function(t,r){var n,s,i,o,l,c,u,d,h,m,p,y,v,g,b,w,j,N,k,P,A,O,D,R,C,T,I,B,X,re,Z,te,Y,Q,H,E,q,V,U,G,ne,de,ce,he,Le,se;switch(B=new Qf,o=Object.keys(t).sort((function(Fe,_e){return Fe-_e})),r){case"macroman":for(v=0,g=(function(){var Fe=[];for(y=0;y<256;++y)Fe.push(0);return Fe})(),w={0:0},i={},X=0,Y=o.length;X<Y;X++)w[ce=t[s=o[X]]]==null&&(w[ce]=++v),i[s]={old:t[s],new:w[t[s]]},g[s]=w[t[s]];return B.writeUInt16(1),B.writeUInt16(0),B.writeUInt32(12),B.writeUInt16(0),B.writeUInt16(262),B.writeUInt16(0),B.write(g),{charMap:i,subtable:B.data,maxGlyphID:v+1};case"unicode":for(T=[],h=[],j=0,w={},n={},b=u=null,re=0,Q=o.length;re<Q;re++)w[k=t[s=o[re]]]==null&&(w[k]=++j),n[s]={old:k,new:w[k]},l=w[k]-s,b!=null&&l===u||(b&&h.push(b),T.push(s),u=l),b=s;for(b&&h.push(b),h.push(65535),T.push(65535),R=2*(D=T.length),O=2*Math.pow(Math.log(D)/Math.LN2,2),m=Math.log(O/2)/Math.LN2,A=2*D-O,c=[],P=[],p=[],y=Z=0,H=T.length;Z<H;y=++Z){if(C=T[y],d=h[y],C===65535){c.push(0),P.push(0);break}if(C-(I=n[C].new)>=32768)for(c.push(0),P.push(2*(p.length+D-y)),s=te=C;C<=d?te<=d:te>=d;s=C<=d?++te:--te)p.push(n[s].new);else c.push(I-C),P.push(0)}for(B.writeUInt16(3),B.writeUInt16(1),B.writeUInt32(12),B.writeUInt16(4),B.writeUInt16(16+8*D+2*p.length),B.writeUInt16(0),B.writeUInt16(R),B.writeUInt16(O),B.writeUInt16(m),B.writeUInt16(A),ne=0,E=h.length;ne<E;ne++)s=h[ne],B.writeUInt16(s);for(B.writeUInt16(0),de=0,q=T.length;de<q;de++)s=T[de],B.writeUInt16(s);for(he=0,V=c.length;he<V;he++)l=c[he],B.writeUInt16(l);for(Le=0,U=P.length;Le<U;Le++)N=P[Le],B.writeUInt16(N);for(se=0,G=p.length;se<G;se++)v=p[se],B.writeUInt16(v);return{charMap:n,subtable:B.data,maxGlyphID:j+1}}},e})(),v9=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return gd(t,Du),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,s,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)n=new L8(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var s,i;return n==null&&(n="macroman"),s=L8.encode(r,n),(i=new Qf).writeUInt16(0),i.writeUInt16(1),s.table=i.data.concat(s.subtable),s},t})(),Age=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return gd(t,Du),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t})(),Ege=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return gd(t,Du),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=(function(){var n,s;for(s=[],n=0;n<10;++n)s.push(r.readByte());return s})(),this.charRange=(function(){var n,s;for(s=[],n=0;n<4;++n)s.push(r.readInt());return s})(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=(function(){var n,s;for(s=[],n=0;n<2;n=++n)s.push(r.readInt());return s})(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t})(),Cge=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return gd(t,Du),t.prototype.tag="post",t.prototype.parse=function(r){var n,s,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var o;for(s=r.readUInt16(),this.glyphNameIndex=[],o=0;0<=s?o<s:o>s;o=0<=s?++o:--o)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return s=r.readUInt16(),this.offsets=r.read(s);case 196608:break;case 262144:return this.map=(function(){var l,c,u;for(u=[],o=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;o=0<=c?++l:--l)u.push(r.readUInt32());return u}).call(this)}},t})(),Tge=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Oge=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return gd(t,Du),t.prototype.tag="name",t.prototype.parse=function(r){var n,s,i,o,l,c,u,d,h,m,p;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),s=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)s.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(u={},o=h=0,m=s.length;h<m;o=++h)i=s[o],r.pos=i.offset,d=r.readString(i.length),l=new Tge(d,i),u[p=i.nameID]==null&&(u[p]=[]),u[i.nameID].push(l);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t})(),Pge=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return gd(t,Du),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t})(),Ige=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return gd(t,Du),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,s,i,o,l,c,u;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,h;for(h=[],n=d=0;0<=i?d<i:d>i;n=0<=i?++d:--d)h.push(r.readInt16());return h})(),this.widths=(function(){var d,h,m,p;for(p=[],d=0,h=(m=this.metrics).length;d<h;d++)o=m[d],p.push(o.advance);return p}).call(this),s=this.widths[this.widths.length-1],u=[],n=l=0;0<=i?l<i:l>i;n=0<=i?++l:--l)u.push(this.widths.push(s));return u},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t})(),y9=[].slice,Dge=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return gd(t,Du),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,s,i,o,l,c,u,d,h,m;return r in this.cache?this.cache[r]:(o=this.file.loca,n=this.file.contents,s=o.indexOf(r),(i=o.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+s,l=(c=new Qf(n.read(i))).readShort(),d=c.readShort(),m=c.readShort(),u=c.readShort(),h=c.readShort(),this.cache[r]=l===-1?new Fge(c,d,m,u,h):new Lge(c,l,d,m,u,h),this.cache[r]))},t.prototype.encode=function(r,n,s){var i,o,l,c,u;for(l=[],o=[],c=0,u=n.length;c<u;c++)i=r[n[c]],o.push(l.length),i&&(l=l.concat(i.encode(s)));return o.push(l.length),{table:l,offsets:o}},t})(),Lge=(function(){function e(t,r,n,s,i,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=s,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),Fge=(function(){function e(t,r,n,s,i){var o,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Qf(y9.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e})(),Mge=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return gd(t,Du),t.prototype.tag="loca",t.prototype.parse=function(r){var n,s;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,o;for(o=[],s=0,i=this.length;s<i;s+=2)o.push(2*r.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],s=0,i=this.length;s<i;s+=4)o.push(r.readUInt32());return o}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var s=new Uint32Array(this.offsets.length),i=0,o=0,l=0;l<s.length;++l)if(s[l]=i,o<n.length&&n[o]==l){++o,s[l]=i;var c=this.offsets[l],u=this.offsets[l+1]-c;u>0&&(i+=u)}for(var d=new Array(4*s.length),h=0;h<s.length;++h)d[4*h+3]=255&s[h],d[4*h+2]=(65280&s[h])>>8,d[4*h+1]=(16711680&s[h])>>16,d[4*h]=(4278190080&s[h])>>24;return d},t})(),Rge=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,s,i;for(r in s=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=s[n];return t},e.prototype.glyphsFor=function(t){var r,n,s,i,o,l,c;for(s={},o=0,l=t.length;o<l;o++)s[i=t[o]]=this.font.glyf.glyphFor(i);for(i in r=[],s)(n=s[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],s[i]=n;return s},e.prototype.encode=function(t,r){var n,s,i,o,l,c,u,d,h,m,p,y,v,g,b;for(s in n=v9.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),p={0:0},b=n.charMap)p[(c=b[s]).old]=c.new;for(y in m=n.maxGlyphID,o)y in p||(p[y]=m++);return d=(function(w){var j,N;for(j in N={},w)N[w[j]]=j;return N})(p),h=Object.keys(d).sort((function(w,j){return w-j})),v=(function(){var w,j,N;for(N=[],w=0,j=h.length;w<j;w++)l=h[w],N.push(d[l]);return N})(),i=this.font.glyf.encode(o,v,p),u=this.font.loca.encode(i.offsets,v),g={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(g["OS/2"]=this.font.os2.raw()),this.font.directory.encode(g)},e})();on.API.PDFObject=(function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,s,i,o;if(Array.isArray(r))return"["+(function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)n=r[l],u.push(t.convert(n));return u})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in i=["<<"],r)o=r[s],i.push("/"+s+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+r},t})();const Bge=({onCreateInvoice:e,currentUser:t})=>{const{showSuccess:r,showError:n,showInfo:s}=Ms(),[i,o]=z.useState([]),[l,c]=z.useState([]),[u,d]=z.useState(null),[h,m]=z.useState(!0),[p,y]=z.useState(!1),[v,g]=z.useState(!1),[b,w]=z.useState([]),[j,N]=z.useState(!1),[k,P]=z.useState(!1),[A,O]=z.useState(!1),[D,R]=z.useState(!1),[C,T]=z.useState([]),[I,B]=z.useState(null),[X,re]=z.useState({description:"",quantity:1,rate:0}),[Z,te]=z.useState(!1),[Y,Q]=z.useState(!1),[H,E]=z.useState(oi),q=z.useCallback(async()=>{m(!0);try{const _e=t?.id||JSON.parse(localStorage.getItem("user_data")||"{}").id,oe=await b7(_e),ae=oe?.data||oe||[];o(Array.isArray(ae)?ae:[]);try{const ke=await hd();c(ke?.data||ke||[])}catch{c([])}}catch(_e){n(_e.message||"Failed to load invoices")}finally{m(!1)}},[t,n]);z.useEffect(()=>{q()},[q]),z.useEffect(()=>{const _e=()=>q();return window.addEventListener("refresh-invoices",_e),()=>window.removeEventListener("refresh-invoices",_e)},[q]);const V=_e=>l.find(oe=>oe.id===_e),U=_e=>{switch(_e){case"Paid":return"bg-emerald-50 text-emerald-600 border-emerald-100";case"Overdue":return"bg-red-50 text-red-600 border-red-100";case"Sent":return"bg-blue-50 text-blue-600 border-blue-100";default:return"bg-slate-50 text-slate-600 border-slate-100"}},G={totalOutstanding:i.filter(_e=>_e.status!=="Paid").reduce((_e,oe)=>_e+(oe.amount||0),0),awaitingPayment:i.filter(_e=>_e.status!=="Paid").reduce((_e,oe)=>_e+(oe.amount||0),0),paidThisMonth:i.filter(_e=>_e.status==="Paid").reduce((_e,oe)=>_e+(oe.amount||0),0)},ne=()=>{b.length===i.length?w([]):w(i.map(_e=>_e.id))},de=async()=>{const _e=[...b];if(_e.length!==0){N(!0),s(`Processing payment status for ${_e.length} items...`);try{await Promise.all(_e.map(oe=>sv(oe,{status:"Paid"}))),o(oe=>oe.map(ae=>_e.includes(ae.id)?{...ae,status:"Paid"}:ae)),r(`Successfully marked ${_e.length} invoices as paid`),w([]),q()}catch{n("Bulk update failed. Some items may not have been updated.")}finally{N(!1)}}},ce=async()=>{[...b].length!==0&&O(!0)},he=async()=>{const _e=[...b];if(_e.length!==0){N(!0),O(!1),s(`Executing batch deletion for ${_e.length} registry entries...`);try{await Promise.all(_e.map(oe=>DP(oe))),o(oe=>oe.filter(ae=>!_e.includes(ae.id))),r(`Successfully removed ${_e.length} invoices from registry`),w([]),q()}catch{n("Bulk deletion encountered an error. Refresh registry to verify state.")}finally{N(!1)}}};z.useEffect(()=>{if(u){const _e=u.lineItems||u.items||[];T(_e),R(!1),B(null),re({description:"",quantity:1,rate:0}),E(u.currency||oi),Q(!1)}},[u]);const Le=async()=>{if(u){y(!0);try{await sv(u.id,{items:C,lineItems:C}),o(_e=>_e.map(oe=>oe.id===u.id?{...oe,items:C,lineItems:C}:oe)),d({...u,items:C,lineItems:C}),R(!1),r("Service breakdown saved successfully!"),window.dispatchEvent(new Event("refresh-invoices"))}catch(_e){console.error("Failed to save breakdown:",_e),n(_e.message||"Failed to save breakdown")}finally{y(!1)}}},se=async()=>{if(u){y(!0);try{await sv(u.id,{status:"Paid"}),o(_e=>_e.map(oe=>oe.id===u.id?{...oe,status:"Paid"}:oe)),d({...u,status:"Paid"}),r("Invoice marked as paid!"),window.dispatchEvent(new Event("refresh-invoices"))}catch(_e){console.error("Failed to update invoice:",_e),n(_e.message||"Failed to update invoice")}finally{y(!1)}}},Fe=async()=>{if(u){g(!0);try{await DP(u.id),o(_e=>_e.filter(oe=>oe.id!==u.id)),d(null),P(!1),r("Invoice deleted successfully!"),window.dispatchEvent(new Event("refresh-invoices"))}catch(_e){console.error("Failed to delete invoice:",_e),n(_e.message||"Failed to delete invoice")}finally{g(!1)}}};return a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-10 relative h-full",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Billing & Invoicing"}),a.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Oversee payments and logistics milestone billing"})]}),a.jsxs("button",{onClick:e,className:"px-4 py-2 bg-indigo-600 text-white text-sm font-bold rounded-xl flex items-center gap-2 hover:bg-indigo-700 shadow-lg transition-all active:scale-95",children:[a.jsx(_n,{className:"w-4 h-4"})," Create Invoice"]})]}),a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[{label:"Total Outstanding",value:`$${G.totalOutstanding.toLocaleString()}`,icon:a.jsx(Xd,{}),color:"text-indigo-600",bg:"bg-indigo-50"},{label:"Awaiting Payment",value:`$${G.awaitingPayment.toLocaleString()}`,icon:a.jsx(ws,{}),color:"text-amber-600",bg:"bg-amber-50"},{label:"Paid This Month",value:`$${G.paidThisMonth.toLocaleString()}`,icon:a.jsx(Cn,{}),color:"text-emerald-600",bg:"bg-emerald-50"}].map((_e,oe)=>a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm flex items-center gap-4",children:[a.jsx("div",{className:`w-12 h-12 rounded-2xl ${_e.bg} ${_e.color} flex items-center justify-center`,children:it.cloneElement(_e.icon,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:_e.label}),a.jsx("h3",{className:"text-xl font-black text-slate-900",children:_e.value})]})]},oe))}),a.jsx("div",{className:"bg-white rounded-[32px] border border-slate-200 shadow-sm overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-slate-100 bg-slate-50/50",children:[a.jsx("th",{className:"px-6 py-4 w-10",children:a.jsx("input",{type:"checkbox",className:"rounded border-slate-300 text-indigo-600 focus:ring-indigo-500 w-4 h-4",checked:i.length>0&&b.length===i.length,onChange:ne})}),a.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Invoice"}),a.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Client"}),a.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Amount"}),a.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Due Date"}),a.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Status"}),a.jsx("th",{className:"px-6 py-4 text-right"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-50",children:h?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"py-10 text-center",children:a.jsx(Et,{className:"w-6 h-6 animate-spin mx-auto text-indigo-600"})})}):i.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"py-10 text-center text-slate-400 text-sm font-medium",children:"No records found in digital registry."})}):i.map(_e=>{const oe=b.includes(_e.id);return a.jsxs("tr",{onClick:()=>d(_e),className:`group transition-colors cursor-pointer ${oe?"bg-indigo-50/60":"hover:bg-slate-50"}`,children:[a.jsx("td",{className:"px-6 py-4",onClick:ae=>ae.stopPropagation(),children:a.jsx("input",{type:"checkbox",className:"rounded border-slate-300 text-indigo-600 focus:ring-indigo-500 w-4 h-4",checked:oe,onChange:()=>w(ae=>oe?ae.filter(ke=>ke!==_e.id):[...ae,_e.id])})}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("p",{className:"text-sm font-bold text-slate-900",children:_e.number}),a.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:["REF: ",_e.id.substring(0,8)]})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Xs,{src:V(_e.companyId)?.logo,fallbackText:V(_e.companyId)?.name,className:"w-6 h-6",isAvatar:!1}),a.jsx("span",{className:"text-sm font-semibold text-slate-700",children:V(_e.companyId)?.name||"Unknown Partner"})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"text-sm font-bold text-slate-900",children:Rd(_e.amount,_e.currency)})}),a.jsx("td",{className:"px-6 py-4 text-xs font-semibold text-slate-500",children:_e.dueDate}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase border ${U(_e.status)}`,children:_e.status})}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsx(bs,{className:"w-5 h-5 text-slate-300 group-hover:text-indigo-600"})})]},_e.id)})})]})})}),b.length>0&&a.jsx("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-[100] animate-in slide-in-from-bottom-10 duration-300",children:a.jsxs("div",{className:"bg-slate-900 text-white rounded-3xl shadow-2xl px-8 py-4 flex items-center gap-8 border border-white/10 ring-4 ring-indigo-500/10",children:[a.jsxs("span",{className:"text-sm font-black flex items-center gap-3",children:[a.jsx("div",{className:"w-6 h-6 bg-indigo-500 rounded-full flex items-center justify-center text-[10px]",children:b.length}),"Selected"]}),a.jsx("div",{className:"h-8 w-px bg-white/10"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{onClick:_e=>{_e.stopPropagation(),de()},disabled:j,className:"px-5 py-2 bg-indigo-600 hover:bg-indigo-700 rounded-xl text-xs font-black uppercase tracking-widest transition-all flex items-center gap-2 disabled:opacity-50",children:[j?a.jsx(Et,{className:"w-3.5 h-3.5 animate-spin"}):a.jsx(Cn,{className:"w-3.5 h-3.5"}),"Mark Paid"]}),a.jsxs("button",{onClick:_e=>{_e.stopPropagation(),ce()},disabled:j,className:"px-5 py-2 bg-red-600 hover:bg-red-700 rounded-xl text-xs font-black uppercase tracking-widest transition-all flex items-center gap-2 disabled:opacity-50",children:[j?a.jsx(Et,{className:"w-3.5 h-3.5 animate-spin"}):a.jsx($r,{className:"w-3.5 h-3.5"}),"Delete"]}),a.jsx("button",{onClick:()=>w([]),className:"p-2 hover:bg-white/10 rounded-xl text-slate-400 transition-colors",children:a.jsx(mr,{className:"w-5 h-5"})})]})]})}),u&&a.jsxs("div",{className:"fixed inset-0 z-[70] overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm pointer-events-auto animate-in fade-in duration-300",onClick:()=>d(null)}),a.jsxs("div",{className:"absolute right-0 inset-y-0 w-full max-w-xl bg-white shadow-2xl pointer-events-auto animate-in slide-in-from-right duration-500 flex flex-col",children:[a.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-emerald-100 rounded-lg flex items-center justify-center text-emerald-600",children:a.jsx(Xa,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-bold text-slate-900",children:u.number}),a.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold tracking-widest",children:"Billing Statement"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Status"}),a.jsx("span",{className:`inline-block mt-1 px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-widest border ${U(u.status)}`,children:u.status})]}),a.jsx("button",{onClick:()=>d(null),className:"p-2 hover:bg-white rounded-full text-slate-400 shadow-sm border border-transparent hover:border-slate-200 transition-all",children:a.jsx(mr,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-8 space-y-10",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Client"}),a.jsxs("div",{className:"flex items-center gap-3 bg-slate-50 p-3 rounded-2xl border border-slate-100",children:[a.jsx(Xs,{src:V(u.companyId)?.logo,fallbackText:V(u.companyId)?.name||"C",className:"w-10 h-10 border border-slate-200",isAvatar:!1}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-slate-900",children:V(u.companyId)?.name||"Unknown Company"}),a.jsx("p",{className:"text-xs text-slate-500",children:V(u.companyId)?.website||""})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"p-6 bg-slate-50 rounded-[24px] border border-slate-100",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Amount Due"}),Y?a.jsx("button",{onClick:async()=>{y(!0);try{await sv(u.id,{currency:H}),o(_e=>_e.map(oe=>oe.id===u.id?{...oe,currency:H}:oe)),d({...u,currency:H}),Q(!1),r("Currency updated successfully!")}catch(_e){n(_e.message||"Failed to update currency")}finally{y(!1)}},disabled:p,className:"px-2 py-1 text-[9px] font-bold text-emerald-600 hover:bg-emerald-50 rounded-lg transition-all disabled:opacity-50",children:a.jsx(wi,{className:"w-3 h-3"})}):a.jsx("button",{onClick:()=>Q(!0),className:"px-2 py-1 text-[9px] font-bold text-indigo-600 hover:bg-indigo-50 rounded-lg transition-all",children:a.jsx(ec,{className:"w-3 h-3"})})]}),Y?a.jsx("select",{value:H,onChange:_e=>E(_e.target.value),className:"w-full px-4 py-2 rounded-xl text-sm outline-none font-bold appearance-none bg-white border-2 border-indigo-200 focus:ring-4 focus:ring-indigo-100 text-indigo-600",style:{backgroundImage:`url('data:image/svg+xml;charset=utf-8,%3Csvg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20"%3E%3Cpath stroke="%234f46e5" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="m6 8 4 4 4-4"/%3E%3C/svg%3E')`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"16px"},children:Cp.map(_e=>a.jsxs("option",{value:_e.code,children:[_e.code," (",_e.symbol,")"]},_e.code))}):a.jsx("h3",{className:"text-2xl font-black text-slate-900",children:Rd(u.amount,u.currency)})]}),a.jsxs("div",{className:"p-6 bg-slate-50 rounded-[24px] border border-slate-100",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Due Date"}),a.jsx("h3",{className:"text-2xl font-black text-slate-900",children:u.dueDate})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Registry Narrative"}),a.jsx("p",{className:"text-sm text-slate-700 bg-slate-50 p-6 rounded-3xl border border-slate-100 leading-relaxed italic",children:u.description||"No additional strategic description provided for this statement."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Service Breakdown"}),D?a.jsxs("button",{onClick:Le,disabled:p,className:"px-3 py-1.5 text-xs font-bold text-emerald-600 hover:bg-emerald-50 rounded-lg transition-all flex items-center gap-1 disabled:opacity-50",children:[a.jsx(wi,{className:"w-3 h-3"})," ",p?"Saving...":"Save"]}):a.jsxs("button",{onClick:()=>R(!0),className:"px-3 py-1.5 text-xs font-bold text-indigo-600 hover:bg-indigo-50 rounded-lg transition-all flex items-center gap-1",children:[a.jsx(ec,{className:"w-3 h-3"})," Edit"]})]}),a.jsxs("div",{className:"divide-y divide-slate-100 border border-slate-100 rounded-3xl overflow-hidden bg-white shadow-sm",children:[C.map(_e=>a.jsxs("div",{className:"p-5 flex justify-between items-center group",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-bold text-slate-800",children:_e.description}),a.jsxs("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest mt-1",children:["Qty: ",_e.quantity," @ ",Dd(u.currency),_e.rate.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),a.jsx("p",{className:"text-sm font-black text-slate-900",children:Rd(_e.amount,u.currency)})]},_e.id)),C.length===0&&a.jsx("div",{className:"p-8 text-center text-slate-400 italic text-xs",children:"No granular items archived."})]})]})]}),a.jsxs("div",{className:"p-6 border-t border-slate-100 bg-slate-50/50 flex gap-3",children:[u.status!=="Paid"&&a.jsxs("button",{onClick:se,disabled:p,className:"flex-1 py-4 bg-indigo-600 text-white text-sm font-black uppercase tracking-[0.1em] rounded-2xl hover:bg-indigo-700 transition-all shadow-xl flex items-center justify-center gap-2",children:[p?a.jsx(Et,{className:"w-4 h-4 animate-spin"}):a.jsx(Cn,{className:"w-4 h-4"})," Confirm Receipt"]}),a.jsx("button",{onClick:()=>P(!0),className:"px-6 py-4 border border-slate-200 bg-white text-red-500 hover:bg-red-50 rounded-2xl transition-all shadow-sm active:scale-95",children:a.jsx($r,{className:"w-5 h-5"})})]})]})]}),k&&u&&a.jsxs("div",{className:"fixed inset-0 z-[80] overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm pointer-events-auto animate-in fade-in duration-300",onClick:()=>P(!1)}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4 pointer-events-none",children:a.jsxs("div",{className:"bg-white rounded-[36px] w-full max-w-md shadow-2xl pointer-events-auto animate-in zoom-in-95 duration-200 p-10",children:[a.jsx("div",{className:"w-16 h-16 bg-red-50 rounded-2xl flex items-center justify-center text-red-500 mb-6",children:a.jsx($r,{className:"w-8 h-8"})}),a.jsx("h3",{className:"text-2xl font-black text-slate-900 mb-2",children:"Archive Invoice?"}),a.jsx("p",{className:"text-sm text-slate-500 mb-10 leading-relaxed font-medium",children:"This will permanently remove the billing statement from the digital registry. This action is terminal."}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>P(!1),disabled:v,className:"flex-1 py-4 text-sm font-black text-slate-500 bg-slate-50 rounded-2xl uppercase tracking-widest disabled:opacity-50 disabled:cursor-not-allowed",children:"Abort"}),a.jsx("button",{onClick:Fe,disabled:v,className:"flex-1 py-4 bg-red-600 text-white text-sm font-black rounded-2xl uppercase tracking-widest shadow-lg shadow-red-100 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:v?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):"Terminal Delete"})]})]})})]}),A&&b.length>0&&a.jsxs("div",{className:"fixed inset-0 z-[80] overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm pointer-events-auto animate-in fade-in duration-300",onClick:()=>O(!1)}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4 pointer-events-none",children:a.jsxs("div",{className:"bg-white rounded-[36px] w-full max-w-md shadow-2xl pointer-events-auto animate-in zoom-in-95 duration-200 p-10",children:[a.jsx("div",{className:"w-16 h-16 bg-red-50 rounded-2xl flex items-center justify-center text-red-500 mb-6",children:a.jsx($r,{className:"w-8 h-8"})}),a.jsxs("h3",{className:"text-2xl font-black text-slate-900 mb-2",children:["Delete ",b.length," Invoice",b.length>1?"s":"","?"]}),a.jsxs("p",{className:"text-sm text-slate-500 mb-10 leading-relaxed font-medium",children:["This will permanently remove ",b.length," invoice",b.length>1?"s":""," from the digital registry. This action is terminal and cannot be undone."]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>O(!1),disabled:j,className:"flex-1 py-4 text-sm font-black text-slate-500 bg-slate-50 rounded-2xl uppercase tracking-widest disabled:opacity-50 disabled:cursor-not-allowed",children:"Abort"}),a.jsx("button",{onClick:he,disabled:j,className:"flex-1 py-4 bg-red-600 text-white text-sm font-black rounded-2xl uppercase tracking-widest shadow-lg shadow-red-100 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:j?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):`Delete ${b.length} Invoice${b.length>1?"s":""}`})]})]})})]})]})},Uge=()=>a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Team Management"}),a.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Control workspace access and staff roles"})]}),a.jsxs("button",{className:"px-4 py-2 bg-indigo-600 text-white text-sm font-bold rounded-xl flex items-center gap-2 hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-100",children:[a.jsx(Au,{className:"w-4 h-4"})," Invite Member"]})]}),a.jsxs("div",{className:"bg-white rounded-[32px] border border-slate-200 shadow-sm overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-6 border-b border-slate-100 bg-slate-50/50 flex justify-between items-center",children:[a.jsxs("div",{className:"relative w-64",children:[a.jsx(tf,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Find teammate...",className:"w-full pl-10 pr-4 py-2 bg-white border border-slate-200 rounded-xl text-xs outline-none focus:ring-2 focus:ring-indigo-500/20"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Active Seats: "}),a.jsx("span",{className:"text-[10px] font-black text-indigo-600 uppercase tracking-widest",children:"12 / 20"})]})]}),a.jsx("div",{className:"divide-y divide-slate-100",children:Pv.map(e=>a.jsxs("div",{className:"p-6 flex items-center justify-between group hover:bg-slate-50 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-5",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Xs,{src:e.avatar,alt:e.name||"",fallbackText:e.name||e.email||"U",className:"w-12 h-12 border-2 border-white shadow-sm object-cover",isAvatar:!0}),e.active&&a.jsx("div",{className:"absolute -bottom-1 -right-1 w-3.5 h-3.5 bg-emerald-500 rounded-full border-2 border-white shadow-sm"})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"font-bold text-slate-900 flex items-center gap-2",children:[e.name,e.role==="Admin"&&a.jsx(dy,{className:"w-4 h-4 text-indigo-600"})]}),a.jsxs("p",{className:"text-xs text-slate-500 font-medium flex items-center gap-1.5 mt-0.5",children:[a.jsx(li,{className:"w-3 h-3 text-slate-400"})," ",e.email]})]})]}),a.jsxs("div",{className:"flex items-center gap-12",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Permission Tier"}),a.jsx("p",{className:`text-xs font-bold mt-0.5 ${e.role==="Admin"?"text-indigo-600":"text-slate-700"}`,children:e.role})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{className:"px-4 py-2 text-xs font-bold text-slate-600 bg-white border border-slate-200 rounded-xl hover:bg-slate-50 transition-all shadow-sm",children:"Manage"}),a.jsx("button",{className:"p-2 text-slate-300 hover:text-slate-600 transition-colors",children:a.jsx(tD,{className:"w-5 h-5"})})]})]})]},e.id))})]})]}),qge=({imageSrc:e,onCrop:t,onCancel:r,aspectRatio:n=1,circularCrop:s=!0})=>{const[i,o]=z.useState({x:0,y:0}),[l,c]=z.useState(.5),[u,d]=z.useState(!1),[h,m]=z.useState({x:0,y:0}),[p,y]=z.useState(!1),[v,g]=z.useState(!1),b=z.useRef(null),w=z.useRef(null),j=z.useRef(300),N=z.useCallback(()=>{if(!w.current||!b.current)return null;const R=w.current.getBoundingClientRect(),C=j.current,T=R.width/2,I=R.height/2,B=b.current.getBoundingClientRect(),X=B.left-R.left,re=B.top-R.top,Z=(T-C/2-X-i.x)/l,te=(I-C/2-re-i.y)/l,Y=C/l;return{x:Math.max(0,Z*(b.current.naturalWidth/b.current.width)),y:Math.max(0,te*(b.current.naturalHeight/b.current.height)),width:Math.min(b.current.naturalWidth,Y*(b.current.naturalWidth/b.current.width)),height:Math.min(b.current.naturalHeight,Y*(b.current.naturalHeight/b.current.height))}},[i,l]),k=z.useCallback(async()=>{if(b.current){y(!0);try{const D=N();if(!D)throw new Error("Failed to calculate crop area");const R=b.current,C=document.createElement("canvas"),T=C.getContext("2d");if(!T)throw new Error("Failed to create canvas context");const I=Math.min(D.width,D.height);C.width=I,C.height=I,s&&(T.beginPath(),T.arc(I/2,I/2,I/2,0,2*Math.PI),T.clip()),T.drawImage(R,D.x,D.y,D.width,D.height,0,0,I,I);const B=C.toDataURL("image/jpeg",.9);t(B)}catch(D){console.error("Error cropping image:",D)}finally{y(!1)}}},[N,s,t]),P=z.useCallback(D=>{D.preventDefault(),d(!0),m({x:D.clientX-i.x,y:D.clientY-i.y})},[i]),A=z.useCallback(D=>{if(!u||!w.current||!b.current)return;const R=w.current,C=b.current,T=R.getBoundingClientRect(),I=C.getBoundingClientRect(),B=D.clientX-h.x,X=D.clientY-h.y,re=I.width*l,Z=I.height*l,te=Math.max(0,(re-T.width)/2),Y=Math.max(0,(Z-T.height)/2);l<=1?o({x:B,y:X}):o({x:Math.max(-te,Math.min(te,B)),y:Math.max(-Y,Math.min(Y,X))})},[u,h,l]),O=z.useCallback(()=>{d(!1)},[]);return z.useEffect(()=>{if(u)return document.addEventListener("mousemove",A),document.addEventListener("mouseup",O),()=>{document.removeEventListener("mousemove",A),document.removeEventListener("mouseup",O)}},[u,A,O]),z.useEffect(()=>{if(w.current){const R=w.current.getBoundingClientRect();j.current=Math.min(R.width*.8,R.height*.8,300)}},[]),a.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/80 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl shadow-2xl overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-200 flex items-center justify-between",children:[a.jsx("h3",{className:"font-black text-xl text-slate-900",children:"Crop Your Photo"}),a.jsx("button",{onClick:r,disabled:p,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors disabled:opacity-50",children:a.jsx(mr,{className:"w-5 h-5 text-slate-400"})})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{ref:w,className:"relative w-full h-[400px] bg-slate-100 rounded-xl overflow-hidden",style:{cursor:u?"grabbing":"grab"},children:[a.jsx("img",{ref:b,src:e,alt:"Crop",className:"absolute top-1/2 left-1/2 select-none",style:{transform:`translate(-50%, -50%) scale(${l}) translate(${i.x/l}px, ${i.y/l}px)`,maxWidth:"none",maxHeight:"none",userSelect:"none",pointerEvents:"none"},onLoad:()=>{if(g(!0),w.current&&b.current){const R=w.current.getBoundingClientRect();j.current=Math.min(R.width*.8,R.height*.8,300)}},draggable:!1}),a.jsxs("div",{className:"absolute inset-0 pointer-events-none",onMouseDown:P,style:{pointerEvents:p?"none":"auto",cursor:u?"grabbing":"grab"},children:[a.jsx("div",{className:`absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 border-2 border-white shadow-lg ${s?"rounded-full":"rounded-lg"}`,style:{width:`${j.current}px`,height:`${j.current}px`,aspectRatio:n.toString()}}),a.jsx("div",{className:"absolute inset-0 bg-slate-900/50",style:{clipPath:s?`circle(${j.current/2}px at 50% 50%)`:`inset(calc(50% - ${j.current/2}px))`}})]})]}),a.jsxs("div",{className:"mt-6",children:[a.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:["Zoom: ",Math.round(l*100),"%"]}),a.jsx("input",{type:"range",min:"0.3",max:"3",step:"0.05",value:l,onChange:D=>{const R=parseFloat(D.target.value);c(R),R<1&&o({x:0,y:0})},className:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer",disabled:p}),a.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mt-1",children:[a.jsx("span",{children:"30%"}),a.jsx("span",{children:"300%"})]})]})]}),a.jsxs("div",{className:"p-6 border-t border-slate-200 flex items-center justify-end gap-3",children:[a.jsx("button",{onClick:r,disabled:p,className:"px-6 py-2 border border-slate-200 text-slate-600 rounded-xl font-bold text-sm hover:bg-slate-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),a.jsx("button",{onClick:k,disabled:p||!v,className:"px-6 py-2 bg-indigo-600 text-white rounded-xl font-bold text-sm hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:p?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Processing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(cd,{className:"w-4 h-4"}),"Apply Crop"]})})]})]})})},$ge=({currentUser:e,showSuccess:t,showError:r})=>{const[n,s]=z.useState({retentionYears:7,coldStorageYears:1,archiveEnabled:!0,autoCleanupEnabled:!0}),[i,o]=z.useState(null),[l,c]=z.useState(!1),[u,d]=z.useState(!1),[h,m]=z.useState(!1),[p,y]=z.useState(!1),[v,g]=z.useState(!1),[b,w]=z.useState(!1);z.useEffect(()=>{j(),N()},[]);const j=async()=>{c(!0);try{const D=await cne("default");D.success&&D.data&&s(D.data)}catch{r("Failed to load retention policy")}finally{c(!1)}},N=async()=>{m(!0);try{const D=await dne("default");D.success&&D.data&&o(D.data)}catch(D){console.error("Failed to load retention stats:",D)}finally{m(!1)}},k=async()=>{d(!0);try{const D=e?.id||JSON.parse(localStorage.getItem("user_data")||"{}").id;(await une("default",{...n,updatedBy:D})).success&&(t("Retention policy updated successfully"),await N())}catch(D){r(D.message||"Failed to update retention policy")}finally{d(!1)}},P=async()=>{y(!0);try{const D=await fne("default",50);D.success&&(t(`Archive completed: ${D.data.archived} emails archived`),await N())}catch(D){r(D.message||"Failed to trigger archive")}finally{y(!1)}},A=async()=>{g(!0);try{const D=await hne("default",50);D.success&&(t(`Cleanup completed: ${D.data.deleted} emails deleted`),await N())}catch(D){r(D.message||"Failed to trigger cleanup")}finally{g(!1)}},O=async()=>{w(!0);try{const D=await pne("default",{format:"csv"});if(typeof D=="string"){const R=new Blob([D],{type:"text/csv"}),C=window.URL.createObjectURL(R),T=document.createElement("a");T.href=C,T.download=`archived-emails-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(T),T.click(),document.body.removeChild(T),window.URL.revokeObjectURL(C),t("Archived emails exported successfully")}else r("Unexpected export format")}catch(D){r(D.message||"Failed to export archived emails")}finally{w(!1)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 lg:p-8 rounded-2xl border border-slate-200 shadow-sm space-y-6 text-left",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-100",children:[a.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-xl flex items-center justify-center",children:a.jsx(eD,{className:"w-5 h-5 text-indigo-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg text-slate-900",children:"Data Retention Policy"}),a.jsx("p",{className:"text-xs text-slate-500",children:"Configure how long emails are retained and archived"})]})]}),l?a.jsx("div",{className:"p-8 text-center",children:a.jsx(Et,{className:"w-6 h-6 animate-spin mx-auto text-indigo-600"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Retention Period (Years)"}),a.jsx("input",{type:"number",min:"1",max:"20",value:n.retentionYears,onChange:D=>s({...n,retentionYears:parseInt(D.target.value)||7}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm"}),a.jsx("p",{className:"text-xs text-slate-500",children:"Emails older than this will be permanently deleted"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Cold Storage Threshold (Years)"}),a.jsx("input",{type:"number",min:"0",max:n.retentionYears,value:n.coldStorageYears,onChange:D=>s({...n,coldStorageYears:parseInt(D.target.value)||1}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm"}),a.jsx("p",{className:"text-xs text-slate-500",children:"Emails older than this will be moved to cold storage"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-xl",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-semibold text-slate-900",children:"Enable Automatic Archiving"}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Automatically move emails to cold storage"})]}),a.jsx("button",{onClick:()=>s({...n,archiveEnabled:!n.archiveEnabled}),className:`relative w-12 h-6 rounded-full transition-colors ${n.archiveEnabled?"bg-indigo-600":"bg-slate-300"}`,children:a.jsx("span",{className:`absolute top-1 left-1 w-4 h-4 bg-white rounded-full transition-transform ${n.archiveEnabled?"translate-x-6":"translate-x-0"}`})})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-xl",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-semibold text-slate-900",children:"Enable Automatic Cleanup"}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Automatically delete emails past retention period"})]}),a.jsx("button",{onClick:()=>s({...n,autoCleanupEnabled:!n.autoCleanupEnabled}),className:`relative w-12 h-6 rounded-full transition-colors ${n.autoCleanupEnabled?"bg-indigo-600":"bg-slate-300"}`,children:a.jsx("span",{className:`absolute top-1 left-1 w-4 h-4 bg-white rounded-full transition-transform ${n.autoCleanupEnabled?"translate-x-6":"translate-x-0"}`})})]})]}),a.jsx("button",{onClick:k,disabled:u,className:"w-full px-6 py-3 bg-indigo-600 text-white font-bold rounded-xl flex items-center justify-center gap-2 hover:bg-indigo-700 transition-all shadow-lg active:scale-95 disabled:opacity-50",children:u?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(wi,{className:"w-4 h-4"}),"Save Retention Policy"]})})]})]}),i&&a.jsxs("div",{className:"bg-white p-6 lg:p-8 rounded-2xl border border-slate-200 shadow-sm space-y-6 text-left",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-100",children:[a.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-xl flex items-center justify-center",children:a.jsx(Qu,{className:"w-5 h-5 text-slate-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg text-slate-900",children:"Retention Statistics"}),a.jsx("p",{className:"text-xs text-slate-500",children:"Current data retention status"})]})]}),h?a.jsx("div",{className:"p-8 text-center",children:a.jsx(Et,{className:"w-6 h-6 animate-spin mx-auto text-indigo-600"})}):a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl",children:[a.jsx("div",{className:"text-2xl font-bold text-slate-900",children:i.totalEmails||0}),a.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"Total Emails"})]}),a.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl",children:[a.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:i.archivedEmails||0}),a.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"Archived Emails"})]}),a.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl",children:[a.jsx("div",{className:"text-2xl font-bold text-amber-600",children:i.eligibleForArchive||0}),a.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"Eligible for Archive"})]}),a.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl",children:[a.jsx("div",{className:"text-2xl font-bold text-red-600",children:i.eligibleForDeletion||0}),a.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"Eligible for Deletion"})]})]})]}),a.jsxs("div",{className:"bg-white p-6 lg:p-8 rounded-2xl border border-slate-200 shadow-sm space-y-6 text-left",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-100",children:[a.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-xl flex items-center justify-center",children:a.jsx(sd,{className:"w-5 h-5 text-slate-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg text-slate-900",children:"Manual Actions"}),a.jsx("p",{className:"text-xs text-slate-500",children:"Manually trigger archive, cleanup, or export"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("button",{onClick:P,disabled:p,className:"p-4 bg-indigo-50 border border-indigo-200 rounded-xl hover:bg-indigo-100 transition-colors disabled:opacity-50 flex flex-col items-center gap-2",children:[p?a.jsx(Et,{className:"w-5 h-5 animate-spin text-indigo-600"}):a.jsx(Qu,{className:"w-5 h-5 text-indigo-600"}),a.jsx("span",{className:"text-sm font-semibold text-indigo-900",children:"Archive Emails"}),a.jsx("span",{className:"text-xs text-indigo-600",children:"Move to cold storage"})]}),a.jsxs("button",{onClick:A,disabled:v,className:"p-4 bg-red-50 border border-red-200 rounded-xl hover:bg-red-100 transition-colors disabled:opacity-50 flex flex-col items-center gap-2",children:[v?a.jsx(Et,{className:"w-5 h-5 animate-spin text-red-600"}):a.jsx(VB,{className:"w-5 h-5 text-red-600"}),a.jsx("span",{className:"text-sm font-semibold text-red-900",children:"Cleanup Emails"}),a.jsx("span",{className:"text-xs text-red-600",children:"Delete old emails"})]}),a.jsxs("button",{onClick:O,disabled:b,className:"p-4 bg-green-50 border border-green-200 rounded-xl hover:bg-green-100 transition-colors disabled:opacity-50 flex flex-col items-center gap-2",children:[b?a.jsx(Et,{className:"w-5 h-5 animate-spin text-green-600"}):a.jsx(L0,{className:"w-5 h-5 text-green-600"}),a.jsx("span",{className:"text-sm font-semibold text-green-900",children:"Export Archived"}),a.jsx("span",{className:"text-xs text-green-600",children:"Download CSV"})]})]})]})]})},zge=({currentUser:e,showSuccess:t,showError:r})=>{const[n,s]=z.useState([]),[i,o]=z.useState(!1),[l,c]=z.useState(!1),[u,d]=z.useState(null),[h,m]=z.useState({name:"",content:"",isDefault:!1}),[p,y]=z.useState(!1),[v,g]=z.useState(null),[b,w]=z.useState({layout:"list",density:"comfortable",emailFormat:"html",showPreview:!0,previewLines:3});z.useEffect(()=>{j(),N()},[]);const j=async()=>{o(!0);try{const D=e?.id||JSON.parse(localStorage.getItem("user_data")||"{}").id;if(!D)return;const R=await T7(D);s(R.data||[])}catch(D){console.error("Failed to load signatures:",D)}finally{o(!1)}},N=()=>{try{const D=localStorage.getItem("user_display_preferences");D&&w(JSON.parse(D))}catch(D){console.error("Failed to load display preferences:",D)}},k=()=>{try{localStorage.setItem("user_display_preferences",JSON.stringify(b)),t("Display preferences saved successfully")}catch{r("Failed to save display preferences")}},P=async()=>{if(!h.name||!h.content){r("Name and content are required");return}y(!0);try{const D=e?.id||JSON.parse(localStorage.getItem("user_data")||"{}").id;if(!D){r("Please log in to save signature");return}u?(await nae(u.id,{userId:D,...h}),t("Signature updated successfully")):(await rae({userId:D,...h}),t("Signature created successfully")),c(!1),d(null),m({name:"",content:"",isDefault:!1}),await j()}catch(D){r(D.message||"Failed to save signature")}finally{y(!1)}},A=async D=>{if(confirm("Are you sure you want to delete this signature?")){g(D);try{const R=e?.id||JSON.parse(localStorage.getItem("user_data")||"{}").id;await aae(D,R),t("Signature deleted successfully"),await j()}catch(R){r(R.message||"Failed to delete signature")}finally{g(null)}}},O=D=>{D?(d(D),m({name:D.name||"",content:D.content||"",isDefault:D.isDefault||!1})):(d(null),m({name:"",content:"",isDefault:!1})),c(!0)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 lg:p-8 rounded-2xl border border-slate-200 shadow-sm space-y-6 text-left",children:[a.jsxs("div",{className:"flex items-center justify-between pb-4 border-b border-slate-100",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-xl flex items-center justify-center",children:a.jsx(Xa,{className:"w-5 h-5 text-indigo-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg text-slate-900",children:"Email Signatures"}),a.jsx("p",{className:"text-xs text-slate-500",children:"Manage your email signatures for replies and new emails"})]})]}),a.jsxs("button",{onClick:()=>O(),className:"px-4 py-2 bg-indigo-600 text-white text-sm font-bold rounded-xl hover:bg-indigo-700 transition-all flex items-center gap-2",children:[a.jsx(_n,{className:"w-4 h-4"}),"Add Signature"]})]}),i?a.jsx("div",{className:"p-8 text-center",children:a.jsx(Et,{className:"w-6 h-6 animate-spin mx-auto text-indigo-600"})}):n.length===0?a.jsxs("div",{className:"text-center py-8 text-slate-500",children:[a.jsx(Xa,{className:"w-12 h-12 mx-auto mb-3 text-slate-300"}),a.jsx("p",{className:"text-sm font-semibold",children:"No signatures yet"}),a.jsx("p",{className:"text-xs mt-1",children:"Create your first signature to get started"})]}):a.jsx("div",{className:"space-y-3",children:n.map(D=>a.jsx("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-200 hover:border-indigo-300 transition-all",children:a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("h4",{className:"font-bold text-slate-900",children:D.name}),D.isDefault&&a.jsx("span",{className:"px-2 py-0.5 bg-indigo-100 text-indigo-600 text-xs font-bold rounded",children:"Default"})]}),a.jsx("div",{className:"text-sm text-slate-600 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:D.content}})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>O(D),className:"p-2 text-slate-400 hover:text-indigo-600 transition-colors",children:a.jsx(ec,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>A(D.id),disabled:v===D.id,className:"p-2 text-slate-400 hover:text-red-600 transition-colors disabled:opacity-50",children:v===D.id?a.jsx(Et,{className:"w-4 h-4 animate-spin"}):a.jsx($r,{className:"w-4 h-4"})})]})]})},D.id))})]}),a.jsxs("div",{className:"bg-white p-6 lg:p-8 rounded-2xl border border-slate-200 shadow-sm space-y-6 text-left",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-100",children:[a.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-xl flex items-center justify-center",children:a.jsx(jj,{className:"w-5 h-5 text-slate-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg text-slate-900",children:"Display Preferences"}),a.jsx("p",{className:"text-xs text-slate-500",children:"Customize how content is displayed"})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Layout Style"}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:["list","grid","compact"].map(D=>a.jsx("button",{onClick:()=>w({...b,layout:D}),className:`p-4 rounded-xl border-2 transition-all ${b.layout===D?"border-indigo-600 bg-indigo-50":"border-slate-200 hover:border-slate-300"}`,children:a.jsx("div",{className:"text-sm font-semibold text-slate-900 capitalize",children:D})},D))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Density"}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:["comfortable","compact","spacious"].map(D=>a.jsx("button",{onClick:()=>w({...b,density:D}),className:`p-4 rounded-xl border-2 transition-all ${b.density===D?"border-indigo-600 bg-indigo-50":"border-slate-200 hover:border-slate-300"}`,children:a.jsx("div",{className:"text-sm font-semibold text-slate-900 capitalize",children:D})},D))})]}),a.jsxs("button",{onClick:k,className:"w-full px-6 py-3 bg-indigo-600 text-white font-bold rounded-xl flex items-center justify-center gap-2 hover:bg-indigo-700 transition-all shadow-lg",children:[a.jsx(wi,{className:"w-4 h-4"}),"Save Display Preferences"]})]})]}),a.jsxs("div",{className:"bg-white p-6 lg:p-8 rounded-2xl border border-slate-200 shadow-sm space-y-6 text-left",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-100",children:[a.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-xl flex items-center justify-center",children:a.jsx(Ud,{className:"w-5 h-5 text-slate-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg text-slate-900",children:"Email Display Format"}),a.jsx("p",{className:"text-xs text-slate-500",children:"Choose how emails are displayed"})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Email Format"}),a.jsxs("select",{value:b.emailFormat,onChange:D=>w({...b,emailFormat:D.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm",children:[a.jsx("option",{value:"html",children:"HTML (Rich formatting)"}),a.jsx("option",{value:"plain",children:"Plain Text"}),a.jsx("option",{value:"rich",children:"Rich Text"})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-xl",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-semibold text-slate-900",children:"Show Email Preview"}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Display email preview in list view"})]}),a.jsx("button",{onClick:()=>w({...b,showPreview:!b.showPreview}),className:`relative w-12 h-6 rounded-full transition-colors ${b.showPreview?"bg-indigo-600":"bg-slate-300"}`,children:a.jsx("span",{className:`absolute top-1 left-1 w-4 h-4 bg-white rounded-full transition-transform ${b.showPreview?"translate-x-6":"translate-x-0"}`})})]}),b.showPreview&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Preview Lines"}),a.jsx("input",{type:"number",min:"1",max:"10",value:b.previewLines,onChange:D=>w({...b,previewLines:parseInt(D.target.value)||3}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm"})]}),a.jsxs("button",{onClick:k,className:"w-full px-6 py-3 bg-indigo-600 text-white font-bold rounded-xl flex items-center justify-center gap-2 hover:bg-indigo-700 transition-all shadow-lg",children:[a.jsx(wi,{className:"w-4 h-4"}),"Save Email Format Preferences"]})]})]}),l&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full p-6 space-y-4 text-left my-8",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"font-bold text-lg text-slate-900",children:u?"Edit Signature":"Create Signature"}),a.jsx("button",{onClick:()=>{c(!1),d(null),m({name:"",content:"",isDefault:!1})},className:"p-2 hover:bg-slate-100 rounded-full text-slate-400 transition-colors",children:a.jsx(mr,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Signature Name"}),a.jsx("input",{type:"text",value:h.name,onChange:D=>m({...h,name:D.target.value}),placeholder:"e.g. Professional, Personal",className:"w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl text-sm"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Signature Content"}),a.jsx("textarea",{value:h.content,onChange:D=>m({...h,content:D.target.value}),placeholder:"Enter your signature (HTML supported)",rows:8,className:"w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl text-sm resize-none font-mono"}),a.jsx("p",{className:"text-xs text-slate-500",children:"HTML is supported. Example: <strong>Name</strong><br>Title"})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-xl",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-semibold text-slate-900",children:"Set as Default"}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Use this signature by default when composing emails"})]}),a.jsx("button",{onClick:()=>m({...h,isDefault:!h.isDefault}),className:`relative w-12 h-6 rounded-full transition-colors ${h.isDefault?"bg-indigo-600":"bg-slate-300"}`,children:a.jsx("span",{className:`absolute top-1 left-1 w-4 h-4 bg-white rounded-full transition-transform ${h.isDefault?"translate-x-6":"translate-x-0"}`})})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-100",children:[a.jsx("button",{onClick:()=>{c(!1),d(null),m({name:"",content:"",isDefault:!1})},className:"flex-1 py-2.5 border border-slate-200 rounded-xl font-bold text-slate-600 hover:bg-slate-50 transition-colors",children:"Cancel"}),a.jsx("button",{onClick:P,disabled:p||!h.name||!h.content,className:"flex-1 py-2.5 bg-indigo-600 text-white rounded-xl font-bold shadow-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-indigo-700 transition-colors flex items-center justify-center gap-2",children:p?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(wi,{className:"w-4 h-4"}),u?"Update":"Create"," Signature"]})})]})]})})]})},Hge=({currentUser:e,onUserUpdate:t})=>{const{showSuccess:r,showError:n}=Ms(),[s,i]=z.useState("profile"),[o,l]=z.useState(zg),[c,u]=z.useState(!1),[d,h]=z.useState([]),[m,p]=z.useState(""),[y,v]=z.useState(!1),[g,b]=z.useState(!1),[w,j]=z.useState(!1),[N,k]=z.useState(null),[P,A]=z.useState(!1),[O,D]=z.useState(!1),[R,C]=z.useState([]),[T,I]=z.useState(!1),[B,X]=z.useState(""),[re,Z]=z.useState(!1),[te,Y]=z.useState(null),[Q,H]=z.useState(null),[E,q]=z.useState(null),[V,U]=z.useState({email:"",name:"",role:"User",jobTitle:"",department:"",phone:"",bio:"",timezone:om(),language:"English"}),[G,ne]=z.useState(!1),[de,ce]=z.useState({isOpen:!1,title:"",message:"",confirmText:"Confirm",cancelText:"Cancel",onConfirm:()=>{},type:"info"}),[he,Le]=z.useState({name:"",email:"",avatar:"",phone:"",jobTitle:"",department:"",bio:"",timezone:om(),language:"English"}),[se,Fe]=z.useState(!1),[_e,oe]=z.useState(null),[ae,ke]=z.useState(""),[we,Pe]=z.useState(!1),[pe,fe]=z.useState(!1),[De,Xe]=z.useState(""),Je=z.useRef(null),ht=(xt,Ht)=>{l(Ut=>Ut.map(qe=>qe.id===xt?{...qe,[Ht]:!qe[Ht]}:qe))};z.useEffect(()=>{s==="connections"&&(async()=>{const Ht=e?.id||JSON.parse(localStorage.getItem("user_data")||"{}").id;if(Ht)try{const Ut=await A3(Ht);j(Ut.connected||!1),k(Ut.userEmail||null)}catch{j(!1)}})()},[s,e]);const Ue=async()=>{I(!0);try{const xt=await fd(B||void 0);C(xt.data||[])}catch{C([])}finally{I(!1)}};z.useEffect(()=>{s==="users"&&Ue()},[s,B]),z.useEffect(()=>{(async()=>{if(s==="notifications")try{const Ht=e?.id||JSON.parse(localStorage.getItem("user_data")||"{}").id;if(!Ht)return;const qe=(await one(Ht)).data||[];if(qe.length>0){const jt=zg.map(kr=>qe.find(_r=>_r.id===kr.id)||kr);l(jt)}else l(zg)}catch(Ht){console.error("[SETTINGS] Failed to load notification preferences:",Ht),l(zg)}})()},[s,e]);const at=async()=>{A(!0);try{const xt=e?.id||JSON.parse(localStorage.getItem("user_data")||"{}").id,Ht=await E7(xt);Ht.authUrl&&(window.location.href=Ht.authUrl)}catch{n("Failed to connect Google Calendar"),A(!1)}},Me=async()=>{D(!0);try{const xt=e?.id||JSON.parse(localStorage.getItem("user_data")||"{}").id;await Une(xt),j(!1),k(null),r("Google account disconnected successfully")}catch{n("Failed to disconnect Google account")}finally{D(!1)}};z.useEffect(()=>{(async()=>{let Ht=e||JSON.parse(localStorage.getItem("user_data")||"null");if(Ht){const Ut=om();Le({name:Ht.name||"",email:Ht.email||"",avatar:Ht.avatar||"",phone:Ht.phone||"",jobTitle:Ht.jobTitle||"",department:Ht.department||"",bio:Ht.bio||"",timezone:Ht.timezone||Ut,language:Ht.language||"English"}),ke(Ht.avatar||"")}})()},[e]);const ut=(xt,Ht=400,Ut=400,qe=.8)=>new Promise((jt,kr)=>{if(xt.size>5242880){kr(new Error("Image file is too large. Please use an image smaller than 5MB."));return}const _r=new FileReader;_r.onload=Tr=>{const pr=new Image;pr.onload=()=>{let Jt=pr.width,Lr=pr.height;Jt>Lr?Jt>Ht&&(Lr=Lr*Ht/Jt,Jt=Ht):Lr>Ut&&(Jt=Jt*Ut/Lr,Lr=Ut);const Ar=document.createElement("canvas");Ar.width=Jt,Ar.height=Lr;const Gr=Ar.getContext("2d");if(!Gr){kr(new Error("Failed to create canvas context"));return}Gr.drawImage(pr,0,0,Jt,Lr);const Tn=Ar.toDataURL("image/jpeg",qe);if(Tn.length>9e5)if(qe>.5){ut(xt,Ht,Ut,qe-.1).then(jt).catch(kr);return}else{kr(new Error("Image is too large even after compression. Please use a smaller image."));return}jt(Tn)},pr.onerror=()=>kr(new Error("Failed to load image")),pr.src=Tr.target?.result},_r.onerror=()=>kr(new Error("Failed to read file")),_r.readAsDataURL(xt)}),ot=async xt=>{const Ht=xt.target.files?.[0];if(Ht){if(!Ht.type.startsWith("image/")){n("Please select a valid image file.");return}oe(null);try{const Ut=new FileReader;Ut.onload=qe=>{const jt=qe.target?.result;Xe(jt),fe(!0)},Ut.onerror=()=>{n("Failed to read image file.")},Ut.readAsDataURL(Ht)}catch(Ut){const qe=Ut.message||"Failed to load image. Please try a different image.";n(qe),oe(qe),Je.current&&(Je.current.value="")}}},rt=async xt=>{fe(!1),Pe(!0);try{const Ut=await(await fetch(xt)).blob(),qe=new File([Ut],"cropped-image.jpg",{type:"image/jpeg"}),jt=await ut(qe,400,400,.8);ke(jt),Le(kr=>({...kr,avatar:jt})),r('Image cropped and loaded successfully. Click "Save Changes" to update your profile.')}catch(Ht){const Ut=Ht.message||"Failed to process cropped image.";n(Ut),oe(Ut)}finally{Pe(!1),Je.current&&(Je.current.value="")}},lr=()=>{fe(!1),Xe(""),Je.current&&(Je.current.value="")},er=async()=>{if(!he.name.trim()){oe("Full name is required.");return}Fe(!0);try{const xt=e?.id||JSON.parse(localStorage.getItem("user_data")||"{}").id,Ht=await Xre(xt,he),Ut=Ht.data||Ht;localStorage.setItem("user_data",JSON.stringify(Ut)),t(Ut),r("Profile updated successfully!"),oe(null)}catch{n("Failed to update profile.")}finally{Fe(!1)}};return a.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-in fade-in duration-500 pb-20",children:[a.jsxs("div",{className:"flex justify-between items-end",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-left",children:"Settings"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Manage your personal account and workspace preferences"})]}),s==="profile"&&a.jsxs("button",{onClick:er,disabled:se,className:"px-6 py-2.5 bg-indigo-600 text-white font-bold rounded-xl flex items-center gap-2 hover:bg-indigo-700 transition-all shadow-lg active:scale-95 disabled:opacity-50",children:[se?a.jsx(Et,{className:"w-4 h-4 animate-spin"}):a.jsx(wi,{className:"w-4 h-4"}),"Save Changes"]})]}),a.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[a.jsx("aside",{className:"w-full lg:w-64 space-y-1",children:[{id:"profile",label:"Profile Settings",icon:a.jsx(rl,{className:"w-4 h-4"})},{id:"notifications",label:"Notifications",icon:a.jsx(uy,{className:"w-4 h-4"})},{id:"preferences",label:"User Preferences",icon:a.jsx(nD,{className:"w-4 h-4"})},{id:"connections",label:"Connections & Sync",icon:a.jsx(q_,{className:"w-4 h-4"})},{id:"users",label:"Team Management",icon:a.jsx(R0,{className:"w-4 h-4"})},{id:"workspace",label:"Workspace Settings",icon:a.jsx(eD,{className:"w-4 h-4"})}].map(xt=>a.jsxs("button",{onClick:()=>i(xt.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl font-semibold text-sm transition-all ${s===xt.id?"bg-white text-indigo-600 shadow-sm border border-slate-200":"text-slate-500 hover:text-slate-900 hover:bg-slate-100"}`,children:[xt.icon,xt.label]},xt.id))}),a.jsxs("div",{className:"flex-1 space-y-6",children:[s==="profile"&&a.jsxs("div",{className:"bg-white p-6 lg:p-8 rounded-2xl border border-slate-200 shadow-sm space-y-8 text-left",children:[_e&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 text-sm p-4 rounded-xl",children:_e}),a.jsxs("div",{className:"flex items-center gap-6 pb-8 border-b border-slate-100",children:[a.jsxs("div",{className:"relative group",children:[a.jsx(Xs,{src:ae,alt:he.name||"User",fallbackText:he.name||he.email||"U",className:"w-24 h-24 shadow-lg border-2 border-white object-cover",isAvatar:!0}),we&&a.jsx("div",{className:"absolute inset-0 bg-black/60 rounded-3xl flex items-center justify-center z-10",children:a.jsx(Et,{className:"w-6 h-6 text-white animate-spin"})}),a.jsx("button",{onClick:()=>Je.current?.click(),disabled:we,className:"absolute inset-0 bg-black/40 rounded-3xl opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center text-white disabled:opacity-60 disabled:cursor-not-allowed",children:a.jsx(Ou,{className:"w-6 h-6"})}),a.jsx("input",{ref:Je,type:"file",accept:"image/*",onChange:ot,className:"hidden",disabled:we})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-xl text-slate-900",children:he.name||"Set Name"}),a.jsxs("p",{className:"text-slate-500 text-sm",children:[he.jobTitle||"No Title","  ",he.department||"No Dept"]}),a.jsx("p",{className:"text-slate-400 text-xs mt-1",children:he.email})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Full Name"}),a.jsx("input",{type:"text",value:he.name,onChange:xt=>Le({...he,name:xt.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Job Title"}),a.jsxs("div",{className:"relative",children:[a.jsx(Pc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{type:"text",value:he.jobTitle,onChange:xt=>Le({...he,jobTitle:xt.target.value}),className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm",placeholder:"e.g. Senior Logistics Analyst"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Department"}),a.jsx("input",{type:"text",value:he.department,onChange:xt=>Le({...he,department:xt.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm",placeholder:"e.g. Operations"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Phone Number"}),a.jsx("input",{type:"tel",value:he.phone,onChange:xt=>Le({...he,phone:xt.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm",placeholder:"+1 555-0000"})]}),a.jsxs("div",{className:"space-y-1.5 md:col-span-2",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Professional Bio"}),a.jsx("textarea",{value:he.bio,onChange:xt=>Le({...he,bio:xt.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm min-h-[100px] resize-none",placeholder:"Tell the team a bit about yourself..."})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(B_,{className:"w-3.5 h-3.5"})," Timezone"]}),a.jsx("select",{value:he.timezone,onChange:xt=>Le({...he,timezone:xt.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm",children:Pm.map(xt=>a.jsx("option",{value:xt.value,children:xt.label},xt.value))})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2",children:"Language"}),a.jsx("select",{value:he.language,onChange:xt=>Le({...he,language:xt.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm",children:H_.map(xt=>a.jsx("option",{value:xt.value,children:xt.label},xt.value))})]})]})]}),s==="notifications"&&a.jsxs("div",{className:"bg-white p-6 lg:p-8 rounded-2xl border border-slate-200 shadow-sm space-y-6 text-left",children:[a.jsxs("div",{className:"pb-6 border-b border-slate-100",children:[a.jsx("h3",{className:"font-bold text-xl text-slate-900 mb-2",children:"Notification Preferences"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Choose how you want to be notified about important updates and activities."})]}),a.jsx("div",{className:"space-y-4",children:o.map(xt=>a.jsx("div",{className:"p-5 bg-slate-50 rounded-xl border border-slate-200 hover:border-indigo-300 transition-all",children:a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-bold text-slate-900 text-sm mb-1",children:xt.label}),a.jsx("p",{className:"text-xs text-slate-500",children:xt.description})]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs font-semibold text-slate-600",children:"In-App"}),a.jsx("button",{onClick:()=>ht(xt.id,"inApp"),className:`relative w-11 h-6 rounded-full transition-colors ${xt.inApp?"bg-indigo-600":"bg-slate-300"}`,children:a.jsx("span",{className:`absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full transition-transform ${xt.inApp?"translate-x-5":"translate-x-0"}`})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs font-semibold text-slate-600",children:"Email"}),a.jsx("button",{onClick:()=>ht(xt.id,"email"),className:`relative w-11 h-6 rounded-full transition-colors ${xt.email?"bg-indigo-600":"bg-slate-300"}`,children:a.jsx("span",{className:`absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full transition-transform ${xt.email?"translate-x-5":"translate-x-0"}`})})]})]})]})},xt.id))}),a.jsx("div",{className:"pt-4 border-t border-slate-100",children:a.jsxs("button",{onClick:async()=>{try{const xt=e?.id||JSON.parse(localStorage.getItem("user_data")||"{}").id;if(!xt){n("Please log in to save preferences.");return}await lne(xt,o),r("Notification preferences saved successfully!")}catch(xt){console.error("[SETTINGS] Failed to save notification preferences:",xt),n(xt.message||"Failed to save notification preferences.")}},className:"px-6 py-2.5 bg-indigo-600 text-white font-bold rounded-xl flex items-center gap-2 hover:bg-indigo-700 transition-all shadow-lg active:scale-95",children:[a.jsx(wi,{className:"w-4 h-4"})," Save Preferences"]})})]}),s==="connections"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-slate-100 bg-gradient-to-r from-blue-50 to-indigo-50",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-14 h-14 rounded-2xl bg-white shadow-md flex items-center justify-center",children:a.jsxs("svg",{className:"w-8 h-8",viewBox:"0 0 48 48",children:[a.jsx("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),a.jsx("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),a.jsx("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),a.jsx("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-xl font-black text-slate-900",children:"Google Workspace"}),a.jsx("p",{className:"text-sm text-slate-500 font-medium mt-0.5",children:"Connect your Google account to sync Calendar, Drive, Docs, and Gmail"})]})]})}),a.jsx("div",{className:"p-6",children:w?a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"p-4 bg-emerald-50 border-2 border-emerald-200 rounded-xl",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Cn,{className:"w-5 h-5 text-emerald-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-emerald-900",children:"Connected"}),N&&a.jsx("p",{className:"text-xs text-emerald-700 mt-0.5",children:N})]})]}),a.jsx("button",{onClick:Me,disabled:O,className:"px-4 py-2 bg-red-600 text-white text-xs font-bold uppercase tracking-widest rounded-lg hover:bg-red-700 transition-all disabled:opacity-50 flex items-center gap-2",children:O?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-3 h-3 animate-spin"}),"Disconnecting..."]}):"Disconnect"})]})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-black text-slate-900 mb-4",children:"Connected Services"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-200",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-100 flex items-center justify-center",children:a.jsx(Ha,{className:"w-4 h-4 text-blue-600"})}),a.jsx("span",{className:"font-bold text-slate-900",children:"Google Calendar"})]}),a.jsx("p",{className:"text-xs text-slate-600",children:"Sync events and schedules"})]}),a.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-200",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-green-100 flex items-center justify-center",children:a.jsx("svg",{className:"w-4 h-4 text-green-600",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4c-1.48 0-2.85.43-4.01 1.17l1.46 1.46C10.21 6.23 11.08 6 12 6c3.04 0 5.5 2.46 5.5 5.5v.5H19c1.66 0 3 1.34 3 3 0 1.13-.64 2.11-1.56 2.62l1.45 1.45C23.16 18.16 24 16.68 24 15c0-2.64-2.05-4.78-4.65-4.96zM3 5.27l2.75 2.74C2.56 8.15 0 10.77 0 14c0 3.31 2.69 6 6 6h11.73l2 2L21 20.73 4.27 4 3 5.27zM7.73 10l8 8H6c-2.21 0-4-1.79-4-4s1.79-4 4-4h1.73z"})})}),a.jsx("span",{className:"font-bold text-slate-900",children:"Google Drive"})]}),a.jsx("p",{className:"text-xs text-slate-600",children:"Store and access documents"})]}),a.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-200",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-indigo-100 flex items-center justify-center",children:a.jsx("svg",{className:"w-4 h-4 text-indigo-600",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"})})}),a.jsx("span",{className:"font-bold text-slate-900",children:"Google Docs"})]}),a.jsx("p",{className:"text-xs text-slate-600",children:"Create and sign documents"})]}),a.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-200",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-red-100 flex items-center justify-center",children:a.jsx(li,{className:"w-4 h-4 text-red-600"})}),a.jsx("span",{className:"font-bold text-slate-900",children:"Gmail"})]}),a.jsx("p",{className:"text-xs text-slate-600",children:"Access email communications"})]})]})]}),a.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-xl",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Ym,{className:"w-5 h-5 text-blue-600 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-blue-900 mb-1",children:"Permissions Granted"}),a.jsxs("ul",{className:"text-xs text-blue-800 space-y-1",children:[a.jsx("li",{children:" View and manage calendar events"}),a.jsx("li",{children:" Create, view, and manage files in Google Drive"}),a.jsx("li",{children:" Create and edit documents in Google Docs"}),a.jsx("li",{children:" Read email messages from Gmail"})]})]})]})})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-100 flex items-center justify-center mx-auto mb-4",children:a.jsx(q_,{className:"w-8 h-8 text-slate-400"})}),a.jsx("h4",{className:"text-lg font-bold text-slate-900 mb-2",children:"Not Connected"}),a.jsx("p",{className:"text-sm text-slate-600 max-w-md mx-auto mb-6",children:"Connect your Google account to unlock powerful integrations with Calendar, Drive, Docs, and Gmail"}),a.jsx("button",{onClick:at,disabled:P,className:"px-6 py-3 bg-indigo-600 text-white font-bold text-sm rounded-xl hover:bg-indigo-700 transition-all shadow-lg disabled:opacity-50 inline-flex items-center gap-2",children:P?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Connecting..."]}):a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 48 48",children:[a.jsx("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),a.jsx("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),a.jsx("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),a.jsx("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]}),"Connect with Google"]})})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-black text-slate-900 mb-4",children:"What You'll Get"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-50 rounded-lg",children:[a.jsx(Ha,{className:"w-5 h-5 text-indigo-600 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-slate-900",children:"Calendar Sync"}),a.jsx("p",{className:"text-xs text-slate-600 mt-0.5",children:"Sync events and manage schedules"})]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-50 rounded-lg",children:[a.jsx("svg",{className:"w-5 h-5 text-indigo-600 shrink-0 mt-0.5",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4c-1.48 0-2.85.43-4.01 1.17l1.46 1.46C10.21 6.23 11.08 6 12 6c3.04 0 5.5 2.46 5.5 5.5v.5H19c1.66 0 3 1.34 3 3 0 1.13-.64 2.11-1.56 2.62l1.45 1.45C23.16 18.16 24 16.68 24 15c0-2.64-2.05-4.78-4.65-4.96zM3 5.27l2.75 2.74C2.56 8.15 0 10.77 0 14c0 3.31 2.69 6 6 6h11.73l2 2L21 20.73 4.27 4 3 5.27zM7.73 10l8 8H6c-2.21 0-4-1.79-4-4s1.79-4 4-4h1.73z"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-slate-900",children:"Drive Storage"}),a.jsx("p",{className:"text-xs text-slate-600 mt-0.5",children:"Store contracts and documents"})]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-50 rounded-lg",children:[a.jsx("svg",{className:"w-5 h-5 text-indigo-600 shrink-0 mt-0.5",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-slate-900",children:"Document Signing"}),a.jsx("p",{className:"text-xs text-slate-600 mt-0.5",children:"E-signature via Google Docs"})]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-50 rounded-lg",children:[a.jsx(li,{className:"w-5 h-5 text-indigo-600 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-slate-900",children:"Gmail Access"}),a.jsx("p",{className:"text-xs text-slate-600 mt-0.5",children:"View email communications"})]})]})]})]})]})})]}),a.jsx("div",{className:"bg-amber-50 border-2 border-amber-200 rounded-xl p-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx(Ym,{className:"w-6 h-6 text-amber-600 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-black text-amber-900 mb-2",children:"Security & Privacy"}),a.jsxs("ul",{className:"text-xs text-amber-800 space-y-1",children:[a.jsx("li",{children:" Your data is encrypted and securely stored"}),a.jsx("li",{children:" We only request the minimum permissions needed"}),a.jsx("li",{children:" You can disconnect at any time"}),a.jsx("li",{children:" We never share your data with third parties"})]})]})]})})]}),s==="users"&&a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden text-left",children:[a.jsxs("div",{className:"p-6 border-b border-slate-100 bg-slate-50/50 flex justify-between items-center",children:[a.jsx("h3",{className:"font-bold text-slate-900",children:"Team Management"}),a.jsxs("button",{onClick:()=>{Y(null),U({email:"",name:"",role:"User",jobTitle:"",department:"",phone:"",bio:"",timezone:om(),language:"English"}),Z(!0)},className:"px-4 py-2 bg-indigo-600 text-white text-xs font-bold rounded-lg flex items-center gap-2 shadow-md",children:[a.jsx(Au,{className:"w-4 h-4"})," Add User"]})]}),a.jsx("div",{className:"p-4 border-b border-slate-100",children:a.jsxs("div",{className:"relative",children:[a.jsx(tf,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Search team members...",value:B,onChange:xt=>X(xt.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl text-sm"})]})}),a.jsx("div",{className:"divide-y divide-slate-100",children:T?a.jsx("div",{className:"p-8 text-center",children:a.jsx(Et,{className:"w-6 h-6 animate-spin mx-auto text-indigo-600"})}):R.map(xt=>a.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Xs,{src:xt.avatar,alt:xt.name||"",fallbackText:xt.name||xt.email||"U",className:"w-10 h-10 border",isAvatar:!0}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-900 text-sm",children:xt.name}),a.jsxs("p",{className:"text-xs text-slate-500",children:[xt.email,"  ",a.jsx("span",{className:"font-bold text-indigo-600",children:xt.role})]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>{Y(xt),U({email:xt.email,name:xt.name,role:xt.role||"User",jobTitle:xt.jobTitle||"",department:xt.department||"",phone:xt.phone||"",bio:xt.bio||"",timezone:xt.timezone||om(),language:xt.language||"English"}),Z(!0)},className:"p-2 text-slate-400 hover:text-indigo-600",children:a.jsx(ec,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>q(xt),className:"p-2 text-slate-400 hover:text-red-600",children:a.jsx($r,{className:"w-4 h-4"})})]})]},xt.id))})]}),s==="preferences"&&a.jsx(zge,{currentUser:e,showSuccess:r,showError:n}),s==="workspace"&&a.jsx($ge,{currentUser:e,showSuccess:r,showError:n})]})]}),re&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6 space-y-4 text-left my-8",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"font-bold text-lg text-slate-900",children:te?"Edit User":"Add New User"}),a.jsx("button",{onClick:()=>Z(!1),className:"p-2 hover:bg-slate-100 rounded-full text-slate-400 transition-colors",children:a.jsx(mr,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto pr-2",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Full Name"}),a.jsx("input",{type:"text",value:V.name,onChange:xt=>U({...V,name:xt.target.value}),placeholder:"Full Name",className:"w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl text-sm"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Email Address"}),a.jsx("input",{type:"email",value:V.email,onChange:xt=>U({...V,email:xt.target.value}),placeholder:"Email Address",disabled:!!te,className:"w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl text-sm disabled:opacity-50"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Role"}),a.jsxs("select",{value:V.role,onChange:xt=>U({...V,role:xt.target.value}),className:"w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl text-sm",children:[a.jsx("option",{value:"Viewer",children:"Viewer - Read-only access"}),a.jsx("option",{value:"Collaborator",children:"Collaborator - Can comment and draft"}),a.jsx("option",{value:"Admin",children:"Admin - Full access"}),a.jsx("option",{value:"User",children:"User (Legacy - maps to Collaborator)"})]}),a.jsxs("p",{className:"text-[10px] text-slate-400 mt-1",children:[V.role==="Viewer"&&"Read-only access to shared inbox",V.role==="Collaborator"&&"Can add notes, draft responses, manage own templates",V.role==="Admin"&&"Full configuration access, can assign emails, send, manage accounts",V.role==="User"&&"Legacy role - will be treated as Collaborator"]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Job Title"}),a.jsxs("div",{className:"relative",children:[a.jsx(Pc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{type:"text",value:V.jobTitle,onChange:xt=>U({...V,jobTitle:xt.target.value}),placeholder:"e.g. Senior Logistics Analyst",className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl text-sm"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Department"}),a.jsx("input",{type:"text",value:V.department,onChange:xt=>U({...V,department:xt.target.value}),placeholder:"e.g. Operations",className:"w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl text-sm"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Phone Number"}),a.jsx("input",{type:"tel",value:V.phone,onChange:xt=>U({...V,phone:xt.target.value}),placeholder:"+1 555-0000",className:"w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl text-sm"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Professional Bio"}),a.jsx("textarea",{value:V.bio,onChange:xt=>U({...V,bio:xt.target.value}),placeholder:"Tell the team a bit about yourself...",rows:3,className:"w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl text-sm resize-none"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(B_,{className:"w-3.5 h-3.5"})," Timezone"]}),a.jsx("select",{value:V.timezone,onChange:xt=>U({...V,timezone:xt.target.value}),className:"w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl text-sm",children:Pm.map(xt=>a.jsx("option",{value:xt.value,children:xt.label},xt.value))})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Language"}),a.jsx("select",{value:V.language,onChange:xt=>U({...V,language:xt.target.value}),className:"w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl text-sm",children:H_.map(xt=>a.jsx("option",{value:xt.value,children:xt.label},xt.value))})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-100",children:[a.jsx("button",{onClick:()=>Z(!1),className:"flex-1 py-2.5 border border-slate-200 rounded-xl font-bold text-slate-600 hover:bg-slate-50 transition-colors",children:"Cancel"}),a.jsx("button",{onClick:async()=>{ne(!0);try{te?await Wre(te.id,V):await Hre(V),Z(!1),Ue(),r(te?"User updated successfully!":"User created successfully!")}catch(xt){n(xt.message||"Failed to save user")}finally{ne(!1)}},disabled:G||!V.name||!V.email,className:"flex-1 py-2.5 bg-indigo-600 text-white rounded-xl font-bold shadow-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-indigo-700 transition-colors flex items-center justify-center gap-2",children:G?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),te?"Updating...":"Creating..."]}):te?"Update":"Invite"})]})]})}),E&&a.jsx("div",{className:"fixed inset-0 z-[130] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-[32px] w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center bg-red-50 text-red-600",children:a.jsx($r,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-slate-900",children:"Delete User?"}),a.jsx("p",{className:"text-xs text-slate-400 font-medium mt-1",children:"This action cannot be undone. The user will be permanently removed from the system."})]})]}),a.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-200",children:[a.jsx("p",{className:"text-sm font-bold text-slate-900 mb-1",children:E.name}),a.jsx("p",{className:"text-xs text-slate-500",children:E.email}),E.role&&a.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase mt-1",children:E.role})]})]}),a.jsxs("div",{className:"p-6 flex gap-3",children:[a.jsx("button",{onClick:()=>q(null),disabled:Q===E.id,className:"flex-1 py-3 border border-slate-200 text-slate-400 font-black uppercase text-xs tracking-widest rounded-xl hover:bg-slate-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),a.jsx("button",{onClick:async()=>{H(E.id);try{await Kre(E.id),await Ue(),q(null),r("User deleted successfully")}catch(xt){n(xt.message||"Failed to delete user")}finally{H(null)}},disabled:Q===E.id,className:"flex-1 py-3 bg-red-600 text-white font-black uppercase text-xs tracking-widest rounded-xl hover:bg-red-700 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:Q===E.id?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):"Delete User"})]})]})}),pe&&De&&a.jsx(qge,{imageSrc:De,onCrop:rt,onCancel:lr,aspectRatio:1,circularCrop:!0})]})},Wge=({currentUser:e})=>{const{showSuccess:t,showError:r}=Ms(),n=e?.role==="Admin",[s,i]=z.useState("companies"),[o,l]=z.useState({companies:!1,contacts:!1,incomplete:!1,mismatches:!1}),[c,u]=z.useState({groups:[],totalDuplicates:0}),[d,h]=z.useState({groups:[],totalDuplicates:0}),[m,p]=z.useState({companies:[],contacts:[],deals:[],projects:[],invoices:[]}),[y,v]=z.useState({mismatches:[],count:0}),[g,b]=z.useState(null),[w,j]=z.useState(!1),[N,k]=z.useState({}),P=z.useCallback(async()=>{l(Z=>({...Z,companies:!0}));try{const Z=await Lne(),te=Z?.data??Z;u({groups:te.groups||[],totalDuplicates:te.totalDuplicates??0})}catch{r("Failed to load duplicate companies"),u({groups:[],totalDuplicates:0})}finally{l(Z=>({...Z,companies:!1}))}},[r]),A=z.useCallback(async()=>{l(Z=>({...Z,contacts:!0}));try{const Z=await Fne(),te=Z?.data??Z;h({groups:te.groups||[],totalDuplicates:te.totalDuplicates??0})}catch{r("Failed to load duplicate contacts"),h({groups:[],totalDuplicates:0})}finally{l(Z=>({...Z,contacts:!1}))}},[r]),O=z.useCallback(async()=>{l(Z=>({...Z,incomplete:!0}));try{const Z=await Mne(),te=Z?.data??Z;p({companies:te.companies||[],contacts:te.contacts||[],deals:te.deals||[],projects:te.projects||[],invoices:te.invoices||[]})}catch{r("Failed to load incomplete records"),p({companies:[],contacts:[],deals:[],projects:[],invoices:[]})}finally{l(Z=>({...Z,incomplete:!1}))}},[r]),D=z.useCallback(async()=>{l(Z=>({...Z,mismatches:!0}));try{const Z=await Rne(),te=Z?.data??Z;v({mismatches:te.mismatches||[],count:te.count??0})}catch{r("Failed to load domain mismatches"),v({mismatches:[],count:0})}finally{l(Z=>({...Z,mismatches:!1}))}},[r]);z.useEffect(()=>{n&&(s==="companies"?P():s==="contacts"?A():s==="incomplete"?O():s==="mismatches"&&D())},[n,s,P,A,O,D]);const R=()=>{s==="companies"?P():s==="contacts"?A():s==="incomplete"?O():D()},C=(Z,te,Y,Q,H,E)=>{b({open:!0,type:Z,primaryId:te,secondaryId:Y,primaryName:Q,secondaryName:H,groupKey:E})},T=()=>{w||b(null)},I=async()=>{if(g){j(!0);try{g.type==="company"?(await Ine(g.primaryId,g.secondaryId),t("Companies merged successfully"),P()):(await Dne(g.primaryId,g.secondaryId),t("Contacts merged successfully"),A()),b(null)}catch(Z){r(Z?.message||"Merge failed")}finally{j(!1)}}},B=Z=>{k(te=>({...te,[Z]:!te[Z]}))};if(!n)return a.jsx("div",{className:"space-y-6 animate-in fade-in duration-500",children:a.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-2xl p-8 flex flex-col items-center justify-center text-center max-w-lg mx-auto",children:[a.jsx(HB,{className:"w-12 h-12 text-amber-600 mb-4"}),a.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-2",children:"Admin Only"}),a.jsx("p",{className:"text-slate-600 text-sm",children:"Data Hygiene is available only to administrators. Contact your workspace admin if you need access."})]})});const X=[{id:"companies",label:"Duplicate Companies",icon:a.jsx(nd,{className:"w-4 h-4"}),count:c.totalDuplicates},{id:"contacts",label:"Duplicate Contacts",icon:a.jsx(rl,{className:"w-4 h-4"}),count:d.totalDuplicates},{id:"incomplete",label:"Incomplete Records",icon:a.jsx(EB,{className:"w-4 h-4"}),count:m.companies.length+m.contacts.length+m.deals.length+m.projects.length+m.invoices.length},{id:"mismatches",label:"Domain Mismatches",icon:a.jsx(F0,{className:"w-4 h-4"}),count:y.count}],re=o[s];return a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Data Hygiene"}),a.jsx("p",{className:"text-slate-500 text-sm font-medium mt-0.5",children:"Find duplicates, incomplete records, and domain mismatches"})]}),a.jsxs("button",{onClick:R,disabled:re,className:"px-4 py-2 bg-white border border-slate-200 text-slate-700 text-sm font-semibold rounded-xl flex items-center gap-2 hover:bg-slate-50 transition-all shadow-sm disabled:opacity-60",children:[re?a.jsx(Et,{className:"w-4 h-4 animate-spin"}):a.jsx(sd,{className:"w-4 h-4"}),"Refresh"]})]}),a.jsx("div",{className:"flex flex-wrap gap-2 border-b border-slate-200 pb-4",children:X.map(Z=>a.jsxs("button",{onClick:()=>i(Z.id),className:`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-medium transition-all ${s===Z.id?"bg-indigo-600 text-white shadow-sm":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:[Z.icon,Z.label,Z.count!=null&&Z.count>0&&a.jsx("span",{className:`px-1.5 py-0.5 rounded-md text-xs font-bold ${s===Z.id?"bg-white/20":"bg-slate-300 text-slate-700"}`,children:Z.count})]},Z.id))}),a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:[re&&a.jsx("div",{className:"flex items-center justify-center py-16",children:a.jsx(Et,{className:"w-8 h-8 text-indigo-600 animate-spin"})}),!re&&s==="companies"&&a.jsx("div",{className:"p-6",children:c.groups.length===0?a.jsx("p",{className:"text-slate-500 text-sm",children:"No duplicate companies found by domain."}):a.jsx("ul",{className:"space-y-4",children:c.groups.map(Z=>{const te=`company-${Z.domain}`,Y=N[te]!==!1;return a.jsxs("li",{className:"border border-slate-200 rounded-xl overflow-hidden",children:[a.jsxs("button",{onClick:()=>B(te),className:"w-full flex items-center justify-between p-4 bg-slate-50 hover:bg-slate-100 text-left",children:[a.jsx("span",{className:"font-semibold text-slate-900",children:Z.domain}),a.jsxs("span",{className:"text-sm text-slate-500",children:[Z.count," companies"]}),Y?a.jsx(Uf,{className:"w-5 h-5"}):a.jsx(bs,{className:"w-5 h-5"})]}),Y&&a.jsx("div",{className:"p-4 border-t border-slate-200 space-y-2",children:Z.companies.map((Q,H)=>a.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-slate-100 last:border-0",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-slate-900",children:Q.name||""}),Q.industry&&a.jsxs("span",{className:"text-slate-500 text-sm ml-2",children:["(",Q.industry,")"]})]}),Z.companies.length>=2&&a.jsx("div",{className:"flex gap-2",children:Z.companies.filter(E=>E.id!==Q.id).map(E=>a.jsxs("button",{onClick:()=>C("company",Q.id,E.id,Q.name||Q.id,E.name||E.id,te),className:"px-3 py-1.5 text-xs font-semibold bg-indigo-100 text-indigo-700 rounded-lg hover:bg-indigo-200 flex items-center gap-1",children:[a.jsx(Tv,{className:"w-3.5 h-3.5"})," Merge into ",Q.name||"this"]},E.id))})]},Q.id))})]},te)})})}),!re&&s==="contacts"&&a.jsx("div",{className:"p-6",children:d.groups.length===0?a.jsx("p",{className:"text-slate-500 text-sm",children:"No duplicate contacts found by email."}):a.jsx("ul",{className:"space-y-4",children:d.groups.map(Z=>{const te=`contact-${Z.email}`,Y=N[te]!==!1;return a.jsxs("li",{className:"border border-slate-200 rounded-xl overflow-hidden",children:[a.jsxs("button",{onClick:()=>B(te),className:"w-full flex items-center justify-between p-4 bg-slate-50 hover:bg-slate-100 text-left",children:[a.jsx("span",{className:"font-semibold text-slate-900",children:Z.email}),a.jsxs("span",{className:"text-sm text-slate-500",children:[Z.count," contacts"]}),Y?a.jsx(Uf,{className:"w-5 h-5"}):a.jsx(bs,{className:"w-5 h-5"})]}),Y&&a.jsx("div",{className:"p-4 border-t border-slate-200 space-y-2",children:Z.contacts.map(Q=>a.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-slate-100 last:border-0",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-slate-900",children:Q.name||""}),a.jsx("span",{className:"text-slate-500 text-sm ml-2",children:Q.email})]}),Z.contacts.filter(H=>H.id!==Q.id).map(H=>a.jsxs("button",{onClick:()=>C("contact",Q.id,H.id,Q.name||Q.id,H.name||H.id,te),className:"px-3 py-1.5 text-xs font-semibold bg-indigo-100 text-indigo-700 rounded-lg hover:bg-indigo-200 flex items-center gap-1",children:[a.jsx(Tv,{className:"w-3.5 h-3.5"})," Merge into ",Q.name||"this"]},H.id))]},Q.id))})]},te)})})}),!re&&s==="incomplete"&&a.jsxs("div",{className:"p-6 space-y-6",children:[[{key:"companies",label:"Companies",items:m.companies,recordLabel:Z=>Z.name||Z.id},{key:"contacts",label:"Contacts",items:m.contacts,recordLabel:Z=>Z.name||Z.email||Z.id},{key:"deals",label:"Deals",items:m.deals,recordLabel:Z=>Z.name||Z.title||Z.id},{key:"projects",label:"Projects",items:m.projects,recordLabel:Z=>Z.name||Z.title||Z.id},{key:"invoices",label:"Invoices",items:m.invoices,recordLabel:Z=>Z.id}].map(({key:Z,label:te,items:Y,recordLabel:Q})=>Y.length===0?null:a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-bold text-slate-700 uppercase tracking-wider mb-3",children:te}),a.jsx("ul",{className:"space-y-2",children:Y.map(H=>a.jsxs("li",{className:"flex items-start gap-3 p-3 bg-amber-50 border border-amber-200 rounded-xl",children:[a.jsx(pa,{className:"w-5 h-5 text-amber-600 shrink-0 mt-0.5"}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"font-medium text-slate-900",children:Q(H.record)}),a.jsx("ul",{className:"text-sm text-amber-800 mt-1 list-disc list-inside",children:H.errors.map((E,q)=>a.jsx("li",{children:E},q))})]})]},H.record.id))})]},Z)),m.companies.length+m.contacts.length+m.deals.length+m.projects.length+m.invoices.length===0&&a.jsx("p",{className:"text-slate-500 text-sm",children:"No incomplete records found."})]}),!re&&s==="mismatches"&&a.jsx("div",{className:"p-6",children:y.mismatches.length===0?a.jsx("p",{className:"text-slate-500 text-sm",children:"No domain mismatches (contact email domain matches company domain)."}):a.jsx("ul",{className:"space-y-3",children:y.mismatches.map((Z,te)=>a.jsxs("li",{className:"flex items-center gap-4 p-4 bg-amber-50 border border-amber-200 rounded-xl",children:[a.jsx(pa,{className:"w-5 h-5 text-amber-600 shrink-0"}),a.jsxs("div",{className:"min-w-0",children:[a.jsxs("p",{className:"font-medium text-slate-900",children:[Z.contact?.name," (",Z.contact?.email,")"]}),a.jsxs("p",{className:"text-sm text-slate-600",children:["Contact domain: ",a.jsx("strong",{children:Z.contactDomain}),"  Company domain: ",a.jsx("strong",{children:Z.companyDomain})," (",Z.company?.name,")"]})]})]},te))})})]}),g&&a.jsxs("div",{className:"fixed inset-0 z-[90] overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm",onClick:T}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl",children:[a.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Confirm merge"}),a.jsx("button",{onClick:T,className:"p-2 hover:bg-slate-100 rounded-full text-slate-400",disabled:w,children:a.jsx(mr,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("p",{className:"text-sm text-slate-600",children:["Merge ",a.jsx("strong",{children:g.secondaryName})," into ",a.jsx("strong",{children:g.primaryName}),"? Related records will point to the primary. The secondary will be removed."]}),a.jsxs("div",{className:"flex gap-3 pt-2",children:[a.jsx("button",{type:"button",onClick:T,className:"flex-1 py-3 text-sm font-bold text-slate-500 hover:bg-slate-50 rounded-xl border border-slate-200",disabled:w,children:"Cancel"}),a.jsxs("button",{onClick:I,disabled:w,className:"flex-[2] py-3 bg-indigo-600 text-white text-sm font-bold rounded-xl hover:bg-indigo-700 flex items-center justify-center gap-2 disabled:opacity-60",children:[w?a.jsx(Et,{className:"w-5 h-5 animate-spin"}):a.jsx(Tv,{className:"w-5 h-5"}),"Merge"]})]})]})]})})]})]})},Vge=({currentUser:e,onNavigate:t,onNewEvent:r})=>{const{showError:n,showSuccess:s}=Ms(),[i,o]=z.useState(new Date),[l,c]=z.useState("daily"),[u,d]=z.useState([]),[h,m]=z.useState([]),[p,y]=z.useState([]),[v,g]=z.useState([]),[b,w]=z.useState([]),[j,N]=z.useState(!1),[k,P]=z.useState(!1),[A,O]=z.useState(null),[D,R]=z.useState(!1),[C,T]=z.useState(!1),[I,B]=z.useState({title:"",category:"",description:"",dueDate:"",priority:"Medium",status:"Todo",assigneeId:"",projectId:""}),[X,re]=z.useState([]),[Z,te]=z.useState(!1),[Y,Q]=z.useState(""),[H,E]=z.useState(""),[q,V]=z.useState(null),[U,G]=z.useState(!1),[ne,de]=z.useState(null),[ce,he]=z.useState(null),[Le,se]=z.useState(!1),[Fe,_e]=z.useState(""),[oe,ae]=z.useState(0),[ke,we]=z.useState([]),[Pe,pe]=z.useState(!1),[fe,De]=z.useState(null),[Xe,Je]=z.useState(!0),[ht,Ue]=z.useState(!0),at=z.useRef(null),Me=z.useRef(null),ut=Array.from({length:24},(ee,me)=>me),ot=z.useMemo(()=>Intl.DateTimeFormat().resolvedOptions().timeZone,[]),rt=z.useMemo(()=>{const ee=i.getFullYear(),me=String(i.getMonth()+1).padStart(2,"0"),ge=String(i.getDate()).padStart(2,"0");return`${ee}-${me}-${ge}`},[i]);z.useEffect(()=>{(async()=>{if(e?.id)try{const me=await A3(e.id);N(me.connected||!1)}catch{N(!1)}})()},[e]);const lr=ee=>ee.filter(me=>{if(me.recurringEventId){const ge=(me.title||"").toLowerCase().trim();if(["office","working hours","work hours","availability","busy","out of office","lunch","break"].some(Te=>ge.includes(Te)))return!1}return!0});z.useEffect(()=>{(async()=>{P(!0);const me=new Date(i),ge=new Date(i);if(l==="monthly")me.setDate(1),me.setHours(0,0,0,0),ge.setMonth(ge.getMonth()+1),ge.setDate(0),ge.setHours(23,59,59,999);else if(l==="weekly"){const Ve=new Date(i),Qe=Ve.getDay(),ze=Ve.getDate()-Qe+(Qe===0?-6:1),Ie=new Date(Ve.setDate(ze));me.setTime(Ie.getTime()),me.setHours(0,0,0,0);const et=new Date(Ie);et.setDate(Ie.getDate()+6),ge.setTime(et.getTime()),ge.setHours(23,59,59,999)}else me.setHours(0,0,0,0),ge.setHours(23,59,59,999);const Se=Ve=>{const Qe=Ve.getFullYear(),ze=String(Ve.getMonth()+1).padStart(2,"0"),Ie=String(Ve.getDate()).padStart(2,"0");return`${Qe}-${ze}-${Ie}`},Ee=Se(me),Te=Se(ge),Ge=[];if(j&&e?.id)try{const Qe=(await Bne(Ee,Te,e.id)).data||[],ze=lr(Qe);Ge.push(...ze)}catch(Ve){console.warn("[Schedule] Failed to fetch Google Calendar events:",Ve.message)}if(e?.id)try{const Ve=await Iv(e.id,void 0,Ee,Te);if(Ve.success&&Ve.data){const Qe=Ve.data.map(ze=>({id:ze.id,title:ze.title,description:ze.description||"",start:ze.start,end:ze.end,type:ze.type||"meeting",location:ze.location||"",participants:ze.participants||[],color:ze.color||"#4f46e5",isAllDay:ze.isAllDay||!1,source:"firestore",googleEventId:ze.googleEventId||null,htmlLink:ze.htmlLink||null,relatedEntity:ze.relatedEntity||null}));Ge.push(...Qe)}}catch(Ve){console.warn("[Schedule] Failed to fetch Firestore calendar events:",Ve.message)}const dt=new Map;Ge.forEach(Ve=>{const Qe=Ve.googleEventId||Ve.id;dt.has(Qe)||dt.set(Qe,Ve)}),d(Array.from(dt.values()));try{const Ve=e?.id||JSON.parse(localStorage.getItem("user_data")||"{}").id;if(!Ve){y([]),m([]);return}const Qe=await Ap(Ve),Ie=(Array.isArray(Qe?.data||Qe)?Qe?.data||Qe:[]).filter(gt=>{const Lt=gt.dueDate&&gt.dueDate!==null&&gt.dueDate!==void 0&&String(gt.dueDate).trim()!==""&&String(gt.dueDate).trim().toLowerCase()!=="ongoing";return!gt.archived&&Lt});y(Ie);const et=Ie.filter(gt=>gt.dueDate===rt);m(et)}catch{y([]),m([])}try{const[Ve,Qe,ze]=await Promise.all([$p(e?.id),fd(),H1()]);g(Array.isArray(Ve?.data||Ve)?Ve?.data||Ve:[]),w(Array.isArray(Qe?.data||Qe)?Qe?.data||Qe:[]),re(Array.isArray(ze?.data)?ze.data:[])}catch{g([]),w([]),re([])}P(!1)})()},[rt,j,e,l,i]);const er=()=>{const ee=new Date(i);l==="daily"?ee.setDate(ee.getDate()-1):l==="weekly"?ee.setDate(ee.getDate()-7):ee.setMonth(ee.getMonth()-1),o(ee)},xt=()=>{const ee=new Date(i);l==="daily"?ee.setDate(ee.getDate()+1):l==="weekly"?ee.setDate(ee.getDate()+7):ee.setMonth(ee.getMonth()+1),o(ee)},Ht=()=>{const ee=new Date;return i.toDateString()===ee.toDateString()},Ut=ee=>{let me=new Date(ee.start),ge=new Date(ee.end);const Se=new Date(i);Se.setHours(0,0,0,0);const Ee=(me.getTime()-Se.getTime())/(1e3*60),Te=(ge.getTime()-me.getTime())/(1e3*60),Ge=Ee*(80/60)+20,dt=Te*(80/60);return{top:Ge,height:Math.max(dt,50)}},qe=ee=>{try{return new Date(ee).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}catch{return ee}},jt=ee=>{switch(ee){case"High":return"text-red-500 bg-red-50 border-red-100";case"Medium":return"text-amber-500 bg-amber-50 border-amber-100";default:return"text-blue-500 bg-blue-50 border-blue-100"}},kr=ee=>{const me=new Date(ee),ge=me.getDay(),Se=me.getDate()-ge+(ge===0?-6:1);return new Date(me.setDate(Se))},zt=ee=>{const me=kr(ee);return Array.from({length:7},(ge,Se)=>{const Ee=new Date(me);return Ee.setDate(me.getDate()+Se),Ee})},_r=ee=>{const me=ee.getFullYear(),ge=ee.getMonth(),Se=new Date(me,ge,1),Ee=new Date(me,ge+1,0),Te=new Date(Se);Te.setDate(Te.getDate()-Te.getDay());const Ge=[],dt=new Date(Te);for(;(dt<=Ee||Ge.length<42)&&(Ge.push(new Date(dt)),dt.setDate(dt.getDate()+1),!(Ge.length>=42)););return Ge},Tr=ee=>{const me=ee.getFullYear(),ge=String(ee.getMonth()+1).padStart(2,"0"),Se=String(ee.getDate()).padStart(2,"0");return`${me}-${ge}-${Se}`},pr=ee=>p.filter(me=>me.dueDate===ee),Jt=ee=>{Tr(ee);const me=new Date(ee);me.setHours(0,0,0,0);const ge=new Date(ee);return ge.setHours(23,59,59,999),u.filter(Se=>{const Ee=new Date(Se.start),Te=Se.end?new Date(Se.end):Ee;return Ee<=ge&&Te>=me})},Lr=ee=>{if(!ee||!/^\d{4}-\d{2}-\d{2}$/.test(ee))return ee;const[me,ge,Se]=ee.split("-").map(Number);return new Date(me,ge-1,Se).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})};z.useEffect(()=>{A&&!D&&B({title:A.title,category:A.category||"",description:A.description||"",dueDate:A.dueDate||"",priority:A.priority||"Medium",status:A.status||"Todo",assigneeId:A.assigneeId,projectId:A.projectId||""})},[A,D]),z.useEffect(()=>{if(!D){te(!1);return}A?.category&&!X.includes(A.category)?te(!0):I.category&&X.includes(I.category)?te(!1):I.category&&!X.includes(I.category)&&te(!0)},[D,I.category,X]),z.useEffect(()=>{if(!A)return;let ee=!1;return(async()=>{try{const me=await H1(),ge=Array.isArray(me?.data)?me.data:[];ee||re(ge)}catch{ee||re([])}})(),()=>{ee=!0}},[A?.id]);const Ar=()=>{O(null),R(!1),Q(""),E(""),V(null),se(!1),pe(!1),Me.current&&(Me.current.value="")},Gr=async()=>{if(A){if(!I.title.trim()){n("Task title is required");return}if(!I.assigneeId){n("Assignee is required");return}T(!0);try{await Id(A.id,{title:I.title.trim(),category:I.category.trim()||void 0,description:I.description.trim()||"",dueDate:I.dueDate||null,priority:I.priority,status:I.status,assigneeId:I.assigneeId,projectId:I.projectId||null}),y(ee=>ee.map(me=>me.id===A.id?{...me,title:I.title.trim(),category:I.category.trim()||void 0,description:I.description.trim()||"",dueDate:I.dueDate||"",priority:I.priority,status:I.status,assigneeId:I.assigneeId,projectId:I.projectId||void 0}:me)),O({...A,title:I.title.trim(),category:I.category.trim()||void 0,description:I.description.trim()||"",dueDate:I.dueDate||"",priority:I.priority,status:I.status,assigneeId:I.assigneeId,projectId:I.projectId||void 0,updatedAt:new Date().toISOString()}),R(!1),s("Task updated successfully")}catch(ee){n(ee.message||"Failed to update task")}finally{T(!1)}}},Tn=(ee,me=1200,ge=1200,Se=.8)=>new Promise((Ee,Te)=>{const Ge=new FileReader;Ge.onload=dt=>{const Ve=new Image;Ve.onload=()=>{let Qe=Ve.width,ze=Ve.height;Qe>ze?Qe>me&&(ze=ze*me/Qe,Qe=me):ze>ge&&(Qe=Qe*ge/ze,ze=ge);const Ie=document.createElement("canvas");Ie.width=Qe,Ie.height=ze;const et=Ie.getContext("2d");et?(et.drawImage(Ve,0,0,Qe,ze),Ee(Ie.toDataURL("image/jpeg",Se))):Te(new Error("Canvas context not available"))},Ve.onerror=()=>Te(new Error("Failed to load image")),Ve.src=dt.target?.result},Ge.onerror=()=>Te(new Error("Failed to read file")),Ge.readAsDataURL(ee)}),Ln=async ee=>{const me=ee.target.files?.[0];if(me){if(!me.type.startsWith("image/")){n("Please select an image file");return}if(me.size>10*1024*1024){n("Image size must be less than 10MB");return}try{const ge=await Tn(me,1200,1200,.8);E(ge),V(me)}catch(ge){n(ge.message||"Failed to process image")}}},vr=ee=>{const me=ee.target.value,ge=ee.target.selectionStart;Q(me),ae(ge);const Se=me.substring(0,ge),Ee=Se.lastIndexOf("@");if(Ee!==-1){const Te=Se.substring(Ee+1),Ge=Ee>0?Se[Ee-1]:" ";if((Ge===" "||Ge===`
`||Ee===0)&&!Te.includes(" ")&&!Te.includes(`
`)){_e(Te);const dt=b.filter(Ve=>Ve.name.toLowerCase().includes(Te.toLowerCase())||Ve.email.toLowerCase().includes(Te.toLowerCase()));we(dt.slice(0,5)),se(!0);return}}se(!1)},Xn=ee=>{const ge=Y.substring(0,oe).lastIndexOf("@"),Se=Y.substring(oe),Te=`${Y.substring(0,ge)}@${ee.name} ${Se}`;if(Q(Te),se(!1),at.current){at.current.focus();const Ge=ge+ee.name.length+2;at.current.setSelectionRange(Ge,Ge)}},vn=ee=>{const me=/@([A-Za-z0-9\s]+?)(?=\s|$|[.,!?])/g,ge=[];let Se;for(;(Se=me.exec(ee))!==null;){const Ee=Se[1].trim(),Te=b.find(Ge=>Ge.name.toLowerCase()===Ee.toLowerCase());Te&&Te.id!==(e?.id||JSON.parse(localStorage.getItem("user_data")||"{}").id)&&ge.push(Te.id)}return[...new Set(ge)]},Ke=ee=>{const me=[],ge=/@([A-Za-z0-9\s]+?)(?=\s|$|[.,!?])/g;let Se=0,Ee,Te=0;for(;(Ee=ge.exec(ee))!==null;){Ee.index>Se&&me.push(ee.substring(Se,Ee.index));const Ge=Ee[1].trim();b.find(Ve=>Ve.name.toLowerCase()===Ge.toLowerCase())?me.push(a.jsxs("span",{className:"font-bold text-indigo-600",children:["@",Ge]},Te++)):me.push(`@${Ge}`),Se=ge.lastIndex}return Se<ee.length&&me.push(ee.substring(Se)),me.length>0?me:ee},bt=async()=>{if(A){if(!Y.trim()&&!q){n("Please add a note or attach an image");return}G(!0);try{const ee=JSON.parse(localStorage.getItem("user_data")||"{}"),me={id:`note_${Date.now()}`,userId:ee.id,userName:ee.name||"Unknown User",text:Y.trim(),createdAt:new Date().toISOString()};H&&q&&(me.imageUrl=H,me.imageName=q.name,me.imageMimeType=q.type);const ge=[...A.notes||[],me];await Id(A.id,{notes:ge});const Se=vn(Y);if(Se.length>0)for(const Ee of Se)try{await Ep({userId:Ee,notificationType:"task-mention",title:"You were mentioned in a task",message:`${ee.name||"Someone"} mentioned you in task: "${A.title}"`,link:`/?tab=tasks&task=${A.id}`})}catch(Te){console.error("Failed to send mention notification:",Te)}O({...A,notes:ge}),y(Ee=>Ee.map(Te=>Te.id===A.id?{...Te,notes:ge}:Te)),Q(""),E(""),V(null),Me.current&&(Me.current.value=""),s("Note added successfully")}catch(ee){n(ee.message||"Failed to add note")}finally{G(!1)}}},Wt=()=>{if(l==="daily")return a.jsxs("div",{className:"p-8 pt-12 pb-12 relative min-h-[2000px] bg-white",children:[ut.map(ee=>{const me=ee*80+20;return a.jsxs("div",{className:"absolute left-0 right-0 group",style:{top:`${me}px`},children:[a.jsx("span",{className:"absolute left-4 top-0 -translate-y-1/2 text-[10px] font-black text-slate-300 w-16 text-right pr-6 uppercase tracking-widest",children:ee===0?"12 AM":ee===12?"12 PM":ee>12?`${ee-12} PM`:`${ee} AM`}),a.jsx("div",{className:"absolute left-24 top-0 -translate-x-1/2 w-1.5 h-1.5 rounded-full bg-slate-100 group-hover:bg-indigo-200 transition-colors"}),a.jsx("div",{className:"absolute left-24 top-0 right-8 h-px bg-slate-50"})]},ee)}),Xe&&u.map(ee=>{const me=Ut(ee);return a.jsxs("div",{className:"absolute left-28 right-8 p-4 rounded-3xl border shadow-sm transition-all hover:scale-[1.01] hover:shadow-xl group overflow-hidden bg-indigo-50 border-indigo-100",style:{top:`${me.top}px`,height:`${me.height}px`},children:[a.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-indigo-500/20 group-hover:w-2 transition-all"}),a.jsxs("div",{className:"flex justify-between items-start gap-4",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"font-black text-sm truncate text-indigo-900",children:ee.title}),a.jsx("div",{className:"flex flex-wrap items-center gap-4 mt-2",children:a.jsxs("span",{className:"flex items-center gap-1.5 text-[9px] font-black text-slate-400 uppercase tracking-widest",children:[a.jsx(ws,{className:"w-3 h-3 text-indigo-400"})," ",qe(ee.start)," - ",qe(ee.end)]})})]}),ee.htmlLink&&a.jsx("a",{href:ee.htmlLink,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-white rounded-xl border border-slate-100 shadow-sm text-slate-400 hover:text-indigo-600 transition-all active:scale-95",children:a.jsx(vi,{className:"w-3.5 h-3.5"})})]})]},ee.id)}),!k&&(Xe&&u.length===0||!Xe&&(!ht||h.length===0))&&a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center opacity-40",children:[a.jsx(Ha,{className:"w-16 h-16 text-slate-200 mb-4"}),a.jsx("p",{className:"text-slate-400 font-black uppercase text-[10px] tracking-[0.2em]",children:"No schedule entries for this day"})]})]});if(l==="weekly"){const ee=zt(i),me=new Date;return me.setHours(0,0,0,0),a.jsxs("div",{className:"p-6 bg-white",children:[a.jsx("div",{className:"grid grid-cols-7 gap-2 mb-4",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map((ge,Se)=>a.jsx("div",{className:"text-center py-2",children:a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:ge})},ge))}),a.jsx("div",{className:"grid grid-cols-7 gap-2",children:ee.map((ge,Se)=>{const Ee=Tr(ge),Te=ht?pr(Ee):[],Ge=Xe?Jt(ge):[];let dt=[],Ve=[];ht&&Xe?Te.length>0&&Ge.length>0?(dt=Te.slice(0,1),Ve=Ge.slice(0,1)):Te.length>0?dt=Te.slice(0,2):Ge.length>0&&(Ve=Ge.slice(0,2)):ht?dt=Te.slice(0,2):Xe&&(Ve=Ge.slice(0,2));const Qe=[...Te,...Ge],ze=ge.toDateString()===me.toDateString(),Ie=ge.getMonth()===i.getMonth();return a.jsxs("div",{onClick:()=>{o(new Date(ge)),c("daily")},className:`min-h-[120px] p-2 rounded-xl border-2 transition-all cursor-pointer ${ze?"bg-indigo-50 border-indigo-300":Ie?"bg-white border-slate-100 hover:border-slate-200":"bg-slate-50 border-slate-50"}`,children:[a.jsx("div",{className:`text-xs font-black mb-2 ${ze?"text-indigo-600":Ie?"text-slate-900":"text-slate-400"}`,children:ge.getDate()}),a.jsxs("div",{className:"space-y-1 max-h-[80px] overflow-y-auto",children:[ht&&dt.map(et=>a.jsx("div",{onClick:gt=>{gt.stopPropagation(),O(et)},className:`p-1.5 rounded-lg text-[9px] font-bold cursor-pointer hover:opacity-80 transition-all truncate ${et.priority==="High"?"bg-red-100 text-red-700":et.priority==="Medium"?"bg-amber-100 text-amber-700":"bg-blue-100 text-blue-700"}`,title:et.title,children:et.title},et.id)),Xe&&Ve.map(et=>a.jsx("div",{onClick:gt=>{gt.stopPropagation(),et.htmlLink&&window.open(et.htmlLink,"_blank")},className:"p-1.5 rounded-lg text-[9px] font-bold cursor-pointer hover:opacity-80 transition-all truncate bg-indigo-100 text-indigo-700",title:et.title,children:et.title},et.id)),dt.length+Ve.length<Qe.length&&a.jsxs("div",{className:"text-[9px] text-slate-400 font-bold px-1.5",children:["+",Qe.length-(dt.length+Ve.length)," more"]})]})]},Se)})})]})}if(l==="monthly"){const ee=_r(i),me=new Date;me.setHours(0,0,0,0);const ge=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return a.jsxs("div",{className:"p-6 bg-white",children:[a.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:ge.map(Se=>a.jsx("div",{className:"text-center py-2",children:a.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:Se})},Se))}),a.jsx("div",{className:"grid grid-cols-7 gap-1",children:ee.map((Se,Ee)=>{const Te=Tr(Se),Ge=ht?pr(Te):[],dt=Xe?Jt(Se):[];let Ve=[],Qe=[];ht&&Xe?Ge.length>0&&dt.length>0?(Ve=Ge.slice(0,1),Qe=dt.slice(0,1)):Ge.length>0?Ve=Ge.slice(0,1):dt.length>0&&(Qe=dt.slice(0,1)):ht?Ve=Ge.slice(0,1):Xe&&(Qe=dt.slice(0,1));const ze=[...Ge,...dt],Ie=Se.toDateString()===me.toDateString(),et=Se.getMonth()===i.getMonth();return a.jsxs("div",{onClick:()=>{o(new Date(Se)),c("daily")},className:`min-h-[100px] p-1.5 rounded-lg border transition-all cursor-pointer ${Ie?"bg-indigo-50 border-indigo-300":et?"bg-white border-slate-100 hover:border-slate-200":"bg-slate-50 border-slate-50"}`,children:[a.jsx("div",{className:`text-[10px] font-black mb-1 ${Ie?"text-indigo-600":et?"text-slate-900":"text-slate-400"}`,children:Se.getDate()}),a.jsxs("div",{className:"space-y-0.5 max-h-[70px] overflow-y-auto",children:[ht&&Ve.map(gt=>a.jsx("div",{onClick:Lt=>{Lt.stopPropagation(),O(gt)},className:`p-1 rounded text-[8px] font-bold cursor-pointer hover:opacity-80 transition-all truncate ${gt.priority==="High"?"bg-red-100 text-red-700":gt.priority==="Medium"?"bg-amber-100 text-amber-700":"bg-blue-100 text-blue-700"}`,title:gt.title,children:gt.title},gt.id)),Xe&&Qe.map(gt=>a.jsx("div",{onClick:Lt=>{Lt.stopPropagation(),gt.htmlLink&&window.open(gt.htmlLink,"_blank")},className:"p-1 rounded text-[8px] font-bold cursor-pointer hover:opacity-80 transition-all truncate bg-indigo-100 text-indigo-700",title:gt.title,children:gt.title},gt.id)),Ve.length+Qe.length<ze.length&&a.jsxs("div",{className:"text-[8px] text-slate-400 font-bold px-1",children:["+",ze.length-(Ve.length+Qe.length)]})]})]},Ee)})})]})}};return a.jsxs("div",{className:"h-full flex flex-col gap-6 animate-in fade-in slide-in-from-bottom-4 duration-500 pb-10",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Schedule"}),a.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[l==="monthly"?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>{const ee=new Date(i);ee.setMonth(ee.getMonth()-1),o(ee)},className:"p-1.5 hover:bg-slate-100 rounded-lg text-slate-400 hover:text-slate-600 transition-colors",title:"Previous month",children:a.jsx(wj,{className:"w-4 h-4"})}),a.jsx("p",{className:"text-slate-500 text-sm font-medium min-w-[140px] text-center",children:i.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),a.jsx("button",{onClick:()=>{const ee=new Date(i);ee.setMonth(ee.getMonth()+1),o(ee)},className:"p-1.5 hover:bg-slate-100 rounded-lg text-slate-400 hover:text-slate-600 transition-colors",title:"Next month",children:a.jsx(bs,{className:"w-4 h-4"})})]}):l==="weekly"?a.jsx("p",{className:"text-slate-500 text-sm font-medium",children:(()=>{const ee=zt(i),me=ee[0],ge=ee[6];return`${me.toLocaleDateString("en-US",{month:"short",day:"numeric"})} - ${ge.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`})()}):a.jsx("p",{className:"text-slate-500 text-sm font-medium",children:i.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})}),a.jsx("span",{className:"text-slate-300",children:""}),a.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 bg-indigo-50 border border-indigo-100 rounded-lg",children:[a.jsx(ws,{className:"w-3 h-3 text-indigo-600"}),a.jsx("span",{className:"text-[10px] font-bold text-indigo-600 tracking-wide",children:ot})]})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 bg-white px-3 py-2 rounded-xl border border-slate-200 shadow-sm",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"checkbox",checked:Xe,onChange:ee=>Je(ee.target.checked),className:"sr-only"}),a.jsx("div",{className:`w-5 h-5 rounded border-2 transition-all flex items-center justify-center ${Xe?"bg-indigo-600 border-indigo-600":"bg-white border-slate-300 group-hover:border-indigo-400"}`,children:Xe&&a.jsx(cd,{className:"w-3 h-3 text-white"})})]}),a.jsx("span",{className:"text-[10px] font-bold text-slate-700 uppercase tracking-wider",children:"Events"})]}),a.jsx("div",{className:"w-px h-4 bg-slate-200"}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"checkbox",checked:ht,onChange:ee=>Ue(ee.target.checked),className:"sr-only"}),a.jsx("div",{className:`w-5 h-5 rounded border-2 transition-all flex items-center justify-center ${ht?"bg-indigo-600 border-indigo-600":"bg-white border-slate-300 group-hover:border-indigo-400"}`,children:ht&&a.jsx(cd,{className:"w-3 h-3 text-white"})})]}),a.jsx("span",{className:"text-[10px] font-bold text-slate-700 uppercase tracking-wider",children:"Tasks"})]})]}),a.jsx("div",{className:"flex bg-white p-1 rounded-xl border border-slate-200 shadow-sm",children:["daily","weekly","monthly"].map(ee=>a.jsx("button",{onClick:()=>c(ee),className:`px-4 py-1.5 text-[10px] font-black uppercase tracking-widest rounded-lg transition-all ${l===ee?"bg-indigo-600 text-white shadow-md":"text-slate-400 hover:text-slate-600"}`,children:ee},ee))}),a.jsxs("div",{className:"flex items-center gap-2 bg-white p-1 rounded-2xl border border-slate-200 shadow-sm",children:[a.jsx("button",{onClick:er,className:"p-2 hover:bg-slate-50 rounded-xl text-slate-400 hover:text-slate-600 transition-colors",children:a.jsx(wj,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>o(new Date),className:`px-4 py-1.5 font-bold text-[10px] uppercase tracking-widest rounded-xl transition-all ${Ht()?"bg-indigo-50 text-indigo-700":"text-slate-500 hover:text-slate-700 hover:bg-slate-50"}`,children:"Today"}),a.jsx("button",{onClick:xt,className:"p-2 hover:bg-slate-50 rounded-xl text-slate-400 hover:text-slate-600 transition-colors",children:a.jsx(bs,{className:"w-5 h-5"})})]}),a.jsxs("button",{onClick:r,className:"px-5 py-2.5 bg-indigo-600 text-white rounded-xl text-sm font-black shadow-lg shadow-indigo-100 hover:bg-indigo-700 transition-all flex items-center gap-2",children:[a.jsx(_n,{className:"w-4 h-4"}),"New Entry"]})]})]}),a.jsxs("div",{className:"flex-1 grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 bg-white rounded-[32px] border border-slate-200 shadow-sm overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 bg-slate-50/50 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Schedule"}),a.jsx("span",{className:"text-slate-300",children:""}),a.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 bg-slate-100 rounded-lg",children:[a.jsx(ws,{className:"w-3 h-3 text-slate-500"}),a.jsx("span",{className:"text-[9px] font-bold text-slate-500 tracking-wide",children:ot})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[k&&a.jsx(Et,{className:"w-3 h-3 animate-spin text-indigo-600"}),a.jsx("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-wider ${j?"bg-emerald-50 text-emerald-600 border border-emerald-100":"bg-slate-100 text-slate-400"}`,children:j?"Google Workspace Connected":"Google Disconnected"})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto relative bg-white",children:[l==="daily"&&ht&&h.length>0&&a.jsxs("div",{className:"px-6 py-6 bg-slate-50/50 border-b border-slate-100 space-y-3",children:[a.jsxs("h4",{className:"text-[10px] font-black text-indigo-400 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Cn,{className:"w-3 h-3"})," Today's Deliverables"]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:h.map(ee=>a.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-slate-200 shadow-sm group hover:border-indigo-200 transition-all flex items-start gap-3",children:[a.jsx("div",{className:"mt-1",children:ee.status==="Done"?a.jsx(Cn,{className:"w-4 h-4 text-emerald-500"}):a.jsx(ad,{className:"w-4 h-4 text-slate-300 group-hover:text-indigo-400"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:`text-xs font-bold truncate ${ee.status==="Done"?"line-through text-slate-400":"text-slate-900"}`,children:ee.title}),a.jsx("div",{className:"flex items-center gap-2 mt-1",children:a.jsx("span",{className:`text-[8px] font-black px-1.5 py-0.5 rounded border uppercase ${jt(ee.priority)}`,children:ee.priority})})]})]},ee.id))})]}),Wt()]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-slate-900 rounded-[32px] p-8 text-white shadow-2xl relative overflow-hidden group",children:[a.jsxs("div",{className:"relative z-10",children:[a.jsx(xi,{className:"w-8 h-8 text-indigo-400 mb-6"}),a.jsx("h3",{className:"text-2xl font-black mb-2 leading-tight",children:"Unified Workspace"}),a.jsx("p",{className:"text-slate-400 text-sm leading-relaxed mb-8 opacity-80",children:"Synchronize your calendar, billing, and accounting software in one central hub."}),a.jsx("button",{onClick:()=>t("integrations"),className:"w-full py-4 bg-indigo-600 text-white font-black uppercase text-xs tracking-widest rounded-2xl hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-900 flex items-center justify-center gap-3",children:"Go to Integrations"})]}),a.jsx("div",{className:"absolute -right-8 -bottom-8 w-48 h-48 bg-indigo-500/10 rounded-full blur-3xl group-hover:bg-indigo-500/20 transition-all pointer-events-none"})]}),a.jsxs("div",{className:"bg-white rounded-[32px] border border-slate-200 p-8 shadow-sm flex flex-col items-center justify-center text-center space-y-4",children:[a.jsx("div",{className:"w-12 h-12 bg-slate-50 rounded-full flex items-center justify-center text-slate-300",children:a.jsx(Wf,{className:"w-6 h-6"})}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs font-bold text-slate-900 uppercase tracking-widest",children:"Workspace Statistics"}),a.jsx("p",{className:"text-[10px] text-slate-400 font-medium leading-relaxed",children:"No data collected for current period. Stats will populate as you add tasks and events."})]})]})]})]}),A&&a.jsxs("div",{className:"fixed inset-0 z-[110] overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md pointer-events-auto animate-in fade-in duration-300",onClick:Ar}),a.jsxs("div",{className:"absolute right-0 inset-y-0 w-full max-w-xl bg-white shadow-2xl pointer-events-auto animate-in slide-in-from-right duration-500 flex flex-col",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 bg-slate-50/50 relative",children:[a.jsx("button",{onClick:Ar,className:"absolute top-6 right-6 p-2 hover:bg-white rounded-full text-slate-400 transition-all shadow-sm z-10",children:a.jsx(mr,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex items-center gap-5 mb-6",children:[a.jsx("div",{className:"w-16 h-16 rounded-[24px] flex items-center justify-center text-white shadow-xl bg-indigo-500 shadow-indigo-100",children:a.jsx(Cn,{className:"w-8 h-8"})}),a.jsxs("div",{className:"flex-1",children:[D?a.jsx("input",{type:"text",value:I.title,onChange:ee=>B(me=>({...me,title:ee.target.value})),className:"w-full px-4 py-2 bg-white border-2 border-indigo-200 rounded-xl text-xl font-black text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100",placeholder:"Task title"}):a.jsx("h2",{className:"text-2xl font-black text-slate-900 tracking-tight leading-tight",children:A.title}),a.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[a.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border ${A.status==="Done"?"bg-emerald-50 text-emerald-600 border-emerald-100":A.status==="In Progress"?"bg-blue-50 text-blue-600 border-blue-100":A.status==="Review"?"bg-amber-50 text-amber-600 border-amber-100":"bg-slate-50 text-slate-600 border-slate-100"}`,children:A.status}),a.jsxs("span",{className:"text-slate-400 text-xs font-bold",children:[" Task ID: #",A.id.substring(0,8)]})]})]})]}),a.jsx("div",{className:"flex items-center gap-2",children:D?a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>{R(!1),B({title:A.title,category:A.category||"",description:A.description||"",dueDate:A.dueDate||"",priority:A.priority||"Medium",status:A.status||"Todo",assigneeId:A.assigneeId,projectId:A.projectId||""})},disabled:C,className:"px-4 py-2 border border-slate-200 text-slate-400 font-bold text-xs uppercase tracking-widest rounded-xl hover:bg-slate-50 transition-all disabled:opacity-50",children:"Cancel"}),a.jsx("button",{onClick:Gr,disabled:C||!I.title.trim()||!I.assigneeId,className:"px-4 py-2 bg-indigo-600 text-white font-bold text-xs uppercase tracking-widest rounded-xl hover:bg-indigo-700 transition-all shadow-lg flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:C?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(wi,{className:"w-4 h-4"}),"Save Changes"]})})]}):a.jsxs("button",{onClick:()=>R(!0),className:"px-4 py-2 bg-indigo-600 text-white font-bold text-xs uppercase tracking-widest rounded-xl hover:bg-indigo-700 transition-all shadow-lg flex items-center gap-2",children:[a.jsx(ec,{className:"w-4 h-4"}),"Edit Task"]})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-8 space-y-8 custom-scrollbar",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"p-6 bg-slate-50 rounded-[24px] border border-slate-100",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Assignee"}),D?a.jsxs("select",{value:I.assigneeId,onChange:ee=>B(me=>({...me,assigneeId:ee.target.value})),className:"w-full px-4 py-2 bg-white border-2 border-indigo-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100 mt-2",children:[a.jsx("option",{value:"",children:"Select Assignee"}),b.map(ee=>a.jsx("option",{value:ee.id,children:ee.name},ee.id))]}):a.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[a.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-xl flex items-center justify-center text-indigo-600 font-black text-sm",children:b.find(ee=>ee.id===A.assigneeId)?.name?.charAt(0)||"U"}),a.jsx("p",{className:"text-sm font-bold text-slate-900",children:b.find(ee=>ee.id===A.assigneeId)?.name||"Unassigned"})]})]}),a.jsxs("div",{className:"p-6 bg-slate-50 rounded-[24px] border border-slate-100",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Linked Project"}),D?a.jsxs("select",{value:I.projectId,onChange:ee=>B(me=>({...me,projectId:ee.target.value})),className:"w-full px-4 py-2 bg-white border-2 border-indigo-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100 mt-2",children:[a.jsx("option",{value:"",children:"None"}),v.filter(ee=>!ee.archived).map(ee=>a.jsx("option",{value:ee.id,children:ee.title},ee.id))]}):a.jsx("p",{className:"text-sm font-bold text-slate-900 mt-2",children:A.projectId?v.find(ee=>ee.id===A.projectId)?.title||"Unknown Project":"None"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Xa,{className:"w-4 h-4 text-indigo-500"})," Description"]}),D?a.jsx("textarea",{rows:6,value:I.description,onChange:ee=>B(me=>({...me,description:ee.target.value})),className:"w-full px-4 py-3 bg-white border-2 border-indigo-200 rounded-xl text-sm font-medium text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100 resize-none",placeholder:"Add task description..."}):a.jsxs("div",{className:"p-6 bg-slate-950 rounded-[32px] text-indigo-50 relative overflow-hidden shadow-2xl",children:[a.jsx("p",{className:"text-sm leading-relaxed italic opacity-90 z-10 relative",children:A.description||"No description provided."}),a.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-indigo-500/10 blur-[100px] rounded-full translate-x-1/2 -translate-y-1/2"})]})]}),a.jsxs("div",{className:"p-6 bg-slate-50 rounded-[24px] border border-slate-100",children:[a.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1 flex items-center gap-1.5",children:[a.jsx(vs,{className:"w-3.5 h-3.5"})," Task Category"]}),D?a.jsxs("div",{className:"space-y-2 mt-2",children:[a.jsxs("select",{value:Z?"__new__":I.category||"",onChange:ee=>{const me=ee.target.value;me==="__new__"?(te(!0),B(ge=>({...ge,category:""}))):(te(!1),B(ge=>({...ge,category:me})))},className:"w-full px-4 py-2 bg-white border-2 border-indigo-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100 appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%22%3E%3Cpath%20stroke%3D%226b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22m6%208%204%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:16px_16px] bg-[right_12px_center] bg-no-repeat",children:[a.jsx("option",{value:"",children:"None"}),X.map(ee=>a.jsx("option",{value:ee,children:ee},ee)),a.jsx("option",{value:"__new__",children:"+ Create new category..."})]}),Z&&a.jsx("input",{type:"text",value:I.category,onChange:ee=>B(me=>({...me,category:ee.target.value.trim()})),placeholder:"Enter new category name",className:"w-full px-4 py-2 bg-white border-2 border-indigo-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100"})]}):a.jsx("div",{className:"flex items-center gap-2 mt-2",children:A.category?a.jsxs(a.Fragment,{children:[a.jsx(vs,{className:"w-4 h-4 text-indigo-600"}),a.jsx("p",{className:"text-sm font-bold text-indigo-700",children:A.category})]}):a.jsx("p",{className:"text-sm text-slate-400",children:"No category"})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"p-6 bg-slate-50 rounded-[24px] border border-slate-100",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Due Date"}),D?a.jsx("input",{type:"date",value:I.dueDate,onChange:ee=>B(me=>({...me,dueDate:ee.target.value})),className:"w-full px-4 py-2 bg-white border-2 border-indigo-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100 mt-2"}):a.jsx("p",{className:"text-sm font-bold text-slate-900 mt-2",children:A.dueDate?Lr(A.dueDate):"Ongoing"})]}),a.jsxs("div",{className:"p-6 bg-slate-50 rounded-[24px] border border-slate-100",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Priority"}),D?a.jsx("div",{className:"flex gap-2 mt-2",children:["Low","Medium","High"].map(ee=>a.jsx("button",{onClick:()=>B(me=>({...me,priority:ee})),className:`flex-1 px-3 py-2 rounded-xl text-xs font-black uppercase transition-all ${I.priority===ee?"bg-indigo-600 text-white shadow-lg":"bg-white text-slate-400 border border-slate-200 hover:border-indigo-300"}`,children:ee},ee))}):a.jsx("div",{className:`inline-block px-3 py-1 rounded-full text-xs font-black uppercase mt-2 ${A.priority==="High"?"bg-red-50 text-red-600":A.priority==="Medium"?"bg-amber-50 text-amber-600":"bg-slate-50 text-slate-600"}`,children:A.priority})]})]}),a.jsxs("div",{className:"p-6 bg-slate-50 rounded-[24px] border border-slate-100",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Status"}),D?a.jsxs("select",{value:I.status,onChange:ee=>B(me=>({...me,status:ee.target.value})),className:"w-full px-4 py-2 bg-white border-2 border-indigo-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100 mt-2",children:[a.jsx("option",{value:"Todo",children:"Todo"}),a.jsx("option",{value:"In Progress",children:"In Progress"}),a.jsx("option",{value:"Review",children:"Review"}),a.jsx("option",{value:"Done",children:"Done"})]}):a.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[A.status==="Done"?a.jsx(Cn,{className:"w-5 h-5 text-emerald-500"}):A.status==="In Progress"?a.jsx(ws,{className:"w-5 h-5 text-blue-500 animate-pulse"}):a.jsx(ad,{className:"w-5 h-5 text-slate-400"}),a.jsx("p",{className:"text-sm font-bold text-slate-900 capitalize",children:A.status})]})]}),a.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-200",children:[a.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(oo,{className:"w-4 h-4 text-indigo-500"}),"Notes & Comments",A.notes&&A.notes.length>0&&a.jsx("span",{className:"ml-1 px-2 py-0.5 bg-indigo-100 text-indigo-600 rounded-full text-[10px]",children:A.notes.length})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx("textarea",{ref:at,rows:3,value:Y,onChange:vr,onBlur:()=>{setTimeout(()=>se(!1),200)},className:"w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-sm font-medium text-slate-900 outline-none focus:ring-2 focus:ring-indigo-200 focus:border-indigo-300 resize-none",placeholder:"Add a note or comment... (Use @ to mention users)"}),Le&&ke.length>0&&a.jsx("div",{className:"absolute bottom-full mb-2 left-0 w-full max-w-sm bg-white border-2 border-indigo-200 rounded-xl shadow-2xl z-50 max-h-48 overflow-y-auto",children:a.jsxs("div",{className:"p-2",children:[a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 text-xs font-bold text-slate-400 uppercase tracking-wider",children:[a.jsx(Km,{className:"w-3 h-3"}),"Mention User"]}),ke.map(ee=>a.jsxs("button",{onClick:()=>Xn(ee),className:"w-full flex items-center gap-3 px-3 py-2 hover:bg-indigo-50 rounded-lg transition-all text-left",children:[a.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center text-indigo-600 font-bold text-xs",children:ee.name.charAt(0)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-bold text-slate-900 truncate",children:ee.name}),a.jsx("p",{className:"text-xs text-slate-400 truncate",children:ee.email})]})]},ee.id))]})})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("label",{className:"flex-1 cursor-pointer group",children:[a.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 bg-slate-50 border-2 border-dashed border-slate-200 rounded-xl hover:border-indigo-300 hover:bg-indigo-50/30 transition-all",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-indigo-100 flex items-center justify-center text-indigo-600 group-hover:bg-indigo-200 transition-all",children:H?a.jsx(tl,{className:"w-4 h-4"}):a.jsx(Ou,{className:"w-4 h-4"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-xs font-bold text-slate-900",children:H?q?.name||"Image selected":"Attach Image"}),a.jsx("p",{className:"text-[10px] text-slate-400",children:"PNG, JPG (Max 10MB)"})]})]}),a.jsx("input",{ref:Me,type:"file",accept:"image/*",onChange:Ln,className:"hidden"})]}),a.jsx("button",{onClick:bt,disabled:U||!Y.trim()&&!q,className:"px-6 py-3 bg-indigo-600 text-white font-bold text-xs uppercase tracking-widest rounded-xl hover:bg-indigo-700 transition-all shadow-lg flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed shrink-0",children:U?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Sending..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Nu,{className:"w-4 h-4"}),"Send"]})})]}),H&&a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:H,alt:"Note attachment preview",className:"w-full max-h-48 object-contain rounded-lg border-2 border-slate-200"}),a.jsx("button",{onClick:()=>{E(""),V(null),Me.current&&(Me.current.value="")},className:"absolute top-2 right-2 p-1.5 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-all shadow-lg",children:a.jsx(mr,{className:"w-4 h-4"})})]})]}),a.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto custom-scrollbar",children:A.notes&&A.notes.length>0?[...A.notes].reverse().map(ee=>{const me=e?.role==="Admin"||ee.userId===e?.id;return a.jsxs("div",{className:"p-4 bg-white border border-slate-200 rounded-xl space-y-2",children:[a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center text-indigo-600 font-black text-xs",children:ee.userName?.charAt(0)||"U"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-bold text-slate-900",children:ee.userName}),a.jsx("p",{className:"text-[10px] text-slate-400",children:new Date(ee.createdAt).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})})]})]}),me&&a.jsx("button",{onClick:()=>he(ee.id),disabled:ne===ee.id,className:"p-2 hover:bg-red-50 rounded-lg transition-colors group disabled:opacity-50",title:"Delete note",children:ne===ee.id?a.jsx(Et,{className:"w-4 h-4 text-red-600 animate-spin"}):a.jsx($r,{className:"w-4 h-4 text-slate-400 group-hover:text-red-600 transition-colors"})})]}),ee.text&&a.jsx("p",{className:"text-sm text-slate-700 leading-relaxed pl-10",children:Ke(ee.text)}),ee.imageUrl&&a.jsx("div",{className:"pl-10",children:a.jsx("img",{src:ee.imageUrl,alt:ee.imageName||"Note attachment",className:"max-w-full max-h-64 object-contain rounded-lg border border-slate-200 cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>{const ge=window.open();ge&&ge.document.write(`<img src="${ee.imageUrl}" style="max-width:100%;height:auto;" />`)}})})]},ee.id)}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(oo,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),a.jsx("p",{className:"text-sm text-slate-400 font-medium",children:"No notes yet"}),a.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Add your first note above"})]})})]}),a.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-200",children:[a.jsxs("button",{onClick:()=>pe(!Pe),className:"w-full flex items-center justify-between group",children:[a.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2 group-hover:text-indigo-600 transition-colors",children:[a.jsx(qd,{className:"w-4 h-4 text-indigo-500"}),"Activity Log"]}),a.jsx(bs,{className:`w-4 h-4 text-slate-400 transition-transform ${Pe?"rotate-90":""}`})]}),Pe&&a.jsxs("div",{className:"space-y-2 pl-6 border-l-2 border-indigo-100",children:[a.jsxs("div",{className:"flex items-start gap-3 pb-3",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-400 mt-1.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-xs font-bold text-slate-900",children:"Task created"}),a.jsx("p",{className:"text-[10px] text-slate-400 mt-0.5",children:A.createdAt?new Date(A.createdAt).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):"Unknown"})]})]}),A.updatedAt&&A.updatedAt!==A.createdAt&&a.jsxs("div",{className:"flex items-start gap-3 pb-3",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-1.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-xs font-bold text-slate-900",children:"Task updated"}),a.jsx("p",{className:"text-[10px] text-slate-400 mt-0.5",children:new Date(A.updatedAt).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})})]})]}),A.notes&&A.notes.map((ee,me)=>a.jsxs("div",{className:"flex items-start gap-3 pb-3",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-400 mt-1.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"text-xs font-bold text-slate-900",children:[ee.userName," added a comment"]}),a.jsx("p",{className:"text-[10px] text-slate-400 mt-0.5",children:new Date(ee.createdAt).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})})]})]},ee.id)),(!A.notes||A.notes.length===0)&&(!A.updatedAt||A.updatedAt===A.createdAt)&&a.jsx("p",{className:"text-xs text-slate-400 italic",children:"No recent activity"})]})]})]})}),a.jsxs("div",{className:"p-8 border-t border-slate-100 bg-white flex gap-4 shrink-0",children:[a.jsx("button",{onClick:()=>{De(A),Ar()},className:"px-6 py-4 border border-red-200 bg-white text-red-600 hover:bg-red-50 rounded-[24px] transition-all group shrink-0 active:scale-95",children:a.jsx($r,{className:"w-6 h-6 group-hover:scale-110 transition-transform"})}),a.jsxs("button",{onClick:Ar,className:"flex-1 py-4 bg-slate-900 text-white font-black uppercase text-xs tracking-[0.2em] rounded-[24px] hover:bg-indigo-700 active:scale-95 transition-all shadow-2xl flex items-center justify-center gap-3",children:[a.jsx(Cn,{className:"w-5 h-5"})," Close"]})]})]})]}),fe&&a.jsx("div",{className:"fixed inset-0 z-[130] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-[32px] w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center bg-red-50 text-red-600",children:a.jsx($r,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-slate-900",children:"Delete Task?"}),a.jsx("p",{className:"text-xs text-slate-400 font-medium mt-1",children:"This action cannot be undone. The task will be permanently removed."})]})]}),a.jsx("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-200",children:a.jsx("p",{className:"text-xs font-bold text-slate-900",children:fe.title})})]}),a.jsxs("div",{className:"p-6 flex gap-3",children:[a.jsx("button",{onClick:()=>De(null),className:"flex-1 py-3 border border-slate-200 text-slate-400 font-black uppercase text-xs tracking-widest rounded-xl hover:bg-slate-50 transition-all",children:"Cancel"}),a.jsx("button",{onClick:async()=>{if(fe)try{await $4(fe.id),y(ee=>ee.filter(me=>me.id!==fe.id)),m(ee=>ee.filter(me=>me.id!==fe.id)),De(null),O(null),s("Task deleted successfully")}catch(ee){n(ee.message||"Failed to delete task")}},className:"flex-1 py-3 bg-red-600 text-white font-black uppercase text-xs tracking-widest rounded-xl hover:bg-red-700 transition-all shadow-lg",children:"Delete Task"})]})]})})]})},Gge=()=>{const{showSuccess:e}=Ms(),[t,r]=z.useState(null),[n,s]=z.useState([]),i=l=>{r(l),setTimeout(()=>{s(c=>[...c,l]),r(null),e(`${l.charAt(0).toUpperCase()+l.slice(1)} connected successfully!`)},1500)},o=[{id:"google",name:"Google Workspace",description:"Sync your Gmail, Calendar, and Drive to streamline communication and scheduling.",icon:a.jsx(li,{className:"w-8 h-8 text-blue-500"}),color:"bg-blue-50",status:"Communication & Scheduling",isComingSoon:!0},{id:"stripe",name:"Stripe",description:"Automate invoice payments and financial reporting with the world's leading payment platform.",icon:a.jsx(Z8,{className:"w-8 h-8 text-indigo-500"}),color:"bg-indigo-50",status:"Payment Processing",isComingSoon:!0},{id:"zoho",name:"Zoho Books",description:"Bi-directional sync of contacts, invoices, and accounting data with your Zoho workspace.",icon:a.jsx(F0,{className:"w-8 h-8 text-emerald-500"}),color:"bg-emerald-50",status:"Accounting & Finance",isComingSoon:!0}];return a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Integrations"}),a.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Connect your favorite tools to the ImpactFlow OS ."})]}),a.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-emerald-50 text-emerald-700 rounded-xl text-xs font-black uppercase tracking-widest border border-emerald-100",children:[a.jsx(dy,{className:"w-4 h-4"})," Secure Enterprise Sync"]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:o.map(l=>{const c=n.includes(l.id),u=t===l.id;return a.jsxs("div",{className:"bg-white rounded-[32px] border border-slate-200 p-8 shadow-sm flex flex-col h-full hover:border-indigo-300 transition-all group relative overflow-hidden",children:[l.isComingSoon&&a.jsxs("div",{className:"absolute top-4 right-4 bg-indigo-100 text-indigo-700 text-[9px] font-black uppercase tracking-widest px-2.5 py-1 rounded-full border border-indigo-200 flex items-center gap-1.5 shadow-sm",children:[a.jsx(xi,{className:"w-3 h-3"})," Coming Soon"]}),a.jsxs("div",{className:"flex justify-between items-start mb-8",children:[a.jsx("div",{className:`w-16 h-16 ${l.color} rounded-[20px] flex items-center justify-center group-hover:scale-110 transition-transform`,children:l.icon}),c?a.jsxs("div",{className:"px-3 py-1 bg-emerald-50 text-emerald-600 rounded-full text-[10px] font-black uppercase tracking-tighter flex items-center gap-1.5",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full animate-pulse"})," Active"]}):a.jsx("div",{className:"px-3 py-1 bg-slate-50 text-slate-400 rounded-full text-[10px] font-black uppercase tracking-tighter",children:l.isComingSoon?"In Development":"Disconnected"})]}),a.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:l.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] mb-4",children:l.status}),a.jsx("p",{className:"text-sm text-slate-500 leading-relaxed flex-1 mb-8",children:l.description}),a.jsxs("div",{className:"pt-6 border-t border-slate-50 space-y-3",children:[a.jsx("button",{onClick:()=>!c&&!l.isComingSoon&&i(l.id),disabled:u||c||l.isComingSoon,className:`w-full py-4 rounded-2xl font-black text-xs uppercase tracking-widest transition-all flex items-center justify-center gap-2 ${c?"bg-slate-50 text-slate-400 cursor-default":l.isComingSoon?"bg-slate-50 text-slate-400 cursor-not-allowed opacity-60":"bg-indigo-600 text-white shadow-lg shadow-indigo-100 hover:bg-indigo-700 active:scale-[0.98]"}`,children:u?a.jsx(Et,{className:"w-4 h-4 animate-spin"}):c?a.jsxs(a.Fragment,{children:["Connected ",a.jsx(Cn,{className:"w-4 h-4"})]}):l.isComingSoon?a.jsx(a.Fragment,{children:"Development in Progress"}):a.jsxs(a.Fragment,{children:["Connect ",l.name," ",a.jsx(ao,{className:"w-4 h-4"})]})}),a.jsxs("button",{className:"w-full py-2.5 text-slate-400 hover:text-slate-600 text-[10px] font-black uppercase tracking-widest flex items-center justify-center gap-2",children:["View API Docs ",a.jsx(vi,{className:"w-3 h-3"})]})]})]},l.id)})}),a.jsxs("div",{className:"bg-slate-900 rounded-[40px] p-12 text-white relative overflow-hidden group shadow-2xl",children:[a.jsxs("div",{className:"relative z-10 max-w-2xl text-left",children:[a.jsx("div",{className:"w-12 h-12 bg-white/10 rounded-2xl flex items-center justify-center mb-8 backdrop-blur-md",children:a.jsx(Hv,{className:"w-6 h-6 text-indigo-400"})}),a.jsxs("h2",{className:"text-4xl font-black mb-4 tracking-tight leading-tight",children:["Request Custom ",a.jsx("br",{}),a.jsx("span",{className:"text-indigo-400",children:"Webhooks & API Sync"})]}),a.jsx("p",{className:"text-slate-400 text-lg leading-relaxed mb-10 opacity-80",children:"Need to connect your specialized logistics software or internal ERP? Our engineering team builds custom bridges for Impact Enterprise clients."}),a.jsx("button",{className:"px-10 py-5 bg-white text-slate-900 font-black uppercase text-xs tracking-widest rounded-2xl hover:bg-indigo-50 transition-all active:scale-95 shadow-xl",children:"Contact Integration Team"})]}),a.jsx("div",{className:"absolute right-0 top-0 w-1/2 h-full opacity-10 translate-x-1/4 pointer-events-none",children:a.jsx(Hv,{className:"w-full h-full text-indigo-600"})})]})]})};const{entries:b9,setPrototypeOf:F8,isFrozen:Kge,getPrototypeOf:Xge,getOwnPropertyDescriptor:Yge}=Object;let{freeze:il,seal:Mc,create:vk}=Object,{apply:yk,construct:bk}=typeof Reflect<"u"&&Reflect;il||(il=function(t){return t});Mc||(Mc=function(t){return t});yk||(yk=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i];return t.apply(r,s)});bk||(bk=function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];return new t(...n)});const kv=ol(Array.prototype.forEach),Jge=ol(Array.prototype.lastIndexOf),M8=ol(Array.prototype.pop),bm=ol(Array.prototype.push),Qge=ol(Array.prototype.splice),Rv=ol(String.prototype.toLowerCase),mj=ol(String.prototype.toString),xj=ol(String.prototype.match),wm=ol(String.prototype.replace),Zge=ol(String.prototype.indexOf),eve=ol(String.prototype.trim),yu=ol(Object.prototype.hasOwnProperty),Jo=ol(RegExp.prototype.test),Nm=tve(TypeError);function ol(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];return yk(e,t,n)}}function tve(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return bk(e,r)}}function In(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Rv;F8&&F8(e,null);let n=t.length;for(;n--;){let s=t[n];if(typeof s=="string"){const i=r(s);i!==s&&(Kge(t)||(t[n]=i),s=i)}e[s]=!0}return e}function rve(e){for(let t=0;t<e.length;t++)yu(e,t)||(e[t]=null);return e}function Yu(e){const t=vk(null);for(const[r,n]of b9(e))yu(e,r)&&(Array.isArray(n)?t[r]=rve(n):n&&typeof n=="object"&&n.constructor===Object?t[r]=Yu(n):t[r]=n);return t}function jm(e,t){for(;e!==null;){const n=Yge(e,t);if(n){if(n.get)return ol(n.get);if(typeof n.value=="function")return ol(n.value)}e=Xge(e)}function r(){return null}return r}const R8=il(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),gj=il(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),vj=il(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),nve=il(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),yj=il(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),ave=il(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),B8=il(["#text"]),U8=il(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),bj=il(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),q8=il(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Sv=il(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),sve=Mc(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ive=Mc(/<%[\w\W]*|[\w\W]*%>/gm),ove=Mc(/\$\{[\w\W]*/gm),lve=Mc(/^data-[\-\w.\u00B7-\uFFFF]+$/),cve=Mc(/^aria-[\-\w]+$/),w9=Mc(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),uve=Mc(/^(?:\w+script|data):/i),dve=Mc(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),N9=Mc(/^html$/i),fve=Mc(/^[a-z][.\w]*(-[.\w]+)+$/i);var $8=Object.freeze({__proto__:null,ARIA_ATTR:cve,ATTR_WHITESPACE:dve,CUSTOM_ELEMENT:fve,DATA_ATTR:lve,DOCTYPE_NAME:N9,ERB_EXPR:ive,IS_ALLOWED_URI:w9,IS_SCRIPT_OR_DATA:uve,MUSTACHE_EXPR:sve,TMPLIT_EXPR:ove});const km={element:1,text:3,progressingInstruction:7,comment:8,document:9},hve=function(){return typeof window>"u"?null:window},pve=function(t,r){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let n=null;const s="data-tt-policy-suffix";r&&r.hasAttribute(s)&&(n=r.getAttribute(s));const i="dompurify"+(n?"#"+n:"");try{return t.createPolicy(i,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}},z8=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function j9(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:hve();const t=ze=>j9(ze);if(t.version="3.3.1",t.removed=[],!e||!e.document||e.document.nodeType!==km.document||!e.Element)return t.isSupported=!1,t;let{document:r}=e;const n=r,s=n.currentScript,{DocumentFragment:i,HTMLTemplateElement:o,Node:l,Element:c,NodeFilter:u,NamedNodeMap:d=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:h,DOMParser:m,trustedTypes:p}=e,y=c.prototype,v=jm(y,"cloneNode"),g=jm(y,"remove"),b=jm(y,"nextSibling"),w=jm(y,"childNodes"),j=jm(y,"parentNode");if(typeof o=="function"){const ze=r.createElement("template");ze.content&&ze.content.ownerDocument&&(r=ze.content.ownerDocument)}let N,k="";const{implementation:P,createNodeIterator:A,createDocumentFragment:O,getElementsByTagName:D}=r,{importNode:R}=n;let C=z8();t.isSupported=typeof b9=="function"&&typeof j=="function"&&P&&P.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:T,ERB_EXPR:I,TMPLIT_EXPR:B,DATA_ATTR:X,ARIA_ATTR:re,IS_SCRIPT_OR_DATA:Z,ATTR_WHITESPACE:te,CUSTOM_ELEMENT:Y}=$8;let{IS_ALLOWED_URI:Q}=$8,H=null;const E=In({},[...R8,...gj,...vj,...yj,...B8]);let q=null;const V=In({},[...U8,...bj,...q8,...Sv]);let U=Object.seal(vk(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),G=null,ne=null;const de=Object.seal(vk(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let ce=!0,he=!0,Le=!1,se=!0,Fe=!1,_e=!0,oe=!1,ae=!1,ke=!1,we=!1,Pe=!1,pe=!1,fe=!0,De=!1;const Xe="user-content-";let Je=!0,ht=!1,Ue={},at=null;const Me=In({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ut=null;const ot=In({},["audio","video","img","source","image","track"]);let rt=null;const lr=In({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),er="http://www.w3.org/1998/Math/MathML",xt="http://www.w3.org/2000/svg",Ht="http://www.w3.org/1999/xhtml";let Ut=Ht,qe=!1,jt=null;const kr=In({},[er,xt,Ht],mj);let zt=In({},["mi","mo","mn","ms","mtext"]),_r=In({},["annotation-xml"]);const Tr=In({},["title","style","font","a","script"]);let pr=null;const Jt=["application/xhtml+xml","text/html"],Lr="text/html";let Ar=null,Gr=null;const Tn=r.createElement("form"),Ln=function(Ie){return Ie instanceof RegExp||Ie instanceof Function},vr=function(){let Ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Gr&&Gr===Ie)){if((!Ie||typeof Ie!="object")&&(Ie={}),Ie=Yu(Ie),pr=Jt.indexOf(Ie.PARSER_MEDIA_TYPE)===-1?Lr:Ie.PARSER_MEDIA_TYPE,Ar=pr==="application/xhtml+xml"?mj:Rv,H=yu(Ie,"ALLOWED_TAGS")?In({},Ie.ALLOWED_TAGS,Ar):E,q=yu(Ie,"ALLOWED_ATTR")?In({},Ie.ALLOWED_ATTR,Ar):V,jt=yu(Ie,"ALLOWED_NAMESPACES")?In({},Ie.ALLOWED_NAMESPACES,mj):kr,rt=yu(Ie,"ADD_URI_SAFE_ATTR")?In(Yu(lr),Ie.ADD_URI_SAFE_ATTR,Ar):lr,ut=yu(Ie,"ADD_DATA_URI_TAGS")?In(Yu(ot),Ie.ADD_DATA_URI_TAGS,Ar):ot,at=yu(Ie,"FORBID_CONTENTS")?In({},Ie.FORBID_CONTENTS,Ar):Me,G=yu(Ie,"FORBID_TAGS")?In({},Ie.FORBID_TAGS,Ar):Yu({}),ne=yu(Ie,"FORBID_ATTR")?In({},Ie.FORBID_ATTR,Ar):Yu({}),Ue=yu(Ie,"USE_PROFILES")?Ie.USE_PROFILES:!1,ce=Ie.ALLOW_ARIA_ATTR!==!1,he=Ie.ALLOW_DATA_ATTR!==!1,Le=Ie.ALLOW_UNKNOWN_PROTOCOLS||!1,se=Ie.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Fe=Ie.SAFE_FOR_TEMPLATES||!1,_e=Ie.SAFE_FOR_XML!==!1,oe=Ie.WHOLE_DOCUMENT||!1,we=Ie.RETURN_DOM||!1,Pe=Ie.RETURN_DOM_FRAGMENT||!1,pe=Ie.RETURN_TRUSTED_TYPE||!1,ke=Ie.FORCE_BODY||!1,fe=Ie.SANITIZE_DOM!==!1,De=Ie.SANITIZE_NAMED_PROPS||!1,Je=Ie.KEEP_CONTENT!==!1,ht=Ie.IN_PLACE||!1,Q=Ie.ALLOWED_URI_REGEXP||w9,Ut=Ie.NAMESPACE||Ht,zt=Ie.MATHML_TEXT_INTEGRATION_POINTS||zt,_r=Ie.HTML_INTEGRATION_POINTS||_r,U=Ie.CUSTOM_ELEMENT_HANDLING||{},Ie.CUSTOM_ELEMENT_HANDLING&&Ln(Ie.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(U.tagNameCheck=Ie.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Ie.CUSTOM_ELEMENT_HANDLING&&Ln(Ie.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(U.attributeNameCheck=Ie.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Ie.CUSTOM_ELEMENT_HANDLING&&typeof Ie.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(U.allowCustomizedBuiltInElements=Ie.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Fe&&(he=!1),Pe&&(we=!0),Ue&&(H=In({},B8),q=[],Ue.html===!0&&(In(H,R8),In(q,U8)),Ue.svg===!0&&(In(H,gj),In(q,bj),In(q,Sv)),Ue.svgFilters===!0&&(In(H,vj),In(q,bj),In(q,Sv)),Ue.mathMl===!0&&(In(H,yj),In(q,q8),In(q,Sv))),Ie.ADD_TAGS&&(typeof Ie.ADD_TAGS=="function"?de.tagCheck=Ie.ADD_TAGS:(H===E&&(H=Yu(H)),In(H,Ie.ADD_TAGS,Ar))),Ie.ADD_ATTR&&(typeof Ie.ADD_ATTR=="function"?de.attributeCheck=Ie.ADD_ATTR:(q===V&&(q=Yu(q)),In(q,Ie.ADD_ATTR,Ar))),Ie.ADD_URI_SAFE_ATTR&&In(rt,Ie.ADD_URI_SAFE_ATTR,Ar),Ie.FORBID_CONTENTS&&(at===Me&&(at=Yu(at)),In(at,Ie.FORBID_CONTENTS,Ar)),Ie.ADD_FORBID_CONTENTS&&(at===Me&&(at=Yu(at)),In(at,Ie.ADD_FORBID_CONTENTS,Ar)),Je&&(H["#text"]=!0),oe&&In(H,["html","head","body"]),H.table&&(In(H,["tbody"]),delete G.tbody),Ie.TRUSTED_TYPES_POLICY){if(typeof Ie.TRUSTED_TYPES_POLICY.createHTML!="function")throw Nm('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Ie.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Nm('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');N=Ie.TRUSTED_TYPES_POLICY,k=N.createHTML("")}else N===void 0&&(N=pve(p,s)),N!==null&&typeof k=="string"&&(k=N.createHTML(""));il&&il(Ie),Gr=Ie}},Xn=In({},[...gj,...vj,...nve]),vn=In({},[...yj,...ave]),Ke=function(Ie){let et=j(Ie);(!et||!et.tagName)&&(et={namespaceURI:Ut,tagName:"template"});const gt=Rv(Ie.tagName),Lt=Rv(et.tagName);return jt[Ie.namespaceURI]?Ie.namespaceURI===xt?et.namespaceURI===Ht?gt==="svg":et.namespaceURI===er?gt==="svg"&&(Lt==="annotation-xml"||zt[Lt]):!!Xn[gt]:Ie.namespaceURI===er?et.namespaceURI===Ht?gt==="math":et.namespaceURI===xt?gt==="math"&&_r[Lt]:!!vn[gt]:Ie.namespaceURI===Ht?et.namespaceURI===xt&&!_r[Lt]||et.namespaceURI===er&&!zt[Lt]?!1:!vn[gt]&&(Tr[gt]||!Xn[gt]):!!(pr==="application/xhtml+xml"&&jt[Ie.namespaceURI]):!1},bt=function(Ie){bm(t.removed,{element:Ie});try{j(Ie).removeChild(Ie)}catch{g(Ie)}},Wt=function(Ie,et){try{bm(t.removed,{attribute:et.getAttributeNode(Ie),from:et})}catch{bm(t.removed,{attribute:null,from:et})}if(et.removeAttribute(Ie),Ie==="is")if(we||Pe)try{bt(et)}catch{}else try{et.setAttribute(Ie,"")}catch{}},ee=function(Ie){let et=null,gt=null;if(ke)Ie="<remove></remove>"+Ie;else{const br=xj(Ie,/^[\r\n\t ]+/);gt=br&&br[0]}pr==="application/xhtml+xml"&&Ut===Ht&&(Ie='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Ie+"</body></html>");const Lt=N?N.createHTML(Ie):Ie;if(Ut===Ht)try{et=new m().parseFromString(Lt,pr)}catch{}if(!et||!et.documentElement){et=P.createDocument(Ut,"template",null);try{et.documentElement.innerHTML=qe?k:Lt}catch{}}const Bt=et.body||et.documentElement;return Ie&&gt&&Bt.insertBefore(r.createTextNode(gt),Bt.childNodes[0]||null),Ut===Ht?D.call(et,oe?"html":"body")[0]:oe?et.documentElement:Bt},me=function(Ie){return A.call(Ie.ownerDocument||Ie,Ie,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},ge=function(Ie){return Ie instanceof h&&(typeof Ie.nodeName!="string"||typeof Ie.textContent!="string"||typeof Ie.removeChild!="function"||!(Ie.attributes instanceof d)||typeof Ie.removeAttribute!="function"||typeof Ie.setAttribute!="function"||typeof Ie.namespaceURI!="string"||typeof Ie.insertBefore!="function"||typeof Ie.hasChildNodes!="function")},Se=function(Ie){return typeof l=="function"&&Ie instanceof l};function Ee(ze,Ie,et){kv(ze,gt=>{gt.call(t,Ie,et,Gr)})}const Te=function(Ie){let et=null;if(Ee(C.beforeSanitizeElements,Ie,null),ge(Ie))return bt(Ie),!0;const gt=Ar(Ie.nodeName);if(Ee(C.uponSanitizeElement,Ie,{tagName:gt,allowedTags:H}),_e&&Ie.hasChildNodes()&&!Se(Ie.firstElementChild)&&Jo(/<[/\w!]/g,Ie.innerHTML)&&Jo(/<[/\w!]/g,Ie.textContent)||Ie.nodeType===km.progressingInstruction||_e&&Ie.nodeType===km.comment&&Jo(/<[/\w]/g,Ie.data))return bt(Ie),!0;if(!(de.tagCheck instanceof Function&&de.tagCheck(gt))&&(!H[gt]||G[gt])){if(!G[gt]&&dt(gt)&&(U.tagNameCheck instanceof RegExp&&Jo(U.tagNameCheck,gt)||U.tagNameCheck instanceof Function&&U.tagNameCheck(gt)))return!1;if(Je&&!at[gt]){const Lt=j(Ie)||Ie.parentNode,Bt=w(Ie)||Ie.childNodes;if(Bt&&Lt){const br=Bt.length;for(let Dr=br-1;Dr>=0;--Dr){const Qr=v(Bt[Dr],!0);Qr.__removalCount=(Ie.__removalCount||0)+1,Lt.insertBefore(Qr,b(Ie))}}}return bt(Ie),!0}return Ie instanceof c&&!Ke(Ie)||(gt==="noscript"||gt==="noembed"||gt==="noframes")&&Jo(/<\/no(script|embed|frames)/i,Ie.innerHTML)?(bt(Ie),!0):(Fe&&Ie.nodeType===km.text&&(et=Ie.textContent,kv([T,I,B],Lt=>{et=wm(et,Lt," ")}),Ie.textContent!==et&&(bm(t.removed,{element:Ie.cloneNode()}),Ie.textContent=et)),Ee(C.afterSanitizeElements,Ie,null),!1)},Ge=function(Ie,et,gt){if(fe&&(et==="id"||et==="name")&&(gt in r||gt in Tn))return!1;if(!(he&&!ne[et]&&Jo(X,et))){if(!(ce&&Jo(re,et))){if(!(de.attributeCheck instanceof Function&&de.attributeCheck(et,Ie))){if(!q[et]||ne[et]){if(!(dt(Ie)&&(U.tagNameCheck instanceof RegExp&&Jo(U.tagNameCheck,Ie)||U.tagNameCheck instanceof Function&&U.tagNameCheck(Ie))&&(U.attributeNameCheck instanceof RegExp&&Jo(U.attributeNameCheck,et)||U.attributeNameCheck instanceof Function&&U.attributeNameCheck(et,Ie))||et==="is"&&U.allowCustomizedBuiltInElements&&(U.tagNameCheck instanceof RegExp&&Jo(U.tagNameCheck,gt)||U.tagNameCheck instanceof Function&&U.tagNameCheck(gt))))return!1}else if(!rt[et]){if(!Jo(Q,wm(gt,te,""))){if(!((et==="src"||et==="xlink:href"||et==="href")&&Ie!=="script"&&Zge(gt,"data:")===0&&ut[Ie])){if(!(Le&&!Jo(Z,wm(gt,te,"")))){if(gt)return!1}}}}}}}return!0},dt=function(Ie){return Ie!=="annotation-xml"&&xj(Ie,Y)},Ve=function(Ie){Ee(C.beforeSanitizeAttributes,Ie,null);const{attributes:et}=Ie;if(!et||ge(Ie))return;const gt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:q,forceKeepAttr:void 0};let Lt=et.length;for(;Lt--;){const Bt=et[Lt],{name:br,namespaceURI:Dr,value:Qr}=Bt,Nn=Ar(br),ds=Qr;let qn=br==="value"?ds:eve(ds);if(gt.attrName=Nn,gt.attrValue=qn,gt.keepAttr=!0,gt.forceKeepAttr=void 0,Ee(C.uponSanitizeAttribute,Ie,gt),qn=gt.attrValue,De&&(Nn==="id"||Nn==="name")&&(Wt(br,Ie),qn=Xe+qn),_e&&Jo(/((--!?|])>)|<\/(style|title|textarea)/i,qn)){Wt(br,Ie);continue}if(Nn==="attributename"&&xj(qn,"href")){Wt(br,Ie);continue}if(gt.forceKeepAttr)continue;if(!gt.keepAttr){Wt(br,Ie);continue}if(!se&&Jo(/\/>/i,qn)){Wt(br,Ie);continue}Fe&&kv([T,I,B],$n=>{qn=wm(qn,$n," ")});const ss=Ar(Ie.nodeName);if(!Ge(ss,Nn,qn)){Wt(br,Ie);continue}if(N&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!Dr)switch(p.getAttributeType(ss,Nn)){case"TrustedHTML":{qn=N.createHTML(qn);break}case"TrustedScriptURL":{qn=N.createScriptURL(qn);break}}if(qn!==ds)try{Dr?Ie.setAttributeNS(Dr,br,qn):Ie.setAttribute(br,qn),ge(Ie)?bt(Ie):M8(t.removed)}catch{Wt(br,Ie)}}Ee(C.afterSanitizeAttributes,Ie,null)},Qe=function ze(Ie){let et=null;const gt=me(Ie);for(Ee(C.beforeSanitizeShadowDOM,Ie,null);et=gt.nextNode();)Ee(C.uponSanitizeShadowNode,et,null),Te(et),Ve(et),et.content instanceof i&&ze(et.content);Ee(C.afterSanitizeShadowDOM,Ie,null)};return t.sanitize=function(ze){let Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},et=null,gt=null,Lt=null,Bt=null;if(qe=!ze,qe&&(ze="<!-->"),typeof ze!="string"&&!Se(ze))if(typeof ze.toString=="function"){if(ze=ze.toString(),typeof ze!="string")throw Nm("dirty is not a string, aborting")}else throw Nm("toString is not a function");if(!t.isSupported)return ze;if(ae||vr(Ie),t.removed=[],typeof ze=="string"&&(ht=!1),ht){if(ze.nodeName){const Qr=Ar(ze.nodeName);if(!H[Qr]||G[Qr])throw Nm("root node is forbidden and cannot be sanitized in-place")}}else if(ze instanceof l)et=ee("<!---->"),gt=et.ownerDocument.importNode(ze,!0),gt.nodeType===km.element&&gt.nodeName==="BODY"||gt.nodeName==="HTML"?et=gt:et.appendChild(gt);else{if(!we&&!Fe&&!oe&&ze.indexOf("<")===-1)return N&&pe?N.createHTML(ze):ze;if(et=ee(ze),!et)return we?null:pe?k:""}et&&ke&&bt(et.firstChild);const br=me(ht?ze:et);for(;Lt=br.nextNode();)Te(Lt),Ve(Lt),Lt.content instanceof i&&Qe(Lt.content);if(ht)return ze;if(we){if(Pe)for(Bt=O.call(et.ownerDocument);et.firstChild;)Bt.appendChild(et.firstChild);else Bt=et;return(q.shadowroot||q.shadowrootmode)&&(Bt=R.call(n,Bt,!0)),Bt}let Dr=oe?et.outerHTML:et.innerHTML;return oe&&H["!doctype"]&&et.ownerDocument&&et.ownerDocument.doctype&&et.ownerDocument.doctype.name&&Jo(N9,et.ownerDocument.doctype.name)&&(Dr="<!DOCTYPE "+et.ownerDocument.doctype.name+`>
`+Dr),Fe&&kv([T,I,B],Qr=>{Dr=wm(Dr,Qr," ")}),N&&pe?N.createHTML(Dr):Dr},t.setConfig=function(){let ze=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};vr(ze),ae=!0},t.clearConfig=function(){Gr=null,ae=!1},t.isValidAttribute=function(ze,Ie,et){Gr||vr({});const gt=Ar(ze),Lt=Ar(Ie);return Ge(gt,Lt,et)},t.addHook=function(ze,Ie){typeof Ie=="function"&&bm(C[ze],Ie)},t.removeHook=function(ze,Ie){if(Ie!==void 0){const et=Jge(C[ze],Ie);return et===-1?void 0:Qge(C[ze],et,1)[0]}return M8(C[ze])},t.removeHooks=function(ze){C[ze]=[]},t.removeAllHooks=function(){C=z8()},t}var H8=j9(),Bv={exports:{}};var mve=Bv.exports,W8;function xve(){return W8||(W8=1,(function(e,t){(function(n,s){e.exports=s()})(typeof self<"u"?self:mve,function(){return(function(r){var n={};function s(i){if(n[i])return n[i].exports;var o=n[i]={i,l:!1,exports:{}};return r[i].call(o.exports,o,o.exports,s),o.l=!0,o.exports}return s.m=r,s.c=n,s.d=function(i,o,l){s.o(i,o)||Object.defineProperty(i,o,{configurable:!1,enumerable:!0,get:l})},s.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return s.d(o,"a",o),o},s.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},s.p="",s(s.s=109)})([(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=s(17),o=s(18),l=s(19),c=s(45),u=s(46),d=s(47),h=s(48),m=s(49),p=s(12),y=s(32),v=s(33),g=s(31),b=s(1),w={Scope:b.Scope,create:b.create,find:b.find,query:b.query,register:b.register,Container:i.default,Format:o.default,Leaf:l.default,Embed:h.default,Scroll:c.default,Block:d.default,Inline:u.default,Text:m.default,Attributor:{Attribute:p.default,Class:y.default,Style:v.default,Store:g.default}};n.default=w}),(function(r,n,s){var i=this&&this.__extends||(function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,w){b.__proto__=w}||function(b,w){for(var j in w)w.hasOwnProperty(j)&&(b[j]=w[j])};return function(b,w){g(b,w);function j(){this.constructor=b}b.prototype=w===null?Object.create(w):(j.prototype=w.prototype,new j)}})();Object.defineProperty(n,"__esModule",{value:!0});var o=(function(g){i(b,g);function b(w){var j=this;return w="[Parchment] "+w,j=g.call(this,w)||this,j.message=w,j.name=j.constructor.name,j}return b})(Error);n.ParchmentError=o;var l={},c={},u={},d={};n.DATA_KEY="__blot";var h;(function(g){g[g.TYPE=3]="TYPE",g[g.LEVEL=12]="LEVEL",g[g.ATTRIBUTE=13]="ATTRIBUTE",g[g.BLOT=14]="BLOT",g[g.INLINE=7]="INLINE",g[g.BLOCK=11]="BLOCK",g[g.BLOCK_BLOT=10]="BLOCK_BLOT",g[g.INLINE_BLOT=6]="INLINE_BLOT",g[g.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",g[g.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",g[g.ANY=15]="ANY"})(h=n.Scope||(n.Scope={}));function m(g,b){var w=y(g);if(w==null)throw new o("Unable to create "+g+" blot");var j=w,N=g instanceof Node||g.nodeType===Node.TEXT_NODE?g:j.create(b);return new j(N,b)}n.create=m;function p(g,b){return b===void 0&&(b=!1),g==null?null:g[n.DATA_KEY]!=null?g[n.DATA_KEY].blot:b?p(g.parentNode,b):null}n.find=p;function y(g,b){b===void 0&&(b=h.ANY);var w;if(typeof g=="string")w=d[g]||l[g];else if(g instanceof Text||g.nodeType===Node.TEXT_NODE)w=d.text;else if(typeof g=="number")g&h.LEVEL&h.BLOCK?w=d.block:g&h.LEVEL&h.INLINE&&(w=d.inline);else if(g instanceof HTMLElement){var j=(g.getAttribute("class")||"").split(/\s+/);for(var N in j)if(w=c[j[N]],w)break;w=w||u[g.tagName]}return w==null?null:b&h.LEVEL&w.scope&&b&h.TYPE&w.scope?w:null}n.query=y;function v(){for(var g=[],b=0;b<arguments.length;b++)g[b]=arguments[b];if(g.length>1)return g.map(function(N){return v(N)});var w=g[0];if(typeof w.blotName!="string"&&typeof w.attrName!="string")throw new o("Invalid definition");if(w.blotName==="abstract")throw new o("Cannot register abstract class");if(d[w.blotName||w.attrName]=w,typeof w.keyName=="string")l[w.keyName]=w;else if(w.className!=null&&(c[w.className]=w),w.tagName!=null){Array.isArray(w.tagName)?w.tagName=w.tagName.map(function(N){return N.toUpperCase()}):w.tagName=w.tagName.toUpperCase();var j=Array.isArray(w.tagName)?w.tagName:[w.tagName];j.forEach(function(N){(u[N]==null||w.className==null)&&(u[N]=w)})}return w}n.register=v}),(function(r,n,s){var i=s(51),o=s(11),l=s(3),c=s(20),u="\0",d=function(h){Array.isArray(h)?this.ops=h:h!=null&&Array.isArray(h.ops)?this.ops=h.ops:this.ops=[]};d.prototype.insert=function(h,m){var p={};return h.length===0?this:(p.insert=h,m!=null&&typeof m=="object"&&Object.keys(m).length>0&&(p.attributes=m),this.push(p))},d.prototype.delete=function(h){return h<=0?this:this.push({delete:h})},d.prototype.retain=function(h,m){if(h<=0)return this;var p={retain:h};return m!=null&&typeof m=="object"&&Object.keys(m).length>0&&(p.attributes=m),this.push(p)},d.prototype.push=function(h){var m=this.ops.length,p=this.ops[m-1];if(h=l(!0,{},h),typeof p=="object"){if(typeof h.delete=="number"&&typeof p.delete=="number")return this.ops[m-1]={delete:p.delete+h.delete},this;if(typeof p.delete=="number"&&h.insert!=null&&(m-=1,p=this.ops[m-1],typeof p!="object"))return this.ops.unshift(h),this;if(o(h.attributes,p.attributes)){if(typeof h.insert=="string"&&typeof p.insert=="string")return this.ops[m-1]={insert:p.insert+h.insert},typeof h.attributes=="object"&&(this.ops[m-1].attributes=h.attributes),this;if(typeof h.retain=="number"&&typeof p.retain=="number")return this.ops[m-1]={retain:p.retain+h.retain},typeof h.attributes=="object"&&(this.ops[m-1].attributes=h.attributes),this}}return m===this.ops.length?this.ops.push(h):this.ops.splice(m,0,h),this},d.prototype.chop=function(){var h=this.ops[this.ops.length-1];return h&&h.retain&&!h.attributes&&this.ops.pop(),this},d.prototype.filter=function(h){return this.ops.filter(h)},d.prototype.forEach=function(h){this.ops.forEach(h)},d.prototype.map=function(h){return this.ops.map(h)},d.prototype.partition=function(h){var m=[],p=[];return this.forEach(function(y){var v=h(y)?m:p;v.push(y)}),[m,p]},d.prototype.reduce=function(h,m){return this.ops.reduce(h,m)},d.prototype.changeLength=function(){return this.reduce(function(h,m){return m.insert?h+c.length(m):m.delete?h-m.delete:h},0)},d.prototype.length=function(){return this.reduce(function(h,m){return h+c.length(m)},0)},d.prototype.slice=function(h,m){h=h||0,typeof m!="number"&&(m=1/0);for(var p=[],y=c.iterator(this.ops),v=0;v<m&&y.hasNext();){var g;v<h?g=y.next(h-v):(g=y.next(m-v),p.push(g)),v+=c.length(g)}return new d(p)},d.prototype.compose=function(h){var m=c.iterator(this.ops),p=c.iterator(h.ops),y=[],v=p.peek();if(v!=null&&typeof v.retain=="number"&&v.attributes==null){for(var g=v.retain;m.peekType()==="insert"&&m.peekLength()<=g;)g-=m.peekLength(),y.push(m.next());v.retain-g>0&&p.next(v.retain-g)}for(var b=new d(y);m.hasNext()||p.hasNext();)if(p.peekType()==="insert")b.push(p.next());else if(m.peekType()==="delete")b.push(m.next());else{var w=Math.min(m.peekLength(),p.peekLength()),j=m.next(w),N=p.next(w);if(typeof N.retain=="number"){var k={};typeof j.retain=="number"?k.retain=w:k.insert=j.insert;var P=c.attributes.compose(j.attributes,N.attributes,typeof j.retain=="number");if(P&&(k.attributes=P),b.push(k),!p.hasNext()&&o(b.ops[b.ops.length-1],k)){var A=new d(m.rest());return b.concat(A).chop()}}else typeof N.delete=="number"&&typeof j.retain=="number"&&b.push(N)}return b.chop()},d.prototype.concat=function(h){var m=new d(this.ops.slice());return h.ops.length>0&&(m.push(h.ops[0]),m.ops=m.ops.concat(h.ops.slice(1))),m},d.prototype.diff=function(h,m){if(this.ops===h.ops)return new d;var p=[this,h].map(function(w){return w.map(function(j){if(j.insert!=null)return typeof j.insert=="string"?j.insert:u;var N=w===h?"on":"with";throw new Error("diff() called "+N+" non-document")}).join("")}),y=new d,v=i(p[0],p[1],m),g=c.iterator(this.ops),b=c.iterator(h.ops);return v.forEach(function(w){for(var j=w[1].length;j>0;){var N=0;switch(w[0]){case i.INSERT:N=Math.min(b.peekLength(),j),y.push(b.next(N));break;case i.DELETE:N=Math.min(j,g.peekLength()),g.next(N),y.delete(N);break;case i.EQUAL:N=Math.min(g.peekLength(),b.peekLength(),j);var k=g.next(N),P=b.next(N);o(k.insert,P.insert)?y.retain(N,c.attributes.diff(k.attributes,P.attributes)):y.push(P).delete(N);break}j-=N}}),y.chop()},d.prototype.eachLine=function(h,m){m=m||`
`;for(var p=c.iterator(this.ops),y=new d,v=0;p.hasNext();){if(p.peekType()!=="insert")return;var g=p.peek(),b=c.length(g)-p.peekLength(),w=typeof g.insert=="string"?g.insert.indexOf(m,b)-b:-1;if(w<0)y.push(p.next());else if(w>0)y.push(p.next(w));else{if(h(y,p.next(1).attributes||{},v)===!1)return;v+=1,y=new d}}y.length()>0&&h(y,{},v)},d.prototype.transform=function(h,m){if(m=!!m,typeof h=="number")return this.transformPosition(h,m);for(var p=c.iterator(this.ops),y=c.iterator(h.ops),v=new d;p.hasNext()||y.hasNext();)if(p.peekType()==="insert"&&(m||y.peekType()!=="insert"))v.retain(c.length(p.next()));else if(y.peekType()==="insert")v.push(y.next());else{var g=Math.min(p.peekLength(),y.peekLength()),b=p.next(g),w=y.next(g);if(b.delete)continue;w.delete?v.push(w):v.retain(g,c.attributes.transform(b.attributes,w.attributes,m))}return v.chop()},d.prototype.transformPosition=function(h,m){m=!!m;for(var p=c.iterator(this.ops),y=0;p.hasNext()&&y<=h;){var v=p.peekLength(),g=p.peekType();if(p.next(),g==="delete"){h-=Math.min(v,h-y);continue}else g==="insert"&&(y<h||!m)&&(h+=v);y+=v}return h},r.exports=d}),(function(r,n){var s=Object.prototype.hasOwnProperty,i=Object.prototype.toString,o=Object.defineProperty,l=Object.getOwnPropertyDescriptor,c=function(p){return typeof Array.isArray=="function"?Array.isArray(p):i.call(p)==="[object Array]"},u=function(p){if(!p||i.call(p)!=="[object Object]")return!1;var y=s.call(p,"constructor"),v=p.constructor&&p.constructor.prototype&&s.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!y&&!v)return!1;var g;for(g in p);return typeof g>"u"||s.call(p,g)},d=function(p,y){o&&y.name==="__proto__"?o(p,y.name,{enumerable:!0,configurable:!0,value:y.newValue,writable:!0}):p[y.name]=y.newValue},h=function(p,y){if(y==="__proto__")if(s.call(p,y)){if(l)return l(p,y).value}else return;return p[y]};r.exports=function m(){var p,y,v,g,b,w,j=arguments[0],N=1,k=arguments.length,P=!1;for(typeof j=="boolean"&&(P=j,j=arguments[1]||{},N=2),(j==null||typeof j!="object"&&typeof j!="function")&&(j={});N<k;++N)if(p=arguments[N],p!=null)for(y in p)v=h(j,y),g=h(p,y),j!==g&&(P&&g&&(u(g)||(b=c(g)))?(b?(b=!1,w=v&&c(v)?v:[]):w=v&&u(v)?v:{},d(j,{name:y,newValue:m(P,w,g)})):typeof g<"u"&&d(j,{name:y,newValue:g}));return j}}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BlockEmbed=n.bubbleFormats=void 0;var i=(function(){function C(T,I){for(var B=0;B<I.length;B++){var X=I[B];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(T,X.key,X)}}return function(T,I,B){return I&&C(T.prototype,I),B&&C(T,B),T}})(),o=function C(T,I,B){T===null&&(T=Function.prototype);var X=Object.getOwnPropertyDescriptor(T,I);if(X===void 0){var re=Object.getPrototypeOf(T);return re===null?void 0:C(re,I,B)}else{if("value"in X)return X.value;var Z=X.get;return Z===void 0?void 0:Z.call(B)}},l=s(3),c=j(l),u=s(2),d=j(u),h=s(0),m=j(h),p=s(16),y=j(p),v=s(6),g=j(v),b=s(7),w=j(b);function j(C){return C&&C.__esModule?C:{default:C}}function N(C,T){if(!(C instanceof T))throw new TypeError("Cannot call a class as a function")}function k(C,T){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:C}function P(C,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);C.prototype=Object.create(T&&T.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(C,T):C.__proto__=T)}var A=1,O=(function(C){P(T,C);function T(){return N(this,T),k(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return i(T,[{key:"attach",value:function(){o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"attach",this).call(this),this.attributes=new m.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new d.default().insert(this.value(),(0,c.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(B,X){var re=m.default.query(B,m.default.Scope.BLOCK_ATTRIBUTE);re!=null&&this.attributes.attribute(re,X)}},{key:"formatAt",value:function(B,X,re,Z){this.format(re,Z)}},{key:"insertAt",value:function(B,X,re){if(typeof X=="string"&&X.endsWith(`
`)){var Z=m.default.create(D.blotName);this.parent.insertBefore(Z,B===0?this:this.next),Z.insertAt(0,X.slice(0,-1))}else o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,B,X,re)}}]),T})(m.default.Embed);O.scope=m.default.Scope.BLOCK_BLOT;var D=(function(C){P(T,C);function T(I){N(this,T);var B=k(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,I));return B.cache={},B}return i(T,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(m.default.Leaf).reduce(function(B,X){return X.length()===0?B:B.insert(X.value(),R(X))},new d.default).insert(`
`,R(this))),this.cache.delta}},{key:"deleteAt",value:function(B,X){o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"deleteAt",this).call(this,B,X),this.cache={}}},{key:"formatAt",value:function(B,X,re,Z){X<=0||(m.default.query(re,m.default.Scope.BLOCK)?B+X===this.length()&&this.format(re,Z):o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"formatAt",this).call(this,B,Math.min(X,this.length()-B-1),re,Z),this.cache={})}},{key:"insertAt",value:function(B,X,re){if(re!=null)return o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,B,X,re);if(X.length!==0){var Z=X.split(`
`),te=Z.shift();te.length>0&&(B<this.length()-1||this.children.tail==null?o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,Math.min(B,this.length()-1),te):this.children.tail.insertAt(this.children.tail.length(),te),this.cache={});var Y=this;Z.reduce(function(Q,H){return Y=Y.split(Q,!0),Y.insertAt(0,H),H.length},B+te.length)}}},{key:"insertBefore",value:function(B,X){var re=this.children.head;o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertBefore",this).call(this,B,X),re instanceof y.default&&re.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"length",this).call(this)+A),this.cache.length}},{key:"moveChildren",value:function(B,X){o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"moveChildren",this).call(this,B,X),this.cache={}}},{key:"optimize",value:function(B){o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"optimize",this).call(this,B),this.cache={}}},{key:"path",value:function(B){return o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"path",this).call(this,B,!0)}},{key:"removeChild",value:function(B){o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"removeChild",this).call(this,B),this.cache={}}},{key:"split",value:function(B){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(X&&(B===0||B>=this.length()-A)){var re=this.clone();return B===0?(this.parent.insertBefore(re,this),this):(this.parent.insertBefore(re,this.next),re)}else{var Z=o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"split",this).call(this,B,X);return this.cache={},Z}}}]),T})(m.default.Block);D.blotName="block",D.tagName="P",D.defaultChild="break",D.allowedChildren=[g.default,m.default.Embed,w.default];function R(C){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return C==null||(typeof C.formats=="function"&&(T=(0,c.default)(T,C.formats())),C.parent==null||C.parent.blotName=="scroll"||C.parent.statics.scope!==C.statics.scope)?T:R(C.parent,T)}n.bubbleFormats=R,n.BlockEmbed=O,n.default=D}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.overload=n.expandConfig=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},o=(function(){function Y(Q,H){var E=[],q=!0,V=!1,U=void 0;try{for(var G=Q[Symbol.iterator](),ne;!(q=(ne=G.next()).done)&&(E.push(ne.value),!(H&&E.length===H));q=!0);}catch(de){V=!0,U=de}finally{try{!q&&G.return&&G.return()}finally{if(V)throw U}}return E}return function(Q,H){if(Array.isArray(Q))return Q;if(Symbol.iterator in Object(Q))return Y(Q,H);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function Y(Q,H){for(var E=0;E<H.length;E++){var q=H[E];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(Q,q.key,q)}}return function(Q,H,E){return H&&Y(Q.prototype,H),E&&Y(Q,E),Q}})();s(50);var c=s(2),u=R(c),d=s(14),h=R(d),m=s(8),p=R(m),y=s(9),v=R(y),g=s(0),b=R(g),w=s(15),j=R(w),N=s(3),k=R(N),P=s(10),A=R(P),O=s(34),D=R(O);function R(Y){return Y&&Y.__esModule?Y:{default:Y}}function C(Y,Q,H){return Q in Y?Object.defineProperty(Y,Q,{value:H,enumerable:!0,configurable:!0,writable:!0}):Y[Q]=H,Y}function T(Y,Q){if(!(Y instanceof Q))throw new TypeError("Cannot call a class as a function")}var I=(0,A.default)("quill"),B=(function(){l(Y,null,[{key:"debug",value:function(H){H===!0&&(H="log"),A.default.level(H)}},{key:"find",value:function(H){return H.__quill||b.default.find(H)}},{key:"import",value:function(H){return this.imports[H]==null&&I.error("Cannot import "+H+". Are you sure it was registered?"),this.imports[H]}},{key:"register",value:function(H,E){var q=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof H!="string"){var U=H.attrName||H.blotName;typeof U=="string"?this.register("formats/"+U,H,E):Object.keys(H).forEach(function(G){q.register(G,H[G],E)})}else this.imports[H]!=null&&!V&&I.warn("Overwriting "+H+" with",E),this.imports[H]=E,(H.startsWith("blots/")||H.startsWith("formats/"))&&E.blotName!=="abstract"?b.default.register(E):H.startsWith("modules")&&typeof E.register=="function"&&E.register()}}]);function Y(Q){var H=this,E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(T(this,Y),this.options=X(Q,E),this.container=this.options.container,this.container==null)return I.error("Invalid Quill container",Q);this.options.debug&&Y.debug(this.options.debug);var q=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new p.default,this.scroll=b.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new h.default(this.scroll),this.selection=new j.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(p.default.events.EDITOR_CHANGE,function(U){U===p.default.events.TEXT_CHANGE&&H.root.classList.toggle("ql-blank",H.editor.isBlank())}),this.emitter.on(p.default.events.SCROLL_UPDATE,function(U,G){var ne=H.selection.lastRange,de=ne&&ne.length===0?ne.index:void 0;re.call(H,function(){return H.editor.update(null,G,de)},U)});var V=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+q+"<p><br></p></div>");this.setContents(V),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return l(Y,[{key:"addContainer",value:function(H){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof H=="string"){var q=H;H=document.createElement("div"),H.classList.add(q)}return this.container.insertBefore(H,E),H}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(H,E,q){var V=this,U=Z(H,E,q),G=o(U,4);return H=G[0],E=G[1],q=G[3],re.call(this,function(){return V.editor.deleteText(H,E)},q,H,-1*E)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(H),this.container.classList.toggle("ql-disabled",!H)}},{key:"focus",value:function(){var H=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=H,this.scrollIntoView()}},{key:"format",value:function(H,E){var q=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;return re.call(this,function(){var U=q.getSelection(!0),G=new u.default;if(U==null)return G;if(b.default.query(H,b.default.Scope.BLOCK))G=q.editor.formatLine(U.index,U.length,C({},H,E));else{if(U.length===0)return q.selection.format(H,E),G;G=q.editor.formatText(U.index,U.length,C({},H,E))}return q.setSelection(U,p.default.sources.SILENT),G},V)}},{key:"formatLine",value:function(H,E,q,V,U){var G=this,ne=void 0,de=Z(H,E,q,V,U),ce=o(de,4);return H=ce[0],E=ce[1],ne=ce[2],U=ce[3],re.call(this,function(){return G.editor.formatLine(H,E,ne)},U,H,0)}},{key:"formatText",value:function(H,E,q,V,U){var G=this,ne=void 0,de=Z(H,E,q,V,U),ce=o(de,4);return H=ce[0],E=ce[1],ne=ce[2],U=ce[3],re.call(this,function(){return G.editor.formatText(H,E,ne)},U,H,0)}},{key:"getBounds",value:function(H){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,q=void 0;typeof H=="number"?q=this.selection.getBounds(H,E):q=this.selection.getBounds(H.index,H.length);var V=this.container.getBoundingClientRect();return{bottom:q.bottom-V.top,height:q.height,left:q.left-V.left,right:q.right-V.left,top:q.top-V.top,width:q.width}}},{key:"getContents",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-H,q=Z(H,E),V=o(q,2);return H=V[0],E=V[1],this.editor.getContents(H,E)}},{key:"getFormat",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof H=="number"?this.editor.getFormat(H,E):this.editor.getFormat(H.index,H.length)}},{key:"getIndex",value:function(H){return H.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(H){return this.scroll.leaf(H)}},{key:"getLine",value:function(H){return this.scroll.line(H)}},{key:"getLines",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof H!="number"?this.scroll.lines(H.index,H.length):this.scroll.lines(H,E)}},{key:"getModule",value:function(H){return this.theme.modules[H]}},{key:"getSelection",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return H&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-H,q=Z(H,E),V=o(q,2);return H=V[0],E=V[1],this.editor.getText(H,E)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(H,E,q){var V=this,U=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Y.sources.API;return re.call(this,function(){return V.editor.insertEmbed(H,E,q)},U,H)}},{key:"insertText",value:function(H,E,q,V,U){var G=this,ne=void 0,de=Z(H,0,q,V,U),ce=o(de,4);return H=ce[0],ne=ce[2],U=ce[3],re.call(this,function(){return G.editor.insertText(H,E,ne)},U,H,E.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(H,E,q){this.clipboard.dangerouslyPasteHTML(H,E,q)}},{key:"removeFormat",value:function(H,E,q){var V=this,U=Z(H,E,q),G=o(U,4);return H=G[0],E=G[1],q=G[3],re.call(this,function(){return V.editor.removeFormat(H,E)},q,H)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(H){var E=this,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return re.call(this,function(){H=new u.default(H);var V=E.getLength(),U=E.editor.deleteText(0,V),G=E.editor.applyDelta(H),ne=G.ops[G.ops.length-1];ne!=null&&typeof ne.insert=="string"&&ne.insert[ne.insert.length-1]===`
`&&(E.editor.deleteText(E.getLength()-1,1),G.delete(1));var de=U.compose(G);return de},q)}},{key:"setSelection",value:function(H,E,q){if(H==null)this.selection.setRange(null,E||Y.sources.API);else{var V=Z(H,E,q),U=o(V,4);H=U[0],E=U[1],q=U[3],this.selection.setRange(new w.Range(H,E),q),q!==p.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(H){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API,q=new u.default().insert(H);return this.setContents(q,E)}},{key:"update",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,E=this.scroll.update(H);return this.selection.update(H),E}},{key:"updateContents",value:function(H){var E=this,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return re.call(this,function(){return H=new u.default(H),E.editor.applyDelta(H,q)},q,!0)}}]),Y})();B.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},B.events=p.default.events,B.sources=p.default.sources,B.version="1.3.7",B.imports={delta:u.default,parchment:b.default,"core/module":v.default,"core/theme":D.default};function X(Y,Q){if(Q=(0,k.default)(!0,{container:Y,modules:{clipboard:!0,keyboard:!0,history:!0}},Q),!Q.theme||Q.theme===B.DEFAULTS.theme)Q.theme=D.default;else if(Q.theme=B.import("themes/"+Q.theme),Q.theme==null)throw new Error("Invalid theme "+Q.theme+". Did you register it?");var H=(0,k.default)(!0,{},Q.theme.DEFAULTS);[H,Q].forEach(function(V){V.modules=V.modules||{},Object.keys(V.modules).forEach(function(U){V.modules[U]===!0&&(V.modules[U]={})})});var E=Object.keys(H.modules).concat(Object.keys(Q.modules)),q=E.reduce(function(V,U){var G=B.import("modules/"+U);return G==null?I.error("Cannot load "+U+" module. Are you sure you registered it?"):V[U]=G.DEFAULTS||{},V},{});return Q.modules!=null&&Q.modules.toolbar&&Q.modules.toolbar.constructor!==Object&&(Q.modules.toolbar={container:Q.modules.toolbar}),Q=(0,k.default)(!0,{},B.DEFAULTS,{modules:q},H,Q),["bounds","container","scrollingContainer"].forEach(function(V){typeof Q[V]=="string"&&(Q[V]=document.querySelector(Q[V]))}),Q.modules=Object.keys(Q.modules).reduce(function(V,U){return Q.modules[U]&&(V[U]=Q.modules[U]),V},{}),Q}function re(Y,Q,H,E){if(this.options.strict&&!this.isEnabled()&&Q===p.default.sources.USER)return new u.default;var q=H==null?null:this.getSelection(),V=this.editor.delta,U=Y();if(q!=null&&(H===!0&&(H=q.index),E==null?q=te(q,U,Q):E!==0&&(q=te(q,H,E,Q)),this.setSelection(q,p.default.sources.SILENT)),U.length()>0){var G,ne=[p.default.events.TEXT_CHANGE,U,V,Q];if((G=this.emitter).emit.apply(G,[p.default.events.EDITOR_CHANGE].concat(ne)),Q!==p.default.sources.SILENT){var de;(de=this.emitter).emit.apply(de,ne)}}return U}function Z(Y,Q,H,E,q){var V={};return typeof Y.index=="number"&&typeof Y.length=="number"?typeof Q!="number"?(q=E,E=H,H=Q,Q=Y.length,Y=Y.index):(Q=Y.length,Y=Y.index):typeof Q!="number"&&(q=E,E=H,H=Q,Q=0),(typeof H>"u"?"undefined":i(H))==="object"?(V=H,q=E):typeof H=="string"&&(E!=null?V[H]=E:q=H),q=q||p.default.sources.API,[Y,Q,V,q]}function te(Y,Q,H,E){if(Y==null)return null;var q=void 0,V=void 0;if(Q instanceof u.default){var U=[Y.index,Y.index+Y.length].map(function(ce){return Q.transformPosition(ce,E!==p.default.sources.USER)}),G=o(U,2);q=G[0],V=G[1]}else{var ne=[Y.index,Y.index+Y.length].map(function(ce){return ce<Q||ce===Q&&E===p.default.sources.USER?ce:H>=0?ce+H:Math.max(Q,ce+H)}),de=o(ne,2);q=de[0],V=de[1]}return new w.Range(q,V-q)}n.expandConfig=X,n.overload=Z,n.default=B}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function g(b,w){for(var j=0;j<w.length;j++){var N=w[j];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(b,N.key,N)}}return function(b,w,j){return w&&g(b.prototype,w),j&&g(b,j),b}})(),o=function g(b,w,j){b===null&&(b=Function.prototype);var N=Object.getOwnPropertyDescriptor(b,w);if(N===void 0){var k=Object.getPrototypeOf(b);return k===null?void 0:g(k,w,j)}else{if("value"in N)return N.value;var P=N.get;return P===void 0?void 0:P.call(j)}},l=s(7),c=h(l),u=s(0),d=h(u);function h(g){return g&&g.__esModule?g:{default:g}}function m(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}function p(g,b){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:g}function y(g,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);g.prototype=Object.create(b&&b.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(g,b):g.__proto__=b)}var v=(function(g){y(b,g);function b(){return m(this,b),p(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return i(b,[{key:"formatAt",value:function(j,N,k,P){if(b.compare(this.statics.blotName,k)<0&&d.default.query(k,d.default.Scope.BLOT)){var A=this.isolate(j,N);P&&A.wrap(k,P)}else o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"formatAt",this).call(this,j,N,k,P)}},{key:"optimize",value:function(j){if(o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"optimize",this).call(this,j),this.parent instanceof b&&b.compare(this.statics.blotName,this.parent.statics.blotName)>0){var N=this.parent.isolate(this.offset(),this.length());this.moveChildren(N),N.wrap(this)}}}],[{key:"compare",value:function(j,N){var k=b.order.indexOf(j),P=b.order.indexOf(N);return k>=0||P>=0?k-P:j===N?0:j<N?-1:1}}]),b})(d.default.Inline);v.allowedChildren=[v,d.default.Embed,c.default],v.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],n.default=v}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=s(0),o=l(i);function l(m){return m&&m.__esModule?m:{default:m}}function c(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function u(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function d(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var h=(function(m){d(p,m);function p(){return c(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(o.default.Text);n.default=h}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function w(j,N){for(var k=0;k<N.length;k++){var P=N[k];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(j,P.key,P)}}return function(j,N,k){return N&&w(j.prototype,N),k&&w(j,k),j}})(),o=function w(j,N,k){j===null&&(j=Function.prototype);var P=Object.getOwnPropertyDescriptor(j,N);if(P===void 0){var A=Object.getPrototypeOf(j);return A===null?void 0:w(A,N,k)}else{if("value"in P)return P.value;var O=P.get;return O===void 0?void 0:O.call(k)}},l=s(54),c=h(l),u=s(10),d=h(u);function h(w){return w&&w.__esModule?w:{default:w}}function m(w,j){if(!(w instanceof j))throw new TypeError("Cannot call a class as a function")}function p(w,j){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:w}function y(w,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);w.prototype=Object.create(j&&j.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(w,j):w.__proto__=j)}var v=(0,d.default)("quill:events"),g=["selectionchange","mousedown","mouseup","click"];g.forEach(function(w){document.addEventListener(w,function(){for(var j=arguments.length,N=Array(j),k=0;k<j;k++)N[k]=arguments[k];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(P){if(P.__quill&&P.__quill.emitter){var A;(A=P.__quill.emitter).handleDOM.apply(A,N)}})})});var b=(function(w){y(j,w);function j(){m(this,j);var N=p(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return N.listeners={},N.on("error",v.error),N}return i(j,[{key:"emit",value:function(){v.log.apply(v,arguments),o(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(k){for(var P=arguments.length,A=Array(P>1?P-1:0),O=1;O<P;O++)A[O-1]=arguments[O];(this.listeners[k.type]||[]).forEach(function(D){var R=D.node,C=D.handler;(k.target===R||R.contains(k.target))&&C.apply(void 0,[k].concat(A))})}},{key:"listenDOM",value:function(k,P,A){this.listeners[k]||(this.listeners[k]=[]),this.listeners[k].push({node:P,handler:A})}}]),j})(c.default);b.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},b.sources={API:"api",SILENT:"silent",USER:"user"},n.default=b}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});function i(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var o=function l(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i(this,l),this.quill=c,this.options=u};o.DEFAULTS={},n.default=o}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=["error","warn","log","info"],o="warn";function l(u){if(i.indexOf(u)<=i.indexOf(o)){for(var d,h=arguments.length,m=Array(h>1?h-1:0),p=1;p<h;p++)m[p-1]=arguments[p];(d=console)[u].apply(d,m)}}function c(u){return i.reduce(function(d,h){return d[h]=l.bind(console,h,u),d},{})}l.level=c.level=function(u){o=u},n.default=c}),(function(r,n,s){var i=Array.prototype.slice,o=s(52),l=s(53),c=r.exports=function(m,p,y){return y||(y={}),m===p?!0:m instanceof Date&&p instanceof Date?m.getTime()===p.getTime():!m||!p||typeof m!="object"&&typeof p!="object"?y.strict?m===p:m==p:h(m,p,y)};function u(m){return m==null}function d(m){return!(!m||typeof m!="object"||typeof m.length!="number"||typeof m.copy!="function"||typeof m.slice!="function"||m.length>0&&typeof m[0]!="number")}function h(m,p,y){var v,g;if(u(m)||u(p)||m.prototype!==p.prototype)return!1;if(l(m))return l(p)?(m=i.call(m),p=i.call(p),c(m,p,y)):!1;if(d(m)){if(!d(p)||m.length!==p.length)return!1;for(v=0;v<m.length;v++)if(m[v]!==p[v])return!1;return!0}try{var b=o(m),w=o(p)}catch{return!1}if(b.length!=w.length)return!1;for(b.sort(),w.sort(),v=b.length-1;v>=0;v--)if(b[v]!=w[v])return!1;for(v=b.length-1;v>=0;v--)if(g=b[v],!c(m[g],p[g],y))return!1;return typeof m==typeof p}}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=s(1),o=(function(){function l(c,u,d){d===void 0&&(d={}),this.attrName=c,this.keyName=u;var h=i.Scope.TYPE&i.Scope.ATTRIBUTE;d.scope!=null?this.scope=d.scope&i.Scope.LEVEL|h:this.scope=i.Scope.ATTRIBUTE,d.whitelist!=null&&(this.whitelist=d.whitelist)}return l.keys=function(c){return[].map.call(c.attributes,function(u){return u.name})},l.prototype.add=function(c,u){return this.canAdd(c,u)?(c.setAttribute(this.keyName,u),!0):!1},l.prototype.canAdd=function(c,u){var d=i.query(c,i.Scope.BLOT&(this.scope|i.Scope.TYPE));return d==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},l.prototype.remove=function(c){c.removeAttribute(this.keyName)},l.prototype.value=function(c){var u=c.getAttribute(this.keyName);return this.canAdd(c,u)&&u?u:""},l})();n.default=o}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Code=void 0;var i=(function(){function O(D,R){var C=[],T=!0,I=!1,B=void 0;try{for(var X=D[Symbol.iterator](),re;!(T=(re=X.next()).done)&&(C.push(re.value),!(R&&C.length===R));T=!0);}catch(Z){I=!0,B=Z}finally{try{!T&&X.return&&X.return()}finally{if(I)throw B}}return C}return function(D,R){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return O(D,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function O(D,R){for(var C=0;C<R.length;C++){var T=R[C];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(D,T.key,T)}}return function(D,R,C){return R&&O(D.prototype,R),C&&O(D,C),D}})(),l=function O(D,R,C){D===null&&(D=Function.prototype);var T=Object.getOwnPropertyDescriptor(D,R);if(T===void 0){var I=Object.getPrototypeOf(D);return I===null?void 0:O(I,R,C)}else{if("value"in T)return T.value;var B=T.get;return B===void 0?void 0:B.call(C)}},c=s(2),u=w(c),d=s(0),h=w(d),m=s(4),p=w(m),y=s(6),v=w(y),g=s(7),b=w(g);function w(O){return O&&O.__esModule?O:{default:O}}function j(O,D){if(!(O instanceof D))throw new TypeError("Cannot call a class as a function")}function N(O,D){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:O}function k(O,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);O.prototype=Object.create(D&&D.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(O,D):O.__proto__=D)}var P=(function(O){k(D,O);function D(){return j(this,D),N(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return D})(v.default);P.blotName="code",P.tagName="CODE";var A=(function(O){k(D,O);function D(){return j(this,D),N(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return o(D,[{key:"delta",value:function(){var C=this,T=this.domNode.textContent;return T.endsWith(`
`)&&(T=T.slice(0,-1)),T.split(`
`).reduce(function(I,B){return I.insert(B).insert(`
`,C.formats())},new u.default)}},{key:"format",value:function(C,T){if(!(C===this.statics.blotName&&T)){var I=this.descendant(b.default,this.length()-1),B=i(I,1),X=B[0];X?.deleteAt(X.length()-1,1),l(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"format",this).call(this,C,T)}}},{key:"formatAt",value:function(C,T,I,B){if(T!==0&&!(h.default.query(I,h.default.Scope.BLOCK)==null||I===this.statics.blotName&&B===this.statics.formats(this.domNode))){var X=this.newlineIndex(C);if(!(X<0||X>=C+T)){var re=this.newlineIndex(C,!0)+1,Z=X-re+1,te=this.isolate(re,Z),Y=te.next;te.format(I,B),Y instanceof D&&Y.formatAt(0,C-re+T-Z,I,B)}}}},{key:"insertAt",value:function(C,T,I){if(I==null){var B=this.descendant(b.default,C),X=i(B,2),re=X[0],Z=X[1];re.insertAt(Z,T)}}},{key:"length",value:function(){var C=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?C:C+1}},{key:"newlineIndex",value:function(C){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(T)return this.domNode.textContent.slice(0,C).lastIndexOf(`
`);var I=this.domNode.textContent.slice(C).indexOf(`
`);return I>-1?C+I:-1}},{key:"optimize",value:function(C){this.domNode.textContent.endsWith(`
`)||this.appendChild(h.default.create("text",`
`)),l(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"optimize",this).call(this,C);var T=this.next;T!=null&&T.prev===this&&T.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===T.statics.formats(T.domNode)&&(T.optimize(C),T.moveChildren(this),T.remove())}},{key:"replace",value:function(C){l(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"replace",this).call(this,C),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(T){var I=h.default.find(T);I==null?T.parentNode.removeChild(T):I instanceof h.default.Embed?I.remove():I.unwrap()})}}],[{key:"create",value:function(C){var T=l(D.__proto__||Object.getPrototypeOf(D),"create",this).call(this,C);return T.setAttribute("spellcheck",!1),T}},{key:"formats",value:function(){return!0}}]),D})(p.default);A.blotName="code-block",A.tagName="PRE",A.TAB="  ",n.Code=P,n.default=A}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},o=(function(){function Y(Q,H){var E=[],q=!0,V=!1,U=void 0;try{for(var G=Q[Symbol.iterator](),ne;!(q=(ne=G.next()).done)&&(E.push(ne.value),!(H&&E.length===H));q=!0);}catch(de){V=!0,U=de}finally{try{!q&&G.return&&G.return()}finally{if(V)throw U}}return E}return function(Q,H){if(Array.isArray(Q))return Q;if(Symbol.iterator in Object(Q))return Y(Q,H);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function Y(Q,H){for(var E=0;E<H.length;E++){var q=H[E];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(Q,q.key,q)}}return function(Q,H,E){return H&&Y(Q.prototype,H),E&&Y(Q,E),Q}})(),c=s(2),u=T(c),d=s(20),h=T(d),m=s(0),p=T(m),y=s(13),v=T(y),g=s(24),b=T(g),w=s(4),j=T(w),N=s(16),k=T(N),P=s(21),A=T(P),O=s(11),D=T(O),R=s(3),C=T(R);function T(Y){return Y&&Y.__esModule?Y:{default:Y}}function I(Y,Q,H){return Q in Y?Object.defineProperty(Y,Q,{value:H,enumerable:!0,configurable:!0,writable:!0}):Y[Q]=H,Y}function B(Y,Q){if(!(Y instanceof Q))throw new TypeError("Cannot call a class as a function")}var X=/^[ -~]*$/,re=(function(){function Y(Q){B(this,Y),this.scroll=Q,this.delta=this.getDelta()}return l(Y,[{key:"applyDelta",value:function(H){var E=this,q=!1;this.scroll.update();var V=this.scroll.length();return this.scroll.batchStart(),H=te(H),H.reduce(function(U,G){var ne=G.retain||G.delete||G.insert.length||1,de=G.attributes||{};if(G.insert!=null){if(typeof G.insert=="string"){var ce=G.insert;ce.endsWith(`
`)&&q&&(q=!1,ce=ce.slice(0,-1)),U>=V&&!ce.endsWith(`
`)&&(q=!0),E.scroll.insertAt(U,ce);var he=E.scroll.line(U),Le=o(he,2),se=Le[0],Fe=Le[1],_e=(0,C.default)({},(0,w.bubbleFormats)(se));if(se instanceof j.default){var oe=se.descendant(p.default.Leaf,Fe),ae=o(oe,1),ke=ae[0];_e=(0,C.default)(_e,(0,w.bubbleFormats)(ke))}de=h.default.attributes.diff(_e,de)||{}}else if(i(G.insert)==="object"){var we=Object.keys(G.insert)[0];if(we==null)return U;E.scroll.insertAt(U,we,G.insert[we])}V+=ne}return Object.keys(de).forEach(function(Pe){E.scroll.formatAt(U,ne,Pe,de[Pe])}),U+ne},0),H.reduce(function(U,G){return typeof G.delete=="number"?(E.scroll.deleteAt(U,G.delete),U):U+(G.retain||G.insert.length||1)},0),this.scroll.batchEnd(),this.update(H)}},{key:"deleteText",value:function(H,E){return this.scroll.deleteAt(H,E),this.update(new u.default().retain(H).delete(E))}},{key:"formatLine",value:function(H,E){var q=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(V).forEach(function(U){if(!(q.scroll.whitelist!=null&&!q.scroll.whitelist[U])){var G=q.scroll.lines(H,Math.max(E,1)),ne=E;G.forEach(function(de){var ce=de.length();if(!(de instanceof v.default))de.format(U,V[U]);else{var he=H-de.offset(q.scroll),Le=de.newlineIndex(he+ne)-he+1;de.formatAt(he,Le,U,V[U])}ne-=ce})}}),this.scroll.optimize(),this.update(new u.default().retain(H).retain(E,(0,A.default)(V)))}},{key:"formatText",value:function(H,E){var q=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(V).forEach(function(U){q.scroll.formatAt(H,E,U,V[U])}),this.update(new u.default().retain(H).retain(E,(0,A.default)(V)))}},{key:"getContents",value:function(H,E){return this.delta.slice(H,H+E)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(H,E){return H.concat(E.delta())},new u.default)}},{key:"getFormat",value:function(H){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,q=[],V=[];E===0?this.scroll.path(H).forEach(function(G){var ne=o(G,1),de=ne[0];de instanceof j.default?q.push(de):de instanceof p.default.Leaf&&V.push(de)}):(q=this.scroll.lines(H,E),V=this.scroll.descendants(p.default.Leaf,H,E));var U=[q,V].map(function(G){if(G.length===0)return{};for(var ne=(0,w.bubbleFormats)(G.shift());Object.keys(ne).length>0;){var de=G.shift();if(de==null)return ne;ne=Z((0,w.bubbleFormats)(de),ne)}return ne});return C.default.apply(C.default,U)}},{key:"getText",value:function(H,E){return this.getContents(H,E).filter(function(q){return typeof q.insert=="string"}).map(function(q){return q.insert}).join("")}},{key:"insertEmbed",value:function(H,E,q){return this.scroll.insertAt(H,E,q),this.update(new u.default().retain(H).insert(I({},E,q)))}},{key:"insertText",value:function(H,E){var q=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return E=E.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(H,E),Object.keys(V).forEach(function(U){q.scroll.formatAt(H,E.length,U,V[U])}),this.update(new u.default().retain(H).insert(E,(0,A.default)(V)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var H=this.scroll.children.head;return H.statics.blotName!==j.default.blotName||H.children.length>1?!1:H.children.head instanceof k.default}},{key:"removeFormat",value:function(H,E){var q=this.getText(H,E),V=this.scroll.line(H+E),U=o(V,2),G=U[0],ne=U[1],de=0,ce=new u.default;G!=null&&(G instanceof v.default?de=G.newlineIndex(ne)-ne+1:de=G.length()-ne,ce=G.delta().slice(ne,ne+de-1).insert(`
`));var he=this.getContents(H,E+de),Le=he.diff(new u.default().insert(q).concat(ce)),se=new u.default().retain(H).concat(Le);return this.applyDelta(se)}},{key:"update",value:function(H){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,V=this.delta;if(E.length===1&&E[0].type==="characterData"&&E[0].target.data.match(X)&&p.default.find(E[0].target)){var U=p.default.find(E[0].target),G=(0,w.bubbleFormats)(U),ne=U.offset(this.scroll),de=E[0].oldValue.replace(b.default.CONTENTS,""),ce=new u.default().insert(de),he=new u.default().insert(U.value()),Le=new u.default().retain(ne).concat(ce.diff(he,q));H=Le.reduce(function(se,Fe){return Fe.insert?se.insert(Fe.insert,G):se.push(Fe)},new u.default),this.delta=V.compose(H)}else this.delta=this.getDelta(),(!H||!(0,D.default)(V.compose(H),this.delta))&&(H=V.diff(this.delta,q));return H}}]),Y})();function Z(Y,Q){return Object.keys(Q).reduce(function(H,E){return Y[E]==null||(Q[E]===Y[E]?H[E]=Q[E]:Array.isArray(Q[E])?Q[E].indexOf(Y[E])<0&&(H[E]=Q[E].concat([Y[E]])):H[E]=[Q[E],Y[E]]),H},{})}function te(Y){return Y.reduce(function(Q,H){if(H.insert===1){var E=(0,A.default)(H.attributes);return delete E.image,Q.insert({image:H.attributes.image},E)}if(H.attributes!=null&&(H.attributes.list===!0||H.attributes.bullet===!0)&&(H=(0,A.default)(H),H.attributes.list?H.attributes.list="ordered":(H.attributes.list="bullet",delete H.attributes.bullet)),typeof H.insert=="string"){var q=H.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return Q.insert(q,H.attributes)}return Q.push(H)},new u.default)}n.default=re}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Range=void 0;var i=(function(){function O(D,R){var C=[],T=!0,I=!1,B=void 0;try{for(var X=D[Symbol.iterator](),re;!(T=(re=X.next()).done)&&(C.push(re.value),!(R&&C.length===R));T=!0);}catch(Z){I=!0,B=Z}finally{try{!T&&X.return&&X.return()}finally{if(I)throw B}}return C}return function(D,R){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return O(D,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function O(D,R){for(var C=0;C<R.length;C++){var T=R[C];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(D,T.key,T)}}return function(D,R,C){return R&&O(D.prototype,R),C&&O(D,C),D}})(),l=s(0),c=b(l),u=s(21),d=b(u),h=s(11),m=b(h),p=s(8),y=b(p),v=s(10),g=b(v);function b(O){return O&&O.__esModule?O:{default:O}}function w(O){if(Array.isArray(O)){for(var D=0,R=Array(O.length);D<O.length;D++)R[D]=O[D];return R}else return Array.from(O)}function j(O,D){if(!(O instanceof D))throw new TypeError("Cannot call a class as a function")}var N=(0,g.default)("quill:selection"),k=function O(D){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;j(this,O),this.index=D,this.length=R},P=(function(){function O(D,R){var C=this;j(this,O),this.emitter=R,this.scroll=D,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=c.default.create("cursor",this),this.lastRange=this.savedRange=new k(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){C.mouseDown||setTimeout(C.update.bind(C,y.default.sources.USER),1)}),this.emitter.on(y.default.events.EDITOR_CHANGE,function(T,I){T===y.default.events.TEXT_CHANGE&&I.length()>0&&C.update(y.default.sources.SILENT)}),this.emitter.on(y.default.events.SCROLL_BEFORE_UPDATE,function(){if(C.hasFocus()){var T=C.getNativeRange();T!=null&&T.start.node!==C.cursor.textNode&&C.emitter.once(y.default.events.SCROLL_UPDATE,function(){try{C.setNativeRange(T.start.node,T.start.offset,T.end.node,T.end.offset)}catch{}})}}),this.emitter.on(y.default.events.SCROLL_OPTIMIZE,function(T,I){if(I.range){var B=I.range,X=B.startNode,re=B.startOffset,Z=B.endNode,te=B.endOffset;C.setNativeRange(X,re,Z,te)}}),this.update(y.default.sources.SILENT)}return o(O,[{key:"handleComposition",value:function(){var R=this;this.root.addEventListener("compositionstart",function(){R.composing=!0}),this.root.addEventListener("compositionend",function(){if(R.composing=!1,R.cursor.parent){var C=R.cursor.restore();if(!C)return;setTimeout(function(){R.setNativeRange(C.startNode,C.startOffset,C.endNode,C.endOffset)},1)}})}},{key:"handleDragging",value:function(){var R=this;this.emitter.listenDOM("mousedown",document.body,function(){R.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){R.mouseDown=!1,R.update(y.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(R,C){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[R])){this.scroll.update();var T=this.getNativeRange();if(!(T==null||!T.native.collapsed||c.default.query(R,c.default.Scope.BLOCK))){if(T.start.node!==this.cursor.textNode){var I=c.default.find(T.start.node,!1);if(I==null)return;if(I instanceof c.default.Leaf){var B=I.split(T.start.offset);I.parent.insertBefore(this.cursor,B)}else I.insertBefore(this.cursor,T.start.node);this.cursor.attach()}this.cursor.format(R,C),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(R){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,T=this.scroll.length();R=Math.min(R,T-1),C=Math.min(R+C,T-1)-R;var I=void 0,B=this.scroll.leaf(R),X=i(B,2),re=X[0],Z=X[1];if(re==null)return null;var te=re.position(Z,!0),Y=i(te,2);I=Y[0],Z=Y[1];var Q=document.createRange();if(C>0){Q.setStart(I,Z);var H=this.scroll.leaf(R+C),E=i(H,2);if(re=E[0],Z=E[1],re==null)return null;var q=re.position(Z,!0),V=i(q,2);return I=V[0],Z=V[1],Q.setEnd(I,Z),Q.getBoundingClientRect()}else{var U="left",G=void 0;return I instanceof Text?(Z<I.data.length?(Q.setStart(I,Z),Q.setEnd(I,Z+1)):(Q.setStart(I,Z-1),Q.setEnd(I,Z),U="right"),G=Q.getBoundingClientRect()):(G=re.domNode.getBoundingClientRect(),Z>0&&(U="right")),{bottom:G.top+G.height,height:G.height,left:G[U],right:G[U],top:G.top,width:0}}}},{key:"getNativeRange",value:function(){var R=document.getSelection();if(R==null||R.rangeCount<=0)return null;var C=R.getRangeAt(0);if(C==null)return null;var T=this.normalizeNative(C);return N.info("getNativeRange",T),T}},{key:"getRange",value:function(){var R=this.getNativeRange();if(R==null)return[null,null];var C=this.normalizedToRange(R);return[C,R]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(R){var C=this,T=[[R.start.node,R.start.offset]];R.native.collapsed||T.push([R.end.node,R.end.offset]);var I=T.map(function(re){var Z=i(re,2),te=Z[0],Y=Z[1],Q=c.default.find(te,!0),H=Q.offset(C.scroll);return Y===0?H:Q instanceof c.default.Container?H+Q.length():H+Q.index(te,Y)}),B=Math.min(Math.max.apply(Math,w(I)),this.scroll.length()-1),X=Math.min.apply(Math,[B].concat(w(I)));return new k(X,B-X)}},{key:"normalizeNative",value:function(R){if(!A(this.root,R.startContainer)||!R.collapsed&&!A(this.root,R.endContainer))return null;var C={start:{node:R.startContainer,offset:R.startOffset},end:{node:R.endContainer,offset:R.endOffset},native:R};return[C.start,C.end].forEach(function(T){for(var I=T.node,B=T.offset;!(I instanceof Text)&&I.childNodes.length>0;)if(I.childNodes.length>B)I=I.childNodes[B],B=0;else if(I.childNodes.length===B)I=I.lastChild,B=I instanceof Text?I.data.length:I.childNodes.length+1;else break;T.node=I,T.offset=B}),C}},{key:"rangeToNative",value:function(R){var C=this,T=R.collapsed?[R.index]:[R.index,R.index+R.length],I=[],B=this.scroll.length();return T.forEach(function(X,re){X=Math.min(B-1,X);var Z=void 0,te=C.scroll.leaf(X),Y=i(te,2),Q=Y[0],H=Y[1],E=Q.position(H,re!==0),q=i(E,2);Z=q[0],H=q[1],I.push(Z,H)}),I.length<2&&(I=I.concat(I)),I}},{key:"scrollIntoView",value:function(R){var C=this.lastRange;if(C!=null){var T=this.getBounds(C.index,C.length);if(T!=null){var I=this.scroll.length()-1,B=this.scroll.line(Math.min(C.index,I)),X=i(B,1),re=X[0],Z=re;if(C.length>0){var te=this.scroll.line(Math.min(C.index+C.length,I)),Y=i(te,1);Z=Y[0]}if(!(re==null||Z==null)){var Q=R.getBoundingClientRect();T.top<Q.top?R.scrollTop-=Q.top-T.top:T.bottom>Q.bottom&&(R.scrollTop+=T.bottom-Q.bottom)}}}}},{key:"setNativeRange",value:function(R,C){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:R,I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:C,B=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(N.info("setNativeRange",R,C,T,I),!(R!=null&&(this.root.parentNode==null||R.parentNode==null||T.parentNode==null))){var X=document.getSelection();if(X!=null)if(R!=null){this.hasFocus()||this.root.focus();var re=(this.getNativeRange()||{}).native;if(re==null||B||R!==re.startContainer||C!==re.startOffset||T!==re.endContainer||I!==re.endOffset){R.tagName=="BR"&&(C=[].indexOf.call(R.parentNode.childNodes,R),R=R.parentNode),T.tagName=="BR"&&(I=[].indexOf.call(T.parentNode.childNodes,T),T=T.parentNode);var Z=document.createRange();Z.setStart(R,C),Z.setEnd(T,I),X.removeAllRanges(),X.addRange(Z)}}else X.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(R){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;if(typeof C=="string"&&(T=C,C=!1),N.info("setRange",R),R!=null){var I=this.rangeToNative(R);this.setNativeRange.apply(this,w(I).concat([C]))}else this.setNativeRange(null);this.update(T)}},{key:"update",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y.default.sources.USER,C=this.lastRange,T=this.getRange(),I=i(T,2),B=I[0],X=I[1];if(this.lastRange=B,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,m.default)(C,this.lastRange)){var re;!this.composing&&X!=null&&X.native.collapsed&&X.start.node!==this.cursor.textNode&&this.cursor.restore();var Z=[y.default.events.SELECTION_CHANGE,(0,d.default)(this.lastRange),(0,d.default)(C),R];if((re=this.emitter).emit.apply(re,[y.default.events.EDITOR_CHANGE].concat(Z)),R!==y.default.sources.SILENT){var te;(te=this.emitter).emit.apply(te,Z)}}}}]),O})();function A(O,D){try{D.parentNode}catch{return!1}return D instanceof Text&&(D=D.parentNode),O.contains(D)}n.Range=k,n.default=P}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function y(v,g){for(var b=0;b<g.length;b++){var w=g[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(v,w.key,w)}}return function(v,g,b){return g&&y(v.prototype,g),b&&y(v,b),v}})(),o=function y(v,g,b){v===null&&(v=Function.prototype);var w=Object.getOwnPropertyDescriptor(v,g);if(w===void 0){var j=Object.getPrototypeOf(v);return j===null?void 0:y(j,g,b)}else{if("value"in w)return w.value;var N=w.get;return N===void 0?void 0:N.call(b)}},l=s(0),c=u(l);function u(y){return y&&y.__esModule?y:{default:y}}function d(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function h(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function m(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var p=(function(y){m(v,y);function v(){return d(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return i(v,[{key:"insertInto",value:function(b,w){b.children.length===0?o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"insertInto",this).call(this,b,w):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),v})(c.default.Embed);p.blotName="break",p.tagName="BR",n.default=p}),(function(r,n,s){var i=this&&this.__extends||(function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,p){m.__proto__=p}||function(m,p){for(var y in p)p.hasOwnProperty(y)&&(m[y]=p[y])};return function(m,p){h(m,p);function y(){this.constructor=m}m.prototype=p===null?Object.create(p):(y.prototype=p.prototype,new y)}})();Object.defineProperty(n,"__esModule",{value:!0});var o=s(44),l=s(30),c=s(1),u=(function(h){i(m,h);function m(p){var y=h.call(this,p)||this;return y.build(),y}return m.prototype.appendChild=function(p){this.insertBefore(p)},m.prototype.attach=function(){h.prototype.attach.call(this),this.children.forEach(function(p){p.attach()})},m.prototype.build=function(){var p=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(y){try{var v=d(y);p.insertBefore(v,p.children.head||void 0)}catch(g){if(g instanceof c.ParchmentError)return;throw g}})},m.prototype.deleteAt=function(p,y){if(p===0&&y===this.length())return this.remove();this.children.forEachAt(p,y,function(v,g,b){v.deleteAt(g,b)})},m.prototype.descendant=function(p,y){var v=this.children.find(y),g=v[0],b=v[1];return p.blotName==null&&p(g)||p.blotName!=null&&g instanceof p?[g,b]:g instanceof m?g.descendant(p,b):[null,-1]},m.prototype.descendants=function(p,y,v){y===void 0&&(y=0),v===void 0&&(v=Number.MAX_VALUE);var g=[],b=v;return this.children.forEachAt(y,v,function(w,j,N){(p.blotName==null&&p(w)||p.blotName!=null&&w instanceof p)&&g.push(w),w instanceof m&&(g=g.concat(w.descendants(p,j,b))),b-=N}),g},m.prototype.detach=function(){this.children.forEach(function(p){p.detach()}),h.prototype.detach.call(this)},m.prototype.formatAt=function(p,y,v,g){this.children.forEachAt(p,y,function(b,w,j){b.formatAt(w,j,v,g)})},m.prototype.insertAt=function(p,y,v){var g=this.children.find(p),b=g[0],w=g[1];if(b)b.insertAt(w,y,v);else{var j=v==null?c.create("text",y):c.create(y,v);this.appendChild(j)}},m.prototype.insertBefore=function(p,y){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(v){return p instanceof v}))throw new c.ParchmentError("Cannot insert "+p.statics.blotName+" into "+this.statics.blotName);p.insertInto(this,y)},m.prototype.length=function(){return this.children.reduce(function(p,y){return p+y.length()},0)},m.prototype.moveChildren=function(p,y){this.children.forEach(function(v){p.insertBefore(v,y)})},m.prototype.optimize=function(p){if(h.prototype.optimize.call(this,p),this.children.length===0)if(this.statics.defaultChild!=null){var y=c.create(this.statics.defaultChild);this.appendChild(y),y.optimize(p)}else this.remove()},m.prototype.path=function(p,y){y===void 0&&(y=!1);var v=this.children.find(p,y),g=v[0],b=v[1],w=[[this,p]];return g instanceof m?w.concat(g.path(b,y)):(g!=null&&w.push([g,b]),w)},m.prototype.removeChild=function(p){this.children.remove(p)},m.prototype.replace=function(p){p instanceof m&&p.moveChildren(this),h.prototype.replace.call(this,p)},m.prototype.split=function(p,y){if(y===void 0&&(y=!1),!y){if(p===0)return this;if(p===this.length())return this.next}var v=this.clone();return this.parent.insertBefore(v,this.next),this.children.forEachAt(p,this.length(),function(g,b,w){g=g.split(b,y),v.appendChild(g)}),v},m.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},m.prototype.update=function(p,y){var v=this,g=[],b=[];p.forEach(function(w){w.target===v.domNode&&w.type==="childList"&&(g.push.apply(g,w.addedNodes),b.push.apply(b,w.removedNodes))}),b.forEach(function(w){if(!(w.parentNode!=null&&w.tagName!=="IFRAME"&&document.body.compareDocumentPosition(w)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var j=c.find(w);j!=null&&(j.domNode.parentNode==null||j.domNode.parentNode===v.domNode)&&j.detach()}}),g.filter(function(w){return w.parentNode==v.domNode}).sort(function(w,j){return w===j?0:w.compareDocumentPosition(j)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(w){var j=null;w.nextSibling!=null&&(j=c.find(w.nextSibling));var N=d(w);(N.next!=j||N.next==null)&&(N.parent!=null&&N.parent.removeChild(v),v.insertBefore(N,j||void 0))})},m})(l.default);function d(h){var m=c.find(h);if(m==null)try{m=c.create(h)}catch{m=c.create(c.Scope.INLINE),[].slice.call(h.childNodes).forEach(function(y){m.domNode.appendChild(y)}),h.parentNode&&h.parentNode.replaceChild(m.domNode,h),m.attach()}return m}n.default=u}),(function(r,n,s){var i=this&&this.__extends||(function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,p){m.__proto__=p}||function(m,p){for(var y in p)p.hasOwnProperty(y)&&(m[y]=p[y])};return function(m,p){h(m,p);function y(){this.constructor=m}m.prototype=p===null?Object.create(p):(y.prototype=p.prototype,new y)}})();Object.defineProperty(n,"__esModule",{value:!0});var o=s(12),l=s(31),c=s(17),u=s(1),d=(function(h){i(m,h);function m(p){var y=h.call(this,p)||this;return y.attributes=new l.default(y.domNode),y}return m.formats=function(p){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return p.tagName.toLowerCase()},m.prototype.format=function(p,y){var v=u.query(p);v instanceof o.default?this.attributes.attribute(v,y):y&&v!=null&&(p!==this.statics.blotName||this.formats()[p]!==y)&&this.replaceWith(p,y)},m.prototype.formats=function(){var p=this.attributes.values(),y=this.statics.formats(this.domNode);return y!=null&&(p[this.statics.blotName]=y),p},m.prototype.replaceWith=function(p,y){var v=h.prototype.replaceWith.call(this,p,y);return this.attributes.copy(v),v},m.prototype.update=function(p,y){var v=this;h.prototype.update.call(this,p,y),p.some(function(g){return g.target===v.domNode&&g.type==="attributes"})&&this.attributes.build()},m.prototype.wrap=function(p,y){var v=h.prototype.wrap.call(this,p,y);return v instanceof m&&v.statics.scope===this.statics.scope&&this.attributes.move(v),v},m})(c.default);n.default=d}),(function(r,n,s){var i=this&&this.__extends||(function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var m in h)h.hasOwnProperty(m)&&(d[m]=h[m])};return function(d,h){u(d,h);function m(){this.constructor=d}d.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}})();Object.defineProperty(n,"__esModule",{value:!0});var o=s(30),l=s(1),c=(function(u){i(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.value=function(h){return!0},d.prototype.index=function(h,m){return this.domNode===h||this.domNode.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(m,1):-1},d.prototype.position=function(h,m){var p=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return h>0&&(p+=1),[this.parent.domNode,p]},d.prototype.value=function(){var h;return h={},h[this.statics.blotName]=this.statics.value(this.domNode)||!0,h},d.scope=l.Scope.INLINE_BLOT,d})(o.default);n.default=c}),(function(r,n,s){var i=s(11),o=s(3),l={attributes:{compose:function(u,d,h){typeof u!="object"&&(u={}),typeof d!="object"&&(d={});var m=o(!0,{},d);h||(m=Object.keys(m).reduce(function(y,v){return m[v]!=null&&(y[v]=m[v]),y},{}));for(var p in u)u[p]!==void 0&&d[p]===void 0&&(m[p]=u[p]);return Object.keys(m).length>0?m:void 0},diff:function(u,d){typeof u!="object"&&(u={}),typeof d!="object"&&(d={});var h=Object.keys(u).concat(Object.keys(d)).reduce(function(m,p){return i(u[p],d[p])||(m[p]=d[p]===void 0?null:d[p]),m},{});return Object.keys(h).length>0?h:void 0},transform:function(u,d,h){if(typeof u!="object")return d;if(typeof d=="object"){if(!h)return d;var m=Object.keys(d).reduce(function(p,y){return u[y]===void 0&&(p[y]=d[y]),p},{});return Object.keys(m).length>0?m:void 0}}},iterator:function(u){return new c(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function c(u){this.ops=u,this.index=0,this.offset=0}c.prototype.hasNext=function(){return this.peekLength()<1/0},c.prototype.next=function(u){u||(u=1/0);var d=this.ops[this.index];if(d){var h=this.offset,m=l.length(d);if(u>=m-h?(u=m-h,this.index+=1,this.offset=0):this.offset+=u,typeof d.delete=="number")return{delete:u};var p={};return d.attributes&&(p.attributes=d.attributes),typeof d.retain=="number"?p.retain=u:typeof d.insert=="string"?p.insert=d.insert.substr(h,u):p.insert=d.insert,p}else return{retain:1/0}},c.prototype.peek=function(){return this.ops[this.index]},c.prototype.peekLength=function(){return this.ops[this.index]?l.length(this.ops[this.index])-this.offset:1/0},c.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},c.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,d=this.index,h=this.next(),m=this.ops.slice(this.index);return this.offset=u,this.index=d,[h].concat(m)}else return[]},r.exports=l}),(function(r,n){var s=(function(){function i(v,g){return g!=null&&v instanceof g}var o;try{o=Map}catch{o=function(){}}var l;try{l=Set}catch{l=function(){}}var c;try{c=Promise}catch{c=function(){}}function u(v,g,b,w,j){typeof g=="object"&&(b=g.depth,w=g.prototype,j=g.includeNonEnumerable,g=g.circular);var N=[],k=[],P=typeof Buffer<"u";typeof g>"u"&&(g=!0),typeof b>"u"&&(b=1/0);function A(O,D){if(O===null)return null;if(D===0)return O;var R,C;if(typeof O!="object")return O;if(i(O,o))R=new o;else if(i(O,l))R=new l;else if(i(O,c))R=new c(function(Q,H){O.then(function(E){Q(A(E,D-1))},function(E){H(A(E,D-1))})});else if(u.__isArray(O))R=[];else if(u.__isRegExp(O))R=new RegExp(O.source,y(O)),O.lastIndex&&(R.lastIndex=O.lastIndex);else if(u.__isDate(O))R=new Date(O.getTime());else{if(P&&Buffer.isBuffer(O))return Buffer.allocUnsafe?R=Buffer.allocUnsafe(O.length):R=new Buffer(O.length),O.copy(R),R;i(O,Error)?R=Object.create(O):typeof w>"u"?(C=Object.getPrototypeOf(O),R=Object.create(C)):(R=Object.create(w),C=w)}if(g){var T=N.indexOf(O);if(T!=-1)return k[T];N.push(O),k.push(R)}i(O,o)&&O.forEach(function(Q,H){var E=A(H,D-1),q=A(Q,D-1);R.set(E,q)}),i(O,l)&&O.forEach(function(Q){var H=A(Q,D-1);R.add(H)});for(var I in O){var B;C&&(B=Object.getOwnPropertyDescriptor(C,I)),!(B&&B.set==null)&&(R[I]=A(O[I],D-1))}if(Object.getOwnPropertySymbols)for(var X=Object.getOwnPropertySymbols(O),I=0;I<X.length;I++){var re=X[I],Z=Object.getOwnPropertyDescriptor(O,re);Z&&!Z.enumerable&&!j||(R[re]=A(O[re],D-1),Z.enumerable||Object.defineProperty(R,re,{enumerable:!1}))}if(j)for(var te=Object.getOwnPropertyNames(O),I=0;I<te.length;I++){var Y=te[I],Z=Object.getOwnPropertyDescriptor(O,Y);Z&&Z.enumerable||(R[Y]=A(O[Y],D-1),Object.defineProperty(R,Y,{enumerable:!1}))}return R}return A(v,b)}u.clonePrototype=function(g){if(g===null)return null;var b=function(){};return b.prototype=g,new b};function d(v){return Object.prototype.toString.call(v)}u.__objToStr=d;function h(v){return typeof v=="object"&&d(v)==="[object Date]"}u.__isDate=h;function m(v){return typeof v=="object"&&d(v)==="[object Array]"}u.__isArray=m;function p(v){return typeof v=="object"&&d(v)==="[object RegExp]"}u.__isRegExp=p;function y(v){var g="";return v.global&&(g+="g"),v.ignoreCase&&(g+="i"),v.multiline&&(g+="m"),g}return u.__getRegExpFlags=y,u})();typeof r=="object"&&r.exports&&(r.exports=s)}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function R(C,T){var I=[],B=!0,X=!1,re=void 0;try{for(var Z=C[Symbol.iterator](),te;!(B=(te=Z.next()).done)&&(I.push(te.value),!(T&&I.length===T));B=!0);}catch(Y){X=!0,re=Y}finally{try{!B&&Z.return&&Z.return()}finally{if(X)throw re}}return I}return function(C,T){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return R(C,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function R(C,T){for(var I=0;I<T.length;I++){var B=T[I];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(C,B.key,B)}}return function(C,T,I){return T&&R(C.prototype,T),I&&R(C,I),C}})(),l=function R(C,T,I){C===null&&(C=Function.prototype);var B=Object.getOwnPropertyDescriptor(C,T);if(B===void 0){var X=Object.getPrototypeOf(C);return X===null?void 0:R(X,T,I)}else{if("value"in B)return B.value;var re=B.get;return re===void 0?void 0:re.call(I)}},c=s(0),u=N(c),d=s(8),h=N(d),m=s(4),p=N(m),y=s(16),v=N(y),g=s(13),b=N(g),w=s(25),j=N(w);function N(R){return R&&R.__esModule?R:{default:R}}function k(R,C){if(!(R instanceof C))throw new TypeError("Cannot call a class as a function")}function P(R,C){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:R}function A(R,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);R.prototype=Object.create(C&&C.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(R,C):R.__proto__=C)}function O(R){return R instanceof p.default||R instanceof m.BlockEmbed}var D=(function(R){A(C,R);function C(T,I){k(this,C);var B=P(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,T));return B.emitter=I.emitter,Array.isArray(I.whitelist)&&(B.whitelist=I.whitelist.reduce(function(X,re){return X[re]=!0,X},{})),B.domNode.addEventListener("DOMNodeInserted",function(){}),B.optimize(),B.enable(),B}return o(C,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(I,B){var X=this.line(I),re=i(X,2),Z=re[0],te=re[1],Y=this.line(I+B),Q=i(Y,1),H=Q[0];if(l(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"deleteAt",this).call(this,I,B),H!=null&&Z!==H&&te>0){if(Z instanceof m.BlockEmbed||H instanceof m.BlockEmbed){this.optimize();return}if(Z instanceof b.default){var E=Z.newlineIndex(Z.length(),!0);if(E>-1&&(Z=Z.split(E+1),Z===H)){this.optimize();return}}else if(H instanceof b.default){var q=H.newlineIndex(0);q>-1&&H.split(q+1)}var V=H.children.head instanceof v.default?null:H.children.head;Z.moveChildren(H,V),Z.remove()}this.optimize()}},{key:"enable",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",I)}},{key:"formatAt",value:function(I,B,X,re){this.whitelist!=null&&!this.whitelist[X]||(l(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"formatAt",this).call(this,I,B,X,re),this.optimize())}},{key:"insertAt",value:function(I,B,X){if(!(X!=null&&this.whitelist!=null&&!this.whitelist[B])){if(I>=this.length())if(X==null||u.default.query(B,u.default.Scope.BLOCK)==null){var re=u.default.create(this.statics.defaultChild);this.appendChild(re),X==null&&B.endsWith(`
`)&&(B=B.slice(0,-1)),re.insertAt(0,B,X)}else{var Z=u.default.create(B,X);this.appendChild(Z)}else l(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"insertAt",this).call(this,I,B,X);this.optimize()}}},{key:"insertBefore",value:function(I,B){if(I.statics.scope===u.default.Scope.INLINE_BLOT){var X=u.default.create(this.statics.defaultChild);X.appendChild(I),I=X}l(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"insertBefore",this).call(this,I,B)}},{key:"leaf",value:function(I){return this.path(I).pop()||[null,-1]}},{key:"line",value:function(I){return I===this.length()?this.line(I-1):this.descendant(O,I)}},{key:"lines",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,X=function re(Z,te,Y){var Q=[],H=Y;return Z.children.forEachAt(te,Y,function(E,q,V){O(E)?Q.push(E):E instanceof u.default.Container&&(Q=Q.concat(re(E,q,H))),H-=V}),Q};return X(this,I,B)}},{key:"optimize",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(l(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"optimize",this).call(this,I,B),I.length>0&&this.emitter.emit(h.default.events.SCROLL_OPTIMIZE,I,B))}},{key:"path",value:function(I){return l(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"path",this).call(this,I).slice(1)}},{key:"update",value:function(I){if(this.batch!==!0){var B=h.default.sources.USER;typeof I=="string"&&(B=I),Array.isArray(I)||(I=this.observer.takeRecords()),I.length>0&&this.emitter.emit(h.default.events.SCROLL_BEFORE_UPDATE,B,I),l(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"update",this).call(this,I.concat([])),I.length>0&&this.emitter.emit(h.default.events.SCROLL_UPDATE,B,I)}}}]),C})(u.default.Scroll);D.blotName="scroll",D.className="ql-editor",D.tagName="DIV",D.defaultChild="block",D.allowedChildren=[p.default,m.BlockEmbed,j.default],n.default=D}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.SHORTKEY=n.default=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},o=(function(){function G(ne,de){var ce=[],he=!0,Le=!1,se=void 0;try{for(var Fe=ne[Symbol.iterator](),_e;!(he=(_e=Fe.next()).done)&&(ce.push(_e.value),!(de&&ce.length===de));he=!0);}catch(oe){Le=!0,se=oe}finally{try{!he&&Fe.return&&Fe.return()}finally{if(Le)throw se}}return ce}return function(ne,de){if(Array.isArray(ne))return ne;if(Symbol.iterator in Object(ne))return G(ne,de);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function G(ne,de){for(var ce=0;ce<de.length;ce++){var he=de[ce];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(ne,he.key,he)}}return function(ne,de,ce){return de&&G(ne.prototype,de),ce&&G(ne,ce),ne}})(),c=s(21),u=R(c),d=s(11),h=R(d),m=s(3),p=R(m),y=s(2),v=R(y),g=s(20),b=R(g),w=s(0),j=R(w),N=s(5),k=R(N),P=s(10),A=R(P),O=s(9),D=R(O);function R(G){return G&&G.__esModule?G:{default:G}}function C(G,ne,de){return ne in G?Object.defineProperty(G,ne,{value:de,enumerable:!0,configurable:!0,writable:!0}):G[ne]=de,G}function T(G,ne){if(!(G instanceof ne))throw new TypeError("Cannot call a class as a function")}function I(G,ne){if(!G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ne&&(typeof ne=="object"||typeof ne=="function")?ne:G}function B(G,ne){if(typeof ne!="function"&&ne!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ne);G.prototype=Object.create(ne&&ne.prototype,{constructor:{value:G,enumerable:!1,writable:!0,configurable:!0}}),ne&&(Object.setPrototypeOf?Object.setPrototypeOf(G,ne):G.__proto__=ne)}var X=(0,A.default)("quill:keyboard"),re=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",Z=(function(G){B(ne,G),l(ne,null,[{key:"match",value:function(ce,he){return he=U(he),["altKey","ctrlKey","metaKey","shiftKey"].some(function(Le){return!!he[Le]!==ce[Le]&&he[Le]!==null})?!1:he.key===(ce.which||ce.keyCode)}}]);function ne(de,ce){T(this,ne);var he=I(this,(ne.__proto__||Object.getPrototypeOf(ne)).call(this,de,ce));return he.bindings={},Object.keys(he.options.bindings).forEach(function(Le){Le==="list autofill"&&de.scroll.whitelist!=null&&!de.scroll.whitelist.list||he.options.bindings[Le]&&he.addBinding(he.options.bindings[Le])}),he.addBinding({key:ne.keys.ENTER,shiftKey:null},E),he.addBinding({key:ne.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(he.addBinding({key:ne.keys.BACKSPACE},{collapsed:!0},Y),he.addBinding({key:ne.keys.DELETE},{collapsed:!0},Q)):(he.addBinding({key:ne.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},Y),he.addBinding({key:ne.keys.DELETE},{collapsed:!0,suffix:/^.?$/},Q)),he.addBinding({key:ne.keys.BACKSPACE},{collapsed:!1},H),he.addBinding({key:ne.keys.DELETE},{collapsed:!1},H),he.addBinding({key:ne.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},Y),he.listen(),he}return l(ne,[{key:"addBinding",value:function(ce){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},se=U(ce);if(se==null||se.key==null)return X.warn("Attempted to add invalid keyboard binding",se);typeof he=="function"&&(he={handler:he}),typeof Le=="function"&&(Le={handler:Le}),se=(0,p.default)(se,he,Le),this.bindings[se.key]=this.bindings[se.key]||[],this.bindings[se.key].push(se)}},{key:"listen",value:function(){var ce=this;this.quill.root.addEventListener("keydown",function(he){if(!he.defaultPrevented){var Le=he.which||he.keyCode,se=(ce.bindings[Le]||[]).filter(function(ot){return ne.match(he,ot)});if(se.length!==0){var Fe=ce.quill.getSelection();if(!(Fe==null||!ce.quill.hasFocus())){var _e=ce.quill.getLine(Fe.index),oe=o(_e,2),ae=oe[0],ke=oe[1],we=ce.quill.getLeaf(Fe.index),Pe=o(we,2),pe=Pe[0],fe=Pe[1],De=Fe.length===0?[pe,fe]:ce.quill.getLeaf(Fe.index+Fe.length),Xe=o(De,2),Je=Xe[0],ht=Xe[1],Ue=pe instanceof j.default.Text?pe.value().slice(0,fe):"",at=Je instanceof j.default.Text?Je.value().slice(ht):"",Me={collapsed:Fe.length===0,empty:Fe.length===0&&ae.length()<=1,format:ce.quill.getFormat(Fe),offset:ke,prefix:Ue,suffix:at},ut=se.some(function(ot){if(ot.collapsed!=null&&ot.collapsed!==Me.collapsed||ot.empty!=null&&ot.empty!==Me.empty||ot.offset!=null&&ot.offset!==Me.offset)return!1;if(Array.isArray(ot.format)){if(ot.format.every(function(rt){return Me.format[rt]==null}))return!1}else if(i(ot.format)==="object"&&!Object.keys(ot.format).every(function(rt){return ot.format[rt]===!0?Me.format[rt]!=null:ot.format[rt]===!1?Me.format[rt]==null:(0,h.default)(ot.format[rt],Me.format[rt])}))return!1;return ot.prefix!=null&&!ot.prefix.test(Me.prefix)||ot.suffix!=null&&!ot.suffix.test(Me.suffix)?!1:ot.handler.call(ce,Fe,Me)!==!0});ut&&he.preventDefault()}}}})}}]),ne})(D.default);Z.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},Z.DEFAULTS={bindings:{bold:V("bold"),italic:V("italic"),underline:V("underline"),indent:{key:Z.keys.TAB,format:["blockquote","indent","list"],handler:function(ne,de){if(de.collapsed&&de.offset!==0)return!0;this.quill.format("indent","+1",k.default.sources.USER)}},outdent:{key:Z.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(ne,de){if(de.collapsed&&de.offset!==0)return!0;this.quill.format("indent","-1",k.default.sources.USER)}},"outdent backspace":{key:Z.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(ne,de){de.format.indent!=null?this.quill.format("indent","-1",k.default.sources.USER):de.format.list!=null&&this.quill.format("list",!1,k.default.sources.USER)}},"indent code-block":q(!0),"outdent code-block":q(!1),"remove tab":{key:Z.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(ne){this.quill.deleteText(ne.index-1,1,k.default.sources.USER)}},tab:{key:Z.keys.TAB,handler:function(ne){this.quill.history.cutoff();var de=new v.default().retain(ne.index).delete(ne.length).insert("	");this.quill.updateContents(de,k.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(ne.index+1,k.default.sources.SILENT)}},"list empty enter":{key:Z.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(ne,de){this.quill.format("list",!1,k.default.sources.USER),de.format.indent&&this.quill.format("indent",!1,k.default.sources.USER)}},"checklist enter":{key:Z.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(ne){var de=this.quill.getLine(ne.index),ce=o(de,2),he=ce[0],Le=ce[1],se=(0,p.default)({},he.formats(),{list:"checked"}),Fe=new v.default().retain(ne.index).insert(`
`,se).retain(he.length()-Le-1).retain(1,{list:"unchecked"});this.quill.updateContents(Fe,k.default.sources.USER),this.quill.setSelection(ne.index+1,k.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:Z.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(ne,de){var ce=this.quill.getLine(ne.index),he=o(ce,2),Le=he[0],se=he[1],Fe=new v.default().retain(ne.index).insert(`
`,de.format).retain(Le.length()-se-1).retain(1,{header:null});this.quill.updateContents(Fe,k.default.sources.USER),this.quill.setSelection(ne.index+1,k.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(ne,de){var ce=de.prefix.length,he=this.quill.getLine(ne.index),Le=o(he,2),se=Le[0],Fe=Le[1];if(Fe>ce)return!0;var _e=void 0;switch(de.prefix.trim()){case"[]":case"[ ]":_e="unchecked";break;case"[x]":_e="checked";break;case"-":case"*":_e="bullet";break;default:_e="ordered"}this.quill.insertText(ne.index," ",k.default.sources.USER),this.quill.history.cutoff();var oe=new v.default().retain(ne.index-Fe).delete(ce+1).retain(se.length()-2-Fe).retain(1,{list:_e});this.quill.updateContents(oe,k.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(ne.index-ce,k.default.sources.SILENT)}},"code exit":{key:Z.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(ne){var de=this.quill.getLine(ne.index),ce=o(de,2),he=ce[0],Le=ce[1],se=new v.default().retain(ne.index+he.length()-Le-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(se,k.default.sources.USER)}},"embed left":te(Z.keys.LEFT,!1),"embed left shift":te(Z.keys.LEFT,!0),"embed right":te(Z.keys.RIGHT,!1),"embed right shift":te(Z.keys.RIGHT,!0)}};function te(G,ne){var de,ce=G===Z.keys.LEFT?"prefix":"suffix";return de={key:G,shiftKey:ne,altKey:null},C(de,ce,/^$/),C(de,"handler",function(Le){var se=Le.index;G===Z.keys.RIGHT&&(se+=Le.length+1);var Fe=this.quill.getLeaf(se),_e=o(Fe,1),oe=_e[0];return oe instanceof j.default.Embed?(G===Z.keys.LEFT?ne?this.quill.setSelection(Le.index-1,Le.length+1,k.default.sources.USER):this.quill.setSelection(Le.index-1,k.default.sources.USER):ne?this.quill.setSelection(Le.index,Le.length+1,k.default.sources.USER):this.quill.setSelection(Le.index+Le.length+1,k.default.sources.USER),!1):!0}),de}function Y(G,ne){if(!(G.index===0||this.quill.getLength()<=1)){var de=this.quill.getLine(G.index),ce=o(de,1),he=ce[0],Le={};if(ne.offset===0){var se=this.quill.getLine(G.index-1),Fe=o(se,1),_e=Fe[0];if(_e!=null&&_e.length()>1){var oe=he.formats(),ae=this.quill.getFormat(G.index-1,1);Le=b.default.attributes.diff(oe,ae)||{}}}var ke=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(ne.prefix)?2:1;this.quill.deleteText(G.index-ke,ke,k.default.sources.USER),Object.keys(Le).length>0&&this.quill.formatLine(G.index-ke,ke,Le,k.default.sources.USER),this.quill.focus()}}function Q(G,ne){var de=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(ne.suffix)?2:1;if(!(G.index>=this.quill.getLength()-de)){var ce={},he=0,Le=this.quill.getLine(G.index),se=o(Le,1),Fe=se[0];if(ne.offset>=Fe.length()-1){var _e=this.quill.getLine(G.index+1),oe=o(_e,1),ae=oe[0];if(ae){var ke=Fe.formats(),we=this.quill.getFormat(G.index,1);ce=b.default.attributes.diff(ke,we)||{},he=ae.length()}}this.quill.deleteText(G.index,de,k.default.sources.USER),Object.keys(ce).length>0&&this.quill.formatLine(G.index+he-1,de,ce,k.default.sources.USER)}}function H(G){var ne=this.quill.getLines(G),de={};if(ne.length>1){var ce=ne[0].formats(),he=ne[ne.length-1].formats();de=b.default.attributes.diff(he,ce)||{}}this.quill.deleteText(G,k.default.sources.USER),Object.keys(de).length>0&&this.quill.formatLine(G.index,1,de,k.default.sources.USER),this.quill.setSelection(G.index,k.default.sources.SILENT),this.quill.focus()}function E(G,ne){var de=this;G.length>0&&this.quill.scroll.deleteAt(G.index,G.length);var ce=Object.keys(ne.format).reduce(function(he,Le){return j.default.query(Le,j.default.Scope.BLOCK)&&!Array.isArray(ne.format[Le])&&(he[Le]=ne.format[Le]),he},{});this.quill.insertText(G.index,`
`,ce,k.default.sources.USER),this.quill.setSelection(G.index+1,k.default.sources.SILENT),this.quill.focus(),Object.keys(ne.format).forEach(function(he){ce[he]==null&&(Array.isArray(ne.format[he])||he!=="link"&&de.quill.format(he,ne.format[he],k.default.sources.USER))})}function q(G){return{key:Z.keys.TAB,shiftKey:!G,format:{"code-block":!0},handler:function(de){var ce=j.default.query("code-block"),he=de.index,Le=de.length,se=this.quill.scroll.descendant(ce,he),Fe=o(se,2),_e=Fe[0],oe=Fe[1];if(_e!=null){var ae=this.quill.getIndex(_e),ke=_e.newlineIndex(oe,!0)+1,we=_e.newlineIndex(ae+oe+Le),Pe=_e.domNode.textContent.slice(ke,we).split(`
`);oe=0,Pe.forEach(function(pe,fe){G?(_e.insertAt(ke+oe,ce.TAB),oe+=ce.TAB.length,fe===0?he+=ce.TAB.length:Le+=ce.TAB.length):pe.startsWith(ce.TAB)&&(_e.deleteAt(ke+oe,ce.TAB.length),oe-=ce.TAB.length,fe===0?he-=ce.TAB.length:Le-=ce.TAB.length),oe+=pe.length+1}),this.quill.update(k.default.sources.USER),this.quill.setSelection(he,Le,k.default.sources.SILENT)}}}}function V(G){return{key:G[0].toUpperCase(),shortKey:!0,handler:function(de,ce){this.quill.format(G,!ce.format[G],k.default.sources.USER)}}}function U(G){if(typeof G=="string"||typeof G=="number")return U({key:G});if((typeof G>"u"?"undefined":i(G))==="object"&&(G=(0,u.default)(G,!1)),typeof G.key=="string")if(Z.keys[G.key.toUpperCase()]!=null)G.key=Z.keys[G.key.toUpperCase()];else if(G.key.length===1)G.key=G.key.toUpperCase().charCodeAt(0);else return null;return G.shortKey&&(G[re]=G.shortKey,delete G.shortKey),G}n.default=Z,n.SHORTKEY=re}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function b(w,j){var N=[],k=!0,P=!1,A=void 0;try{for(var O=w[Symbol.iterator](),D;!(k=(D=O.next()).done)&&(N.push(D.value),!(j&&N.length===j));k=!0);}catch(R){P=!0,A=R}finally{try{!k&&O.return&&O.return()}finally{if(P)throw A}}return N}return function(w,j){if(Array.isArray(w))return w;if(Symbol.iterator in Object(w))return b(w,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=function b(w,j,N){w===null&&(w=Function.prototype);var k=Object.getOwnPropertyDescriptor(w,j);if(k===void 0){var P=Object.getPrototypeOf(w);return P===null?void 0:b(P,j,N)}else{if("value"in k)return k.value;var A=k.get;return A===void 0?void 0:A.call(N)}},l=(function(){function b(w,j){for(var N=0;N<j.length;N++){var k=j[N];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(w,k.key,k)}}return function(w,j,N){return j&&b(w.prototype,j),N&&b(w,N),w}})(),c=s(0),u=m(c),d=s(7),h=m(d);function m(b){return b&&b.__esModule?b:{default:b}}function p(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function y(b,w){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:b}function v(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(b,w):b.__proto__=w)}var g=(function(b){v(w,b),l(w,null,[{key:"value",value:function(){}}]);function w(j,N){p(this,w);var k=y(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,j));return k.selection=N,k.textNode=document.createTextNode(w.CONTENTS),k.domNode.appendChild(k.textNode),k._length=0,k}return l(w,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(N,k){if(this._length!==0)return o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,N,k);for(var P=this,A=0;P!=null&&P.statics.scope!==u.default.Scope.BLOCK_BLOT;)A+=P.offset(P.parent),P=P.parent;P!=null&&(this._length=w.CONTENTS.length,P.optimize(),P.formatAt(A,w.CONTENTS.length,N,k),this._length=0)}},{key:"index",value:function(N,k){return N===this.textNode?0:o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"index",this).call(this,N,k)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var N=this.textNode,k=this.selection.getNativeRange(),P=void 0,A=void 0,O=void 0;if(k!=null&&k.start.node===N&&k.end.node===N){var D=[N,k.start.offset,k.end.offset];P=D[0],A=D[1],O=D[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==w.CONTENTS){var R=this.textNode.data.split(w.CONTENTS).join("");this.next instanceof h.default?(P=this.next.domNode,this.next.insertAt(0,R),this.textNode.data=w.CONTENTS):(this.textNode.data=R,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(w.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),A!=null){var C=[A,O].map(function(I){return Math.max(0,Math.min(P.data.length,I-1))}),T=i(C,2);return A=T[0],O=T[1],{startNode:P,startOffset:A,endNode:P,endOffset:O}}}}},{key:"update",value:function(N,k){var P=this;if(N.some(function(O){return O.type==="characterData"&&O.target===P.textNode})){var A=this.restore();A&&(k.range=A)}}},{key:"value",value:function(){return""}}]),w})(u.default.Embed);g.blotName="cursor",g.className="ql-cursor",g.tagName="span",g.CONTENTS="\uFEFF",n.default=g}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=s(0),o=u(i),l=s(4),c=u(l);function u(y){return y&&y.__esModule?y:{default:y}}function d(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function h(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function m(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var p=(function(y){m(v,y);function v(){return d(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v})(o.default.Container);p.allowedChildren=[c.default,l.BlockEmbed,p],n.default=p}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.ColorStyle=n.ColorClass=n.ColorAttributor=void 0;var i=(function(){function g(b,w){for(var j=0;j<w.length;j++){var N=w[j];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(b,N.key,N)}}return function(b,w,j){return w&&g(b.prototype,w),j&&g(b,j),b}})(),o=function g(b,w,j){b===null&&(b=Function.prototype);var N=Object.getOwnPropertyDescriptor(b,w);if(N===void 0){var k=Object.getPrototypeOf(b);return k===null?void 0:g(k,w,j)}else{if("value"in N)return N.value;var P=N.get;return P===void 0?void 0:P.call(j)}},l=s(0),c=u(l);function u(g){return g&&g.__esModule?g:{default:g}}function d(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}function h(g,b){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:g}function m(g,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);g.prototype=Object.create(b&&b.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(g,b):g.__proto__=b)}var p=(function(g){m(b,g);function b(){return d(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return i(b,[{key:"value",value:function(j){var N=o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,j);return N.startsWith("rgb(")?(N=N.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+N.split(",").map(function(k){return("00"+parseInt(k).toString(16)).slice(-2)}).join("")):N}}]),b})(c.default.Attributor.Style),y=new c.default.Attributor.Class("color","ql-color",{scope:c.default.Scope.INLINE}),v=new p("color","color",{scope:c.default.Scope.INLINE});n.ColorAttributor=p,n.ColorClass=y,n.ColorStyle=v}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.sanitize=n.default=void 0;var i=(function(){function v(g,b){for(var w=0;w<b.length;w++){var j=b[w];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(g,j.key,j)}}return function(g,b,w){return b&&v(g.prototype,b),w&&v(g,w),g}})(),o=function v(g,b,w){g===null&&(g=Function.prototype);var j=Object.getOwnPropertyDescriptor(g,b);if(j===void 0){var N=Object.getPrototypeOf(g);return N===null?void 0:v(N,b,w)}else{if("value"in j)return j.value;var k=j.get;return k===void 0?void 0:k.call(w)}},l=s(6),c=u(l);function u(v){return v&&v.__esModule?v:{default:v}}function d(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function h(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function m(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=(function(v){m(g,v);function g(){return d(this,g),h(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return i(g,[{key:"format",value:function(w,j){if(w!==this.statics.blotName||!j)return o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,w,j);j=this.constructor.sanitize(j),this.domNode.setAttribute("href",j)}}],[{key:"create",value:function(w){var j=o(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,w);return w=this.sanitize(w),j.setAttribute("href",w),j.setAttribute("rel","noopener noreferrer"),j.setAttribute("target","_blank"),j}},{key:"formats",value:function(w){return w.getAttribute("href")}},{key:"sanitize",value:function(w){return y(w,this.PROTOCOL_WHITELIST)?w:this.SANITIZED_URL}}]),g})(c.default);p.blotName="link",p.tagName="A",p.SANITIZED_URL="about:blank",p.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function y(v,g){var b=document.createElement("a");b.href=v;var w=b.href.slice(0,b.href.indexOf(":"));return g.indexOf(w)>-1}n.default=p,n.sanitize=y}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},o=(function(){function g(b,w){for(var j=0;j<w.length;j++){var N=w[j];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(b,N.key,N)}}return function(b,w,j){return w&&g(b.prototype,w),j&&g(b,j),b}})(),l=s(23),c=h(l),u=s(107),d=h(u);function h(g){return g&&g.__esModule?g:{default:g}}function m(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}var p=0;function y(g,b){g.setAttribute(b,g.getAttribute(b)!=="true")}var v=(function(){function g(b){var w=this;m(this,g),this.select=b,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){w.togglePicker()}),this.label.addEventListener("keydown",function(j){switch(j.keyCode){case c.default.keys.ENTER:w.togglePicker();break;case c.default.keys.ESCAPE:w.escape(),j.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(g,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),y(this.label,"aria-expanded"),y(this.options,"aria-hidden")}},{key:"buildItem",value:function(w){var j=this,N=document.createElement("span");return N.tabIndex="0",N.setAttribute("role","button"),N.classList.add("ql-picker-item"),w.hasAttribute("value")&&N.setAttribute("data-value",w.getAttribute("value")),w.textContent&&N.setAttribute("data-label",w.textContent),N.addEventListener("click",function(){j.selectItem(N,!0)}),N.addEventListener("keydown",function(k){switch(k.keyCode){case c.default.keys.ENTER:j.selectItem(N,!0),k.preventDefault();break;case c.default.keys.ESCAPE:j.escape(),k.preventDefault();break}}),N}},{key:"buildLabel",value:function(){var w=document.createElement("span");return w.classList.add("ql-picker-label"),w.innerHTML=d.default,w.tabIndex="0",w.setAttribute("role","button"),w.setAttribute("aria-expanded","false"),this.container.appendChild(w),w}},{key:"buildOptions",value:function(){var w=this,j=document.createElement("span");j.classList.add("ql-picker-options"),j.setAttribute("aria-hidden","true"),j.tabIndex="-1",j.id="ql-picker-options-"+p,p+=1,this.label.setAttribute("aria-controls",j.id),this.options=j,[].slice.call(this.select.options).forEach(function(N){var k=w.buildItem(N);j.appendChild(k),N.selected===!0&&w.selectItem(k)}),this.container.appendChild(j)}},{key:"buildPicker",value:function(){var w=this;[].slice.call(this.select.attributes).forEach(function(j){w.container.setAttribute(j.name,j.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var w=this;this.close(),setTimeout(function(){return w.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(w){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,N=this.container.querySelector(".ql-selected");if(w!==N&&(N?.classList.remove("ql-selected"),w!=null&&(w.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(w.parentNode.children,w),w.hasAttribute("data-value")?this.label.setAttribute("data-value",w.getAttribute("data-value")):this.label.removeAttribute("data-value"),w.hasAttribute("data-label")?this.label.setAttribute("data-label",w.getAttribute("data-label")):this.label.removeAttribute("data-label"),j))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":i(Event))==="object"){var k=document.createEvent("Event");k.initEvent("change",!0,!0),this.select.dispatchEvent(k)}this.close()}}},{key:"update",value:function(){var w=void 0;if(this.select.selectedIndex>-1){var j=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];w=this.select.options[this.select.selectedIndex],this.selectItem(j)}else this.selectItem(null);var N=w!=null&&w!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",N)}}]),g})();n.default=v}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=s(0),o=X(i),l=s(5),c=X(l),u=s(4),d=X(u),h=s(16),m=X(h),p=s(25),y=X(p),v=s(24),g=X(v),b=s(35),w=X(b),j=s(6),N=X(j),k=s(22),P=X(k),A=s(7),O=X(A),D=s(55),R=X(D),C=s(42),T=X(C),I=s(23),B=X(I);function X(re){return re&&re.__esModule?re:{default:re}}c.default.register({"blots/block":d.default,"blots/block/embed":u.BlockEmbed,"blots/break":m.default,"blots/container":y.default,"blots/cursor":g.default,"blots/embed":w.default,"blots/inline":N.default,"blots/scroll":P.default,"blots/text":O.default,"modules/clipboard":R.default,"modules/history":T.default,"modules/keyboard":B.default}),o.default.register(d.default,m.default,g.default,N.default,P.default,O.default),n.default=c.default}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=s(1),o=(function(){function l(c){this.domNode=c,this.domNode[i.DATA_KEY]={blot:this}}return Object.defineProperty(l.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),l.create=function(c){if(this.tagName==null)throw new i.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof c=="string"&&(c=c.toUpperCase(),parseInt(c).toString()===c&&(c=parseInt(c))),typeof c=="number"?u=document.createElement(this.tagName[c-1]):this.tagName.indexOf(c)>-1?u=document.createElement(c):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},l.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},l.prototype.clone=function(){var c=this.domNode.cloneNode(!1);return i.create(c)},l.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[i.DATA_KEY]},l.prototype.deleteAt=function(c,u){var d=this.isolate(c,u);d.remove()},l.prototype.formatAt=function(c,u,d,h){var m=this.isolate(c,u);if(i.query(d,i.Scope.BLOT)!=null&&h)m.wrap(d,h);else if(i.query(d,i.Scope.ATTRIBUTE)!=null){var p=i.create(this.statics.scope);m.wrap(p),p.format(d,h)}},l.prototype.insertAt=function(c,u,d){var h=d==null?i.create("text",u):i.create(u,d),m=this.split(c);this.parent.insertBefore(h,m)},l.prototype.insertInto=function(c,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var d=null;c.children.insertBefore(this,u),u!=null&&(d=u.domNode),(this.domNode.parentNode!=c.domNode||this.domNode.nextSibling!=d)&&c.domNode.insertBefore(this.domNode,d),this.parent=c,this.attach()},l.prototype.isolate=function(c,u){var d=this.split(c);return d.split(u),d},l.prototype.length=function(){return 1},l.prototype.offset=function(c){return c===void 0&&(c=this.parent),this.parent==null||this==c?0:this.parent.children.offset(this)+this.parent.offset(c)},l.prototype.optimize=function(c){this.domNode[i.DATA_KEY]!=null&&delete this.domNode[i.DATA_KEY].mutations},l.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},l.prototype.replace=function(c){c.parent!=null&&(c.parent.insertBefore(this,c.next),c.remove())},l.prototype.replaceWith=function(c,u){var d=typeof c=="string"?i.create(c,u):c;return d.replace(this),d},l.prototype.split=function(c,u){return c===0?this:this.next},l.prototype.update=function(c,u){},l.prototype.wrap=function(c,u){var d=typeof c=="string"?i.create(c,u):c;return this.parent!=null&&this.parent.insertBefore(d,this.next),d.appendChild(this),d},l.blotName="abstract",l})();n.default=o}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=s(12),o=s(32),l=s(33),c=s(1),u=(function(){function d(h){this.attributes={},this.domNode=h,this.build()}return d.prototype.attribute=function(h,m){m?h.add(this.domNode,m)&&(h.value(this.domNode)!=null?this.attributes[h.attrName]=h:delete this.attributes[h.attrName]):(h.remove(this.domNode),delete this.attributes[h.attrName])},d.prototype.build=function(){var h=this;this.attributes={};var m=i.default.keys(this.domNode),p=o.default.keys(this.domNode),y=l.default.keys(this.domNode);m.concat(p).concat(y).forEach(function(v){var g=c.query(v,c.Scope.ATTRIBUTE);g instanceof i.default&&(h.attributes[g.attrName]=g)})},d.prototype.copy=function(h){var m=this;Object.keys(this.attributes).forEach(function(p){var y=m.attributes[p].value(m.domNode);h.format(p,y)})},d.prototype.move=function(h){var m=this;this.copy(h),Object.keys(this.attributes).forEach(function(p){m.attributes[p].remove(m.domNode)}),this.attributes={}},d.prototype.values=function(){var h=this;return Object.keys(this.attributes).reduce(function(m,p){return m[p]=h.attributes[p].value(h.domNode),m},{})},d})();n.default=u}),(function(r,n,s){var i=this&&this.__extends||(function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var m in h)h.hasOwnProperty(m)&&(d[m]=h[m])};return function(d,h){u(d,h);function m(){this.constructor=d}d.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}})();Object.defineProperty(n,"__esModule",{value:!0});var o=s(12);function l(u,d){var h=u.getAttribute("class")||"";return h.split(/\s+/).filter(function(m){return m.indexOf(d+"-")===0})}var c=(function(u){i(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.keys=function(h){return(h.getAttribute("class")||"").split(/\s+/).map(function(m){return m.split("-").slice(0,-1).join("-")})},d.prototype.add=function(h,m){return this.canAdd(h,m)?(this.remove(h),h.classList.add(this.keyName+"-"+m),!0):!1},d.prototype.remove=function(h){var m=l(h,this.keyName);m.forEach(function(p){h.classList.remove(p)}),h.classList.length===0&&h.removeAttribute("class")},d.prototype.value=function(h){var m=l(h,this.keyName)[0]||"",p=m.slice(this.keyName.length+1);return this.canAdd(h,p)?p:""},d})(o.default);n.default=c}),(function(r,n,s){var i=this&&this.__extends||(function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var m in h)h.hasOwnProperty(m)&&(d[m]=h[m])};return function(d,h){u(d,h);function m(){this.constructor=d}d.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}})();Object.defineProperty(n,"__esModule",{value:!0});var o=s(12);function l(u){var d=u.split("-"),h=d.slice(1).map(function(m){return m[0].toUpperCase()+m.slice(1)}).join("");return d[0]+h}var c=(function(u){i(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.keys=function(h){return(h.getAttribute("style")||"").split(";").map(function(m){var p=m.split(":");return p[0].trim()})},d.prototype.add=function(h,m){return this.canAdd(h,m)?(h.style[l(this.keyName)]=m,!0):!1},d.prototype.remove=function(h){h.style[l(this.keyName)]="",h.getAttribute("style")||h.removeAttribute("style")},d.prototype.value=function(h){var m=h.style[l(this.keyName)];return this.canAdd(h,m)?m:""},d})(o.default);n.default=c}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function c(u,d){for(var h=0;h<d.length;h++){var m=d[h];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(u,m.key,m)}}return function(u,d,h){return d&&c(u.prototype,d),h&&c(u,h),u}})();function o(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}var l=(function(){function c(u,d){o(this,c),this.quill=u,this.options=d,this.modules={}}return i(c,[{key:"init",value:function(){var d=this;Object.keys(this.options.modules).forEach(function(h){d.modules[h]==null&&d.addModule(h)})}},{key:"addModule",value:function(d){var h=this.quill.constructor.import("modules/"+d);return this.modules[d]=new h(this.quill,this.options.modules[d]||{}),this.modules[d]}}]),c})();l.DEFAULTS={modules:{}},l.themes={default:l},n.default=l}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function b(w,j){for(var N=0;N<j.length;N++){var k=j[N];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(w,k.key,k)}}return function(w,j,N){return j&&b(w.prototype,j),N&&b(w,N),w}})(),o=function b(w,j,N){w===null&&(w=Function.prototype);var k=Object.getOwnPropertyDescriptor(w,j);if(k===void 0){var P=Object.getPrototypeOf(w);return P===null?void 0:b(P,j,N)}else{if("value"in k)return k.value;var A=k.get;return A===void 0?void 0:A.call(N)}},l=s(0),c=h(l),u=s(7),d=h(u);function h(b){return b&&b.__esModule?b:{default:b}}function m(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function p(b,w){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:b}function y(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(b,w):b.__proto__=w)}var v="\uFEFF",g=(function(b){y(w,b);function w(j){m(this,w);var N=p(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,j));return N.contentNode=document.createElement("span"),N.contentNode.setAttribute("contenteditable",!1),[].slice.call(N.domNode.childNodes).forEach(function(k){N.contentNode.appendChild(k)}),N.leftGuard=document.createTextNode(v),N.rightGuard=document.createTextNode(v),N.domNode.appendChild(N.leftGuard),N.domNode.appendChild(N.contentNode),N.domNode.appendChild(N.rightGuard),N}return i(w,[{key:"index",value:function(N,k){return N===this.leftGuard?0:N===this.rightGuard?1:o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"index",this).call(this,N,k)}},{key:"restore",value:function(N){var k=void 0,P=void 0,A=N.data.split(v).join("");if(N===this.leftGuard)if(this.prev instanceof d.default){var O=this.prev.length();this.prev.insertAt(O,A),k={startNode:this.prev.domNode,startOffset:O+A.length}}else P=document.createTextNode(A),this.parent.insertBefore(c.default.create(P),this),k={startNode:P,startOffset:A.length};else N===this.rightGuard&&(this.next instanceof d.default?(this.next.insertAt(0,A),k={startNode:this.next.domNode,startOffset:A.length}):(P=document.createTextNode(A),this.parent.insertBefore(c.default.create(P),this.next),k={startNode:P,startOffset:A.length}));return N.data=v,k}},{key:"update",value:function(N,k){var P=this;N.forEach(function(A){if(A.type==="characterData"&&(A.target===P.leftGuard||A.target===P.rightGuard)){var O=P.restore(A.target);O&&(k.range=O)}})}}]),w})(c.default.Embed);n.default=g}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.AlignStyle=n.AlignClass=n.AlignAttribute=void 0;var i=s(0),o=l(i);function l(m){return m&&m.__esModule?m:{default:m}}var c={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new o.default.Attributor.Attribute("align","align",c),d=new o.default.Attributor.Class("align","ql-align",c),h=new o.default.Attributor.Style("align","text-align",c);n.AlignAttribute=u,n.AlignClass=d,n.AlignStyle=h}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.BackgroundStyle=n.BackgroundClass=void 0;var i=s(0),o=c(i),l=s(26);function c(h){return h&&h.__esModule?h:{default:h}}var u=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),d=new l.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});n.BackgroundClass=u,n.BackgroundStyle=d}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.DirectionStyle=n.DirectionClass=n.DirectionAttribute=void 0;var i=s(0),o=l(i);function l(m){return m&&m.__esModule?m:{default:m}}var c={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},u=new o.default.Attributor.Attribute("direction","dir",c),d=new o.default.Attributor.Class("direction","ql-direction",c),h=new o.default.Attributor.Style("direction","direction",c);n.DirectionAttribute=u,n.DirectionClass=d,n.DirectionStyle=h}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.FontClass=n.FontStyle=void 0;var i=(function(){function b(w,j){for(var N=0;N<j.length;N++){var k=j[N];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(w,k.key,k)}}return function(w,j,N){return j&&b(w.prototype,j),N&&b(w,N),w}})(),o=function b(w,j,N){w===null&&(w=Function.prototype);var k=Object.getOwnPropertyDescriptor(w,j);if(k===void 0){var P=Object.getPrototypeOf(w);return P===null?void 0:b(P,j,N)}else{if("value"in k)return k.value;var A=k.get;return A===void 0?void 0:A.call(N)}},l=s(0),c=u(l);function u(b){return b&&b.__esModule?b:{default:b}}function d(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function h(b,w){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:b}function m(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(b,w):b.__proto__=w)}var p={scope:c.default.Scope.INLINE,whitelist:["serif","monospace"]},y=new c.default.Attributor.Class("font","ql-font",p),v=(function(b){m(w,b);function w(){return d(this,w),h(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return i(w,[{key:"value",value:function(N){return o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"value",this).call(this,N).replace(/["']/g,"")}}]),w})(c.default.Attributor.Style),g=new v("font","font-family",p);n.FontStyle=g,n.FontClass=y}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.SizeStyle=n.SizeClass=void 0;var i=s(0),o=l(i);function l(d){return d&&d.__esModule?d:{default:d}}var c=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});n.SizeClass=c,n.SizeStyle=u}),(function(r,n,s){r.exports={align:{"":s(76),center:s(77),right:s(78),justify:s(79)},background:s(80),blockquote:s(81),bold:s(82),clean:s(83),code:s(58),"code-block":s(58),color:s(84),direction:{"":s(85),rtl:s(86)},float:{center:s(87),full:s(88),left:s(89),right:s(90)},formula:s(91),header:{1:s(92),2:s(93)},italic:s(94),image:s(95),indent:{"+1":s(96),"-1":s(97)},link:s(98),list:{ordered:s(99),bullet:s(100),check:s(101)},script:{sub:s(102),super:s(103)},strike:s(104),underline:s(105),video:s(106)}}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.getLastChangeIndex=n.default=void 0;var i=(function(){function j(N,k){for(var P=0;P<k.length;P++){var A=k[P];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(N,A.key,A)}}return function(N,k,P){return k&&j(N.prototype,k),P&&j(N,P),N}})(),o=s(0),l=m(o),c=s(5),u=m(c),d=s(9),h=m(d);function m(j){return j&&j.__esModule?j:{default:j}}function p(j,N){if(!(j instanceof N))throw new TypeError("Cannot call a class as a function")}function y(j,N){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:j}function v(j,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);j.prototype=Object.create(N&&N.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(j,N):j.__proto__=N)}var g=(function(j){v(N,j);function N(k,P){p(this,N);var A=y(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,k,P));return A.lastRecorded=0,A.ignoreChange=!1,A.clear(),A.quill.on(u.default.events.EDITOR_CHANGE,function(O,D,R,C){O!==u.default.events.TEXT_CHANGE||A.ignoreChange||(!A.options.userOnly||C===u.default.sources.USER?A.record(D,R):A.transform(D))}),A.quill.keyboard.addBinding({key:"Z",shortKey:!0},A.undo.bind(A)),A.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},A.redo.bind(A)),/Win/i.test(navigator.platform)&&A.quill.keyboard.addBinding({key:"Y",shortKey:!0},A.redo.bind(A)),A}return i(N,[{key:"change",value:function(P,A){if(this.stack[P].length!==0){var O=this.stack[P].pop();this.stack[A].push(O),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(O[P],u.default.sources.USER),this.ignoreChange=!1;var D=w(O[P]);this.quill.setSelection(D)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(P,A){if(P.ops.length!==0){this.stack.redo=[];var O=this.quill.getContents().diff(A),D=Date.now();if(this.lastRecorded+this.options.delay>D&&this.stack.undo.length>0){var R=this.stack.undo.pop();O=O.compose(R.undo),P=R.redo.compose(P)}else this.lastRecorded=D;this.stack.undo.push({redo:P,undo:O}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(P){this.stack.undo.forEach(function(A){A.undo=P.transform(A.undo,!0),A.redo=P.transform(A.redo,!0)}),this.stack.redo.forEach(function(A){A.undo=P.transform(A.undo,!0),A.redo=P.transform(A.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),N})(h.default);g.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function b(j){var N=j.ops[j.ops.length-1];return N==null?!1:N.insert!=null?typeof N.insert=="string"&&N.insert.endsWith(`
`):N.attributes!=null?Object.keys(N.attributes).some(function(k){return l.default.query(k,l.default.Scope.BLOCK)!=null}):!1}function w(j){var N=j.reduce(function(P,A){return P+=A.delete||0,P},0),k=j.length()-N;return b(j)&&(k-=1),k}n.default=g,n.getLastChangeIndex=w}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BaseTooltip=void 0;var i=(function(){function E(q,V){for(var U=0;U<V.length;U++){var G=V[U];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(q,G.key,G)}}return function(q,V,U){return V&&E(q.prototype,V),U&&E(q,U),q}})(),o=function E(q,V,U){q===null&&(q=Function.prototype);var G=Object.getOwnPropertyDescriptor(q,V);if(G===void 0){var ne=Object.getPrototypeOf(q);return ne===null?void 0:E(ne,V,U)}else{if("value"in G)return G.value;var de=G.get;return de===void 0?void 0:de.call(U)}},l=s(3),c=D(l),u=s(2),d=D(u),h=s(8),m=D(h),p=s(23),y=D(p),v=s(34),g=D(v),b=s(59),w=D(b),j=s(60),N=D(j),k=s(28),P=D(k),A=s(61),O=D(A);function D(E){return E&&E.__esModule?E:{default:E}}function R(E,q){if(!(E instanceof q))throw new TypeError("Cannot call a class as a function")}function C(E,q){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q&&(typeof q=="object"||typeof q=="function")?q:E}function T(E,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof q);E.prototype=Object.create(q&&q.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(E,q):E.__proto__=q)}var I=[!1,"center","right","justify"],B=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],X=[!1,"serif","monospace"],re=["1","2","3",!1],Z=["small",!1,"large","huge"],te=(function(E){T(q,E);function q(V,U){R(this,q);var G=C(this,(q.__proto__||Object.getPrototypeOf(q)).call(this,V,U)),ne=function de(ce){if(!document.body.contains(V.root))return document.body.removeEventListener("click",de);G.tooltip!=null&&!G.tooltip.root.contains(ce.target)&&document.activeElement!==G.tooltip.textbox&&!G.quill.hasFocus()&&G.tooltip.hide(),G.pickers!=null&&G.pickers.forEach(function(he){he.container.contains(ce.target)||he.close()})};return V.emitter.listenDOM("click",document.body,ne),G}return i(q,[{key:"addModule",value:function(U){var G=o(q.prototype.__proto__||Object.getPrototypeOf(q.prototype),"addModule",this).call(this,U);return U==="toolbar"&&this.extendToolbar(G),G}},{key:"buildButtons",value:function(U,G){U.forEach(function(ne){var de=ne.getAttribute("class")||"";de.split(/\s+/).forEach(function(ce){if(ce.startsWith("ql-")&&(ce=ce.slice(3),G[ce]!=null))if(ce==="direction")ne.innerHTML=G[ce][""]+G[ce].rtl;else if(typeof G[ce]=="string")ne.innerHTML=G[ce];else{var he=ne.value||"";he!=null&&G[ce][he]&&(ne.innerHTML=G[ce][he])}})})}},{key:"buildPickers",value:function(U,G){var ne=this;this.pickers=U.map(function(ce){if(ce.classList.contains("ql-align"))return ce.querySelector("option")==null&&H(ce,I),new N.default(ce,G.align);if(ce.classList.contains("ql-background")||ce.classList.contains("ql-color")){var he=ce.classList.contains("ql-background")?"background":"color";return ce.querySelector("option")==null&&H(ce,B,he==="background"?"#ffffff":"#000000"),new w.default(ce,G[he])}else return ce.querySelector("option")==null&&(ce.classList.contains("ql-font")?H(ce,X):ce.classList.contains("ql-header")?H(ce,re):ce.classList.contains("ql-size")&&H(ce,Z)),new P.default(ce)});var de=function(){ne.pickers.forEach(function(he){he.update()})};this.quill.on(m.default.events.EDITOR_CHANGE,de)}}]),q})(g.default);te.DEFAULTS=(0,c.default)(!0,{},g.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var q=this,V=this.container.querySelector("input.ql-image[type=file]");V==null&&(V=document.createElement("input"),V.setAttribute("type","file"),V.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),V.classList.add("ql-image"),V.addEventListener("change",function(){if(V.files!=null&&V.files[0]!=null){var U=new FileReader;U.onload=function(G){var ne=q.quill.getSelection(!0);q.quill.updateContents(new d.default().retain(ne.index).delete(ne.length).insert({image:G.target.result}),m.default.sources.USER),q.quill.setSelection(ne.index+1,m.default.sources.SILENT),V.value=""},U.readAsDataURL(V.files[0])}}),this.container.appendChild(V)),V.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var Y=(function(E){T(q,E);function q(V,U){R(this,q);var G=C(this,(q.__proto__||Object.getPrototypeOf(q)).call(this,V,U));return G.textbox=G.root.querySelector('input[type="text"]'),G.listen(),G}return i(q,[{key:"listen",value:function(){var U=this;this.textbox.addEventListener("keydown",function(G){y.default.match(G,"enter")?(U.save(),G.preventDefault()):y.default.match(G,"escape")&&(U.cancel(),G.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),G!=null?this.textbox.value=G:U!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+U)||""),this.root.setAttribute("data-mode",U)}},{key:"restoreFocus",value:function(){var U=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=U}},{key:"save",value:function(){var U=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var G=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",U,m.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",U,m.default.sources.USER)),this.quill.root.scrollTop=G;break}case"video":U=Q(U);case"formula":{if(!U)break;var ne=this.quill.getSelection(!0);if(ne!=null){var de=ne.index+ne.length;this.quill.insertEmbed(de,this.root.getAttribute("data-mode"),U,m.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(de+1," ",m.default.sources.USER),this.quill.setSelection(de+2,m.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),q})(O.default);function Q(E){var q=E.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||E.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return q?(q[1]||"https")+"://www.youtube.com/embed/"+q[2]+"?showinfo=0":(q=E.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(q[1]||"https")+"://player.vimeo.com/video/"+q[2]+"/":E}function H(E,q){var V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;q.forEach(function(U){var G=document.createElement("option");U===V?G.setAttribute("selected","selected"):G.setAttribute("value",U),E.appendChild(G)})}n.BaseTooltip=Y,n.default=te}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];this.insertBefore(l[0],null),l.length>1&&this.append.apply(this,l.slice(1))},o.prototype.contains=function(l){for(var c,u=this.iterator();c=u();)if(c===l)return!0;return!1},o.prototype.insertBefore=function(l,c){l&&(l.next=c,c!=null?(l.prev=c.prev,c.prev!=null&&(c.prev.next=l),c.prev=l,c===this.head&&(this.head=l)):this.tail!=null?(this.tail.next=l,l.prev=this.tail,this.tail=l):(l.prev=null,this.head=this.tail=l),this.length+=1)},o.prototype.offset=function(l){for(var c=0,u=this.head;u!=null;){if(u===l)return c;c+=u.length(),u=u.next}return-1},o.prototype.remove=function(l){this.contains(l)&&(l.prev!=null&&(l.prev.next=l.next),l.next!=null&&(l.next.prev=l.prev),l===this.head&&(this.head=l.next),l===this.tail&&(this.tail=l.prev),this.length-=1)},o.prototype.iterator=function(l){return l===void 0&&(l=this.head),function(){var c=l;return l!=null&&(l=l.next),c}},o.prototype.find=function(l,c){c===void 0&&(c=!1);for(var u,d=this.iterator();u=d();){var h=u.length();if(l<h||c&&l===h&&(u.next==null||u.next.length()!==0))return[u,l];l-=h}return[null,0]},o.prototype.forEach=function(l){for(var c,u=this.iterator();c=u();)l(c)},o.prototype.forEachAt=function(l,c,u){if(!(c<=0))for(var d=this.find(l),h=d[0],m=d[1],p,y=l-m,v=this.iterator(h);(p=v())&&y<l+c;){var g=p.length();l>y?u(p,l-y,Math.min(c,y+g-l)):u(p,0,Math.min(g,l+c-y)),y+=g}},o.prototype.map=function(l){return this.reduce(function(c,u){return c.push(l(u)),c},[])},o.prototype.reduce=function(l,c){for(var u,d=this.iterator();u=d();)c=l(c,u);return c},o})();n.default=i}),(function(r,n,s){var i=this&&this.__extends||(function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,p){m.__proto__=p}||function(m,p){for(var y in p)p.hasOwnProperty(y)&&(m[y]=p[y])};return function(m,p){h(m,p);function y(){this.constructor=m}m.prototype=p===null?Object.create(p):(y.prototype=p.prototype,new y)}})();Object.defineProperty(n,"__esModule",{value:!0});var o=s(17),l=s(1),c={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,d=(function(h){i(m,h);function m(p){var y=h.call(this,p)||this;return y.scroll=y,y.observer=new MutationObserver(function(v){y.update(v)}),y.observer.observe(y.domNode,c),y.attach(),y}return m.prototype.detach=function(){h.prototype.detach.call(this),this.observer.disconnect()},m.prototype.deleteAt=function(p,y){this.update(),p===0&&y===this.length()?this.children.forEach(function(v){v.remove()}):h.prototype.deleteAt.call(this,p,y)},m.prototype.formatAt=function(p,y,v,g){this.update(),h.prototype.formatAt.call(this,p,y,v,g)},m.prototype.insertAt=function(p,y,v){this.update(),h.prototype.insertAt.call(this,p,y,v)},m.prototype.optimize=function(p,y){var v=this;p===void 0&&(p=[]),y===void 0&&(y={}),h.prototype.optimize.call(this,y);for(var g=[].slice.call(this.observer.takeRecords());g.length>0;)p.push(g.pop());for(var b=function(k,P){P===void 0&&(P=!0),!(k==null||k===v)&&k.domNode.parentNode!=null&&(k.domNode[l.DATA_KEY].mutations==null&&(k.domNode[l.DATA_KEY].mutations=[]),P&&b(k.parent))},w=function(k){k.domNode[l.DATA_KEY]==null||k.domNode[l.DATA_KEY].mutations==null||(k instanceof o.default&&k.children.forEach(w),k.optimize(y))},j=p,N=0;j.length>0;N+=1){if(N>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(j.forEach(function(k){var P=l.find(k.target,!0);P!=null&&(P.domNode===k.target&&(k.type==="childList"?(b(l.find(k.previousSibling,!1)),[].forEach.call(k.addedNodes,function(A){var O=l.find(A,!1);b(O,!1),O instanceof o.default&&O.children.forEach(function(D){b(D,!1)})})):k.type==="attributes"&&b(P.prev)),b(P))}),this.children.forEach(w),j=[].slice.call(this.observer.takeRecords()),g=j.slice();g.length>0;)p.push(g.pop())}},m.prototype.update=function(p,y){var v=this;y===void 0&&(y={}),p=p||this.observer.takeRecords(),p.map(function(g){var b=l.find(g.target,!0);return b==null?null:b.domNode[l.DATA_KEY].mutations==null?(b.domNode[l.DATA_KEY].mutations=[g],b):(b.domNode[l.DATA_KEY].mutations.push(g),null)}).forEach(function(g){g==null||g===v||g.domNode[l.DATA_KEY]==null||g.update(g.domNode[l.DATA_KEY].mutations||[],y)}),this.domNode[l.DATA_KEY].mutations!=null&&h.prototype.update.call(this,this.domNode[l.DATA_KEY].mutations,y),this.optimize(p,y)},m.blotName="scroll",m.defaultChild="block",m.scope=l.Scope.BLOCK_BLOT,m.tagName="DIV",m})(o.default);n.default=d}),(function(r,n,s){var i=this&&this.__extends||(function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,m){h.__proto__=m}||function(h,m){for(var p in m)m.hasOwnProperty(p)&&(h[p]=m[p])};return function(h,m){d(h,m);function p(){this.constructor=h}h.prototype=m===null?Object.create(m):(p.prototype=m.prototype,new p)}})();Object.defineProperty(n,"__esModule",{value:!0});var o=s(18),l=s(1);function c(d,h){if(Object.keys(d).length!==Object.keys(h).length)return!1;for(var m in d)if(d[m]!==h[m])return!1;return!0}var u=(function(d){i(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.formats=function(m){if(m.tagName!==h.tagName)return d.formats.call(this,m)},h.prototype.format=function(m,p){var y=this;m===this.statics.blotName&&!p?(this.children.forEach(function(v){v instanceof o.default||(v=v.wrap(h.blotName,!0)),y.attributes.copy(v)}),this.unwrap()):d.prototype.format.call(this,m,p)},h.prototype.formatAt=function(m,p,y,v){if(this.formats()[y]!=null||l.query(y,l.Scope.ATTRIBUTE)){var g=this.isolate(m,p);g.format(y,v)}else d.prototype.formatAt.call(this,m,p,y,v)},h.prototype.optimize=function(m){d.prototype.optimize.call(this,m);var p=this.formats();if(Object.keys(p).length===0)return this.unwrap();var y=this.next;y instanceof h&&y.prev===this&&c(p,y.formats())&&(y.moveChildren(this),y.remove())},h.blotName="inline",h.scope=l.Scope.INLINE_BLOT,h.tagName="SPAN",h})(o.default);n.default=u}),(function(r,n,s){var i=this&&this.__extends||(function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var m in h)h.hasOwnProperty(m)&&(d[m]=h[m])};return function(d,h){u(d,h);function m(){this.constructor=d}d.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}})();Object.defineProperty(n,"__esModule",{value:!0});var o=s(18),l=s(1),c=(function(u){i(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.formats=function(h){var m=l.query(d.blotName).tagName;if(h.tagName!==m)return u.formats.call(this,h)},d.prototype.format=function(h,m){l.query(h,l.Scope.BLOCK)!=null&&(h===this.statics.blotName&&!m?this.replaceWith(d.blotName):u.prototype.format.call(this,h,m))},d.prototype.formatAt=function(h,m,p,y){l.query(p,l.Scope.BLOCK)!=null?this.format(p,y):u.prototype.formatAt.call(this,h,m,p,y)},d.prototype.insertAt=function(h,m,p){if(p==null||l.query(m,l.Scope.INLINE)!=null)u.prototype.insertAt.call(this,h,m,p);else{var y=this.split(h),v=l.create(m,p);y.parent.insertBefore(v,y)}},d.prototype.update=function(h,m){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,h,m)},d.blotName="block",d.scope=l.Scope.BLOCK_BLOT,d.tagName="P",d})(o.default);n.default=c}),(function(r,n,s){var i=this&&this.__extends||(function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var h in d)d.hasOwnProperty(h)&&(u[h]=d[h])};return function(u,d){c(u,d);function h(){this.constructor=u}u.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}})();Object.defineProperty(n,"__esModule",{value:!0});var o=s(19),l=(function(c){i(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.formats=function(d){},u.prototype.format=function(d,h){c.prototype.formatAt.call(this,0,this.length(),d,h)},u.prototype.formatAt=function(d,h,m,p){d===0&&h===this.length()?this.format(m,p):c.prototype.formatAt.call(this,d,h,m,p)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u})(o.default);n.default=l}),(function(r,n,s){var i=this&&this.__extends||(function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var m in h)h.hasOwnProperty(m)&&(d[m]=h[m])};return function(d,h){u(d,h);function m(){this.constructor=d}d.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}})();Object.defineProperty(n,"__esModule",{value:!0});var o=s(19),l=s(1),c=(function(u){i(d,u);function d(h){var m=u.call(this,h)||this;return m.text=m.statics.value(m.domNode),m}return d.create=function(h){return document.createTextNode(h)},d.value=function(h){var m=h.data;return m.normalize&&(m=m.normalize()),m},d.prototype.deleteAt=function(h,m){this.domNode.data=this.text=this.text.slice(0,h)+this.text.slice(h+m)},d.prototype.index=function(h,m){return this.domNode===h?m:-1},d.prototype.insertAt=function(h,m,p){p==null?(this.text=this.text.slice(0,h)+m+this.text.slice(h),this.domNode.data=this.text):u.prototype.insertAt.call(this,h,m,p)},d.prototype.length=function(){return this.text.length},d.prototype.optimize=function(h){u.prototype.optimize.call(this,h),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof d&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},d.prototype.position=function(h,m){return[this.domNode,h]},d.prototype.split=function(h,m){if(m===void 0&&(m=!1),!m){if(h===0)return this;if(h===this.length())return this.next}var p=l.create(this.domNode.splitText(h));return this.parent.insertBefore(p,this.next),this.text=this.statics.value(this.domNode),p},d.prototype.update=function(h,m){var p=this;h.some(function(y){return y.type==="characterData"&&y.target===p.domNode})&&(this.text=this.statics.value(this.domNode))},d.prototype.value=function(){return this.text},d.blotName="text",d.scope=l.Scope.INLINE_BLOT,d})(o.default);n.default=c}),(function(r,n,s){var i=document.createElement("div");if(i.classList.toggle("test-class",!1),i.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(l,c){return arguments.length>1&&!this.contains(l)==!c?c:o.call(this,l)}}String.prototype.startsWith||(String.prototype.startsWith=function(l,c){return c=c||0,this.substr(c,l.length)===l}),String.prototype.endsWith||(String.prototype.endsWith=function(l,c){var u=this.toString();(typeof c!="number"||!isFinite(c)||Math.floor(c)!==c||c>u.length)&&(c=u.length),c-=l.length;var d=u.indexOf(l,c);return d!==-1&&d===c}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(c){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof c!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),d=u.length>>>0,h=arguments[1],m,p=0;p<d;p++)if(m=u[p],c.call(h,m,p,u))return m}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})}),(function(r,n){var s=-1,i=1,o=0;function l(N,k,P){if(N==k)return N?[[o,N]]:[];(P<0||N.length<P)&&(P=null);var A=h(N,k),O=N.substring(0,A);N=N.substring(A),k=k.substring(A),A=m(N,k);var D=N.substring(N.length-A);N=N.substring(0,N.length-A),k=k.substring(0,k.length-A);var R=c(N,k);return O&&R.unshift([o,O]),D&&R.push([o,D]),y(R),P!=null&&(R=b(R,P)),R=w(R),R}function c(N,k){var P;if(!N)return[[i,k]];if(!k)return[[s,N]];var A=N.length>k.length?N:k,O=N.length>k.length?k:N,D=A.indexOf(O);if(D!=-1)return P=[[i,A.substring(0,D)],[o,O],[i,A.substring(D+O.length)]],N.length>k.length&&(P[0][0]=P[2][0]=s),P;if(O.length==1)return[[s,N],[i,k]];var R=p(N,k);if(R){var C=R[0],T=R[1],I=R[2],B=R[3],X=R[4],re=l(C,I),Z=l(T,B);return re.concat([[o,X]],Z)}return u(N,k)}function u(N,k){for(var P=N.length,A=k.length,O=Math.ceil((P+A)/2),D=O,R=2*O,C=new Array(R),T=new Array(R),I=0;I<R;I++)C[I]=-1,T[I]=-1;C[D+1]=0,T[D+1]=0;for(var B=P-A,X=B%2!=0,re=0,Z=0,te=0,Y=0,Q=0;Q<O;Q++){for(var H=-Q+re;H<=Q-Z;H+=2){var E=D+H,q;H==-Q||H!=Q&&C[E-1]<C[E+1]?q=C[E+1]:q=C[E-1]+1;for(var V=q-H;q<P&&V<A&&N.charAt(q)==k.charAt(V);)q++,V++;if(C[E]=q,q>P)Z+=2;else if(V>A)re+=2;else if(X){var U=D+B-H;if(U>=0&&U<R&&T[U]!=-1){var G=P-T[U];if(q>=G)return d(N,k,q,V)}}}for(var ne=-Q+te;ne<=Q-Y;ne+=2){var U=D+ne,G;ne==-Q||ne!=Q&&T[U-1]<T[U+1]?G=T[U+1]:G=T[U-1]+1;for(var de=G-ne;G<P&&de<A&&N.charAt(P-G-1)==k.charAt(A-de-1);)G++,de++;if(T[U]=G,G>P)Y+=2;else if(de>A)te+=2;else if(!X){var E=D+B-ne;if(E>=0&&E<R&&C[E]!=-1){var q=C[E],V=D+q-E;if(G=P-G,q>=G)return d(N,k,q,V)}}}}return[[s,N],[i,k]]}function d(N,k,P,A){var O=N.substring(0,P),D=k.substring(0,A),R=N.substring(P),C=k.substring(A),T=l(O,D),I=l(R,C);return T.concat(I)}function h(N,k){if(!N||!k||N.charAt(0)!=k.charAt(0))return 0;for(var P=0,A=Math.min(N.length,k.length),O=A,D=0;P<O;)N.substring(D,O)==k.substring(D,O)?(P=O,D=P):A=O,O=Math.floor((A-P)/2+P);return O}function m(N,k){if(!N||!k||N.charAt(N.length-1)!=k.charAt(k.length-1))return 0;for(var P=0,A=Math.min(N.length,k.length),O=A,D=0;P<O;)N.substring(N.length-O,N.length-D)==k.substring(k.length-O,k.length-D)?(P=O,D=P):A=O,O=Math.floor((A-P)/2+P);return O}function p(N,k){var P=N.length>k.length?N:k,A=N.length>k.length?k:N;if(P.length<4||A.length*2<P.length)return null;function O(Z,te,Y){for(var Q=Z.substring(Y,Y+Math.floor(Z.length/4)),H=-1,E="",q,V,U,G;(H=te.indexOf(Q,H+1))!=-1;){var ne=h(Z.substring(Y),te.substring(H)),de=m(Z.substring(0,Y),te.substring(0,H));E.length<de+ne&&(E=te.substring(H-de,H)+te.substring(H,H+ne),q=Z.substring(0,Y-de),V=Z.substring(Y+ne),U=te.substring(0,H-de),G=te.substring(H+ne))}return E.length*2>=Z.length?[q,V,U,G,E]:null}var D=O(P,A,Math.ceil(P.length/4)),R=O(P,A,Math.ceil(P.length/2)),C;if(!D&&!R)return null;R?D?C=D[4].length>R[4].length?D:R:C=R:C=D;var T,I,B,X;N.length>k.length?(T=C[0],I=C[1],B=C[2],X=C[3]):(B=C[0],X=C[1],T=C[2],I=C[3]);var re=C[4];return[T,I,B,X,re]}function y(N){N.push([o,""]);for(var k=0,P=0,A=0,O="",D="",R;k<N.length;)switch(N[k][0]){case i:A++,D+=N[k][1],k++;break;case s:P++,O+=N[k][1],k++;break;case o:P+A>1?(P!==0&&A!==0&&(R=h(D,O),R!==0&&(k-P-A>0&&N[k-P-A-1][0]==o?N[k-P-A-1][1]+=D.substring(0,R):(N.splice(0,0,[o,D.substring(0,R)]),k++),D=D.substring(R),O=O.substring(R)),R=m(D,O),R!==0&&(N[k][1]=D.substring(D.length-R)+N[k][1],D=D.substring(0,D.length-R),O=O.substring(0,O.length-R))),P===0?N.splice(k-A,P+A,[i,D]):A===0?N.splice(k-P,P+A,[s,O]):N.splice(k-P-A,P+A,[s,O],[i,D]),k=k-P-A+(P?1:0)+(A?1:0)+1):k!==0&&N[k-1][0]==o?(N[k-1][1]+=N[k][1],N.splice(k,1)):k++,A=0,P=0,O="",D="";break}N[N.length-1][1]===""&&N.pop();var C=!1;for(k=1;k<N.length-1;)N[k-1][0]==o&&N[k+1][0]==o&&(N[k][1].substring(N[k][1].length-N[k-1][1].length)==N[k-1][1]?(N[k][1]=N[k-1][1]+N[k][1].substring(0,N[k][1].length-N[k-1][1].length),N[k+1][1]=N[k-1][1]+N[k+1][1],N.splice(k-1,1),C=!0):N[k][1].substring(0,N[k+1][1].length)==N[k+1][1]&&(N[k-1][1]+=N[k+1][1],N[k][1]=N[k][1].substring(N[k+1][1].length)+N[k+1][1],N.splice(k+1,1),C=!0)),k++;C&&y(N)}var v=l;v.INSERT=i,v.DELETE=s,v.EQUAL=o,r.exports=v;function g(N,k){if(k===0)return[o,N];for(var P=0,A=0;A<N.length;A++){var O=N[A];if(O[0]===s||O[0]===o){var D=P+O[1].length;if(k===D)return[A+1,N];if(k<D){N=N.slice();var R=k-P,C=[O[0],O[1].slice(0,R)],T=[O[0],O[1].slice(R)];return N.splice(A,1,C,T),[A+1,N]}else P=D}}throw new Error("cursor_pos is out of bounds!")}function b(N,k){var P=g(N,k),A=P[1],O=P[0],D=A[O],R=A[O+1];if(D==null)return N;if(D[0]!==o)return N;if(R!=null&&D[1]+R[1]===R[1]+D[1])return A.splice(O,2,R,D),j(A,O,2);if(R!=null&&R[1].indexOf(D[1])===0){A.splice(O,2,[R[0],D[1]],[0,D[1]]);var C=R[1].slice(D[1].length);return C.length>0&&A.splice(O+2,0,[R[0],C]),j(A,O,3)}else return N}function w(N){for(var k=!1,P=function(R){return R.charCodeAt(0)>=56320&&R.charCodeAt(0)<=57343},A=function(R){return R.charCodeAt(R.length-1)>=55296&&R.charCodeAt(R.length-1)<=56319},O=2;O<N.length;O+=1)N[O-2][0]===o&&A(N[O-2][1])&&N[O-1][0]===s&&P(N[O-1][1])&&N[O][0]===i&&P(N[O][1])&&(k=!0,N[O-1][1]=N[O-2][1].slice(-1)+N[O-1][1],N[O][1]=N[O-2][1].slice(-1)+N[O][1],N[O-2][1]=N[O-2][1].slice(0,-1));if(!k)return N;for(var D=[],O=0;O<N.length;O+=1)N[O][1].length>0&&D.push(N[O]);return D}function j(N,k,P){for(var A=k+P-1;A>=0&&A>=k-1;A--)if(A+1<N.length){var O=N[A],D=N[A+1];O[0]===D[1]&&N.splice(A,2,[O[0],O[1]+D[1]])}return N}}),(function(r,n){n=r.exports=typeof Object.keys=="function"?Object.keys:s,n.shim=s;function s(i){var o=[];for(var l in i)o.push(l);return o}}),(function(r,n){var s=(function(){return Object.prototype.toString.call(arguments)})()=="[object Arguments]";n=r.exports=s?i:o,n.supported=i;function i(l){return Object.prototype.toString.call(l)=="[object Arguments]"}n.unsupported=o;function o(l){return l&&typeof l=="object"&&typeof l.length=="number"&&Object.prototype.hasOwnProperty.call(l,"callee")&&!Object.prototype.propertyIsEnumerable.call(l,"callee")||!1}}),(function(r,n){var s=Object.prototype.hasOwnProperty,i="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(i=!1));function l(u,d,h){this.fn=u,this.context=d,this.once=h||!1}function c(){this._events=new o,this._eventsCount=0}c.prototype.eventNames=function(){var d=[],h,m;if(this._eventsCount===0)return d;for(m in h=this._events)s.call(h,m)&&d.push(i?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},c.prototype.listeners=function(d,h){var m=i?i+d:d,p=this._events[m];if(h)return!!p;if(!p)return[];if(p.fn)return[p.fn];for(var y=0,v=p.length,g=new Array(v);y<v;y++)g[y]=p[y].fn;return g},c.prototype.emit=function(d,h,m,p,y,v){var g=i?i+d:d;if(!this._events[g])return!1;var b=this._events[g],w=arguments.length,j,N;if(b.fn){switch(b.once&&this.removeListener(d,b.fn,void 0,!0),w){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,h),!0;case 3:return b.fn.call(b.context,h,m),!0;case 4:return b.fn.call(b.context,h,m,p),!0;case 5:return b.fn.call(b.context,h,m,p,y),!0;case 6:return b.fn.call(b.context,h,m,p,y,v),!0}for(N=1,j=new Array(w-1);N<w;N++)j[N-1]=arguments[N];b.fn.apply(b.context,j)}else{var k=b.length,P;for(N=0;N<k;N++)switch(b[N].once&&this.removeListener(d,b[N].fn,void 0,!0),w){case 1:b[N].fn.call(b[N].context);break;case 2:b[N].fn.call(b[N].context,h);break;case 3:b[N].fn.call(b[N].context,h,m);break;case 4:b[N].fn.call(b[N].context,h,m,p);break;default:if(!j)for(P=1,j=new Array(w-1);P<w;P++)j[P-1]=arguments[P];b[N].fn.apply(b[N].context,j)}}return!0},c.prototype.on=function(d,h,m){var p=new l(h,m||this),y=i?i+d:d;return this._events[y]?this._events[y].fn?this._events[y]=[this._events[y],p]:this._events[y].push(p):(this._events[y]=p,this._eventsCount++),this},c.prototype.once=function(d,h,m){var p=new l(h,m||this,!0),y=i?i+d:d;return this._events[y]?this._events[y].fn?this._events[y]=[this._events[y],p]:this._events[y].push(p):(this._events[y]=p,this._eventsCount++),this},c.prototype.removeListener=function(d,h,m,p){var y=i?i+d:d;if(!this._events[y])return this;if(!h)return--this._eventsCount===0?this._events=new o:delete this._events[y],this;var v=this._events[y];if(v.fn)v.fn===h&&(!p||v.once)&&(!m||v.context===m)&&(--this._eventsCount===0?this._events=new o:delete this._events[y]);else{for(var g=0,b=[],w=v.length;g<w;g++)(v[g].fn!==h||p&&!v[g].once||m&&v[g].context!==m)&&b.push(v[g]);b.length?this._events[y]=b.length===1?b[0]:b:--this._eventsCount===0?this._events=new o:delete this._events[y]}return this},c.prototype.removeAllListeners=function(d){var h;return d?(h=i?i+d:d,this._events[h]&&(--this._eventsCount===0?this._events=new o:delete this._events[h])):(this._events=new o,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prototype.setMaxListeners=function(){return this},c.prefixed=i,c.EventEmitter=c,typeof r<"u"&&(r.exports=c)}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.matchText=n.matchSpacing=n.matchNewline=n.matchBlot=n.matchAttributor=n.default=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(we){return typeof we}:function(we){return we&&typeof Symbol=="function"&&we.constructor===Symbol&&we!==Symbol.prototype?"symbol":typeof we},o=(function(){function we(Pe,pe){var fe=[],De=!0,Xe=!1,Je=void 0;try{for(var ht=Pe[Symbol.iterator](),Ue;!(De=(Ue=ht.next()).done)&&(fe.push(Ue.value),!(pe&&fe.length===pe));De=!0);}catch(at){Xe=!0,Je=at}finally{try{!De&&ht.return&&ht.return()}finally{if(Xe)throw Je}}return fe}return function(Pe,pe){if(Array.isArray(Pe))return Pe;if(Symbol.iterator in Object(Pe))return we(Pe,pe);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function we(Pe,pe){for(var fe=0;fe<pe.length;fe++){var De=pe[fe];De.enumerable=De.enumerable||!1,De.configurable=!0,"value"in De&&(De.writable=!0),Object.defineProperty(Pe,De.key,De)}}return function(Pe,pe,fe){return pe&&we(Pe.prototype,pe),fe&&we(Pe,fe),Pe}})(),c=s(3),u=T(c),d=s(2),h=T(d),m=s(0),p=T(m),y=s(5),v=T(y),g=s(10),b=T(g),w=s(9),j=T(w),N=s(36),k=s(37),P=s(13),A=T(P),O=s(26),D=s(38),R=s(39),C=s(40);function T(we){return we&&we.__esModule?we:{default:we}}function I(we,Pe,pe){return Pe in we?Object.defineProperty(we,Pe,{value:pe,enumerable:!0,configurable:!0,writable:!0}):we[Pe]=pe,we}function B(we,Pe){if(!(we instanceof Pe))throw new TypeError("Cannot call a class as a function")}function X(we,Pe){if(!we)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Pe&&(typeof Pe=="object"||typeof Pe=="function")?Pe:we}function re(we,Pe){if(typeof Pe!="function"&&Pe!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Pe);we.prototype=Object.create(Pe&&Pe.prototype,{constructor:{value:we,enumerable:!1,writable:!0,configurable:!0}}),Pe&&(Object.setPrototypeOf?Object.setPrototypeOf(we,Pe):we.__proto__=Pe)}var Z=(0,b.default)("quill:clipboard"),te="__ql-matcher",Y=[[Node.TEXT_NODE,ke],[Node.TEXT_NODE,_e],["br",Le],[Node.ELEMENT_NODE,_e],[Node.ELEMENT_NODE,he],[Node.ELEMENT_NODE,oe],[Node.ELEMENT_NODE,ce],[Node.ELEMENT_NODE,ae],["li",Fe],["b",de.bind(de,"bold")],["i",de.bind(de,"italic")],["style",se]],Q=[N.AlignAttribute,D.DirectionAttribute].reduce(function(we,Pe){return we[Pe.keyName]=Pe,we},{}),H=[N.AlignStyle,k.BackgroundStyle,O.ColorStyle,D.DirectionStyle,R.FontStyle,C.SizeStyle].reduce(function(we,Pe){return we[Pe.keyName]=Pe,we},{}),E=(function(we){re(Pe,we);function Pe(pe,fe){B(this,Pe);var De=X(this,(Pe.__proto__||Object.getPrototypeOf(Pe)).call(this,pe,fe));return De.quill.root.addEventListener("paste",De.onPaste.bind(De)),De.container=De.quill.addContainer("ql-clipboard"),De.container.setAttribute("contenteditable",!0),De.container.setAttribute("tabindex",-1),De.matchers=[],Y.concat(De.options.matchers).forEach(function(Xe){var Je=o(Xe,2),ht=Je[0],Ue=Je[1];!fe.matchVisual&&Ue===oe||De.addMatcher(ht,Ue)}),De}return l(Pe,[{key:"addMatcher",value:function(fe,De){this.matchers.push([fe,De])}},{key:"convert",value:function(fe){if(typeof fe=="string")return this.container.innerHTML=fe.replace(/\>\r?\n +\</g,"><"),this.convert();var De=this.quill.getFormat(this.quill.selection.savedRange.index);if(De[A.default.blotName]){var Xe=this.container.innerText;return this.container.innerHTML="",new h.default().insert(Xe,I({},A.default.blotName,De[A.default.blotName]))}var Je=this.prepareMatching(),ht=o(Je,2),Ue=ht[0],at=ht[1],Me=ne(this.container,Ue,at);return U(Me,`
`)&&Me.ops[Me.ops.length-1].attributes==null&&(Me=Me.compose(new h.default().retain(Me.length()-1).delete(1))),Z.log("convert",this.container.innerHTML,Me),this.container.innerHTML="",Me}},{key:"dangerouslyPasteHTML",value:function(fe,De){var Xe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof fe=="string")this.quill.setContents(this.convert(fe),De),this.quill.setSelection(0,v.default.sources.SILENT);else{var Je=this.convert(De);this.quill.updateContents(new h.default().retain(fe).concat(Je),Xe),this.quill.setSelection(fe+Je.length(),v.default.sources.SILENT)}}},{key:"onPaste",value:function(fe){var De=this;if(!(fe.defaultPrevented||!this.quill.isEnabled())){var Xe=this.quill.getSelection(),Je=new h.default().retain(Xe.index),ht=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(v.default.sources.SILENT),setTimeout(function(){Je=Je.concat(De.convert()).delete(Xe.length),De.quill.updateContents(Je,v.default.sources.USER),De.quill.setSelection(Je.length()-Xe.length,v.default.sources.SILENT),De.quill.scrollingContainer.scrollTop=ht,De.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var fe=this,De=[],Xe=[];return this.matchers.forEach(function(Je){var ht=o(Je,2),Ue=ht[0],at=ht[1];switch(Ue){case Node.TEXT_NODE:Xe.push(at);break;case Node.ELEMENT_NODE:De.push(at);break;default:[].forEach.call(fe.container.querySelectorAll(Ue),function(Me){Me[te]=Me[te]||[],Me[te].push(at)});break}}),[De,Xe]}}]),Pe})(j.default);E.DEFAULTS={matchers:[],matchVisual:!0};function q(we,Pe,pe){return(typeof Pe>"u"?"undefined":i(Pe))==="object"?Object.keys(Pe).reduce(function(fe,De){return q(fe,De,Pe[De])},we):we.reduce(function(fe,De){return De.attributes&&De.attributes[Pe]?fe.push(De):fe.insert(De.insert,(0,u.default)({},I({},Pe,pe),De.attributes))},new h.default)}function V(we){if(we.nodeType!==Node.ELEMENT_NODE)return{};var Pe="__ql-computed-style";return we[Pe]||(we[Pe]=window.getComputedStyle(we))}function U(we,Pe){for(var pe="",fe=we.ops.length-1;fe>=0&&pe.length<Pe.length;--fe){var De=we.ops[fe];if(typeof De.insert!="string")break;pe=De.insert+pe}return pe.slice(-1*Pe.length)===Pe}function G(we){if(we.childNodes.length===0)return!1;var Pe=V(we);return["block","list-item"].indexOf(Pe.display)>-1}function ne(we,Pe,pe){return we.nodeType===we.TEXT_NODE?pe.reduce(function(fe,De){return De(we,fe)},new h.default):we.nodeType===we.ELEMENT_NODE?[].reduce.call(we.childNodes||[],function(fe,De){var Xe=ne(De,Pe,pe);return De.nodeType===we.ELEMENT_NODE&&(Xe=Pe.reduce(function(Je,ht){return ht(De,Je)},Xe),Xe=(De[te]||[]).reduce(function(Je,ht){return ht(De,Je)},Xe)),fe.concat(Xe)},new h.default):new h.default}function de(we,Pe,pe){return q(pe,we,!0)}function ce(we,Pe){var pe=p.default.Attributor.Attribute.keys(we),fe=p.default.Attributor.Class.keys(we),De=p.default.Attributor.Style.keys(we),Xe={};return pe.concat(fe).concat(De).forEach(function(Je){var ht=p.default.query(Je,p.default.Scope.ATTRIBUTE);ht!=null&&(Xe[ht.attrName]=ht.value(we),Xe[ht.attrName])||(ht=Q[Je],ht!=null&&(ht.attrName===Je||ht.keyName===Je)&&(Xe[ht.attrName]=ht.value(we)||void 0),ht=H[Je],ht!=null&&(ht.attrName===Je||ht.keyName===Je)&&(ht=H[Je],Xe[ht.attrName]=ht.value(we)||void 0))}),Object.keys(Xe).length>0&&(Pe=q(Pe,Xe)),Pe}function he(we,Pe){var pe=p.default.query(we);if(pe==null)return Pe;if(pe.prototype instanceof p.default.Embed){var fe={},De=pe.value(we);De!=null&&(fe[pe.blotName]=De,Pe=new h.default().insert(fe,pe.formats(we)))}else typeof pe.formats=="function"&&(Pe=q(Pe,pe.blotName,pe.formats(we)));return Pe}function Le(we,Pe){return U(Pe,`
`)||Pe.insert(`
`),Pe}function se(){return new h.default}function Fe(we,Pe){var pe=p.default.query(we);if(pe==null||pe.blotName!=="list-item"||!U(Pe,`
`))return Pe;for(var fe=-1,De=we.parentNode;!De.classList.contains("ql-clipboard");)(p.default.query(De)||{}).blotName==="list"&&(fe+=1),De=De.parentNode;return fe<=0?Pe:Pe.compose(new h.default().retain(Pe.length()-1).retain(1,{indent:fe}))}function _e(we,Pe){return U(Pe,`
`)||(G(we)||Pe.length()>0&&we.nextSibling&&G(we.nextSibling))&&Pe.insert(`
`),Pe}function oe(we,Pe){if(G(we)&&we.nextElementSibling!=null&&!U(Pe,`

`)){var pe=we.offsetHeight+parseFloat(V(we).marginTop)+parseFloat(V(we).marginBottom);we.nextElementSibling.offsetTop>we.offsetTop+pe*1.5&&Pe.insert(`
`)}return Pe}function ae(we,Pe){var pe={},fe=we.style||{};return fe.fontStyle&&V(we).fontStyle==="italic"&&(pe.italic=!0),fe.fontWeight&&(V(we).fontWeight.startsWith("bold")||parseInt(V(we).fontWeight)>=700)&&(pe.bold=!0),Object.keys(pe).length>0&&(Pe=q(Pe,pe)),parseFloat(fe.textIndent||0)>0&&(Pe=new h.default().insert("	").concat(Pe)),Pe}function ke(we,Pe){var pe=we.data;if(we.parentNode.tagName==="O:P")return Pe.insert(pe.trim());if(pe.trim().length===0&&we.parentNode.classList.contains("ql-clipboard"))return Pe;if(!V(we.parentNode).whiteSpace.startsWith("pre")){var fe=function(Xe,Je){return Je=Je.replace(/[^\u00a0]/g,""),Je.length<1&&Xe?" ":Je};pe=pe.replace(/\r\n/g," ").replace(/\n/g," "),pe=pe.replace(/\s\s+/g,fe.bind(fe,!0)),(we.previousSibling==null&&G(we.parentNode)||we.previousSibling!=null&&G(we.previousSibling))&&(pe=pe.replace(/^\s+/,fe.bind(fe,!1))),(we.nextSibling==null&&G(we.parentNode)||we.nextSibling!=null&&G(we.nextSibling))&&(pe=pe.replace(/\s+$/,fe.bind(fe,!1)))}return Pe.insert(pe)}n.default=E,n.matchAttributor=ce,n.matchBlot=he,n.matchNewline=_e,n.matchSpacing=oe,n.matchText=ke}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function y(v,g){for(var b=0;b<g.length;b++){var w=g[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(v,w.key,w)}}return function(v,g,b){return g&&y(v.prototype,g),b&&y(v,b),v}})(),o=function y(v,g,b){v===null&&(v=Function.prototype);var w=Object.getOwnPropertyDescriptor(v,g);if(w===void 0){var j=Object.getPrototypeOf(v);return j===null?void 0:y(j,g,b)}else{if("value"in w)return w.value;var N=w.get;return N===void 0?void 0:N.call(b)}},l=s(6),c=u(l);function u(y){return y&&y.__esModule?y:{default:y}}function d(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function h(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function m(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var p=(function(y){m(v,y);function v(){return d(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return i(v,[{key:"optimize",value:function(b){o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"optimize",this).call(this,b),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),v})(c.default);p.blotName="bold",p.tagName=["STRONG","B"],n.default=p}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.addControls=n.default=void 0;var i=(function(){function C(T,I){var B=[],X=!0,re=!1,Z=void 0;try{for(var te=T[Symbol.iterator](),Y;!(X=(Y=te.next()).done)&&(B.push(Y.value),!(I&&B.length===I));X=!0);}catch(Q){re=!0,Z=Q}finally{try{!X&&te.return&&te.return()}finally{if(re)throw Z}}return B}return function(T,I){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return C(T,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function C(T,I){for(var B=0;B<I.length;B++){var X=I[B];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(T,X.key,X)}}return function(T,I,B){return I&&C(T.prototype,I),B&&C(T,B),T}})(),l=s(2),c=b(l),u=s(0),d=b(u),h=s(5),m=b(h),p=s(10),y=b(p),v=s(9),g=b(v);function b(C){return C&&C.__esModule?C:{default:C}}function w(C,T,I){return T in C?Object.defineProperty(C,T,{value:I,enumerable:!0,configurable:!0,writable:!0}):C[T]=I,C}function j(C,T){if(!(C instanceof T))throw new TypeError("Cannot call a class as a function")}function N(C,T){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:C}function k(C,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);C.prototype=Object.create(T&&T.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(C,T):C.__proto__=T)}var P=(0,y.default)("quill:toolbar"),A=(function(C){k(T,C);function T(I,B){j(this,T);var X=N(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,I,B));if(Array.isArray(X.options.container)){var re=document.createElement("div");D(re,X.options.container),I.container.parentNode.insertBefore(re,I.container),X.container=re}else typeof X.options.container=="string"?X.container=document.querySelector(X.options.container):X.container=X.options.container;if(!(X.container instanceof HTMLElement)){var Z;return Z=P.error("Container required for toolbar",X.options),N(X,Z)}return X.container.classList.add("ql-toolbar"),X.controls=[],X.handlers={},Object.keys(X.options.handlers).forEach(function(te){X.addHandler(te,X.options.handlers[te])}),[].forEach.call(X.container.querySelectorAll("button, select"),function(te){X.attach(te)}),X.quill.on(m.default.events.EDITOR_CHANGE,function(te,Y){te===m.default.events.SELECTION_CHANGE&&X.update(Y)}),X.quill.on(m.default.events.SCROLL_OPTIMIZE,function(){var te=X.quill.selection.getRange(),Y=i(te,1),Q=Y[0];X.update(Q)}),X}return o(T,[{key:"addHandler",value:function(B,X){this.handlers[B]=X}},{key:"attach",value:function(B){var X=this,re=[].find.call(B.classList,function(te){return te.indexOf("ql-")===0});if(re){if(re=re.slice(3),B.tagName==="BUTTON"&&B.setAttribute("type","button"),this.handlers[re]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[re]==null){P.warn("ignoring attaching to disabled format",re,B);return}if(d.default.query(re)==null){P.warn("ignoring attaching to nonexistent format",re,B);return}}var Z=B.tagName==="SELECT"?"change":"click";B.addEventListener(Z,function(te){var Y=void 0;if(B.tagName==="SELECT"){if(B.selectedIndex<0)return;var Q=B.options[B.selectedIndex];Q.hasAttribute("selected")?Y=!1:Y=Q.value||!1}else B.classList.contains("ql-active")?Y=!1:Y=B.value||!B.hasAttribute("value"),te.preventDefault();X.quill.focus();var H=X.quill.selection.getRange(),E=i(H,1),q=E[0];if(X.handlers[re]!=null)X.handlers[re].call(X,Y);else if(d.default.query(re).prototype instanceof d.default.Embed){if(Y=prompt("Enter "+re),!Y)return;X.quill.updateContents(new c.default().retain(q.index).delete(q.length).insert(w({},re,Y)),m.default.sources.USER)}else X.quill.format(re,Y,m.default.sources.USER);X.update(q)}),this.controls.push([re,B])}}},{key:"update",value:function(B){var X=B==null?{}:this.quill.getFormat(B);this.controls.forEach(function(re){var Z=i(re,2),te=Z[0],Y=Z[1];if(Y.tagName==="SELECT"){var Q=void 0;if(B==null)Q=null;else if(X[te]==null)Q=Y.querySelector("option[selected]");else if(!Array.isArray(X[te])){var H=X[te];typeof H=="string"&&(H=H.replace(/\"/g,'\\"')),Q=Y.querySelector('option[value="'+H+'"]')}Q==null?(Y.value="",Y.selectedIndex=-1):Q.selected=!0}else if(B==null)Y.classList.remove("ql-active");else if(Y.hasAttribute("value")){var E=X[te]===Y.getAttribute("value")||X[te]!=null&&X[te].toString()===Y.getAttribute("value")||X[te]==null&&!Y.getAttribute("value");Y.classList.toggle("ql-active",E)}else Y.classList.toggle("ql-active",X[te]!=null)})}}]),T})(g.default);A.DEFAULTS={};function O(C,T,I){var B=document.createElement("button");B.setAttribute("type","button"),B.classList.add("ql-"+T),I!=null&&(B.value=I),C.appendChild(B)}function D(C,T){Array.isArray(T[0])||(T=[T]),T.forEach(function(I){var B=document.createElement("span");B.classList.add("ql-formats"),I.forEach(function(X){if(typeof X=="string")O(B,X);else{var re=Object.keys(X)[0],Z=X[re];Array.isArray(Z)?R(B,re,Z):O(B,re,Z)}}),C.appendChild(B)})}function R(C,T,I){var B=document.createElement("select");B.classList.add("ql-"+T),I.forEach(function(X){var re=document.createElement("option");X!==!1?re.setAttribute("value",X):re.setAttribute("selected","selected"),B.appendChild(re)}),C.appendChild(B)}A.DEFAULTS={container:null,handlers:{clean:function(){var T=this,I=this.quill.getSelection();if(I!=null)if(I.length==0){var B=this.quill.getFormat();Object.keys(B).forEach(function(X){d.default.query(X,d.default.Scope.INLINE)!=null&&T.quill.format(X,!1)})}else this.quill.removeFormat(I,m.default.sources.USER)},direction:function(T){var I=this.quill.getFormat().align;T==="rtl"&&I==null?this.quill.format("align","right",m.default.sources.USER):!T&&I==="right"&&this.quill.format("align",!1,m.default.sources.USER),this.quill.format("direction",T,m.default.sources.USER)},indent:function(T){var I=this.quill.getSelection(),B=this.quill.getFormat(I),X=parseInt(B.indent||0);if(T==="+1"||T==="-1"){var re=T==="+1"?1:-1;B.direction==="rtl"&&(re*=-1),this.quill.format("indent",X+re,m.default.sources.USER)}},link:function(T){T===!0&&(T=prompt("Enter link URL:")),this.quill.format("link",T,m.default.sources.USER)},list:function(T){var I=this.quill.getSelection(),B=this.quill.getFormat(I);T==="check"?B.list==="checked"||B.list==="unchecked"?this.quill.format("list",!1,m.default.sources.USER):this.quill.format("list","unchecked",m.default.sources.USER):this.quill.format("list",T,m.default.sources.USER)}}},n.default=A,n.addControls=D}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function y(v,g){for(var b=0;b<g.length;b++){var w=g[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(v,w.key,w)}}return function(v,g,b){return g&&y(v.prototype,g),b&&y(v,b),v}})(),o=function y(v,g,b){v===null&&(v=Function.prototype);var w=Object.getOwnPropertyDescriptor(v,g);if(w===void 0){var j=Object.getPrototypeOf(v);return j===null?void 0:y(j,g,b)}else{if("value"in w)return w.value;var N=w.get;return N===void 0?void 0:N.call(b)}},l=s(28),c=u(l);function u(y){return y&&y.__esModule?y:{default:y}}function d(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function h(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function m(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var p=(function(y){m(v,y);function v(g,b){d(this,v);var w=h(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,g));return w.label.innerHTML=b,w.container.classList.add("ql-color-picker"),[].slice.call(w.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(j){j.classList.add("ql-primary")}),w}return i(v,[{key:"buildItem",value:function(b){var w=o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"buildItem",this).call(this,b);return w.style.backgroundColor=b.getAttribute("value")||"",w}},{key:"selectItem",value:function(b,w){o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,b,w);var j=this.label.querySelector(".ql-color-label"),N=b&&b.getAttribute("data-value")||"";j&&(j.tagName==="line"?j.style.stroke=N:j.style.fill=N)}}]),v})(c.default);n.default=p}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function y(v,g){for(var b=0;b<g.length;b++){var w=g[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(v,w.key,w)}}return function(v,g,b){return g&&y(v.prototype,g),b&&y(v,b),v}})(),o=function y(v,g,b){v===null&&(v=Function.prototype);var w=Object.getOwnPropertyDescriptor(v,g);if(w===void 0){var j=Object.getPrototypeOf(v);return j===null?void 0:y(j,g,b)}else{if("value"in w)return w.value;var N=w.get;return N===void 0?void 0:N.call(b)}},l=s(28),c=u(l);function u(y){return y&&y.__esModule?y:{default:y}}function d(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function h(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function m(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var p=(function(y){m(v,y);function v(g,b){d(this,v);var w=h(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,g));return w.container.classList.add("ql-icon-picker"),[].forEach.call(w.container.querySelectorAll(".ql-picker-item"),function(j){j.innerHTML=b[j.getAttribute("data-value")||""]}),w.defaultItem=w.container.querySelector(".ql-selected"),w.selectItem(w.defaultItem),w}return i(v,[{key:"selectItem",value:function(b,w){o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,b,w),b=b||this.defaultItem,this.label.innerHTML=b.innerHTML}}]),v})(c.default);n.default=p}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function c(u,d){for(var h=0;h<d.length;h++){var m=d[h];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(u,m.key,m)}}return function(u,d,h){return d&&c(u.prototype,d),h&&c(u,h),u}})();function o(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}var l=(function(){function c(u,d){var h=this;o(this,c),this.quill=u,this.boundsContainer=d||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){h.root.style.marginTop=-1*h.quill.root.scrollTop+"px"}),this.hide()}return i(c,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(d){var h=d.left+d.width/2-this.root.offsetWidth/2,m=d.bottom+this.quill.root.scrollTop;this.root.style.left=h+"px",this.root.style.top=m+"px",this.root.classList.remove("ql-flip");var p=this.boundsContainer.getBoundingClientRect(),y=this.root.getBoundingClientRect(),v=0;if(y.right>p.right&&(v=p.right-y.right,this.root.style.left=h+v+"px"),y.left<p.left&&(v=p.left-y.left,this.root.style.left=h+v+"px"),y.bottom>p.bottom){var g=y.bottom-y.top,b=d.bottom-d.top+g;this.root.style.top=m-b+"px",this.root.classList.add("ql-flip")}return v}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),c})();n.default=l}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function R(C,T){var I=[],B=!0,X=!1,re=void 0;try{for(var Z=C[Symbol.iterator](),te;!(B=(te=Z.next()).done)&&(I.push(te.value),!(T&&I.length===T));B=!0);}catch(Y){X=!0,re=Y}finally{try{!B&&Z.return&&Z.return()}finally{if(X)throw re}}return I}return function(C,T){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return R(C,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=function R(C,T,I){C===null&&(C=Function.prototype);var B=Object.getOwnPropertyDescriptor(C,T);if(B===void 0){var X=Object.getPrototypeOf(C);return X===null?void 0:R(X,T,I)}else{if("value"in B)return B.value;var re=B.get;return re===void 0?void 0:re.call(I)}},l=(function(){function R(C,T){for(var I=0;I<T.length;I++){var B=T[I];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(C,B.key,B)}}return function(C,T,I){return T&&R(C.prototype,T),I&&R(C,I),C}})(),c=s(3),u=j(c),d=s(8),h=j(d),m=s(43),p=j(m),y=s(27),v=j(y),g=s(15),b=s(41),w=j(b);function j(R){return R&&R.__esModule?R:{default:R}}function N(R,C){if(!(R instanceof C))throw new TypeError("Cannot call a class as a function")}function k(R,C){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:R}function P(R,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);R.prototype=Object.create(C&&C.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(R,C):R.__proto__=C)}var A=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],O=(function(R){P(C,R);function C(T,I){N(this,C),I.modules.toolbar!=null&&I.modules.toolbar.container==null&&(I.modules.toolbar.container=A);var B=k(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,T,I));return B.quill.container.classList.add("ql-snow"),B}return l(C,[{key:"extendToolbar",value:function(I){I.container.classList.add("ql-snow"),this.buildButtons([].slice.call(I.container.querySelectorAll("button")),w.default),this.buildPickers([].slice.call(I.container.querySelectorAll("select")),w.default),this.tooltip=new D(this.quill,this.options.bounds),I.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(B,X){I.handlers.link.call(I,!X.format.link)})}}]),C})(p.default);O.DEFAULTS=(0,u.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(C){if(C){var T=this.quill.getSelection();if(T==null||T.length==0)return;var I=this.quill.getText(T);/^\S+@\S+\.\S+$/.test(I)&&I.indexOf("mailto:")!==0&&(I="mailto:"+I);var B=this.quill.theme.tooltip;B.edit("link",I)}else this.quill.format("link",!1)}}}}});var D=(function(R){P(C,R);function C(T,I){N(this,C);var B=k(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,T,I));return B.preview=B.root.querySelector("a.ql-preview"),B}return l(C,[{key:"listen",value:function(){var I=this;o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(B){I.root.classList.contains("ql-editing")?I.save():I.edit("link",I.preview.textContent),B.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(B){if(I.linkRange!=null){var X=I.linkRange;I.restoreFocus(),I.quill.formatText(X,"link",!1,h.default.sources.USER),delete I.linkRange}B.preventDefault(),I.hide()}),this.quill.on(h.default.events.SELECTION_CHANGE,function(B,X,re){if(B!=null){if(B.length===0&&re===h.default.sources.USER){var Z=I.quill.scroll.descendant(v.default,B.index),te=i(Z,2),Y=te[0],Q=te[1];if(Y!=null){I.linkRange=new g.Range(B.index-Q,Y.length());var H=v.default.formats(Y.domNode);I.preview.textContent=H,I.preview.setAttribute("href",H),I.show(),I.position(I.quill.getBounds(I.linkRange));return}}else delete I.linkRange;I.hide()}})}},{key:"show",value:function(){o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),C})(m.BaseTooltip);D.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),n.default=O}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=s(29),o=De(i),l=s(36),c=s(38),u=s(64),d=s(65),h=De(d),m=s(66),p=De(m),y=s(67),v=De(y),g=s(37),b=s(26),w=s(39),j=s(40),N=s(56),k=De(N),P=s(68),A=De(P),O=s(27),D=De(O),R=s(69),C=De(R),T=s(70),I=De(T),B=s(71),X=De(B),re=s(72),Z=De(re),te=s(73),Y=De(te),Q=s(13),H=De(Q),E=s(74),q=De(E),V=s(75),U=De(V),G=s(57),ne=De(G),de=s(41),ce=De(de),he=s(28),Le=De(he),se=s(59),Fe=De(se),_e=s(60),oe=De(_e),ae=s(61),ke=De(ae),we=s(108),Pe=De(we),pe=s(62),fe=De(pe);function De(Xe){return Xe&&Xe.__esModule?Xe:{default:Xe}}o.default.register({"attributors/attribute/direction":c.DirectionAttribute,"attributors/class/align":l.AlignClass,"attributors/class/background":g.BackgroundClass,"attributors/class/color":b.ColorClass,"attributors/class/direction":c.DirectionClass,"attributors/class/font":w.FontClass,"attributors/class/size":j.SizeClass,"attributors/style/align":l.AlignStyle,"attributors/style/background":g.BackgroundStyle,"attributors/style/color":b.ColorStyle,"attributors/style/direction":c.DirectionStyle,"attributors/style/font":w.FontStyle,"attributors/style/size":j.SizeStyle},!0),o.default.register({"formats/align":l.AlignClass,"formats/direction":c.DirectionClass,"formats/indent":u.IndentClass,"formats/background":g.BackgroundStyle,"formats/color":b.ColorStyle,"formats/font":w.FontClass,"formats/size":j.SizeClass,"formats/blockquote":h.default,"formats/code-block":H.default,"formats/header":p.default,"formats/list":v.default,"formats/bold":k.default,"formats/code":Q.Code,"formats/italic":A.default,"formats/link":D.default,"formats/script":C.default,"formats/strike":I.default,"formats/underline":X.default,"formats/image":Z.default,"formats/video":Y.default,"formats/list/item":y.ListItem,"modules/formula":q.default,"modules/syntax":U.default,"modules/toolbar":ne.default,"themes/bubble":Pe.default,"themes/snow":fe.default,"ui/icons":ce.default,"ui/picker":Le.default,"ui/icon-picker":oe.default,"ui/color-picker":Fe.default,"ui/tooltip":ke.default},!0),n.default=o.default}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.IndentClass=void 0;var i=(function(){function v(g,b){for(var w=0;w<b.length;w++){var j=b[w];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(g,j.key,j)}}return function(g,b,w){return b&&v(g.prototype,b),w&&v(g,w),g}})(),o=function v(g,b,w){g===null&&(g=Function.prototype);var j=Object.getOwnPropertyDescriptor(g,b);if(j===void 0){var N=Object.getPrototypeOf(g);return N===null?void 0:v(N,b,w)}else{if("value"in j)return j.value;var k=j.get;return k===void 0?void 0:k.call(w)}},l=s(0),c=u(l);function u(v){return v&&v.__esModule?v:{default:v}}function d(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function h(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function m(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=(function(v){m(g,v);function g(){return d(this,g),h(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return i(g,[{key:"add",value:function(w,j){if(j==="+1"||j==="-1"){var N=this.value(w)||0;j=j==="+1"?N+1:N-1}return j===0?(this.remove(w),!0):o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"add",this).call(this,w,j)}},{key:"canAdd",value:function(w,j){return o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"canAdd",this).call(this,w,j)||o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"canAdd",this).call(this,w,parseInt(j))}},{key:"value",value:function(w){return parseInt(o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"value",this).call(this,w))||void 0}}]),g})(c.default.Attributor.Class),y=new p("indent","ql-indent",{scope:c.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});n.IndentClass=y}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=s(4),o=l(i);function l(m){return m&&m.__esModule?m:{default:m}}function c(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function u(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function d(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var h=(function(m){d(p,m);function p(){return c(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(o.default);h.blotName="blockquote",h.tagName="blockquote",n.default=h}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function p(y,v){for(var g=0;g<v.length;g++){var b=v[g];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,v,g){return v&&p(y.prototype,v),g&&p(y,g),y}})(),o=s(4),l=c(o);function c(p){return p&&p.__esModule?p:{default:p}}function u(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")}function d(p,y){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:p}function h(p,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);p.prototype=Object.create(y&&y.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(p,y):p.__proto__=y)}var m=(function(p){h(y,p);function y(){return u(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return i(y,null,[{key:"formats",value:function(g){return this.tagName.indexOf(g.tagName)+1}}]),y})(l.default);m.blotName="header",m.tagName=["H1","H2","H3","H4","H5","H6"],n.default=m}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.ListItem=void 0;var i=(function(){function N(k,P){for(var A=0;A<P.length;A++){var O=P[A];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(k,O.key,O)}}return function(k,P,A){return P&&N(k.prototype,P),A&&N(k,A),k}})(),o=function N(k,P,A){k===null&&(k=Function.prototype);var O=Object.getOwnPropertyDescriptor(k,P);if(O===void 0){var D=Object.getPrototypeOf(k);return D===null?void 0:N(D,P,A)}else{if("value"in O)return O.value;var R=O.get;return R===void 0?void 0:R.call(A)}},l=s(0),c=p(l),u=s(4),d=p(u),h=s(25),m=p(h);function p(N){return N&&N.__esModule?N:{default:N}}function y(N,k,P){return k in N?Object.defineProperty(N,k,{value:P,enumerable:!0,configurable:!0,writable:!0}):N[k]=P,N}function v(N,k){if(!(N instanceof k))throw new TypeError("Cannot call a class as a function")}function g(N,k){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:N}function b(N,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);N.prototype=Object.create(k&&k.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(N,k):N.__proto__=k)}var w=(function(N){b(k,N);function k(){return v(this,k),g(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return i(k,[{key:"format",value:function(A,O){A===j.blotName&&!O?this.replaceWith(c.default.create(this.statics.scope)):o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"format",this).call(this,A,O)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(A,O){return this.parent.isolate(this.offset(this.parent),this.length()),A===this.parent.statics.blotName?(this.parent.replaceWith(A,O),this):(this.parent.unwrap(),o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replaceWith",this).call(this,A,O))}}],[{key:"formats",value:function(A){return A.tagName===this.tagName?void 0:o(k.__proto__||Object.getPrototypeOf(k),"formats",this).call(this,A)}}]),k})(d.default);w.blotName="list-item",w.tagName="LI";var j=(function(N){b(k,N),i(k,null,[{key:"create",value:function(A){var O=A==="ordered"?"OL":"UL",D=o(k.__proto__||Object.getPrototypeOf(k),"create",this).call(this,O);return(A==="checked"||A==="unchecked")&&D.setAttribute("data-checked",A==="checked"),D}},{key:"formats",value:function(A){if(A.tagName==="OL")return"ordered";if(A.tagName==="UL")return A.hasAttribute("data-checked")?A.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function k(P){v(this,k);var A=g(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,P)),O=function(R){if(R.target.parentNode===P){var C=A.statics.formats(P),T=c.default.find(R.target);C==="checked"?T.format("list","unchecked"):C==="unchecked"&&T.format("list","checked")}};return P.addEventListener("touchstart",O),P.addEventListener("mousedown",O),A}return i(k,[{key:"format",value:function(A,O){this.children.length>0&&this.children.tail.format(A,O)}},{key:"formats",value:function(){return y({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(A,O){if(A instanceof w)o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertBefore",this).call(this,A,O);else{var D=O==null?this.length():O.offset(this),R=this.split(D);R.parent.insertBefore(A,R)}}},{key:"optimize",value:function(A){o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,A);var O=this.next;O!=null&&O.prev===this&&O.statics.blotName===this.statics.blotName&&O.domNode.tagName===this.domNode.tagName&&O.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(O.moveChildren(this),O.remove())}},{key:"replace",value:function(A){if(A.statics.blotName!==this.statics.blotName){var O=c.default.create(this.statics.defaultChild);A.moveChildren(O),this.appendChild(O)}o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replace",this).call(this,A)}}]),k})(m.default);j.blotName="list",j.scope=c.default.Scope.BLOCK_BLOT,j.tagName=["OL","UL"],j.defaultChild="list-item",j.allowedChildren=[w],n.ListItem=w,n.default=j}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=s(56),o=l(i);function l(m){return m&&m.__esModule?m:{default:m}}function c(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function u(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function d(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var h=(function(m){d(p,m);function p(){return c(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(o.default);h.blotName="italic",h.tagName=["EM","I"],n.default=h}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function y(v,g){for(var b=0;b<g.length;b++){var w=g[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(v,w.key,w)}}return function(v,g,b){return g&&y(v.prototype,g),b&&y(v,b),v}})(),o=function y(v,g,b){v===null&&(v=Function.prototype);var w=Object.getOwnPropertyDescriptor(v,g);if(w===void 0){var j=Object.getPrototypeOf(v);return j===null?void 0:y(j,g,b)}else{if("value"in w)return w.value;var N=w.get;return N===void 0?void 0:N.call(b)}},l=s(6),c=u(l);function u(y){return y&&y.__esModule?y:{default:y}}function d(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function h(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function m(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var p=(function(y){m(v,y);function v(){return d(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return i(v,null,[{key:"create",value:function(b){return b==="super"?document.createElement("sup"):b==="sub"?document.createElement("sub"):o(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,b)}},{key:"formats",value:function(b){if(b.tagName==="SUB")return"sub";if(b.tagName==="SUP")return"super"}}]),v})(c.default);p.blotName="script",p.tagName=["SUB","SUP"],n.default=p}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=s(6),o=l(i);function l(m){return m&&m.__esModule?m:{default:m}}function c(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function u(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function d(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var h=(function(m){d(p,m);function p(){return c(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(o.default);h.blotName="strike",h.tagName="S",n.default=h}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=s(6),o=l(i);function l(m){return m&&m.__esModule?m:{default:m}}function c(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function u(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function d(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var h=(function(m){d(p,m);function p(){return c(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(o.default);h.blotName="underline",h.tagName="U",n.default=h}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function g(b,w){for(var j=0;j<w.length;j++){var N=w[j];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(b,N.key,N)}}return function(b,w,j){return w&&g(b.prototype,w),j&&g(b,j),b}})(),o=function g(b,w,j){b===null&&(b=Function.prototype);var N=Object.getOwnPropertyDescriptor(b,w);if(N===void 0){var k=Object.getPrototypeOf(b);return k===null?void 0:g(k,w,j)}else{if("value"in N)return N.value;var P=N.get;return P===void 0?void 0:P.call(j)}},l=s(0),c=d(l),u=s(27);function d(g){return g&&g.__esModule?g:{default:g}}function h(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}function m(g,b){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:g}function p(g,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);g.prototype=Object.create(b&&b.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(g,b):g.__proto__=b)}var y=["alt","height","width"],v=(function(g){p(b,g);function b(){return h(this,b),m(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return i(b,[{key:"format",value:function(j,N){y.indexOf(j)>-1?N?this.domNode.setAttribute(j,N):this.domNode.removeAttribute(j):o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,j,N)}}],[{key:"create",value:function(j){var N=o(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,j);return typeof j=="string"&&N.setAttribute("src",this.sanitize(j)),N}},{key:"formats",value:function(j){return y.reduce(function(N,k){return j.hasAttribute(k)&&(N[k]=j.getAttribute(k)),N},{})}},{key:"match",value:function(j){return/\.(jpe?g|gif|png)$/.test(j)||/^data:image\/.+;base64/.test(j)}},{key:"sanitize",value:function(j){return(0,u.sanitize)(j,["http","https","data"])?j:"//:0"}},{key:"value",value:function(j){return j.getAttribute("src")}}]),b})(c.default.Embed);v.blotName="image",v.tagName="IMG",n.default=v}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function g(b,w){for(var j=0;j<w.length;j++){var N=w[j];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(b,N.key,N)}}return function(b,w,j){return w&&g(b.prototype,w),j&&g(b,j),b}})(),o=function g(b,w,j){b===null&&(b=Function.prototype);var N=Object.getOwnPropertyDescriptor(b,w);if(N===void 0){var k=Object.getPrototypeOf(b);return k===null?void 0:g(k,w,j)}else{if("value"in N)return N.value;var P=N.get;return P===void 0?void 0:P.call(j)}},l=s(4),c=s(27),u=d(c);function d(g){return g&&g.__esModule?g:{default:g}}function h(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}function m(g,b){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:g}function p(g,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);g.prototype=Object.create(b&&b.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(g,b):g.__proto__=b)}var y=["height","width"],v=(function(g){p(b,g);function b(){return h(this,b),m(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return i(b,[{key:"format",value:function(j,N){y.indexOf(j)>-1?N?this.domNode.setAttribute(j,N):this.domNode.removeAttribute(j):o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,j,N)}}],[{key:"create",value:function(j){var N=o(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,j);return N.setAttribute("frameborder","0"),N.setAttribute("allowfullscreen",!0),N.setAttribute("src",this.sanitize(j)),N}},{key:"formats",value:function(j){return y.reduce(function(N,k){return j.hasAttribute(k)&&(N[k]=j.getAttribute(k)),N},{})}},{key:"sanitize",value:function(j){return u.default.sanitize(j)}},{key:"value",value:function(j){return j.getAttribute("src")}}]),b})(l.BlockEmbed);v.blotName="video",v.className="ql-video",v.tagName="IFRAME",n.default=v}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.FormulaBlot=void 0;var i=(function(){function j(N,k){for(var P=0;P<k.length;P++){var A=k[P];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(N,A.key,A)}}return function(N,k,P){return k&&j(N.prototype,k),P&&j(N,P),N}})(),o=function j(N,k,P){N===null&&(N=Function.prototype);var A=Object.getOwnPropertyDescriptor(N,k);if(A===void 0){var O=Object.getPrototypeOf(N);return O===null?void 0:j(O,k,P)}else{if("value"in A)return A.value;var D=A.get;return D===void 0?void 0:D.call(P)}},l=s(35),c=p(l),u=s(5),d=p(u),h=s(9),m=p(h);function p(j){return j&&j.__esModule?j:{default:j}}function y(j,N){if(!(j instanceof N))throw new TypeError("Cannot call a class as a function")}function v(j,N){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:j}function g(j,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);j.prototype=Object.create(N&&N.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(j,N):j.__proto__=N)}var b=(function(j){g(N,j);function N(){return y(this,N),v(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return i(N,null,[{key:"create",value:function(P){var A=o(N.__proto__||Object.getPrototypeOf(N),"create",this).call(this,P);return typeof P=="string"&&(window.katex.render(P,A,{throwOnError:!1,errorColor:"#f00"}),A.setAttribute("data-value",P)),A}},{key:"value",value:function(P){return P.getAttribute("data-value")}}]),N})(c.default);b.blotName="formula",b.className="ql-formula",b.tagName="SPAN";var w=(function(j){g(N,j),i(N,null,[{key:"register",value:function(){d.default.register(b,!0)}}]);function N(){y(this,N);var k=v(this,(N.__proto__||Object.getPrototypeOf(N)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return k}return N})(m.default);n.FormulaBlot=b,n.default=w}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.CodeToken=n.CodeBlock=void 0;var i=(function(){function P(A,O){for(var D=0;D<O.length;D++){var R=O[D];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(A,R.key,R)}}return function(A,O,D){return O&&P(A.prototype,O),D&&P(A,D),A}})(),o=function P(A,O,D){A===null&&(A=Function.prototype);var R=Object.getOwnPropertyDescriptor(A,O);if(R===void 0){var C=Object.getPrototypeOf(A);return C===null?void 0:P(C,O,D)}else{if("value"in R)return R.value;var T=R.get;return T===void 0?void 0:T.call(D)}},l=s(0),c=v(l),u=s(5),d=v(u),h=s(9),m=v(h),p=s(13),y=v(p);function v(P){return P&&P.__esModule?P:{default:P}}function g(P,A){if(!(P instanceof A))throw new TypeError("Cannot call a class as a function")}function b(P,A){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:P}function w(P,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);P.prototype=Object.create(A&&A.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(P,A):P.__proto__=A)}var j=(function(P){w(A,P);function A(){return g(this,A),b(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return i(A,[{key:"replaceWith",value:function(D){this.domNode.textContent=this.domNode.textContent,this.attach(),o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"replaceWith",this).call(this,D)}},{key:"highlight",value:function(D){var R=this.domNode.textContent;this.cachedText!==R&&((R.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=D(R),this.domNode.normalize(),this.attach()),this.cachedText=R)}}]),A})(y.default);j.className="ql-syntax";var N=new c.default.Attributor.Class("token","hljs",{scope:c.default.Scope.INLINE}),k=(function(P){w(A,P),i(A,null,[{key:"register",value:function(){d.default.register(N,!0),d.default.register(j,!0)}}]);function A(O,D){g(this,A);var R=b(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,O,D));if(typeof R.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var C=null;return R.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(C),C=setTimeout(function(){R.highlight(),C=null},R.options.interval)}),R.highlight(),R}return i(A,[{key:"highlight",value:function(){var D=this;if(!this.quill.selection.composing){this.quill.update(d.default.sources.USER);var R=this.quill.getSelection();this.quill.scroll.descendants(j).forEach(function(C){C.highlight(D.options.highlight)}),this.quill.update(d.default.sources.SILENT),R!=null&&this.quill.setSelection(R,d.default.sources.SILENT)}}}]),A})(m.default);k.DEFAULTS={highlight:(function(){return window.hljs==null?null:function(P){var A=window.hljs.highlightAuto(P);return A.value}})(),interval:1e3},n.CodeBlock=j,n.CodeToken=N,n.default=k}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'}),(function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'}),(function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'}),(function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'}),(function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BubbleTooltip=void 0;var i=function A(O,D,R){O===null&&(O=Function.prototype);var C=Object.getOwnPropertyDescriptor(O,D);if(C===void 0){var T=Object.getPrototypeOf(O);return T===null?void 0:A(T,D,R)}else{if("value"in C)return C.value;var I=C.get;return I===void 0?void 0:I.call(R)}},o=(function(){function A(O,D){for(var R=0;R<D.length;R++){var C=D[R];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(O,C.key,C)}}return function(O,D,R){return D&&A(O.prototype,D),R&&A(O,R),O}})(),l=s(3),c=g(l),u=s(8),d=g(u),h=s(43),m=g(h),p=s(15),y=s(41),v=g(y);function g(A){return A&&A.__esModule?A:{default:A}}function b(A,O){if(!(A instanceof O))throw new TypeError("Cannot call a class as a function")}function w(A,O){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:A}function j(A,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);A.prototype=Object.create(O&&O.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(A,O):A.__proto__=O)}var N=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],k=(function(A){j(O,A);function O(D,R){b(this,O),R.modules.toolbar!=null&&R.modules.toolbar.container==null&&(R.modules.toolbar.container=N);var C=w(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,D,R));return C.quill.container.classList.add("ql-bubble"),C}return o(O,[{key:"extendToolbar",value:function(R){this.tooltip=new P(this.quill,this.options.bounds),this.tooltip.root.appendChild(R.container),this.buildButtons([].slice.call(R.container.querySelectorAll("button")),v.default),this.buildPickers([].slice.call(R.container.querySelectorAll("select")),v.default)}}]),O})(m.default);k.DEFAULTS=(0,c.default)(!0,{},m.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(O){O?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var P=(function(A){j(O,A);function O(D,R){b(this,O);var C=w(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,D,R));return C.quill.on(d.default.events.EDITOR_CHANGE,function(T,I,B,X){if(T===d.default.events.SELECTION_CHANGE)if(I!=null&&I.length>0&&X===d.default.sources.USER){C.show(),C.root.style.left="0px",C.root.style.width="",C.root.style.width=C.root.offsetWidth+"px";var re=C.quill.getLines(I.index,I.length);if(re.length===1)C.position(C.quill.getBounds(I));else{var Z=re[re.length-1],te=C.quill.getIndex(Z),Y=Math.min(Z.length()-1,I.index+I.length-te),Q=C.quill.getBounds(new p.Range(te,Y));C.position(Q)}}else document.activeElement!==C.textbox&&C.quill.hasFocus()&&C.hide()}),C}return o(O,[{key:"listen",value:function(){var R=this;i(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){R.root.classList.remove("ql-editing")}),this.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!R.root.classList.contains("ql-hidden")){var C=R.quill.getSelection();C!=null&&R.position(R.quill.getBounds(C))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(R){var C=i(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"position",this).call(this,R),T=this.root.querySelector(".ql-tooltip-arrow");if(T.style.marginLeft="",C===0)return C;T.style.marginLeft=-1*C-T.offsetWidth/2+"px"}}]),O})(h.BaseTooltip);P.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),n.BubbleTooltip=P,n.default=k}),(function(r,n,s){r.exports=s(63)})]).default})})(Bv)),Bv.exports}var vu,V8;function gve(){if(V8)return vu;V8=1;var e=vu&&vu.__extends||(function(){var d=function(h,m){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,y){p.__proto__=y}||function(p,y){for(var v in y)y.hasOwnProperty(v)&&(p[v]=y[v])},d(h,m)};return function(h,m){d(h,m);function p(){this.constructor=h}h.prototype=m===null?Object.create(m):(p.prototype=m.prototype,new p)}})(),t=vu&&vu.__assign||function(){return t=Object.assign||function(d){for(var h,m=1,p=arguments.length;m<p;m++){h=arguments[m];for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&(d[y]=h[y])}return d},t.apply(this,arguments)},r=vu&&vu.__spreadArrays||function(){for(var d=0,h=0,m=arguments.length;h<m;h++)d+=arguments[h].length;for(var p=Array(d),y=0,h=0;h<m;h++)for(var v=arguments[h],g=0,b=v.length;g<b;g++,y++)p[y]=v[g];return p},n=vu&&vu.__importDefault||function(d){return d&&d.__esModule?d:{default:d}},s=n(cy()),i=n(X8()),o=n(HL()),l=n(xve()),c=(function(d){e(h,d);function h(m){var p=d.call(this,m)||this;p.dirtyProps=["modules","formats","bounds","theme","children"],p.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],p.state={generation:0},p.selection=null,p.onEditorChange=function(v,g,b,w){var j,N,k,P;v==="text-change"?(N=(j=p).onEditorChangeText)===null||N===void 0||N.call(j,p.editor.root.innerHTML,g,w,p.unprivilegedEditor):v==="selection-change"&&((P=(k=p).onEditorChangeSelection)===null||P===void 0||P.call(k,g,w,p.unprivilegedEditor))};var y=p.isControlled()?m.value:m.defaultValue;return p.value=y??"",p}return h.prototype.validateProps=function(m){var p;if(s.default.Children.count(m.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(s.default.Children.count(m.children)){var y=s.default.Children.only(m.children);if(((p=y)===null||p===void 0?void 0:p.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&m.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},h.prototype.shouldComponentUpdate=function(m,p){var y=this,v;if(this.validateProps(m),!this.editor||this.state.generation!==p.generation)return!0;if("value"in m){var g=this.getEditorContents(),b=(v=m.value,v??"");this.isEqualValue(b,g)||this.setEditorContents(this.editor,b)}return m.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,m.readOnly),r(this.cleanProps,this.dirtyProps).some(function(w){return!o.default(m[w],y.props[w])})},h.prototype.shouldComponentRegenerate=function(m){var p=this;return this.dirtyProps.some(function(y){return!o.default(m[y],p.props[y])})},h.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},h.prototype.componentWillUnmount=function(){this.destroyEditor()},h.prototype.componentDidUpdate=function(m,p){var y=this;if(this.editor&&this.shouldComponentRegenerate(m)){var v=this.editor.getContents(),g=this.editor.getSelection();this.regenerationSnapshot={delta:v,selection:g},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==p.generation){var b=this.regenerationSnapshot,v=b.delta,w=b.selection;delete this.regenerationSnapshot,this.instantiateEditor();var j=this.editor;j.setContents(v),u(function(){return y.setEditorSelection(j,w)})}},h.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},h.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},h.prototype.isControlled=function(){return"value"in this.props},h.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},h.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},h.prototype.createEditor=function(m,p){var y=new l.default(m,p);return p.tabIndex!=null&&this.setEditorTabIndex(y,p.tabIndex),this.hookEditor(y),y},h.prototype.hookEditor=function(m){this.unprivilegedEditor=this.makeUnprivilegedEditor(m),m.on("editor-change",this.onEditorChange)},h.prototype.unhookEditor=function(m){m.off("editor-change",this.onEditorChange)},h.prototype.getEditorContents=function(){return this.value},h.prototype.getEditorSelection=function(){return this.selection},h.prototype.isDelta=function(m){return m&&m.ops},h.prototype.isEqualValue=function(m,p){return this.isDelta(m)&&this.isDelta(p)?o.default(m.ops,p.ops):o.default(m,p)},h.prototype.setEditorContents=function(m,p){var y=this;this.value=p;var v=this.getEditorSelection();typeof p=="string"?m.setContents(m.clipboard.convert(p)):m.setContents(p),u(function(){return y.setEditorSelection(m,v)})},h.prototype.setEditorSelection=function(m,p){if(this.selection=p,p){var y=m.getLength();p.index=Math.max(0,Math.min(p.index,y-1)),p.length=Math.max(0,Math.min(p.length,y-1-p.index)),m.setSelection(p)}},h.prototype.setEditorTabIndex=function(m,p){var y,v;!((v=(y=m)===null||y===void 0?void 0:y.scroll)===null||v===void 0)&&v.domNode&&(m.scroll.domNode.tabIndex=p)},h.prototype.setEditorReadOnly=function(m,p){p?m.disable():m.enable()},h.prototype.makeUnprivilegedEditor=function(m){var p=m;return{getHTML:function(){return p.root.innerHTML},getLength:p.getLength.bind(p),getText:p.getText.bind(p),getContents:p.getContents.bind(p),getSelection:p.getSelection.bind(p),getBounds:p.getBounds.bind(p)}},h.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var m=i.default.findDOMNode(this.editingArea);if(!m)throw new Error("Cannot find element for editing area");if(m.nodeType===3)throw new Error("Editing area cannot be a text node");return m},h.prototype.renderEditingArea=function(){var m=this,p=this.props,y=p.children,v=p.preserveWhitespace,g=this.state.generation,b={key:g,ref:function(w){m.editingArea=w}};return s.default.Children.count(y)?s.default.cloneElement(s.default.Children.only(y),b):v?s.default.createElement("pre",t({},b)):s.default.createElement("div",t({},b))},h.prototype.render=function(){var m;return s.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(m=this.props.className,m??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},h.prototype.onEditorChangeText=function(m,p,y,v){var g,b;if(this.editor){var w=this.isDelta(this.value)?v.getContents():v.getHTML();w!==this.getEditorContents()&&(this.lastDeltaChangeSet=p,this.value=w,(b=(g=this.props).onChange)===null||b===void 0||b.call(g,m,p,y,v))}},h.prototype.onEditorChangeSelection=function(m,p,y){var v,g,b,w,j,N;if(this.editor){var k=this.getEditorSelection(),P=!k&&m,A=k&&!m;o.default(m,k)||(this.selection=m,(g=(v=this.props).onChangeSelection)===null||g===void 0||g.call(v,m,p,y),P?(w=(b=this.props).onFocus)===null||w===void 0||w.call(b,m,p,y):A&&((N=(j=this.props).onBlur)===null||N===void 0||N.call(j,k,p,y)))}},h.prototype.focus=function(){this.editor&&this.editor.focus()},h.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},h.displayName="React Quill",h.Quill=l.default,h.defaultProps={theme:"snow",modules:{},readOnly:!1},h})(s.default.Component);function u(d){Promise.resolve().then(d)}return vu=c,vu}var vve=gve();const yve=Ia(vve),bve=({isOpen:e,onClose:t,userId:r,emailId:n,emailSubject:s,emailBody:i,participants:o=[],extractedDetails:l,onCreateSuccess:c})=>{const{showSuccess:u,showError:d}=Ms(),[h,m]=z.useState(!1),[p,y]=z.useState(!1),[v,g]=z.useState([]),[b,w]=z.useState(!1),[j,N]=z.useState({title:"",description:"",start:"",end:"",location:"",participants:[],createInGoogleCalendar:!0});z.useEffect(()=>{if(!e)return;const A=new Date;A.setDate(A.getDate()+1),A.setHours(10,0,0,0);const O=new Date(A);O.setHours(11,0,0,0);let D=A.toISOString().substring(0,16),R=O.toISOString().substring(0,16);if(l?.date||l?.time)try{const C=l.date||"tomorrow",T=l.time||"10:00 AM";let I=new Date;if(C.toLowerCase().includes("tomorrow"))I.setDate(I.getDate()+1);else if(!C.toLowerCase().includes("today")){const X=C.match(/(\d{1,2})\/(\d{1,2})\/(\d{2,4})/);if(X){const[,re,Z,te]=X;I=new Date(parseInt(te)<100?2e3+parseInt(te):parseInt(te),parseInt(re)-1,parseInt(Z))}}const B=T.match(/(\d{1,2}):?(\d{2})?\s*(am|pm)?/i);if(B){let X=parseInt(B[1]);const re=B[2]?parseInt(B[2]):0,Z=B[3]?.toLowerCase();Z==="pm"&&X!==12&&(X+=12),Z==="am"&&X===12&&(X=0),I.setHours(X,re,0,0),D=I.toISOString().substring(0,16);const te=new Date(I);te.setHours(te.getHours()+1),R=te.toISOString().substring(0,16)}}catch(C){console.warn("Failed to parse extracted date/time:",C)}N({title:l?.title||s||"Meeting",description:l?.description||i?.substring(0,500)||"",start:D,end:R,location:l?.location||"",participants:l?.participants||o||[],createInGoogleCalendar:!0})},[e,l,s,i,o]);const k=async()=>{if(!j.start||!j.end||j.participants.length===0){d("Please set date/time and add participants to check availability");return}y(!0);try{const A=new Date(j.start).toISOString().split("T")[0],O=new Date(j.end).toISOString().split("T")[0],D=await Tae(r,j.participants,A,O);D.success&&D.data&&(g(D.data),w(!0))}catch(A){d(A.message||"Failed to check availability")}finally{y(!1)}},P=async A=>{if(A.preventDefault(),!j.title||!j.start||!j.end){d("Please fill in all required fields");return}if(!n){d("Email ID is required to create meeting");return}m(!0);try{(await Cae({userId:r,emailId:n,title:j.title,description:j.description,start:new Date(j.start).toISOString(),end:new Date(j.end).toISOString(),location:j.location,participants:j.participants,createInGoogleCalendar:j.createInGoogleCalendar})).success&&(u("Meeting created successfully!"),c?.(),t())}catch(O){d(O.message||"Failed to create meeting")}finally{m(!1)}};return e?a.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-[250] flex items-center justify-center p-4 animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-2xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 max-h-[90vh] flex flex-col",children:[a.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50 flex-shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-indigo-600 rounded-xl text-white shadow-lg shadow-indigo-100",children:a.jsx(Ha,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Schedule Meeting"}),a.jsx("p",{className:"text-[10px] text-slate-400 uppercase tracking-widest font-black",children:"From Email"})]})]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-white rounded-full text-slate-400 transition-colors shadow-sm border border-transparent hover:border-slate-100",children:a.jsx(mr,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[l&&(l.date||l.time||l.location)&&a.jsx("div",{className:"mb-4 p-3 bg-indigo-50 border border-indigo-200 rounded-xl",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(pa,{className:"w-4 h-4 text-indigo-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-xs font-semibold text-indigo-900 mb-1",children:"Extracted Meeting Details"}),a.jsxs("div",{className:"text-xs text-indigo-700 space-y-0.5",children:[l.date&&a.jsxs("p",{children:["Date: ",l.date]}),l.time&&a.jsxs("p",{children:["Time: ",l.time]}),l.location&&a.jsxs("p",{children:["Location: ",l.location]})]})]})]})}),a.jsxs("form",{onSubmit:P,className:"space-y-5",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Meeting Title *"}),a.jsx("input",{required:!0,type:"text",placeholder:"e.g. Project Sync Meeting",value:j.title,onChange:A=>N({...j,title:A.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm outline-none focus:ring-2 focus:ring-indigo-100 transition-all"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1 flex items-center gap-1.5",children:[a.jsx(ws,{className:"w-3 h-3"})," Start Time *"]}),a.jsx("input",{required:!0,type:"datetime-local",value:j.start,onChange:A=>N({...j,start:A.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-xs outline-none focus:ring-2 focus:ring-indigo-100"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1 flex items-center gap-1.5",children:[a.jsx(ws,{className:"w-3 h-3"})," End Time *"]}),a.jsx("input",{required:!0,type:"datetime-local",value:j.end,onChange:A=>N({...j,end:A.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-xs outline-none focus:ring-2 focus:ring-indigo-100"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1 flex items-center gap-1.5",children:[a.jsx(rD,{className:"w-3 h-3"})," Location"]}),a.jsx("input",{type:"text",placeholder:"e.g. Conference Room A, Zoom, Google Meet",value:j.location,onChange:A=>N({...j,location:A.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm outline-none focus:ring-2 focus:ring-indigo-100"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1 flex items-center gap-1.5",children:[a.jsx(R0,{className:"w-3 h-3"})," Participants"]}),j.participants.length>0&&a.jsx("button",{type:"button",onClick:k,disabled:p||!j.start||!j.end,className:"text-xs text-indigo-600 hover:text-indigo-700 font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Checking...":"Check Availability"})]}),a.jsxs("div",{className:"flex flex-wrap gap-2 p-3 bg-slate-50 border border-slate-200 rounded-xl min-h-[50px]",children:[j.participants.map((A,O)=>a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-indigo-100 text-indigo-700 text-xs font-medium rounded-lg",children:[A,a.jsx("button",{type:"button",onClick:()=>N({...j,participants:j.participants.filter((D,R)=>R!==O)}),className:"hover:text-indigo-900",children:a.jsx(mr,{className:"w-3 h-3"})})]},O)),a.jsx("input",{type:"email",placeholder:"Add participant email...",onKeyDown:A=>{if(A.key==="Enter"&&A.currentTarget.value.trim()){A.preventDefault();const O=A.currentTarget.value.trim();j.participants.includes(O)||N({...j,participants:[...j.participants,O]}),A.currentTarget.value=""}},className:"flex-1 min-w-[200px] bg-transparent border-none outline-none text-sm"})]})]}),b&&v.length>0&&a.jsxs("div",{className:"space-y-2 p-3 bg-amber-50 border border-amber-200 rounded-xl",children:[a.jsx("p",{className:"text-xs font-semibold text-amber-900",children:"Team Availability"}),v.map((A,O)=>a.jsxs("div",{className:"text-xs text-amber-800",children:[a.jsx("p",{className:"font-medium",children:A.userId}),A.busySlots&&A.busySlots.length>0?a.jsxs("p",{className:"text-amber-700 mt-0.5",children:["Busy: ",A.busySlots.length," conflict(s)"]}):a.jsx("p",{className:"text-emerald-700 mt-0.5",children:"Available"})]},O))]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Description"}),a.jsx("textarea",{placeholder:"Meeting agenda, notes, or details...",value:j.description,onChange:A=>N({...j,description:A.target.value}),rows:4,className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm outline-none focus:ring-2 focus:ring-indigo-100 resize-none"})]}),a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-slate-50 rounded-xl",children:[a.jsx("input",{type:"checkbox",id:"createInGoogleCalendar",checked:j.createInGoogleCalendar,onChange:A=>N({...j,createInGoogleCalendar:A.target.checked}),className:"w-4 h-4 text-indigo-600 rounded focus:ring-indigo-500"}),a.jsx("label",{htmlFor:"createInGoogleCalendar",className:"text-sm text-slate-700 cursor-pointer",children:"Create in Google Calendar"})]})]})]}),a.jsxs("div",{className:"flex gap-3 p-6 border-t border-slate-100 bg-slate-50/50 flex-shrink-0",children:[a.jsx("button",{type:"button",onClick:t,className:"flex-1 py-3 text-sm font-bold text-slate-500 hover:bg-white rounded-2xl transition-colors border border-slate-200",children:"Cancel"}),a.jsx("button",{type:"button",onClick:P,disabled:h||!j.title||!j.start||!j.end||!n,className:"flex-[2] py-3 bg-indigo-600 text-white text-sm font-bold rounded-2xl flex items-center justify-center gap-2 shadow-xl shadow-indigo-100 hover:bg-indigo-700 transition-all active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed",children:h?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Creating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(cd,{className:"w-4 h-4"}),"Create Meeting"]})})]})]})}):null},wve={"shared-inbox:read":["Viewer","Collaborator","Admin"],"shared-inbox:view-emails":["Viewer","Collaborator","Admin"],"shared-inbox:view-notes":["Viewer","Collaborator","Admin"],"shared-inbox:view-assignments":["Viewer","Collaborator","Admin"],"shared-inbox:add-note":["Collaborator","Admin"],"shared-inbox:edit-note":["Collaborator","Admin"],"shared-inbox:delete-note":["Collaborator","Admin"],"shared-inbox:assign-email":["Admin"],"shared-inbox:unassign-email":["Admin"],"shared-inbox:send-email":["Admin"],"shared-inbox:reply-email":["Admin"],"shared-inbox:forward-email":["Admin"],"shared-inbox:star-email":["Collaborator","Admin"],"shared-inbox:archive-email":["Admin"],"shared-inbox:delete-email":["Admin"],"shared-inbox:update-metadata":["Admin"],"shared-inbox:manage-accounts":["Admin"],"shared-inbox:manage-routing-rules":["Admin"],"shared-inbox:manage-templates":["Collaborator","Admin"],"shared-inbox:manage-signatures":["Collaborator","Admin"],"shared-inbox:manage-labels":["Admin"],"shared-inbox:sync-emails":["Admin"],"admin:manage-users":["Admin"],"admin:manage-settings":["Admin"],"admin:view-analytics":["Admin"]},k9=e=>e?e==="User"||e==="user"?"Collaborator":e==="Admin"||e==="admin"?"Admin":e==="Viewer"||e==="viewer"?"Viewer":e==="Collaborator"||e==="collaborator"?"Collaborator":"Viewer":"Viewer",jc=(e,t)=>{const r=k9(e);return(wve[t]||[]).includes(r)},Nve=e=>k9(e)==="Admin",Uv=it.forwardRef((e,t)=>a.jsx(yve,{...e,ref:t}));Uv.displayName="QuillEditor";function G8({content:e,highlightTerm:t}){const r=z.useRef(null),n=e||"No content",s=/<[a-z][\s\S]*>/i.test(n);if(z.useEffect(()=>{if(!r.current)return;const l=r.current.querySelectorAll("img[data-src]");if(l.length===0)return;const c=new IntersectionObserver(u=>{u.forEach(d=>{if(d.isIntersecting){const h=d.target,m=h.getAttribute("data-src");m&&(h.src=m,h.removeAttribute("data-src"),h.loading="lazy",c.unobserve(h))}})},{rootMargin:"50px"});return l.forEach(u=>c.observe(u)),()=>{l.forEach(u=>c.unobserve(u))}},[e]),t&&t.trim()){const l=t.trim().replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),c=new RegExp(`(${l})`,"gi"),d=(s?n.replace(/<[^>]+>/g," ").replace(/\s+/g," ").trim():n).replace(c,'<mark class="bg-amber-200 rounded px-0.5">$1</mark>'),h=H8.sanitize(d,{ALLOWED_TAGS:["mark","br"]});return a.jsx("div",{ref:r,className:"prose prose-slate max-w-none text-sm break-words email-body-content",style:{whiteSpace:"pre-wrap"},dangerouslySetInnerHTML:{__html:h}})}const i=s?H8.sanitize(n,{ADD_ATTR:["target","loading"],ADD_TAGS:["img"]}):"";let o=i;return s&&i&&(o=i.replace(/<img([^>]*?)src=["']([^"']+)["']([^>]*?)>/gi,(l,c,u,d)=>`<img${c}data-src="${u}" loading="lazy"${d}>`)),a.jsx("div",{ref:r,className:"prose prose-slate max-w-none text-sm break-words email-body-content",...s?{dangerouslySetInnerHTML:{__html:o}}:{style:{whiteSpace:"pre-wrap"},children:n}})}const S9=({currentUser:e})=>{const{showSuccess:t,showError:r}=Ms(),n=e||(typeof window<"u"?JSON.parse(localStorage.getItem("user_data")||"null"):null),s=n?.id,i=n?.role||"Viewer",o=jc(i,"shared-inbox:add-note"),l=jc(i,"shared-inbox:assign-email"),c=jc(i,"shared-inbox:send-email"),u=jc(i,"shared-inbox:reply-email"),d=jc(i,"shared-inbox:forward-email"),h=jc(i,"shared-inbox:star-email"),m=jc(i,"shared-inbox:archive-email"),p=jc(i,"shared-inbox:delete-email"),y=jc(i,"shared-inbox:update-metadata");jc(i,"shared-inbox:manage-accounts");const v=jc(i,"shared-inbox:sync-emails"),g=(F,ue="An error occurred")=>F?typeof F=="string"?F:typeof F=="object"?typeof F.message=="string"&&F.message?F.message:F.error&&typeof F.error=="object"&&typeof F.error.message=="string"&&F.error.message?F.error.message:ue:ue:ue,b=F=>!F||typeof F!="string"?"":F.replace(/\n/g,"<br/>"),w=async(F,ue)=>{try{return await F()}catch(Ne){const He=g(Ne,"An error occurred");return ue&&ue(He),null}},[j,N]=z.useState([]),[k,P]=z.useState(null),[A,O]=z.useState(!0),[D,R]=z.useState(!1),[C,T]=z.useState(!1),[I,B]=z.useState(!1),[X,re]=z.useState(!0),[Z,te]=z.useState(0),[Y,Q]=z.useState(0),H=50,[E,q]=z.useState(""),[V,U]=z.useState(null),[G,ne]=z.useState(""),[de,ce]=z.useState(""),[he,Le]=z.useState(void 0),[se,Fe]=z.useState(""),[_e,oe]=z.useState(""),[ae,ke]=z.useState(void 0),[we,Pe]=z.useState(void 0),[pe,fe]=z.useState(""),[De,Xe]=z.useState(!1),[Je,ht]=z.useState([]),[Ue,at]=z.useState(!1),[Me,ut]=z.useState([]),[ot,rt]=z.useState(!1),[lr,er]=z.useState(""),[xt,Ht]=z.useState(!1),[Ut,qe]=z.useState([]),[jt,kr]=z.useState(!1),[zt,_r]=z.useState(null),[Tr,pr]=z.useState(null),[Jt,Lr]=z.useState("list"),[Ar,Gr]=z.useState(new Set),[Tn,Ln]=z.useState(new Set),[vr,Xn]=z.useState({}),[vn,Ke]=z.useState(""),[bt,Wt]=z.useState(""),[ee,me]=z.useState(null),[ge,Se]=z.useState(!1),[Ee,Te]=z.useState(null),[Ge,dt]=z.useState(null),[Ve,Qe]=z.useState([]),[ze,Ie]=z.useState(null),[et,gt]=z.useState(!1),Lt=z.useRef(null),Bt=z.useRef(null),[br,Dr]=z.useState(!1),[Qr,Nn]=z.useState([]),[ds,qn]=z.useState(null),[ss,$n]=z.useState(!1),[fs,jn]=z.useState(""),[Hr,Be]=z.useState([]),[kt,yt]=z.useState(!1),[Yt,cr]=z.useState(""),[ar,Nr]=z.useState(0),[mn,Fn]=z.useState([]),[rr,nr]=z.useState(null),[Ot,Zr]=z.useState([]),[Ct,Fr]=z.useState(!1),[oa,ja]=z.useState(""),ir=z.useRef(null),[Zn,ya]=z.useState({isOpen:!1,imageUrl:"",imageName:void 0}),[en,Da]=z.useState(null),[Wr,Or]=z.useState({}),[Rr,kn]=z.useState([]),[Ce,xr]=z.useState(!1),[Qt,jr]=z.useState(null),[Kr,tn]=z.useState(!1),[Sn,ba]=z.useState(null),[zi,nc]=z.useState([]),[l0,ll]=z.useState(null),[co,ki]=z.useState(!1),[Uc,cl]=z.useState([]),[qc,Cl]=z.useState(""),[$c,ac]=z.useState(!1),zc=z.useRef(null),Hi=z.useRef(null),[Si,uo]=z.useState("domain"),[Hc,fo]=z.useState(""),[ks,Wc]=z.useState(""),[La,ho]=z.useState([]),[sc,ul]=z.useState(!1),[vd,po]=z.useState(!1),[qo,_i]=z.useState(""),[Tl,Vc]=z.useState(!1),[Gc,yd]=z.useState(""),[Ba,Ol]=z.useState(null),[Lu,Pl]=z.useState(!1),[Kc,W]=z.useState([]),[ve,$e]=z.useState(!1),[Ze,pt]=z.useState(!1),[It,Gt]=z.useState(!1),[yr,Br]=z.useState(null),[rn,sn]=z.useState(null),[pn,la]=z.useState(!1),[yn,Va]=z.useState("compose"),[nn,zn]=z.useState([]),[ea,ka]=z.useState([]),[Yn,is]=z.useState([]),[Ua,Ai]=z.useState(""),[os,Ss]=z.useState(""),[_s,mo]=z.useState(""),[ca,Xc]=z.useState(""),[Il,Fu]=z.useState([]),[ic,ui]=z.useState([]),[oc,dl]=z.useState(!1),[Mu,As]=z.useState(!1),[lc,cc]=z.useState(!1),[$o,Rs]=z.useState(""),[Wi,ls]=z.useState(""),[Ya,Vi]=z.useState(""),[Gi,Dl]=z.useState([]),[Ll,di]=z.useState(!1),[Mn,fl]=z.useState(0),[Vn,Es]=z.useState([]),Fl=z.useRef(null),[bd,xo]=z.useState(!1),[Ml,Rl]=z.useState([]),[Bs,hl]=z.useState(!1),[Ei,pl]=z.useState(""),[ml,uc]=z.useState(null),[Cs,Ci]=z.useState([]),[ua,ta]=z.useState([]),[Fa,cs]=z.useState([]),[zo,Ru]=z.useState([]),[xl,Bu]=z.useState({contacts:[],companies:[]}),[gl,Yc]=z.useState(!1),[Ts,Ki]=z.useState([]),[Jc,Bl]=z.useState([]),[wd,Uu]=z.useState([]),[cf,da]=z.useState(!1),[uf,go]=z.useState(!1),[Ti,Ho]=z.useState(null),[Nd,Qc]=z.useState(!1),[vl,dc]=z.useState(!1),[c0,df]=z.useState(null),[Kp,Zc]=z.useState(!1),[ff,qu]=z.useState(null),[fc,eu]=z.useState(!1),[tu,hf]=z.useState(null),[xh,u0]=z.useState(!1),[pf,Xp]=z.useState({}),[mf,Qs]=z.useState(!1),[vo,Us]=z.useState(!1),[yo,Ul]=z.useState(""),[qs,Oi]=z.useState(Intl.DateTimeFormat().resolvedOptions().timeZone),[gh,d0]=z.useState([]),[hc,ru]=z.useState(!1),[nu,pc]=z.useState(!1),[Sa,fi]=z.useState(new Set),[hs,ra]=z.useState(!1),[Jn,Xi]=z.useState(!1),[Ja,Pi]=z.useState("date"),[Yi,$u]=z.useState("desc"),[Zs,jd]=z.useState(!1),[kd,xf]=z.useState(null),au=z.useRef(null),zu=z.useRef(null),Ji=z.useRef(null),Sd=z.useRef(null),_=z.useCallback(F=>{const ue={searchText:""};if(!F||typeof F!="string")return ue;const Ne=[];let He="",ft=!1;for(let Nt=0;Nt<F.length;Nt++){const Zt=F[Nt];if(Zt==='"'){ft=!ft;continue}if(!ft&&(Zt===" "||Zt==="	")){He&&(Ne.push(He),He="");continue}He+=Zt}He&&Ne.push(He);const sr=[];for(const Nt of Ne){const Zt=Nt.match(/^from:(.+)$/i);if(Zt){ue.from=Zt[1].trim();continue}const qr=Nt.match(/^subject:(.+)$/i);if(qr){ue.subject=qr[1].trim();continue}if(/^has:attachment$/i.test(Nt)){ue.hasAttachment=!0;continue}if(/^has:no-attachment$/i.test(Nt)||/^-has:attachment$/i.test(Nt)){ue.hasAttachment=!1;continue}if(/^is:read$/i.test(Nt)){ue.isRead=!0;continue}if(/^is:unread$/i.test(Nt)){ue.isRead=!1;continue}if(/^is:starred$/i.test(Nt)){ue.isStarred=!0;continue}if(/^is:unstarred$/i.test(Nt)){ue.isStarred=!1;continue}sr.push(Nt)}return ue.searchText=sr.join(" ").trim(),ue},[]),M=z.useCallback(async(F=!1,ue=0,Ne=!1)=>{if(s){!F&&!Ne&&(O(!0),pr(null)),Ne&&B(!0);try{const He={},ft=_(E);ft.searchText&&(He.search=ft.searchText),pe&&(He.status=pe);const sr=ft.from??G;sr&&(He.from=sr);const Nt=ft.subject??de;Nt&&(He.subject=Nt);const Zt=ft.hasAttachment!==void 0?ft.hasAttachment:he;Zt!==void 0&&(He.hasAttachment=Zt),se&&(He.dateFrom=se),_e&&(He.dateTo=_e),Qt&&(He.labelId=Qt);const qr=ft.isRead!==void 0?ft.isRead:ae;qr!==void 0&&(He.isRead=qr);const fn=ft.isStarred!==void 0?ft.isStarred:we;fn!==void 0&&(He.isStarred=fn),He.page=ue,He.limit=H;const Bn=await C7(s,Object.keys(He).length?He:void 0),Ea=Bn?.data??Bn??[],$a=Array.isArray(Ea)?Ea:[];N(Ne?Za=>[...Za,...$a]:$a);const Gn=Bn?.hasMore??$a.length===H;re(Gn),Q(Bn?.total??$a.length),te(ue),console.log("[INBOX] Loaded emails - page:",ue,"count:",$a.length,"hasMore:",Gn,"total:",Bn?.total)}catch(He){Ne||N([]);const ft=He?.message||"Failed to load inbox";F||pr(ft),(He?.message?.toLowerCase().includes("google")||He?.message?.toLowerCase().includes("connected"))&&U(!1)}finally{!F&&!Ne&&O(!1),Ne&&B(!1)}}},[s,E,pe,G,de,he,se,_e,Qt,ae,we]),J=z.useCallback(()=>{if(!I&&X&&s){const F=Z+1;console.log("[INBOX] Loading more emails - page:",F,"hasMore:",X,"loadingMore:",I),M(!0,F,!0)}},[I,X,Z,M,s]);z.useEffect(()=>{const F=zc.current,ue=Hi.current;if(!F||!ue||!X||I)return;let Ne=null,He=null;try{Ne=new IntersectionObserver(ft=>{ft[0].isIntersecting&&X&&!I&&(console.log("[INBOX] IntersectionObserver triggered - loading more"),J())},{threshold:.1,rootMargin:"300px",root:ue}),Ne.observe(F)}catch(ft){console.warn("[INBOX] IntersectionObserver failed, using scroll fallback:",ft)}return He=()=>{if(I||!X)return;const ft=ue,sr=F;if(!ft||!sr)return;const Nt=ft.getBoundingClientRect(),Zt=sr.getBoundingClientRect(),qr=Nt.bottom-Zt.top;qr<500&&qr>-100&&(console.log("[INBOX] Scroll handler triggered - loading more"),J())},ue.addEventListener("scroll",He,{passive:!0}),()=>{Ne&&Ne.disconnect(),He&&ue&&ue.removeEventListener("scroll",He)}},[X,I,J,Jt,j.length]);const le=z.useCallback(async()=>{if(s)try{const F=await A3(s),ue=F?.connected===!0||F?.data?.connected===!0;U(ue)}catch{U(!1)}},[s]),xe=z.useCallback(async()=>{if(s)try{const F=await $ne(s),ue=F?.data??F??[],Ne=Array.isArray(ue)?ue.filter((He,ft,sr)=>sr.findIndex(Nt=>Nt.email===He.email&&Nt.userId===He.userId)===ft):[];qe(Ne),U(Ne.length>0),Ne.length>0&&!_s&&mo(Ne[0].email)}catch{qe([]),U(!1)}},[s]),ye=async()=>{if(s)try{const F=await E7(s),ue=F?.authUrl||F?.data?.authUrl;ue?window.location.href=ue:r("Failed to get authorization URL")}catch(F){r(F?.message||"Failed to connect account")}};z.useEffect(()=>{if(!s){O(!1),U(!1);return}le(),xe()},[s,le,xe]),z.useEffect(()=>{Ut.length>0&&!_s&&mo(Ut[0].email)},[Ut]),z.useEffect(()=>{if(!s)return;M();const F=setInterval(()=>{M(!0)},6e4);return()=>clearInterval(F)},[s,M]),z.useEffect(()=>{try{const F=typeof window<"u"?localStorage.getItem("impactOS_savedSearches"):null;if(F){const ue=JSON.parse(F);Array.isArray(ue)&&ut(ue)}}catch{}},[]),z.useEffect(()=>{if(Me.length!==0)try{localStorage.setItem("impactOS_savedSearches",JSON.stringify(Me))}catch{}},[Me]),z.useEffect(()=>{if(!s||!De)return;let F=!1;return(async()=>{try{const ue=await zne(s,150),Ne=ue?.data??ue??[];!F&&Array.isArray(Ne)&&ht(Ne)}catch{}})(),()=>{F=!0}},[s,De]),z.useEffect(()=>{s&&(async()=>{try{const ue=await fd(),Ne=ue?.data??ue??[];Be(Array.isArray(Ne)?Ne:[])}catch(ue){const Ne=ue?.message||"Failed to load users";console.error("Failed to load users:",Ne)}})()},[s]),z.useEffect(()=>{const F=ue=>{ir.current&&!ir.current.contains(ue.target)&&Fr(!1)};if(Ct)return document.addEventListener("mousedown",F),()=>document.removeEventListener("mousedown",F)},[Ct]),z.useEffect(()=>{s&&(async()=>{try{const ue=await ag(),Ne=ue?.data??ue??[];ui(Array.isArray(Ne)?Ne:[])}catch(ue){console.error("Failed to load contacts:",ue?.message)}})()},[s]);const je=z.useCallback(async(F=!1)=>{if(s&&!(Ce&&!F))try{xr(!0);const ue=await yae(s),Ne=ue?.labels??ue?.data;kn(Array.isArray(Ne)?Ne:[])}catch(ue){console.error("Error fetching labels:",ue),kn([])}finally{xr(!1)}},[s]);z.useEffect(()=>{s&&V&&je()},[s,V,je]),z.useEffect(()=>{Kr&&Sn&&s&&je(!0)},[Kr,Sn,s,je]),z.useEffect(()=>{s&&pn&&(async()=>{if(s)try{const ue=await T7(s),Ne=ue?.data??ue??[];Fu(Array.isArray(Ne)?Ne:[]);const He=Ne.find(ft=>ft.isDefault);He&&Xc(He.content||"")}catch(ue){console.error("Failed to load signatures:",ue?.message)}})()},[s,pn]);const Ae=async()=>{if(s){R(!0),pr(null);try{const F=await qne(s,void 0,24);t(F?.message||"Synced new mail from last 24 hours"),await M()}catch(F){const ue=F?.message||"Sync failed";r(ue),pr(ue)}finally{R(!1)}}},Oe=async F=>{if(s){Yc(!0);try{const ue=await pae(F);Bu(ue?.data||{contacts:[],companies:[]})}catch(ue){console.error("Failed to load suggested links:",ue),Bu({contacts:[],companies:[]})}finally{Yc(!1)}}},Re=async F=>{if(s){da(!0);try{const[ue,Ne,He]=await Promise.all([xae(F).catch(()=>({success:!0,data:[]})),gae(F).catch(()=>({success:!0,data:[]})),vae(F).catch(()=>({success:!0,data:[]}))]);Ki(ue?.data||[]),Bl(Ne?.data||[]),Uu(He?.data||[])}catch(ue){console.error("Failed to load related items:",ue),Ki([]),Bl([]),Uu([])}finally{da(!1)}}};z.useEffect(()=>{(async()=>{if(s)try{const[ue,Ne,He,ft]=await Promise.all([hd().catch(()=>({data:[]})),Hy(s).catch(()=>({data:[]})),$p(s).catch(()=>({data:[]})),A7({userId:s}).catch(()=>({data:[]}))]);Ci(ue?.data||[]),ta(Ne?.data||[]),cs(He?.data||[]),Ru(ft?.data||[])}catch(ue){console.error("Failed to load CRM data:",ue)}})()},[s]);const Ye=async(F,ue)=>{if(!(!k?.id||!s)){dc(!0);try{const Ne=k.id;let He;switch(F){case"contact":await cae({emailId:Ne,contactId:ue,userId:s}),He="contactId";break;case"company":await uae({emailId:Ne,companyId:ue,userId:s}),He="companyId";break;case"deal":await dae({emailId:Ne,dealId:ue,userId:s}),He="dealId";break;case"project":await fae({emailId:Ne,projectId:ue,userId:s}),He="projectId";break;case"contract":await hae({emailId:Ne,contractId:ue,userId:s}),He="contractId";break;default:throw new Error(`Unknown link type: ${F}`)}t(`Email linked to ${F} successfully`),P(ft=>ft?{...ft,linkedRecords:{...ft.linkedRecords||{},[He]:ue}}:null),Re(Ne),go(!1),Ho(null)}catch(Ne){r(Ne?.message||`Failed to link email to ${F}`)}finally{dc(!1)}}},vt=async F=>{if(!(!k?.id||!s))try{const ue=await mae({emailId:k.id,userId:s,title:F.title||k.subject||"Task from Email",description:F.description||k.body||"",dueDate:F.dueDate,priority:F.priority||"Medium",projectId:F.projectId,assigneeId:F.assigneeId});t("Task created successfully"),Qc(!1),Re(k.id)}catch(ue){r(ue?.message||"Failed to create task")}},mt=async F=>{if(s){P(null),nc([]),ll(null),dt(null),Qe([]),Ie(null),T(!0);try{const ue=await Hne(F.id,s),Ne=ue?.data??ue??{};P({...F,...Ne,body:Ne.body??F.lastMessage,gmailThreadId:Ne.gmailThreadId??F.gmailThreadId}),N(He=>He.map(ft=>ft.id===F.id?{...ft,isRead:!0}:ft)),F.id&&(Oe(F.id),Re(F.id));try{const He=await Gne(F.id),ft=He?.data??He??[];Xn(sr=>({...sr,[F.id]:ft.map(Nt=>({id:Nt.id,userId:Nt.userId,userName:Nt.userName,message:Nt.message,timestamp:Nt.createdAt,imageUrl:Nt.imageUrl,imageName:Nt.imageName,markedFor:Nt.markedFor||[]}))}))}catch(He){const ft=He?.message||"Failed to load notes";console.error("Failed to load notes:",ft),Xn(sr=>({...sr,[F.id]:[]}))}if(s)try{$e(!0);const He=await Iv(s,F.id);He.success&&He.data?W(He.data):W([])}catch(He){console.error("Failed to load calendar events:",He.message),W([])}finally{$e(!1)}}catch(ue){r(ue?.message||"Could not load email")}finally{T(!1)}}},ct=async(F,ue)=>{if(s)try{await qP(F,ue,s),N(Ne=>Ne.map(He=>He.id===F?{...He,isRead:ue,syncStatus:{...He.syncStatus||{},readStatus:"pending"}}:He)),k?.id===F&&P(Ne=>Ne?{...Ne,isRead:ue,syncStatus:{...Ne.syncStatus||{},readStatus:"pending"}}:null),t(ue?"Marked as read":"Marked as unread")}catch(Ne){r(Ne?.message||"Update failed")}},qt=async(F,ue)=>{try{await Wne(F,ue),N(Ne=>Ne.map(He=>He.id===F?{...He,isStarred:ue,syncStatus:{...He.syncStatus||{},starredStatus:"pending"}}:He)),k?.id===F&&P(Ne=>Ne?{...Ne,isStarred:ue,syncStatus:{...Ne.syncStatus||{},starredStatus:"pending"}}:null),t(ue?"Starred":"Unstarred")}catch(Ne){r(Ne?.message||"Update failed")}},Tt=F=>{if(!F)return null;switch(F){case"synced":return a.jsx(Cn,{className:"w-3 h-3 text-green-500",title:"Synced to Gmail"});case"pending":return a.jsx(ws,{className:"w-3 h-3 text-amber-500 animate-pulse",title:"Syncing..."});case"failed":return a.jsx(pa,{className:"w-3 h-3 text-red-500",title:"Sync failed"});default:return null}},tt=async(F,ue=[],Ne=[],He=!1,ft)=>{try{if(await wae(F,{addLabelIds:ue,removeLabelIds:Ne,trackAccuracy:He,suggestionId:ft}),N(sr=>sr.map(Nt=>{if(Nt.id===F){const qr=[...Nt.labels||[]];return ue.forEach(fn=>{qr.includes(fn)||qr.push(fn)}),Ne.forEach(fn=>{const Bn=qr.indexOf(fn);Bn>-1&&qr.splice(Bn,1)}),{...Nt,labels:qr,syncStatus:{...Nt.syncStatus||{},labelsStatus:"pending"}}}return Nt})),k?.id===F){const Nt=[...k.labels||[]];ue.forEach(Zt=>{Nt.includes(Zt)||Nt.push(Zt)}),Ne.forEach(Zt=>{const qr=Nt.indexOf(Zt);qr>-1&&Nt.splice(qr,1)}),P({...k,labels:Nt,syncStatus:{...k.syncStatus||{},labelsStatus:"pending"}})}t("Labels updated")}catch(sr){r(sr?.message||"Failed to update labels")}},st=async(F,ue)=>{try{await Nae(F,ue),await tt(F,[],[ue])}catch(Ne){r(Ne?.message||"Failed to remove label")}},Dt=async(F,ue)=>{if(s){Vc(!0);try{await bae({userId:s,accountEmail:ue,labelName:F,messageListVisibility:"show",labelListVisibility:"labelShow"}),t("Label created successfully"),await je(),_i(""),po(!1)}catch(Ne){r(Ne?.message||"Failed to create label")}finally{Vc(!1)}}},Pt=async(F,ue)=>{if(s)try{await ov(F,{userId:s,...ue}),N(Ne=>Ne.map(He=>He.id===F?{...He,...ue}:He)),k?.id===F&&P(Ne=>Ne?{...Ne,...ue}:null),t("Email updated")}catch(Ne){r(Ne?.message||"Update failed")}},Ft=()=>{ra(!hs),fi(new Set)},wr=F=>{fi(ue=>{const Ne=new Set(ue);return Ne.has(F)?Ne.delete(F):Ne.add(F),Ne})},dr=()=>{Sa.size===xs.length?fi(new Set):fi(new Set(xs.map(F=>F.id)))},zr=async()=>{if(!(!s||Sa.size===0)){Xi(!0);try{await Promise.all(Array.from(Sa).map(F=>qP(F,!0,s))),N(F=>F.map(ue=>Sa.has(ue.id)?{...ue,isRead:!0}:ue)),t(`${Sa.size} email(s) marked as read`),fi(new Set)}catch(F){r(F?.message||"Failed to mark emails as read")}finally{Xi(!1)}}},gr=async F=>{if(s)try{await $P(F,s),N(ue=>ue.map(Ne=>Ne.id===F?{...Ne,threadStatus:"archived"}:Ne)),k?.id===F&&P(ue=>ue?{...ue,threadStatus:"archived"}:null),t("Email archived")}catch(ue){r(ue?.message||"Failed to archive email")}},Hn=async F=>{if(s&&confirm("Are you sure you want to delete this email? This action cannot be undone."))try{await zP(F,s),N(ue=>ue.filter(Ne=>Ne.id!==F)),k?.id===F&&P(null),t("Email deleted")}catch(ue){r(ue?.message||"Failed to delete email")}},Wn=async F=>{if(s)try{await sae(F,s),N(ue=>ue.map(Ne=>Ne.id===F?{...Ne,threadStatus:"active"}:Ne)),k?.id===F&&P(ue=>ue?{...ue,threadStatus:"active"}:null),t("Email restored")}catch(ue){r(ue?.message||"Failed to restore email")}},On=async F=>{if(s)try{await ov(F,{userId:s,threadStatus:"resolved"}),N(ue=>ue.map(Ne=>Ne.id===F?{...Ne,threadStatus:"resolved"}:Ne)),k?.id===F&&P(ue=>ue?{...ue,threadStatus:"resolved"}:null),t("Conversation marked as resolved")}catch(ue){r(ue?.message||"Failed to resolve conversation")}},xn=async()=>{if(!(!s||Sa.size===0)){Xi(!0);try{await Promise.all(Array.from(Sa).map(F=>$P(F,s))),N(F=>F.map(ue=>Sa.has(ue.id)?{...ue,threadStatus:"archived"}:ue)),t(`${Sa.size} email(s) archived`),fi(new Set)}catch(F){r(F?.message||"Failed to archive emails")}finally{Xi(!1)}}},na=async()=>{if(!(!s||Sa.size===0)&&confirm(`Are you sure you want to delete ${Sa.size} email(s)? This action cannot be undone.`)){Xi(!0);try{await Promise.all(Array.from(Sa).map(ue=>zP(ue,s)));const F=Array.from(Sa);N(ue=>ue.filter(Ne=>!Sa.has(Ne.id))),k&&Sa.has(k.id)&&P(null),t(`${F.length} email(s) deleted`),fi(new Set)}catch(F){r(F?.message||"Failed to delete emails")}finally{Xi(!1)}}},fa=async(F,ue,Ne,He)=>{if(!s)return;const ft=`${F}-${ue}-view`;Or(sr=>({...sr,[ft]:!0}));try{const sr=await HP(F,ue,s),Nt=window.URL.createObjectURL(sr);Da({isOpen:!0,emailId:F,attachmentId:ue,filename:Ne,mimeType:He,url:Nt})}catch(sr){r(sr?.message||"Failed to load attachment")}finally{Or(sr=>({...sr,[ft]:!1}))}},Xr=async(F,ue,Ne)=>{if(!s)return;const He=`${F}-${ue}-download`;Or(ft=>({...ft,[He]:!0}));try{const ft=await HP(F,ue,s),sr=window.URL.createObjectURL(ft),Nt=document.createElement("a");Nt.href=sr,Nt.download=Ne,document.body.appendChild(Nt),Nt.click(),window.URL.revokeObjectURL(sr),document.body.removeChild(Nt),t("Attachment downloaded")}catch(ft){r(ft?.message||"Failed to download attachment")}finally{Or(ft=>({...ft,[He]:!1}))}},_a=F=>{if(F===0)return"0 Bytes";const ue=1024,Ne=["Bytes","KB","MB","GB"],He=Math.floor(Math.log(F)/Math.log(ue));return Math.round(F/Math.pow(ue,He)*100)/100+" "+Ne[He]},Qa=F=>F.startsWith("image/"),va=F=>F==="application/pdf",ps=F=>{const ue=F.target.files;if(!ue||ue.length===0)return;const Ne=25*1024*1024,He=[];Array.from(ue).forEach(ft=>{if(ft.size>Ne){r(`File "${ft.name}" is too large. Maximum size is 25MB.`);return}const sr=`${Date.now()}-${Math.random()}`;let Nt;ft.type.startsWith("image/")&&(Nt=URL.createObjectURL(ft)),He.push({file:ft,preview:Nt,id:sr})}),Es([...Vn,...He]),Fl.current&&(Fl.current.value="")},Rn=async(F,ue)=>{if(s){hl(!0);try{const Ne=await Pae(s,_s||void 0,void 0,F||Ei,ue),He=Ne?.data||Ne||{};Rl(ue?ft=>[...ft,...He.files||[]]:He.files||[]),uc(He.nextPageToken||null)}catch(Ne){const He=Ne?.message||"Failed to load Drive files";He.includes("not connected")||Ne?.code==="ACCOUNT_NOT_CONNECTED"?r(`Google account ${_s||"selected account"} is not connected. Please connect your Google account in Settings.`):r(He),ue||Rl([])}finally{hl(!1)}}},ei=async F=>{if(!(!s||!pn))try{const ue=yn!=="compose"&&k?.id?k.id:`draft_${Date.now()}`;if(yn==="compose"){const Ne={id:`drive_${F.id}`,file:new Wl([],F.name,{type:F.mimeType}),isDriveFile:!0,driveFileId:F.id,driveWebViewLink:F.webViewLink,driveIconLink:F.iconLink,preview:F.thumbnailLink||F.iconLink};Es([...Vn,Ne]),xo(!1),t("Drive file added")}else await VP({userId:s,emailId:k.id,fileId:F.id,fileName:F.name,fileMimeType:F.mimeType,webViewLink:F.webViewLink,webContentLink:F.webContentLink,iconLink:F.iconLink}),xo(!1),t("Drive file attached"),k&&mt(k)}catch(ue){r(ue?.message||"Failed to attach Drive file")}},ti=F=>{const ue=Vn.find(Ne=>Ne.id===F);ue?.preview&&URL.revokeObjectURL(ue.preview),Xp(Ne=>{const He={...Ne};return delete He[F],He}),Es(Vn.filter(Ne=>Ne.id!==F))},qa=async()=>{if(!s||!_s||!Ua||!os){r("Please fill in subject and message to save draft");return}Qs(!0);try{await iae({userId:s,accountEmail:_s||Ut[0]?.email,to:nn.length>0?nn:void 0,cc:ea.length>0?ea:void 0,bcc:Yn.length>0?Yn:void 0,subject:Ua,body:os}),t("Draft saved to Gmail")}catch(F){const ue=g(F,"Failed to save draft");r(ue)}finally{Qs(!1)}},ms=async()=>{if(!(!s||!_s)){ru(!0);try{const F=await oae(s,_s||Ut[0]?.email),ue=F?.data||F||[];d0(Array.isArray(ue)?ue:[])}catch(F){const ue=g(F,"Failed to load drafts");r(ue),d0([])}finally{ru(!1)}}};z.useEffect(()=>()=>{Vn.forEach(F=>{F.preview&&URL.revokeObjectURL(F.preview)})},[Vn]),z.useEffect(()=>{!pn&&Vn.length>0&&(Vn.forEach(F=>{F.preview&&URL.revokeObjectURL(F.preview)}),Es([]))},[pn,Vn]);const $s=(F,ue=1200,Ne=1200,He=.8)=>new Promise((ft,sr)=>{const Nt=new FileReader;Nt.onload=Zt=>{const qr=new Image;qr.onload=()=>{let fn=qr.width,Bn=qr.height;fn>Bn?fn>ue&&(Bn=Bn*ue/fn,fn=ue):Bn>Ne&&(fn=fn*Ne/Bn,Bn=Ne);const Ea=document.createElement("canvas");Ea.width=fn,Ea.height=Bn;const $a=Ea.getContext("2d");$a?($a.drawImage(qr,0,0,fn,Bn),ft(Ea.toDataURL("image/jpeg",He))):sr(new Error("Canvas context not available"))},qr.onerror=sr,qr.src=Zt.target?.result},Nt.onerror=sr,Nt.readAsDataURL(F)}),Ii=async F=>{const ue=F.target.files?.[0];if(ue){if(!ue.type.startsWith("image/")){r("Please select an image file");return}if(ue.size>10*1024*1024){r("Image size must be less than 10MB");return}try{const Ne=await $s(ue,1200,1200,.8);Wt(Ne),me(ue)}catch(Ne){r(Ne.message||"Failed to process image")}}},bo=F=>{const ue=document.createElement("div");ue.innerHTML=F;const Ne=ue.textContent||ue.innerText||"",He=/@([A-Za-z0-9\s]+?)(?=\s|$|[.,!?])/g,ft=[];let sr;for(;(sr=He.exec(Ne))!==null;){const Nt=sr[1].trim(),Zt=Hr.find(qr=>qr.name.toLowerCase()===Nt.toLowerCase());Zt&&Zt.id!==s&&ft.push(Zt.id)}return[...new Set(ft)]},Aa=z.useMemo(()=>({toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],["link"],["clean"]],keyboard:{bindings:{mention:{key:"@",handler:()=>!0}}}}),[]),Ga=["header","bold","italic","underline","strike","list","bullet","link"],Qi=z.useCallback((F,ue,Ne,He)=>{if(Ke(F),zu.current=He,Ne==="user"){const ft=He.getSelection(!0);if(ft){const Nt=He.getText().substring(0,ft.index),Zt=Nt.lastIndexOf("@");if(Zt!==-1){const qr=Nt.substring(Zt+1),fn=Zt>0?Nt[Zt-1]:" ";if(fn===" "||fn===`
`||Zt===0)if(!qr.includes(" ")&&!qr.includes(`
`)&&qr.length<50){nr(Zt),cr(qr);const Bn=Hr.filter(Ea=>Ea.name?.toLowerCase().includes(qr.toLowerCase())||Ea.email?.toLowerCase().includes(qr.toLowerCase()));Fn(Bn),yt(Bn.length>0)}else yt(!1),nr(null);else yt(!1),nr(null)}else yt(!1),nr(null)}}},[Hr]),mc=z.useCallback(F=>{const ue=zu.current;if(!ue){console.error("[INBOX] Quill editor not available");return}ue.focus();const Ne=ue.getText();let He=rr;if((He===null||He<0)&&(He=Ne.lastIndexOf("@")),He===-1){console.error("[INBOX] Could not find @ symbol for mention"),yt(!1),nr(null);return}const ft=Ne.substring(He+1),sr=ft.indexOf(" "),Nt=ft.indexOf(`
`);let Zt=ft.length;sr!==-1&&(Zt=Math.min(Zt,sr)),Nt!==-1&&(Zt=Math.min(Zt,Nt));const qr=He,fn=He+1+Zt,Bn=fn-qr;console.log("[INBOX] Inserting mention:",{atIndex:He,deleteStartIndex:qr,deleteEndIndex:fn,deleteLength:Bn,textAfterAt:ft.substring(0,Zt),mentionText:`@${F.name} `}),ue.setSelection(qr,Bn,"api"),ue.deleteText(qr,Bn,"api");const Ea=`@${F.name} `;ue.insertText(qr,Ea,"api"),ue.formatText(qr,Ea.length-1,{bold:!0,color:"#4338ca"},"api");const $a=qr+Ea.length;ue.setSelection($a,0,"api");const Gn=ue.root.innerHTML;Ke(Gn),yt(!1),nr(null)},[rr]),ql=async()=>{if(!k||!vn.trim()&&!ee||!s||!n){!vn.trim()&&!ee&&r("Please enter a note or upload an image");return}Se(!0);try{const F=k.id,ue=n.name||n.email||"You",Ne=document.createElement("div");Ne.innerHTML=vn;const ft=(Ne.textContent||Ne.innerText||"").trim()?vn.trim():"",sr={emailId:F,userId:s,userName:ue,message:ft};if(Ot.length>0&&(sr.markedFor=Ot),bt&&bt.trim()){if(bt.length>75e4){r("Image is too large. Please use a smaller image."),Se(!1);return}sr.imageUrl=bt,ee?.name&&(sr.imageName=ee.name)}const Nt=await Vne(sr),Zt=Nt?.data||{};if(!Zt.id&&!Zt.emailId)throw console.error("[INBOX] Invalid note response:",Nt),new Error("Invalid response from server. Note was not created.");const qr={id:Zt.id||`thread-${Date.now()}`,userId:s,userName:ue,message:ft,timestamp:Zt.createdAt||new Date().toISOString(),imageUrl:bt||void 0,imageName:ee?.name||void 0,markedFor:Zt.markedFor||[]};Xn(Ea=>({...Ea,[F]:[qr,...Ea[F]||[]]}));const fn=bo(ft);if(fn.length>0)for(const Ea of fn)try{await Ep({userId:Ea,type:"mention",title:"You were mentioned in an email note",message:`${ue} mentioned you in a note on email: "${k.subject||"Untitled"}"`,link:`/?tab=inbox&email=${F}`,read:!1})}catch($a){const Gn=$a?.message||"Failed to send notification";console.error("Failed to send notification:",Gn)}Ke(""),Wt(""),me(null),Zr([]),Ji.current&&(Ji.current.value=""),zu.current&&zu.current.setText("");const Bn=Nt?.message||(fn.length>0?`Note added and ${fn.length} user(s) notified`:"Internal note added");t(Bn)}catch(F){const ue=g(F,"Failed to add note");console.error("[INBOX] Error adding note:",ue),r(ue)}finally{Se(!1)}},Qn=async(F,ue)=>{if(!(!s||!n)){Te(ue);try{await Kne(ue,s),Xn(Ne=>({...Ne,[F]:(Ne[F]||[]).filter(He=>He.id!==ue)})),t("Note deleted")}catch(Ne){const He=g(Ne,"Failed to delete note");r(He)}finally{Te(null)}}},Wo=async F=>{if(!(!k||!s)){gt(!0),Qe([]),Ie(null),dt(null);try{const ue=await Xne(k.id,s,F),Ne=ue?.data??ue??{};if(Ne.variations&&Array.isArray(Ne.variations)&&Ne.variations.length>0)Qe(Ne.variations),Ie(0),dt(b(Ne.variations[0].draft)),t(`Generated ${Ne.variations.length} draft variations`);else{let He=Ne.draft;(!He||typeof He!="string")&&(He=`Hi ${k.sender||"there"},

Thank you for your email regarding "${k.subject||"your inquiry"}".

[AI-generated draft response - customize as needed]

Best regards,
${n?.name||"Team"}`),dt(b(He)),Qe([{style:"default",description:"AI-generated draft",draft:He,confidence:75}]),Ie(0),t("AI draft generated")}}catch(ue){const Ne=g(ue,"Failed to generate draft");gt(!1),setTimeout(()=>{console.error("[INBOX] Error generating draft:",Ne),r(Ne)},0)}finally{gt(!1)}}},_d=async()=>{if(!s||!Ua||nn.length===0){r("Please enter a subject and recipient to generate AI draft");return}u0(!0),hf(null);try{const ue=`Hi ${nn[0].split("@")[0]},

${Ua?`Regarding: ${Ua}`:""}

[Your message here]

Best regards,
${n?.name||"Team"}`;await new Promise(Ne=>setTimeout(Ne,1e3)),hf(b(ue)),t("AI draft generated")}catch(F){const ue=g(F,"Failed to generate draft");r(ue)}finally{u0(!1)}},f0=()=>{if(!Ge)return;let F="";try{if(Bt.current&&typeof Bt.current.getText=="function")F=Bt.current.getText();else{const ue=document.createElement("div");ue.innerHTML=Ge,F=ue.textContent||ue.innerText||""}}catch(ue){const Ne=document.createElement("div");Ne.innerHTML=Ge||"",F=Ne.textContent||Ne.innerText||"";const He=ue?.message||"Error extracting text";console.error("[INBOX] Error extracting draft text:",He)}navigator.clipboard.writeText(F).then(()=>{t("Draft copied to clipboard! You can paste it into your email client.")}).catch(ue=>{try{const Ne=document.createElement("textarea");Ne.value=F,document.body.appendChild(Ne),Ne.select(),document.execCommand("copy"),document.body.removeChild(Ne),t("Draft copied to clipboard!")}catch(Ne){const He=Ne?.message||"Failed to copy to clipboard";console.error("[INBOX] Clipboard copy failed:",He),r("Failed to copy draft. Please select and copy manually.")}})},wo=()=>{!Ge||!s||!k||(jn(""),$n(!0))},Zi=async()=>{if(!fs||!fs.trim()||!Ge||!s||!k){r("Please enter a template name");return}try{const F=typeof Ge=="string"?Ge:String(Ge||"");await Yne({name:fs.trim(),content:F,userId:s,category:"email-response"}),t("Template saved successfully!"),$n(!1),jn(""),No()}catch(F){const ue=g(F,"Failed to save template");console.error("[INBOX] Error saving template:",ue),r(ue)}},No=async()=>{if(s)try{const F=await Jne(s),ue=F?.data??F??[];Nn(Array.isArray(ue)?ue:[])}catch(F){const ue=F?.message||"Failed to load templates";console.error("Failed to load templates:",ue)}};z.useEffect(()=>{s&&No()},[s]),z.useEffect(()=>{s&&pn&&No()},[s,pn]);const Di=(F,ue=100)=>{if(!F)return"";let Ne=F.replace(/<[^>]+>/g," ").replace(/&nbsp;/g," ").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/\s+/g," ").trim();if(Ne=Ne.replace(/https?:\/\/[^\s]+/g,"").trim(),Ne=Ne.replace(/\s+/g," ").trim(),Ne.length<=ue)return Ne;const He=Ne.substring(0,ue),ft=He.lastIndexOf(" ");return ft>ue*.7?He.substring(0,ft)+"...":He+"..."},xs=z.useMemo(()=>{let F=[...j];return pe==="archived"?F=F.filter(ue=>ue.threadStatus==="archived"):pe&&pe!=="archived"?F=F.filter(ue=>ue.status===pe):pe||(F=F.filter(ue=>ue.threadStatus!=="archived")),Qt&&(F=F.filter(ue=>(ue.labels||[]).includes(Qt))),Zs&&s&&(F=F.filter(ue=>ue.owner===s)),kd&&(F=F.filter(ue=>ue.owner===kd)),F.sort((ue,Ne)=>{let He=0;switch(Ja){case"date":const ft=parseInt(ue.internalDate||"0")||0;He=(parseInt(Ne.internalDate||"0")||0)-ft;break;case"sender":const Nt=(ue.sender||ue.email||"").toLowerCase(),Zt=(Ne.sender||Ne.email||"").toLowerCase();He=Nt.localeCompare(Zt);break;case"subject":const qr=(ue.subject||"").toLowerCase(),fn=(Ne.subject||"").toLowerCase();He=qr.localeCompare(fn);break;case"unread":if(ue.isRead===Ne.isRead){const Bn=parseInt(ue.internalDate||"0")||0;He=(parseInt(Ne.internalDate||"0")||0)-Bn}else He=ue.isRead?1:-1;break}return Yi==="asc"?-He:He}),F},[j,Qt,Zs,kd,s,Ja,Yi]),su=xs.filter(F=>!F.isRead).length,iu=z.useMemo(()=>{if(Jt==="list")return null;const F=new Map;xs.forEach(Ne=>{const He=Ne.gmailThreadId||Ne.id;F.has(He)||F.set(He,[]),F.get(He).push(Ne)});const ue=Array.from(F.entries()).map(([Ne,He])=>{const ft=[...He].sort((sr,Nt)=>{const Zt=parseInt(sr.internalDate||"0")||0;return(parseInt(Nt.internalDate||"0")||0)-Zt});return{threadId:Ne,emails:ft,latestEmail:ft[0],unreadCount:ft.filter(sr=>!sr.isRead).length}});return ue.sort((Ne,He)=>{let ft=0;const sr=Ne.latestEmail,Nt=He.latestEmail;switch(Ja){case"date":const Zt=parseInt(sr.internalDate||"0")||0;ft=(parseInt(Nt.internalDate||"0")||0)-Zt;break;case"sender":const fn=(sr.sender||sr.email||"").toLowerCase(),Bn=(Nt.sender||Nt.email||"").toLowerCase();ft=fn.localeCompare(Bn);break;case"subject":const Ea=(sr.subject||"").toLowerCase(),$a=(Nt.subject||"").toLowerCase();ft=Ea.localeCompare($a);break;case"unread":if(Ne.unreadCount>0&&He.unreadCount===0)ft=-1;else if(Ne.unreadCount===0&&He.unreadCount>0)ft=1;else if(Ne.unreadCount===He.unreadCount){const Gn=parseInt(sr.internalDate||"0")||0;ft=(parseInt(Nt.internalDate||"0")||0)-Gn}else ft=He.unreadCount-Ne.unreadCount;break}return Yi==="asc"?-ft:ft}),ue},[xs,Jt,Ja,Yi]),hi=F=>{Gr(ue=>{const Ne=new Set(ue);return Ne.has(F)?Ne.delete(F):Ne.add(F),Ne})},ou=F=>{Ln(ue=>{const Ne=new Set(ue);return Ne.has(F)?Ne.delete(F):Ne.add(F),Ne})};return s?a.jsxs("div",{className:"flex-1 min-h-0 flex flex-col animate-in fade-in duration-300 h-full overflow-hidden",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 pb-4 border-b border-slate-200 shrink-0",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Shared Inbox"}),Qt&&a.jsxs("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-700 text-xs font-medium rounded-lg",children:["Filtered: ",Rr.find(F=>F.id===Qt)?.name||Qt]})]}),a.jsxs("p",{className:"text-slate-500 text-sm mt-0.5",children:["Unified view from all team members' Gmail accounts  ",su," unread",Qt&&`  ${xs.length} email${xs.length!==1?"s":""} with label`]})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[Rr.length>0&&a.jsx("div",{className:"relative",children:a.jsxs("select",{value:Qt||"",onChange:F=>{const ue=F.target.value||null;jr(ue);const Ne=document.querySelector(".overflow-y-auto");Ne&&(Ne.scrollTop=0)},className:"px-3 py-2 border border-slate-200 text-slate-700 text-sm font-medium rounded-xl hover:bg-slate-50 transition-colors cursor-pointer",children:[a.jsx("option",{value:"",children:"All Labels"}),Rr.map(F=>a.jsx("option",{value:F.id,children:F.name},F.id))]})}),a.jsxs("button",{onClick:()=>Lr(Jt==="threads"?"list":"threads"),className:"inline-flex items-center gap-2 px-3 py-2 border border-slate-200 text-slate-700 text-sm font-medium rounded-xl hover:bg-slate-50 transition-colors",title:Jt==="threads"?"Switch to list view":"Switch to threaded view",children:[a.jsx(oo,{className:"w-4 h-4"}),Jt==="threads"?"Threads":"List"]}),v&&a.jsxs("button",{onClick:Ae,disabled:D,className:"inline-flex items-center gap-2 px-4 py-2.5 bg-indigo-600 text-white text-sm font-semibold rounded-xl hover:bg-indigo-700 disabled:opacity-60 transition-colors",children:[D?a.jsx(Et,{className:"w-4 h-4 animate-spin"}):a.jsx(sd,{className:"w-4 h-4"}),D?"Syncing":"Sync from Gmail"]})]})]}),V===!1&&Ut.length===0&&a.jsxs("div",{className:"mt-4 p-4 bg-amber-50 border border-amber-200 rounded-xl flex items-start gap-3",children:[a.jsx(pa,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-amber-800 font-medium text-sm",children:"Connect Gmail to sync inbox"}),a.jsx("p",{className:"text-amber-700 text-xs mt-1",children:"Link your Google account to start syncing emails. You can connect multiple Gmail accounts."}),a.jsxs("button",{onClick:ye,className:"mt-3 px-4 py-2 bg-amber-600 text-white text-sm font-semibold rounded-lg hover:bg-amber-700 transition-colors flex items-center gap-2",children:[a.jsx(_n,{className:"w-4 h-4"}),"Connect Gmail Account"]})]})]}),a.jsxs("div",{className:"mt-4 shrink-0 space-y-2",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(tf,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Search or use from: subject: has:attachment is:read",value:E,onChange:F=>q(F.target.value),onKeyDown:F=>F.key==="Enter"&&M(),className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),a.jsxs("button",{type:"button",onClick:()=>Xe(F=>!F),className:`px-3 py-2.5 border rounded-xl text-sm font-medium flex items-center gap-2 shrink-0 ${De?"bg-indigo-50 border-indigo-200 text-indigo-700":"border-slate-200 text-slate-600 hover:bg-slate-50"}`,title:"Advanced filters",children:[a.jsx(Xm,{className:"w-4 h-4"}),"Filters",(G||de||he!==void 0||se||_e||ae!==void 0||we!==void 0||pe||Qt)&&a.jsx("span",{className:"w-2 h-2 rounded-full bg-indigo-500"})]})]}),De&&a.jsxs("div",{className:"p-4 border border-slate-200 rounded-xl bg-slate-50/50 space-y-3",children:[a.jsx("p",{className:"text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"Advanced filters"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"From (sender)"}),a.jsx("input",{type:"text",placeholder:"email or name",value:G,onChange:F=>{ne(F.target.value),at(!0)},onFocus:()=>at(!0),onBlur:()=>setTimeout(()=>at(!1),180),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm"}),Ue&&Je.length>0&&a.jsx("div",{className:"absolute z-20 top-full left-0 right-0 mt-1 max-h-48 overflow-y-auto bg-white border border-slate-200 rounded-lg shadow-lg py-1",children:Je.filter(F=>!G||[F.email,F.name].some(ue=>ue?.toLowerCase().includes(G.toLowerCase()))).slice(0,20).map(F=>a.jsxs("button",{type:"button",className:"w-full text-left px-3 py-2 text-sm hover:bg-slate-100 flex flex-col",onMouseDown:ue=>{ue.preventDefault(),ne(F.email||F.name),at(!1)},children:[a.jsx("span",{className:"font-medium text-slate-800",children:F.name||F.email}),F.email!==F.name&&a.jsx("span",{className:"text-xs text-slate-500",children:F.email})]},F.email))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Subject"}),a.jsx("input",{type:"text",placeholder:"contains",value:de,onChange:F=>ce(F.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Attachment"}),a.jsxs("select",{value:he===void 0?"":String(he),onChange:F=>Le(F.target.value===""?void 0:F.target.value==="true"),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm",children:[a.jsx("option",{value:"",children:"Any"}),a.jsx("option",{value:"true",children:"Has attachment"}),a.jsx("option",{value:"false",children:"No attachment"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Status"}),a.jsxs("select",{value:pe,onChange:F=>fe(F.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm",children:[a.jsx("option",{value:"",children:"Any"}),a.jsx("option",{value:"open",children:"Open"}),a.jsx("option",{value:"assigned",children:"Assigned to me"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Read"}),a.jsxs("select",{value:ae===void 0?"":String(ae),onChange:F=>ke(F.target.value===""?void 0:F.target.value==="true"),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm",children:[a.jsx("option",{value:"",children:"Any"}),a.jsx("option",{value:"false",children:"Unread"}),a.jsx("option",{value:"true",children:"Read"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Starred"}),a.jsxs("select",{value:we===void 0?"":String(we),onChange:F=>Pe(F.target.value===""?void 0:F.target.value==="true"),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm",children:[a.jsx("option",{value:"",children:"Any"}),a.jsx("option",{value:"true",children:"Starred"}),a.jsx("option",{value:"false",children:"Not starred"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Assigned To"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:Zs,onChange:F=>{jd(F.target.checked),F.target.checked&&xf(null)},className:"w-4 h-4 text-indigo-600 border-slate-300 rounded focus:ring-indigo-500"}),a.jsx("span",{className:"text-xs text-slate-700",children:"Assigned to me"})]}),a.jsxs("select",{value:kd||"",onChange:F=>{const ue=F.target.value||null;xf(ue),ue&&jd(!1)},className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm",children:[a.jsx("option",{value:"",children:"Any team member"}),Hr.map(F=>a.jsx("option",{value:F.id,children:F.name},F.id))]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Date from"}),a.jsx("input",{type:"date",value:se,onChange:F=>Fe(F.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Date to"}),a.jsx("input",{type:"date",value:_e,onChange:F=>oe(F.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm"})]}),Rr.length>0&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Label"}),a.jsxs("select",{value:Qt||"",onChange:F=>jr(F.target.value||null),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm",children:[a.jsx("option",{value:"",children:"All labels"}),Rr.map(F=>a.jsx("option",{value:F.id,children:F.name},F.id))]})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("button",{type:"button",onClick:()=>M(),className:"px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700",children:"Apply filters"}),a.jsx("button",{type:"button",onClick:()=>{ne(""),ce(""),Le(void 0),Fe(""),oe(""),ke(void 0),Pe(void 0),fe(""),jr(null),q(""),M()},className:"px-4 py-2 border border-slate-200 text-slate-600 text-sm font-medium rounded-lg hover:bg-slate-100",children:"Clear all"}),a.jsxs("button",{type:"button",onClick:()=>rt(!0),className:"px-4 py-2 border border-slate-200 text-slate-600 text-sm font-medium rounded-lg hover:bg-slate-100 flex items-center gap-1.5",children:[a.jsx(M_,{className:"w-4 h-4"}),"Save search"]}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{type:"button",onClick:()=>Ht(F=>!F),className:"px-4 py-2 border border-slate-200 text-slate-600 text-sm font-medium rounded-lg hover:bg-slate-100 flex items-center gap-1.5",children:[a.jsx(M_,{className:"w-4 h-4"}),"Saved (",Me.length,")"]}),xt&&a.jsx("div",{className:"absolute left-0 top-full z-20 mt-1 w-64 max-h-60 overflow-y-auto bg-white border border-slate-200 rounded-lg shadow-lg py-1",children:Me.length===0?a.jsx("p",{className:"px-3 py-2 text-sm text-slate-500",children:"No saved searches"}):Me.map(F=>a.jsxs("div",{className:"flex items-center group",children:[a.jsx("button",{type:"button",className:"flex-1 text-left px-3 py-2 text-sm hover:bg-slate-100 truncate",onClick:()=>{q(F.filters.search??""),ne(F.filters.from??""),ce(F.filters.subject??""),Le(F.filters.hasAttachment),Fe(F.filters.dateFrom??""),oe(F.filters.dateTo??""),ke(F.filters.isRead),Pe(F.filters.isStarred),fe(F.filters.status??""),jr(F.filters.labelId??null),Ht(!1),M()},children:F.name}),a.jsx("button",{type:"button",className:"p-2 text-slate-400 hover:text-red-600 opacity-0 group-hover:opacity-100",onClick:()=>{ut(ue=>ue.filter(Ne=>Ne.id!==F.id)),Ht(!1)},title:"Delete saved search",children:""})]},F.id))})]}),a.jsxs("button",{type:"button",onClick:()=>{ac(!0),s&&WP(s).then(F=>{const ue=F?.data??F??[];cl(Array.isArray(ue)?ue:[])}).catch(()=>cl([]))},className:"px-4 py-2 border border-slate-200 text-slate-600 text-sm font-medium rounded-lg hover:bg-slate-100 flex items-center gap-1.5",title:"Auto-labeling rules (domain or keyword  label)",children:[a.jsx(Xm,{className:"w-4 h-4"}),"Categorization rules"]}),a.jsx("button",{type:"button",onClick:()=>{ul(!0),s&&Aae(s).then(F=>{const ue=F?.data??F??[];ho(Array.isArray(ue)?ue:[])}).catch(()=>ho([]))},className:"px-4 py-2 border border-slate-200 text-slate-600 text-sm font-medium rounded-lg hover:bg-slate-100 flex items-center gap-1.5",title:"Map Gmail labels to Impact OS views",children:"Folder mapping"})]})]}),(E||G||de||he!==void 0||se||_e||ae!==void 0||we!==void 0||pe||Qt)&&a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("span",{className:"text-xs text-slate-500",children:"Active:"}),E&&a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-slate-200 text-slate-700 rounded-lg text-xs",children:['Search "',E.length>20?E.slice(0,20)+"":E,'"',a.jsx("button",{type:"button",onClick:()=>q(""),className:"hover:bg-slate-300 rounded p-0.5","aria-label":"Clear",children:""})]}),Qt&&a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-indigo-100 text-indigo-700 rounded-lg text-xs",children:["Label: ",Rr.find(F=>F.id===Qt)?.name||Qt,a.jsx("button",{type:"button",onClick:()=>jr(null),className:"hover:bg-indigo-200 rounded p-0.5","aria-label":"Clear",children:""})]}),G&&a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-slate-200 text-slate-700 rounded-lg text-xs",children:["From: ",G,a.jsx("button",{type:"button",onClick:()=>ne(""),className:"hover:bg-slate-300 rounded p-0.5","aria-label":"Clear",children:""})]}),de&&a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-slate-200 text-slate-700 rounded-lg text-xs",children:["Subject",a.jsx("button",{type:"button",onClick:()=>ce(""),className:"hover:bg-slate-300 rounded p-0.5","aria-label":"Clear",children:""})]}),he!==void 0&&a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-slate-200 text-slate-700 rounded-lg text-xs",children:[he?"Has attachment":"No attachment",a.jsx("button",{type:"button",onClick:()=>Le(void 0),className:"hover:bg-slate-300 rounded p-0.5","aria-label":"Clear",children:""})]}),pe&&a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-slate-200 text-slate-700 rounded-lg text-xs",children:["Status: ",pe,a.jsx("button",{type:"button",onClick:()=>fe(""),className:"hover:bg-slate-300 rounded p-0.5","aria-label":"Clear",children:""})]}),ae!==void 0&&a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-slate-200 text-slate-700 rounded-lg text-xs",children:[ae?"Read":"Unread",a.jsx("button",{type:"button",onClick:()=>ke(void 0),className:"hover:bg-slate-300 rounded p-0.5","aria-label":"Clear",children:""})]}),we!==void 0&&a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-slate-200 text-slate-700 rounded-lg text-xs",children:[we?"Starred":"Not starred",a.jsx("button",{type:"button",onClick:()=>Pe(void 0),className:"hover:bg-slate-300 rounded p-0.5","aria-label":"Clear",children:""})]}),(se||_e)&&a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-slate-200 text-slate-700 rounded-lg text-xs",children:["Date ",se&&_e?`${se}  ${_e}`:se||_e,a.jsx("button",{type:"button",onClick:()=>{Fe(""),oe("")},className:"hover:bg-slate-300 rounded p-0.5","aria-label":"Clear",children:""})]})]})]}),a.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[a.jsxs("button",{type:"button",onClick:()=>{fe(pe==="archived"?"":"archived")},className:`px-3 py-1.5 text-sm font-medium rounded-lg transition-colors ${pe==="archived"?"bg-indigo-600 text-white":"bg-white border border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:[a.jsx(qg,{className:"w-4 h-4 inline mr-1.5"}),pe==="archived"?"Show Active":"Show Archived"]}),pe==="archived"&&a.jsxs("span",{className:"text-sm text-slate-500",children:[xs.length," archived email(s)"]})]}),(hs||Sa.size>0)&&a.jsxs("div",{className:"mt-4 p-3 bg-indigo-50 border border-indigo-200 rounded-xl flex items-center justify-between gap-4 flex-wrap",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{type:"button",onClick:dr,className:"text-sm font-medium text-indigo-700 hover:text-indigo-800",children:Sa.size===xs.length?"Deselect all":"Select all"}),a.jsxs("span",{className:"text-sm text-indigo-600",children:[Sa.size," selected"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{type:"button",onClick:zr,disabled:Jn||Sa.size===0,className:"px-3 py-1.5 bg-white border border-indigo-300 text-indigo-700 text-sm font-medium rounded-lg hover:bg-indigo-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Mark Read"}),a.jsx("button",{type:"button",onClick:xn,disabled:Jn||Sa.size===0,className:"px-3 py-1.5 bg-white border border-indigo-300 text-indigo-700 text-sm font-medium rounded-lg hover:bg-indigo-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Archive"}),a.jsx("button",{type:"button",onClick:na,disabled:Jn||Sa.size===0,className:"px-3 py-1.5 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Delete"}),a.jsx("button",{type:"button",onClick:Ft,className:"px-3 py-1.5 text-indigo-700 text-sm font-medium hover:text-indigo-800",children:"Cancel"})]})]}),a.jsxs("div",{className:"mt-4 flex items-center justify-between gap-4 flex-wrap",children:[a.jsx("div",{className:"flex items-center gap-2",children:!hs&&a.jsxs("button",{type:"button",onClick:Ft,className:"px-3 py-2 border border-slate-200 text-slate-700 text-sm font-medium rounded-lg hover:bg-slate-50 flex items-center gap-2",children:[a.jsx(al,{className:"w-4 h-4"}),"Select"]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("label",{className:"text-sm text-slate-600",children:"Sort by:"}),a.jsxs("select",{value:Ja,onChange:F=>Pi(F.target.value),className:"px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[a.jsx("option",{value:"date",children:"Date"}),a.jsx("option",{value:"sender",children:"Sender"}),a.jsx("option",{value:"subject",children:"Subject"}),a.jsx("option",{value:"unread",children:"Unread"})]}),a.jsx("button",{type:"button",onClick:()=>$u(Yi==="asc"?"desc":"asc"),className:"p-2 border border-slate-200 rounded-lg hover:bg-slate-50",title:Yi==="asc"?"Ascending":"Descending",children:Yi==="asc"?a.jsx(wB,{className:"w-4 h-4"}):a.jsx(Uf,{className:"w-4 h-4"})})]})]}),ot&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/40",onClick:()=>{rt(!1),er("")},children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-sm w-full p-4 space-y-3",onClick:F=>F.stopPropagation(),children:[a.jsx("p",{className:"text-sm font-medium text-slate-800",children:"Save current search"}),a.jsx("input",{type:"text",placeholder:"Search name",value:lr,onChange:F=>er(F.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm",autoFocus:!0}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx("button",{type:"button",onClick:()=>{rt(!1),er("")},className:"px-3 py-1.5 text-slate-600 text-sm hover:bg-slate-100 rounded-lg",children:"Cancel"}),a.jsx("button",{type:"button",onClick:()=>{const F=lr.trim()||"Saved search",ue={search:E||void 0,status:pe||void 0,from:G||void 0,subject:de||void 0,hasAttachment:he,dateFrom:se||void 0,dateTo:_e||void 0,labelId:Qt||void 0,isRead:ae,isStarred:we},Ne={id:typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`saved-${Date.now()}`,name:F,filters:ue};ut(He=>[...He,Ne]),rt(!1),er("")},className:"px-3 py-1.5 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700",children:"Save"})]})]})}),$c&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/40",onClick:()=>ac(!1),children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[80vh] flex flex-col p-4",onClick:F=>F.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-sm font-semibold text-slate-800",children:"Auto-labeling rules"}),a.jsx("button",{type:"button",onClick:async()=>{if(s){Pl(!0);try{const ue=(await kae(s,30))?.data;Ol(ue)}catch(F){console.error("Failed to load accuracy stats:",F)}finally{Pl(!1)}}},className:"text-xs text-indigo-600 hover:text-indigo-700 hover:underline",disabled:Lu,children:Lu?"Loading...":"View accuracy stats"})]}),a.jsx("p",{className:"text-xs text-slate-500 mb-3",children:'When an email matches a rule (sender domain or keyword in subject/body), "Suggest labels" will recommend the label. Add rules below.'}),Ba&&a.jsxs("div",{className:"mb-4 p-3 bg-slate-50 rounded-lg border border-slate-200",children:[a.jsxs("p",{className:"text-xs font-semibold text-slate-700 mb-2",children:["Categorization Accuracy (Last ",Ba.periodDays," days)"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500",children:"Overall Accuracy"}),a.jsxs("p",{className:"text-lg font-semibold text-indigo-600",children:[Ba.summary.accuracyRate,"%"]}),a.jsxs("p",{className:"text-xs text-slate-400",children:[Ba.summary.accepted," accepted / ",Ba.summary.accepted+Ba.summary.rejected+Ba.summary.changed," resolved"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500",children:"Total Suggestions"}),a.jsx("p",{className:"text-lg font-semibold text-slate-700",children:Ba.summary.total}),a.jsxs("p",{className:"text-xs text-slate-400",children:[Ba.summary.pending," pending"]})]})]}),a.jsxs("div",{className:"mt-2 pt-2 border-t border-slate-200",children:[a.jsx("p",{className:"text-xs font-medium text-slate-600 mb-1",children:"By Source:"}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-500",children:"Domain Rules"}),a.jsxs("p",{className:"font-semibold text-slate-700",children:[Ba.bySource.domain.accuracyRate,"%"]}),a.jsxs("p",{className:"text-slate-400",children:[Ba.bySource.domain.accepted,"/",Ba.bySource.domain.total]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-500",children:"Keyword Rules"}),a.jsxs("p",{className:"font-semibold text-slate-700",children:[Ba.bySource.keyword.accuracyRate,"%"]}),a.jsxs("p",{className:"text-slate-400",children:[Ba.bySource.keyword.accepted,"/",Ba.bySource.keyword.total]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-500",children:"AI Suggestions"}),a.jsxs("p",{className:"font-semibold text-slate-700",children:[Ba.bySource.ai.accuracyRate,"%"]}),a.jsxs("p",{className:"text-slate-400",children:[Ba.bySource.ai.accepted,"/",Ba.bySource.ai.total]})]})]})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[a.jsxs("select",{value:Si,onChange:F=>uo(F.target.value),className:"px-2 py-1.5 border border-slate-200 rounded-lg text-sm",children:[a.jsx("option",{value:"domain",children:"Sender domain"}),a.jsx("option",{value:"keyword",children:"Keyword"})]}),a.jsx("input",{type:"text",placeholder:Si==="domain"?"e.g. company.com":"e.g. invoice",value:Hc,onChange:F=>fo(F.target.value),className:"flex-1 min-w-[120px] px-2 py-1.5 border border-slate-200 rounded-lg text-sm"}),a.jsxs("select",{value:ks,onChange:F=>Wc(F.target.value),className:"px-2 py-1.5 border border-slate-200 rounded-lg text-sm",children:[a.jsx("option",{value:"",children:"Select label"}),Rr.map(F=>a.jsx("option",{value:F.id,children:F.name},F.id))]}),a.jsx("button",{type:"button",disabled:!Hc.trim()||!ks||!s,onClick:async()=>{if(!(!s||!Hc.trim()||!ks))try{await Sae({userId:s,type:Si,value:Hc.trim(),labelId:ks,labelName:Rr.find(Ne=>Ne.id===ks)?.name});const F=await WP(s),ue=F?.data??F??[];cl(Array.isArray(ue)?ue:[]),fo(""),Wc(""),t("Rule added")}catch(F){r(F?.message||"Failed to add rule")}},className:"px-3 py-1.5 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:"Add rule"})]}),a.jsx("div",{className:"flex-1 overflow-y-auto border border-slate-200 rounded-lg divide-y divide-slate-100",children:Uc.length===0?a.jsx("p",{className:"p-3 text-sm text-slate-500",children:"No rules yet. Add a domain or keyword rule above."}):Uc.map(F=>a.jsxs("div",{className:"flex items-center justify-between gap-2 p-2 text-sm",children:[a.jsxs("span",{className:"text-slate-700",children:[a.jsx("span",{className:"font-medium",children:F.type==="domain"?"Domain":"Keyword"}),a.jsxs("span",{className:"text-slate-500",children:[' "',F.value,'"  ']}),a.jsx("span",{className:"text-indigo-600",children:F.labelName||F.labelId})]}),a.jsx("button",{type:"button",onClick:async()=>{if(s)try{await _ae(F.id,s),cl(ue=>ue.filter(Ne=>Ne.id!==F.id)),t("Rule removed")}catch(ue){r(ue?.message||"Failed to delete")}},className:"p-1 text-slate-400 hover:text-red-600 rounded",title:"Delete rule",children:a.jsx(mr,{className:"w-4 h-4"})})]},F.id))}),a.jsx("div",{className:"mt-3 flex justify-end",children:a.jsx("button",{type:"button",onClick:()=>ac(!1),className:"px-3 py-1.5 text-slate-600 text-sm hover:bg-slate-100 rounded-lg",children:"Close"})})]})}),sc&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/40",onClick:()=>ul(!1),children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-lg w-full max-h-[80vh] flex flex-col p-4",onClick:F=>F.stopPropagation(),children:[a.jsx("p",{className:"text-sm font-semibold text-slate-800 mb-2",children:"Folder mapping"}),a.jsx("p",{className:"text-xs text-slate-500 mb-3",children:"Map Gmail labels to display names (view names) in Impact OS. Order determines sort in views."}),a.jsx("div",{className:"flex-1 overflow-y-auto border border-slate-200 rounded-lg divide-y divide-slate-100 mb-3",children:La.length===0?a.jsx("p",{className:"p-3 text-sm text-slate-500",children:"No mappings. Add labels below to create folder-like views."}):La.map((F,ue)=>a.jsxs("div",{className:"flex items-center gap-2 p-2 text-sm",children:[a.jsx("span",{className:"flex-1 text-slate-700 truncate",children:F.labelName||F.labelId}),a.jsx("input",{type:"text",placeholder:"View name",value:F.viewName??"",onChange:Ne=>{const He=[...La];He[ue]={...He[ue],viewName:Ne.target.value},ho(He)},className:"w-32 px-2 py-1 border border-slate-200 rounded text-xs"}),a.jsx("button",{type:"button",onClick:()=>ho(Ne=>Ne.filter((He,ft)=>ft!==ue)),className:"p-1 text-slate-400 hover:text-red-600 rounded",children:a.jsx(mr,{className:"w-4 h-4"})})]},F.labelId||ue))}),a.jsx("div",{className:"flex gap-2 flex-wrap items-center mb-3",children:a.jsxs("select",{value:"",onChange:F=>{const ue=F.target.value;if(!ue||La.some(He=>He.labelId===ue))return;const Ne=Rr.find(He=>He.id===ue);ho(He=>[...He,{labelId:ue,labelName:Ne?.name,viewName:Ne?.name??"",sortOrder:He.length}]),F.target.value=""},className:"px-2 py-1.5 border border-slate-200 rounded-lg text-sm",children:[a.jsx("option",{value:"",children:"Add label to mapping"}),Rr.filter(F=>!La.some(ue=>ue.labelId===F.id)).map(F=>a.jsx("option",{value:F.id,children:F.name},F.id))]})}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{type:"button",onClick:()=>ul(!1),className:"px-3 py-1.5 text-slate-600 text-sm hover:bg-slate-100 rounded-lg",children:"Cancel"}),a.jsx("button",{type:"button",onClick:async()=>{if(s)try{await Eae({userId:s,mappings:La}),t("Folder mapping saved"),ul(!1)}catch(F){r(F?.message||"Failed to save")}},className:"px-3 py-1.5 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700",children:"Save mapping"})]})]})}),Tr&&a.jsx("div",{className:"mt-3 p-3 bg-red-50 border border-red-100 rounded-xl text-red-700 text-sm",children:Tr}),a.jsxs("div",{className:"flex-1 min-h-0 flex flex-col lg:flex-row gap-4 mt-4 overflow-hidden",children:[a.jsx("div",{className:`flex flex-col min-h-0 border border-slate-200 rounded-xl bg-white overflow-hidden ${k?"lg:w-[380px] lg:flex-shrink-0":"flex-1"}`,children:A?a.jsx("div",{className:"flex-1 overflow-y-auto",children:[...Array(10)].map((F,ue)=>a.jsx("div",{className:"px-4 py-3 border-b border-slate-100 animate-pulse",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-slate-200 rounded-full flex-shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"h-4 bg-slate-200 rounded w-3/4 mb-2"}),a.jsx("div",{className:"h-3 bg-slate-200 rounded w-1/2 mb-1"}),a.jsx("div",{className:"h-3 bg-slate-200 rounded w-full"})]}),a.jsx("div",{className:"w-16 h-3 bg-slate-200 rounded flex-shrink-0"})]})},ue))}):xs.length===0?a.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center py-16 text-center px-6",children:[a.jsx(li,{className:"w-12 h-12 text-slate-300 mb-3"}),a.jsx("p",{className:"text-slate-600 font-medium",children:Qt?"No emails with this label":"No emails yet"}),a.jsx("p",{className:"text-slate-400 text-sm mt-1",children:Qt?"Try selecting a different label or clear the filter to see all emails.":'Connect Gmail and tap "Sync new mail (24 hrs)" to pull in recent inbox.'}),Qt&&a.jsx("button",{onClick:()=>jr(null),className:"mt-4 px-4 py-2 bg-indigo-600 text-white rounded-xl text-sm font-medium hover:bg-indigo-700",children:"Clear Filter"}),!Qt&&a.jsx("button",{onClick:Ae,disabled:D,className:"mt-4 px-4 py-2 bg-slate-100 text-slate-700 rounded-xl text-sm font-medium hover:bg-slate-200 disabled:opacity-60",children:D?"Syncing":"Sync from Gmail"})]}):Jt==="threads"&&iu?a.jsxs("ul",{ref:Hi,className:"divide-y divide-slate-100 overflow-y-auto flex-1 min-h-0",children:[iu.map(F=>{const ue=Ar.has(F.threadId),Ne=F.latestEmail,He=F.emails.length>1;return a.jsxs("li",{children:[a.jsxs("div",{className:`w-full text-left px-4 py-3 hover:bg-slate-50 transition-colors flex items-start gap-3 ${k?.id===Ne.id?"bg-indigo-50 border-l-4 border-indigo-500":""}`,children:[hs&&a.jsx("input",{type:"checkbox",checked:Sa.has(Ne.id),onChange:()=>wr(Ne.id),onClick:ft=>ft.stopPropagation(),className:"mt-1 w-4 h-4 text-indigo-600 border-slate-300 rounded focus:ring-indigo-500"}),a.jsx("div",{className:"flex-shrink-0 mt-0.5",children:a.jsx(Xs,{src:void 0,alt:Ne.sender||Ne.email||"",fallbackText:Ne.sender||Ne.email||"",isAvatar:!0,className:"w-10 h-10 rounded-full"})}),He&&a.jsx("div",{role:"button",tabIndex:0,onClick:ft=>{ft.stopPropagation(),hi(F.threadId)},onKeyDown:ft=>{(ft.key==="Enter"||ft.key===" ")&&(ft.preventDefault(),ft.stopPropagation(),hi(F.threadId))},className:"p-1 hover:bg-slate-200 rounded flex-shrink-0 mt-0.5 cursor-pointer",children:ue?a.jsx(Uf,{className:"w-4 h-4 text-slate-500"}):a.jsx(bs,{className:"w-4 h-4 text-slate-500"})}),a.jsx("button",{type:"button",onClick:()=>!hs&&(He?hi(F.threadId):mt(Ne)),className:"flex-1 min-w-0 text-left",children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx("span",{className:`truncate font-medium ${F.unreadCount>0?"text-slate-900":"text-slate-600"}`,children:Ne.subject||"(No subject)"}),Ne.isStarred&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Ov,{className:"w-4 h-4 text-amber-500 fill-amber-500 flex-shrink-0"}),Ne.syncStatus?.starredStatus&&Tt(Ne.syncStatus.starredStatus)]}),Ne.attachments&&Ne.attachments.length>0&&a.jsx(Th,{className:"w-3.5 h-3.5 text-slate-400 flex-shrink-0",title:`${Ne.attachments.length} attachment(s)`}),Ne.priority&&a.jsx("span",{className:`px-1.5 py-0.5 text-[10px] font-medium rounded ${Ne.priority==="high"?"bg-red-100 text-red-700":Ne.priority==="low"?"bg-blue-100 text-blue-700":"bg-slate-100 text-slate-700"}`,children:Ne.priority==="high"?"High":Ne.priority==="low"?"Low":"Medium"}),Ne.threadStatus&&Ne.threadStatus!=="active"&&a.jsx("span",{className:`px-1.5 py-0.5 text-[10px] font-medium rounded ${Ne.threadStatus==="resolved"?"bg-emerald-100 text-emerald-700":Ne.threadStatus==="pending"?"bg-amber-100 text-amber-700":Ne.threadStatus==="archived"?"bg-slate-100 text-slate-700":""}`,children:Ne.threadStatus.charAt(0).toUpperCase()+Ne.threadStatus.slice(1)}),Ne.owner&&Hr.find(ft=>ft.id===Ne.owner)&&a.jsx("span",{className:"px-1.5 py-0.5 text-[10px] font-medium rounded bg-indigo-100 text-indigo-700",children:Hr.find(ft=>ft.id===Ne.owner)?.name||"Assigned"}),He&&a.jsx("span",{className:"px-2 py-0.5 bg-slate-100 text-slate-600 text-[10px] font-medium rounded-full",children:F.emails.length})]}),a.jsxs("p",{className:"text-xs text-slate-500 mt-0.5 truncate",children:[Ne.sender||Ne.email,He&&`  ${F.emails.length} messages`]}),(()=>{const ft=new Set;F.emails.forEach(Nt=>{Nt.participants&&Array.isArray(Nt.participants)&&Nt.participants.forEach(Zt=>ft.add(Zt.toLowerCase())),Nt.to&&Array.isArray(Nt.to)&&Nt.to.forEach(Zt=>ft.add(Zt.toLowerCase())),Nt.cc&&Array.isArray(Nt.cc)&&Nt.cc.forEach(Zt=>ft.add(Zt.toLowerCase()))});const sr=Array.from(ft).slice(0,5);return sr.length>0?a.jsxs("p",{className:"text-xs text-slate-400 mt-0.5 truncate",children:[a.jsx("span",{className:"text-slate-500",children:"To: "}),sr.map((Nt,Zt)=>a.jsxs("span",{children:[Nt.split("@")[0],Zt<sr.length-1&&", "]},Nt)),ft.size>5&&` +${ft.size-5} more`]}):null})(),(Ne.accountEmail||Ne.accountOwnerName)&&a.jsxs("p",{className:"text-xs text-slate-400 mt-0.5 truncate",children:[Ne.accountOwnerName&&a.jsxs("span",{className:"text-slate-500",children:["via ",Ne.accountOwnerName]}),Ne.accountEmail&&a.jsx("span",{className:"ml-1 px-1.5 py-0.5 bg-indigo-50 text-indigo-600 text-[10px] font-medium rounded",children:Ne.accountEmail})]}),Ne.lastMessage&&a.jsx("p",{className:"text-xs text-slate-400 mt-1 line-clamp-2",children:Di(Ne.lastMessage,100)})]})}),a.jsxs("div",{className:"flex flex-col items-end flex-shrink-0",children:[a.jsx("span",{className:"text-xs text-slate-400 whitespace-nowrap",children:Ne.timestamp}),F.unreadCount>0&&a.jsx("span",{className:"w-2 h-2 rounded-full bg-indigo-500 mt-1"})]}),!hs&&a.jsx(bs,{className:"w-4 h-4 text-slate-400 flex-shrink-0 mt-1"})]}),ue&&He&&a.jsx("div",{className:"bg-slate-50/50 border-l-4 border-indigo-200 pl-4",children:F.emails.map((ft,sr)=>{const Nt=Tn.has(ft.id);return a.jsxs("div",{className:"border-b border-slate-200 last:border-b-0",children:[a.jsxs("button",{type:"button",onClick:()=>ou(ft.id),className:`w-full text-left px-4 py-2.5 hover:bg-slate-100 transition-colors flex items-start gap-3 ${k?.id===ft.id?"bg-indigo-50":""}`,children:[a.jsx("div",{className:"p-1 hover:bg-slate-200 rounded flex-shrink-0 mt-0.5 cursor-pointer",onClick:Zt=>{Zt.stopPropagation(),ou(ft.id)},children:Nt?a.jsx(Uf,{className:"w-3 h-3 text-slate-500"}):a.jsx(bs,{className:"w-3 h-3 text-slate-500"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx("span",{className:`text-xs font-medium ${ft.isRead?"text-slate-600":"text-slate-900"}`,children:ft.sender||ft.email}),!ft.isRead&&a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500"}),(ft.to?.length>0||ft.cc?.length>0)&&a.jsxs("span",{className:"text-xs text-slate-400",children:[ft.to?.length>0&&`To: ${ft.to.slice(0,2).map(Zt=>Zt.split("@")[0]).join(", ")}${ft.to.length>2?"...":""}`,ft.cc?.length>0&&` CC: ${ft.cc.slice(0,2).map(Zt=>Zt.split("@")[0]).join(", ")}${ft.cc.length>2?"...":""}`]})]}),ft.lastMessage&&!Nt&&a.jsx("p",{className:"text-xs text-slate-500 mt-1 line-clamp-1",children:Di(ft.lastMessage,100)})]}),a.jsx("span",{className:"text-xs text-slate-400 whitespace-nowrap flex-shrink-0",children:ft.timestamp})]}),Nt&&a.jsxs("div",{className:"px-4 pb-3 pt-1 bg-white border-t border-slate-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-600",children:[a.jsx("span",{className:"font-medium",children:ft.sender||ft.email}),a.jsx("span",{className:"text-slate-400",children:""}),a.jsx("span",{children:ft.timestamp})]}),a.jsx("button",{type:"button",onClick:()=>mt(ft),className:"text-xs text-indigo-600 hover:text-indigo-700 font-medium",children:"View full email "})]}),a.jsx("div",{className:"text-xs text-slate-700 mt-2",children:a.jsx(G8,{content:ft.lastMessage||"No content"})}),(ft.to?.length>0||ft.cc?.length>0||ft.bcc?.length>0)&&a.jsxs("div",{className:"mt-3 pt-2 border-t border-slate-200 text-xs text-slate-500",children:[ft.to?.length>0&&a.jsxs("div",{className:"mb-1",children:[a.jsx("span",{className:"font-medium",children:"To:"})," ",ft.to.join(", ")]}),ft.cc?.length>0&&a.jsxs("div",{className:"mb-1",children:[a.jsx("span",{className:"font-medium",children:"CC:"})," ",ft.cc.join(", ")]}),ft.bcc?.length>0&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"BCC:"})," ",ft.bcc.join(", ")]})]})]})]},ft.id)})})]},F.threadId)}),X&&a.jsx("li",{className:"px-4 py-3",ref:zc,children:I?a.jsxs("div",{className:"flex items-center justify-center py-4",children:[a.jsx(Et,{className:"w-5 h-5 text-indigo-500 animate-spin"}),a.jsx("span",{className:"ml-2 text-sm text-slate-500",children:"Loading more..."})]}):a.jsx("div",{className:"h-1"})})]},`threads-${Qt||"all"}`):a.jsxs("ul",{ref:Hi,className:"divide-y divide-slate-100 overflow-y-auto flex-1 min-h-0",children:[xs.map(F=>a.jsx("li",{children:a.jsxs("div",{className:`w-full text-left px-4 py-3 hover:bg-slate-50 transition-colors flex items-start gap-3 ${k?.id===F.id?"bg-indigo-50 border-l-4 border-indigo-500":""}`,children:[hs&&a.jsx("input",{type:"checkbox",checked:Sa.has(F.id),onChange:()=>wr(F.id),onClick:ue=>ue.stopPropagation(),className:"mt-1 w-4 h-4 text-indigo-600 border-slate-300 rounded focus:ring-indigo-500"}),a.jsx("div",{className:"flex-shrink-0 mt-0.5",children:a.jsx(Xs,{src:void 0,alt:F.sender||F.email||"",fallbackText:F.sender||F.email||"",isAvatar:!0,className:"w-10 h-10 rounded-full"})}),a.jsx("button",{type:"button",onClick:()=>!hs&&mt(F),className:"flex-1 min-w-0 text-left",children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx("span",{className:`truncate font-medium ${F.isRead?"text-slate-600":"text-slate-900"}`,children:F.subject||"(No subject)"}),F.isStarred&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Ov,{className:"w-4 h-4 text-amber-500 fill-amber-500 flex-shrink-0"}),F.syncStatus?.starredStatus&&Tt(F.syncStatus.starredStatus)]}),F.attachments&&F.attachments.length>0&&a.jsx(Th,{className:"w-3.5 h-3.5 text-slate-400 flex-shrink-0",title:`${F.attachments.length} attachment(s)`}),F.priority&&a.jsx("span",{className:`px-1.5 py-0.5 text-[10px] font-medium rounded ${F.priority==="high"?"bg-red-100 text-red-700":F.priority==="low"?"bg-blue-100 text-blue-700":"bg-slate-100 text-slate-700"}`,children:F.priority==="high"?"High":F.priority==="low"?"Low":"Medium"}),F.threadStatus&&F.threadStatus!=="active"&&a.jsx("span",{className:`px-1.5 py-0.5 text-[10px] font-medium rounded ${F.threadStatus==="resolved"?"bg-emerald-100 text-emerald-700":F.threadStatus==="pending"?"bg-amber-100 text-amber-700":F.threadStatus==="archived"?"bg-slate-100 text-slate-700":""}`,children:F.threadStatus.charAt(0).toUpperCase()+F.threadStatus.slice(1)}),F.owner&&Hr.find(ue=>ue.id===F.owner)&&a.jsx("span",{className:"px-1.5 py-0.5 text-[10px] font-medium rounded bg-indigo-100 text-indigo-700",children:Hr.find(ue=>ue.id===F.owner)?.name||"Assigned"}),F.labels&&F.labels.length>0&&a.jsxs(a.Fragment,{children:[F.labels.slice(0,3).map(ue=>{const Ne=Rr.find(He=>He.id===ue);return Ne?a.jsx("span",{className:"px-1.5 py-0.5 text-[10px] font-medium rounded bg-purple-100 text-purple-700",title:Ne.name,children:Ne.name},ue):null}),F.labels.length>3&&a.jsxs("span",{className:"px-1.5 py-0.5 text-[10px] font-medium rounded bg-purple-100 text-purple-700",children:["+",F.labels.length-3]})]})]}),a.jsx("p",{className:"text-xs text-slate-500 mt-0.5 truncate",children:F.sender||F.email}),(F.accountEmail||F.accountOwnerName)&&a.jsxs("p",{className:"text-xs text-slate-400 mt-0.5 truncate",children:[F.accountOwnerName&&a.jsxs("span",{className:"text-slate-500",children:["via ",F.accountOwnerName]}),F.accountEmail&&a.jsx("span",{className:"ml-1 px-1.5 py-0.5 bg-indigo-50 text-indigo-600 text-[10px] font-medium rounded",children:F.accountEmail})]}),F.lastMessage&&a.jsx("p",{className:"text-xs text-slate-400 mt-1 line-clamp-2",children:Di(F.lastMessage,100)})]})}),a.jsxs("div",{className:"flex flex-col items-end flex-shrink-0",children:[a.jsx("span",{className:"text-xs text-slate-400 whitespace-nowrap",children:F.timestamp}),!F.isRead&&a.jsx("span",{className:"w-2 h-2 rounded-full bg-indigo-500 mt-1"})]}),!hs&&a.jsx(bs,{className:"w-4 h-4 text-slate-400 flex-shrink-0 mt-1"})]})},F.id)),Jt==="list"&&X&&a.jsx("li",{ref:zc,className:"px-4 py-3",children:I?a.jsxs("div",{className:"flex items-center justify-center py-4",children:[a.jsx(Et,{className:"w-5 h-5 text-indigo-500 animate-spin"}),a.jsx("span",{className:"ml-2 text-sm text-slate-500",children:"Loading more..."})]}):a.jsx("div",{className:"h-1"})})]},`list-${Qt||"all"}`)}),a.jsx("div",{className:"flex-1 min-h-0 flex flex-col border border-slate-200 rounded-xl bg-white overflow-hidden min-w-0 max-h-full",children:C?a.jsx("div",{className:"flex-1 flex items-center justify-center py-16",children:a.jsx(Et,{className:"w-8 h-8 text-indigo-500 animate-spin"})}):k?a.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto overflow-x-hidden",style:{WebkitOverflowScrolling:"touch"},children:[a.jsxs("div",{className:"p-3 border-b border-slate-100 flex flex-col gap-2 overflow-visible",children:[a.jsx("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h2",{className:"text-base font-semibold text-slate-900 break-words",children:k.subject||"(No subject)"}),a.jsxs("p",{className:"text-xs text-slate-500 mt-0.5 flex items-center gap-2 flex-wrap",children:[a.jsx("span",{className:"break-words",children:k.sender||k.email}),a.jsx("span",{children:""}),a.jsx("span",{children:k.timestamp}),k.senderClassification&&a.jsx("span",{className:`px-1.5 py-0.5 text-[10px] font-medium rounded flex-shrink-0 ${k.senderClassification==="internal"?"bg-slate-100 text-slate-700":k.senderClassification==="system"?"bg-slate-200 text-slate-600":"bg-indigo-50 text-indigo-700"}`,children:k.senderClassification==="internal"?"Internal":k.senderClassification==="system"?"System":"Customer"})]}),(k.accountEmail||k.accountOwnerName)&&a.jsxs("p",{className:"text-xs text-slate-400 mt-0.5 flex items-center gap-2 flex-wrap",children:[k.accountOwnerName&&a.jsxs("span",{children:["Synced via ",a.jsx("span",{className:"font-medium text-slate-600",children:k.accountOwnerName})]}),k.accountEmail&&a.jsx("span",{className:"px-2 py-0.5 bg-indigo-50 text-indigo-600 text-xs font-medium rounded",children:k.accountEmail})]})]})}),k.linkedRecords&&a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[k.linkedRecords.contactId&&(()=>{const F=ic.find(ue=>ue.id===k.linkedRecords?.contactId);return F?a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-50 text-blue-700 text-xs font-medium rounded-lg",children:[a.jsx(rl,{className:"w-3 h-3"}),F.name]}):null})(),k.linkedRecords.companyId&&(()=>{const F=Cs.find(ue=>ue.id===k.linkedRecords?.companyId);return F?a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-50 text-green-700 text-xs font-medium rounded-lg",children:[a.jsx(nd,{className:"w-3 h-3"}),F.name]}):null})(),k.linkedRecords.dealId&&(()=>{const F=ua.find(ue=>ue.id===k.linkedRecords?.dealId);return F?a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-purple-50 text-purple-700 text-xs font-medium rounded-lg",children:[a.jsx(Pc,{className:"w-3 h-3"}),F.title||F.name]}):null})(),k.linkedRecords.projectId&&(()=>{const F=Fa.find(ue=>ue.id===k.linkedRecords?.projectId);return F?a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-amber-50 text-amber-700 text-xs font-medium rounded-lg",children:[a.jsx(qf,{className:"w-3 h-3"}),F.title||F.name]}):null})(),k.linkedRecords.contractId&&(()=>{const F=zo.find(ue=>ue.id===k.linkedRecords?.contractId);return F?a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-red-50 text-red-700 text-xs font-medium rounded-lg",children:[a.jsx(Xa,{className:"w-3 h-3"}),F.title]}):null})()]}),gl?a.jsxs("div",{className:"mt-1 flex items-center gap-2 text-xs text-slate-500",children:[a.jsx(Et,{className:"w-3 h-3 animate-spin"}),"Finding matches..."]}):(xl.contacts.length>0||xl.companies.length>0)&&a.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2",children:[a.jsx("span",{className:"text-xs text-slate-500 font-medium",children:"Suggested links:"}),xl.contacts.map(F=>a.jsxs("button",{onClick:()=>Ye("contact",F.id),disabled:vl,className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-50 text-blue-700 text-xs font-medium rounded-lg hover:bg-blue-100 transition-colors disabled:opacity-50",children:[a.jsx(rl,{className:"w-3 h-3"}),F.name,a.jsx(_n,{className:"w-3 h-3"})]},F.id)),xl.companies.map(F=>a.jsxs("button",{onClick:()=>Ye("company",F.id),disabled:vl,className:"inline-flex items-center gap-1 px-2 py-1 bg-green-50 text-green-700 text-xs font-medium rounded-lg hover:bg-green-100 transition-colors disabled:opacity-50",children:[a.jsx(nd,{className:"w-3 h-3"}),F.name,a.jsx(_n,{className:"w-3 h-3"})]},F.id))]}),a.jsxs("div",{className:"mt-1.5 flex flex-wrap items-center gap-2 max-w-full",children:[a.jsxs("button",{type:"button",onClick:()=>{Ho("contact"),go(!0)},className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-colors whitespace-nowrap flex-shrink-0",children:[a.jsx(If,{className:"w-3 h-3 flex-shrink-0"}),"Link Contact"]}),a.jsxs("button",{type:"button",onClick:()=>{Ho("company"),go(!0)},className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium text-green-600 hover:text-green-700 hover:bg-green-50 rounded-lg transition-colors whitespace-nowrap flex-shrink-0",children:[a.jsx(If,{className:"w-3 h-3 flex-shrink-0"}),"Link Company"]}),a.jsxs("button",{type:"button",onClick:()=>{Ho("deal"),go(!0)},className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium text-purple-600 hover:text-purple-700 hover:bg-purple-50 rounded-lg transition-colors whitespace-nowrap flex-shrink-0",children:[a.jsx(If,{className:"w-3 h-3 flex-shrink-0"}),"Link Deal"]}),a.jsxs("button",{type:"button",onClick:()=>{Ho("project"),go(!0)},className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium text-amber-600 hover:text-amber-700 hover:bg-amber-50 rounded-lg transition-colors whitespace-nowrap flex-shrink-0",children:[a.jsx(If,{className:"w-3 h-3 flex-shrink-0"}),"Link Project"]}),a.jsxs("button",{type:"button",onClick:()=>{Ho("contract"),go(!0)},className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors whitespace-nowrap flex-shrink-0",children:[a.jsx(If,{className:"w-3 h-3 flex-shrink-0"}),"Link Contract"]}),a.jsxs("button",{type:"button",onClick:()=>Qc(!0),className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium text-indigo-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-lg transition-colors whitespace-nowrap flex-shrink-0",children:[a.jsx(al,{className:"w-3 h-3 flex-shrink-0"}),"Create Task"]})]}),k.labels&&k.labels.length>0&&a.jsx("div",{className:"flex flex-wrap items-center gap-2 mt-1 max-w-full",children:k.labels.map(F=>{const ue=Rr.find(Ne=>Ne.id===F);return ue?a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-purple-100 text-purple-700 text-xs font-medium rounded-lg whitespace-nowrap flex-shrink-0",children:[a.jsx("span",{className:"truncate max-w-[200px]",children:ue.name}),a.jsx("button",{type:"button",onClick:()=>st(k.id,F),className:"hover:text-purple-900 flex-shrink-0",title:"Remove label",children:a.jsx(mr,{className:"w-3 h-3"})})]},F):null})}),a.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 max-w-full",children:[a.jsxs("button",{type:"button",disabled:co||!s,onClick:async()=>{if(!(!k?.id||!s)){ki(!0),nc([]);try{const ue=(await jae({emailId:k.id,userId:s,useAi:!0,availableLabels:Rr.map(Ne=>({id:Ne.id,name:Ne.name}))}))?.data;ue?.suggestedLabels?.length&&(nc(ue.suggestedLabels),ll(ue.suggestionId||null))}catch{nc([])}finally{ki(!1)}}},className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium text-amber-600 hover:text-amber-700 hover:bg-amber-50 rounded-lg transition-colors disabled:opacity-50 whitespace-nowrap flex-shrink-0",children:[co?a.jsx(Et,{className:"w-3 h-3 animate-spin flex-shrink-0"}):a.jsx(xi,{className:"w-3 h-3 flex-shrink-0"}),"Suggest labels"]}),zi.length>0&&a.jsx("span",{className:"text-xs text-slate-500 flex-shrink-0",children:"Suggested:"}),zi.map((F,ue)=>a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-amber-50 text-amber-800 text-xs font-medium rounded-lg whitespace-nowrap flex-shrink-0",children:[a.jsx("span",{className:"truncate max-w-[150px]",children:F.labelName}),a.jsxs("span",{className:"text-amber-600 text-[10px] flex-shrink-0",children:["(",F.source,")"]}),F.labelId&&a.jsx("button",{type:"button",onClick:()=>{tt(k.id,[F.labelId],[],!0,l0||void 0),nc(Ne=>Ne.filter((He,ft)=>ft!==ue))},className:"hover:bg-amber-100 rounded px-0.5 flex-shrink-0",title:"Add to email",children:a.jsx(_n,{className:"w-3 h-3"})})]},F.labelId||ue))]}),a.jsx("div",{className:"mt-1",children:a.jsxs("button",{type:"button",onClick:()=>{ba(k.id),tn(!0)},className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium text-purple-600 hover:text-purple-700 hover:bg-purple-50 rounded-lg transition-colors",children:[a.jsx(_n,{className:"w-3 h-3"}),k.labels&&k.labels.length>0?"Manage Labels":"Add Labels"]})}),a.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2",children:[a.jsx("span",{className:"text-xs text-slate-500",children:"Tags:"}),(k.customTags||[]).map((F,ue)=>a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-slate-100 text-slate-700 text-xs rounded-lg",children:[F,a.jsx("button",{type:"button",onClick:()=>{const Ne=(k.customTags||[]).filter((He,ft)=>ft!==ue);ov(k.id,{userId:s,customTags:Ne}).then(()=>{P(He=>He?{...He,customTags:Ne}:null)}).catch(()=>{})},className:"hover:text-red-600",children:a.jsx(mr,{className:"w-3 h-3"})})]},ue)),a.jsx("input",{type:"text",placeholder:"Add tag",value:qc,onChange:F=>Cl(F.target.value),onKeyDown:F=>{if(F.key==="Enter"&&qc.trim()){const Ne=[...k.customTags||[],qc.trim()];ov(k.id,{userId:s,customTags:Ne}).then(()=>{P(He=>He?{...He,customTags:Ne}:null),Cl("")}).catch(()=>{})}},className:"w-24 px-2 py-0.5 text-xs border border-slate-200 rounded-lg"})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2 pt-1.5 border-t border-slate-100",children:[y&&a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs("select",{value:k.priority||"medium",onChange:F=>Pt(k.id,{priority:F.target.value}),className:"px-2 py-1 text-xs border border-slate-200 rounded-lg bg-white hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-indigo-500",title:"Priority",children:[a.jsx("option",{value:"low",children:"Low"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"high",children:"High"})]}),a.jsxs("select",{value:k.threadStatus||"active",onChange:F=>Pt(k.id,{threadStatus:F.target.value}),className:"px-2 py-1 text-xs border border-slate-200 rounded-lg bg-white hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-indigo-500",title:"Status",children:[a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"resolved",children:"Resolved"}),a.jsx("option",{value:"archived",children:"Archived"})]}),l&&a.jsxs("select",{value:k.owner||"",onChange:F=>Pt(k.id,{owner:F.target.value||null}),className:"px-2 py-1 text-xs border border-slate-200 rounded-lg bg-white hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 min-w-[120px]",title:"Assign to",children:[a.jsx("option",{value:"",children:"Unassigned"}),Hr.map(F=>a.jsx("option",{value:F.id,children:F.name||F.email},F.id))]})]}),h&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{type:"button",onClick:()=>qt(k.id,!k.isStarred),className:"p-2 rounded-lg hover:bg-slate-100 text-slate-500",title:k.isStarred?"Unstar":"Star",children:k.isStarred?a.jsx(Ov,{className:"w-4 h-4 text-amber-500 fill-amber-500"}):a.jsx(WB,{className:"w-4 h-4"})}),k.syncStatus?.starredStatus&&a.jsx("div",{className:"flex-shrink-0",children:Tt(k.syncStatus.starredStatus)})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{type:"button",onClick:()=>ct(k.id,!k.isRead),className:"p-2 rounded-lg hover:bg-slate-100 text-slate-500 text-xs font-medium",children:k.isRead?"Mark unread":"Mark read"}),k.syncStatus?.readStatus&&a.jsx("div",{className:"flex-shrink-0",children:Tt(k.syncStatus.readStatus)})]}),m&&a.jsx(a.Fragment,{children:k.threadStatus==="archived"?a.jsxs("button",{type:"button",onClick:()=>Wn(k.id),className:"px-3 py-1.5 bg-green-600 text-white text-xs font-medium rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",title:"Restore from archive",children:[a.jsx(qg,{className:"w-3 h-3"}),"Restore"]}):a.jsxs(a.Fragment,{children:[a.jsxs("button",{type:"button",onClick:()=>gr(k.id),className:"px-3 py-1.5 bg-slate-600 text-white text-xs font-medium rounded-lg hover:bg-slate-700 transition-colors flex items-center gap-2",title:"Archive email",children:[a.jsx(qg,{className:"w-3 h-3"}),"Archive"]}),k.threadStatus!=="resolved"&&y&&a.jsxs("button",{type:"button",onClick:()=>On(k.id),className:"px-3 py-1.5 bg-green-600 text-white text-xs font-medium rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",title:"Mark as resolved",children:[a.jsx(Cn,{className:"w-3 h-3"}),"Resolve"]})]})}),p&&a.jsxs("button",{type:"button",onClick:()=>Hn(k.id),className:"px-3 py-1.5 bg-red-600 text-white text-xs font-medium rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2",title:"Delete email",children:[a.jsx($r,{className:"w-3 h-3"}),"Delete"]}),u&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{type:"button",onClick:()=>{Va("reply"),zn([k.email]),ka([]),is([]),Ai(k.subject?.startsWith("Re:")?k.subject:`Re: ${k.subject||""}`),Ss(""),mo(k.accountEmail||Ut[0]?.email||""),As(!1),cc(!1),la(!0)},className:"px-3 py-1.5 bg-indigo-600 text-white text-xs font-medium rounded-lg hover:bg-indigo-700 transition-colors flex items-center gap-2",children:[a.jsx(Nu,{className:"w-3 h-3"}),"Reply"]}),a.jsx("button",{type:"button",onClick:()=>{Va("replyAll");const F=(k.accountEmail||"").toLowerCase(),ue=[k.email,...k.to||[],...k.cc||[]].filter((Ne,He,ft)=>{const sr=Ne.toLowerCase();return ft.findIndex(Nt=>Nt.toLowerCase()===sr)===He&&sr!==F});zn([k.email]),ka(ue.filter(Ne=>Ne.toLowerCase()!==k.email.toLowerCase())),is([]),Ai(k.subject?.startsWith("Re:")?k.subject:`Re: ${k.subject||""}`),Ss(""),mo(k.accountEmail||Ut[0]?.email||""),As(!0),cc(!1),la(!0)},className:"px-3 py-1.5 bg-indigo-50 text-indigo-600 text-xs font-medium rounded-lg hover:bg-indigo-100 transition-colors",children:"Reply All"})]}),d&&a.jsx("button",{type:"button",onClick:()=>{Va("forward"),zn([]),ka([]),is([]),Ai(k.subject?.startsWith("Fwd:")||k.subject?.startsWith("Fw:")?k.subject:`Fwd: ${k.subject||""}`);const F=k.body||k.lastMessage||"";Ss(`

--- Forwarded message ---
From: ${k.sender||k.email}
Date: ${k.timestamp}
Subject: ${k.subject}
To: ${k.to?.join(", ")||k.email}

${F}`),mo(k.accountEmail||Ut[0]?.email||""),As(!1),cc(!1),la(!0)},className:"px-3 py-1.5 bg-white text-slate-600 text-xs font-medium rounded-lg hover:bg-slate-50 transition-colors border border-slate-200",children:"Forward"}),a.jsxs("button",{type:"button",onClick:async()=>{if(!(!s||!k.id)){pt(!0);try{if((await Oae(s,k.id,!0)).success&&(t("Meeting created successfully!"),k.id)){const ue=await Iv(s,k.id);ue.success&&ue.data&&W(ue.data)}}catch(F){r(F.message||"Failed to create meeting")}finally{pt(!1)}}},disabled:Ze||!s,className:"px-3 py-1.5 bg-indigo-600 text-white text-xs font-medium rounded-lg hover:bg-indigo-700 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",title:"Create meeting from email (auto-extract details)",children:[Ze?a.jsx(Et,{className:"w-3 h-3 animate-spin"}):a.jsx(Ha,{className:"w-3 h-3"}),"Schedule Meeting"]})]})]}),a.jsxs("div",{className:"p-4 space-y-6",children:[a.jsxs("div",{className:"border-b border-slate-200 pb-6 min-h-[200px]",children:[a.jsx("h3",{className:"text-sm font-semibold text-slate-900 mb-3",children:"Email Content"}),a.jsx("div",{className:"prose prose-slate max-w-none break-words",children:a.jsx(G8,{content:k.body||k.lastMessage||"No content",highlightTerm:_(E).searchText||void 0})})]}),(Ts.length>0||Jc.length>0||wd.length>0)&&a.jsxs("div",{className:"border-b border-slate-200 pb-6",children:[a.jsx("h3",{className:"text-sm font-semibold text-slate-900 mb-3",children:"Related Items"}),a.jsxs("div",{className:"space-y-3",children:[Ts.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(al,{className:"w-4 h-4 text-indigo-500"}),a.jsxs("h4",{className:"text-xs font-semibold text-slate-700",children:["Tasks (",Ts.length,")"]})]}),a.jsx("div",{className:"space-y-2",children:Ts.map(F=>a.jsxs("div",{className:"p-2 bg-slate-50 rounded-lg border border-slate-200",children:[a.jsx("p",{className:"text-sm font-medium text-slate-900",children:F.title}),F.status&&a.jsx("span",{className:"text-xs text-slate-500",children:F.status})]},F.id))})]}),Jc.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(qf,{className:"w-4 h-4 text-amber-500"}),a.jsxs("h4",{className:"text-xs font-semibold text-slate-700",children:["Projects (",Jc.length,")"]})]}),a.jsx("div",{className:"space-y-2",children:Jc.map(F=>a.jsxs("div",{className:"p-2 bg-amber-50 rounded-lg border border-amber-200",children:[a.jsx("p",{className:"text-sm font-medium text-amber-900",children:F.title||F.name}),F.status&&a.jsx("span",{className:"text-xs text-amber-600",children:F.status})]},F.id))})]}),wd.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Xa,{className:"w-4 h-4 text-red-500"}),a.jsxs("h4",{className:"text-xs font-semibold text-slate-700",children:["Contracts (",wd.length,")"]})]}),a.jsx("div",{className:"space-y-2",children:wd.map(F=>a.jsxs("div",{className:"p-2 bg-red-50 rounded-lg border border-red-200",children:[a.jsx("p",{className:"text-sm font-medium text-red-900",children:F.title}),F.status&&a.jsx("span",{className:"text-xs text-red-600",children:F.status})]},F.id))})]})]})]}),Kc.length>0&&a.jsxs("div",{className:"border-b border-slate-200 pb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(Ha,{className:"w-4 h-4 text-indigo-500"}),a.jsxs("h3",{className:"text-sm font-semibold text-slate-900",children:["Linked Calendar Events (",Kc.length,")"]})]}),a.jsx("div",{className:"space-y-2",children:Kc.map(F=>a.jsx("div",{className:"p-3 bg-indigo-50 rounded-lg border border-indigo-200 hover:bg-indigo-100 transition-colors",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"text-sm font-medium text-indigo-900 mb-1",children:F.title}),a.jsxs("div",{className:"flex flex-col gap-1 text-xs text-indigo-700",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(ws,{className:"w-3 h-3"}),a.jsxs("span",{children:[new Date(F.start).toLocaleString()," - ",new Date(F.end).toLocaleString()]})]}),F.location&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(rD,{className:"w-3 h-3"}),a.jsx("span",{children:F.location})]}),F.participants&&F.participants.length>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(rl,{className:"w-3 h-3"}),a.jsx("span",{children:F.participants.join(", ")})]})]})]}),F.htmlLink&&a.jsx("a",{href:F.htmlLink,target:"_blank",rel:"noopener noreferrer",className:"ml-2 p-1.5 text-indigo-600 hover:bg-indigo-200 rounded transition-colors",title:"Open in Google Calendar",children:a.jsx(vi,{className:"w-4 h-4"})})]})},F.id))})]}),k.attachments&&k.attachments.length>0&&a.jsxs("div",{className:"border-b border-slate-200 pb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(Th,{className:"w-4 h-4 text-slate-500"}),a.jsxs("h3",{className:"text-sm font-semibold text-slate-900",children:["Attachments (",k.attachments.length,")"]})]}),a.jsx("div",{className:"grid grid-cols-1 gap-2",children:k.attachments.map((F,ue)=>{const Ne=F.isDriveFile||F.driveFileId;return a.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border transition-colors ${Ne?"bg-blue-50/30 border-blue-200 hover:bg-blue-50":"bg-slate-50 border-slate-200 hover:bg-slate-100"}`,children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[Ne&&F.iconUrl?a.jsx("img",{src:F.iconUrl,alt:F.filename,className:"w-8 h-8"}):a.jsx("div",{className:`p-2 rounded-lg ${Qa(F.mimeType)?"bg-blue-50 text-blue-600":va(F.mimeType)?"bg-red-50 text-red-600":"bg-slate-100 text-slate-600"}`,children:Qa(F.mimeType)?a.jsx(tl,{className:"w-4 h-4"}):va(F.mimeType)?a.jsx(Wl,{className:"w-4 h-4"}):a.jsx(Th,{className:"w-4 h-4"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"text-sm font-medium text-slate-900 truncate",children:F.filename}),Ne&&a.jsx("span",{className:"px-1.5 py-0.5 bg-blue-100 text-blue-600 text-[9px] font-bold rounded",children:"Drive"})]}),a.jsx("p",{className:"text-xs text-slate-500",children:Ne?"Google Drive file":`${_a(F.size)}  ${F.mimeType}`})]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[Ne&&F.previewUrl&&a.jsx("a",{href:F.previewUrl,target:"_blank",rel:"noopener noreferrer",className:"p-2 rounded-lg hover:bg-blue-100 text-blue-600 transition-colors",title:"Open in Drive",children:a.jsx(vi,{className:"w-4 h-4"})}),!Ne&&(Qa(F.mimeType)||va(F.mimeType))&&a.jsx("button",{onClick:()=>fa(k.id,F.attachmentId,F.filename,F.mimeType),disabled:Wr[`${k.id}-${F.attachmentId}-view`],className:"p-2 rounded-lg hover:bg-slate-200 text-slate-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"View",children:Wr[`${k.id}-${F.attachmentId}-view`]?a.jsx(Et,{className:"w-4 h-4 animate-spin"}):a.jsx(Ud,{className:"w-4 h-4"})}),!Ne&&a.jsx("button",{onClick:()=>Xr(k.id,F.attachmentId,F.filename),disabled:Wr[`${k.id}-${F.attachmentId}-download`],className:"p-2 rounded-lg hover:bg-slate-200 text-slate-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Download",children:Wr[`${k.id}-${F.attachmentId}-download`]?a.jsx(Et,{className:"w-4 h-4 animate-spin"}):a.jsx(L0,{className:"w-4 h-4"})}),Ne&&F.downloadUrl&&a.jsx("a",{href:F.downloadUrl,target:"_blank",rel:"noopener noreferrer",className:"p-2 rounded-lg hover:bg-indigo-100 text-indigo-600 transition-colors",title:"Download",children:a.jsx(L0,{className:"w-4 h-4"})})]})]},F.attachmentId||ue)})})]}),k.attachments&&k.attachments.some(F=>(F.isDriveFile||F.driveFileId)&&F.previewUrl&&(F.mimeType?.includes("google-apps")||F.mimeType?.includes("document")||F.mimeType?.includes("spreadsheet")||F.mimeType?.includes("presentation")))&&a.jsxs("div",{className:"border-b border-slate-200 pb-6 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(Wl,{className:"w-4 h-4 text-blue-500"}),a.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Embedded Documents"})]}),a.jsx("div",{className:"space-y-4",children:k.attachments.filter(F=>(F.isDriveFile||F.driveFileId)&&F.previewUrl&&(F.mimeType?.includes("google-apps")||F.mimeType?.includes("document")||F.mimeType?.includes("spreadsheet")||F.mimeType?.includes("presentation"))).map((F,ue)=>{const Ne=F.previewUrl?.replace("/edit","/preview")||F.previewUrl;return a.jsxs("div",{className:"border border-slate-200 rounded-lg overflow-hidden bg-white",children:[a.jsxs("div",{className:"p-3 bg-slate-50 border-b border-slate-200 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[F.iconUrl&&a.jsx("img",{src:F.iconUrl,alt:F.filename,className:"w-5 h-5"}),a.jsx("span",{className:"text-sm font-medium text-slate-900",children:F.filename}),a.jsx("span",{className:"px-1.5 py-0.5 bg-blue-100 text-blue-600 text-[9px] font-bold rounded",children:"Drive"})]}),F.previewUrl&&a.jsx("a",{href:F.previewUrl,target:"_blank",rel:"noopener noreferrer",className:"p-1.5 hover:bg-blue-100 text-blue-600 rounded transition-colors",title:"Open in Drive",children:a.jsx(vi,{className:"w-4 h-4"})})]}),a.jsx("div",{className:"relative",style:{paddingBottom:"56.25%",height:0},children:a.jsx("iframe",{src:Ne,className:"absolute top-0 left-0 w-full h-full border-0",title:F.filename,allow:"fullscreen"})})]},F.attachmentId||ue)})})]}),a.jsxs("div",{className:"border-t border-slate-200 pt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("h3",{className:"text-sm font-semibold text-slate-900 flex items-center gap-2",children:[a.jsx(xi,{className:"w-4 h-4 text-indigo-500"}),"AI Reply Draft"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[Ve.length>0&&a.jsx("button",{type:"button",onClick:F=>{F.preventDefault(),F.stopPropagation(),w(()=>Wo(),ue=>{})},disabled:et,className:"inline-flex items-center gap-2 px-3 py-1.5 bg-white text-indigo-600 text-xs font-medium rounded-lg hover:bg-indigo-50 transition-colors border border-indigo-200 disabled:opacity-60",children:et?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-3 h-3 animate-spin"}),"Regenerating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(sd,{className:"w-3 h-3"}),"Regenerate"]})}),!Ge&&a.jsx("button",{type:"button",onClick:F=>{F.preventDefault(),F.stopPropagation(),w(()=>Wo(),ue=>{})},disabled:et,className:"inline-flex items-center gap-2 px-3 py-1.5 bg-indigo-50 text-indigo-700 text-xs font-medium rounded-lg hover:bg-indigo-100 disabled:opacity-60 transition-colors",children:et?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-3 h-3 animate-spin"}),"Generating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(xi,{className:"w-3 h-3"}),"Generate Draft"]})})]})]}),Ve.length>1&&a.jsxs("div",{className:"mb-3 space-y-2",children:[a.jsx("p",{className:"text-xs font-medium text-slate-700",children:"Select a variation:"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:Ve.map((F,ue)=>a.jsxs("button",{type:"button",onClick:()=>{Ie(ue),dt(b(F.draft))},className:`p-3 rounded-lg border-2 text-left transition-all ${ze===ue?"border-indigo-500 bg-indigo-50":"border-slate-200 bg-white hover:border-indigo-300 hover:bg-indigo-50/30"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:"text-xs font-semibold text-slate-900 capitalize",children:F.style}),a.jsxs("span",{className:"text-xs font-bold text-indigo-600",children:[F.confidence,"%"]})]}),a.jsx("p",{className:"text-[10px] text-slate-500 mb-2",children:F.description}),a.jsx("div",{className:"w-full bg-slate-200 rounded-full h-1.5",children:a.jsx("div",{className:`h-1.5 rounded-full ${F.confidence>=80?"bg-green-500":F.confidence>=60?"bg-indigo-500":"bg-amber-500"}`,style:{width:`${F.confidence}%`}})})]},ue))})]}),Ge?a.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-4 space-y-3",children:[Ve.length>1&&ze!==null&&a.jsxs("div",{className:"flex items-center justify-between pb-2 border-b border-indigo-200",children:[a.jsxs("div",{children:[a.jsxs("span",{className:"text-xs font-semibold text-slate-900 capitalize",children:[Ve[ze].style," Variation"]}),a.jsxs("span",{className:"ml-2 text-xs text-slate-500",children:["(",Ve[ze].description,")"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs text-slate-500",children:"Confidence:"}),a.jsxs("span",{className:"text-xs font-bold text-indigo-600",children:[Ve[ze].confidence,"%"]})]})]}),a.jsx("div",{className:"quill-wrapper",children:a.jsx(Uv,{ref:F=>{Lt.current=F,F&&(Bt.current=F.getEditor())},theme:"snow",value:Ge,onChange:F=>dt(F),modules:Aa,formats:Ga,placeholder:"Edit your draft..."})}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs("button",{type:"button",onClick:f0,className:"px-3 py-1.5 bg-indigo-600 text-white text-xs font-medium rounded-lg hover:bg-indigo-700 transition-colors flex items-center gap-2",children:[a.jsx(Nu,{className:"w-3 h-3"}),"Copy to Clipboard"]}),a.jsxs("button",{type:"button",onClick:wo,className:"px-3 py-1.5 bg-white text-indigo-600 text-xs font-medium rounded-lg hover:bg-indigo-50 transition-colors border border-indigo-200 flex items-center gap-2",children:[a.jsx(_n,{className:"w-3 h-3"}),"Save as Template"]}),a.jsx("button",{type:"button",onClick:()=>{Dr(!0),No()},className:"px-3 py-1.5 bg-white text-slate-600 text-xs font-medium rounded-lg hover:bg-slate-50 transition-colors border border-slate-200",children:"Templates"}),a.jsx("button",{type:"button",onClick:()=>{dt(null),Qe([]),Ie(null)},className:"px-3 py-1.5 bg-white text-slate-600 text-xs font-medium rounded-lg hover:bg-slate-50 transition-colors border border-slate-200",children:"Clear"})]})]}):a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-xs text-slate-400",children:'Click "Generate Draft" to create AI-powered reply suggestions.'}),a.jsx("button",{type:"button",onClick:()=>{Dr(!0),No()},className:"px-3 py-1.5 bg-white text-slate-600 text-xs font-medium rounded-lg hover:bg-slate-50 transition-colors border border-slate-200",children:"View Templates"})]})]}),a.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-200",children:[a.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(oo,{className:"w-4 h-4 text-indigo-500"}),"Notes & Comments",k?.id&&vr[k.id]&&vr[k.id].length>0&&a.jsx("span",{className:"ml-1 px-2 py-0.5 bg-indigo-100 text-indigo-600 rounded-full text-[10px]",children:vr[k.id].length})]}),o&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"relative",style:{position:"relative"},children:[a.jsxs("div",{className:"quill-wrapper",children:[a.jsx("style",{children:`
                          .quill-wrapper .ql-container {
                            border-bottom-left-radius: 0.75rem;
                            border-bottom-right-radius: 0.75rem;
                            font-size: 0.875rem;
                            min-height: 100px;
                          }
                          .quill-wrapper .ql-toolbar {
                            border-top-left-radius: 0.75rem;
                            border-top-right-radius: 0.75rem;
                            border: none;
                            border-bottom: 2px solid #e2e8f0;
                            background: #f8fafc;
                          }
                          .quill-wrapper .ql-editor {
                            min-height: 100px;
                            padding: 1rem;
                          }
                          .quill-wrapper .ql-editor.ql-blank::before {
                            color: #94a3b8;
                            font-style: normal;
                            font-size: 0.875rem;
                          }
                          .quill-wrapper .ql-snow {
                            border: 2px solid #e2e8f0;
                            border-radius: 0.75rem;
                          }
                          .quill-wrapper:focus-within .ql-snow {
                            border-color: #818cf8;
                            box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.1);
                          }
                        `}),a.jsx(Uv,{ref:F=>{au.current=F,F&&(zu.current=F.getEditor())},theme:"snow",value:vn,onChange:Qi,onBlur:()=>{setTimeout(()=>{kt||nr(null)},200)},modules:Aa,formats:Ga,placeholder:"Add a note or comment... (Use @ to mention users)"})]}),kt&&mn.length>0&&a.jsx("div",{className:"absolute top-full mt-2 left-0 w-full max-w-sm bg-white border-2 border-indigo-200 rounded-xl shadow-2xl z-[100] max-h-48 overflow-y-auto",onMouseDown:F=>{F.preventDefault()},children:a.jsxs("div",{className:"p-2",children:[a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 text-xs font-bold text-slate-400 uppercase tracking-wider",children:[a.jsx(Km,{className:"w-3 h-3"}),"Mention User"]}),mn.map(F=>a.jsxs("button",{type:"button",onMouseDown:ue=>{ue.preventDefault(),ue.stopPropagation(),mc(F)},onClick:ue=>{ue.preventDefault(),ue.stopPropagation()},className:"w-full flex items-center gap-3 px-3 py-2 hover:bg-indigo-50 rounded-lg transition-all text-left",children:[a.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center text-indigo-600 font-bold text-xs",children:F.name?.charAt(0)||"U"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-bold text-slate-900 truncate",children:F.name||"Unknown"}),a.jsx("p",{className:"text-xs text-slate-400 truncate",children:F.email||""})]})]},F.id))]})})]}),a.jsxs("div",{className:"relative",ref:ir,children:[a.jsxs("button",{type:"button",onClick:()=>Fr(!Ct),className:`w-full flex items-center justify-between gap-2 px-4 py-2.5 bg-white border-2 rounded-xl text-sm transition-all ${Ot.length>0?"border-indigo-300 bg-indigo-50":"border-slate-200 hover:border-indigo-200"}`,children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Au,{className:`w-4 h-4 ${Ot.length>0?"text-indigo-600":"text-slate-400"}`}),a.jsx("span",{className:`font-medium ${Ot.length>0?"text-indigo-900":"text-slate-600"}`,children:Ot.length>0?`Marked for ${Ot.length} team member${Ot.length>1?"s":""}`:"Mark for team member"})]}),Ot.length>0&&a.jsx("button",{type:"button",onClick:F=>{F.stopPropagation(),Zr([])},className:"p-1 hover:bg-indigo-200 rounded transition-all",children:a.jsx(mr,{className:"w-3 h-3 text-indigo-600"})})]}),Ct&&a.jsx("div",{className:"absolute top-full mt-2 left-0 w-full bg-white border-2 border-indigo-200 rounded-xl shadow-2xl z-[100] max-h-64 overflow-y-auto",children:a.jsxs("div",{className:"p-2",children:[a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 text-xs font-bold text-slate-400 uppercase tracking-wider border-b border-slate-100 mb-2",children:[a.jsx(Au,{className:"w-3 h-3"}),"Select Team Members"]}),a.jsx("input",{type:"text",placeholder:"Search team members...",value:oa,onChange:F=>ja(F.target.value),className:"w-full px-3 py-2 mb-2 text-sm border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-200"}),Hr.filter(F=>F.id!==s&&(oa===""||F.name?.toLowerCase().includes(oa.toLowerCase())||F.email?.toLowerCase().includes(oa.toLowerCase()))).map(F=>{const ue=Ot.includes(F.id);return a.jsxs("button",{type:"button",onClick:()=>{Zr(ue?Ne=>Ne.filter(He=>He!==F.id):Ne=>[...Ne,F.id])},className:`w-full flex items-center gap-3 px-3 py-2 hover:bg-indigo-50 rounded-lg transition-all text-left ${ue?"bg-indigo-50":""}`,children:[a.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center font-bold text-xs ${ue?"bg-indigo-600 text-white":"bg-slate-100 text-slate-600"}`,children:F.name?.charAt(0)||"U"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-bold text-slate-900 truncate",children:F.name||"Unknown"}),a.jsx("p",{className:"text-xs text-slate-400 truncate",children:F.email||""})]}),ue&&a.jsx(Cn,{className:"w-4 h-4 text-indigo-600"})]},F.id)})]})})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("label",{className:"flex-1 cursor-pointer group",children:[a.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 bg-slate-50 border-2 border-dashed border-slate-200 rounded-xl hover:border-indigo-300 hover:bg-indigo-50/30 transition-all",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-indigo-100 flex items-center justify-center text-indigo-600 group-hover:bg-indigo-200 transition-all",children:bt?a.jsx(tl,{className:"w-4 h-4"}):a.jsx(Ou,{className:"w-4 h-4"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-xs font-bold text-slate-900",children:bt?ee?.name||"Image selected":"Attach Image"}),a.jsx("p",{className:"text-[10px] text-slate-400",children:"PNG, JPG (Max 10MB)"})]})]}),a.jsx("input",{ref:Ji,type:"file",accept:"image/*",onChange:Ii,className:"hidden"})]}),a.jsx("button",{onClick:ql,disabled:ge||!vn.trim()&&!ee,className:"px-6 py-3 bg-indigo-600 text-white font-bold text-xs uppercase tracking-widest rounded-xl hover:bg-indigo-700 transition-all shadow-lg flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed shrink-0",children:ge?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Sending..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Nu,{className:"w-4 h-4"}),"Send"]})})]}),bt&&a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:bt,alt:"Note attachment preview",className:"w-full max-h-48 object-contain rounded-lg border-2 border-slate-200"}),a.jsx("button",{onClick:()=>{Wt(""),me(null),Ji.current&&(Ji.current.value="")},className:"absolute top-2 right-2 p-1.5 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-all shadow-lg",children:a.jsx(mr,{className:"w-4 h-4"})})]})]}),!o&&a.jsx("div",{className:"p-4 bg-slate-50 border border-slate-200 rounded-lg text-center",children:a.jsx("p",{className:"text-sm text-slate-600",children:"You have read-only access. Contact an admin to add notes or comments."})}),a.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto custom-scrollbar",children:vr[k?.id]&&vr[k.id]?.length>0?vr[k.id].map(F=>{const ue=jc(i,"shared-inbox:delete-note")&&(Nve(i)||F.userId===s);return a.jsxs("div",{className:`p-4 bg-white border rounded-xl space-y-2 ${(F.markedFor||[]).length>0?"border-indigo-300 bg-indigo-50/30":"border-slate-200"}`,children:[a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[a.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center text-indigo-600 font-black text-xs",children:F.userName?.charAt(0)||"U"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"text-xs font-bold text-slate-900",children:F.userName}),(F.markedFor||[]).length>0&&a.jsxs("span",{className:"px-1.5 py-0.5 bg-indigo-600 text-white text-[9px] font-bold rounded-full flex items-center gap-1",children:[a.jsx(Au,{className:"w-2.5 h-2.5"}),"Marked"]})]}),a.jsx("p",{className:"text-[10px] text-slate-400",children:new Date(F.timestamp).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})}),(F.markedFor||[]).length>0&&a.jsxs("p",{className:"text-[10px] text-indigo-600 mt-1",children:["Marked for: ",Hr.filter(Ne=>(F.markedFor||[]).includes(Ne.id)).map(Ne=>Ne.name).join(", ")||"Unknown"]})]})]}),ue&&a.jsx("button",{onClick:()=>k?.id&&Qn(k.id,F.id),disabled:Ee===F.id,className:"p-2 hover:bg-red-50 rounded-lg transition-colors group disabled:opacity-50",title:"Delete note",children:Ee===F.id?a.jsx(Et,{className:"w-4 h-4 text-red-600 animate-spin"}):a.jsx($r,{className:"w-4 h-4 text-slate-400 group-hover:text-red-600 transition-colors"})})]}),F.message&&a.jsx("div",{className:"text-sm text-slate-700 leading-relaxed pl-10 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:F.message}}),F.imageUrl&&a.jsx("div",{className:"pl-10",children:a.jsxs("button",{type:"button",onClick:()=>ya({isOpen:!0,imageUrl:F.imageUrl,imageName:F.imageName}),className:"inline-flex items-center gap-2 px-3 py-2 bg-slate-50 hover:bg-slate-100 border border-slate-200 rounded-lg transition-colors group",children:[a.jsx(tl,{className:"w-4 h-4 text-slate-500 group-hover:text-indigo-600 transition-colors"}),a.jsx("span",{className:"text-xs font-medium text-slate-700 group-hover:text-indigo-600 transition-colors",children:F.imageName||"View Attachment"})]})})]},F.id)}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(oo,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),a.jsx("p",{className:"text-sm text-slate-400 font-medium",children:"No notes yet"}),a.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Add your first note above"})]})})]})]})]}):a.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center py-16 text-center px-6",children:[a.jsx(li,{className:"w-12 h-12 text-slate-300 mb-3"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Select an email to read"})]})})]}),Zn.isOpen&&a.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/90 backdrop-blur-sm animate-in fade-in duration-300",onClick:()=>ya({isOpen:!1,imageUrl:"",imageName:void 0}),children:a.jsxs("div",{className:"relative max-w-7xl max-h-[90vh] w-full h-full flex items-center justify-center",children:[a.jsx("button",{onClick:()=>ya({isOpen:!1,imageUrl:"",imageName:void 0}),className:"absolute top-4 right-4 p-3 bg-white/10 hover:bg-white/20 rounded-full text-white transition-colors backdrop-blur-sm z-10",children:a.jsx(mr,{className:"w-6 h-6"})}),a.jsx("img",{src:Zn.imageUrl,alt:Zn.imageName||"Note attachment",className:"max-w-full max-h-full object-contain rounded-2xl shadow-2xl",onClick:F=>F.stopPropagation()}),Zn.imageName&&a.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 px-4 py-2 bg-white/90 backdrop-blur-sm rounded-lg",children:a.jsx("p",{className:"text-sm font-medium text-slate-900",children:Zn.imageName})})]})}),ss&&a.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/90 backdrop-blur-sm animate-in fade-in duration-300",onClick:()=>{$n(!1),jn("")},children:a.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-md",onClick:F=>F.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200",children:[a.jsxs("h2",{className:"text-xl font-bold text-slate-900 flex items-center gap-2",children:[a.jsx(xi,{className:"w-5 h-5 text-indigo-500"}),"Save as Template"]}),a.jsx("button",{onClick:()=>{$n(!1),jn("")},className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:a.jsx(mr,{className:"w-5 h-5 text-slate-500"})})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Template Name"}),a.jsx("input",{type:"text",value:fs,onChange:F=>jn(F.target.value),onKeyDown:F=>{F.key==="Enter"&&(F.preventDefault(),Zi())},placeholder:"Enter template name...",className:"w-full px-4 py-3 border-2 border-slate-200 rounded-lg focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none transition-all text-sm",autoFocus:!0})]}),a.jsxs("div",{className:"flex items-center gap-3 justify-end",children:[a.jsx("button",{onClick:()=>{$n(!1),jn("")},className:"px-4 py-2 text-slate-600 text-sm font-medium rounded-lg hover:bg-slate-100 transition-colors",children:"Cancel"}),a.jsxs("button",{onClick:Zi,disabled:!fs||!fs.trim(),className:"px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[a.jsx(_n,{className:"w-4 h-4"}),"Save Template"]})]})]})]})}),br&&a.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/90 backdrop-blur-sm animate-in fade-in duration-300",onClick:()=>Dr(!1),children:a.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col",onClick:F=>F.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200",children:[a.jsxs("h2",{className:"text-xl font-bold text-slate-900 flex items-center gap-2",children:[a.jsx(xi,{className:"w-5 h-5 text-indigo-500"}),"Email Response Templates"]}),a.jsx("button",{onClick:()=>Dr(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:a.jsx(mr,{className:"w-5 h-5 text-slate-500"})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:Qr.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(xi,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"No templates yet. Create one by saving a draft!"})]}):a.jsx("div",{className:"space-y-3",children:Qr.map(F=>a.jsx("div",{className:"p-4 border border-slate-200 rounded-lg hover:border-indigo-300 hover:bg-indigo-50/30 transition-all cursor-pointer group",onClick:ue=>{ue.preventDefault(),ue.stopPropagation(),k&&F.content&&(dt(F.content),Dr(!1),t("Template loaded"))},children:a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:F.name}),a.jsxs("p",{className:"text-xs text-slate-500 line-clamp-2",children:[F.content?.replace(/<[^>]*>/g,"").substring(0,100),"..."]}),a.jsxs("p",{className:"text-[10px] text-slate-400 mt-2",children:["Created ",new Date(F.createdAt).toLocaleDateString()]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:ue=>{ue.preventDefault(),ue.stopPropagation(),k&&F.content&&(dt(F.content),Dr(!1),t("Template loaded"))},className:"px-3 py-1.5 bg-indigo-600 text-white text-xs font-medium rounded-lg hover:bg-indigo-700 transition-colors opacity-0 group-hover:opacity-100",children:"Use"}),a.jsx("button",{onClick:async ue=>{ue.preventDefault(),ue.stopPropagation(),df(F.id)},className:"p-2 hover:bg-red-50 rounded-lg transition-colors opacity-0 group-hover:opacity-100",children:a.jsx($r,{className:"w-4 h-4 text-slate-400 hover:text-red-600"})})]})]})},F.id))})})]})}),c0&&a.jsxs("div",{className:"fixed inset-0 z-[250] overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md pointer-events-auto animate-in fade-in duration-300",onClick:()=>df(null)}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4 pointer-events-none",children:a.jsxs("div",{className:"bg-white rounded-[28px] shadow-2xl max-w-md w-full pointer-events-auto animate-in zoom-in-95 duration-300 overflow-hidden",children:[a.jsxs("div",{className:"p-8 text-center",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-red-100 flex items-center justify-center text-red-600 mx-auto mb-6",children:a.jsx(pa,{className:"w-8 h-8"})}),a.jsx("h2",{className:"text-2xl font-black text-slate-900 mb-3",children:"Delete Template?"}),a.jsx("p",{className:"text-sm text-slate-600 mb-6",children:"Are you sure you want to delete this template? This action cannot be undone."})]}),a.jsxs("div",{className:"p-6 flex gap-3 bg-slate-50 border-t border-slate-100",children:[a.jsx("button",{onClick:()=>df(null),className:"flex-1 px-4 py-2.5 text-sm font-semibold text-slate-700 bg-white border border-slate-300 rounded-xl hover:bg-slate-50 transition-colors",children:"Cancel"}),a.jsx("button",{onClick:async()=>{const F=c0;df(null);try{await Qne(F,s),t("Template deleted"),No()}catch(ue){const Ne=ue?.message||"Failed to delete template";console.error("[INBOX] Error deleting template:",Ne),r(Ne)}},className:"flex-1 px-4 py-2.5 text-sm font-semibold text-white bg-red-600 rounded-xl hover:bg-red-700 transition-colors",children:"Delete"})]})]})})]}),bd&&a.jsxs("div",{className:"fixed inset-0 z-[250] overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md pointer-events-auto animate-in fade-in duration-300",onClick:()=>xo(!1)}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4 pointer-events-none",children:a.jsxs("div",{className:"bg-white rounded-[28px] shadow-2xl max-w-2xl w-full max-h-[80vh] flex flex-col pointer-events-auto animate-in zoom-in-95 duration-300 overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200",children:[a.jsxs("h2",{className:"text-xl font-bold text-slate-900 flex items-center gap-2",children:[a.jsx(Wl,{className:"w-5 h-5 text-blue-600"}),"Attach from Google Drive"]}),a.jsx("button",{onClick:()=>xo(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:a.jsx(mr,{className:"w-5 h-5 text-slate-500"})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"text",value:Ei,onChange:F=>pl(F.target.value),onKeyDown:F=>{F.key==="Enter"&&Rn(Ei)},placeholder:"Search Drive files...",className:"flex-1 px-4 py-2 border border-slate-200 rounded-lg text-sm focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none"}),a.jsx("button",{onClick:()=>Rn(Ei),disabled:Bs,className:"px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50",children:Bs?a.jsx(Et,{className:"w-4 h-4 animate-spin"}):"Search"})]}),Bs&&Ml.length===0?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Et,{className:"w-8 h-8 animate-spin text-indigo-600"})}):Ml.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Wl,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),a.jsx("p",{className:"text-sm text-slate-500",children:"No files found"})]}):a.jsx("div",{className:"space-y-2",children:Ml.map(F=>a.jsxs("button",{onClick:()=>ei(F),className:"w-full flex items-center gap-3 p-3 bg-white border border-slate-200 rounded-lg hover:border-indigo-300 hover:bg-indigo-50/30 transition-all text-left",children:[F.iconLink?a.jsx("img",{src:F.iconLink,alt:F.name,className:"w-8 h-8"}):a.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center text-blue-600",children:a.jsx(Wl,{className:"w-4 h-4"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-slate-900 truncate",children:F.name}),a.jsxs("p",{className:"text-xs text-slate-500",children:[F.size?_a(F.size):"Drive file","  ",F.mimeType||"Unknown type"]})]}),a.jsx("button",{onClick:ue=>{ue.stopPropagation(),F.webViewLink&&window.open(F.webViewLink,"_blank")},className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",title:"Open in Drive",children:a.jsx(vi,{className:"w-4 h-4 text-slate-400"})})]},F.id))}),ml&&a.jsx("div",{className:"flex justify-center pt-4",children:a.jsx("button",{onClick:()=>Rn(Ei,ml),disabled:Bs,className:"px-4 py-2 text-sm font-medium text-indigo-600 hover:text-indigo-700 disabled:opacity-50",children:Bs?"Loading...":"Load More"})})]})]})})]}),Kp&&a.jsxs("div",{className:"fixed inset-0 z-[250] overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md pointer-events-auto animate-in fade-in duration-300",onClick:()=>Zc(!1)}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4 pointer-events-none",children:a.jsxs("div",{className:"bg-white rounded-[28px] shadow-2xl max-w-md w-full pointer-events-auto animate-in zoom-in-95 duration-300 overflow-hidden",children:[a.jsxs("div",{className:"p-8 text-center",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-amber-100 flex items-center justify-center text-amber-600 mx-auto mb-6",children:a.jsx(pa,{className:"w-8 h-8"})}),a.jsx("h2",{className:"text-2xl font-black text-slate-900 mb-3",children:"Discard Email?"}),a.jsx("p",{className:"text-sm text-slate-600 mb-6",children:"Are you sure you want to discard this email? All unsaved changes will be lost."})]}),a.jsxs("div",{className:"p-6 flex gap-3 bg-slate-50 border-t border-slate-100",children:[a.jsx("button",{onClick:()=>Zc(!1),className:"flex-1 px-4 py-2.5 text-sm font-semibold text-slate-700 bg-white border border-slate-300 rounded-xl hover:bg-slate-50 transition-colors",children:"Cancel"}),a.jsx("button",{onClick:()=>{Zc(!1),la(!1),zn([]),ka([]),is([]),Ai(""),Ss(""),Rs(""),ls(""),Vi("")},className:"flex-1 px-4 py-2.5 text-sm font-semibold text-white bg-amber-600 rounded-xl hover:bg-amber-700 transition-colors",children:"Discard"})]})]})})]}),pn&&a.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/90 backdrop-blur-sm animate-in fade-in duration-300",onClick:()=>{Zc(!0)},children:a.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col",onClick:F=>F.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200",children:[a.jsx("h2",{className:"text-xl font-bold text-slate-900",children:yn==="compose"?"Compose Email":yn==="reply"?"Reply":yn==="replyAll"?"Reply All":"Forward"}),a.jsx("button",{onClick:()=>{Zc(!0)},className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:a.jsx(mr,{className:"w-5 h-5 text-slate-500"})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[Ut.length>1&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"From"}),a.jsx("select",{value:_s,onChange:F=>mo(F.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none",children:Ut.filter((F,ue,Ne)=>Ne.findIndex(He=>He.email===F.email&&He.userId===F.userId)===ue).map((F,ue)=>a.jsxs("option",{value:F.email,children:[F.email," ",F.isCurrentUser?"(You)":`(${F.ownerName})`]},`${F.email}-${F.userId}-${ue}`))})]}),Ut.length===0&&a.jsx("div",{className:"p-3 bg-amber-50 border border-amber-200 rounded-lg text-xs text-amber-700",children:"No Gmail accounts connected. Please connect a Gmail account to send emails."}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:["To ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"flex flex-wrap gap-2 p-2 border border-slate-200 rounded-lg min-h-[40px] focus-within:border-indigo-500 focus-within:ring-2 focus-within:ring-indigo-200",children:[nn.map((F,ue)=>a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-indigo-50 text-indigo-700 text-xs font-medium rounded",children:[F,a.jsx("button",{type:"button",onClick:()=>zn(nn.filter((Ne,He)=>He!==ue)),className:"hover:text-indigo-900",children:a.jsx(mr,{className:"w-3 h-3"})})]},ue)),a.jsx("input",{type:"text",value:$o,onChange:F=>{const ue=F.target.value;if(Rs(ue),ue.length>0){const Ne=ic.filter(He=>He.email?.toLowerCase().includes(ue.toLowerCase())||He.name?.toLowerCase().includes(ue.toLowerCase())).slice(0,5);Dl(Ne),di(!0)}else di(!1)},onKeyDown:F=>{if(F.key==="Enter"&&$o.trim()){F.preventDefault();const ue=$o.trim();/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(ue)&&!nn.includes(ue)&&(zn([...nn,ue]),Rs(""),di(!1))}else if(F.key==="Backspace"&&$o===""&&nn.length>0)zn(nn.slice(0,-1));else if(F.key==="ArrowDown"&&Ll)F.preventDefault(),fl(ue=>Math.min(ue+1,Gi.length-1));else if(F.key==="ArrowUp"&&Ll)F.preventDefault(),fl(ue=>Math.max(ue-1,0));else if(F.key==="Enter"&&Ll&&Gi[Mn]){F.preventDefault();const ue=Gi[Mn];ue.email&&!nn.includes(ue.email)&&(zn([...nn,ue.email]),Rs(""),di(!1))}else if(F.key===","||F.key===";"){F.preventDefault();const ue=$o.trim().replace(/[,;]$/,"");/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(ue)&&!nn.includes(ue)&&(zn([...nn,ue]),Rs(""),di(!1))}},onBlur:()=>{const F=$o.trim();/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(F)&&!nn.includes(F)&&(zn([...nn,F]),Rs(""),di(!1))},placeholder:nn.length===0?"Recipients":"",className:"flex-1 min-w-[120px] border-0 outline-none text-sm"})]}),Ll&&Gi.length>0&&a.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-slate-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:Gi.map((F,ue)=>a.jsxs("button",{type:"button",onClick:()=>{F.email&&!nn.includes(F.email)&&(zn([...nn,F.email]),Rs(""),di(!1))},className:`w-full text-left px-3 py-2 hover:bg-indigo-50 text-sm ${ue===Mn?"bg-indigo-50":""}`,children:[a.jsx("div",{className:"font-medium text-slate-900",children:F.name}),a.jsx("div",{className:"text-xs text-slate-500",children:F.email})]},F.id))})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("label",{className:"block text-xs font-medium text-slate-700",children:"Cc"}),a.jsxs("button",{type:"button",onClick:()=>As(!Mu),className:"text-xs text-indigo-600 hover:text-indigo-700",children:[Mu?"Hide":"Show"," Cc"]})]}),Mu&&a.jsx("div",{className:"relative",children:a.jsxs("div",{className:"flex flex-wrap gap-2 p-2 border border-slate-200 rounded-lg min-h-[40px]",children:[ea.map((F,ue)=>a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-slate-50 text-slate-700 text-xs font-medium rounded",children:[F,a.jsx("button",{type:"button",onClick:()=>ka(ea.filter((Ne,He)=>He!==ue)),className:"hover:text-slate-900",children:a.jsx(mr,{className:"w-3 h-3"})})]},ue)),a.jsx("input",{type:"text",value:Wi,onChange:F=>{ls(F.target.value)},onKeyDown:F=>{if(F.key==="Enter"&&Wi.trim()){F.preventDefault();const ue=Wi.trim();/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(ue)&&!ea.includes(ue)&&(ka([...ea,ue]),ls(""))}else if(F.key==="Backspace"&&Wi===""&&ea.length>0)ka(ea.slice(0,-1));else if(F.key===","||F.key===";"){F.preventDefault();const ue=Wi.trim().replace(/[,;]$/,"");/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(ue)&&!ea.includes(ue)&&(ka([...ea,ue]),ls(""))}},onBlur:()=>{const F=Wi.trim();/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(F)&&!ea.includes(F)&&(ka([...ea,F]),ls(""))},placeholder:ea.length===0?"Cc":"",className:"flex-1 min-w-[120px] border-0 outline-none text-sm"})]})})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("label",{className:"block text-xs font-medium text-slate-700",children:"Bcc"}),a.jsxs("button",{type:"button",onClick:()=>cc(!lc),className:"text-xs text-indigo-600 hover:text-indigo-700",children:[lc?"Hide":"Show"," Bcc"]})]}),lc&&a.jsxs("div",{className:"flex flex-wrap gap-2 p-2 border border-slate-200 rounded-lg min-h-[40px]",children:[Yn.map((F,ue)=>a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-slate-50 text-slate-700 text-xs font-medium rounded",children:[F,a.jsx("button",{type:"button",onClick:()=>is(Yn.filter((Ne,He)=>He!==ue)),className:"hover:text-slate-900",children:a.jsx(mr,{className:"w-3 h-3"})})]},ue)),a.jsx("input",{type:"text",value:Ya,onChange:F=>{Vi(F.target.value)},onKeyDown:F=>{if(F.key==="Enter"&&Ya.trim()){F.preventDefault();const ue=Ya.trim();/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(ue)&&!Yn.includes(ue)&&(is([...Yn,ue]),Vi(""))}else if(F.key==="Backspace"&&Ya===""&&Yn.length>0)is(Yn.slice(0,-1));else if(F.key===","||F.key===";"){F.preventDefault();const ue=Ya.trim().replace(/[,;]$/,"");/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(ue)&&!Yn.includes(ue)&&(is([...Yn,ue]),Vi(""))}},onBlur:()=>{const F=Ya.trim();/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(F)&&!Yn.includes(F)&&(is([...Yn,F]),Vi(""))},placeholder:Yn.length===0?"Bcc":"",className:"flex-1 min-w-[120px] border-0 outline-none text-sm"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:["Subject ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:Ua,onChange:F=>Ai(F.target.value),placeholder:"Subject",className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none"})]}),Qr.length>0&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Template"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("select",{value:ff||"",onChange:F=>{const ue=F.target.value||null;if(qu(ue),ue){const Ne=Qr.find(He=>He.id===ue);Ne?.content&&(Ss(Ne.content),t("Template loaded"))}},className:"flex-1 px-3 py-2 border border-slate-200 rounded-lg text-sm focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none",children:[a.jsx("option",{value:"",children:"No template"}),Qr.map(F=>a.jsx("option",{value:F.id,children:F.name},F.id))]}),a.jsx("button",{type:"button",onClick:()=>Dr(!0),className:"px-3 py-2 border border-slate-200 rounded-lg text-sm text-slate-600 hover:bg-slate-50 flex items-center gap-1",title:"Manage templates",children:a.jsx(xi,{className:"w-4 h-4"})})]})]}),yn==="compose"&&a.jsxs("div",{children:[a.jsxs("button",{type:"button",onClick:()=>{eu(!fc),!fc&&!tu&&Ua&&nn.length>0&&_d()},className:"w-full px-4 py-2.5 border-2 border-dashed border-indigo-200 rounded-lg text-sm font-medium text-indigo-600 hover:border-indigo-300 hover:bg-indigo-50/30 transition-all flex items-center justify-center gap-2",children:[a.jsx(xi,{className:"w-4 h-4"}),fc?"Hide AI Suggestions":"Get AI Draft Suggestions"]}),fc&&a.jsx("div",{className:"mt-3 p-4 bg-indigo-50 border border-indigo-200 rounded-lg",children:xh?a.jsxs("div",{className:"flex items-center gap-2 text-sm text-indigo-700",children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Generating AI draft..."]}):tu?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsx("p",{className:"text-xs font-medium text-indigo-900",children:"AI Draft Suggestion:"}),a.jsx("button",{type:"button",onClick:_d,className:"text-xs text-indigo-600 hover:text-indigo-700",children:"Regenerate"})]}),a.jsx("div",{className:"p-3 bg-white border border-indigo-200 rounded-lg text-sm text-slate-700 max-h-48 overflow-y-auto",children:a.jsx("div",{dangerouslySetInnerHTML:{__html:tu}})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{type:"button",onClick:()=>{Ss(tu||""),t("AI draft inserted")},className:"flex-1 px-3 py-2 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700 transition-colors",children:"Use This Draft"}),a.jsx("button",{type:"button",onClick:()=>{const F=tu?.replace(/<[^>]+>/g,"")||"";navigator.clipboard.writeText(F),t("Draft copied to clipboard")},className:"px-3 py-2 border border-indigo-300 text-indigo-600 text-sm font-medium rounded-lg hover:bg-indigo-50 transition-colors",children:"Copy"})]})]}):a.jsx("p",{className:"text-xs text-indigo-600",children:"Enter a subject and recipient to generate AI draft suggestions."})})]}),Il.length>0&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Signature"}),a.jsxs("select",{value:Il.find(F=>F.content===ca)?.id||"",onChange:F=>{const ue=Il.find(Ne=>Ne.id===F.target.value);Xc(ue?.content||"")},className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none",children:[a.jsx("option",{value:"",children:"No signature"}),Il.map(F=>a.jsxs("option",{value:F.id,children:[F.name," ",F.isDefault?"(Default)":""]},F.id))]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:["Message ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"quill-wrapper",children:[a.jsx("style",{children:`
                    .quill-wrapper .ql-container {
                      border-bottom-left-radius: 0.75rem;
                      border-bottom-right-radius: 0.75rem;
                      font-size: 0.875rem;
                      min-height: 300px;
                    }
                    .quill-wrapper .ql-toolbar {
                      border-top-left-radius: 0.75rem;
                      border-top-right-radius: 0.75rem;
                      border: none;
                      border-bottom: 2px solid #e2e8f0;
                      background: #f8fafc;
                    }
                    .quill-wrapper .ql-editor {
                      min-height: 300px;
                      padding: 1rem;
                    }
                    .quill-wrapper .ql-editor.ql-blank::before {
                      color: #94a3b8;
                      font-style: normal;
                      font-size: 0.875rem;
                    }
                    .quill-wrapper .ql-snow {
                      border: 2px solid #e2e8f0;
                      border-radius: 0.75rem;
                    }
                    .quill-wrapper:focus-within .ql-snow {
                      border-color: #818cf8;
                      box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.1);
                    }
                  `}),a.jsx(Uv,{ref:F=>{Sd.current=F},theme:"snow",value:os,onChange:F=>{Ss(F)},modules:Aa,formats:Ga,placeholder:"Compose your message..."})]}),ca&&a.jsxs("div",{className:"mt-2 p-3 bg-slate-50 border border-slate-200 rounded-lg text-sm",children:[a.jsx("div",{className:"text-xs text-slate-500 mb-1",children:"Signature:"}),a.jsx("div",{dangerouslySetInnerHTML:{__html:ca}})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-2",children:"Attachments"}),a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsxs("label",{className:"flex-1 flex items-center gap-3 p-3 bg-slate-50 border-2 border-dashed border-slate-200 rounded-lg cursor-pointer hover:border-indigo-300 hover:bg-indigo-50/30 transition-all",children:[a.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center text-indigo-600",children:a.jsx(Th,{className:"w-4 h-4"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-xs font-medium text-slate-900",children:"Add Attachment"}),a.jsx("p",{className:"text-[10px] text-slate-400",children:"Max 25MB per file"})]}),a.jsx("input",{ref:Fl,type:"file",multiple:!0,onChange:ps,className:"hidden"})]}),a.jsxs("button",{type:"button",onClick:()=>{xo(!0),pl(""),Rn()},className:"px-4 py-3 bg-white border-2 border-slate-200 rounded-lg hover:border-indigo-300 hover:bg-indigo-50/30 transition-all flex items-center gap-2",title:"Attach from Google Drive",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center text-blue-600",children:a.jsx(Wl,{className:"w-4 h-4"})}),a.jsx("span",{className:"text-xs font-medium text-slate-900 hidden sm:inline",children:"Drive"})]})]}),Vn.length>0&&a.jsx("div",{className:"mt-3 space-y-2",children:Vn.map(F=>a.jsxs("div",{className:`flex items-center gap-3 p-3 border rounded-lg ${F.isDriveFile?"bg-blue-50/30 border-blue-200":"bg-slate-50 border-slate-200"}`,children:[F.isDriveFile&&F.driveIconLink?a.jsx("img",{src:F.driveIconLink,alt:"Drive file",className:"w-8 h-8"}):a.jsx("div",{className:`p-2 rounded-lg ${Qa(F.file.type)?"bg-blue-50 text-blue-600":va(F.file.type)?"bg-red-50 text-red-600":"bg-slate-100 text-slate-600"}`,children:Qa(F.file.type)?a.jsx(tl,{className:"w-4 h-4"}):va(F.file.type)?a.jsx(Wl,{className:"w-4 h-4"}):a.jsx(Th,{className:"w-4 h-4"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"text-sm font-medium text-slate-900 truncate",children:F.file.name}),F.isDriveFile&&a.jsx("span",{className:"px-1.5 py-0.5 bg-blue-100 text-blue-600 text-[9px] font-bold rounded",children:"Drive"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"text-xs text-slate-500",children:F.isDriveFile?"Google Drive file":`${_a(F.file.size)}  ${F.file.type}`}),pf[F.id]!==void 0&&pf[F.id]<100&&a.jsxs("div",{className:"flex-1 max-w-[100px]",children:[a.jsx("div",{className:"h-1.5 bg-slate-200 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-indigo-600 transition-all duration-300",style:{width:`${pf[F.id]}%`}})}),a.jsxs("p",{className:"text-[10px] text-slate-400 mt-0.5",children:[pf[F.id],"%"]})]})]})]}),F.isDriveFile&&F.driveWebViewLink&&a.jsx("a",{href:F.driveWebViewLink,target:"_blank",rel:"noopener noreferrer",className:"p-2 rounded-lg hover:bg-blue-100 text-blue-600 transition-colors",title:"Open in Drive",children:a.jsx(vi,{className:"w-4 h-4"})}),F.preview&&!F.isDriveFile&&a.jsx("button",{type:"button",onClick:()=>{Da({isOpen:!0,emailId:"",attachmentId:F.id,filename:F.file.name,mimeType:F.file.type,url:F.preview})},className:"p-2 rounded-lg hover:bg-slate-200 text-slate-600 transition-colors",title:"Preview",children:a.jsx(Ud,{className:"w-4 h-4"})}),a.jsx("button",{type:"button",onClick:()=>ti(F.id),className:"p-2 rounded-lg hover:bg-red-50 text-red-600 transition-colors",title:"Remove",children:a.jsx(mr,{className:"w-4 h-4"})})]},F.id))})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-slate-200",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{type:"button",onClick:()=>{Zc(!0)},className:"px-4 py-2 text-slate-600 text-sm font-medium rounded-lg hover:bg-slate-100 transition-colors",children:"Cancel"}),yn==="compose"&&a.jsxs("button",{type:"button",onClick:async()=>{pc(!0),await ms()},className:"px-4 py-2 border border-slate-200 text-slate-600 text-sm font-medium rounded-lg hover:bg-slate-50 transition-colors flex items-center gap-2",children:[a.jsx(Wl,{className:"w-4 h-4"}),"Load Drafts"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{type:"button",onClick:qa,disabled:mf||!Ua||!os,className:"px-4 py-2 border border-slate-200 text-slate-600 text-sm font-medium rounded-lg hover:bg-slate-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:mf?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Wl,{className:"w-4 h-4"}),"Save Draft"]})}),yn==="compose"&&a.jsxs("button",{type:"button",onClick:()=>{if(!nn.length||!Ua||!os){r("Please fill in all required fields (To, Subject, Message)");return}Us(!0)},className:"px-4 py-2 border border-indigo-200 text-indigo-600 text-sm font-medium rounded-lg hover:bg-indigo-50 transition-colors flex items-center gap-2",children:[a.jsx(ws,{className:"w-4 h-4"}),"Schedule"]}),yn==="compose"&&a.jsxs("button",{type:"button",onClick:async()=>{if(!s||nn.length===0||!Ua||!os){r("Please fill in all required fields (To, Subject, Message)");return}const F=os.replace(/<[^>]+>/g," ").toLowerCase(),ue=`${Ua} ${F}`,Ne=[/(\d{1,2}\/\d{1,2}\/\d{2,4})/g,/(\d{1,2}-\d{1,2}-\d{2,4})/g,/(january|february|march|april|may|june|july|august|september|october|november|december)\s+\d{1,2},?\s+\d{2,4}/gi,/(monday|tuesday|wednesday|thursday|friday|saturday|sunday),?\s+(january|february|march|april|may|june|july|august|september|october|november|december)\s+\d{1,2}/gi,/(today|tomorrow|next\s+(monday|tuesday|wednesday|thursday|friday|saturday|sunday))/gi];let He;for(const qr of Ne){const fn=ue.match(qr);if(fn){He=fn[0];break}}const ft=[/\b(\d{1,2}):(\d{2})\s*(am|pm)\b/gi,/\b(\d{1,2}):(\d{2})\b/gi,/\b(\d{1,2})\s*(am|pm)\b/gi];let sr;for(const qr of ft){const fn=ue.match(qr);if(fn){sr=fn[0];break}}const Nt=[/(?:location|where|venue|address|place|at):\s*([^\n,]+)/gi,/(?:meeting|call|conference)\s+(?:at|in|on)\s+([^\n,]+)/gi,/(?:zoom|meet|teams|webex|skype|google\s+meet)[\s:]+([^\s\n]+)/gi];let Zt;for(const qr of Nt){const fn=ue.match(qr);if(fn&&fn[1]){Zt=fn[1].trim();break}}Br({title:Ua,date:He,time:sr,location:Zt,participants:nn,description:os.substring(0,500)}),sn(null),Gt(!0)},disabled:Ze||!s||nn.length===0||!Ua,className:"px-4 py-2 bg-indigo-50 text-indigo-600 text-sm font-medium rounded-lg hover:bg-indigo-100 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",title:"Schedule a meeting",children:[Ze?a.jsx(Et,{className:"w-4 h-4 animate-spin"}):a.jsx(Ha,{className:"w-4 h-4"}),"Schedule Meeting"]}),c?a.jsx("button",{type:"button",onClick:async()=>{if(!s||nn.length===0||!Ua||!os){r("Please fill in all required fields (To, Subject, Message)");return}dl(!0);try{let F=os;ca&&(F+=`<br><br>${ca}`);const ue=await Promise.all(Vn.filter(He=>!He.isDriveFile).map(async He=>new Promise((ft,sr)=>{const Nt=new FileReader;Nt.onload=()=>{const Zt=Nt.result.split(",")[1];ft({filename:He.file.name,content:Zt,type:He.file.type})},Nt.onerror=sr,Nt.readAsDataURL(He.file)}))),Ne=Vn.filter(He=>He.isDriveFile&&He.driveWebViewLink);if(Ne.length>0&&yn==="compose"){let He='<br><br><div style="border-top: 1px solid #e2e8f0; padding-top: 12px; margin-top: 12px;"><p style="font-size: 12px; color: #64748b; margin-bottom: 8px;"><strong>Attached from Google Drive:</strong></p><ul style="margin: 0; padding-left: 20px;">';Ne.forEach(ft=>{He+=`<li style="margin-bottom: 4px;"><a href="${ft.driveWebViewLink}" target="_blank" style="color: #4f46e5; text-decoration: none;">${ft.file.name}</a></li>`}),He+="</ul></div>",F+=He}if(yn==="reply"||yn==="replyAll")await eae({emailId:k?.id||"",userId:s,accountEmail:_s||Ut[0]?.email,body:F,replyAll:yn==="replyAll",attachments:ue.length>0?ue:void 0}),t("Reply sent successfully");else if(yn==="forward")await tae({emailId:k?.id||"",userId:s,accountEmail:_s||Ut[0]?.email,to:nn,cc:ea.length>0?ea:void 0,bcc:Yn.length>0?Yn:void 0,body:F,attachments:ue.length>0?ue:void 0}),t("Email forwarded successfully");else{const ft=(await Zne({userId:s,accountEmail:_s||Ut[0]?.email,to:nn,cc:ea.length>0?ea:void 0,bcc:Yn.length>0?Yn:void 0,subject:Ua,body:F,attachments:ue.length>0?ue:void 0}))?.data?.id;if(ft){const sr=Vn.filter(Nt=>Nt.isDriveFile&&Nt.driveFileId);for(const Nt of sr)try{await VP({userId:s,emailId:ft,fileId:Nt.driveFileId,fileName:Nt.file.name,fileMimeType:Nt.file.type,webViewLink:Nt.driveWebViewLink,webContentLink:void 0,iconLink:Nt.driveIconLink})}catch(Zt){console.error("Failed to attach Drive file:",Zt)}}t("Email sent successfully")}Vn.forEach(He=>{He.preview&&URL.revokeObjectURL(He.preview)}),la(!1),zn([]),ka([]),is([]),Ai(""),Ss(""),Es([]),Rs(""),ls(""),Vi(""),xo(!1),await M()}catch(F){const ue=g(F,"Failed to send email");r(ue)}finally{dl(!1)}},disabled:oc||nn.length===0||!Ua||!os||Ut.length===0,className:"px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:oc?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Sending..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Nu,{className:"w-4 h-4"}),yn==="reply"||yn==="replyAll"?"Send Reply":yn==="forward"?"Forward":"Send"]})}):a.jsxs("div",{className:"px-4 py-2 bg-slate-100 text-slate-500 text-sm font-medium rounded-lg flex items-center gap-2",title:"You don't have permission to send emails. Contact an admin.",children:[a.jsx(Nu,{className:"w-4 h-4"}),"Send (Admin Only)"]})]})]})]})}),en?.isOpen&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:a.jsxs("div",{className:"relative w-full h-full max-w-7xl max-h-[90vh] m-4 flex flex-col bg-white rounded-lg shadow-xl",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[(Qa(en.mimeType)||va(en.mimeType))&&a.jsx(tl,{className:"w-5 h-5 text-indigo-600"}),a.jsx("h3",{className:"text-lg font-semibold text-slate-900 truncate",children:en.filename})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>{en.url&&window.URL.revokeObjectURL(en.url),Da(null)},className:"p-2 rounded-lg hover:bg-slate-100 text-slate-600 transition-colors",title:"Close",children:a.jsx(mr,{className:"w-5 h-5"})}),a.jsxs("button",{onClick:()=>{k&&en.url&&Xr(en.emailId,en.attachmentId,en.filename)},className:"px-3 py-2 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700 transition-colors flex items-center gap-2",title:"Download",children:[a.jsx(L0,{className:"w-4 h-4"}),"Download"]})]})]}),a.jsx("div",{className:"flex-1 overflow-auto p-4 flex items-center justify-center bg-slate-50",children:en.url?Qa(en.mimeType)?a.jsx("img",{src:en.url,alt:en.filename,className:"max-w-full max-h-full object-contain rounded-lg"}):va(en.mimeType)?a.jsx("iframe",{src:en.url,className:"w-full h-full min-h-[600px] rounded-lg border border-slate-200",title:en.filename}):a.jsxs("div",{className:"text-center text-slate-500",children:[a.jsx(Wl,{className:"w-16 h-16 mx-auto mb-4 text-slate-400"}),a.jsx("p",{className:"text-sm",children:"Preview not available for this file type"}),a.jsx("button",{onClick:()=>{k&&Xr(en.emailId,en.attachmentId,en.filename)},className:"mt-4 px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700 transition-colors",children:"Download File"})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[a.jsx(Et,{className:"w-8 h-8 animate-spin text-indigo-600"}),a.jsx("p",{className:"text-sm text-slate-500",children:"Loading attachment..."})]})})]})}),Kr&&Sn&&a.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/90 backdrop-blur-sm animate-in fade-in duration-300",onClick:()=>{tn(!1),ba(null)},children:a.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-md max-h-[90vh] flex flex-col",onClick:F=>F.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200",children:[a.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Manage Labels"}),a.jsx("button",{onClick:()=>{tn(!1),ba(null)},className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:a.jsx(mr,{className:"w-5 h-5 text-slate-500"})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[Ut.length>0&&a.jsx("div",{className:"mb-4 pb-4 border-b border-slate-200",children:a.jsxs("button",{onClick:()=>po(!0),className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 bg-indigo-50 border-2 border-dashed border-indigo-200 text-indigo-600 text-sm font-medium rounded-lg hover:bg-indigo-100 hover:border-indigo-300 transition-colors",children:[a.jsx(_n,{className:"w-4 h-4"}),"Create New Label"]})}),Ce?a.jsxs("div",{className:"flex flex-col items-center justify-center py-8 gap-3",children:[a.jsx(Et,{className:"w-6 h-6 animate-spin text-indigo-600"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Loading labels"})]}):Rr.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("p",{className:"text-slate-500 text-sm mb-4",children:"No labels available. Connect Gmail and sync to see labels, or create one below."}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[a.jsxs("button",{type:"button",onClick:()=>je(!0),className:"inline-flex items-center gap-2 px-4 py-2 border border-slate-300 text-slate-700 text-sm font-medium rounded-lg hover:bg-slate-50 transition-colors",children:[a.jsx(sd,{className:"w-4 h-4"}),"Retry"]}),Ut.length>0&&a.jsxs("button",{onClick:()=>po(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700 transition-colors",children:[a.jsx(_n,{className:"w-4 h-4"}),"Create Your First Label"]})]})]}):a.jsx("div",{className:"space-y-2",children:Rr.map(F=>{const Ne=j.find(He=>He.id===Sn)?.labels?.includes(F.id)||!1;return a.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-lg hover:bg-slate-50 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:Ne,onChange:He=>{Sn&&(He.target.checked?tt(Sn,[F.id],[]):tt(Sn,[],[F.id]))},className:"w-4 h-4 text-indigo-600 border-slate-300 rounded focus:ring-indigo-500"}),a.jsx("span",{className:"flex-1 text-sm font-medium text-slate-900",children:F.name}),F.type==="system"&&a.jsx("span",{className:"px-2 py-0.5 text-xs font-medium text-slate-500 bg-slate-100 rounded",children:"System"})]},F.id)})})]})]})}),vd&&a.jsx("div",{className:"fixed inset-0 z-[250] flex items-center justify-center p-4 bg-slate-900/90 backdrop-blur-sm animate-in fade-in duration-300",onClick:()=>{po(!1),_i("")},children:a.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-md",onClick:F=>F.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200",children:[a.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Create New Label"}),a.jsx("button",{onClick:()=>{po(!1),_i(""),yd("")},className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:a.jsx(mr,{className:"w-5 h-5 text-slate-500"})})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Label Name"}),a.jsx("input",{type:"text",value:qo,onChange:F=>_i(F.target.value),placeholder:"e.g., Important, Follow-up, Project X",className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",onKeyDown:F=>{if(F.key==="Enter"&&qo.trim()&&(Gc||Ut.length>0)){const ue=Gc||Ut[0].email;Dt(qo.trim(),ue)}},autoFocus:!0})]}),Ut.length>0&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Gmail Account"}),a.jsx("select",{value:Gc||Ut[0].email,onChange:F=>yd(F.target.value),className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:Ut.map(F=>a.jsx("option",{value:F.email,children:F.email},F.email))})]}),a.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[a.jsx("button",{onClick:()=>{po(!1),_i(""),yd("")},className:"flex-1 px-4 py-2.5 border border-slate-300 text-slate-700 text-sm font-medium rounded-lg hover:bg-slate-50 transition-colors",children:"Cancel"}),a.jsx("button",{onClick:()=>{if(qo.trim()&&Ut.length>0){const F=Gc||Ut[0].email;Dt(qo.trim(),F)}},disabled:!qo.trim()||Tl||Ut.length===0,className:"flex-1 px-4 py-2.5 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:Tl?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Creating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(_n,{className:"w-4 h-4"}),"Create Label"]})})]})]})]})}),It&&s&&a.jsx(bve,{isOpen:It,onClose:()=>{Gt(!1),Br(null),sn(null)},userId:s,emailId:rn||void 0,emailSubject:Ua,emailBody:os,participants:nn,extractedDetails:yr||void 0,onCreateSuccess:()=>{rn&&k?.id===rn&&Iv(s,rn).then(F=>{F.success&&F.data&&W(F.data)}).catch(()=>{})}}),uf&&Ti&&k&&a.jsx("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full max-h-[80vh] flex flex-col",children:[a.jsxs("div",{className:"p-6 border-b border-slate-200 flex items-center justify-between",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900",children:["Link to ",Ti.charAt(0).toUpperCase()+Ti.slice(1)]}),a.jsx("button",{onClick:()=>{go(!1),Ho(null)},className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:a.jsx(mr,{className:"w-5 h-5 text-slate-500"})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[Ti==="contact"&&a.jsx("div",{className:"space-y-2",children:ic.map(F=>a.jsxs("button",{onClick:()=>Ye("contact",F.id),disabled:vl,className:"w-full text-left p-3 bg-slate-50 hover:bg-blue-50 rounded-lg border border-slate-200 hover:border-blue-300 transition-colors disabled:opacity-50",children:[a.jsx("p",{className:"font-medium text-slate-900",children:F.name}),a.jsx("p",{className:"text-xs text-slate-500",children:F.email})]},F.id))}),Ti==="company"&&a.jsx("div",{className:"space-y-2",children:Cs.map(F=>a.jsxs("button",{onClick:()=>Ye("company",F.id),disabled:vl,className:"w-full text-left p-3 bg-slate-50 hover:bg-green-50 rounded-lg border border-slate-200 hover:border-green-300 transition-colors disabled:opacity-50",children:[a.jsx("p",{className:"font-medium text-slate-900",children:F.name}),F.industry&&a.jsx("p",{className:"text-xs text-slate-500",children:F.industry})]},F.id))}),Ti==="deal"&&a.jsx("div",{className:"space-y-2",children:ua.map(F=>a.jsxs("button",{onClick:()=>Ye("deal",F.id),disabled:vl,className:"w-full text-left p-3 bg-slate-50 hover:bg-purple-50 rounded-lg border border-slate-200 hover:border-purple-300 transition-colors disabled:opacity-50",children:[a.jsx("p",{className:"font-medium text-slate-900",children:F.title||F.name}),F.stage&&a.jsx("p",{className:"text-xs text-slate-500",children:F.stage})]},F.id))}),Ti==="project"&&a.jsx("div",{className:"space-y-2",children:Fa.map(F=>a.jsxs("button",{onClick:()=>Ye("project",F.id),disabled:vl,className:"w-full text-left p-3 bg-slate-50 hover:bg-amber-50 rounded-lg border border-slate-200 hover:border-amber-300 transition-colors disabled:opacity-50",children:[a.jsx("p",{className:"font-medium text-slate-900",children:F.title||F.name}),F.status&&a.jsx("p",{className:"text-xs text-slate-500",children:F.status})]},F.id))}),Ti==="contract"&&a.jsx("div",{className:"space-y-2",children:zo.map(F=>a.jsxs("button",{onClick:()=>Ye("contract",F.id),disabled:vl,className:"w-full text-left p-3 bg-slate-50 hover:bg-red-50 rounded-lg border border-slate-200 hover:border-red-300 transition-colors disabled:opacity-50",children:[a.jsx("p",{className:"font-medium text-slate-900",children:F.title}),F.status&&a.jsx("p",{className:"text-xs text-slate-500",children:F.status})]},F.id))})]})]})}),Nd&&k&&a.jsx("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full flex flex-col",children:[a.jsxs("div",{className:"p-6 border-b border-slate-200 flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Create Task from Email"}),a.jsx("button",{onClick:()=>Qc(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:a.jsx(mr,{className:"w-5 h-5 text-slate-500"})})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Title"}),a.jsx("input",{type:"text",defaultValue:k.subject||"Task from Email",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",id:"task-title"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Priority"}),a.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",id:"task-priority",defaultValue:"Medium",children:[a.jsx("option",{value:"Low",children:"Low"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"High",children:"High"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Project (Optional)"}),a.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",id:"task-project",defaultValue:"",children:[a.jsx("option",{value:"",children:"None"}),Fa.map(F=>a.jsx("option",{value:F.id,children:F.title||F.name},F.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Assign To (Optional)"}),a.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",id:"task-assignee",defaultValue:"",children:[a.jsx("option",{value:"",children:"Unassigned"}),Hr.map(F=>a.jsx("option",{value:F.id,children:F.name||F.email},F.id))]})]}),a.jsx("button",{onClick:()=>{const F=document.getElementById("task-title"),ue=document.getElementById("task-priority"),Ne=document.getElementById("task-project"),He=document.getElementById("task-assignee");vt({title:F?.value,priority:ue?.value,projectId:Ne?.value||void 0,assigneeId:He?.value||void 0})},className:"w-full px-4 py-2 bg-indigo-600 text-white font-medium rounded-lg hover:bg-indigo-700 transition-colors",children:"Create Task"})]})]})}),vo&&a.jsx("div",{className:"fixed inset-0 z-[250] flex items-center justify-center p-4 bg-slate-900/90 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-md",onClick:F=>F.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200",children:[a.jsxs("h2",{className:"text-xl font-bold text-slate-900 flex items-center gap-2",children:[a.jsx(ws,{className:"w-5 h-5 text-indigo-500"}),"Schedule Send"]}),a.jsx("button",{onClick:()=>{Us(!1),Ul("")},className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:a.jsx(mr,{className:"w-5 h-5 text-slate-500"})})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Date & Time ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"datetime-local",value:yo,onChange:F=>Ul(F.target.value),min:new Date().toISOString().slice(0,16),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Timezone"}),a.jsxs("select",{value:qs,onChange:F=>Oi(F.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none",children:[a.jsx("option",{value:"America/New_York",children:"Eastern Time (ET)"}),a.jsx("option",{value:"America/Chicago",children:"Central Time (CT)"}),a.jsx("option",{value:"America/Denver",children:"Mountain Time (MT)"}),a.jsx("option",{value:"America/Los_Angeles",children:"Pacific Time (PT)"}),a.jsx("option",{value:"UTC",children:"UTC"}),a.jsxs("option",{value:Intl.DateTimeFormat().resolvedOptions().timeZone,children:[Intl.DateTimeFormat().resolvedOptions().timeZone," (Local)"]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 pt-4",children:[a.jsx("button",{onClick:()=>{Us(!1),Ul("")},className:"flex-1 px-4 py-2 border border-slate-200 text-slate-600 text-sm font-medium rounded-lg hover:bg-slate-50 transition-colors",children:"Cancel"}),a.jsx("button",{onClick:async()=>{if(!yo){r("Please select a date and time");return}if(!s||nn.length===0||!Ua||!os){r("Please fill in all required fields");return}try{const F=await Promise.all(Vn.filter(Ne=>!Ne.isDriveFile).map(async Ne=>new Promise((He,ft)=>{const sr=new FileReader;sr.onload=()=>{const Nt=sr.result.split(",")[1];He({filename:Ne.file.name,content:Nt,type:Ne.file.type})},sr.onerror=ft,sr.readAsDataURL(Ne.file)})));let ue=os;ca&&(ue+=`<br><br>${ca}`),await lae({userId:s,accountEmail:_s||Ut[0]?.email,to:nn,cc:ea.length>0?ea:void 0,bcc:Yn.length>0?Yn:void 0,subject:Ua,body:ue,scheduledDateTime:yo,timezone:qs,attachments:F.length>0?F:void 0}),t("Email scheduled successfully"),Us(!1),la(!1),zn([]),ka([]),is([]),Ai(""),Ss(""),Es([]),Ul("")}catch(F){const ue=g(F,"Failed to schedule email");r(ue)}},className:"flex-1 px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700 transition-colors",children:"Schedule Send"})]})]})]})}),nu&&a.jsx("div",{className:"fixed inset-0 z-[250] flex items-center justify-center p-4 bg-slate-900/90 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-3xl max-h-[80vh] flex flex-col",onClick:F=>F.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200",children:[a.jsxs("h2",{className:"text-xl font-bold text-slate-900 flex items-center gap-2",children:[a.jsx(Wl,{className:"w-5 h-5 text-indigo-500"}),"Gmail Drafts"]}),a.jsx("button",{onClick:()=>{pc(!1),d0([])},className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:a.jsx(mr,{className:"w-5 h-5 text-slate-500"})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:hc?a.jsxs("div",{className:"flex items-center justify-center py-12",children:[a.jsx(Et,{className:"w-8 h-8 text-indigo-500 animate-spin"}),a.jsx("span",{className:"ml-3 text-slate-600",children:"Loading drafts..."})]}):gh.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Wl,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"No drafts found in Gmail"})]}):a.jsx("div",{className:"space-y-3",children:gh.map(F=>a.jsx("div",{className:"p-4 border border-slate-200 rounded-lg hover:border-indigo-300 hover:bg-indigo-50/30 transition-all cursor-pointer",onClick:()=>{if(F.payload?.headers){const ue=F.payload.headers,Ne=ue.find(Nt=>Nt.name==="To"),He=ue.find(Nt=>Nt.name==="Cc"),ft=ue.find(Nt=>Nt.name==="Bcc"),sr=ue.find(Nt=>Nt.name==="Subject");Ne?.value&&zn(Ne.value.split(",").map(Nt=>Nt.trim())),He?.value&&ka(He.value.split(",").map(Nt=>Nt.trim())),ft?.value&&is(ft.value.split(",").map(Nt=>Nt.trim())),sr?.value&&Ai(sr.value)}if(F.payload?.body?.data)try{const ue=atob(F.payload.body.data.replace(/-/g,"+").replace(/_/g,"/"));Ss(ue)}catch(ue){console.error("Failed to decode draft body:",ue),r("Failed to decode draft body")}else if(F.payload?.parts){const ue=F.payload.parts.find(Ne=>Ne.mimeType==="text/html");if(ue?.body?.data)try{const Ne=atob(ue.body.data.replace(/-/g,"+").replace(/_/g,"/"));Ss(Ne)}catch(Ne){console.error("Failed to decode draft body:",Ne),r("Failed to decode draft body")}}pc(!1),t("Draft loaded")},children:a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-slate-900 mb-1 truncate",children:F.payload?.headers?.find(ue=>ue.name==="Subject")?.value||"(No subject)"}),a.jsxs("p",{className:"text-xs text-slate-500 mb-2",children:["To: ",F.payload?.headers?.find(ue=>ue.name==="To")?.value||"No recipients"]}),a.jsxs("p",{className:"text-[10px] text-slate-400",children:["Created ",F.message?.internalDate?new Date(parseInt(F.message.internalDate)).toLocaleString():"Unknown date"]})]}),a.jsx("button",{onClick:ue=>{if(ue.stopPropagation(),F.payload?.headers){const Ne=F.payload.headers,He=Ne.find(Zt=>Zt.name==="To"),ft=Ne.find(Zt=>Zt.name==="Cc"),sr=Ne.find(Zt=>Zt.name==="Bcc"),Nt=Ne.find(Zt=>Zt.name==="Subject");He?.value&&zn(He.value.split(",").map(Zt=>Zt.trim())),ft?.value&&ka(ft.value.split(",").map(Zt=>Zt.trim())),sr?.value&&is(sr.value.split(",").map(Zt=>Zt.trim())),Nt?.value&&Ai(Nt.value)}if(F.payload?.body?.data)try{const Ne=atob(F.payload.body.data.replace(/-/g,"+").replace(/_/g,"/"));Ss(Ne)}catch(Ne){console.error("Failed to decode draft body:",Ne),r("Failed to decode draft body")}else if(F.payload?.parts){const Ne=F.payload.parts.find(He=>He.mimeType==="text/html");if(Ne?.body?.data)try{const He=atob(Ne.body.data.replace(/-/g,"+").replace(/_/g,"/"));Ss(He)}catch(He){console.error("Failed to decode draft body:",He),r("Failed to decode draft body")}}pc(!1),t("Draft loaded")},className:"px-3 py-1.5 bg-indigo-600 text-white text-xs font-medium rounded-lg hover:bg-indigo-700 transition-colors",children:"Load"})]})},F.id))})})]})})]}):a.jsxs("div",{className:"h-full flex flex-col items-center justify-center py-20 text-center",children:[a.jsx(qg,{className:"w-14 h-14 text-slate-300 mb-4"}),a.jsx("p",{className:"text-slate-500 font-medium",children:"Sign in to view Shared Inbox"})]})},jve=()=>{const{showSuccess:e,showError:t}=Ms(),[r,n]=z.useState([]),[s,i]=z.useState(!0),[o,l]=z.useState(!1),[c,u]=z.useState({name:"",trigger:"",action:"",description:""}),[d,h]=z.useState(!1),[m,p]=z.useState(null),[y,v]=z.useState(null),[g,b]=z.useState(null),[w,j]=z.useState(null);z.useEffect(()=>{(async()=>{i(!0);try{const D=JSON.parse(localStorage.getItem("user_data")||"{}").id,R=await LP(D),C=R?.data||R||[];n(Array.isArray(C)?C:[])}catch(D){console.error("[AUTOMATIONS] Failed to fetch automations:",D),t(D.message||"Failed to load automations"),n([])}finally{i(!1)}})()},[]),z.useEffect(()=>{const O=async()=>{const D=JSON.parse(localStorage.getItem("user_data")||"{}").id;try{const R=await LP(D),C=R?.data||R||[];n(Array.isArray(C)?C:[])}catch(R){console.error("Failed to refresh automations:",R)}};return window.addEventListener("refresh-automations",O),()=>window.removeEventListener("refresh-automations",O)},[]);const N=async O=>{p(O);try{await sne(O);const D=r.find(R=>R.id===O);n(R=>R.map(C=>C.id===O?{...C,active:!C.active}:C)),e(`Automation "${D?.name}" ${D?.active?"deactivated":"activated"}.`),window.dispatchEvent(new Event("refresh-automations"))}catch(D){console.error("Failed to toggle automation:",D),t(D.message||"Failed to toggle automation")}finally{p(null)}},k=O=>{j(O),b(O.id)},P=async()=>{if(w){v(w.id);try{await ine(w.id),n(O=>O.filter(D=>D.id!==w.id)),b(null),j(null),e("Automation rule removed."),window.dispatchEvent(new Event("refresh-automations"))}catch(O){console.error("Failed to delete automation:",O),t(O.message||"Failed to delete automation")}finally{v(null)}}},A=async O=>{O.preventDefault(),h(!0);try{const D=JSON.parse(localStorage.getItem("user_data")||"{}").id;await ane({name:c.name,trigger:c.trigger,action:c.action,description:c.description,active:!0,userId:D||void 0}),h(!1),l(!1),u({name:"",trigger:"",action:"",description:""}),e("Automation recipe created successfully!"),window.dispatchEvent(new Event("refresh-automations"))}catch(D){console.error("Failed to create automation:",D),t(D.message||"Failed to create automation"),h(!1)}};return a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-20",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Logistics Automations"}),a.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Event-driven workflows and smart triggers"})]}),a.jsxs("button",{onClick:()=>l(!0),className:"px-4 py-2 bg-indigo-600 text-white text-sm font-bold rounded-xl flex items-center gap-2 hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-100",children:[a.jsx(_n,{className:"w-4 h-4"})," Create Recipe"]})]}),s?a.jsxs("div",{className:"flex items-center justify-center py-20 bg-white border border-slate-200 rounded-2xl",children:[a.jsx(Et,{className:"w-8 h-8 text-indigo-600 animate-spin mb-4"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Loading automations..."})]}):r.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-20 bg-white border border-dashed border-slate-300 rounded-2xl text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center text-slate-300 mb-4",children:a.jsx(Wv,{className:"w-8 h-8"})}),a.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"No Automations Found"}),a.jsx("p",{className:"text-slate-500 text-sm mb-6",children:"Get started by creating your first automation recipe."}),a.jsxs("button",{onClick:()=>l(!0),className:"px-4 py-2 bg-indigo-600 text-white text-sm font-semibold rounded-lg flex items-center gap-2 hover:bg-indigo-700 transition-all shadow-sm",children:[a.jsx(_n,{className:"w-4 h-4"}),"Create Your First Automation"]})]}):a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[r.map(O=>a.jsxs("div",{className:"bg-white rounded-3xl border border-slate-200 p-6 lg:p-8 shadow-sm hover:shadow-md transition-all flex flex-col lg:flex-row lg:items-center justify-between gap-6 group",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{onClick:()=>N(O.id),className:`w-14 h-14 rounded-2xl flex items-center justify-center cursor-pointer transition-all active:scale-90 ${O.active?"bg-indigo-600 text-white shadow-xl shadow-indigo-100":"bg-slate-100 text-slate-400"}`,children:a.jsx(Wv,{className:"w-7 h-7"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[a.jsx("h3",{className:"text-lg font-bold text-slate-900",children:O.name}),O.active&&a.jsxs("span",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-emerald-50 text-emerald-600 rounded-full text-[9px] font-black uppercase tracking-tighter",children:[a.jsx("div",{className:"w-1 h-1 bg-emerald-500 rounded-full animate-pulse"})," Running"]})]}),a.jsx("p",{className:"text-sm text-slate-500 font-medium leading-relaxed max-w-xl",children:O.description})]})]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("div",{className:"hidden sm:flex items-center gap-4 bg-slate-50 px-4 py-2 rounded-2xl border border-slate-100",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Trigger"}),a.jsx("p",{className:"text-xs font-bold text-slate-700",children:O.trigger})]}),a.jsx(ao,{className:"w-4 h-4 text-slate-300"}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Action"}),a.jsx("p",{className:"text-xs font-bold text-indigo-600",children:O.action})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>N(O.id),disabled:m===O.id,className:`p-3 rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed ${O.active?"text-indigo-600 hover:bg-indigo-50":"text-slate-400 hover:bg-slate-50"}`,title:O.active?"Pause Automation":"Activate Automation",children:m===O.id?a.jsx(Et,{className:"w-5 h-5 animate-spin"}):O.active?a.jsx(UB,{className:"w-5 h-5 fill-indigo-600"}):a.jsx(qB,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>k(O),disabled:y===O.id,className:"p-3 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed",title:"Delete Automation",children:y===O.id?a.jsx(Et,{className:"w-5 h-5 animate-spin"}):a.jsx($r,{className:"w-5 h-5"})})]})]})]},O.id)),a.jsxs("div",{className:"bg-slate-900 rounded-3xl p-8 lg:p-12 text-white relative overflow-hidden group shadow-2xl",children:[a.jsxs("div",{className:"relative z-10 max-w-2xl text-left",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"p-2.5 bg-white/10 rounded-xl backdrop-blur-md",children:a.jsx(xi,{className:"w-6 h-6 text-indigo-400"})}),a.jsx("h3",{className:"text-2xl font-bold",children:"Impact AI Copilot"})]}),a.jsx("h2",{className:"text-3xl font-black mb-4 tracking-tight leading-tight",children:"Describe the automation you need, and we'll build it."}),a.jsx("p",{className:"text-slate-400 text-base font-medium mb-8 italic",children:'"When a deal is won, create a project workspace and notify the logistics team."'}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("input",{type:"text",placeholder:"I want to automate...",className:"flex-1 bg-white/10 border border-white/10 rounded-2xl px-6 py-4 text-white placeholder:text-slate-600 outline-none focus:ring-2 focus:ring-indigo-500/50"}),a.jsxs("button",{className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold px-8 py-4 rounded-2xl shadow-xl shadow-indigo-900 transition-all active:scale-95 flex items-center gap-2",children:["Generate ",a.jsx(ao,{className:"w-4 h-4"})]})]})]}),a.jsx("div",{className:"absolute top-0 right-0 w-1/3 h-full bg-indigo-600/10 blur-[120px] rounded-full translate-x-1/2 -translate-y-1/2 pointer-events-none"})]})]}),o&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-[100] flex items-center justify-center p-4 animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[a.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"New Automation Recipe"}),a.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-white rounded-full text-slate-400 transition-colors",children:a.jsx(mr,{className:"w-5 h-5"})})]}),a.jsxs("form",{onSubmit:A,className:"p-6 space-y-4 text-left",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Recipe Name"}),a.jsx("input",{required:!0,type:"text",value:c.name,onChange:O=>u({...c,name:O.target.value}),className:"w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-indigo-100 outline-none",placeholder:"e.g., Lead Auto-Reply"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Trigger Event"}),a.jsx("input",{required:!0,type:"text",value:c.trigger,onChange:O=>u({...c,trigger:O.target.value}),className:"w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-indigo-100 outline-none",placeholder:"e.g., New Contact Created"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Automation Action"}),a.jsx("input",{required:!0,type:"text",value:c.action,onChange:O=>u({...c,action:O.target.value}),className:"w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-indigo-100 outline-none",placeholder:"e.g., Send Welcome Template"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Description"}),a.jsx("textarea",{required:!0,value:c.description,onChange:O=>u({...c,description:O.target.value}),className:"w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-indigo-100 outline-none resize-none",rows:3,placeholder:"Briefly explain what this does..."})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>l(!1),className:"flex-1 py-3 text-sm font-bold text-slate-500 hover:bg-slate-50 rounded-xl transition-colors border border-transparent hover:border-slate-200",children:"Cancel"}),a.jsxs("button",{type:"submit",disabled:d,className:"flex-[2] py-3 bg-indigo-600 text-white text-sm font-bold rounded-xl hover:bg-indigo-700 transition-all shadow-lg flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[d?a.jsx(Et,{className:"w-4 h-4 animate-spin"}):a.jsx(cd,{className:"w-4 h-4"}),"Deploy Automation"]})]})]})]})}),g&&w&&a.jsxs("div",{className:"fixed inset-0 z-[110] overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm pointer-events-auto animate-in fade-in duration-300",onClick:()=>b(null)}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4 pointer-events-none",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl pointer-events-auto animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:a.jsx(Vf,{className:"w-6 h-6 text-red-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Delete Automation"}),a.jsx("p",{className:"text-[10px] text-slate-400 uppercase tracking-widest font-bold mt-0.5",children:"This action cannot be undone"})]})]}),a.jsx("button",{onClick:()=>b(null),className:"p-2 hover:bg-white rounded-full text-slate-400 transition-colors shadow-sm",children:a.jsx(mr,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("p",{className:"text-sm text-slate-600",children:["Are you sure you want to delete automation ",a.jsxs("span",{className:"font-bold text-slate-900",children:['"',w.name,'"']}),"?"]}),a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:[a.jsx("p",{className:"text-xs text-red-700 font-semibold mb-1",children:" Warning:"}),a.jsx("p",{className:"text-xs text-red-600",children:"This will permanently delete the automation rule and all its configurations. This action cannot be undone."})]}),a.jsxs("div",{className:"flex gap-3 pt-2",children:[a.jsx("button",{type:"button",onClick:()=>b(null),disabled:y===w.id,className:"flex-1 py-3 text-sm font-bold text-slate-500 hover:bg-slate-50 rounded-xl transition-colors border border-transparent hover:border-slate-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),a.jsx("button",{onClick:P,disabled:y===w.id,className:"flex-[2] py-3 bg-red-600 text-white text-sm font-bold rounded-xl hover:bg-red-700 transition-all shadow-lg shadow-red-100 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:y===w.id?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):a.jsxs(a.Fragment,{children:[a.jsx($r,{className:"w-4 h-4"}),"Delete Automation"]})})]})]})]})})]})]})},kve=({currentUser:e,onNavigate:t})=>{const{showSuccess:r,showError:n}=Ms(),[s,i]=z.useState("registry"),[o,l]=z.useState([]),[c,u]=z.useState([]),[d,h]=z.useState(!0),[m,p]=z.useState("all"),[y,v]=z.useState("open"),[g,b]=z.useState(null),[w,j]=z.useState(!1),[N,k]=z.useState(!1),[P,A]=z.useState({type:"feature",title:"",description:""}),[O,D]=z.useState({type:null,item:null}),[R,C]=z.useState(null),[T,I]=z.useState(!1),[B,X]=z.useState([]),[re,Z]=z.useState(!1),[te,Y]=z.useState(!1),[Q,H]=z.useState(null),[E,q]=z.useState(!1),[V,U]=z.useState(""),[G,ne]=z.useState(null),de=e?.role==="Admin",ce=async()=>{if(s==="registry"){h(!0);try{const[fe,De]=await Promise.all([mne(),fd()]),Xe=(fe.data||[]).map(Je=>{const ht=Je.url||null;let Ue=[];return Array.isArray(Je.attachments)&&Je.attachments.length>0&&(Ue=Je.attachments.filter(at=>at&&(at.source==="file"||at.data)).map(at=>({type:at.type||"image",data:at.data||"",filename:at.filename||"attachment",mimeType:at.mimeType||"image/jpeg",source:"file"}))),{...Je,url:ht,attachments:Ue}});l(Xe),u(De.data||[])}catch{n("Failed to synchronize roadmap registry.")}finally{h(!1)}}};z.useEffect(()=>{ce();const fe=()=>ce();return window.addEventListener("refresh-roadmap",fe),()=>window.removeEventListener("refresh-roadmap",fe)},[s]),z.useEffect(()=>{const fe=De=>{De.key==="Escape"&&G&&ne(null)};return window.addEventListener("keydown",fe),()=>window.removeEventListener("keydown",fe)},[G]),z.useEffect(()=>{U(g&&g.description||"")},[g]);const he=async()=>{if(!(!g||!de)){q(!0);try{await WN(g.id,{description:V.trim()}),l(fe=>fe.map(De=>De.id===g.id?{...De,description:V.trim()}:De)),b(fe=>fe&&{...fe,description:V.trim()}),r("Context updated")}catch{n("Failed to update context")}finally{q(!1)}}},Le=async(fe,De)=>{if(de)try{await WN(fe,{status:De}),l(Xe=>Xe.map(Je=>Je.id===fe?{...Je,status:De}:Je)),g?.id===fe&&b({...g,status:De}),r(`Status updated to ${De}`)}catch{n("Update failed.")}},se=async fe=>{if(de){I(!0);try{await RP(fe),l(De=>De.filter(Xe=>Xe.id!==fe)),g?.id===fe&&b(null),C(null),r("Entry purged from registry.")}catch{n("Purge failed.")}finally{I(!1)}}},Fe=()=>{B.length===pe.length?X([]):X(pe.map(fe=>fe.id))},_e=async()=>{if(!de){n("Only admins can delete entries");return}if(B.length===0){n("No items selected");return}Z(!0);try{const fe=[...B],De=fe.map(Xe=>RP(Xe));await Promise.all(De),l(Xe=>Xe.filter(Je=>!fe.includes(Je.id))),g&&fe.includes(g.id)&&b(null),X([]),Y(!1),r(`Successfully deleted ${fe.length} entr${fe.length>1?"ies":"y"}`)}catch(fe){console.error("Bulk delete error:",fe),n(fe.message||"Failed to delete entries. Please try again.")}finally{Z(!1)}},oe=async fe=>{if(fe.preventDefault(),!P.title||!P.description){n("Title and description are required");return}k(!0);try{const De={...P,userId:e?.id||"anonymous",status:"planned"};await k7(De),r("Entry added to Strategic Pipeline"),j(!1),A({type:"feature",title:"",description:""}),ce()}catch(De){console.error("[FEEDBACK] Creation failed:",De),n(`Failed to add entry: ${De.message||"Unknown error"}`)}finally{k(!1)}},ae=async()=>{if(!O.item||!O.type)return;let fe,De;switch(O.type){case"done":fe="done",De="Entry marked as done";break;case"archive":fe="canceled",De="Entry archived";break;case"in-execution":fe="in-progress",De="Entry marked as in execution";break;default:return}try{await WN(O.item.id,{status:fe}),l(Xe=>Xe.map(Je=>Je.id===O.item.id?{...Je,status:fe}:Je)),g?.id===O.item.id&&b({...g,status:fe}),r(De),D({type:null,item:null})}catch{n("Failed to update entry status")}},ke=(fe,De="w-4 h-4")=>{switch(fe){case"done":return a.jsx(Cn,{className:`${De} text-emerald-500`});case"in-progress":return a.jsx(ws,{className:`${De} text-blue-500 animate-pulse`});case"postponed":return a.jsx(jB,{className:`${De} text-amber-500`});case"canceled":return a.jsx(Q8,{className:`${De} text-slate-400`});default:return a.jsx(Cv,{className:`${De} text-indigo-400`})}},we=fe=>{switch(fe){case"bug":return"bg-red-50 text-red-600 border-red-100";case"feature":return"bg-indigo-50 text-indigo-600 border-indigo-100";case"idea":return"bg-amber-50 text-amber-600 border-amber-100"}},Pe=(fe,De="w-4 h-4")=>{switch(fe){case"bug":return a.jsx(Av,{className:De});case"feature":return a.jsx(xi,{className:De});case"idea":return a.jsx(Nj,{className:De})}},pe=o.filter(fe=>(y==="open"?fe.status!=="done"&&fe.status!=="canceled":fe.status==="done"||fe.status==="canceled")?m==="all"?!0:fe.type===m:!1);return a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-32 relative h-full",children:[a.jsxs("div",{className:"flex flex-col gap-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-black text-slate-900 tracking-tight",children:"Enterprise Roadmap"}),a.jsx("p",{className:"text-slate-500 text-sm font-medium mt-1",children:"Consolidated future trajectory, communication beta, and workflow automation"})]}),a.jsxs("div",{className:"flex bg-white px-5 py-2.5 rounded-[24px] border border-slate-200 shadow-sm w-fit items-center gap-3",children:[a.jsx(Cv,{className:"w-4 h-4 text-indigo-500"}),a.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-700",children:"Trajectory Registry"}),a.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full text-[9px] font-black bg-emerald-50 text-emerald-600",children:"Live"})]})]}),s==="registry"&&a.jsxs("div",{className:"space-y-8 animate-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-6",children:[a.jsxs("div",{className:"flex items-center gap-3 bg-white p-1.5 rounded-[20px] border border-slate-200 shadow-sm",children:[a.jsx("button",{onClick:()=>{v("open"),X([])},className:`px-6 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${y==="open"?"bg-indigo-600 text-white shadow-lg":"text-slate-400 hover:text-slate-600"}`,children:"Strategic Pipeline"}),a.jsx("button",{onClick:()=>{v("completed"),X([])},className:`px-6 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${y==="completed"?"bg-indigo-600 text-white shadow-lg":"text-slate-400 hover:text-slate-600"}`,children:"Archive & Done"})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[["all","bug","feature","idea"].map(fe=>a.jsx("button",{onClick:()=>{p(fe),X([])},className:`px-4 py-2 rounded-full text-[10px] font-black uppercase tracking-widest border transition-all ${m===fe?"bg-slate-900 text-white border-slate-900":"bg-white text-slate-500 border-slate-200 hover:border-indigo-400"}`,children:fe},fe)),a.jsxs("button",{onClick:()=>{const De=m!=="all"?{bug:"bug",feature:"feature",idea:"idea"}[m]:"feature";A({type:De,title:"",description:""}),j(!0)},className:"px-4 py-2 bg-indigo-600 text-white rounded-full text-[10px] font-black uppercase tracking-widest hover:bg-indigo-700 transition-all shadow-lg flex items-center gap-2",children:[a.jsx(_n,{className:"w-3 h-3"})," New Entry"]})]})]}),d?a.jsxs("div",{className:"flex flex-col items-center justify-center py-32",children:[a.jsx(Et,{className:"w-10 h-10 animate-spin text-indigo-600 mb-4"}),a.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Synchronizing Registry..."})]}):pe.length===0?a.jsxs("div",{className:"py-32 bg-white rounded-[40px] border border-dashed border-slate-200 text-center flex flex-col items-center justify-center gap-4",children:[a.jsx($v,{className:"w-16 h-16 text-slate-100"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-lg font-black text-slate-900",children:"No Registry Entries Found"}),a.jsx("p",{className:"text-xs text-slate-400 font-medium mb-4",children:"Add a new strategic entry to get started."}),a.jsxs("button",{onClick:()=>{const De=m!=="all"?{bug:"bug",feature:"feature",idea:"idea"}[m]:"feature";A({type:De,title:"",description:""}),j(!0)},className:"px-6 py-3 bg-indigo-600 text-white rounded-xl text-xs font-black uppercase tracking-widest hover:bg-indigo-700 transition-all shadow-lg flex items-center gap-2 mx-auto",children:[a.jsx(_n,{className:"w-4 h-4"})," Add Entry"]})]})]}):a.jsxs(a.Fragment,{children:[pe.length>0&&a.jsxs("div",{className:"flex items-center gap-3 pb-2",children:[a.jsx("input",{type:"checkbox",className:"rounded border-slate-300 text-indigo-600 focus:ring-indigo-500 w-4 h-4 cursor-pointer",checked:pe.length>0&&B.length===pe.length,onChange:fe=>{fe.stopPropagation(),Fe()}}),a.jsx("span",{className:"text-sm font-semibold text-slate-600 cursor-pointer",onClick:fe=>{fe.stopPropagation(),Fe()},children:"Select All Entries"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:pe.map(fe=>{const De=c.find(Je=>Je.id===fe.userId),Xe=B.includes(fe.id);return a.jsxs("div",{onClick:()=>{b(fe),H(null)},className:`bg-white rounded-[32px] border ${Xe?"border-indigo-400 bg-indigo-50/30":"border-slate-200"} p-8 shadow-sm hover:border-indigo-300 hover:shadow-xl transition-all group flex flex-col relative cursor-pointer active:scale-[0.98] hover:scale-[1.02] overflow-visible`,children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsxs("div",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-tighter border ${we(fe.type)} flex items-center gap-1.5`,children:[Pe(fe.type,"w-2.5 h-2.5"),fe.type]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-slate-50 border border-slate-100 rounded-full text-[9px] font-black text-slate-500 uppercase",children:[ke(fe.status,"w-2.5 h-2.5"),fe.status]}),a.jsxs("div",{className:"flex items-center gap-1.5",onClick:Je=>Je.stopPropagation(),children:[a.jsx("div",{className:`${Xe?"opacity-100":"opacity-0 group-hover:opacity-100"} transition-opacity flex items-center`,children:a.jsx("label",{className:`px-2 py-1 rounded-lg transition-all border flex items-center justify-center cursor-pointer ${Xe?"bg-indigo-50 border-indigo-200":"bg-slate-50 border-slate-200 hover:bg-indigo-50/50 hover:border-indigo-200"}`,children:a.jsx("input",{type:"checkbox",className:"rounded border-slate-300 text-indigo-600 focus:ring-indigo-500 w-4 h-4 cursor-pointer",checked:Xe,onChange:Je=>{Je.stopPropagation(),X(ht=>ht.includes(fe.id)?ht.filter(Ue=>Ue!==fe.id):[...ht,fe.id])},onClick:Je=>{Je.stopPropagation()}})})}),(fe.status==="planned"||fe.status==="in-progress"||fe.status==="postponed")&&a.jsxs(a.Fragment,{children:[fe.status!=="in-progress"&&a.jsx("button",{onClick:Je=>{Je.stopPropagation(),D({type:"in-execution",item:fe})},className:"px-2 py-1 hover:bg-blue-50 rounded-lg text-blue-600 transition-all border border-blue-100 hover:border-blue-200 flex items-center justify-center",title:"Mark as In Execution",children:a.jsx(ws,{className:"w-3.5 h-3.5"})}),a.jsx("button",{onClick:Je=>{Je.stopPropagation(),D({type:"done",item:fe})},className:"px-2 py-1 hover:bg-emerald-50 rounded-lg text-emerald-600 transition-all border border-emerald-100 hover:border-emerald-200 flex items-center justify-center",title:"Mark as Done",children:a.jsx(Cn,{className:"w-3.5 h-3.5"})}),a.jsx("button",{onClick:Je=>{Je.stopPropagation(),D({type:"archive",item:fe})},className:"px-2 py-1 hover:bg-slate-100 rounded-lg text-slate-500 transition-all border border-slate-200 hover:border-slate-300 flex items-center justify-center",title:"Archive",children:a.jsx(Qu,{className:"w-3.5 h-3.5"})})]}),de&&a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:Je=>{Je.stopPropagation(),H(Q===fe.id?null:fe.id)},className:`px-2 py-1 hover:bg-slate-50 rounded-lg text-slate-400 transition-all border border-slate-200 hover:border-slate-300 flex items-center justify-center ${Q===fe.id?"opacity-100":"opacity-0 group-hover:opacity-100"}`,title:"More options",children:a.jsx(tD,{className:"w-3.5 h-3.5"})}),Q===fe.id&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-[55]",onClick:Je=>{Je.stopPropagation(),H(null)}}),a.jsxs("div",{className:"absolute right-0 top-full mt-2 w-52 bg-slate-900 rounded-2xl shadow-2xl overflow-hidden z-[60] animate-in fade-in zoom-in-95 duration-200",children:[a.jsx("div",{className:"p-2 border-b border-white/5 text-[9px] font-black text-white/40 uppercase tracking-widest px-4 py-2",children:"Lifecycle Management"}),a.jsxs("div",{className:"overflow-hidden rounded-b-2xl",children:[["planned","in-progress","done","postponed","canceled"].map(Je=>a.jsxs("button",{onClick:ht=>{ht.stopPropagation(),Le(fe.id,Je),H(null)},className:`w-full px-4 py-3 text-left text-[10px] font-black uppercase tracking-widest transition-colors ${fe.status===Je?"text-indigo-400 bg-white/5":"text-slate-300 hover:bg-white/5"}`,children:["Set ",Je]},Je)),a.jsx("button",{onClick:Je=>{Je.stopPropagation(),C(fe),H(null)},className:"w-full px-4 py-3 text-left text-[10px] font-black uppercase tracking-widest text-red-400 border-t border-white/5 hover:bg-red-500 hover:text-white transition-all",children:"Delete Terminal"})]})]})]})]})]})]})]}),a.jsx("h3",{className:"text-lg font-black text-slate-900 mb-3 leading-tight group-hover:text-indigo-600 transition-colors",children:fe.title}),a.jsxs("p",{className:"text-sm text-slate-500 font-medium leading-relaxed mb-4 flex-1 line-clamp-3 italic",children:['"',fe.description,'"']}),fe.url&&a.jsx("div",{className:"mb-6",children:a.jsxs("a",{href:fe.url,target:"_blank",rel:"noopener noreferrer",onClick:Je=>Je.stopPropagation(),className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-indigo-50 text-indigo-600 rounded-lg text-[10px] font-bold hover:bg-indigo-100 transition-colors border border-indigo-200",children:[fe.url.match(/\.(jpg|jpeg|png|gif|webp|svg)(\?|$)/i)?a.jsx(tl,{className:"w-3 h-3"}):a.jsx($h,{className:"w-3 h-3"}),a.jsx("span",{className:"truncate max-w-[120px]",children:fe.url.length>30?`${fe.url.substring(0,30)}...`:fe.url}),a.jsx(vi,{className:"w-3 h-3"})]})}),fe.attachments&&Array.isArray(fe.attachments)&&fe.attachments.length>0&&a.jsx("div",{className:"mb-6 flex flex-wrap gap-2",children:fe.attachments.map((Je,ht)=>Je.type==="image"&&Je.data?a.jsxs("button",{type:"button",onClick:Ue=>{Ue.stopPropagation(),ne({src:Je.data,alt:Je.filename||"Attachment"})},className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-slate-100 text-slate-700 rounded-lg text-[10px] font-bold hover:bg-slate-200 transition-colors border border-slate-200",children:[a.jsx(tl,{className:"w-3 h-3"}),a.jsx("span",{className:"truncate max-w-[100px]",children:Je.filename||"Screenshot"})]},ht):Je.type==="video"&&Je.data?a.jsxs("a",{href:Je.data,target:"_blank",rel:"noopener noreferrer",onClick:Ue=>Ue.stopPropagation(),className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-slate-100 text-slate-700 rounded-lg text-[10px] font-bold hover:bg-slate-200 transition-colors border border-slate-200",children:[a.jsx($h,{className:"w-3 h-3"}),a.jsx("span",{className:"truncate max-w-[100px]",children:Je.filename||"Video"}),a.jsx(vi,{className:"w-3 h-3"})]},ht):null)}),a.jsxs("div",{className:"pt-6 border-t border-slate-50 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-indigo-50 rounded-xl flex items-center justify-center text-indigo-600 font-black text-xs uppercase shadow-inner group-hover:scale-110 transition-transform",children:De?.name?.charAt(0)||"U"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-black text-slate-900",children:De?.name||"Observer"}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:new Date(fe.createdAt).toLocaleDateString()})]})]}),a.jsx(bs,{className:"w-4 h-4 text-slate-200 group-hover:text-indigo-400 group-hover:translate-x-1 transition-all"})]})]},fe.id)})})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 pb-12",children:[{label:"Total Requests",value:o.length,icon:a.jsx(Cv,{className:"w-4 h-4"})},{label:"Bugs Identified",value:o.filter(fe=>fe.type==="bug").length,icon:a.jsx(Av,{className:"w-4 h-4 text-red-500"})},{label:"Features Shipped",value:o.filter(fe=>fe.status==="done").length,icon:a.jsx(xi,{className:"w-4 h-4 text-emerald-500"})},{label:"In Execution",value:o.filter(fe=>fe.status==="in-progress").length,icon:a.jsx(ws,{className:"w-4 h-4 text-blue-500"})}].map((fe,De)=>a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-slate-50 rounded-2xl flex items-center justify-center text-slate-400",children:fe.icon}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:fe.label}),a.jsx("p",{className:"text-xl font-black text-slate-900",children:fe.value})]})]},De))})]}),s==="registry"&&a.jsxs("div",{className:"mt-10 space-y-4 pb-12",children:[a.jsxs("h2",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(xi,{className:"w-4 h-4 text-indigo-500"})," Features in Development"]}),a.jsxs("p",{className:"text-slate-500 text-sm max-w-2xl",children:["These confirmed feature requests are currently"," ",a.jsx("span",{className:"font-semibold text-slate-700",children:"in development"}),". You can preview their beta experiences below while the full workflows mature."]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-white border border-slate-200 rounded-3xl p-5 flex flex-col gap-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-2xl bg-indigo-50 text-indigo-600 flex items-center justify-center",children:a.jsx(li,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-slate-500",children:"Feature Request"}),a.jsx("h3",{className:"text-sm font-black text-slate-900",children:"Shared Inbox"})]})]}),a.jsx("span",{className:"px-2 py-0.5 rounded-full text-[9px] font-black bg-amber-50 text-amber-600",children:"In Development"})]}),a.jsx("p",{className:"text-xs text-slate-500",children:"Centralize customer conversations and feedback threads for your logistics team."}),a.jsxs("button",{onClick:()=>i("inbox"),className:"self-start px-4 py-2 rounded-full text-[10px] font-black uppercase tracking-widest bg-slate-900 text-white hover:bg-indigo-700 transition-all flex items-center gap-2",children:["Preview Beta",a.jsx(ao,{className:"w-3 h-3"})]})]}),a.jsxs("div",{className:"bg-white border border-slate-200 rounded-3xl p-5 flex flex-col gap-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-2xl bg-slate-900 text-indigo-50 flex items-center justify-center",children:a.jsx(Wv,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-slate-500",children:"Feature Request"}),a.jsx("h3",{className:"text-sm font-black text-slate-900",children:"Smart Automations"})]})]}),a.jsx("span",{className:"px-2 py-0.5 rounded-full text-[9px] font-black bg-purple-50 text-purple-600",children:"Beta  In Progress"})]}),a.jsx("p",{className:"text-xs text-slate-500",children:"Automate repetitive logistics workflows and notifications with configurable recipes."}),a.jsxs("button",{onClick:()=>i("automation"),className:"self-start px-4 py-2 rounded-full text-[10px] font-black uppercase tracking-widest bg-slate-900 text-white hover:bg-indigo-700 transition-all flex items-center gap-2",children:["Preview Beta",a.jsx(ao,{className:"w-3 h-3"})]})]}),a.jsxs("div",{className:"bg-white border border-slate-200 rounded-3xl p-5 flex flex-col gap-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-2xl bg-blue-50 text-blue-600 flex items-center justify-center",children:a.jsx(Z8,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-slate-500",children:"Feature Request"}),a.jsx("h3",{className:"text-sm font-black text-slate-900",children:"Business Card Scanner"})]})]}),a.jsx("span",{className:"px-2 py-0.5 rounded-full text-[9px] font-black bg-blue-50 text-blue-600",children:"Planned"})]}),a.jsx("p",{className:"text-xs text-slate-500",children:"Scan a business card and create contact and company information directly inside the application."}),a.jsxs("button",{disabled:!0,className:"self-start px-4 py-2 rounded-full text-[10px] font-black uppercase tracking-widest bg-slate-100 text-slate-400 cursor-not-allowed flex items-center gap-2",children:["Coming Soon",a.jsx(ao,{className:"w-3 h-3"})]})]}),a.jsxs("div",{className:"bg-white border border-slate-200 rounded-3xl p-5 flex flex-col gap-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-2xl bg-indigo-50 text-indigo-600 flex items-center justify-center",children:a.jsx(M0,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-slate-500",children:"Feature Request"}),a.jsx("h3",{className:"text-sm font-black text-slate-900",children:"LinkedIn Scanner"})]})]}),a.jsx("span",{className:"px-2 py-0.5 rounded-full text-[9px] font-black bg-indigo-50 text-indigo-600",children:"Planned"})]}),a.jsx("p",{className:"text-xs text-slate-500",children:"Scan a LinkedIn account and create contact and company information directly inside the application."}),a.jsxs("button",{disabled:!0,className:"self-start px-4 py-2 rounded-full text-[10px] font-black uppercase tracking-widest bg-slate-100 text-slate-400 cursor-not-allowed flex items-center gap-2",children:["Coming Soon",a.jsx(ao,{className:"w-3 h-3"})]})]}),a.jsxs("div",{className:"bg-white border border-slate-200 rounded-3xl p-5 flex flex-col gap-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-2xl bg-emerald-50 text-emerald-600 flex items-center justify-center",children:a.jsx($d,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-slate-500",children:"Feature Request"}),a.jsx("h3",{className:"text-sm font-black text-slate-900",children:"Source Signals"})]})]}),a.jsx("span",{className:"px-2 py-0.5 rounded-full text-[9px] font-black bg-emerald-50 text-emerald-600",children:"Planned"})]}),a.jsx("p",{className:"text-xs text-slate-500",children:"Source signals, such as recent funding, new hires, M&A, lay-offs, and attach this information to the company card."}),a.jsxs("button",{disabled:!0,className:"self-start px-4 py-2 rounded-full text-[10px] font-black uppercase tracking-widest bg-slate-100 text-slate-400 cursor-not-allowed flex items-center gap-2",children:["Coming Soon",a.jsx(ao,{className:"w-3 h-3"})]})]}),a.jsxs("div",{className:"bg-white border border-slate-200 rounded-3xl p-5 flex flex-col gap-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-2xl bg-purple-50 text-purple-600 flex items-center justify-center",children:a.jsx(J8,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-slate-500",children:"Feature Request"}),a.jsx("h3",{className:"text-sm font-black text-slate-900",children:"Dashboards (Sales KPIs)"})]})]}),a.jsx("span",{className:"px-2 py-0.5 rounded-full text-[9px] font-black bg-amber-50 text-amber-600",children:"In Development"})]}),a.jsx("p",{className:"text-xs text-slate-500",children:"Comprehensive sales dashboards with key performance indicators, revenue tracking, and analytics to monitor sales performance."}),a.jsxs("button",{disabled:!0,className:"self-start px-4 py-2 rounded-full text-[10px] font-black uppercase tracking-widest bg-slate-100 text-slate-400 cursor-not-allowed flex items-center gap-2",children:["Coming Soon",a.jsx(ao,{className:"w-3 h-3"})]})]}),a.jsxs("div",{className:"bg-white border border-slate-200 rounded-3xl p-5 flex flex-col gap-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-2xl bg-rose-50 text-rose-600 flex items-center justify-center",children:a.jsx(AB,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-slate-500",children:"Feature Request"}),a.jsx("h3",{className:"text-sm font-black text-slate-900",children:"Gemini Video Transcript"})]})]}),a.jsx("span",{className:"px-2 py-0.5 rounded-full text-[9px] font-black bg-amber-50 text-amber-600",children:"In Development"})]}),a.jsx("p",{className:"text-xs text-slate-500",children:"Connect Gemini video transcripts and meeting sessions to company accounts for automatic note-taking and insights."}),a.jsxs("button",{disabled:!0,className:"self-start px-4 py-2 rounded-full text-[10px] font-black uppercase tracking-widest bg-slate-100 text-slate-400 cursor-not-allowed flex items-center gap-2",children:["Coming Soon",a.jsx(ao,{className:"w-3 h-3"})]})]}),a.jsxs("div",{className:"bg-white border border-slate-200 rounded-3xl p-5 flex flex-col gap-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-2xl bg-violet-50 text-violet-600 flex items-center justify-center",children:a.jsx(bB,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-slate-500",children:"New Section"}),a.jsx("h3",{className:"text-sm font-black text-slate-900",children:"Playbooks"})]})]}),a.jsx("span",{className:"px-2 py-0.5 rounded-full text-[9px] font-black bg-amber-50 text-amber-600",children:"In Development"})]}),a.jsx("p",{className:"text-xs text-slate-500",children:"Create and manage sales playbooks, best practices, and standardized workflows for your team."}),a.jsxs("button",{disabled:!0,className:"self-start px-4 py-2 rounded-full text-[10px] font-black uppercase tracking-widest bg-slate-100 text-slate-400 cursor-not-allowed flex items-center gap-2",children:["Coming Soon",a.jsx(ao,{className:"w-3 h-3"})]})]}),a.jsxs("div",{className:"bg-white border border-slate-200 rounded-3xl p-5 flex flex-col gap-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-2xl bg-pink-50 text-pink-600 flex items-center justify-center",children:a.jsx(TB,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-slate-500",children:"New Section"}),a.jsx("h3",{className:"text-sm font-black text-slate-900",children:"Client Satisfaction"})]})]}),a.jsx("span",{className:"px-2 py-0.5 rounded-full text-[9px] font-black bg-amber-50 text-amber-600",children:"In Development"})]}),a.jsx("p",{className:"text-xs text-slate-500",children:"Track and manage client satisfaction scores, feedback, and surveys to improve customer relationships."}),a.jsxs("button",{disabled:!0,className:"self-start px-4 py-2 rounded-full text-[10px] font-black uppercase tracking-widest bg-slate-100 text-slate-400 cursor-not-allowed flex items-center gap-2",children:["Coming Soon",a.jsx(ao,{className:"w-3 h-3"})]})]}),a.jsxs("div",{className:"bg-white border border-slate-200 rounded-3xl p-5 flex flex-col gap-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-2xl bg-cyan-50 text-cyan-600 flex items-center justify-center",children:a.jsx(BB,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-slate-500",children:"New Section"}),a.jsx("h3",{className:"text-sm font-black text-slate-900",children:"Product & Service Library"})]})]}),a.jsx("span",{className:"px-2 py-0.5 rounded-full text-[9px] font-black bg-amber-50 text-amber-600",children:"In Development"})]}),a.jsx("p",{className:"text-xs text-slate-500",children:"Centralized library to manage products, services, pricing, and catalog information for your business."}),a.jsxs("button",{disabled:!0,className:"self-start px-4 py-2 rounded-full text-[10px] font-black uppercase tracking-widest bg-slate-100 text-slate-400 cursor-not-allowed flex items-center gap-2",children:["Coming Soon",a.jsx(ao,{className:"w-3 h-3"})]})]}),a.jsxs("div",{className:"bg-white border border-slate-200 rounded-3xl p-5 flex flex-col gap-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-2xl bg-indigo-50 text-indigo-600 flex items-center justify-center",children:a.jsx(MB,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-slate-500",children:"New Integration"}),a.jsx("h3",{className:"text-sm font-black text-slate-900",children:"LinkedIn DMs & Sales Nav"})]})]}),a.jsx("span",{className:"px-2 py-0.5 rounded-full text-[9px] font-black bg-amber-50 text-amber-600",children:"In Development"})]}),a.jsx("p",{className:"text-xs text-slate-500",children:"Integrate LinkedIn direct messages and LinkedIn Sales Navigator to manage conversations and leads directly in the platform."}),a.jsxs("button",{disabled:!0,className:"self-start px-4 py-2 rounded-full text-[10px] font-black uppercase tracking-widest bg-slate-100 text-slate-400 cursor-not-allowed flex items-center gap-2",children:["Coming Soon",a.jsx(ao,{className:"w-3 h-3"})]})]})]})]}),s==="inbox"&&a.jsx("div",{className:"animate-in slide-in-from-right-4 duration-500",children:a.jsx(S9,{currentUser:e})}),s==="automation"&&a.jsx("div",{className:"animate-in slide-in-from-right-4 duration-500",children:a.jsx(jve,{})}),G&&a.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/90 backdrop-blur-sm animate-in fade-in duration-300",onClick:()=>ne(null),children:a.jsxs("div",{className:"relative max-w-7xl max-h-[90vh] w-full h-full flex items-center justify-center",children:[a.jsx("button",{onClick:()=>ne(null),className:"absolute top-4 right-4 p-3 bg-white/10 hover:bg-white/20 rounded-full text-white transition-colors backdrop-blur-sm z-10",children:a.jsx(mr,{className:"w-6 h-6"})}),a.jsx("img",{src:G.src,alt:G.alt,className:"max-w-full max-h-full object-contain rounded-2xl shadow-2xl",onClick:fe=>fe.stopPropagation()})]})}),w&&a.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-[40px] w-full max-w-2xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 flex flex-col max-h-[90vh]",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-start bg-slate-50/50 shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-14 h-14 bg-indigo-600 rounded-2xl flex items-center justify-center text-white shadow-xl shadow-indigo-100",children:a.jsx(_n,{className:"w-7 h-7"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-slate-900 tracking-tight leading-none",children:"New Registry Entry"}),a.jsx("p",{className:"text-[10px] text-slate-400 uppercase tracking-[0.2em] font-black mt-2",children:"Strategic Pipeline"})]})]}),a.jsx("button",{onClick:()=>{j(!1),A({type:"feature",title:"",description:""})},className:"p-2 hover:bg-white rounded-full transition-colors border border-transparent hover:border-slate-200",children:a.jsx(mr,{className:"w-6 h-6 text-slate-400"})})]}),a.jsxs("form",{onSubmit:oe,className:"flex-1 overflow-y-auto p-10 custom-scrollbar",children:[a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Classification"}),a.jsx("div",{className:"flex gap-2 p-1 bg-slate-100 rounded-2xl border border-slate-200",children:[{id:"bug",icon:a.jsx(Av,{className:"w-4 h-4"}),label:"Bug",color:"bg-red-50 text-red-600 border-red-200"},{id:"feature",icon:a.jsx(xi,{className:"w-4 h-4"}),label:"Feature",color:"bg-indigo-50 text-indigo-600 border-indigo-200"},{id:"idea",icon:a.jsx(Nj,{className:"w-4 h-4"}),label:"Idea",color:"bg-amber-50 text-amber-600 border-amber-200"}].map(fe=>a.jsxs("button",{type:"button",onClick:()=>A({...P,type:fe.id}),className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-xl text-[10px] font-black uppercase tracking-tighter transition-all border ${P.type===fe.id?`${fe.color} shadow-md`:"bg-white text-slate-400 border-transparent hover:text-slate-600"}`,children:[fe.icon," ",fe.label]},fe.id))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Title *"}),a.jsx("input",{required:!0,type:"text",placeholder:"Enter entry title...",value:P.title,onChange:fe=>A({...P,title:fe.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-bold outline-none focus:ring-4 focus:ring-indigo-50"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Description *"}),a.jsx("textarea",{required:!0,rows:6,placeholder:"Provide detailed context and strategic notes...",value:P.description,onChange:fe=>A({...P,description:fe.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-[20px] text-sm font-medium outline-none focus:ring-4 focus:ring-indigo-50 resize-none"})]})]}),a.jsxs("div",{className:"flex gap-4 pt-8 mt-8 border-t border-slate-100",children:[a.jsx("button",{type:"button",onClick:()=>{j(!1),A({type:"feature",title:"",description:""})},className:"flex-1 py-4 border border-slate-200 text-slate-400 font-black uppercase text-xs tracking-widest rounded-[24px] hover:bg-slate-50 transition-all",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:N||!P.title||!P.description,className:"flex-[2] py-4 bg-indigo-600 text-white font-black uppercase text-xs tracking-[0.2em] rounded-[24px] hover:bg-indigo-700 transition-all shadow-2xl flex items-center justify-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed",children:N?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-5 h-5 animate-spin"})," Adding..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Nu,{className:"w-5 h-5"})," Add to Pipeline"]})})]})]})]})}),g&&a.jsxs("div",{className:"fixed inset-0 z-[110] overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md pointer-events-auto animate-in fade-in duration-300",onClick:()=>b(null)}),a.jsxs("div",{className:"absolute right-0 inset-y-0 w-full max-w-xl bg-white shadow-2xl pointer-events-auto animate-in slide-in-from-right duration-500 flex flex-col",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 bg-slate-50/50 relative",children:[a.jsx("button",{onClick:()=>b(null),className:"absolute top-6 right-6 p-2 hover:bg-white rounded-full text-slate-400 transition-all shadow-sm z-10",children:a.jsx(mr,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex items-center gap-5 mb-6",children:[a.jsx("div",{className:`w-16 h-16 rounded-[24px] flex items-center justify-center text-white shadow-xl ${g.type==="bug"?"bg-red-500 shadow-red-100":g.type==="feature"?"bg-indigo-500 shadow-indigo-100":"bg-amber-500 shadow-amber-100"}`,children:Pe(g.type,"w-8 h-8")}),a.jsxs("div",{children:[a.jsx("div",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border inline-block mb-1.5 ${we(g.type)}`,children:g.type}),a.jsx("h2",{className:"text-2xl font-black text-slate-900 tracking-tight leading-tight",children:g.title})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"flex-1 p-4 bg-white rounded-2xl border border-slate-200 shadow-sm flex items-center gap-3",children:[ke(g.status,"w-5 h-5"),a.jsxs("div",{children:[a.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Pipeline Status"}),a.jsx("p",{className:"text-xs font-bold text-slate-900 capitalize",children:g.status.replace("-"," ")})]})]}),a.jsxs("div",{className:"flex-1 p-4 bg-white rounded-2xl border border-slate-200 shadow-sm flex items-center gap-3",children:[a.jsx(Ha,{className:"w-5 h-5 text-indigo-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Submitted On"}),a.jsx("p",{className:"text-xs font-bold text-slate-900",children:new Date(g.createdAt).toLocaleDateString()})]})]})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-10 space-y-10 custom-scrollbar",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between gap-3",children:[a.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(oo,{className:"w-4 h-4 text-indigo-500"})," Observation Context"]}),de&&a.jsx("button",{type:"button",onClick:he,disabled:E||V.trim()===(g.description||"").trim(),className:"px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-widest bg-slate-900 text-white hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-default flex items-center gap-2",children:E?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-3 h-3 animate-spin"})," Saving"]}):a.jsxs(a.Fragment,{children:[a.jsx(Cn,{className:"w-3 h-3"})," Save Context"]})})]}),de?a.jsxs("div",{className:"p-4 bg-slate-950 rounded-[32px] text-indigo-50 relative shadow-2xl",children:[a.jsx("textarea",{rows:4,value:V,onChange:fe=>U(fe.target.value),className:"w-full bg-transparent border-none outline-none resize-none text-sm leading-relaxed placeholder:text-slate-500",placeholder:"Describe the bug, feature, or idea in more detail..."}),a.jsx("div",{className:"pointer-events-none absolute top-0 right-0 w-40 h-40 bg-indigo-500/10 blur-[100px] rounded-full translate-x-1/2 -translate-y-1/2"})]}):a.jsxs("div",{className:"p-8 bg-slate-950 rounded-[40px] text-indigo-50 relative overflow-hidden group shadow-2xl",children:[a.jsxs("p",{className:"text-lg leading-relaxed italic opacity-90 z-10 relative",children:['"',g.description,'"']}),a.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-indigo-500/10 blur-[100px] rounded-full translate-x-1/2 -translate-y-1/2"})]})]}),g.url&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(If,{className:"w-4 h-4 text-indigo-500"})," URL Attachment"]}),a.jsx("div",{className:"flex flex-wrap gap-3",children:a.jsxs("a",{href:g.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2.5 bg-indigo-50 text-indigo-600 rounded-xl text-xs font-bold hover:bg-indigo-100 transition-colors border border-indigo-200",children:[g.url.match(/\.(jpg|jpeg|png|gif|webp|svg)(\?|$)/i)?a.jsx(tl,{className:"w-4 h-4"}):a.jsx($h,{className:"w-4 h-4"}),a.jsx("span",{className:"truncate max-w-[200px]",children:g.url.length>40?`${g.url.substring(0,40)}...`:g.url}),a.jsx(vi,{className:"w-4 h-4"})]})})]}),g.attachments&&g.attachments.length>0&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(tl,{className:"w-4 h-4 text-indigo-500"})," File Attachments"]}),a.jsx("div",{className:"flex flex-wrap gap-3",children:g.attachments.map((fe,De)=>fe.type==="image"&&fe.data?a.jsxs("button",{type:"button",onClick:()=>ne({src:fe.data,alt:fe.filename||"Attachment"}),className:"inline-flex items-center gap-2 px-4 py-2.5 bg-slate-100 text-slate-700 rounded-xl text-xs font-bold hover:bg-slate-200 transition-colors border border-slate-200",children:[a.jsx(tl,{className:"w-4 h-4"}),a.jsx("span",{className:"truncate max-w-[150px]",children:fe.filename||"Screenshot"})]},De):fe.type==="video"&&fe.data?a.jsxs("a",{href:fe.data,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2.5 bg-slate-100 text-slate-700 rounded-xl text-xs font-bold hover:bg-slate-200 transition-colors border border-slate-200",children:[a.jsx($h,{className:"w-4 h-4"}),a.jsx("span",{className:"truncate max-w-[150px]",children:fe.filename||"Video"}),a.jsx(vi,{className:"w-4 h-4"})]},De):null)})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(rl,{className:"w-4 h-4 text-indigo-500"})," Contributor Details"]}),a.jsxs("div",{className:"p-6 bg-slate-50 border border-slate-100 rounded-[32px] flex items-center gap-5",children:[a.jsx("div",{className:"w-14 h-14 bg-white rounded-2xl flex items-center justify-center text-indigo-600 text-xl font-black shadow-sm border border-slate-200",children:c.find(fe=>fe.id===g.userId)?.name?.charAt(0)||"U"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-black text-slate-900",children:c.find(fe=>fe.id===g.userId)?.name||"Impact Member"}),a.jsxs("p",{className:"text-xs text-slate-500 font-bold uppercase tracking-widest",children:[c.find(fe=>fe.id===g.userId)?.role||"Stakeholder","  Enterprise Contributor"]})]})]})]}),de&&a.jsxs("div",{className:"space-y-4 animate-in slide-in-from-bottom-4",children:[a.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(qd,{className:"w-4 h-4 text-indigo-500"})," Strategic Alignment"]}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:["planned","in-progress","done","postponed","canceled"].map(fe=>a.jsxs("button",{onClick:()=>Le(g.id,fe),className:`flex items-center gap-2 p-4 rounded-2xl border text-[10px] font-black uppercase tracking-widest transition-all ${g.status===fe?"bg-indigo-600 text-white border-indigo-600 shadow-lg":"bg-white text-slate-500 border-slate-200 hover:border-indigo-400"}`,children:[ke(fe,"w-3 h-3"),fe.replace("-"," ")]},fe))})]})]}),a.jsxs("div",{className:"p-8 border-t border-slate-100 bg-white flex gap-4",children:[a.jsx("button",{onClick:()=>C(g),className:"px-6 py-4 border border-red-200 bg-white text-red-600 hover:bg-red-50 rounded-[24px] transition-all group shrink-0 active:scale-95",children:a.jsx($r,{className:"w-6 h-6 group-hover:scale-110 transition-transform"})}),a.jsxs("button",{onClick:()=>b(null),className:"flex-1 py-4 bg-slate-900 text-white font-black uppercase text-xs tracking-[0.2em] rounded-[24px] hover:bg-indigo-700 active:scale-95 transition-all shadow-2xl flex items-center justify-center gap-3",children:[a.jsx(Cn,{className:"w-5 h-5"})," Dismiss Audit View"]})]})]})]}),O.type&&O.item&&a.jsx("div",{className:"fixed inset-0 z-[130] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-[32px] w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center ${O.type==="done"?"bg-emerald-50 text-emerald-600":O.type==="in-execution"?"bg-blue-50 text-blue-600":"bg-slate-100 text-slate-600"}`,children:O.type==="done"?a.jsx(Cn,{className:"w-6 h-6"}):O.type==="in-execution"?a.jsx(ws,{className:"w-6 h-6"}):a.jsx(Qu,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-slate-900",children:O.type==="done"?"Mark as Done?":O.type==="in-execution"?"Mark as In Execution?":"Archive Entry?"}),a.jsx("p",{className:"text-xs text-slate-400 font-medium mt-1",children:O.type==="done"?"This will move the entry to Archive & Done":O.type==="in-execution"?"This will mark the entry as in progress":"This will archive the entry"})]})]}),a.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-200",children:[a.jsx("p",{className:"text-sm font-bold text-slate-900 mb-1",children:O.item.title}),a.jsx("p",{className:"text-xs text-slate-500 line-clamp-2",children:O.item.description})]})]}),a.jsxs("div",{className:"p-6 flex gap-3",children:[a.jsx("button",{onClick:()=>D({type:null,item:null}),className:"flex-1 py-3 border border-slate-200 text-slate-400 font-black uppercase text-xs tracking-widest rounded-xl hover:bg-slate-50 transition-all",children:"Cancel"}),a.jsx("button",{onClick:ae,className:`flex-1 py-3 font-black uppercase text-xs tracking-widest rounded-xl transition-all shadow-lg ${O.type==="done"?"bg-emerald-600 text-white hover:bg-emerald-700":O.type==="in-execution"?"bg-blue-600 text-white hover:bg-blue-700":"bg-slate-600 text-white hover:bg-slate-700"}`,children:O.type==="done"?"Mark Done":O.type==="in-execution"?"Start Execution":"Archive"})]})]})}),R&&a.jsx("div",{className:"fixed inset-0 z-[130] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-[32px] w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center bg-red-50 text-red-600",children:a.jsx($r,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-slate-900",children:"Delete Entry?"}),a.jsx("p",{className:"text-xs text-slate-400 font-medium mt-1",children:"This action cannot be undone. The entry will be permanently removed from the registry."})]})]}),a.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-200",children:[a.jsx("p",{className:"text-sm font-bold text-slate-900 mb-1",children:R.title}),a.jsx("p",{className:"text-xs text-slate-500 line-clamp-2",children:R.description})]})]}),a.jsxs("div",{className:"p-6 flex gap-3",children:[a.jsx("button",{onClick:()=>C(null),disabled:T,className:"flex-1 py-3 border border-slate-200 text-slate-400 font-black uppercase text-xs tracking-widest rounded-xl hover:bg-slate-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),a.jsx("button",{onClick:()=>se(R.id),disabled:T,className:"flex-1 py-3 bg-red-600 text-white font-black uppercase text-xs tracking-widest rounded-xl hover:bg-red-700 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:T?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):"Delete Entry"})]})]})}),B.length>0&&a.jsx("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-[100] animate-in slide-in-from-bottom-10 duration-300",children:a.jsxs("div",{className:"bg-slate-900 text-white rounded-3xl shadow-2xl px-8 py-4 flex items-center gap-8 border border-white/10 ring-4 ring-indigo-500/10",children:[a.jsxs("span",{className:"text-sm font-black flex items-center gap-3",children:[a.jsx("div",{className:"w-6 h-6 bg-indigo-500 rounded-full flex items-center justify-center text-[10px]",children:B.length}),"Selected"]}),a.jsx("div",{className:"h-8 w-px bg-white/10"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{onClick:fe=>{if(fe.preventDefault(),fe.stopPropagation(),!de){n("Only admins can delete entries");return}if(B.length===0){n("No items selected");return}Y(!0)},disabled:re,className:"px-5 py-2 bg-red-600 hover:bg-red-700 rounded-xl text-xs font-black uppercase tracking-widest transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[re?a.jsx(Et,{className:"w-3.5 h-3.5 animate-spin"}):a.jsx($r,{className:"w-3.5 h-3.5"}),"Delete"]}),a.jsx("button",{onClick:()=>X([]),className:"p-2 hover:bg-white/10 rounded-xl text-slate-400 transition-colors",children:a.jsx(mr,{className:"w-5 h-5"})})]})]})}),te&&B.length>0&&a.jsx("div",{className:"fixed inset-0 z-[130] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-[32px] w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center bg-red-50 text-red-600",children:a.jsx($r,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xl font-black text-slate-900",children:["Delete ",B.length," Entr",B.length>1?"ies":"y","?"]}),a.jsx("p",{className:"text-xs text-slate-400 font-medium mt-1",children:"This action cannot be undone. The entries will be permanently removed from the registry."})]})]}),a.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-200 max-h-48 overflow-y-auto",children:[o.filter(fe=>B.includes(fe.id)).slice(0,5).map(fe=>a.jsxs("div",{className:"flex items-center gap-3 mb-2 last:mb-0",children:[Pe(fe.type,"w-4 h-4"),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-xs font-bold text-slate-900",children:fe.title}),a.jsx("p",{className:"text-[10px] text-slate-500 capitalize",children:fe.type})]})]},fe.id)),B.length>5&&a.jsxs("p",{className:"text-xs text-slate-400 font-medium mt-2 text-center",children:["+ ",B.length-5," more"]})]})]}),a.jsxs("div",{className:"p-6 flex gap-3",children:[a.jsx("button",{onClick:()=>Y(!1),disabled:re,className:"flex-1 py-3 border border-slate-200 text-slate-400 font-black uppercase text-xs tracking-widest rounded-xl hover:bg-slate-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),a.jsx("button",{onClick:fe=>{fe.preventDefault(),fe.stopPropagation(),_e()},disabled:re,className:"flex-1 py-3 bg-red-600 text-white font-black uppercase text-xs tracking-widest rounded-xl hover:bg-red-700 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:re?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):`Delete ${B.length} Entr${B.length>1?"ies":"y"}`})]})]})})]})},Sve=({currentUser:e})=>{const{showSuccess:t,showError:r}=Ms(),[n,s]=z.useState([]),[i,o]=z.useState([]),[l,c]=z.useState([]),[u,d]=z.useState(null),[h,m]=z.useState(!0),[p,y]=z.useState(!1),[v,g]=z.useState([]),[b,w]=z.useState(!1),[j,N]=z.useState("select"),[k,P]=z.useState(""),[A,O]=z.useState(!1),[D,R]=z.useState(!1),[C,T]=z.useState([]),[I,B]=z.useState(!1),[X,re]=z.useState(!1),[Z,te]=z.useState(!1),[Y,Q]=z.useState(!1),[H,E]=z.useState(!1),[q,V]=z.useState(!1),[U,G]=z.useState(""),[ne,de]=z.useState(!1),ce=z.useRef(null),[he,Le]=z.useState({companyId:"",title:"",amount:"",category:"",date:new Date().toISOString().split("T")[0],description:"",status:"Pending",receiptFile:null}),se=z.useCallback(async()=>{try{const Me=await S7(),ut=Me?.data||Me||[];c(Array.isArray(ut)?ut:[])}catch{c([{id:"default-1",name:"Travel",isDefault:!0},{id:"default-2",name:"Meals",isDefault:!0},{id:"default-3",name:"Office Supplies",isDefault:!0},{id:"default-4",name:"Software",isDefault:!0},{id:"default-5",name:"Marketing",isDefault:!0},{id:"default-6",name:"Professional Services",isDefault:!0},{id:"default-7",name:"Utilities",isDefault:!0},{id:"default-8",name:"Equipment",isDefault:!0},{id:"default-9",name:"Other",isDefault:!0}])}},[]),Fe=z.useCallback(async()=>{m(!0);try{const Me=e?.id||JSON.parse(localStorage.getItem("user_data")||"{}").id;if(!Me){s([]),m(!1);return}const ut={userId:Me};v.length===1&&(ut.companyId=v[0]);const ot=await xne(ut);let rt=ot?.data||ot||[];rt=Array.isArray(rt)?rt:[],v.length>1&&(rt=rt.filter(lr=>v.includes(lr.companyId))),s(rt);try{const lr=await hd();o(lr?.data||lr||[])}catch(lr){console.error("[Expenses] Failed to fetch companies:",lr),o([])}}catch(Me){console.error("[Expenses] Error fetching expenses:",Me),r(Me.message||"Failed to load expenses"),s([])}finally{m(!1)}},[e,v,r]);z.useEffect(()=>{se()},[se]),z.useEffect(()=>{Fe()},[Fe]),z.useEffect(()=>{const Me=()=>Fe();return window.addEventListener("refresh-expenses",Me),()=>window.removeEventListener("refresh-expenses",Me)},[Fe]);const _e=Me=>i.find(ut=>ut.id===Me),oe=Me=>{switch(Me){case"Approved":return"bg-emerald-50 text-emerald-600 border-emerald-100";case"Rejected":return"bg-red-50 text-red-600 border-red-100";default:return"bg-amber-50 text-amber-600 border-amber-100"}},ae=n,ke={totalExpenses:ae.reduce((Me,ut)=>Me+(ut.amount||0),0),pendingCount:ae.filter(Me=>Me.status==="Pending"||!Me.status).length,approvedCount:ae.filter(Me=>Me.status==="Approved").length,thisMonth:ae.filter(Me=>{const ut=new Date(Me.date),ot=new Date;return ut.getMonth()===ot.getMonth()&&ut.getFullYear()===ot.getFullYear()}).reduce((Me,ut)=>Me+(ut.amount||0),0)},we=()=>{C.length===ae.length&&ae.length>0?T([]):T(ae.map(Me=>Me.id))},Pe=(Me,ut=1920,ot=1080,rt=.8)=>new Promise((lr,er)=>{const xt=new FileReader;xt.onload=Ht=>{const Ut=new Image;Ut.onload=()=>{let qe=Ut.width,jt=Ut.height;qe>jt?qe>ut&&(jt=jt*ut/qe,qe=ut):jt>ot&&(qe=qe*ot/jt,jt=ot);const kr=document.createElement("canvas");kr.width=qe,kr.height=jt;const zt=kr.getContext("2d");if(!zt){er(new Error("Failed to create canvas context"));return}zt.drawImage(Ut,0,0,qe,jt);const _r=kr.toDataURL("image/jpeg",rt);lr(_r)},Ut.onerror=()=>er(new Error("Failed to load image")),Ut.src=Ht.target?.result},xt.onerror=()=>er(new Error("Failed to read file")),xt.readAsDataURL(Me)}),pe=async Me=>{const ut=Me.target.files?.[0];if(ut){if(!ut.type.startsWith("image/")&&!ut.type.includes("pdf")){r("Please select an image or PDF file");return}if(ut.size>10*1024*1024){r("File size must be less than 10MB");return}V(!0);try{if(ut.type.startsWith("image/")){const ot=await Pe(ut,1920,1080,.8);G(ot),Le(rt=>({...rt,receiptFile:ut}))}else{const ot=new FileReader;ot.onload=()=>{G(ot.result),Le(rt=>({...rt,receiptFile:ut}))},ot.readAsDataURL(ut)}}catch(ot){r(ot.message||"Failed to process receipt")}finally{V(!1)}}},fe=async Me=>{if(Me.preventDefault(),!he.companyId||!he.title||!he.amount||!he.category||!he.date){r("Please fill in all required fields");return}E(!0);try{const ut=e?.id||JSON.parse(localStorage.getItem("user_data")||"{}").id;let ot="",rt="",lr="";he.receiptFile&&(he.receiptFile.type.startsWith("image/"),ot=U,rt=he.receiptFile.name,lr=he.receiptFile.type),await gne({companyId:he.companyId,title:he.title,amount:parseFloat(he.amount),category:he.category,date:new Date(he.date).toISOString(),description:he.description,status:he.status,receiptUrl:ot||void 0,receiptFilename:rt||void 0,receiptMimeType:lr||void 0,userId:ut}),t("Expense added successfully"),Q(!1),Le({companyId:"",title:"",amount:"",category:"",date:new Date().toISOString().split("T")[0],description:"",status:"Pending",receiptFile:null}),G(""),ce.current&&(ce.current.value=""),Fe(),window.dispatchEvent(new Event("refresh-expenses"))}catch(ut){r(ut.message||"Failed to add expense")}finally{E(!1)}},De=async()=>{if(k.trim()){O(!0);try{const Me=await _7({name:k.trim()});if(Me?.data){const ut=Me.data;c(ot=>[...ot,ut]),Le(ot=>({...ot,category:ut.name})),P(""),w(!1),t("Category added successfully")}}catch(Me){Me.message?.includes("already exists")||Me.message?.includes("CATEGORY_EXISTS")?r("Category with this name already exists"):r(Me.message||"Failed to add category")}finally{O(!1)}}},Xe=async(Me,ut)=>{de(!0);try{await vne(Me,{status:ut}),s(ot=>ot.map(rt=>rt.id===Me?{...rt,status:ut}:rt)),u&&u.id===Me&&d({...u,status:ut}),t(`Expense status updated to ${ut}`),window.dispatchEvent(new Event("refresh-expenses"))}catch(ot){r(ot.message||"Failed to update expense status")}finally{de(!1)}},Je=async()=>{if(u){y(!0);try{await BP(u.id),s(Me=>Me.filter(ut=>ut.id!==u.id)),d(null),te(!1),t("Expense deleted successfully"),window.dispatchEvent(new Event("refresh-expenses"))}catch(Me){r(Me.message||"Failed to delete expense")}finally{y(!1)}}},ht=async()=>{const Me=[...C];if(Me.length!==0){B(!0),re(!1);try{await Promise.all(Me.map(ut=>BP(ut))),s(ut=>ut.filter(ot=>!Me.includes(ot.id))),T([]),t(`Successfully deleted ${Me.length} expense(s)`),window.dispatchEvent(new Event("refresh-expenses"))}catch{r("Failed to delete some expenses")}finally{B(!1)}}},Ue=Me=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(Me),at=Me=>new Date(Me).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return h?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx(Et,{className:"w-8 h-8 animate-spin text-indigo-600"})}):a.jsxs("div",{className:"p-6 lg:p-10 max-w-7xl mx-auto pb-20",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-black text-slate-900 mb-2",children:"Expenses"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Manage company expenses and receipts"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{onClick:()=>{N("manage"),w(!0)},className:"px-4 py-3 bg-white text-indigo-600 rounded-xl font-bold text-sm hover:bg-indigo-50 transition-all flex items-center gap-2 border-2 border-indigo-200",children:[a.jsx(vs,{className:"w-4 h-4"}),"Manage Categories"]}),a.jsxs("button",{onClick:()=>Q(!0),className:"px-6 py-3 bg-indigo-600 text-white rounded-xl font-bold text-sm hover:bg-indigo-700 transition-all flex items-center gap-2 shadow-lg",children:[a.jsx(_n,{className:"w-5 h-5"}),"Add Expense"]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[{label:"Total Expenses",value:Ue(ke.totalExpenses),icon:a.jsx(Xd,{className:"w-5 h-5"}),color:"text-indigo-600 bg-indigo-50"},{label:"Pending",value:ke.pendingCount.toString(),icon:a.jsx(ws,{className:"w-5 h-5"}),color:"text-amber-600 bg-amber-50"},{label:"Approved",value:ke.approvedCount.toString(),icon:a.jsx(al,{className:"w-5 h-5"}),color:"text-emerald-600 bg-emerald-50"},{label:"This Month",value:Ue(ke.thisMonth),icon:a.jsx(Ha,{className:"w-5 h-5"}),color:"text-blue-600 bg-blue-50"}].map((Me,ut)=>a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm",children:[a.jsx("div",{className:"flex items-center justify-between mb-2",children:a.jsx("div",{className:`p-2 rounded-lg ${Me.color}`,children:Me.icon})}),a.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:Me.label}),a.jsx("p",{className:"text-2xl font-black text-slate-900",children:Me.value})]},ut))}),a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Xm,{className:"w-4 h-4 text-slate-400"}),a.jsx("span",{className:"text-sm font-bold text-slate-600",children:"Filter by Company:"})]}),a.jsxs("button",{onClick:()=>R(!0),className:"px-4 py-2 border border-slate-200 rounded-lg text-sm font-bold bg-white hover:bg-slate-50 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors flex items-center gap-2",children:[a.jsx("span",{children:v.length===0?"All Companies":v.length===1?i.find(Me=>Me.id===v[0])?.name||"1 Selected":`${v.length} Companies Selected`}),v.length>0&&a.jsx("span",{className:"px-2 py-0.5 bg-indigo-600 text-white text-xs font-bold rounded-full",children:v.length})]}),a.jsxs("div",{className:"text-xs text-slate-400 font-bold ml-auto",children:["Showing ",ae.length," expense(s)"]})]}),C.length>0&&a.jsx("div",{className:"fixed bottom-8 left-1/2 transform -translate-x-1/2 z-50 animate-in fade-in slide-in-from-bottom-4 duration-300",children:a.jsxs("div",{className:"bg-slate-900 rounded-full px-6 py-4 shadow-2xl flex items-center gap-4 min-w-[320px]",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-500 flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-white text-sm font-black",children:C.length})}),a.jsx("span",{className:"text-white text-sm font-bold",children:"Selected"}),a.jsx("div",{className:"w-px h-6 bg-white/20"}),a.jsx("button",{onClick:()=>re(!0),disabled:I,className:"px-4 py-2 bg-red-600 text-white rounded-lg font-bold text-sm hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 flex-shrink-0",children:I?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):a.jsxs(a.Fragment,{children:[a.jsx($r,{className:"w-4 h-4"}),"DELETE"]})}),a.jsx("button",{onClick:()=>T([]),className:"p-1.5 hover:bg-white/10 rounded-full transition-colors flex-shrink-0 ml-auto","aria-label":"Dismiss",children:a.jsx(mr,{className:"w-5 h-5 text-white"})})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:`lg:col-span-2 space-y-4 ${u?"lg:pr-6":""}`,children:[ae.length>0&&a.jsx("div",{className:"flex items-center gap-3 mb-4",children:a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:C.length===ae.length&&ae.length>0,onChange:we,className:"rounded border-slate-300 text-indigo-600 focus:ring-indigo-500 w-4 h-4"}),a.jsx("span",{className:"text-sm font-bold text-slate-600",children:"Select All"})]})}),ae.length===0?a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-12 text-center",children:[a.jsx(Sj,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-black text-slate-900 mb-2",children:"No Expenses Found"}),a.jsx("p",{className:"text-slate-500 text-sm mb-6",children:"Get started by adding your first expense"}),a.jsxs("button",{onClick:()=>Q(!0),className:"px-6 py-3 bg-indigo-600 text-white rounded-xl font-bold text-sm hover:bg-indigo-700 transition-all",children:[a.jsx(_n,{className:"w-5 h-5 inline mr-2"}),"Add Expense"]})]}):ae.map(Me=>{const ut=_e(Me.companyId),ot=C.includes(Me.id);return a.jsxs("div",{onClick:()=>d(Me),className:`bg-white rounded-2xl border ${ot?"border-indigo-400 bg-indigo-50/30":"border-slate-200"} shadow-sm hover:shadow-xl transition-all cursor-pointer p-6 ${u?.id===Me.id?"ring-2 ring-indigo-500":""}`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[a.jsx("input",{type:"checkbox",checked:ot,onChange:rt=>{rt.stopPropagation(),T(lr=>ot?lr.filter(er=>er!==Me.id):[...lr,Me.id])},onClick:rt=>rt.stopPropagation(),className:"rounded border-slate-300 text-indigo-600 focus:ring-indigo-500 w-4 h-4 shrink-0"}),a.jsx(Xs,{src:ut?.logo,fallbackText:ut?.name,className:"w-10 h-10 rounded-xl shrink-0",isAvatar:!1}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-black text-slate-900 text-lg mb-1 truncate",children:Me.title}),a.jsx("p",{className:"text-sm text-slate-500 truncate",children:ut?.name||"Unknown Company"})]})]}),a.jsxs("div",{className:"text-right shrink-0 ml-4",children:[a.jsx("p",{className:"text-2xl font-black text-slate-900 mb-1",children:Ue(Me.amount)}),a.jsxs("select",{value:Me.status||"Pending",onChange:rt=>{rt.stopPropagation(),Xe(Me.id,rt.target.value)},onClick:rt=>rt.stopPropagation(),disabled:ne,className:`px-2 py-1 rounded-full text-[10px] font-black uppercase border outline-none cursor-pointer transition-all ${oe(Me.status||"Pending")} ${ne?"opacity-50 cursor-not-allowed":""}`,children:[a.jsx("option",{value:"Pending",children:"Pending"}),a.jsx("option",{value:"Approved",children:"Approved"}),a.jsx("option",{value:"Rejected",children:"Rejected"})]})]})]}),a.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500 mb-4",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(vs,{className:"w-3 h-3"}),a.jsx("span",{className:"font-bold",children:Me.category})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Ha,{className:"w-3 h-3"}),a.jsx("span",{className:"font-bold",children:at(Me.date)})]}),Me.receiptUrl&&a.jsxs("div",{className:"flex items-center gap-1 text-indigo-600",children:[a.jsx(Xa,{className:"w-3 h-3"}),a.jsx("span",{className:"font-bold",children:"Receipt"})]})]}),Me.description&&a.jsx("p",{className:"text-sm text-slate-600 mb-4 line-clamp-2",children:Me.description}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-100",children:[a.jsxs("button",{onClick:rt=>{rt.stopPropagation(),d(Me)},className:"text-xs font-bold text-indigo-600 hover:text-indigo-700 flex items-center gap-1",children:["View Details",a.jsx(bs,{className:"w-3 h-3"})]}),a.jsx("button",{onClick:rt=>{rt.stopPropagation(),d(Me),te(!0)},className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:a.jsx($r,{className:"w-4 h-4"})})]})]},Me.id)})]}),u&&a.jsxs("div",{className:"lg:col-span-1 bg-white rounded-2xl border border-slate-200 shadow-xl p-6 sticky top-6 max-h-[calc(100vh-3rem)] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-black text-slate-900",children:"Expense Details"}),a.jsx("button",{onClick:()=>d(null),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:a.jsx(mr,{className:"w-5 h-5 text-slate-400"})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Title"}),a.jsx("p",{className:"text-lg font-black text-slate-900",children:u.title})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Company"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Xs,{src:_e(u.companyId)?.logo,fallbackText:_e(u.companyId)?.name,className:"w-6 h-6 rounded-lg",isAvatar:!1}),a.jsx("p",{className:"text-sm font-bold text-slate-900",children:_e(u.companyId)?.name||"Unknown"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Amount"}),a.jsx("p",{className:"text-2xl font-black text-indigo-600",children:Ue(u.amount)})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Category"}),a.jsx("span",{className:"px-3 py-1.5 bg-indigo-50 text-indigo-600 rounded-lg text-sm font-bold",children:u.category})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Status"}),a.jsxs("select",{value:u.status||"Pending",onChange:Me=>{const ut=Me.target.value;Xe(u.id,ut)},disabled:ne,className:`w-full px-3 py-1.5 rounded-lg text-sm font-bold border outline-none focus:ring-2 focus:ring-indigo-500 transition-all ${oe(u.status||"Pending")} ${ne?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:[a.jsx("option",{value:"Pending",children:"Pending"}),a.jsx("option",{value:"Approved",children:"Approved"}),a.jsx("option",{value:"Rejected",children:"Rejected"})]}),ne&&a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[a.jsx(Et,{className:"w-3 h-3 animate-spin text-indigo-600"}),a.jsx("span",{className:"text-xs text-slate-500",children:"Updating..."})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Date"}),a.jsx("p",{className:"text-sm font-bold text-slate-900",children:at(u.date)})]}),u.description&&a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Description"}),a.jsx("p",{className:"text-sm text-slate-600",children:u.description})]}),u.receiptUrl&&a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Receipt"}),a.jsx("div",{className:"space-y-2",children:u.receiptMimeType?.startsWith("image/")?a.jsxs("div",{className:"relative group",children:[a.jsx("img",{src:u.receiptUrl,alt:u.receiptFilename||"Receipt",className:"w-full rounded-lg border border-slate-200 cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>{const Me=window.open();Me&&Me.document.write(`<img src="${u.receiptUrl}" style="max-width:100%;height:auto;" />`)}}),a.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/5 rounded-lg transition-colors flex items-center justify-center opacity-0 group-hover:opacity-100",children:a.jsx(Ud,{className:"w-6 h-6 text-white drop-shadow-lg"})})]}):a.jsxs("a",{href:u.receiptUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-3 bg-slate-50 border border-slate-200 rounded-lg hover:bg-slate-100 transition-colors",children:[a.jsx(Xa,{className:"w-5 h-5 text-indigo-600"}),a.jsx("span",{className:"text-sm font-bold text-slate-900 flex-1 truncate",children:u.receiptFilename||"Receipt"}),a.jsx(L0,{className:"w-4 h-4 text-slate-400"})]})})]}),a.jsx("div",{className:"pt-4 border-t border-slate-200",children:a.jsx("button",{onClick:()=>{d(u),te(!0)},disabled:p,className:"w-full px-4 py-3 bg-red-600 text-white rounded-xl font-bold text-sm hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:p?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):a.jsxs(a.Fragment,{children:[a.jsx($r,{className:"w-4 h-4"}),"Delete Expense"]})})})]})]})]}),Y&&a.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-[32px] w-full max-w-2xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-start bg-slate-50/50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-14 h-14 bg-indigo-600 rounded-2xl flex items-center justify-center text-white shadow-xl shadow-indigo-100",children:a.jsx(Sj,{className:"w-7 h-7"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-slate-900 tracking-tight leading-none",children:"Add Expense"}),a.jsx("p",{className:"text-[10px] text-slate-400 uppercase tracking-[0.2em] font-black mt-2",children:"Company Expense Management"})]})]}),a.jsx("button",{onClick:()=>{Q(!1),Le({companyId:"",title:"",amount:"",category:"",date:new Date().toISOString().split("T")[0],description:"",receiptFile:null}),G(""),ce.current&&(ce.current.value="")},className:"p-2 hover:bg-white rounded-full transition-colors border border-transparent hover:border-slate-200",children:a.jsx(mr,{className:"w-6 h-6 text-slate-400"})})]}),a.jsxs("form",{onSubmit:fe,className:"p-8 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1 mb-2 block",children:"Company *"}),a.jsxs("select",{required:!0,value:he.companyId,onChange:Me=>Le({...he,companyId:Me.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-bold outline-none focus:ring-4 focus:ring-indigo-50",children:[a.jsx("option",{value:"",children:"Select Company"}),i.map(Me=>a.jsx("option",{value:Me.id,children:Me.name},Me.id))]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1 mb-2 block",children:"Title *"}),a.jsx("input",{required:!0,type:"text",placeholder:"Expense title...",value:he.title,onChange:Me=>Le({...he,title:Me.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-bold outline-none focus:ring-4 focus:ring-indigo-50"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1 mb-2 block",children:"Amount *"}),a.jsx("input",{required:!0,type:"number",step:"0.01",min:"0",placeholder:"0.00",value:he.amount,onChange:Me=>Le({...he,amount:Me.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-bold outline-none focus:ring-4 focus:ring-indigo-50"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1 mb-2 block",children:"Category *"}),a.jsxs("button",{type:"button",onClick:()=>{N("select"),w(!0)},className:`w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-bold outline-none focus:ring-4 focus:ring-indigo-50 text-left flex items-center justify-between ${he.category?"text-slate-900":"text-slate-400"}`,children:[a.jsx("span",{children:he.category||"Select Category"}),a.jsx(bs,{className:"w-4 h-4 text-slate-400"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1 mb-2 block",children:"Date *"}),a.jsx("input",{required:!0,type:"date",value:he.date,onChange:Me=>Le({...he,date:Me.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-bold outline-none focus:ring-4 focus:ring-indigo-50"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1 mb-2 block",children:"Status"}),a.jsxs("select",{value:he.status,onChange:Me=>Le({...he,status:Me.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-bold outline-none focus:ring-4 focus:ring-indigo-50",children:[a.jsx("option",{value:"Pending",children:"Pending"}),a.jsx("option",{value:"Approved",children:"Approved"}),a.jsx("option",{value:"Rejected",children:"Rejected"})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1 mb-2 block",children:"Description"}),a.jsx("textarea",{rows:3,placeholder:"Additional details...",value:he.description,onChange:Me=>Le({...he,description:Me.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-medium outline-none focus:ring-4 focus:ring-indigo-50 resize-none"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1 mb-2 block",children:"Receipt (Image/PDF)"}),a.jsxs("label",{className:"flex items-center gap-3 p-4 bg-slate-50 border-2 border-dashed border-slate-200 rounded-xl cursor-pointer hover:border-indigo-300 hover:bg-indigo-50/30 transition-all",children:[a.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center text-indigo-600",children:q?a.jsx(Et,{className:"w-5 h-5 animate-spin"}):U?a.jsx(tl,{className:"w-5 h-5"}):a.jsx(Ou,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-xs font-bold text-slate-900",children:U?he.receiptFile?.name||"Receipt uploaded":"Upload Receipt"}),a.jsx("p",{className:"text-[10px] text-slate-400",children:"PNG, JPG, PDF (Max 10MB)"})]}),a.jsx("input",{ref:ce,type:"file",accept:"image/*,.pdf",onChange:pe,disabled:q,className:"hidden"})]}),U&&he.receiptFile?.type.startsWith("image/")&&a.jsx("div",{className:"mt-3",children:a.jsx("img",{src:U,alt:"Receipt preview",className:"w-full max-h-48 object-contain rounded-lg border border-slate-200"})}),U&&he.receiptFile?.type.includes("pdf")&&a.jsxs("div",{className:"mt-3 p-4 bg-red-50 border-2 border-red-200 rounded-xl flex items-center gap-3",children:[a.jsx(Xa,{className:"w-8 h-8 text-red-600 shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-bold text-red-900",children:he.receiptFile.name}),a.jsx("p",{className:"text-xs text-red-700 mt-0.5",children:"PDF document ready to upload"})]}),a.jsx("button",{type:"button",onClick:()=>{G(""),Le(Me=>({...Me,receiptFile:null})),ce.current&&(ce.current.value="")},className:"p-2 hover:bg-red-100 rounded-lg text-red-600 transition-all",children:a.jsx(mr,{className:"w-4 h-4"})})]})]})]}),a.jsxs("div",{className:"flex gap-4 pt-6 border-t border-slate-100",children:[a.jsx("button",{type:"button",onClick:()=>{Q(!1),Le({companyId:"",title:"",amount:"",category:"",date:new Date().toISOString().split("T")[0],description:"",receiptFile:null}),G(""),ce.current&&(ce.current.value="")},className:"flex-1 py-4 border border-slate-200 text-slate-400 font-black uppercase text-xs tracking-widest rounded-[24px] hover:bg-slate-50 transition-all",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:H||q,className:"flex-1 py-4 bg-indigo-600 text-white font-black uppercase text-xs tracking-widest rounded-[24px] hover:bg-indigo-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:H?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Adding..."]}):a.jsxs(a.Fragment,{children:[a.jsx(_n,{className:"w-4 h-4"}),"Add Expense"]})})]})]})]})}),Z&&u&&a.jsx("div",{className:"fixed inset-0 z-[130] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-[32px] w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center bg-red-50 text-red-600",children:a.jsx($r,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-slate-900",children:"Delete Expense?"}),a.jsx("p",{className:"text-xs text-slate-400 font-medium mt-1",children:"This action cannot be undone"})]})]}),a.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-200",children:[a.jsx("p",{className:"text-sm font-bold text-slate-900 mb-1",children:u.title}),a.jsxs("p",{className:"text-xs text-slate-500",children:[Ue(u.amount),"  ",_e(u.companyId)?.name||"Unknown"]})]})]}),a.jsxs("div",{className:"p-6 flex gap-3",children:[a.jsx("button",{onClick:()=>{te(!1),d(null)},className:"flex-1 py-3 border border-slate-200 text-slate-400 font-black uppercase text-xs tracking-widest rounded-xl hover:bg-slate-50 transition-all",children:"Cancel"}),a.jsx("button",{onClick:Je,disabled:p,className:"flex-1 py-3 bg-red-600 text-white font-black uppercase text-xs tracking-widest rounded-xl hover:bg-red-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:p?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):"Delete"})]})]})}),b&&a.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"p-6 border-b border-slate-200 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-black text-slate-900",children:j==="manage"?"Manage Categories":"Select Category"}),a.jsx("p",{className:"text-xs text-slate-400 mt-1",children:j==="manage"?"View and add expense categories":"Choose an expense category"})]}),a.jsx("button",{onClick:()=>{w(!1),P("")},className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:a.jsx(mr,{className:"w-5 h-5 text-slate-400"})})]}),a.jsx("div",{className:"p-6 max-h-[400px] overflow-y-auto",children:a.jsx("div",{className:"space-y-2",children:l.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(vs,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),a.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"No categories yet"}),a.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Add your first category below"})]}):j==="manage"?l.map(Me=>a.jsxs("div",{className:"px-4 py-3 rounded-xl bg-slate-50 border-2 border-slate-100 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-indigo-100 flex items-center justify-center",children:a.jsx(vs,{className:"w-4 h-4 text-indigo-600"})}),a.jsx("span",{className:"font-bold text-sm text-slate-900",children:Me.name})]}),a.jsx(Cn,{className:"w-5 h-5 text-emerald-600"})]},Me.id)):l.map(Me=>a.jsxs("button",{type:"button",onClick:()=>{Le({...he,category:Me.name}),w(!1)},className:`w-full px-4 py-3 rounded-xl text-left transition-all flex items-center justify-between ${he.category===Me.name?"bg-indigo-50 text-indigo-600 border-2 border-indigo-200":"bg-slate-50 text-slate-900 border-2 border-transparent hover:bg-slate-100"}`,children:[a.jsx("span",{className:"font-bold text-sm",children:Me.name}),he.category===Me.name?a.jsx(Cn,{className:"w-5 h-5 text-indigo-600"}):a.jsx(ad,{className:"w-5 h-5 text-slate-300"})]},Me.id))})}),a.jsxs("div",{className:"p-6 border-t border-slate-200 space-y-3",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",placeholder:"New category name...",value:k,onChange:Me=>P(Me.target.value),onKeyDown:Me=>{Me.key==="Enter"&&k.trim()&&!A&&(Me.preventDefault(),De())},className:"flex-1 px-4 py-2 border border-slate-200 rounded-xl text-sm font-bold outline-none focus:ring-4 focus:ring-indigo-50"}),a.jsx("button",{type:"button",onClick:De,disabled:!k.trim()||A,className:"px-6 py-2 bg-indigo-600 text-white rounded-xl font-bold text-sm hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:A?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Adding..."]}):a.jsxs(a.Fragment,{children:[a.jsx(_n,{className:"w-4 h-4"}),"Add"]})})]}),a.jsx("p",{className:"text-[10px] text-slate-400 font-medium",children:"Categories are shared across budgets and expenses"})]})]})}),D&&a.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"p-6 border-b border-slate-200 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-black text-slate-900",children:"Filter by Company"}),a.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Select one or more companies"})]}),a.jsx("button",{onClick:()=>R(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:a.jsx(mr,{className:"w-5 h-5 text-slate-400"})})]}),a.jsx("div",{className:"p-6 max-h-[400px] overflow-y-auto",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-xl hover:bg-slate-50 cursor-pointer transition-colors",children:[a.jsx("input",{type:"checkbox",checked:v.length===0,onChange:()=>{g([])},className:"rounded border-slate-300 text-indigo-600 focus:ring-indigo-500 w-4 h-4"}),a.jsx("span",{className:"font-bold text-sm text-slate-900",children:"All Companies"})]}),i.map(Me=>a.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-xl hover:bg-slate-50 cursor-pointer transition-colors",children:[a.jsx("input",{type:"checkbox",checked:v.includes(Me.id),onChange:ut=>{ut.target.checked?g(ot=>[...ot,Me.id]):g(ot=>ot.filter(rt=>rt!==Me.id))},className:"rounded border-slate-300 text-indigo-600 focus:ring-indigo-500 w-4 h-4"}),a.jsx(Xs,{src:Me.logo,fallbackText:Me.name,className:"w-6 h-6 rounded-lg",isAvatar:!1}),a.jsx("span",{className:"font-bold text-sm text-slate-900 flex-1",children:Me.name})]},Me.id))]})}),a.jsxs("div",{className:"p-6 border-t border-slate-200 flex items-center justify-between",children:[a.jsxs("button",{onClick:()=>{g([])},disabled:v.length===0,className:"px-4 py-2 border border-slate-200 text-slate-600 rounded-xl font-bold text-sm hover:bg-slate-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[a.jsx(mr,{className:"w-4 h-4"}),"Clear All"]}),a.jsxs("button",{onClick:()=>{R(!1),Fe()},className:"px-6 py-2 bg-indigo-600 text-white rounded-xl font-bold text-sm hover:bg-indigo-700 transition-colors",children:["Apply Filters (",v.length===0?"All":v.length,")"]})]})]})}),X&&a.jsx("div",{className:"fixed inset-0 z-[130] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-[32px] w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[a.jsx("div",{className:"p-8 border-b border-slate-100",children:a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center bg-red-50 text-red-600",children:a.jsx($r,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xl font-black text-slate-900",children:["Delete ",C.length," Expense(s)?"]}),a.jsx("p",{className:"text-xs text-slate-400 font-medium mt-1",children:"This action cannot be undone"})]})]})}),a.jsxs("div",{className:"p-6 flex gap-3",children:[a.jsx("button",{onClick:()=>re(!1),className:"flex-1 py-3 border border-slate-200 text-slate-400 font-black uppercase text-xs tracking-widest rounded-xl hover:bg-slate-50 transition-all",children:"Cancel"}),a.jsx("button",{onClick:ht,disabled:I,className:"flex-1 py-3 bg-red-600 text-white font-black uppercase text-xs tracking-widest rounded-xl hover:bg-red-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:I?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):"Delete All"})]})]})})]})},_ve=({currentUser:e})=>{const{showSuccess:t,showError:r}=Ms(),[n,s]=z.useState([]),[i,o]=z.useState([]),[l,c]=z.useState([]),[u,d]=z.useState(new Date().getFullYear()),[h,m]=z.useState(""),[p,y]=z.useState(null),[v,g]=z.useState(!0),[b,w]=z.useState(!1),[j,N]=z.useState("yearly"),[k,P]=z.useState(!1),[A,O]=z.useState(!1),[D,R]=z.useState(null),[C,T]=z.useState(!1),[I,B]=z.useState(!1),[X,re]=z.useState(null),[Z,te]=z.useState(!1),[Y,Q]=z.useState(""),[H,E]=z.useState(!1),[q,V]=z.useState({year:new Date().getFullYear(),department:"",categories:[]}),U=e?.role==="Admin",G=e?.id||JSON.parse(localStorage.getItem("user_data")||"{}").id,ne=Array.from({length:5},(pe,fe)=>new Date().getFullYear()-2+fe),de=z.useCallback(async()=>{try{const fe=(await kne())?.data||[];o(Array.isArray(fe)?fe:[])}catch(pe){console.error("[BUDGET] Error fetching departments:",pe)}},[]),ce=z.useCallback(async()=>{try{const fe=(await S7())?.data||[];c(Array.isArray(fe)?fe:[])}catch(pe){console.error("[BUDGET] Error fetching categories:",pe)}},[]),he=z.useCallback(async()=>{g(!0);try{const pe={year:u};h&&(pe.department=h),console.log("[Budget] Fetching budgets with params:",pe);const De=(await yne(pe))?.data||[];console.log("[Budget] Received budgets:",De),s(Array.isArray(De)?De:[])}catch(pe){console.error("[Budget] Error fetching budgets:",pe),r(pe.message||"Failed to load budgets")}finally{g(!1)}},[u,h,r]),Le=z.useCallback(async()=>{w(!0);try{const pe={year:u};h&&(pe.department=h),console.log("[Budget] Fetching tracking with params:",pe);const fe=await jne(pe);console.log("[Budget] Received tracking:",fe?.data),y(fe?.data||null)}catch(pe){console.error("[Budget] Error fetching tracking:",pe),y(null)}finally{w(!1)}},[u,h]);z.useEffect(()=>{de(),ce()},[de,ce]),z.useEffect(()=>{he(),Le()},[he,Le]);const se=()=>{V({year:u,department:h,categories:l.map(pe=>({categoryId:pe.id,categoryName:pe.name,yearlyBudget:0,q1Budget:0,q2Budget:0,q3Budget:0,q4Budget:0}))})},Fe=async()=>{if(Y.trim()){E(!0);try{const pe=await _7({name:Y.trim()});if(pe?.data){const fe=pe.data;c(De=>[...De,fe]),Q(""),t("Category added successfully"),ce()}}catch(pe){pe.message?.includes("already exists")||pe.message?.includes("CATEGORY_EXISTS")?r("Category with this name already exists"):r(pe.message||"Failed to add category")}finally{E(!1)}}},_e=async()=>{if(!G){r("User not found");return}if(q.categories.length===0){r("Please add at least one category");return}if(q.categories.reduce((fe,De)=>fe+De.yearlyBudget,0)===0){r("Total budget cannot be zero");return}T(!0);try{await bne({year:q.year,department:q.department||null,categories:q.categories,createdBy:G}),t("Budget created successfully"),P(!1),he(),Le()}catch(fe){r(fe.message||"Failed to create budget")}finally{T(!1)}},oe=async()=>{if(!(!D||!G)){T(!0);try{await wne(D.id,{categories:q.categories,updatedBy:G}),t("Budget updated successfully"),O(!1),R(null),he(),Le()}catch(pe){r(pe.message||"Failed to update budget")}finally{T(!1)}}},ae=async pe=>{B(!0);try{await Nne(pe.id),t("Budget deleted successfully"),re(null),he(),Le()}catch(fe){r(fe.message||"Failed to delete budget")}finally{B(!1)}},ke=pe=>pe>=1e6?`$${(pe/1e6).toFixed(1)}M`:pe>=1e3?`$${(pe/1e3).toFixed(1)}k`:`$${pe.toLocaleString()}`,we=pe=>pe>=100?"text-red-600":pe>=80?"text-amber-600":"text-emerald-600",Pe=pe=>pe>=100?"bg-red-500":pe>=80?"bg-amber-500":"bg-emerald-500";return a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-10",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Budget Management"}),a.jsx("p",{className:"text-slate-500 text-sm font-medium mt-1",children:"Track spending against allocated budgets"})]}),U&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{onClick:()=>te(!0),className:"px-4 py-2 bg-white text-indigo-600 text-sm font-bold rounded-xl flex items-center gap-2 hover:bg-indigo-50 border-2 border-indigo-200 transition-all active:scale-95",children:[a.jsx(vs,{className:"w-4 h-4"})," Manage Categories"]}),a.jsxs("button",{onClick:()=>{se(),P(!0)},className:"px-4 py-2 bg-indigo-600 text-white text-sm font-bold rounded-xl flex items-center gap-2 hover:bg-indigo-700 shadow-lg transition-all active:scale-95",children:[a.jsx(_n,{className:"w-4 h-4"})," Create Budget"]})]})]}),a.jsx("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Year"}),a.jsx("select",{value:u,onChange:pe=>d(parseInt(pe.target.value)),className:"w-full px-4 py-3 border border-slate-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-2 focus:ring-indigo-500",children:ne.map(pe=>a.jsx("option",{value:pe,children:pe},pe))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Department"}),a.jsxs("select",{value:h,onChange:pe=>m(pe.target.value),className:"w-full px-4 py-3 border border-slate-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-2 focus:ring-indigo-500",children:[a.jsx("option",{value:"",children:"All Departments"}),i.map(pe=>a.jsx("option",{value:pe,children:pe},pe))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"View Mode"}),a.jsx("div",{className:"flex gap-2",children:["yearly","quarterly","monthly"].map(pe=>a.jsx("button",{onClick:()=>N(pe),className:`flex-1 px-3 py-3 rounded-xl text-xs font-black uppercase transition-all ${j===pe?"bg-indigo-600 text-white shadow-lg":"bg-slate-50 text-slate-400 border border-slate-200 hover:border-indigo-300"}`,children:pe},pe))})]})]})}),!v&&n.length>0&&a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-slate-100 bg-gradient-to-r from-slate-50 to-white",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-black text-slate-900",children:p&&p.hasBudget!==!1?"Current Budget":"Available Budgets"}),a.jsxs("p",{className:"text-xs text-slate-500 font-medium mt-1",children:[n.length," budget",n.length!==1?"s":""," for selected filters"]})]}),p&&p.hasBudget!==!1&&U&&a.jsxs("button",{onClick:()=>{const pe=n[0];R(pe),V({year:pe.year,department:pe.department||"",categories:pe.categories.map(fe=>({...fe,q1Budget:fe.q1Budget||0,q2Budget:fe.q2Budget||0,q3Budget:fe.q3Budget||0,q4Budget:fe.q4Budget||0}))}),O(!0)},className:"px-4 py-2 bg-indigo-50 text-indigo-600 font-bold text-xs uppercase tracking-widest rounded-xl hover:bg-indigo-100 transition-all flex items-center gap-2",children:[a.jsx(ec,{className:"w-4 h-4"})," Edit Budget"]})]})}),a.jsx("div",{className:"divide-y divide-slate-100",children:n.map(pe=>a.jsx("div",{className:"p-6 hover:bg-slate-50 transition-colors",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-900",children:[pe.year," ",pe.department&&`- ${pe.department}`]}),!pe.department&&a.jsx("span",{className:"px-2 py-1 bg-purple-50 text-purple-600 text-[10px] font-black uppercase rounded-lg border border-purple-200",children:"Global"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Total Budget"}),a.jsx("p",{className:"text-lg font-black text-indigo-600",children:ke(pe.totalBudget)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Categories"}),a.jsxs("p",{className:"text-sm font-bold text-slate-700",children:[pe.categories.length," configured"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Created"}),a.jsx("p",{className:"text-xs text-slate-500 font-medium",children:pe.createdAt?new Date(pe.createdAt).toLocaleDateString():"N/A"})]})]}),a.jsx("div",{className:"mt-3 pt-3 border-t border-slate-100",children:a.jsxs("details",{className:"group",children:[a.jsxs("summary",{className:"text-xs font-bold text-indigo-600 cursor-pointer hover:text-indigo-700 list-none flex items-center gap-2",children:[a.jsx(bs,{className:"w-4 h-4 transition-transform group-open:rotate-90"}),"View category breakdown"]}),a.jsx("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-2 gap-2",children:pe.categories.map(fe=>a.jsxs("div",{className:"p-2 bg-slate-50 rounded-lg",children:[a.jsx("p",{className:"text-xs font-bold text-slate-900",children:fe.categoryName}),a.jsxs("p",{className:"text-xs text-slate-600 mt-1",children:["Yearly: ",a.jsx("span",{className:"font-black",children:ke(fe.yearlyBudget)})]})]},fe.categoryId))})]})})]}),U&&!(p&&p.hasBudget!==!1)&&a.jsxs("button",{onClick:()=>{R(pe),V({year:pe.year,department:pe.department||"",categories:pe.categories.map(fe=>({...fe,q1Budget:fe.q1Budget||0,q2Budget:fe.q2Budget||0,q3Budget:fe.q3Budget||0,q4Budget:fe.q4Budget||0}))}),O(!0)},className:"px-4 py-2 bg-indigo-50 text-indigo-600 font-bold text-xs uppercase tracking-widest rounded-xl hover:bg-indigo-100 transition-all flex items-center gap-2",children:[a.jsx(ec,{className:"w-4 h-4"})," View/Edit"]})]})},pe.id))})]}),p&&p.hasBudget!==!1&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-indigo-50 flex items-center justify-center",children:a.jsx(Xd,{className:"w-5 h-5 text-indigo-600"})}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Total Budget"})]}),a.jsx("h3",{className:"text-2xl font-black text-slate-900",children:ke(p.totalBudget)})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-50 flex items-center justify-center",children:a.jsx($d,{className:"w-5 h-5 text-blue-600"})}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Total Spent"})]}),a.jsx("h3",{className:"text-2xl font-black text-slate-900",children:ke(p.totalSpent)})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:`w-10 h-10 rounded-xl ${p.totalRemaining>=0?"bg-emerald-50":"bg-red-50"} flex items-center justify-center`,children:p.totalRemaining>=0?a.jsx(Cn,{className:"w-5 h-5 text-emerald-600"}):a.jsx(pa,{className:"w-5 h-5 text-red-600"})}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Remaining"})]}),a.jsx("h3",{className:`text-2xl font-black ${p.totalRemaining>=0?"text-emerald-600":"text-red-600"}`,children:ke(Math.abs(p.totalRemaining))})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-purple-50 flex items-center justify-center",children:a.jsx(Om,{className:"w-5 h-5 text-purple-600"})}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"% Used"})]}),a.jsxs("h3",{className:`text-2xl font-black ${we(p.totalPercentUsed)}`,children:[p.totalPercentUsed.toFixed(1),"%"]})]})]}),p&&p.isOverBudget&&a.jsxs("div",{className:"bg-red-50 border-2 border-red-200 rounded-2xl p-6 flex items-start gap-4 animate-in slide-in-from-top-2",children:[a.jsx(Vf,{className:"w-6 h-6 text-red-600 shrink-0 mt-1"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-black text-red-900 mb-1",children:"Budget Exceeded"}),a.jsxs("p",{className:"text-sm text-red-700",children:["You are ",a.jsx("span",{className:"font-black",children:ke(p.overBudgetAmount)})," over budget (",p.totalPercentUsed.toFixed(1),"% of total budget used)."]})]})]}),!v&&(!p||p.hasBudget===!1)&&a.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-2xl p-12 text-center",children:[a.jsx(J8,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"No Budget Set"}),a.jsx("p",{className:"text-sm text-slate-500 mb-6",children:U?`No budget has been set for ${u}${h?` - ${h}`:""}. Create one to start tracking.`:`No budget available for ${u}${h?` - ${h}`:""}.`}),U&&a.jsxs("button",{onClick:()=>{se(),P(!0)},className:"px-6 py-3 bg-indigo-600 text-white font-bold text-sm uppercase tracking-widest rounded-xl hover:bg-indigo-700 shadow-lg transition-all flex items-center gap-2 mx-auto",children:[a.jsx(_n,{className:"w-4 h-4"})," Create Budget"]})]}),p&&p.hasBudget!==!1&&p.categories&&a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:a.jsx("h2",{className:"text-lg font-black text-slate-900",children:"Spending vs Budget by Category"})}),a.jsx("div",{className:"divide-y divide-slate-100",children:p.categories.map(pe=>a.jsxs("div",{className:"p-6 hover:bg-slate-50 transition-colors",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-sm font-black text-slate-900 mb-1",children:pe.categoryName}),a.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[a.jsxs("span",{className:"text-slate-500 font-medium",children:["Budget: ",a.jsx("span",{className:"font-black text-slate-900",children:ke(pe.yearlyBudget)})]}),a.jsxs("span",{className:"text-slate-500 font-medium",children:["Spent: ",a.jsx("span",{className:"font-black text-slate-900",children:ke(pe.yearlySpent)})]}),a.jsxs("span",{className:`font-black ${we(pe.yearlyPercentUsed)}`,children:[pe.yearlyPercentUsed.toFixed(1),"%"]})]})]}),pe.isOverBudget&&a.jsxs("div",{className:"px-3 py-1 bg-red-50 text-red-600 text-xs font-black uppercase rounded-lg border border-red-200",children:["Over by ",ke(pe.overBudgetAmount)]})]}),a.jsxs("div",{className:"relative h-3 bg-slate-100 rounded-full overflow-hidden",children:[a.jsx("div",{className:`absolute left-0 top-0 h-full transition-all ${Pe(pe.yearlyPercentUsed)}`,style:{width:`${Math.min(pe.yearlyPercentUsed,100)}%`}}),pe.yearlyPercentUsed>100&&a.jsx("div",{className:"absolute left-0 top-0 h-full bg-red-500/30 border-r-2 border-red-600",style:{width:"100%"}})]}),j==="quarterly"&&a.jsx("div",{className:"grid grid-cols-4 gap-3 mt-4 pt-4 border-t border-slate-100",children:["q1","q2","q3","q4"].map((fe,De)=>{const Xe=pe.quarters[fe];return a.jsxs("div",{className:"p-3 bg-slate-50 rounded-xl",children:[a.jsxs("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-2",children:["Q",De+1]}),a.jsxs("p",{className:"text-xs text-slate-600 font-medium",children:[a.jsx("span",{className:"font-black text-slate-900",children:ke(Xe.spent)})," "," / ",ke(Xe.budget)]}),a.jsxs("p",{className:`text-xs font-black mt-1 ${we(Xe.percentUsed)}`,children:[Xe.percentUsed.toFixed(0),"%"]})]},fe)})})]},pe.categoryId))})]}),k&&a.jsxs("div",{className:"fixed inset-0 z-[120] overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md pointer-events-auto animate-in fade-in duration-300",onClick:()=>P(!1)}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4 pointer-events-none",children:a.jsxs("div",{className:"bg-white rounded-[32px] shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden pointer-events-auto animate-in zoom-in-95 duration-300 flex flex-col",children:[a.jsx("div",{className:"p-8 border-b border-slate-100 bg-gradient-to-r from-indigo-50 to-purple-50",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-14 h-14 rounded-2xl bg-indigo-600 flex items-center justify-center text-white shadow-lg",children:a.jsx(Xd,{className:"w-7 h-7"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900",children:"Create Budget"}),a.jsxs("p",{className:"text-sm text-slate-500 font-medium mt-0.5",children:["Set budget allocations for ",q.year]})]})]}),a.jsx("button",{onClick:()=>P(!1),className:"p-2 hover:bg-white rounded-full text-slate-400 hover:text-slate-600 transition-all",children:a.jsx(mr,{className:"w-5 h-5"})})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:["Year ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("select",{value:q.year,onChange:pe=>V(fe=>({...fe,year:parseInt(pe.target.value)})),className:"w-full px-4 py-3 border-2 border-slate-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100 focus:border-indigo-300",children:ne.map(pe=>a.jsx("option",{value:pe,children:pe},pe))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Department"}),a.jsxs("select",{value:q.department,onChange:pe=>V(fe=>({...fe,department:pe.target.value})),className:"w-full px-4 py-3 border-2 border-slate-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100 focus:border-indigo-300",children:[a.jsx("option",{value:"",children:"All Departments"}),i.map(pe=>a.jsx("option",{value:pe,children:pe},pe))]})]})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-sm font-black text-slate-900 mb-4 flex items-center gap-2",children:[a.jsx(vs,{className:"w-4 h-4 text-indigo-600"})," Category Budgets"]}),a.jsx("div",{className:"space-y-4",children:q.categories.map((pe,fe)=>a.jsxs("div",{className:"p-4 border-2 border-slate-200 rounded-xl",children:[a.jsx("h4",{className:"font-black text-slate-900 mb-3",children:pe.categoryName}),a.jsxs("div",{className:"grid grid-cols-5 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1 block",children:"Yearly"}),a.jsx("input",{type:"number",value:pe.yearlyBudget||"",onChange:De=>{const Xe=[...q.categories];Xe[fe].yearlyBudget=parseFloat(De.target.value)||0,V(Je=>({...Je,categories:Xe}))},className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm font-bold outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"0"})]}),["q1Budget","q2Budget","q3Budget","q4Budget"].map((De,Xe)=>a.jsxs("div",{children:[a.jsxs("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1 block",children:["Q",Xe+1]}),a.jsx("input",{type:"number",value:pe[De]||"",onChange:Je=>{const ht=[...q.categories];ht[fe][De]=parseFloat(Je.target.value)||0,V(Ue=>({...Ue,categories:ht}))},className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm font-bold outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"0"})]},De))]})]},pe.categoryId))}),a.jsx("div",{className:"mt-6 p-4 bg-indigo-50 border-2 border-indigo-200 rounded-xl",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-black text-indigo-900 uppercase tracking-widest",children:"Total Budget"}),a.jsx("span",{className:"text-2xl font-black text-indigo-600",children:ke(q.categories.reduce((pe,fe)=>pe+fe.yearlyBudget,0))})]})})]})]})}),a.jsxs("div",{className:"p-6 border-t border-slate-100 bg-slate-50 flex gap-3",children:[a.jsx("button",{onClick:()=>P(!1),disabled:C,className:"flex-1 py-3 border border-slate-200 text-slate-600 font-black uppercase text-xs tracking-widest rounded-xl hover:bg-white transition-all disabled:opacity-50",children:"Cancel"}),a.jsx("button",{onClick:_e,disabled:C,className:"flex-1 py-3 bg-indigo-600 text-white font-black uppercase text-xs tracking-widest rounded-xl hover:bg-indigo-700 transition-all shadow-lg disabled:opacity-50 flex items-center justify-center gap-2",children:C?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Creating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(wi,{className:"w-4 h-4"}),"Create Budget"]})})]})]})})]}),A&&D&&a.jsxs("div",{className:"fixed inset-0 z-[120] overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md pointer-events-auto animate-in fade-in duration-300",onClick:()=>{O(!1),R(null)}}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4 pointer-events-none",children:a.jsxs("div",{className:"bg-white rounded-[32px] shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden pointer-events-auto animate-in zoom-in-95 duration-300 flex flex-col",children:[a.jsx("div",{className:"p-8 border-b border-slate-100 bg-gradient-to-r from-indigo-50 to-purple-50",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-14 h-14 rounded-2xl bg-indigo-600 flex items-center justify-center text-white shadow-lg",children:a.jsx(ec,{className:"w-7 h-7"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900",children:"Edit Budget"}),a.jsxs("p",{className:"text-sm text-slate-500 font-medium mt-0.5",children:["Update budget allocations for ",D.year,D.department&&` - ${D.department}`]})]})]}),a.jsx("button",{onClick:()=>{O(!1),R(null)},className:"p-2 hover:bg-white rounded-full text-slate-400 hover:text-slate-600 transition-all",children:a.jsx(mr,{className:"w-5 h-5"})})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar",children:a.jsxs("div",{className:"space-y-4",children:[q.categories.map((pe,fe)=>a.jsxs("div",{className:"p-4 border-2 border-slate-200 rounded-xl",children:[a.jsx("h4",{className:"font-black text-slate-900 mb-3",children:pe.categoryName}),a.jsxs("div",{className:"grid grid-cols-5 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1 block",children:"Yearly"}),a.jsx("input",{type:"number",value:pe.yearlyBudget||"",onChange:De=>{const Xe=[...q.categories];Xe[fe].yearlyBudget=parseFloat(De.target.value)||0,V(Je=>({...Je,categories:Xe}))},className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm font-bold outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"0"})]}),["q1Budget","q2Budget","q3Budget","q4Budget"].map((De,Xe)=>a.jsxs("div",{children:[a.jsxs("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1 block",children:["Q",Xe+1]}),a.jsx("input",{type:"number",value:pe[De]||"",onChange:Je=>{const ht=[...q.categories];ht[fe][De]=parseFloat(Je.target.value)||0,V(Ue=>({...Ue,categories:ht}))},className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm font-bold outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"0"})]},De))]})]},pe.categoryId)),a.jsx("div",{className:"p-4 bg-indigo-50 border-2 border-indigo-200 rounded-xl",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-black text-indigo-900 uppercase tracking-widest",children:"Total Budget"}),a.jsx("span",{className:"text-2xl font-black text-indigo-600",children:ke(q.categories.reduce((pe,fe)=>pe+fe.yearlyBudget,0))})]})})]})}),a.jsxs("div",{className:"p-6 border-t border-slate-100 bg-slate-50 flex gap-3",children:[a.jsxs("button",{onClick:()=>re(D),disabled:C,className:"px-6 py-3 border-2 border-red-200 text-red-600 font-black uppercase text-xs tracking-widest rounded-xl hover:bg-red-50 transition-all disabled:opacity-50 flex items-center gap-2",children:[a.jsx($r,{className:"w-4 h-4"})," Delete"]}),a.jsx("button",{onClick:()=>{O(!1),R(null)},disabled:C,className:"flex-1 py-3 border border-slate-200 text-slate-600 font-black uppercase text-xs tracking-widest rounded-xl hover:bg-white transition-all disabled:opacity-50",children:"Cancel"}),a.jsx("button",{onClick:oe,disabled:C,className:"flex-1 py-3 bg-indigo-600 text-white font-black uppercase text-xs tracking-widest rounded-xl hover:bg-indigo-700 transition-all shadow-lg disabled:opacity-50 flex items-center justify-center gap-2",children:C?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(wi,{className:"w-4 h-4"}),"Save Changes"]})})]})]})})]}),X&&a.jsxs("div",{className:"fixed inset-0 z-[130] overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md pointer-events-auto animate-in fade-in duration-300",onClick:()=>re(null)}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4 pointer-events-none",children:a.jsxs("div",{className:"bg-white rounded-[28px] shadow-2xl max-w-md w-full pointer-events-auto animate-in zoom-in-95 duration-300 overflow-hidden",children:[a.jsxs("div",{className:"p-8 text-center",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-red-100 flex items-center justify-center text-red-600 mx-auto mb-6",children:a.jsx(Vf,{className:"w-8 h-8"})}),a.jsx("h2",{className:"text-2xl font-black text-slate-900 mb-3",children:"Delete Budget?"}),a.jsxs("p",{className:"text-sm text-slate-600 mb-6",children:["Are you sure you want to delete the budget for ",X.year,X.department&&` - ${X.department}`,"? This action cannot be undone."]})]}),a.jsxs("div",{className:"p-6 flex gap-3 bg-slate-50 border-t border-slate-100",children:[a.jsx("button",{onClick:()=>re(null),disabled:I,className:"flex-1 py-3 border border-slate-200 text-slate-600 font-black uppercase text-xs tracking-widest rounded-xl hover:bg-white transition-all disabled:opacity-50",children:"Cancel"}),a.jsx("button",{onClick:()=>ae(X),disabled:I,className:"flex-1 py-3 bg-red-600 text-white font-black uppercase text-xs tracking-widest rounded-xl hover:bg-red-700 transition-all shadow-lg disabled:opacity-50 flex items-center justify-center gap-2",children:I?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):a.jsxs(a.Fragment,{children:[a.jsx($r,{className:"w-4 h-4"}),"Delete Budget"]})})]})]})})]}),Z&&a.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"p-6 border-b border-slate-200 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-black text-slate-900",children:"Manage Categories"}),a.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"View and add budget/expense categories"})]}),a.jsx("button",{onClick:()=>{te(!1),Q("")},className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:a.jsx(mr,{className:"w-5 h-5 text-slate-400"})})]}),a.jsx("div",{className:"p-6 max-h-[400px] overflow-y-auto",children:a.jsx("div",{className:"space-y-2",children:l.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(vs,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),a.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"No categories yet"}),a.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Add your first category below"})]}):l.map(pe=>a.jsxs("div",{className:"px-4 py-3 rounded-xl bg-slate-50 border-2 border-slate-100 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-indigo-100 flex items-center justify-center",children:a.jsx(vs,{className:"w-4 h-4 text-indigo-600"})}),a.jsx("span",{className:"font-bold text-sm text-slate-900",children:pe.name})]}),a.jsx(Cn,{className:"w-5 h-5 text-emerald-600"})]},pe.id))})}),a.jsxs("div",{className:"p-6 border-t border-slate-200 space-y-3",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",placeholder:"New category name...",value:Y,onChange:pe=>Q(pe.target.value),onKeyDown:pe=>{pe.key==="Enter"&&Y.trim()&&!H&&(pe.preventDefault(),Fe())},className:"flex-1 px-4 py-2 border border-slate-200 rounded-xl text-sm font-bold outline-none focus:ring-4 focus:ring-indigo-50"}),a.jsx("button",{type:"button",onClick:Fe,disabled:!Y.trim()||H,className:"px-6 py-2 bg-indigo-600 text-white rounded-xl font-bold text-sm hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:H?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Adding..."]}):a.jsxs(a.Fragment,{children:[a.jsx(_n,{className:"w-4 h-4"}),"Add"]})})]}),a.jsx("p",{className:"text-[10px] text-slate-400 font-medium",children:"Categories are shared across budgets and expenses"})]})]})})]})},K8=["Draft","Pending Signature","Signed","Expired","Terminated"],Ave=({currentUser:e})=>{const{showSuccess:t,showError:r}=Ms(),[n,s]=z.useState([]),[i,o]=z.useState([]),[l,c]=z.useState([]),[u,d]=z.useState([]),[h,m]=z.useState(null),[p,y]=z.useState(!0),[v,g]=z.useState(!1),[b,w]=z.useState(!1),[j,N]=z.useState(""),[k,P]=z.useState(""),[A,O]=z.useState(""),[D,R]=z.useState(!1),[C,T]=z.useState(!1),[I,B]=z.useState(!1),[X,re]=z.useState(!1),Z=z.useRef(null),[te,Y]=z.useState(!1),[Q,H]=z.useState(!1),[E,q]=z.useState(!1),[V,U]=z.useState(!1),[G,ne]=z.useState(!1),[de,ce]=z.useState(""),[he,Le]=z.useState(!1),[se,Fe]=z.useState([]),[_e,oe]=z.useState(!1),[ae,ke]=z.useState({title:"",documentType:"",contractParty:"",companyId:"",contactId:"",expirationDate:"",renewalDate:"",signedDate:"",status:"Draft",description:"",tags:[],requiresSignature:!1,file:null,fileUrl:"",fileName:"",fileMimeType:"",fileSize:0,isGoogleDriveLinked:!1,googleDriveFileId:"",googleDriveWebViewLink:"",googleDriveDownloadLink:"",googleDriveIconUrl:""}),we=e?.id||JSON.parse(localStorage.getItem("user_data")||"{}").id,Pe=z.useCallback(async()=>{y(!0);try{if(!we){s([]),y(!1);return}const[qe,jt,kr,zt]=await Promise.all([A7({userId:we}),hd(),ag(),Cne()]);s(qe?.data||[]),o(jt?.data||[]),c(kr?.data||[]),d(zt?.data||[])}catch(qe){r(qe.message||"Failed to load contracts")}finally{y(!1)}},[we,r]);z.useEffect(()=>{Pe()},[Pe]);const pe=async()=>{if(h){oe(!0);try{const qe=await E3("contract",h.id);Fe(qe?.data||[])}catch(qe){console.error("[CONTRACTS] Failed to fetch contract activities:",qe),Fe([])}finally{oe(!1)}}};z.useEffect(()=>{h?pe():Fe([])},[h?.id]),z.useEffect(()=>{(async()=>{if(we)try{await UP({userId:we}),q(!0)}catch{q(!1)}})()},[we]);const fe=async()=>{if(!we){r("User not authenticated");return}U(!0);try{let qe;try{qe=await UP({userId:we})}catch(Tr){throw Tr.message?.includes("Failed to fetch")||Tr.message?.includes("ERR_CONNECTION_REFUSED")||Tr.message?.includes("NetworkError")?new Error("Backend server is not running. Please start the server and try again."):Tr}const{accessToken:jt,apiKey:kr}=qe?.data||{};if(!jt)throw new Error("Failed to get Google Drive access token. Please ensure your Google account is connected in Settings.");console.log("Google Picker - Access Token:",jt?"Present":"Missing"),console.log("Google Picker - API Key:",kr?`Present (${kr.substring(0,10)}...)`:"Not using (optional with OAuth)"),console.log("Full token response:",qe?.data),await new Promise((Tr,pr)=>{let Jt=0;const Lr=50,Ar=setInterval(()=>{Jt++,window.google&&window.google.picker?(clearInterval(Ar),Tr()):Jt>=Lr&&(clearInterval(Ar),pr(new Error("Google Picker API not loaded. Please refresh the page.")))},100)});const zt=window.google.picker;new zt.PickerBuilder().setOAuthToken(jt).setCallback(Tr=>{U(!1);try{if(console.log("Google Picker Callback - Full response data:",JSON.stringify(Tr,null,2)),console.log("Google Picker Response Action:",Tr[zt.Response.ACTION]),console.log("Google Picker Action Constants:",{PICKED:zt.Action.PICKED,CANCEL:zt.Action.CANCEL}),Tr[zt.Response.ACTION]===zt.Action.PICKED){const pr=Tr[zt.Response.DOCUMENTS];if(console.log("Google Picker - Documents array:",pr),console.log("Google Picker - Number of documents:",pr?.length),pr&&pr.length>0){const Jt=pr[0];console.log("Google Picker - Selected file data:",JSON.stringify(Jt,null,2)),console.log("Google Picker - File ID:",Jt.id),console.log("Google Picker - File Name:",Jt.name),console.log("Google Picker - File MIME Type:",Jt.mimeType),console.log("Google Picker - File URL:",Jt.url),console.log("Google Picker - File Service ID:",Jt.serviceId),De(Jt)}else console.error("Google Picker - No documents in response"),r("No file selected")}else if(Tr[zt.Response.ACTION]!==zt.Action.CANCEL){const pr=Tr[zt.Response.ERROR];pr&&(console.error("Google Picker Error:",pr),console.error("Error details:",JSON.stringify(Tr,null,2)),pr===zt.ResponseError.ACCESS_DENIED?r("Access denied. Please reconnect your Google account in Settings."):pr===zt.ResponseError.INVALID_CREDENTIALS?r("Invalid credentials. Please reconnect your Google account."):pr===zt.ResponseError.INVALID_DEVELOPER_KEY?r("Google Picker configuration error. Please try again."):r(`Google Picker error: ${pr}. Check browser console for details.`))}}catch(pr){console.error("Error handling picker callback:",pr),r("Failed to process selected file")}}).addView(zt.ViewId.DOCS).enableFeature(zt.Feature.NAV_HIDDEN).setSize(1051,650).build().setVisible(!0)}catch(qe){U(!1),console.error("Google Drive Picker Error:",qe),qe.message?.includes("Backend server is not running")?r("Backend server is not running. Please start the server on port 8050 and try again."):qe.message?.includes("not connected")||qe.message?.includes("GOOGLE_NOT_CONNECTED")?r("Google Drive not connected. Please connect your Google account in Settings."):qe.message?.includes("Failed to fetch")||qe.message?.includes("ERR_CONNECTION_REFUSED")?r("Cannot connect to server. Please ensure the backend server is running on port 8050."):r(qe.message||"Failed to open Google Drive picker. Please check your connection and try again.")}},De=async qe=>{if(we){console.log("handleGoogleDriveFileSelected called with file:",JSON.stringify(qe,null,2)),console.log("File data from Google Picker:",{id:qe.id,name:qe.name,url:qe.url,iconUrl:qe.iconUrl,mimeType:qe.mimeType,serviceId:qe.serviceId,type:qe.type,sizeBytes:qe.sizeBytes});try{const jt=qe.url||qe.embedUrl||"",kr=qe.iconUrl||"",zt=qe.sizeBytes?parseInt(qe.sizeBytes):0;console.log("Storing file data:",{googleDriveFileId:qe.id,publicUrl:jt,iconUrl:kr,fileName:qe.name,fileMimeType:qe.mimeType}),ke(_r=>({..._r,isGoogleDriveLinked:!0,googleDriveFileId:qe.id,googleDriveWebViewLink:jt,googleDriveDownloadLink:jt,googleDriveIconUrl:kr,fileName:qe.name||"Untitled",fileMimeType:qe.mimeType||"",fileSize:zt,fileUrl:jt,file:null})),t("File attached from Google Drive")}catch(jt){console.error("Error handling Google Drive file selection:",jt),r(jt.message||"Failed to attach file from Google Drive")}}},Xe=async()=>{if(de.trim()){Le(!0);try{const qe=await Tne({name:de.trim()});if(qe?.data){const jt=qe.data;d(kr=>[...kr,jt]),ce(""),t("Document type added successfully")}}catch(qe){qe.message?.includes("already exists")||qe.message?.includes("TYPE_EXISTS")?r("Document type with this name already exists"):r(qe.message||"Failed to add document type")}finally{Le(!1)}}},Je=qe=>{const jt=qe.target.files?.[0];if(!jt)return;if(jt.size>10*1024*1024){r("File size must be less than 10MB");return}re(!0);const kr=new FileReader;kr.onload=()=>{const zt=kr.result;ke(_r=>({..._r,file:jt,fileUrl:zt,fileName:jt.name,fileMimeType:jt.type,fileSize:jt.size})),re(!1)},kr.onerror=()=>{r("Failed to read file"),re(!1)},kr.readAsDataURL(jt)},ht=async()=>{if(!ae.fileUrl||!we){r("Please select a file first");return}Y(!0);try{const qe=await One({fileName:ae.fileName,fileContent:ae.fileUrl,fileMimeType:ae.fileMimeType,userId:we});ke(jt=>({...jt,isGoogleDriveLinked:!0,googleDriveFileId:qe.data.id,googleDriveWebViewLink:qe.data.webViewLink,googleDriveDownloadLink:qe.data.webContentLink})),t("File uploaded to Google Drive successfully")}catch(qe){r(qe.message||"Failed to upload to Google Drive")}finally{Y(!1)}},Ue=async(qe,jt)=>{H(!0);try{const kr=await Pne({contractId:qe,userId:we,title:jt});t("Signature document created in Google Docs"),Pe(),window.open(kr.data.documentLink,"_blank")}catch(kr){r(kr.message||"Failed to create signature document")}finally{H(!1)}},at=async()=>{if(!ae.title||!ae.documentType||!ae.contractParty){r("Please fill in all required fields");return}B(!0);try{await Sne({title:ae.title,documentType:ae.documentType,contractParty:ae.contractParty,companyId:ae.companyId||null,contactId:ae.contactId||null,expirationDate:ae.expirationDate||null,renewalDate:ae.renewalDate||null,signedDate:ae.signedDate||null,status:ae.status,description:ae.description||null,tags:ae.tags,requiresSignature:ae.requiresSignature,signatureStatus:ae.requiresSignature?"Pending":"Not Required",fileUrl:ae.fileUrl||null,fileName:ae.fileName||null,fileMimeType:ae.fileMimeType||null,fileSize:ae.fileSize||null,isGoogleDriveLinked:ae.isGoogleDriveLinked,googleDriveFileId:ae.googleDriveFileId||null,googleDriveWebViewLink:ae.googleDriveWebViewLink||null,googleDriveDownloadLink:ae.googleDriveDownloadLink||null,googleDriveIconUrl:ae.googleDriveIconUrl||null,userId:we}),t("Contract created successfully"),R(!1),rt(),Pe()}catch(qe){r(qe.message||"Failed to create contract")}finally{B(!1)}},Me=async()=>{if(h){B(!0);try{await _ne(h.id,{title:ae.title,documentType:ae.documentType,contractParty:ae.contractParty,companyId:ae.companyId||null,contactId:ae.contactId||null,expirationDate:ae.expirationDate||null,renewalDate:ae.renewalDate||null,signedDate:ae.signedDate||null,status:ae.status,description:ae.description||null,tags:ae.tags,requiresSignature:ae.requiresSignature,fileUrl:ae.fileUrl||null,fileName:ae.fileName||null,fileMimeType:ae.fileMimeType||null,fileSize:ae.fileSize||null,isGoogleDriveLinked:ae.isGoogleDriveLinked,googleDriveFileId:ae.googleDriveFileId||null,googleDriveWebViewLink:ae.googleDriveWebViewLink||null,googleDriveDownloadLink:ae.googleDriveDownloadLink||null,googleDriveIconUrl:ae.googleDriveIconUrl||null}),t("Contract updated successfully"),T(!1),m(null),rt(),Pe()}catch(qe){r(qe.message||"Failed to update contract")}finally{B(!1)}}},ut=async()=>{if(h){g(!0);try{await Ane(h.id),t("Contract deleted successfully"),w(!1),m(null),Pe()}catch(qe){r(qe.message||"Failed to delete contract")}finally{g(!1)}}},ot=async qe=>{try{await Ene(qe.id,{signedBy:we,signedDate:new Date().toISOString()}),t("Contract marked as signed"),Pe()}catch(jt){r(jt.message||"Failed to mark contract as signed")}},rt=()=>{ke({title:"",documentType:"",contractParty:"",companyId:"",contactId:"",expirationDate:"",renewalDate:"",signedDate:"",status:"Draft",description:"",tags:[],requiresSignature:!1,file:null,fileUrl:"",fileName:"",fileMimeType:"",fileSize:0,isGoogleDriveLinked:!1,googleDriveFileId:"",googleDriveWebViewLink:"",googleDriveDownloadLink:"",googleDriveIconUrl:""}),Z.current&&(Z.current.value="")},lr=qe=>{m(qe),ke({title:qe.title,documentType:qe.documentType,contractParty:qe.contractParty,companyId:qe.companyId||"",contactId:qe.contactId||"",expirationDate:qe.expirationDate||"",renewalDate:qe.renewalDate||"",signedDate:qe.signedDate||"",status:qe.status,description:qe.description||"",tags:qe.tags||[],requiresSignature:qe.requiresSignature,file:null,fileUrl:qe.fileUrl||"",fileName:qe.fileName||"",fileMimeType:qe.fileMimeType||"",fileSize:qe.fileSize||0,isGoogleDriveLinked:qe.isGoogleDriveLinked,googleDriveFileId:qe.googleDriveFileId||"",googleDriveWebViewLink:qe.googleDriveWebViewLink||"",googleDriveDownloadLink:qe.googleDriveDownloadLink||"",googleDriveIconUrl:qe.googleDriveIconUrl||""}),T(!0)},er=qe=>{switch(qe){case"Signed":return"bg-emerald-50 text-emerald-600 border-emerald-200";case"Pending Signature":return"bg-amber-50 text-amber-600 border-amber-200";case"Draft":return"bg-slate-50 text-slate-600 border-slate-200";case"Expired":return"bg-red-50 text-red-600 border-red-200";case"Terminated":return"bg-gray-50 text-gray-600 border-gray-200";default:return"bg-slate-50 text-slate-600 border-slate-200"}},xt=qe=>{switch(qe){case"Signed":return a.jsx(Cn,{className:"w-4 h-4"});case"Pending Signature":return a.jsx(ws,{className:"w-4 h-4"});case"Draft":return a.jsx(Xa,{className:"w-4 h-4"});case"Expired":return a.jsx(pa,{className:"w-4 h-4"});case"Terminated":return a.jsx(mr,{className:"w-4 h-4"});default:return a.jsx(Xa,{className:"w-4 h-4"})}},Ht=n.filter(qe=>{const jt=qe.title.toLowerCase().includes(j.toLowerCase())||qe.contractParty.toLowerCase().includes(j.toLowerCase())||qe.documentType.toLowerCase().includes(j.toLowerCase()),kr=!k||qe.status===k,zt=!A||qe.documentType===A;return jt&&kr&&zt}),Ut={total:n.length,signed:n.filter(qe=>qe.status==="Signed").length,pending:n.filter(qe=>qe.status==="Pending Signature").length,expired:n.filter(qe=>qe.status==="Expired").length};return a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-10",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Contracts & Legal Documents"}),a.jsx("p",{className:"text-slate-500 text-sm font-medium mt-1",children:"Manage contracts with e-signature and Google Drive integration"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{onClick:()=>ne(!0),className:"px-4 py-2 bg-white text-indigo-600 text-sm font-bold rounded-xl flex items-center gap-2 hover:bg-indigo-50 border-2 border-indigo-200 transition-all active:scale-95",children:[a.jsx(vs,{className:"w-4 h-4"})," Manage Document Types"]}),a.jsxs("button",{onClick:()=>{rt(),R(!0)},className:"px-4 py-2 bg-indigo-600 text-white text-sm font-bold rounded-xl flex items-center gap-2 hover:bg-indigo-700 shadow-lg transition-all active:scale-95",children:[a.jsx(_n,{className:"w-4 h-4"})," Add Contract"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(Xa,{className:"w-5 h-5 text-indigo-600"}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Total"})]}),a.jsx("h3",{className:"text-2xl font-black text-slate-900",children:Ut.total})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(Cn,{className:"w-5 h-5 text-emerald-600"}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Signed"})]}),a.jsx("h3",{className:"text-2xl font-black text-emerald-600",children:Ut.signed})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(ws,{className:"w-5 h-5 text-amber-600"}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Pending"})]}),a.jsx("h3",{className:"text-2xl font-black text-amber-600",children:Ut.pending})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(pa,{className:"w-5 h-5 text-red-600"}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Expired"})]}),a.jsx("h3",{className:"text-2xl font-black text-red-600",children:Ut.expired})]})]}),a.jsx("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(tf,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{type:"text",value:j,onChange:qe=>N(qe.target.value),placeholder:"Search contracts...",className:"w-full pl-11 pr-4 py-3 border border-slate-200 rounded-xl text-sm font-medium outline-none focus:ring-2 focus:ring-indigo-500"})]}),a.jsxs("select",{value:k,onChange:qe=>P(qe.target.value),className:"px-4 py-3 border border-slate-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-2 focus:ring-indigo-500",children:[a.jsx("option",{value:"",children:"All Statuses"}),K8.map(qe=>a.jsx("option",{value:qe,children:qe},qe))]}),a.jsxs("select",{value:A,onChange:qe=>O(qe.target.value),className:"px-4 py-3 border border-slate-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-2 focus:ring-indigo-500",children:[a.jsx("option",{value:"",children:"All Types"}),u.map(qe=>a.jsx("option",{value:qe.name,children:qe.name},qe.id))]})]})}),p?a.jsx("div",{className:"flex items-center justify-center py-20",children:a.jsx(Et,{className:"w-8 h-8 text-indigo-600 animate-spin"})}):Ht.length===0?a.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-2xl p-12 text-center",children:[a.jsx(Xa,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"No contracts found"}),a.jsx("p",{className:"text-sm text-slate-500 mb-6",children:j||k||A?"Try adjusting your filters":"Create your first contract to get started"}),!j&&!k&&!A&&a.jsxs("button",{onClick:()=>{rt(),R(!0)},className:"px-6 py-3 bg-indigo-600 text-white font-bold text-sm uppercase tracking-widest rounded-xl hover:bg-indigo-700 shadow-lg transition-all flex items-center gap-2 mx-auto",children:[a.jsx(_n,{className:"w-4 h-4"})," Add Contract"]})]}):a.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:a.jsx("div",{className:"divide-y divide-slate-100",children:Ht.map(qe=>a.jsx("div",{className:"p-6 hover:bg-slate-50 transition-colors cursor-pointer",onClick:()=>m(qe),children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h3",{className:"text-base font-black text-slate-900",children:qe.title}),a.jsxs("span",{className:`px-2 py-1 text-xs font-black uppercase rounded-lg border ${er(qe.status)} flex items-center gap-1`,children:[xt(qe.status),qe.status]}),qe.isGoogleDriveLinked&&a.jsxs("span",{className:"px-2 py-1 bg-blue-50 text-blue-600 text-xs font-black uppercase rounded-lg border border-blue-200 flex items-center gap-1",children:[qe.googleDriveIconUrl?a.jsx("img",{src:qe.googleDriveIconUrl,alt:"File type",className:"w-3 h-3",onError:jt=>{jt.target.style.display="none"}}):a.jsx(sm,{className:"w-3 h-3"}),"Drive"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 mt-3",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[a.jsx(vs,{className:"w-4 h-4 text-slate-400"}),a.jsx("span",{className:"font-medium",children:qe.documentType})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[a.jsx(rl,{className:"w-4 h-4 text-slate-400"}),a.jsx("span",{className:"font-medium",children:qe.contractParty})]}),qe.expirationDate&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[a.jsx(Ha,{className:"w-4 h-4 text-slate-400"}),a.jsxs("span",{className:"font-medium",children:["Expires: ",new Date(qe.expirationDate).toLocaleDateString()]})]}),qe.requiresSignature&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-600",children:[a.jsx(Ev,{className:"w-4 h-4"}),a.jsx("span",{className:"font-bold",children:qe.signatureStatus})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[qe.googleDriveWebViewLink&&a.jsx("a",{href:qe.googleDriveWebViewLink,target:"_blank",rel:"noopener noreferrer",onClick:jt=>jt.stopPropagation(),className:"p-2 hover:bg-blue-50 rounded-lg text-blue-600 transition-all",title:"View in Google Drive",children:a.jsx(vi,{className:"w-4 h-4"})}),a.jsx("button",{onClick:jt=>{jt.stopPropagation(),lr(qe)},className:"p-2 hover:bg-indigo-50 rounded-lg text-indigo-600 transition-all",children:a.jsx(ec,{className:"w-4 h-4"})}),a.jsx("button",{onClick:jt=>{jt.stopPropagation(),m(qe),w(!0)},className:"p-2 hover:bg-red-50 rounded-lg text-red-600 transition-all",children:a.jsx($r,{className:"w-4 h-4"})})]})]})},qe.id))})}),(D||C)&&a.jsxs("div",{className:"fixed inset-0 z-[120] overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md pointer-events-auto animate-in fade-in duration-300",onClick:()=>{R(!1),T(!1),rt()}}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4 pointer-events-none",children:a.jsxs("div",{className:"bg-white rounded-[32px] shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden pointer-events-auto animate-in zoom-in-95 duration-300 flex flex-col",children:[a.jsx("div",{className:"p-8 border-b border-slate-100 bg-gradient-to-r from-indigo-50 to-purple-50",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-14 h-14 rounded-2xl bg-indigo-600 flex items-center justify-center text-white shadow-lg",children:a.jsx(Xa,{className:"w-7 h-7"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900",children:D?"Add Contract":"Edit Contract"}),a.jsx("p",{className:"text-sm text-slate-500 font-medium mt-0.5",children:D?"Create a new contract with metadata and documents":"Update contract details"})]})]}),a.jsx("button",{onClick:()=>{R(!1),T(!1),rt()},className:"p-2 hover:bg-white rounded-full text-slate-400 hover:text-slate-600 transition-all",children:a.jsx(mr,{className:"w-5 h-5"})})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"col-span-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:["Contract Title ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:ae.title,onChange:qe=>ke(jt=>({...jt,title:qe.target.value})),className:"w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100 focus:border-indigo-300",placeholder:"e.g., Service Agreement with Acme Corp"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:["Document Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{value:ae.documentType,onChange:qe=>ke(jt=>({...jt,documentType:qe.target.value})),className:"w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100 focus:border-indigo-300",children:[a.jsx("option",{value:"",children:"Select type"}),u.map(qe=>a.jsx("option",{value:qe.name,children:qe.name},qe.id))]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:["Contract Party ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:ae.contractParty,onChange:qe=>ke(jt=>({...jt,contractParty:qe.target.value})),className:"w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100 focus:border-indigo-300",placeholder:"Other party name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Link to Company"}),a.jsxs("select",{value:ae.companyId,onChange:qe=>ke(jt=>({...jt,companyId:qe.target.value})),className:"w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100 focus:border-indigo-300",children:[a.jsx("option",{value:"",children:"None"}),i.map(qe=>a.jsx("option",{value:qe.id,children:qe.name},qe.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Link to Contact"}),a.jsxs("select",{value:ae.contactId,onChange:qe=>ke(jt=>({...jt,contactId:qe.target.value})),className:"w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100 focus:border-indigo-300",children:[a.jsx("option",{value:"",children:"None"}),l.map(qe=>a.jsx("option",{value:qe.id,children:qe.name},qe.id))]})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Expiration Date"}),a.jsx("input",{type:"date",value:ae.expirationDate,onChange:qe=>ke(jt=>({...jt,expirationDate:qe.target.value})),className:"w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100 focus:border-indigo-300"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Renewal Date"}),a.jsx("input",{type:"date",value:ae.renewalDate,onChange:qe=>ke(jt=>({...jt,renewalDate:qe.target.value})),className:"w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100 focus:border-indigo-300"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Signed Date"}),a.jsx("input",{type:"date",value:ae.signedDate,onChange:qe=>ke(jt=>({...jt,signedDate:qe.target.value})),className:"w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100 focus:border-indigo-300"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Status"}),a.jsx("select",{value:ae.status,onChange:qe=>ke(jt=>({...jt,status:qe.target.value})),className:"w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100 focus:border-indigo-300",children:K8.map(qe=>a.jsx("option",{value:qe,children:qe},qe))})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:ae.requiresSignature,onChange:qe=>ke(jt=>({...jt,requiresSignature:qe.target.checked})),className:"w-5 h-5 rounded border-2 border-slate-300 text-indigo-600 focus:ring-2 focus:ring-indigo-500"}),a.jsx("span",{className:"text-sm font-bold text-slate-900",children:"Requires E-Signature"})]})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Description"}),a.jsx("textarea",{value:ae.description,onChange:qe=>ke(jt=>({...jt,description:qe.target.value})),rows:3,className:"w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-sm font-medium text-slate-900 outline-none focus:ring-4 focus:ring-indigo-100 focus:border-indigo-300 resize-none",placeholder:"Add notes or description..."})]}),(D||C)&&a.jsxs("div",{className:"border-2 border-dashed border-slate-200 rounded-xl p-6",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-900 mb-4 flex items-center gap-2",children:[a.jsx(Ou,{className:"w-4 h-4 text-indigo-600"})," Document Upload"]}),a.jsx("input",{ref:Z,type:"file",onChange:Je,className:"hidden",accept:".pdf,.doc,.docx,.txt"}),!ae.fileUrl&&!ae.isGoogleDriveLinked?a.jsxs("div",{className:"space-y-3",children:[a.jsx("button",{onClick:()=>Z.current?.click(),disabled:X,className:"w-full py-4 border-2 border-slate-200 rounded-xl hover:border-indigo-300 hover:bg-indigo-50 transition-all flex items-center justify-center gap-2 text-sm font-bold text-slate-600",children:X?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Processing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ou,{className:"w-4 h-4"}),"Choose File"]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 h-px bg-slate-200"}),a.jsx("span",{className:"text-xs text-slate-400 font-bold uppercase",children:"OR"}),a.jsx("div",{className:"flex-1 h-px bg-slate-200"})]}),a.jsx("button",{onClick:fe,disabled:!E||V,className:"w-full py-4 border-2 border-slate-200 rounded-xl hover:border-indigo-300 hover:bg-indigo-50 transition-all flex items-center justify-center gap-2 text-sm font-bold text-slate-600 disabled:opacity-50 disabled:cursor-not-allowed",children:V?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Opening Google Drive..."]}):a.jsxs(a.Fragment,{children:[a.jsx(sm,{className:"w-4 h-4"}),"Attach from Google Drive"]})})]}):a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[ae.isGoogleDriveLinked&&ae.googleDriveIconUrl?a.jsx("img",{src:ae.googleDriveIconUrl,alt:"File type icon",className:"w-5 h-5",onError:qe=>{qe.target.style.display="none";const jt=document.createElement("div");jt.innerHTML='<svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path></svg>',qe.target.parentNode?.appendChild(jt)}}):ae.isGoogleDriveLinked?a.jsx(sm,{className:"w-5 h-5 text-blue-600"}):a.jsx(kB,{className:"w-5 h-5 text-emerald-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-slate-900",children:ae.fileName}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[ae.fileSize>0&&a.jsxs("p",{className:"text-xs text-slate-500",children:[(ae.fileSize/1024).toFixed(1)," KB"]}),ae.isGoogleDriveLinked&&a.jsxs(a.Fragment,{children:[ae.fileSize>0&&a.jsx("span",{className:"text-slate-300",children:""}),a.jsx("span",{className:"text-xs text-blue-600 font-bold",children:"Google Drive"})]})]})]})]}),a.jsx("button",{onClick:()=>{ke(qe=>({...qe,file:null,fileUrl:"",fileName:"",fileMimeType:"",fileSize:0,isGoogleDriveLinked:!1,googleDriveFileId:"",googleDriveWebViewLink:"",googleDriveDownloadLink:"",googleDriveIconUrl:""})),Z.current&&(Z.current.value="")},className:"p-2 hover:bg-red-50 rounded-lg text-red-600 transition-all",children:a.jsx(mr,{className:"w-4 h-4"})})]}),!ae.isGoogleDriveLinked&&ae.fileUrl&&a.jsx("button",{onClick:ht,disabled:te,className:"w-full py-3 bg-blue-600 text-white font-bold text-sm rounded-xl hover:bg-blue-700 transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:te?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Uploading to Drive..."]}):a.jsxs(a.Fragment,{children:[a.jsx(sm,{className:"w-4 h-4"}),"Upload to Google Drive"]})}),ae.isGoogleDriveLinked&&ae.googleDriveWebViewLink&&a.jsxs("a",{href:ae.googleDriveWebViewLink,target:"_blank",rel:"noopener noreferrer",className:"block w-full py-3 bg-blue-50 border-2 border-blue-200 rounded-xl hover:bg-blue-100 transition-all flex items-center justify-center gap-2 text-sm font-bold text-blue-900",children:[ae.googleDriveIconUrl?a.jsx("img",{src:ae.googleDriveIconUrl,alt:"File type",className:"w-4 h-4",onError:qe=>{qe.target.style.display="none"}}):a.jsx(vi,{className:"w-4 h-4"}),"View in Google Drive"]})]})]})]})}),a.jsxs("div",{className:"p-6 border-t border-slate-100 bg-slate-50 flex gap-3",children:[a.jsx("button",{onClick:()=>{R(!1),T(!1),rt()},disabled:I,className:"flex-1 py-3 border border-slate-200 text-slate-600 font-black uppercase text-xs tracking-widest rounded-xl hover:bg-white transition-all disabled:opacity-50",children:"Cancel"}),a.jsx("button",{onClick:D?at:Me,disabled:I,className:"flex-1 py-3 bg-indigo-600 text-white font-black uppercase text-xs tracking-widest rounded-xl hover:bg-indigo-700 transition-all shadow-lg disabled:opacity-50 flex items-center justify-center gap-2",children:I?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),D?"Creating...":"Updating..."]}):a.jsx(a.Fragment,{children:D?"Create Contract":"Update Contract"})})]})]})})]}),h&&!C&&!b&&a.jsxs("div",{className:"fixed inset-0 z-[120] overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md pointer-events-auto animate-in fade-in duration-300",onClick:()=>m(null)}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4 pointer-events-none",children:a.jsxs("div",{className:"bg-white rounded-[32px] shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-hidden pointer-events-auto animate-in zoom-in-95 duration-300 flex flex-col",children:[a.jsx("div",{className:"p-8 border-b border-slate-100 bg-gradient-to-r from-indigo-50 to-purple-50",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900",children:h.title}),a.jsxs("span",{className:`px-3 py-1 text-xs font-black uppercase rounded-lg border ${er(h.status)} flex items-center gap-1`,children:[xt(h.status),h.status]})]}),a.jsxs("p",{className:"text-sm text-slate-500 font-medium",children:[h.documentType," - ",h.contractParty]})]}),a.jsx("button",{onClick:()=>m(null),className:"p-2 hover:bg-white rounded-full text-slate-400 hover:text-slate-600 transition-all",children:a.jsx(mr,{className:"w-5 h-5"})})]})}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[h.expirationDate&&a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Expiration"}),a.jsx("p",{className:"text-sm font-bold text-slate-900",children:new Date(h.expirationDate).toLocaleDateString()})]}),h.renewalDate&&a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Renewal"}),a.jsx("p",{className:"text-sm font-bold text-slate-900",children:new Date(h.renewalDate).toLocaleDateString()})]}),h.signedDate&&a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Signed"}),a.jsx("p",{className:"text-sm font-bold text-slate-900",children:new Date(h.signedDate).toLocaleDateString()})]})]}),h.description&&a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Description"}),a.jsx("p",{className:"text-sm text-slate-600",children:h.description})]}),(h.fileUrl||h.isGoogleDriveLinked)&&a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:"Documents"}),a.jsxs("div",{className:"space-y-2",children:[h.fileName&&a.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[h.isGoogleDriveLinked&&h.googleDriveIconUrl?a.jsx("img",{src:h.googleDriveIconUrl,alt:"File type",className:"w-5 h-5",onError:qe=>{qe.target.style.display="none"}}):a.jsx(Xa,{className:"w-5 h-5 text-indigo-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-slate-900",children:h.fileName}),h.fileSize&&a.jsxs("p",{className:"text-xs text-slate-500",children:[(h.fileSize/1024).toFixed(1)," KB"]})]})]}),h.fileUrl&&a.jsx("a",{href:h.fileUrl,download:h.fileName,className:"p-2 hover:bg-indigo-50 rounded-lg text-indigo-600 transition-all",children:a.jsx(L0,{className:"w-4 h-4"})})]}),h.isGoogleDriveLinked&&h.googleDriveWebViewLink&&a.jsx("a",{href:h.googleDriveWebViewLink,target:"_blank",rel:"noopener noreferrer",className:"block p-4 bg-blue-50 border-2 border-blue-200 rounded-xl hover:bg-blue-100 transition-all",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(sm,{className:"w-5 h-5 text-blue-600"}),a.jsx("span",{className:"text-sm font-bold text-blue-900",children:"View in Google Drive"})]}),a.jsx(vi,{className:"w-4 h-4 text-blue-600"})]})})]})]}),h.requiresSignature&&a.jsxs("div",{className:"border-2 border-amber-200 bg-amber-50 rounded-xl p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(Ev,{className:"w-5 h-5 text-amber-600"}),a.jsx("h3",{className:"text-sm font-black text-amber-900",children:"E-Signature Required"})]}),a.jsxs("p",{className:"text-sm text-amber-800 mb-4",children:["Status: ",a.jsx("span",{className:"font-black",children:h.signatureStatus})]}),h.googleDocsSignatureLink?a.jsx("a",{href:h.googleDocsSignatureLink,target:"_blank",rel:"noopener noreferrer",className:"block py-3 bg-amber-600 text-white font-bold text-sm rounded-xl hover:bg-amber-700 transition-all text-center",children:"Open Signature Document"}):a.jsx("button",{onClick:()=>Ue(h.id,h.title),disabled:Q,className:"w-full py-3 bg-amber-600 text-white font-bold text-sm rounded-xl hover:bg-amber-700 transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:Q?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Creating Document..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ev,{className:"w-4 h-4"}),"Create Signature Document"]})}),h.status!=="Signed"&&a.jsxs("button",{onClick:()=>ot(h),className:"w-full mt-3 py-3 bg-emerald-600 text-white font-bold text-sm rounded-xl hover:bg-emerald-700 transition-all flex items-center justify-center gap-2",children:[a.jsx(Cn,{className:"w-4 h-4"}),"Mark as Signed"]})]})]}),a.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-200",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(qd,{className:"w-4 h-4 text-indigo-500"})," Email Activity Timeline"]})}),_e?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Et,{className:"w-6 h-6 animate-spin text-indigo-600"})}):se.length===0?a.jsxs("div",{className:"text-center py-20 bg-white border border-dashed border-slate-200 rounded-3xl",children:[a.jsx(li,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),a.jsx("p",{className:"text-sm font-bold text-slate-400",children:"No email activities yet"}),a.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Email activities will appear here when emails are linked to this contract"})]}):a.jsx("div",{className:"relative border-l-2 border-slate-100 ml-4 pl-10 space-y-12",children:se.map((qe,jt)=>{const kr=new Date(qe.createdAt),_r=new Date().getTime()-kr.getTime(),Tr=Math.floor(_r/(1e3*60*60*24));let pr="";Tr===0?pr="Today":Tr===1?pr="Yesterday":Tr<7?pr=`${Tr} days ago`:Tr<30?pr=`${Math.floor(Tr/7)} week${Math.floor(Tr/7)>1?"s":""} ago`:pr=`${Math.floor(Tr/30)} month${Math.floor(Tr/30)>1?"s":""} ago`;const Jt=qe.activityType==="email_linked",Lr=Jt?"border-indigo-600":"border-slate-200",Ar=Jt?"bg-indigo-600":"bg-slate-300",Gr=Jt?"text-indigo-600":"text-slate-400";return a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:`absolute -left-[51px] top-1.5 w-8 h-8 rounded-full bg-white border-2 ${Lr} shadow-xl flex items-center justify-center`,children:Jt?a.jsx(li,{className:"w-4 h-4 text-indigo-600"}):a.jsx("div",{className:`w-2 h-2 rounded-full ${Ar}`})}),a.jsxs("p",{className:`text-[10px] font-black ${Gr} uppercase mb-1 tracking-widest`,children:[Jt?"Email Linked":qe.activityType||"Activity","  ",pr]}),a.jsx("h4",{className:"text-sm font-black text-slate-900",children:qe.title||"Email Activity"}),a.jsx("p",{className:"text-xs text-slate-500 mt-2 leading-relaxed max-w-sm",children:qe.description||qe.title}),qe.emailId&&a.jsxs("button",{onClick:()=>{window.location.hash="#inbox",setTimeout(()=>{window.location.hash=`#inbox&email=${qe.emailId}`},100)},className:"mt-3 text-xs text-indigo-600 hover:text-indigo-700 font-bold flex items-center gap-1.5",children:[a.jsx(vi,{className:"w-3 h-3"})," View Email"]})]},qe.id||jt)})})]})]}),a.jsxs("div",{className:"p-6 border-t border-slate-100 bg-slate-50 flex gap-3",children:[a.jsx("button",{onClick:()=>m(null),className:"flex-1 py-3 border border-slate-200 text-slate-600 font-black uppercase text-xs tracking-widest rounded-xl hover:bg-white transition-all",children:"Close"}),a.jsxs("button",{onClick:()=>{lr(h)},className:"flex-1 py-3 bg-indigo-600 text-white font-black uppercase text-xs tracking-widest rounded-xl hover:bg-indigo-700 transition-all shadow-lg flex items-center justify-center gap-2",children:[a.jsx(ec,{className:"w-4 h-4"}),"Edit Contract"]})]})]})})]}),b&&h&&a.jsxs("div",{className:"fixed inset-0 z-[130] overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md pointer-events-auto animate-in fade-in duration-300",onClick:()=>w(!1)}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4 pointer-events-none",children:a.jsxs("div",{className:"bg-white rounded-[28px] shadow-2xl max-w-md w-full pointer-events-auto animate-in zoom-in-95 duration-300 overflow-hidden",children:[a.jsxs("div",{className:"p-8 text-center",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-red-100 flex items-center justify-center text-red-600 mx-auto mb-6",children:a.jsx(pa,{className:"w-8 h-8"})}),a.jsx("h2",{className:"text-2xl font-black text-slate-900 mb-3",children:"Delete Contract?"}),a.jsxs("p",{className:"text-sm text-slate-600 mb-2",children:["Are you sure you want to delete ",a.jsx("span",{className:"font-black",children:h.title}),"?"]}),a.jsx("p",{className:"text-sm text-slate-500",children:"This action cannot be undone."})]}),a.jsxs("div",{className:"p-6 flex gap-3 bg-slate-50 border-t border-slate-100",children:[a.jsx("button",{onClick:()=>w(!1),disabled:v,className:"flex-1 py-3 border border-slate-200 text-slate-600 font-black uppercase text-xs tracking-widest rounded-xl hover:bg-white transition-all disabled:opacity-50",children:"Cancel"}),a.jsx("button",{onClick:ut,disabled:v,className:"flex-1 py-3 bg-red-600 text-white font-black uppercase text-xs tracking-widest rounded-xl hover:bg-red-700 transition-all shadow-lg disabled:opacity-50 flex items-center justify-center gap-2",children:v?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):a.jsxs(a.Fragment,{children:[a.jsx($r,{className:"w-4 h-4"}),"Delete Contract"]})})]})]})})]}),G&&a.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"p-6 border-b border-slate-200 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-black text-slate-900",children:"Manage Document Types"}),a.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"View and add contract document types"})]}),a.jsx("button",{onClick:()=>{ne(!1),ce("")},className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:a.jsx(mr,{className:"w-5 h-5 text-slate-400"})})]}),a.jsx("div",{className:"p-6 max-h-[400px] overflow-y-auto",children:a.jsx("div",{className:"space-y-2",children:u.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Xa,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),a.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"No document types yet"}),a.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Add your first document type below"})]}):u.map(qe=>a.jsxs("div",{className:"px-4 py-3 rounded-xl bg-slate-50 border-2 border-slate-100 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-indigo-100 flex items-center justify-center",children:a.jsx(Xa,{className:"w-4 h-4 text-indigo-600"})}),a.jsx("span",{className:"font-bold text-sm text-slate-900",children:qe.name})]}),a.jsx(Cn,{className:"w-5 h-5 text-emerald-600"})]},qe.id))})}),a.jsxs("div",{className:"p-6 border-t border-slate-200 space-y-3",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",placeholder:"New document type...",value:de,onChange:qe=>ce(qe.target.value),onKeyDown:qe=>{qe.key==="Enter"&&de.trim()&&!he&&(qe.preventDefault(),Xe())},className:"flex-1 px-4 py-2 bg-white border border-slate-200 rounded-xl text-sm font-bold text-slate-900 outline-none focus:ring-4 focus:ring-indigo-50"}),a.jsx("button",{type:"button",onClick:Xe,disabled:!de.trim()||he,className:"px-6 py-2 bg-indigo-600 text-white rounded-xl font-bold text-sm hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:he?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),"Adding..."]}):a.jsxs(a.Fragment,{children:[a.jsx(_n,{className:"w-4 h-4"}),"Add"]})})]}),a.jsx("p",{className:"text-[10px] text-slate-400 font-medium",children:"Document types help categorize your contracts and legal documents"})]})]})})]})},Eve=({onLogin:e})=>{const[t,r]=z.useState("initial"),[n,s]=z.useState(""),[i,o]=z.useState(["","","","","",""]),[l,c]=z.useState(!1),[u,d]=z.useState(null),h=z.useRef([]),m=async()=>{if(!n||!n.includes("@")){d("Please enter a valid email address");return}c(!0),d(null);try{const w=await CP({email:n});if(w?.status===404)throw new Error(w.message);d(null),o(["","","","","",""]),r("verify")}catch(w){console.error("[AUTH UI] Error caught:",w),w.message&&(w.message.includes("Account not found")||w.status===404)?d("Account not found - contact your Administrator"):d(w.message||"Failed to send code. Please check your internet connection.")}finally{c(!1)}},p=async()=>{const w=i.join("");if(w.length===6){if(!/^\d{6}$/.test(w)){d("OTP must contain only numbers");return}c(!0),d(null);try{const j=await $re({email:n,verificationCode:w});if(j.token&&j.user)e(j);else throw new Error("Invalid response from server.")}catch(j){console.error("[AUTH] Verification error:",j),j.message?.includes("User not registered")||j.message?.includes("USER_NOT_REGISTERED")||j.message?.includes("Account not found")?d("Account not found - contact your Administrator"):d(j.message||"Invalid or expired code."),o(["","","","","",""]),setTimeout(()=>h.current[0]?.focus(),100)}finally{c(!1)}}},y=(w,j)=>{if(j&&!/^\d$/.test(j))return;const N=[...i];N[w]=j,o(N),u&&d(null),j&&w<5&&h.current[w+1]?.focus(),j&&w===5&&N.every(k=>k!=="")&&setTimeout(()=>p(),100)},v=(w,j)=>{if(j.key==="Backspace"||j.key==="Delete"){j.preventDefault();const N=[...i];i[w]?N[w]="":w>0&&(N[w-1]="",h.current[w-1]?.focus()),o(N),u&&d(null)}else j.key==="Enter"?(j.preventDefault(),p()):j.key==="ArrowLeft"&&w>0?(j.preventDefault(),h.current[w-1]?.focus()):j.key==="ArrowRight"&&w<5&&(j.preventDefault(),h.current[w+1]?.focus())},g=w=>{w.preventDefault();const j=w.clipboardData.getData("text").replace(/\D/g,"").slice(0,6),N=[...i];for(let P=0;P<6;P++)N[P]=j[P]||"";o(N),u&&d(null);const k=N.findIndex(P=>P==="");h.current[k===-1?5:k]?.focus(),j.length===6&&setTimeout(()=>p(),100)};z.useEffect(()=>{t==="verify"?setTimeout(()=>h.current[0]?.focus(),100):o(["","","","","",""])},[t]);const b=w=>{w.preventDefault(),t==="initial"?m():p()};return a.jsxs("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center p-4 relative overflow-hidden",children:[a.jsxs("div",{className:"absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none",children:[a.jsx("div",{className:"absolute top-10 left-10 w-64 h-64 bg-indigo-600 rounded-full blur-[120px]"}),a.jsx("div",{className:"absolute bottom-10 right-10 w-96 h-96 bg-blue-600 rounded-full blur-[150px]"})]}),a.jsx("div",{className:"w-full max-w-md z-10 animate-in fade-in zoom-in-95 duration-500",children:a.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-3xl p-8 lg:p-10 shadow-2xl",children:[a.jsx("div",{className:"mb-6 text-center",children:a.jsx("a",{href:"/privacy-policy",onClick:w=>{w.preventDefault(),window.history.pushState({},"","/privacy-policy"),window.dispatchEvent(new PopStateEvent("popstate"))},className:"text-xs text-slate-400 hover:text-indigo-400 underline transition-colors",title:"Privacy Policy",children:"Privacy Policy"})}),a.jsxs("div",{className:"flex flex-col items-center mb-10",children:[a.jsx("div",{className:"w-16 h-16 bg-indigo-600 rounded-2xl flex items-center justify-center text-white font-bold text-3xl shadow-xl shadow-indigo-900/40 mb-6",children:"I"}),a.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"ImpactFlow OS"}),a.jsx("p",{className:"text-slate-400 text-sm mt-2",children:"Team Access Portal"})]}),a.jsxs("form",{onSubmit:b,className:"space-y-5",children:[u&&a.jsxs("div",{className:"p-4 rounded-2xl text-xs font-bold bg-red-500/10 border border-red-500/50 text-red-400 flex items-start gap-3 animate-in slide-in-from-top-2",children:[a.jsx(pa,{className:"w-4 h-4 shrink-0 mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[u,u.includes("Administrator")&&a.jsx("p",{className:"text-[10px] mt-1 font-medium opacity-70",children:"New accounts must be provisioned by IT before sign-in."})]})]}),t==="initial"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest px-1",children:"Professional Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(li,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-500"}),a.jsx("input",{type:"email",required:!0,placeholder:"alex@impact247.com",value:n,onChange:w=>s(w.target.value),className:"w-full pl-12 pr-4 py-3.5 bg-white/5 border border-white/10 rounded-2xl text-white placeholder:text-slate-600 outline-none focus:ring-2 focus:ring-indigo-500/50 transition-all"})]})]}),t==="verify"&&a.jsxs("div",{className:"space-y-4 text-center",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-xs text-slate-400 mb-2",children:"Code sent to"}),a.jsx("p",{className:"text-sm font-semibold text-white",children:n})]}),a.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest block mb-6",children:"Enter Verification Code"}),a.jsx("div",{className:"flex items-center justify-center gap-2 md:gap-3",children:i.map((w,j)=>a.jsx("input",{ref:N=>{h.current[j]=N},type:"text",inputMode:"numeric",maxLength:1,value:w,onChange:N=>y(j,N.target.value),onKeyDown:N=>v(j,N),onPaste:j===0?g:void 0,className:"w-12 h-14 md:w-14 md:h-16 bg-white/5 border-2 border-white/10 rounded-xl text-white text-center text-2xl md:text-3xl font-bold outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500/50 transition-all text-center",autoComplete:"off",disabled:l},j))}),a.jsxs("div",{className:"flex flex-col items-center gap-2 mt-6",children:[a.jsx("button",{type:"button",onClick:async()=>{d(null),o(["","","","","",""]),c(!0);try{await CP({email:n}),d(null),setTimeout(()=>h.current[0]?.focus(),100)}catch(w){d(w.message||"Failed to send new code.")}finally{c(!1)}},disabled:l,className:"text-xs font-bold text-slate-500 hover:text-indigo-400 transition-colors disabled:opacity-50",children:l?"Sending...":"Request New Code"}),a.jsx("button",{type:"button",onClick:()=>{r("initial"),o(["","","","","",""]),d(null)},className:"text-xs font-bold text-slate-500 hover:text-indigo-400 transition-colors",children:"Use a different email"})]})]}),a.jsx("button",{disabled:l||t==="verify"&&i.some(w=>w===""),className:"w-full py-4 bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50 text-white font-bold rounded-2xl flex items-center justify-center gap-2 transition-all shadow-lg active:scale-[0.98]",children:l?a.jsx(Et,{className:"w-5 h-5 animate-spin"}):a.jsxs(a.Fragment,{children:[t==="initial"?"Request Access Code":"Secure Login",a.jsx(ao,{className:"w-4 h-4"})]})})]}),a.jsxs("div",{className:"mt-12 pt-8 border-t border-white/5 text-center flex flex-col items-center gap-4",children:[a.jsxs("div",{className:"flex items-center justify-center gap-4",children:[a.jsx(nd,{className:"w-5 h-5 text-slate-700"}),a.jsx("div",{className:"w-1 h-1 bg-slate-800 rounded-full"}),a.jsx("span",{className:"text-[10px] font-bold text-slate-600 uppercase tracking-[0.2em]",children:"Impact 24x7 Enterprise"})]}),a.jsxs("div",{className:"text-[10px] text-slate-500 font-medium max-w-[300px] space-y-2",children:[a.jsx("p",{children:"Access restricted to authorized personnel."}),a.jsxs("div",{className:"flex items-center justify-center gap-3 flex-wrap pt-2",children:[a.jsx("a",{href:"/help",onClick:w=>{w.preventDefault(),window.history.pushState({},"","/help"),window.dispatchEvent(new PopStateEvent("popstate"))},className:"text-indigo-400 hover:text-indigo-300 underline font-semibold transition-colors",title:"Help & Support",children:"Help"}),a.jsx("span",{className:"text-slate-600",children:""}),a.jsx("a",{href:"/privacy-policy",onClick:w=>{w.preventDefault(),window.history.pushState({},"","/privacy-policy"),window.dispatchEvent(new PopStateEvent("popstate"))},className:"text-indigo-400 hover:text-indigo-300 underline font-semibold transition-colors",title:"Privacy Policy",children:"Privacy Policy"})]})]})]})]})})]})},Cve=({children:e,onUserLoaded:t})=>{const[r,n]=z.useState(!0),[s,i]=z.useState(!1);return z.useEffect(()=>{(async()=>{const l=localStorage.getItem("auth_token"),c=localStorage.getItem("user_data");if(!l){c&&localStorage.removeItem("user_data"),n(!1);return}if(c)try{const u=JSON.parse(c);t(u),i(!0),n(!1),TP().then(d=>{const h=d.data||d,m=JSON.parse(localStorage.getItem("user_data")||"{}");JSON.stringify(h)!==JSON.stringify(m)&&(localStorage.setItem("user_data",JSON.stringify(h)),t(h))}).catch(d=>{console.warn("Session expired:",d),localStorage.removeItem("auth_token"),localStorage.removeItem("user_data"),window.location.reload()});return}catch{localStorage.removeItem("user_data")}try{const u=await TP(),d=u.data||u;localStorage.setItem("user_data",JSON.stringify(d)),t(d),i(!0)}catch{localStorage.removeItem("auth_token"),localStorage.removeItem("user_data"),i(!1)}finally{n(!1)}})()},[t]),r?a.jsxs("div",{className:"h-screen w-screen flex flex-col items-center justify-center bg-slate-950 text-white",children:[a.jsx(Et,{className:"w-10 h-10 animate-spin text-indigo-500 mb-4"}),a.jsx("p",{className:"text-slate-400 font-medium animate-pulse",children:"Establishing secure session..."})]}):s?a.jsx(a.Fragment,{children:e}):a.jsx(Eve,{onLogin:o=>{localStorage.setItem("auth_token",o.token||o.data?.token);const l=o.user||o.data?.user||o.data;l&&(localStorage.setItem("user_data",JSON.stringify(l)),t(l)),i(!0)}})},Tve=({notifications:e,onMarkAsRead:t,onMarkAllAsRead:r,onRefresh:n,isRefreshing:s=!1,onClose:i,onViewAll:o})=>{e.filter(u=>!u.read);const l=u=>{switch(u){case"lead":return a.jsx(Au,{className:"w-4 h-4 text-blue-500"});case"deal":return a.jsx(oo,{className:"w-4 h-4 text-indigo-500"});case"task":return a.jsx(al,{className:"w-4 h-4 text-emerald-500"});case"payment":return a.jsx(Vf,{className:"w-4 h-4 text-red-500"});default:return a.jsx(Ym,{className:"w-4 h-4 text-slate-400"})}},c=u=>{switch(u){case"lead":return"bg-blue-50";case"deal":return"bg-indigo-50";case"task":return"bg-emerald-50";case"payment":return"bg-red-50";default:return"bg-slate-50"}};return a.jsxs("div",{className:"absolute top-full right-0 mt-2 w-96 bg-white border border-slate-200 rounded-xl shadow-xl z-50 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200",children:[a.jsxs("div",{className:"p-4 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[a.jsxs("h3",{className:"font-bold text-slate-900 flex items-center gap-2",children:[a.jsx(uy,{className:"w-4 h-4 text-slate-500"}),"Notifications"]}),a.jsxs("div",{className:"flex items-center gap-3",children:[n&&a.jsx("button",{onClick:n,disabled:s,className:"p-1.5 hover:bg-slate-200 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Refresh notifications",children:a.jsx(sd,{className:`w-3.5 h-3.5 text-slate-600 ${s?"animate-spin":""}`})}),a.jsx("button",{onClick:r,className:"text-xs font-bold text-indigo-600 hover:text-indigo-700 uppercase tracking-wider",children:"Mark all as read"})]})]}),a.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:e.length>0?a.jsx("div",{className:"divide-y divide-slate-50",children:e.map(u=>a.jsxs("div",{className:`p-4 flex gap-4 hover:bg-slate-50 transition-colors relative cursor-pointer group ${u.read?"":"bg-indigo-50/10"}`,onClick:()=>{t(u.id),u.link&&(u.link.startsWith("/?tab=")||u.link.startsWith("/"),window.location.href=u.link)},children:[a.jsx("div",{className:`shrink-0 w-8 h-8 rounded-lg flex items-center justify-center ${c(u.type)}`,children:l(u.type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex justify-between items-start gap-2",children:[a.jsx("p",{className:`text-sm font-semibold truncate ${u.read?"text-slate-600":"text-slate-900"}`,children:u.title}),a.jsx("span",{className:"text-[10px] text-slate-400 font-medium shrink-0",children:u.timestamp})]}),a.jsx("p",{className:`text-xs mt-0.5 line-clamp-2 ${u.read?"text-slate-400":"text-slate-500"}`,children:u.message})]}),!u.read&&a.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx("div",{className:"w-2 h-2 bg-indigo-500 rounded-full"})})]},u.id))}):a.jsxs("div",{className:"p-12 text-center text-slate-400",children:[a.jsx(cd,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),a.jsx("p",{className:"text-sm font-medium",children:"All caught up!"}),a.jsx("p",{className:"text-xs",children:"No new notifications at this time."})]})}),a.jsx("div",{className:"p-3 border-t border-slate-100 bg-slate-50/50 text-center",children:a.jsx("button",{onClick:()=>{i(),o&&o()},className:"text-xs font-bold text-indigo-600 hover:text-indigo-700 uppercase tracking-widest transition-colors",children:"View all activity"})})]})},_v=20,Ove=({currentUser:e,onNavigate:t})=>{const{showSuccess:r,showError:n}=Ms(),[s,i]=z.useState([]),[o,l]=z.useState(!0),[c,u]=z.useState(!1),[d,h]=z.useState(1),[m,p]=z.useState(1),[y,v]=z.useState(0),[g,b]=z.useState(!1),w=z.useCallback(async(B=!1)=>{try{const X=e||JSON.parse(localStorage.getItem("user_data")||"null");if(!X?.id)return;B?u(!0):l(!0);const re=await w7(X.id,500),Z=re?.data||re||[],te=(Array.isArray(Z)?Z:[]).map(Y=>{let Q="Just now";if(Y.createdAt){const H=new Date(Y.createdAt),q=new Date().getTime()-H.getTime(),V=Math.floor(q/6e4),U=Math.floor(q/36e5),G=Math.floor(q/864e5);V<1?Q="Just now":V<60?Q=`${V}m ago`:U<24?Q=`${U}h ago`:G<7?Q=`${G}d ago`:Q=H.toLocaleDateString()}return{id:Y.id,userId:Y.userId,type:Y.type||"system",title:Y.title,message:Y.message,timestamp:Q,read:!!Y.read,link:Y.link||void 0}});i(te),v(te.length),p(Math.ceil(te.length/_v))}catch(X){console.error("[NOTIFICATIONS] Failed to load notifications",X),n(X.message||"Failed to load notifications")}finally{l(!1),u(!1)}},[e,n]);z.useEffect(()=>{w(!1)},[w]),z.useEffect(()=>{h(1)},[g]),z.useEffect(()=>{const B=()=>{w(!0)};return window.addEventListener("refresh-notifications",B),()=>{window.removeEventListener("refresh-notifications",B)}},[w]);const j=async B=>{try{const X=e||JSON.parse(localStorage.getItem("user_data")||"null");if(!X?.id)return;await N7(B,X.id),i(re=>re.map(Z=>Z.id===B?{...Z,read:!0}:Z)),window.dispatchEvent(new Event("refresh-notifications"))}catch(X){console.error("[NOTIFICATIONS] Failed to mark as read",X),n(X.message||"Failed to mark notification as read")}},N=async()=>{try{const B=e||JSON.parse(localStorage.getItem("user_data")||"null");if(!B?.id)return;await j7(B.id),i(X=>X.map(re=>({...re,read:!0}))),r("All notifications marked as read"),window.dispatchEvent(new Event("refresh-notifications"))}catch(B){console.error("[NOTIFICATIONS] Failed to mark all as read",B),n(B.message||"Failed to mark all notifications as read")}},k=(B,X)=>{if(B==="note-marked"||X?.toLowerCase().includes("marked"))return a.jsx(Au,{className:"w-5 h-5 text-indigo-500"});if(X?.toLowerCase().includes("pipeline"))return a.jsx($d,{className:"w-5 h-5 text-purple-500"});switch(B){case"lead":return a.jsx(Au,{className:"w-5 h-5 text-blue-500"});case"deal":return a.jsx(oo,{className:"w-5 h-5 text-indigo-500"});case"task":return a.jsx(al,{className:"w-5 h-5 text-emerald-500"});case"payment":return a.jsx(Vf,{className:"w-5 h-5 text-red-500"});default:return a.jsx(Ym,{className:"w-5 h-5 text-slate-400"})}},P=(B,X)=>{if(B==="note-marked"||X?.toLowerCase().includes("marked"))return"bg-indigo-50";if(X?.toLowerCase().includes("pipeline"))return"bg-purple-50";switch(B){case"lead":return"bg-blue-50";case"deal":return"bg-indigo-50";case"task":return"bg-emerald-50";case"payment":return"bg-red-50";default:return"bg-slate-50"}},A=B=>{if(j(B.id),B.link)if(B.link.startsWith("/?tab=")){const re=new URL(B.link,window.location.origin).searchParams.get("tab");re&&t?t(re):window.location.href=B.link}else B.link.startsWith("/"),window.location.href=B.link},O=g?s.filter(B=>B.type==="note-marked"||B.title?.toLowerCase().includes("marked")):s,D=(d-1)*_v,R=D+_v,C=O.slice(D,R),T=O.filter(B=>!B.read).length,I=Math.ceil(O.length/_v);return a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-10",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-slate-900 flex items-center gap-3",children:[a.jsx(uy,{className:"w-6 h-6 text-indigo-600"}),"Notifications"]}),a.jsx("p",{className:"text-slate-500 text-sm font-medium mt-1",children:T>0?`${T} unread notification${T!==1?"s":""}`:"All caught up!"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{onClick:()=>b(!g),className:`px-4 py-2 text-sm font-semibold rounded-lg transition-colors flex items-center gap-2 ${g?"bg-indigo-600 text-white hover:bg-indigo-700":"text-slate-700 hover:bg-slate-100"}`,children:[a.jsx(Au,{className:"w-4 h-4"}),g?"Show All":"Marked Notes"]}),a.jsxs("button",{onClick:()=>w(!0),disabled:c,className:"px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",title:"Refresh notifications",children:[a.jsx(sd,{className:`w-4 h-4 ${c?"animate-spin":""}`}),"Refresh"]}),T>0&&a.jsx("button",{onClick:N,className:"px-4 py-2 text-sm font-semibold text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",children:"Mark all as read"})]})]}),o?a.jsx("div",{className:"flex items-center justify-center py-20",children:a.jsx(sd,{className:"w-8 h-8 animate-spin text-indigo-600"})}):O.length===0?a.jsxs("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm p-12 text-center",children:[a.jsx(cd,{className:"w-16 h-16 mx-auto mb-4 text-slate-300"}),a.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:g?"No marked notes":"All caught up!"}),a.jsx("p",{className:"text-sm text-slate-500",children:g?"No notes have been marked for you yet.":"No notifications at this time."})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden",children:a.jsx("div",{className:"divide-y divide-slate-100",children:C.map(B=>a.jsxs("div",{className:`p-6 flex gap-4 hover:bg-slate-50 transition-colors cursor-pointer group ${B.read?"":"bg-indigo-50/30"}`,onClick:()=>A(B),children:[a.jsx("div",{className:`shrink-0 w-10 h-10 rounded-xl flex items-center justify-center ${P(B.type,B.title)}`,children:k(B.type,B.title)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex justify-between items-start gap-4 mb-1",children:[a.jsx("p",{className:`text-sm font-semibold ${B.read?"text-slate-600":"text-slate-900 font-bold"}`,children:B.title}),a.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[a.jsx("span",{className:"text-xs text-slate-400 font-medium",children:B.timestamp}),!B.read&&a.jsx("div",{className:"w-2 h-2 bg-indigo-500 rounded-full"})]})]}),a.jsx("p",{className:`text-sm ${B.read?"text-slate-400":"text-slate-600"}`,children:B.message})]})]},B.id))})}),I>1&&a.jsxs("div",{className:"flex items-center justify-between bg-white rounded-2xl border border-slate-200 shadow-sm px-6 py-4",children:[a.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",a.jsx("span",{className:"font-semibold",children:D+1})," to"," ",a.jsx("span",{className:"font-semibold",children:Math.min(R,O.length)})," of"," ",a.jsx("span",{className:"font-semibold",children:O.length})," notifications"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>h(B=>Math.max(1,B-1)),disabled:d===1,className:"p-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(wj,{className:"w-5 h-5"})}),a.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:I},(B,X)=>X+1).map(B=>B===1||B===m||B>=d-1&&B<=d+1?a.jsx("button",{onClick:()=>h(B),className:`px-3 py-1.5 text-sm font-semibold rounded-lg transition-colors ${d===B?"bg-indigo-600 text-white":"text-slate-600 hover:bg-slate-100"}`,children:B},B):B===d-2||B===d+2?a.jsx("span",{className:"px-2 text-slate-400",children:"..."},B):null)}),a.jsx("button",{onClick:()=>h(B=>Math.min(I,B+1)),disabled:d===I,className:"p-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(bs,{className:"w-5 h-5"})})]})]})]})]})},Tf=e=>{if(!e||!e.trim())return null;const t=e.trim();if(t.includes("@")){const r=t.split("@");if(r.length!==2||!r[1])return null;const n=r[1].toLowerCase().trim();return n.includes(".")?n:null}try{if(!t.includes(".")&&!t.startsWith("http"))return null;const n=(t.startsWith("http")?new URL(t):new URL(`https://${t}`)).hostname.replace(/^www\./,"").toLowerCase();return n.includes(".")?n:null}catch{const n=t.replace(/^https?:\/\//,"").replace(/^www\./,"").split("/")[0].toLowerCase().trim()||null;return n&&n.includes(".")?n:null}},Pve=(e,t)=>{if(!e||!t)return 0;const r=e.toLowerCase().trim(),n=t.toLowerCase().trim();if(r===n)return 1;const s=r.length,i=n.length;if(s===0||i===0)return 0;const o=[];for(let u=0;u<=s;u++)o[u]=[u];for(let u=0;u<=i;u++)o[0][u]=u;for(let u=1;u<=s;u++)for(let d=1;d<=i;d++){const h=r[u-1]===n[d-1]?0:1;o[u][d]=Math.min(o[u-1][d]+1,o[u][d-1]+1,o[u-1][d-1]+h)}const l=o[s][i],c=Math.max(s,i);return 1-l/c},Ive=(e,t)=>{const r=[];if(!e.email)return r;const n=e.email.toLowerCase().trim();return t.forEach(s=>{s.id!==e.id&&s.email&&s.email.toLowerCase().trim()===n&&r.push({record:s,matchType:"exact",confidence:1})}),r},Dve=(e,t,r=.8)=>{const n=[];return e.name&&t.forEach(s=>{if(s.id===e.id)return;const i=Pve(e.name||"",s.name||"");i>=r&&n.push({record:s,matchType:"fuzzy",confidence:i,similarity:i})}),n},Lve=["North America","South America","Europe","Asia","Africa","Middle East","Oceania","Central America","Caribbean","Eastern Europe","Western Europe","Northern Europe","Southern Europe","Southeast Asia","East Asia","South Asia","Central Asia","North Africa","Sub-Saharan Africa","Latin America","United States","Canada","Mexico","United Kingdom","Germany","France","Italy","Spain","Netherlands","Belgium","Switzerland","Austria","Sweden","Norway","Denmark","Finland","Poland","Russia","China","Japan","India","South Korea","Singapore","Australia","New Zealand","Brazil","Argentina","Chile","United Arab Emirates","Saudi Arabia","Israel","South Africa","Global","International"],Fve=({type:e,stage:t,lockedType:r,onClose:n,onSuccess:s})=>{const[i,o]=z.useState(e),[l,c]=z.useState("form"),[u,d]=z.useState(!1),[h,m]=z.useState(null),[p,y]=z.useState({}),[v,g]=z.useState([]),[b,w]=z.useState([]),[j,N]=z.useState([]),[k,P]=z.useState([]),[A,O]=z.useState([]),[D,R]=z.useState(!1),[C,T]=z.useState(!1),[I,B]=z.useState(""),X=z.useRef(null),[re,Z]=z.useState(null),[te,Y]=z.useState(!1),[Q,H]=z.useState(""),[E,q]=z.useState(null),V=z.useRef(null),[U,G]=z.useState({name:"",title:"",companyId:"",projectId:"",role:"",email:"",phone:"",assigneeId:"",ownerId:"",value:"",currency:oi,expectedCloseDate:"",stage:"Discovery",status:"Planning",progress:"0",description:"",industry:"",website:"",region:"",domain:"",linkedin:"",priority:"Medium",assignedUserIds:[],engagement:"",startDate:"",endDate:"",category:"",lineItems:[]});z.useEffect(()=>{const oe={name:"",title:"",companyId:"",projectId:"",role:"",email:"",phone:"",assigneeId:"",ownerId:"",value:"",expectedCloseDate:"",stage:t||"Discovery",status:"Planning",progress:"0",priority:"Medium",description:"",industry:"",website:"",region:"",domain:"",linkedin:"",assignedUserIds:[],engagement:"",startDate:"",endDate:"",category:""};e==="invoice"?(oe.lineItems=[{description:"",quantity:1,rate:0,amount:0}],oe.currency=oi):(oe.lineItems=[],e!=="deal"&&(oe.currency=oi)),G(ae=>({...ae,...oe})),m(null),y({}),c("form"),R(!1),H(""),q(null),V.current&&(V.current.value="")},[e,t]),z.useEffect(()=>{(async()=>{try{const ke=JSON.parse(localStorage.getItem("user_data")||"{}")?.id,[we,Pe,pe,fe]=await Promise.all([fd(),hd(),ag(),$p(ke)]);N(we.data||[]),g(Pe.data||[]),w(pe.data||[]);const De=Array.isArray(fe)?fe:fe?.data||[];if(P(De.filter(Xe=>!Xe.archived)),i==="task")try{const Xe=await H1(),Je=Array.isArray(Xe?.data)?Xe.data:[];O(Je)}catch{O([])}else O([]);ke&&G(Xe=>({...Xe,ownerId:Xe.ownerId||ke,assigneeId:Xe.assigneeId||ke}))}catch(ae){console.error("[QUICK-CREATE] Data fetch failed:",ae)}})()},[i]),z.useEffect(()=>{const oe=ae=>{X.current&&!X.current.contains(ae.target)&&(T(!1),B(""))};if(C)return document.addEventListener("mousedown",oe),()=>document.removeEventListener("mousedown",oe)},[C]);const ne=Lve.filter(oe=>oe.toLowerCase().includes(I.toLowerCase())),de=(oe,ae=1200,ke=1200,we=.8)=>new Promise((Pe,pe)=>{const fe=new FileReader;fe.onload=De=>{const Xe=new Image;Xe.onload=()=>{let Je=Xe.width,ht=Xe.height;Je>ht?Je>ae&&(ht=ht*ae/Je,Je=ae):ht>ke&&(Je=Je*ke/ht,ht=ke);const Ue=document.createElement("canvas");Ue.width=Je,Ue.height=ht;const at=Ue.getContext("2d");at?(at.drawImage(Xe,0,0,Je,ht),Pe(Ue.toDataURL("image/jpeg",we))):pe(new Error("Canvas context not available"))},Xe.onerror=()=>pe(new Error("Failed to load image")),Xe.src=De.target?.result},fe.onerror=()=>pe(new Error("Failed to read file")),fe.readAsDataURL(oe)}),ce=async oe=>{const ae=oe.target.files?.[0];if(ae){if(!ae.type.startsWith("image/")){m("Please select an image file");return}if(ae.size>10*1024*1024){m("Image size must be less than 10MB");return}try{const ke=await de(ae,1200,1200,.8);H(ke),q(ae),m(null)}catch(ke){m(ke.message||"Failed to process image")}}},he=()=>{H(""),q(null),V.current&&(V.current.value=""),n()},Le=()=>{const oe={};if(i==="contact")U.name?.trim()||(oe.name="Full Name is required"),U.email?.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(U.email)||(oe.email="Please enter a valid email address"):oe.email="Email Address is required";else if(i==="company"){U.name?.trim()||(oe.name="Company Name is required"),(!U.region||U.region.trim()==="")&&(oe.region="Region is required"),U.ownerId?.trim()||(oe.ownerId="Assignee / Lead is required");let ae=U.domain;!ae&&U.website&&(ae=Tf(U.website)||""),!ae&&U.email&&(ae=Tf(U.email)||""),(!ae||ae.trim()==="")&&(oe.domain="Domain is required (can be auto-populated from website or email)",oe.website="Add website or email to auto-populate domain")}else if(i==="deal")U.title?.trim()||(oe.title="Deal Name is required"),U.companyId?.trim()||(oe.companyId="Organization is required"),(!U.value||parseFloat(U.value)<=0)&&(oe.value="Amount is required and must be greater than $0"),U.stage?.trim()||(oe.stage="Stage is required"),U.ownerId||(oe.ownerId="Assignee / Lead is required");else if(i==="project"){if(U.title?.trim()||(oe.title="Project Name is required"),U.engagement?.trim()||(oe.engagement="Engagement is required"),U.startDate?.trim()||(oe.startDate="Start Date is required"),U.endDate?.trim()||(oe.endDate="End Date is required"),U.startDate&&U.endDate){const ae=new Date(U.startDate),ke=new Date(U.endDate);!isNaN(ae.getTime())&&!isNaN(ke.getTime())&&ae>=ke&&(oe.endDate="End Date must be after Start Date")}U.ownerId||(oe.ownerId="Assignee / Lead is required")}else i==="task"?(U.title?.trim()||(oe.title="Task Title is required"),U.assigneeId||(oe.assigneeId="Designated Lead / Assignee is required")):i==="invoice"&&(U.companyId||(oe.companyId="Client (Organization) is required"),(!U.expectedCloseDate||U.expectedCloseDate.trim()==="")&&(oe.expectedCloseDate=i==="deal"?"Expected Close Date is required":"Due Date is required"),!U.lineItems||U.lineItems.length===0?oe.lineItems="At least one line item is required":(U.lineItems.forEach((ke,we)=>{(!ke.description||!ke.description.trim())&&(oe[`lineItem_${we}_description`]=`Line item ${we+1}: Description is required`),(!ke.quantity||ke.quantity<=0)&&(oe[`lineItem_${we}_quantity`]=`Line item ${we+1}: Quantity must be greater than 0`),(!ke.rate||ke.rate<=0)&&(oe[`lineItem_${we}_rate`]=`Line item ${we+1}: Rate must be greater than 0`)}),U.lineItems.reduce((ke,we)=>{const Pe=we.amount||we.rate*we.quantity||0;return ke+Pe},0)<=0&&(oe.lineItems="Total amount must be greater than $0")));return y(oe),Object.keys(oe).length===0},se=async oe=>{if(oe.preventDefault(),u)return;if(m(null),!Le()){d(!1);return}d(!0),console.debug(`[QUICK-CREATE] Deployment Start. Type: ${i}`,U);try{const we=JSON.parse(localStorage.getItem("user_data")||"null")?.id;if(i==="contact"){const Pe={name:U.name,email:U.email},pe=Ive(Pe,b),fe=Dve(Pe,b,.8);if(pe.length>0||fe.length>0){const De=new Map,Xe=new Set;pe.forEach(ht=>{const Ue=ht.record,at=Ue.id||Ue.email?.toLowerCase().trim()||"";at&&!De.has(at)&&(De.set(at,{...Ue,matchType:"exact",matchReason:"email"}),Ue.email&&Xe.add(Ue.email.toLowerCase().trim()))}),fe.forEach(ht=>{const Ue=ht.record,at=Ue.id||Ue.email?.toLowerCase().trim()||"",Me=Ue.email?.toLowerCase().trim();at&&!De.has(at)&&(!Me||!Xe.has(Me))&&(De.set(at,{...Ue,matchType:"fuzzy",matchReason:"name",similarity:ht.similarity}),Me&&Xe.add(Me))});const Je=Array.from(De.values());Z({open:!0,duplicates:Je,newContact:{name:U.name,email:U.email,companyId:U.companyId||void 0,role:U.role,phone:U.phone,linkedin:U.linkedin||void 0}}),d(!1);return}await OP({name:U.name,companyId:U.companyId||void 0,role:U.role,email:U.email,phone:U.phone,linkedin:U.linkedin||void 0})}else if(i==="company"){let Pe=U.domain;!Pe&&U.website&&(Pe=Tf(U.website)||void 0),!Pe&&U.email&&(Pe=Tf(U.email)||void 0);const pe={name:U.name?.trim(),industry:U.industry?.trim(),region:U.region?.trim()||"",website:U.website?.trim()||void 0,email:U.email?.trim()||void 0,domain:Pe||"",linkedin:U.linkedin?.trim()||void 0,ownerId:U.ownerId||we};if(!pe.region){y({region:"Region is required"}),d(!1);return}if(!pe.domain){y({domain:"Domain is required (can be auto-populated from website or email)"}),d(!1);return}await Yre(pe)}else if(i==="deal"){if(!U.companyId||U.companyId.trim()===""){y({companyId:"Organization is required"}),d(!1);return}if(!U.value||parseFloat(U.value)<=0){y({value:"Amount is required and must be greater than $0"}),d(!1);return}if(!U.stage||U.stage.trim()===""){y({stage:"Stage is required"}),d(!1);return}await Jre({title:U.title,companyId:U.companyId.trim(),value:parseFloat(U.value),currency:U.currency||oi,stage:U.stage,pipelineType:"sales",ownerId:U.ownerId,expectedCloseDate:U.expectedCloseDate||void 0,description:U.description||void 0})}else if(i==="project"){const Pe={};if(U.title?.trim()||(Pe.title="Project Name is required"),U.engagement?.trim()||(Pe.engagement="Engagement is required"),U.startDate?.trim()||(Pe.startDate="Start Date is required"),U.endDate?.trim()||(Pe.endDate="End Date is required"),U.ownerId?.trim()||(Pe.ownerId="Assignee / Lead is required"),U.startDate&&U.endDate){const fe=new Date(U.startDate),De=new Date(U.endDate);!isNaN(fe.getTime())&&!isNaN(De.getTime())&&fe>=De&&(Pe.endDate="End Date must be after Start Date")}if(Object.keys(Pe).length>0){y(Pe),d(!1);return}console.debug("[QUICK-CREATE] Attempting Project Creation...",{title:U.title,engagement:U.engagement,startDate:U.startDate,endDate:U.endDate,ownerId:U.ownerId});const pe={title:U.title.trim(),engagement:U.engagement.trim(),startDate:U.startDate,endDate:U.endDate,companyId:U.companyId&&U.companyId.trim()!==""?U.companyId:void 0,status:U.status,ownerId:U.ownerId,projectManager:U.ownerId,progress:0,description:U.description||void 0};Q&&E&&(pe.noteImage=Q,pe.noteImageName=E.name,pe.noteImageMimeType=E.type),console.debug("[QUICK-CREATE] Project payload:",pe),await Zre(pe)}else if(i==="task"){console.debug("[QUICK-CREATE] Attempting Task Creation...",{title:U.title,assigneeId:U.assigneeId});const Pe={title:U.title,projectId:U.projectId||void 0,description:U.description||void 0,dueDate:U.expectedCloseDate||void 0,priority:U.priority,status:"Todo",assigneeId:U.assigneeId,category:U.category&&U.category.trim()?U.category.trim():void 0};if(Q||U.description){const pe=JSON.parse(localStorage.getItem("user_data")||"{}"),fe={id:`note_${Date.now()}`,userId:we||pe.id,userName:pe.name||"Unknown User",text:U.description||"",createdAt:new Date().toISOString()};Q&&E&&(fe.imageUrl=Q,fe.imageName=E.name,fe.imageMimeType=E.type),Pe.notes=[fe]}await ene(Pe),window.dispatchEvent(new Event("refresh-tasks"))}else if(i==="invoice"){const Pe={};if(U.companyId?.trim()||(Pe.companyId="Client (Organization) is required"),U.expectedCloseDate?.trim()||(Pe.expectedCloseDate="Due Date is required"),(!U.lineItems||U.lineItems.length===0)&&(Pe.lineItems="At least one line item is required"),U.lineItems&&U.lineItems.length>0&&U.lineItems.forEach((De,Xe)=>{(!De.description||!De.description.trim())&&(Pe[`lineItem_${Xe}_description`]=`Line item ${Xe+1}: Description is required`),(!De.quantity||De.quantity<=0)&&(Pe[`lineItem_${Xe}_quantity`]=`Line item ${Xe+1}: Quantity must be greater than 0`),(!De.rate||De.rate<=0)&&(Pe[`lineItem_${Xe}_rate`]=`Line item ${Xe+1}: Rate must be greater than 0`)}),Object.keys(Pe).length>0){y(Pe),d(!1);return}const pe=U.lineItems.map(De=>({description:De.description.trim(),quantity:De.quantity,rate:De.rate,amount:De.amount||De.rate*De.quantity})),fe=pe.reduce((De,Xe)=>De+(Xe.amount||0),0);if(fe<=0){y({lineItems:"At least one line item with a valid amount is required"}),d(!1);return}console.debug("[QUICK-CREATE] Creating invoice with:",{companyId:U.companyId,amount:fe,dueDate:U.expectedCloseDate,lineItemsCount:pe.length,lineItems:pe,name:U.name,description:U.description}),await rne({companyId:U.companyId,amount:fe,currency:U.currency||oi,dueDate:U.expectedCloseDate,description:U.name||U.description||"",lineItems:pe,items:pe,status:"Draft",userId:we||void 0}),window.dispatchEvent(new Event("refresh-invoices"))}console.debug("[QUICK-CREATE] Registry success. Finalizing UI update."),c("success"),H(""),q(null),V.current&&(V.current.value=""),i==="project"?(console.log("[QUICK-CREATE] Dispatching refresh-projects event"),window.dispatchEvent(new Event("refresh-projects"))):i==="invoice"&&(console.log("[QUICK-CREATE] Dispatching refresh-invoices event"),window.dispatchEvent(new Event("refresh-invoices"))),s&&(console.log("[QUICK-CREATE] Calling onSuccess callback"),s()),setTimeout(()=>{n()},1500)}catch(ke){if(console.error("[QUICK-CREATE] Deployment failed:",ke),console.error("[QUICK-CREATE] Error details:",{message:ke.message,code:ke.code,status:ke.status,details:ke.details,type:i}),ke.code==="DUPLICATE_DETECTED"&&ke.duplicates&&i==="contact"){const we=new Map;ke.duplicates.forEach(pe=>{if(pe.id)if(!we.has(pe.id))we.set(pe.id,pe);else{const fe=we.get(pe.id);pe.matchType==="exact"&&fe.matchType!=="exact"&&we.set(pe.id,pe)}});const Pe=Array.from(we.values());Z({open:!0,duplicates:Pe,newContact:{name:U.name,email:U.email,companyId:U.companyId||void 0,role:U.role,phone:U.phone,linkedin:U.linkedin||void 0}}),d(!1);return}if(ke.code==="VALIDATION_ERROR"||ke.details&&ke.details.errors){const we={};(ke.details?.errors||(ke.message?[ke.message]:[])).forEach(pe=>{const fe=pe.toLowerCase();if(fe.includes("name")||fe.includes("title"))we.title=pe;else if(fe.includes("industry"))we.industry=pe;else if(fe.includes("region"))we.region=pe;else if(fe.includes("domain"))we.domain=pe;else if(fe.includes("email"))we.email=pe;else if(fe.includes("engagement"))we.engagement=pe;else if(fe.includes("start date")||fe.includes("startdate"))we.startDate=pe;else if(fe.includes("end date")||fe.includes("enddate"))we.endDate=pe;else if(fe.includes("project manager")||fe.includes("manager"))we.ownerId=pe;else if(fe.includes("assignee")||fe.includes("lead")||fe.includes("owner"))we.ownerId=pe;else if(fe.includes("client")||fe.includes("company"))we.companyId=pe;else if(fe.includes("due date")||fe.includes("duedate"))we.expectedCloseDate=pe;else if(fe.includes("line item")){const De=fe.match(/line item (\d+):\s*(.+)/);if(De){const Xe=parseInt(De[1])-1,Je=De[2];Je.includes("description")?we[`lineItem_${Xe}_description`]=pe:Je.includes("quantity")?we[`lineItem_${Xe}_quantity`]=pe:(Je.includes("rate")||Je.includes("amount"))&&(we[`lineItem_${Xe}_rate`]=pe)}else we.lineItems=pe}else fe.includes("amount")&&!fe.includes("line item")&&(we.lineItems=pe)}),Object.keys(we).length>0?(y(we),m("Please correct the validation errors below")):m(ke.message||"Validation failed. Please check all required fields.")}else m(ke.message||"Operational error. Verify mandatory fields and team authorization.");d(!1)}},Fe=()=>{switch(i){case"deal":return"New Opportunity";case"project":return"New Project";case"task":return"New Task";case"invoice":return"New Invoice";case"company":return"Add Company";case"contact":return"Add Contact";default:return"Quick Entry"}},_e=()=>a.jsx("span",{className:"text-red-500 ml-1 font-black text-base",children:"*"});return l==="success"?a.jsx("div",{className:"fixed inset-0 bg-slate-950/60 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-[40px] w-full max-w-sm p-12 text-center animate-in zoom-in-95 duration-300 shadow-2xl",children:[a.jsx("div",{className:"w-24 h-24 bg-emerald-50 rounded-full flex items-center justify-center mx-auto mb-8 text-emerald-500 ring-8 ring-emerald-50/50",children:a.jsx(Cn,{className:"w-12 h-12 animate-in zoom-in duration-500"})}),a.jsx("h3",{className:"text-2xl font-black text-slate-900 mb-2 tracking-tight",children:"Deployment Success"}),a.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Record integrated into ImpactFlow OS."})]})}):a.jsxs("div",{className:"fixed inset-0 bg-slate-950/60 backdrop-blur-md z-[100] flex items-center justify-center p-4 animate-in fade-in duration-300",children:[a.jsxs("div",{className:"bg-white rounded-[48px] w-full max-w-2xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[a.jsxs("div",{className:"flex items-center gap-5",children:[a.jsxs("div",{className:"p-4 bg-indigo-600 rounded-[20px] text-white shadow-2xl shadow-indigo-100 ring-4 ring-indigo-50",children:[(i==="deal"||i==="company")&&a.jsx(nd,{className:"w-6 h-6"}),i==="project"&&a.jsx(qf,{className:"w-6 h-6"}),i==="task"&&a.jsx(al,{className:"w-6 h-6"}),i==="invoice"&&a.jsx(Xa,{className:"w-6 h-6"}),i==="contact"&&a.jsx(rl,{className:"w-6 h-6"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-slate-900 tracking-tight leading-none mb-1",children:Fe()}),a.jsx("p",{className:"text-[10px] text-slate-400 uppercase tracking-[0.2em] font-black",children:"Workspace Update"})]})]}),a.jsx("button",{onClick:he,className:"p-3 hover:bg-slate-100 rounded-full text-slate-400 transition-all",children:a.jsx(mr,{className:"w-6 h-6"})})]}),a.jsxs("form",{onSubmit:se,className:"p-8 space-y-8 max-h-[75vh] overflow-y-auto custom-scrollbar",children:[!r&&a.jsx("div",{className:"flex bg-slate-100 p-1 rounded-[20px] mb-4 overflow-x-auto scrollbar-hide border border-slate-200",children:["deal","project","task","invoice","company","contact"].map(oe=>a.jsx("button",{type:"button",onClick:()=>o(oe),className:`flex-1 min-w-[80px] flex items-center justify-center py-3 rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all ${i===oe?"bg-white text-indigo-600 shadow-md border border-slate-100":"text-slate-400 hover:text-slate-600"}`,children:oe},oe))}),h&&Object.keys(p).length===0&&a.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-600 text-xs p-5 rounded-3xl font-bold flex items-start gap-3 animate-in slide-in-from-top-2",children:[a.jsx(pa,{className:"w-5 h-5 shrink-0"}),a.jsx("span",{children:h})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"md:col-span-2 space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] px-1",children:["Name"," ",a.jsx(_e,{})]}),a.jsx("input",{required:!0,type:"text",placeholder:i==="deal"?"e.g., Q4 Logistics Transformation":"Name...",value:i==="deal"||i==="project"||i==="task"?U.title:U.name,onChange:oe=>{const ae=i==="deal"||i==="project"||i==="task"?"title":"name";G(ke=>({...ke,[ae]:oe.target.value})),p[ae]&&y(ke=>{const we={...ke};return delete we[ae],we})},className:`w-full px-6 py-4 rounded-[20px] text-sm outline-none transition-all font-bold placeholder:text-slate-300 ${p.title||p.name?"bg-red-50 border-2 border-red-500 focus:ring-4 focus:ring-red-100 focus:border-red-600":"bg-slate-50 border border-slate-200 focus:ring-4 focus:ring-indigo-50 focus:border-indigo-600"}`}),(p.title||p.name)&&a.jsxs("p",{className:"text-xs text-red-600 font-bold px-1 flex items-center gap-1",children:[a.jsx(pa,{className:"w-3 h-3"}),p.title||p.name]})]}),(i==="deal"||i==="project"||i==="invoice"||i==="contact")&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] px-1",children:["Organization ",(i==="deal"||i==="invoice")&&a.jsx(_e,{})]}),a.jsxs("select",{required:i==="deal"||i==="invoice",value:U.companyId,onChange:oe=>{G(ae=>({...ae,companyId:oe.target.value})),p.companyId&&y(ae=>{const ke={...ae};return delete ke.companyId,ke})},className:`w-full px-6 py-4 rounded-[20px] text-sm outline-none font-bold appearance-none bg-[length:20px_20px] bg-[right_16px_center] bg-no-repeat ${p.companyId?"bg-red-50 border-2 border-red-400 focus:ring-4 focus:ring-red-100 focus:border-red-500":"bg-slate-50 border border-slate-200 focus:ring-4 focus:ring-indigo-50"} bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%22%3E%3Cpath%20stroke%3D%22${p.companyId?"%23ef4444":"%236b7280"}%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22m6%208%204%204%204-4%22%2F%3E%3C%2Fsvg%3E')]`,children:[a.jsx("option",{value:"",children:i==="deal"||i==="invoice"?"Select Organization":"No Organization"}),v.map(oe=>a.jsx("option",{value:oe.id,children:oe.name},oe.id))]}),p.companyId&&a.jsxs("p",{className:"text-xs text-red-600 font-bold px-1 flex items-center gap-1",children:[a.jsx(pa,{className:"w-3 h-3"}),p.companyId]})]}),i==="contact"&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] px-1",children:["Email ",a.jsx(_e,{})]}),a.jsx("input",{required:!0,type:"email",placeholder:"contact@company.com",value:U.email,onChange:oe=>{G(ae=>({...ae,email:oe.target.value})),p.email&&y(ae=>{const ke={...ae};return delete ke.email,ke})},className:`w-full px-6 py-4 rounded-[20px] text-sm outline-none transition-all font-bold placeholder:text-slate-300 ${p.email?"bg-red-50 border-2 border-red-500 focus:ring-4 focus:ring-red-100 focus:border-red-600":"bg-slate-50 border border-slate-200 focus:ring-4 focus:ring-indigo-50 focus:border-indigo-600"}`}),p.email&&i==="contact"&&a.jsxs("p",{className:"text-xs text-red-600 font-bold px-1 flex items-center gap-1",children:[a.jsx(pa,{className:"w-3 h-3"}),p.email]})]}),i==="contact"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] px-1",children:"Role / Title"}),a.jsx("input",{type:"text",placeholder:"e.g., CEO, Manager",value:U.role,onChange:oe=>G(ae=>({...ae,role:oe.target.value})),className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-[20px] text-sm outline-none focus:ring-4 focus:ring-indigo-50 font-bold placeholder:text-slate-300"})]}),i==="contact"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] px-1",children:"Phone Number"}),a.jsx("input",{type:"tel",placeholder:"+1 (555) 000-0000",value:U.phone,onChange:oe=>G(ae=>({...ae,phone:oe.target.value})),className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-[20px] text-sm outline-none focus:ring-4 focus:ring-indigo-50 font-bold placeholder:text-slate-300"})]}),i==="company"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] px-1",children:"Industry"}),a.jsx("input",{type:"text",placeholder:"e.g., Technology, Healthcare",value:U.industry,onChange:oe=>{G(ae=>({...ae,industry:oe.target.value})),p.industry&&y(ae=>{const ke={...ae};return delete ke.industry,ke})},className:`w-full px-6 py-4 rounded-[20px] text-sm outline-none transition-all font-bold placeholder:text-slate-300 ${p.industry?"bg-red-50 border-2 border-red-500 focus:ring-4 focus:ring-red-100 focus:border-red-600":"bg-slate-50 border border-slate-200 focus:ring-4 focus:ring-indigo-50 focus:border-indigo-600"}`}),p.industry&&a.jsxs("p",{className:"text-xs text-red-600 font-bold px-1 flex items-center gap-1",children:[a.jsx(pa,{className:"w-3 h-3"}),p.industry]})]}),i==="company"&&a.jsxs("div",{className:"space-y-2 relative",ref:X,children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] px-1",children:["Region ",a.jsx(_e,{})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{type:"button",onClick:()=>{T(!C),C||B("")},className:`w-full px-6 py-4 rounded-[20px] text-sm outline-none transition-all font-bold text-left flex items-center justify-between ${p.region?"bg-red-50 border-2 border-red-500 focus:ring-4 focus:ring-red-100 focus:border-red-600":"bg-slate-50 border border-slate-200 focus:ring-4 focus:ring-indigo-50 focus:border-indigo-600"} ${U.region?"text-slate-900":"text-slate-400"}`,children:[a.jsx("span",{children:U.region||"Select Region"}),a.jsx(Uf,{className:`w-4 h-4 text-slate-400 transition-transform ${C?"rotate-180":""}`})]}),C&&a.jsxs("div",{className:"absolute z-50 w-full mt-2 bg-white border border-slate-200 rounded-[20px] shadow-2xl max-h-64 overflow-hidden",children:[a.jsx("div",{className:"p-3 border-b border-slate-100",children:a.jsxs("div",{className:"relative",children:[a.jsx(tf,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Search regions...",value:I,onChange:oe=>B(oe.target.value),onClick:oe=>oe.stopPropagation(),className:"w-full pl-10 pr-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm font-bold outline-none focus:ring-2 focus:ring-indigo-500",autoFocus:!0})]})}),a.jsx("div",{className:"max-h-48 overflow-y-auto custom-scrollbar",children:ne.length>0?ne.map(oe=>a.jsx("button",{type:"button",onClick:()=>{const ae=oe.trim();G(ke=>({...ke,region:ae})),T(!1),B(""),y(ke=>{const we={...ke};return delete we.region,we}),m(null)},className:`w-full px-6 py-3 text-left text-sm font-bold transition-colors hover:bg-indigo-50 ${U.region===oe?"bg-indigo-50 text-indigo-600":"text-slate-900"}`,children:oe},oe)):a.jsx("div",{className:"px-6 py-4 text-sm text-slate-400 font-bold text-center",children:"No regions found"})})]})]}),p.region&&a.jsxs("p",{className:"text-xs text-red-600 font-bold px-1 flex items-center gap-1 mt-1",children:[a.jsx(pa,{className:"w-3 h-3"}),p.region]})]}),i==="company"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] px-1",children:"Website"}),a.jsx("input",{type:"url",placeholder:"https://www.example.com",value:U.website,onChange:oe=>{const ae=oe.target.value;G(ke=>{const we={...ke,website:ae},Pe=ae?Tf(ae):null,pe=ke.email?Tf(ke.email):null;return we.domain=Pe||pe||"",we}),(p.domain||p.website)&&y(ke=>{const we={...ke};return delete we.domain,delete we.website,we})},className:`w-full px-6 py-4 rounded-[20px] text-sm outline-none transition-all font-bold placeholder:text-slate-300 ${p.website?"bg-red-50 border-2 border-red-500 focus:ring-4 focus:ring-red-100 focus:border-red-600":"bg-slate-50 border border-slate-200 focus:ring-4 focus:ring-indigo-50 focus:border-indigo-600"}`}),p.website&&a.jsxs("p",{className:"text-xs text-red-600 font-bold px-1 flex items-center gap-1",children:[a.jsx(pa,{className:"w-3 h-3"}),p.website]})]}),i==="company"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] px-1",children:"Email"}),a.jsx("input",{type:"email",placeholder:"contact@company.com",value:U.email,onChange:oe=>{const ae=oe.target.value;G(ke=>{const we={...ke,email:ae},Pe=ke.website?Tf(ke.website):null,pe=ae?Tf(ae):null;return we.domain=Pe||pe||"",we}),(p.email||p.domain)&&y(ke=>{const we={...ke};return delete we.email,delete we.domain,we})},className:`w-full px-6 py-4 rounded-[20px] text-sm outline-none transition-all font-bold placeholder:text-slate-300 ${p.email?"bg-red-50 border-2 border-red-500 focus:ring-4 focus:ring-red-100 focus:border-red-600":"bg-slate-50 border border-slate-200 focus:ring-4 focus:ring-indigo-50 focus:border-indigo-600"}`}),p.email&&i==="contact"&&a.jsxs("p",{className:"text-xs text-red-600 font-bold px-1 flex items-center gap-1",children:[a.jsx(pa,{className:"w-3 h-3"}),p.email]})]}),i==="company"&&U.domain&&a.jsxs("div",{className:"md:col-span-2 space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] px-1",children:["Domain ",a.jsx("span",{className:"text-xs text-slate-400",children:"(auto-populated)"})]}),a.jsx("input",{type:"text",value:U.domain,readOnly:!0,className:`w-full px-6 py-4 rounded-[20px] text-sm outline-none font-bold cursor-not-allowed ${p.domain?"bg-red-50 border-2 border-red-500 text-red-600":"bg-slate-100 border border-slate-200 text-slate-600"}`}),p.domain&&a.jsxs("p",{className:"text-xs text-red-600 font-bold px-1 flex items-center gap-1",children:[a.jsx(pa,{className:"w-3 h-3"}),p.domain]})]}),i==="task"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] px-1",children:"Linked Project"}),a.jsxs("select",{value:U.projectId||"",onChange:oe=>{const ae=oe.target.value;G(ke=>({...ke,projectId:ae===""?"":ae}))},className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-[20px] text-sm outline-none focus:ring-4 focus:ring-indigo-50 focus:border-indigo-600 transition-all font-bold appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22m6%208%204%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:20px_20px] bg-[right_16px_center] bg-no-repeat",children:[a.jsx("option",{value:"",children:"None"}),k.map(oe=>a.jsx("option",{value:oe.id,children:oe.title},oe.id))]})]}),i==="task"&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] px-1 flex items-center gap-1.5",children:[a.jsx(vs,{className:"w-3.5 h-3.5"})," Task Category"]}),a.jsxs("select",{value:D?"__new__":U.category||"",onChange:oe=>{const ae=oe.target.value;ae==="__new__"?(R(!0),G(ke=>({...ke,category:""}))):(R(!1),G(ke=>({...ke,category:ae})))},className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-[20px] text-sm outline-none focus:ring-4 focus:ring-indigo-50 focus:border-indigo-600 transition-all font-bold appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%22%3E%3Cpath%20stroke%3D%226b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22m6%208%204%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:20px_20px] bg-[right_16px_center] bg-no-repeat",children:[a.jsx("option",{value:"",children:"None"}),A.map(oe=>a.jsx("option",{value:oe,children:oe},oe)),a.jsx("option",{value:"__new__",children:"+ Create new category..."})]}),D&&a.jsx("div",{className:"pt-1",children:a.jsx("input",{type:"text",value:U.category,onChange:oe=>G(ae=>({...ae,category:oe.target.value.trim()})),placeholder:"Enter new category name",className:"w-full px-6 py-3 bg-white border border-indigo-200 rounded-xl text-sm outline-none focus:ring-2 focus:ring-indigo-100 font-medium"})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] px-1",children:["Assignee / Lead ",a.jsx(_e,{})]}),a.jsxs("select",{required:!0,value:i==="task"?U.assigneeId:U.ownerId,onChange:oe=>{const ae=i==="task"?"assigneeId":"ownerId";G(ke=>({...ke,[ae]:oe.target.value})),p[ae]&&y(ke=>{const we={...ke};return delete we[ae],we})},className:`w-full px-6 py-4 rounded-[20px] text-sm outline-none font-bold appearance-none ${p.ownerId||p.assigneeId?"bg-red-50 border-2 border-red-500 focus:ring-4 focus:ring-red-100 focus:border-red-600":"bg-slate-50 border border-slate-200 focus:ring-4 focus:ring-indigo-50 focus:border-indigo-600"}`,children:[a.jsx("option",{value:"",children:"Select Resource Personnel"}),j.map(oe=>a.jsx("option",{value:oe.id,children:oe.name},oe.id))]}),(p.ownerId||p.assigneeId)&&a.jsxs("p",{className:"text-xs text-red-600 font-bold px-1 flex items-center gap-1",children:[a.jsx(pa,{className:"w-3 h-3"}),p.ownerId||p.assigneeId]})]}),i==="deal"&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] px-1",children:["Value ",a.jsx(_e,{})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("div",{className:"relative w-32",children:a.jsx("select",{value:U.currency||oi,onChange:oe=>{G(ae=>({...ae,currency:oe.target.value}))},className:"w-full px-4 py-4 rounded-[20px] text-sm outline-none font-bold appearance-none bg-slate-50 border border-slate-200 focus:ring-4 focus:ring-indigo-50 text-indigo-600 cursor-pointer",style:{backgroundImage:`url('data:image/svg+xml;charset=utf-8,%3Csvg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20"%3E%3Cpath stroke="%236b7280" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="m6 8 4 4 4-4"/%3E%3C/svg%3E')`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"16px"},children:Cp.map(oe=>a.jsxs("option",{value:oe.code,children:[oe.code," (",oe.symbol,")"]},oe.code))})}),a.jsxs("div",{className:"relative flex-1",children:[a.jsx("span",{className:"absolute left-6 top-1/2 -translate-y-1/2 text-indigo-500 font-black text-sm",children:Dd(U.currency)}),a.jsx("input",{required:!0,type:"number",step:"0.01",placeholder:"0.00",value:U.value,onChange:oe=>{G(ae=>({...ae,value:oe.target.value})),p.value&&y(ae=>{const ke={...ae};return delete ke.value,ke})},className:`w-full pl-12 pr-6 py-4 rounded-[20px] text-sm outline-none font-black transition-all ${p.value?"bg-red-50 border-2 border-red-500 focus:ring-4 focus:ring-red-100 focus:border-red-600 text-red-600":"bg-slate-50 border border-slate-200 focus:ring-4 focus:ring-indigo-50 text-indigo-600"}`})]})]}),p.value&&a.jsxs("p",{className:"text-xs text-red-600 font-bold px-1 flex items-center gap-1",children:[a.jsx(pa,{className:"w-3 h-3"}),p.value]})]}),i==="invoice"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] px-1",children:"Currency"}),a.jsx("div",{className:"relative w-full",children:a.jsx("select",{value:U.currency||oi,onChange:oe=>{G(ae=>({...ae,currency:oe.target.value}))},className:"w-full px-4 py-4 rounded-[20px] text-sm outline-none font-bold appearance-none bg-slate-50 border border-slate-200 focus:ring-4 focus:ring-indigo-50 text-indigo-600 cursor-pointer",style:{backgroundImage:`url('data:image/svg+xml;charset=utf-8,%3Csvg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20"%3E%3Cpath stroke="%236b7280" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="m6 8 4 4 4-4"/%3E%3C/svg%3E')`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"16px"},children:Cp.map(oe=>a.jsxs("option",{value:oe.code,children:[oe.code," (",oe.symbol,")"]},oe.code))})})]}),i==="invoice"&&a.jsxs("div",{className:"md:col-span-2 space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] px-1",children:["Line Items ",a.jsx(_e,{})]}),a.jsxs("div",{className:"space-y-3",children:[U.lineItems.map((oe,ae)=>a.jsxs("div",{className:"p-4 bg-slate-50 border border-slate-200 rounded-[20px] space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("span",{className:"text-xs font-bold text-slate-600",children:["Item ",ae+1]}),U.lineItems.length>1&&a.jsx("button",{type:"button",onClick:()=>{const ke=U.lineItems.filter((we,Pe)=>Pe!==ae);G(we=>({...we,lineItems:ke})),y(we=>{const Pe={...we};return delete Pe[`lineItem_${ae}_description`],delete Pe[`lineItem_${ae}_quantity`],delete Pe[`lineItem_${ae}_rate`],Pe})},className:"text-red-500 hover:text-red-700 text-xs font-bold",children:"Remove"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest px-1 mb-1 block",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",placeholder:"Item description",value:oe.description,onChange:ke=>{const we=[...U.lineItems];we[ae]={...we[ae],description:ke.target.value},G(Pe=>({...Pe,lineItems:we})),p[`lineItem_${ae}_description`]&&y(Pe=>{const pe={...Pe};return delete pe[`lineItem_${ae}_description`],pe})},className:`w-full px-4 py-2 rounded-xl text-sm outline-none font-bold transition-all ${p[`lineItem_${ae}_description`]?"bg-red-50 border-2 border-red-500 focus:ring-4 focus:ring-red-100":"bg-white border border-slate-200 focus:ring-4 focus:ring-indigo-50"}`}),p[`lineItem_${ae}_description`]&&a.jsx("p",{className:"text-xs text-red-600 font-bold px-1 mt-1",children:p[`lineItem_${ae}_description`]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest px-1 mb-1 block",children:["Quantity ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",step:"0.01",min:"0.01",placeholder:"1",value:oe.quantity||"",onChange:ke=>{const we=parseFloat(ke.target.value)||0,Pe=oe.rate||0,pe=[...U.lineItems];pe[ae]={...pe[ae],quantity:we,amount:we*Pe},G(fe=>({...fe,lineItems:pe})),p[`lineItem_${ae}_quantity`]&&y(fe=>{const De={...fe};return delete De[`lineItem_${ae}_quantity`],De})},className:`w-full px-4 py-2 rounded-xl text-sm outline-none font-bold transition-all ${p[`lineItem_${ae}_quantity`]?"bg-red-50 border-2 border-red-500 focus:ring-4 focus:ring-red-100":"bg-white border border-slate-200 focus:ring-4 focus:ring-indigo-50"}`}),p[`lineItem_${ae}_quantity`]&&a.jsx("p",{className:"text-xs text-red-600 font-bold px-1 mt-1",children:p[`lineItem_${ae}_quantity`]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest px-1 mb-1 block",children:["Rate (",Dd(U.currency),") ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",step:"0.01",min:"0.01",placeholder:"0.00",value:oe.rate||"",onChange:ke=>{const we=parseFloat(ke.target.value)||0,Pe=oe.quantity||0,pe=[...U.lineItems];pe[ae]={...pe[ae],rate:we,amount:Pe*we},G(fe=>({...fe,lineItems:pe})),p[`lineItem_${ae}_rate`]&&y(fe=>{const De={...fe};return delete De[`lineItem_${ae}_rate`],De})},className:`w-full px-4 py-2 rounded-xl text-sm outline-none font-bold transition-all ${p[`lineItem_${ae}_rate`]?"bg-red-50 border-2 border-red-500 focus:ring-4 focus:ring-red-100":"bg-white border border-slate-200 focus:ring-4 focus:ring-indigo-50"}`}),p[`lineItem_${ae}_rate`]&&a.jsx("p",{className:"text-xs text-red-600 font-bold px-1 mt-1",children:p[`lineItem_${ae}_rate`]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest px-1 mb-1 block",children:"Amount"}),a.jsx("div",{className:"px-4 py-2 bg-indigo-50 border border-indigo-200 rounded-xl",children:a.jsxs("p",{className:"text-sm font-black text-indigo-600",children:[Dd(U.currency),((oe.quantity||0)*(oe.rate||0)).toFixed(2)]})})]})]},ae)),a.jsxs("button",{type:"button",onClick:()=>{G(oe=>({...oe,lineItems:[...oe.lineItems,{description:"",quantity:1,rate:0,amount:0}]})),p.lineItems&&y(oe=>{const ae={...oe};return delete ae.lineItems,ae})},className:"w-full px-4 py-3 bg-indigo-50 border-2 border-dashed border-indigo-300 rounded-xl text-sm font-bold text-indigo-600 hover:bg-indigo-100 hover:border-indigo-400 transition-colors flex items-center justify-center gap-2",children:[a.jsx(_n,{className:"w-4 h-4"}),"Add Line Item"]}),p.lineItems&&a.jsxs("p",{className:"text-xs text-red-600 font-bold px-1 flex items-center gap-1",children:[a.jsx(pa,{className:"w-3 h-3"}),p.lineItems]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] px-1",children:["Total Amount (",Dd(U.currency),")"]}),a.jsxs("div",{className:"relative",children:[a.jsx(Xd,{className:"absolute left-6 top-1/2 -translate-y-1/2 w-4 h-4 text-indigo-500"}),a.jsxs("div",{className:"w-full pl-12 pr-6 py-4 rounded-[20px] text-sm font-black bg-indigo-50 border-2 border-indigo-200 text-indigo-600",children:[Dd(U.currency),U.lineItems.reduce((oe,ae)=>{const ke=ae.amount||ae.rate*ae.quantity||0;return oe+ke},0).toFixed(2)]})]})]})]}),i==="deal"&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] px-1",children:["Stage ",a.jsx(_e,{})]}),a.jsxs("select",{required:!0,value:U.stage,onChange:oe=>{G(ae=>({...ae,stage:oe.target.value})),p.stage&&y(ae=>{const ke={...ae};return delete ke.stage,ke})},className:`w-full px-6 py-4 rounded-[20px] text-sm outline-none font-bold appearance-none bg-[length:20px_20px] bg-[right_16px_center] bg-no-repeat ${p.stage?"bg-red-50 border-2 border-red-400 focus:ring-4 focus:ring-red-100 focus:border-red-500":"bg-slate-50 border border-slate-200 focus:ring-4 focus:ring-indigo-50"} bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%22%3E%3Cpath%20stroke%3D%22${p.stage?"%23ef4444":"%236b7280"}%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22m6%208%204%204%204-4%22%2F%3E%3C%2Fsvg%3E')]`,children:[a.jsx("option",{value:"",children:"Select Stage"}),a.jsx("option",{value:"Discovery",children:"Discovery"}),a.jsx("option",{value:"Proposal",children:"Proposal"}),a.jsx("option",{value:"Negotiation",children:"Negotiation"}),a.jsx("option",{value:"Won",children:"Won"}),a.jsx("option",{value:"Lost",children:"Lost"})]}),p.stage&&a.jsxs("p",{className:"text-xs text-red-600 font-bold px-1 flex items-center gap-1",children:[a.jsx(pa,{className:"w-3 h-3"}),p.stage]})]}),i==="project"&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] px-1",children:["Engagement ",a.jsx(_e,{})]}),a.jsx("input",{required:!0,type:"text",placeholder:"e.g., Consulting, Implementation, Support",value:U.engagement,onChange:oe=>{G(ae=>({...ae,engagement:oe.target.value})),p.engagement&&y(ae=>{const ke={...ae};return delete ke.engagement,ke})},className:`w-full px-6 py-4 rounded-[20px] text-sm outline-none transition-all font-bold placeholder:text-slate-300 ${p.engagement?"bg-red-50 border-2 border-red-500 focus:ring-4 focus:ring-red-100 focus:border-red-600":"bg-slate-50 border border-slate-200 focus:ring-4 focus:ring-indigo-50 focus:border-indigo-600"}`}),p.engagement&&a.jsxs("p",{className:"text-xs text-red-600 font-bold px-1 flex items-center gap-1",children:[a.jsx(pa,{className:"w-3 h-3"}),p.engagement]})]}),i==="project"&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] px-1",children:["Start Date ",a.jsx(_e,{})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Ha,{className:"absolute left-6 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{required:!0,type:"date",value:U.startDate,onChange:oe=>{if(G(ae=>({...ae,startDate:oe.target.value})),p.startDate&&y(ae=>{const ke={...ae};return delete ke.startDate,ke}),oe.target.value&&U.endDate){const ae=new Date(oe.target.value),ke=new Date(U.endDate);!isNaN(ae.getTime())&&!isNaN(ke.getTime())&&ae>=ke?y(we=>({...we,endDate:"End Date must be after Start Date"})):p.endDate==="End Date must be after Start Date"&&y(we=>{const Pe={...we};return delete Pe.endDate,Pe})}},className:`w-full pl-12 pr-6 py-4 rounded-[20px] text-sm outline-none font-bold transition-all ${p.startDate?"bg-red-50 border-2 border-red-500 focus:ring-4 focus:ring-red-100 focus:border-red-600":"bg-slate-50 border border-slate-200 focus:ring-4 focus:ring-indigo-50"}`})]}),p.startDate&&a.jsxs("p",{className:"text-xs text-red-600 font-bold px-1 flex items-center gap-1",children:[a.jsx(pa,{className:"w-3 h-3"}),p.startDate]})]}),i==="project"&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] px-1",children:["End Date ",a.jsx(_e,{})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Ha,{className:"absolute left-6 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{required:!0,type:"date",value:U.endDate,onChange:oe=>{if(G(ae=>({...ae,endDate:oe.target.value})),p.endDate&&y(ae=>{const ke={...ae};return delete ke.endDate,ke}),U.startDate&&oe.target.value){const ae=new Date(U.startDate),ke=new Date(oe.target.value);!isNaN(ae.getTime())&&!isNaN(ke.getTime())&&ae>=ke&&y(we=>({...we,endDate:"End Date must be after Start Date"}))}},className:`w-full pl-12 pr-6 py-4 rounded-[20px] text-sm outline-none font-bold transition-all ${p.endDate?"bg-red-50 border-2 border-red-500 focus:ring-4 focus:ring-red-100 focus:border-red-600":"bg-slate-50 border border-slate-200 focus:ring-4 focus:ring-indigo-50"}`})]}),p.endDate&&a.jsxs("p",{className:"text-xs text-red-600 font-bold px-1 flex items-center gap-1",children:[a.jsx(pa,{className:"w-3 h-3"}),p.endDate]})]}),i==="invoice"&&a.jsxs("div",{className:"md:col-span-2 space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] px-1",children:["Due Date ",a.jsx(_e,{})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Ha,{className:"absolute left-6 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{required:!0,type:"date",value:U.expectedCloseDate,onChange:oe=>{G(ae=>({...ae,expectedCloseDate:oe.target.value})),p.expectedCloseDate&&y(ae=>{const ke={...ae};return delete ke.expectedCloseDate,ke})},className:`w-full pl-12 pr-6 py-4 rounded-[20px] text-sm outline-none font-bold transition-all ${p.expectedCloseDate?"bg-red-50 border-2 border-red-500 focus:ring-4 focus:ring-red-100 focus:border-red-600":"bg-slate-50 border border-slate-200 focus:ring-4 focus:ring-indigo-50"}`})]}),p.expectedCloseDate&&a.jsxs("p",{className:"text-xs text-red-600 font-bold px-1 flex items-center gap-1",children:[a.jsx(pa,{className:"w-3 h-3"}),p.expectedCloseDate]})]}),i!=="invoice"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] px-1",children:i==="deal"?"Expected Close Date":"Due Date"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ha,{className:"absolute left-6 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{type:"date",value:U.expectedCloseDate,onChange:oe=>G(ae=>({...ae,expectedCloseDate:oe.target.value})),className:"w-full pl-12 pr-6 py-4 bg-slate-50 border border-slate-200 rounded-[20px] text-sm outline-none focus:ring-4 focus:ring-indigo-50 font-bold"})]})]}),i==="task"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] px-1",children:"Priority"}),a.jsx("div",{className:"flex gap-2 p-1 bg-slate-100 rounded-2xl border border-slate-200",children:["Low","Medium","High"].map(oe=>a.jsx("button",{type:"button",onClick:()=>G({...U,priority:oe}),className:`flex-1 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${U.priority===oe?"bg-white text-indigo-600 shadow-md":"text-slate-400"}`,children:oe},oe))})]}),a.jsxs("div",{className:"md:col-span-2 space-y-3",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] px-1",children:"Description"}),a.jsx("textarea",{placeholder:"Add Context or Notes...",value:U.description,onChange:oe=>G(ae=>({...ae,description:oe.target.value})),rows:3,className:"w-full px-6 py-5 bg-slate-50 border border-slate-200 rounded-[32px] text-sm outline-none focus:ring-4 focus:ring-indigo-50 resize-none font-medium placeholder:text-slate-300"}),a.jsxs("label",{className:"cursor-pointer group block",children:[a.jsxs("div",{className:"flex items-center gap-3 px-5 py-4 bg-slate-50 border-2 border-dashed border-slate-200 rounded-[24px] hover:border-indigo-300 hover:bg-indigo-50/30 transition-all",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-indigo-100 flex items-center justify-center text-indigo-600 group-hover:bg-indigo-200 transition-all",children:Q?a.jsx(tl,{className:"w-5 h-5"}):a.jsx(Ou,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-xs font-black text-slate-900",children:Q?E?.name||"Image attached":"Attach Image to Note"}),a.jsx("p",{className:"text-[10px] text-slate-400 mt-0.5",children:"PNG, JPG, GIF (Max 10MB)"})]})]}),a.jsx("input",{ref:V,type:"file",accept:"image/*",onChange:ce,className:"hidden"})]}),Q&&a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:Q,alt:"Note attachment preview",className:"w-full max-h-64 object-contain rounded-[24px] border-2 border-slate-200"}),a.jsx("button",{type:"button",onClick:()=>{H(""),q(null),V.current&&(V.current.value="")},className:"absolute top-3 right-3 p-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all shadow-lg",children:a.jsx(mr,{className:"w-4 h-4"})})]})]})]}),a.jsxs("div",{className:"flex gap-6 pt-6 border-t border-slate-100",children:[a.jsx("button",{type:"button",onClick:he,className:"flex-1 py-5 text-sm font-black text-slate-400 hover:text-slate-600 transition-all uppercase tracking-[0.2em]",children:"CANCEL"}),a.jsxs("button",{type:"submit",disabled:u,className:"flex-[2] py-5 bg-slate-900 text-white font-black uppercase text-xs tracking-[0.25em] rounded-[24px] shadow-2xl shadow-indigo-100 hover:bg-indigo-700 active:scale-95 transition-all flex items-center justify-center gap-4 disabled:opacity-50",children:[u?a.jsx(Et,{className:"w-5 h-5 animate-spin"}):a.jsx(wi,{className:"w-5 h-5"}),"SAVE"]})]})]})]}),re&&re.open&&a.jsxs("div",{className:"fixed inset-0 z-[100] overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm",onClick:()=>!te&&Z(null)}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl shadow-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Potential Duplicate Contact"}),a.jsx("p",{className:"text-sm text-slate-500 mt-1",children:re.duplicates.some(oe=>oe.matchType==="exact"||oe.matchReason==="email")?"A contact with this email already exists":"A contact with a similar name was found"})]}),a.jsx("button",{onClick:()=>!te&&Z(null),className:"p-2 hover:bg-white rounded-full text-slate-400 transition-colors",disabled:te,children:a.jsx(mr,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto flex-1",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-xl p-4",children:[a.jsx("p",{className:"text-xs font-bold text-indigo-900 uppercase tracking-wider mb-2",children:"New Contact Data"}),a.jsx("p",{className:"font-semibold text-slate-900",children:re.newContact.name||""}),re.newContact.email&&a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:re.newContact.email}),re.newContact.phone&&a.jsxs("p",{className:"text-xs text-slate-600 mt-1",children:[" ",re.newContact.phone]}),re.newContact.role&&a.jsxs("p",{className:"text-xs text-slate-600 mt-1",children:[" ",re.newContact.role]})]}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-xs font-bold text-slate-700 uppercase tracking-wider mb-3",children:["Existing Contact",re.duplicates.length>1?"s":""]}),a.jsx("div",{className:"space-y-3",children:re.duplicates.map((oe,ae)=>a.jsx("div",{className:"border border-slate-200 rounded-xl p-4 bg-slate-50",children:a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-semibold text-slate-900",children:oe.name||""}),oe.email&&a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:oe.email}),a.jsxs("div",{className:"mt-2 space-y-1",children:[oe.role?a.jsxs("p",{className:"text-xs text-slate-500",children:[" ",oe.role]}):re.newContact.role&&a.jsxs("p",{className:"text-xs text-amber-600 font-medium",children:[" ",re.newContact.role," (will be added)"]}),oe.phone?a.jsxs("p",{className:"text-xs text-slate-500",children:[" ",oe.phone]}):re.newContact.phone&&a.jsxs("p",{className:"text-xs text-amber-600 font-medium",children:[" ",re.newContact.phone," (will be added)"]}),!oe.companyId&&re.newContact.companyId&&a.jsx("p",{className:"text-xs text-amber-600 font-medium",children:" Organization (will be linked)"})]}),oe.matchType==="fuzzy"&&oe.similarity&&a.jsxs("p",{className:"text-xs text-amber-600 mt-2 font-medium",children:[Math.round(oe.similarity*100),"% name similarity"]}),oe.matchType==="exact"&&a.jsx("p",{className:"text-xs text-red-600 mt-2 font-medium",children:"Exact email match"})]}),a.jsxs("button",{onClick:async()=>{if(!te){Y(!0);try{const ke={};re.newContact.name&&(!oe.name||oe.name.trim()===""||re.newContact.name.trim()!==oe.name.trim())&&(ke.name=re.newContact.name),re.newContact.email&&(!oe.email||oe.email.trim()==="")&&(ke.email=re.newContact.email),re.newContact.phone&&(!oe.phone||oe.phone.trim()==="")&&(ke.phone=re.newContact.phone),re.newContact.role&&(!oe.role||oe.role.trim()==="")&&(ke.role=re.newContact.role),re.newContact.companyId&&(!oe.companyId||oe.companyId.trim()==="")&&(ke.companyId=re.newContact.companyId),re.newContact.linkedin&&(!oe.linkedin||oe.linkedin.trim()==="")&&(ke.linkedin=re.newContact.linkedin),Object.keys(ke).length>0&&await v7(oe.id,ke),Z(null),c("success"),s&&s(),setTimeout(()=>n(),1500)}catch(ke){console.error("[MERGE] Failed:",ke),m(ke.message||"Merge failed"),Y(!1)}}},disabled:te,className:"px-4 py-2 bg-indigo-600 text-white text-sm font-semibold rounded-xl hover:bg-indigo-700 flex items-center gap-2 disabled:opacity-60 transition-all whitespace-nowrap",children:[te?a.jsx(Et,{className:"w-4 h-4 animate-spin"}):a.jsx(Tv,{className:"w-4 h-4"}),"Merge"]})]})},oe.id||ae))})]})]})}),a.jsxs("div",{className:"p-6 border-t border-slate-100 flex gap-3",children:[a.jsx("button",{type:"button",onClick:()=>Z(null),className:"flex-1 py-3 text-sm font-bold text-slate-500 hover:bg-slate-50 rounded-xl border border-slate-200 transition-colors",disabled:te,children:"Cancel"}),a.jsxs("button",{onClick:async()=>{if(!te){Y(!0);try{await OP(re.newContact),Z(null),c("success"),s&&s(),setTimeout(()=>n(),1500)}catch(oe){console.error("[CREATE] Failed:",oe),m(oe.message||"Failed to create contact"),Y(!1),Z(null)}}},disabled:te,className:"flex-[2] py-3 bg-slate-900 text-white text-sm font-bold rounded-xl hover:bg-indigo-700 flex items-center justify-center gap-2 disabled:opacity-60 transition-all",children:[te?a.jsx(Et,{className:"w-5 h-5 animate-spin"}):a.jsx(_n,{className:"w-5 h-5"}),"Create Anyway"]})]})]})})]})]})},Mve=({event:e,selectedDate:t,onClose:r,onSuccess:n})=>{const{showSuccess:s,showError:i}=Ms(),[o,l]=z.useState(!1),[c,u]=z.useState({title:"",description:"",start:"",end:"",type:"meeting",color:"#4f46e5"});z.useEffect(()=>{if(e)u({title:e.title,description:e.description||"",start:e.start.substring(0,16),end:e.end.substring(0,16),type:e.type,color:e.color||"#4f46e5"});else if(t){const h=new Date(t);h.setHours(9,0,0,0);const m=new Date(t);m.setHours(10,0,0,0),u(p=>({...p,start:h.toISOString().substring(0,16),end:m.toISOString().substring(0,16)}))}},[e,t]);const d=async h=>{h.preventDefault(),l(!0);try{e?(await Dae(e.id,c),s("Event updated successfully")):(await Iae({...c,source:"local"}),s("Event created successfully")),n(),r()}catch(m){i(m.message||"Failed to save event")}finally{l(!1)}};return a.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-[100] flex items-center justify-center p-4 animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-indigo-600 rounded-xl text-white shadow-lg shadow-indigo-100",children:a.jsx(Ha,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-slate-900",children:e?"Edit Event":"New Entry"}),a.jsx("p",{className:"text-[10px] text-slate-400 uppercase tracking-widest font-black",children:"Workspace Schedule"})]})]}),a.jsx("button",{onClick:r,className:"p-2 hover:bg-white rounded-full text-slate-400 transition-colors shadow-sm border border-transparent hover:border-slate-100",children:a.jsx(mr,{className:"w-5 h-5"})})]}),a.jsxs("form",{onSubmit:d,className:"p-6 space-y-5",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Event Title"}),a.jsx("input",{required:!0,type:"text",placeholder:"e.g. Project Sync w/ Client",value:c.title,onChange:h=>u({...c,title:h.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm outline-none focus:ring-2 focus:ring-indigo-100 transition-all"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1 flex items-center gap-1.5",children:[a.jsx(ws,{className:"w-3 h-3"})," Start"]}),a.jsx("input",{required:!0,type:"datetime-local",value:c.start,onChange:h=>u({...c,start:h.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-xs outline-none focus:ring-2 focus:ring-indigo-100"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1 flex items-center gap-1.5",children:[a.jsx(ws,{className:"w-3 h-3"})," End"]}),a.jsx("input",{required:!0,type:"datetime-local",value:c.end,onChange:h=>u({...c,end:h.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-xs outline-none focus:ring-2 focus:ring-indigo-100"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1 flex items-center gap-1.5",children:[a.jsx(vs,{className:"w-3 h-3"})," Event Type"]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:["meeting","task","deadline","reminder"].map(h=>a.jsx("button",{type:"button",onClick:()=>u({...c,type:h}),className:`px-4 py-2 rounded-xl text-xs font-bold capitalize transition-all border ${c.type===h?"bg-indigo-600 text-white border-indigo-600 shadow-md shadow-indigo-100":"bg-white text-slate-500 border-slate-200 hover:border-indigo-300"}`,children:h},h))})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1 flex items-center gap-1.5",children:[a.jsx(yB,{className:"w-3 h-3"})," Description"]}),a.jsx("textarea",{placeholder:"Add details, notes, or agenda...",value:c.description,onChange:h=>u({...c,description:h.target.value}),rows:3,className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm outline-none focus:ring-2 focus:ring-indigo-100 resize-none"})]}),a.jsxs("div",{className:"flex gap-3 pt-2",children:[a.jsx("button",{type:"button",onClick:r,className:"flex-1 py-3 text-sm font-bold text-slate-500 hover:bg-slate-50 rounded-2xl transition-colors border border-transparent hover:border-slate-200",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:o,className:"flex-[2] py-3 bg-indigo-600 text-white text-sm font-bold rounded-2xl flex items-center justify-center gap-2 shadow-xl shadow-indigo-100 hover:bg-indigo-700 transition-all active:scale-[0.98] disabled:opacity-50",children:o?a.jsx(Et,{className:"w-4 h-4 animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(cd,{className:"w-4 h-4"}),e?"Save Changes":"Create Entry"]})})]})]})]})})},Rve=({currentUser:e})=>{const{showSuccess:t,showError:r}=Ms(),[n,s]=z.useState(!1),[i,o]=z.useState(!1),[l,c]=z.useState(!1),[u,d]=z.useState({type:"bug",title:"",description:""}),[h,m]=z.useState([]),[p,y]=z.useState(!1),[v,g]=z.useState("upload"),[b,w]=z.useState(""),[j,N]=z.useState(!1),k=z.useRef(null),P=z.useRef(h);z.useEffect(()=>{P.current=h},[h]),z.useEffect(()=>()=>{P.current.forEach(I=>{I.source==="file"&&I.type==="video"&&I.preview.startsWith("blob:")&&URL.revokeObjectURL(I.preview)})},[]);const A=(I,B=1920,X=1080,re=.8)=>new Promise((Z,te)=>{const Y=new FileReader;Y.onload=Q=>{const H=new Image;H.onload=()=>{let E=H.width,q=H.height;E>q?E>B&&(q=q*B/E,E=B):q>X&&(E=E*X/q,q=X);const V=document.createElement("canvas");V.width=E,V.height=q;const U=V.getContext("2d");if(!U){te(new Error("Failed to create canvas context"));return}U.drawImage(H,0,0,E,q);const G=V.toDataURL("image/jpeg",re);Z(G)},H.onerror=()=>te(new Error("Failed to load image")),H.src=Q.target?.result},Y.onerror=()=>te(new Error("Failed to read file")),Y.readAsDataURL(I)}),O=async I=>{const B=I.target.files;if(!(!B||B.length===0)){y(!0);try{const X=[];for(let re=0;re<B.length;re++){const Z=B[re];if(!Z.type.startsWith("image/")&&!Z.type.startsWith("video/")){r("Please select only image or video files");continue}if(Z.size>10*1024*1024){r(`File "${Z.name}" is too large. Maximum size is 10MB`);continue}const te=Z.type.startsWith("image/");let Y="";te?Y=await A(Z,1920,1080,.8):Y=URL.createObjectURL(Z),X.push({file:Z,preview:Y,type:te?"image":"video",source:"file"})}m(re=>[...re,...X]),k.current&&(k.current.value="")}catch(X){r(X.message||"Failed to process file")}finally{y(!1)}}},D=I=>new Promise(B=>{const X=new Image,re=document.createElement("video"),Z=[".jpg",".jpeg",".png",".gif",".webp",".svg"],te=[".mp4",".mov",".avi",".webm",".mkv"],Y=I.toLowerCase(),Q=Z.some(E=>Y.includes(E))||Y.includes("image")||Y.match(/\.(jpg|jpeg|png|gif|webp|svg)(\?|$)/i),H=te.some(E=>Y.includes(E))||Y.includes("video")||Y.match(/\.(mp4|mov|avi|webm|mkv)(\?|$)/i);!Q&&!H?(X.onload=()=>B(!0),X.onerror=()=>{re.onloadedmetadata=()=>B(!0),re.onerror=()=>B(!1),re.src=I},X.src=I):B(!0)}),R=async()=>{if(!b.trim()){r("Please enter a valid URL");return}try{new URL(b.trim())}catch{r("Please enter a valid URL");return}N(!0);try{if(!await D(b.trim())){r("URL does not appear to be a valid image or video");return}const B=b.toLowerCase(),X=B.match(/\.(jpg|jpeg|png|gif|webp|svg)(\?|$)/i)||B.includes("image")||!B.match(/\.(mp4|mov|avi|webm|mkv)(\?|$)/i)&&!B.includes("video"),re={url:b.trim(),preview:b.trim(),type:X?"image":"video",source:"url"};m(Z=>[...Z,re]),w(""),t("URL added successfully")}catch(I){r(I.message||"Failed to validate URL")}finally{N(!1)}},C=I=>{const B=h[I];B.source==="file"&&B.type==="video"&&B.preview.startsWith("blob:")&&URL.revokeObjectURL(B.preview),m(X=>X.filter((re,Z)=>Z!==I))},T=async I=>{if(I.preventDefault(),!(!u.title||!u.description)){o(!0);try{const B=h.filter(Y=>Y.source==="url"),X=h.filter(Y=>Y.source==="file"),re=B.length>0?B[0].url:"",Z=await Promise.all(X.map(async Y=>Y.type==="image"?{type:"image",data:Y.preview,filename:Y.file.name,mimeType:Y.file.type,source:"file"}:new Promise((Q,H)=>{const E=new FileReader;E.onload=()=>{Q({type:"video",data:E.result,filename:Y.file.name,mimeType:Y.file.type,source:"file"})},E.onerror=H,E.readAsDataURL(Y.file)}))),te={...u,userId:e?.id||"anonymous",status:"planned",url:re||void 0,attachments:Z.length>0?Z:[]};await k7(te),c(!0),t("Integrated into Roadmap"),window.dispatchEvent(new Event("refresh-roadmap")),setTimeout(()=>{c(!1),s(!1),d({type:"bug",title:"",description:""}),h.forEach(Y=>{Y.type==="video"&&Y.preview.startsWith("blob:")&&URL.revokeObjectURL(Y.preview)}),m([])},2e3)}catch(B){console.error("[FEEDBACK] Submission failed:",B),r(`Submission error: ${B.message||"Registry error"}`)}finally{o(!1)}}};return a.jsxs("div",{className:"fixed right-0 top-1/2 -translate-y-1/2 z-[100] flex items-center pointer-events-none",children:[a.jsx("button",{onClick:()=>s(!n),className:`pointer-events-auto h-32 w-10 bg-slate-900 text-white flex flex-col items-center justify-center rounded-l-2xl shadow-2xl transition-all duration-300 hover:w-12 group border-l border-y border-white/10 ${n?"translate-x-full":""}`,children:a.jsx("span",{className:"[writing-mode:vertical-lr] text-[11px] font-black uppercase tracking-[0.3em] rotate-180",children:"Feedback"})}),a.jsx("div",{className:`pointer-events-auto fixed right-0 top-1/2 -translate-y-1/2 w-[90vw] sm:w-80 bg-white shadow-[-20px_0_60px_rgba(0,0,0,0.15)] rounded-l-[32px] border-l border-slate-100 transition-all duration-500 ease-out transform overflow-hidden ${n?"translate-x-0":"translate-x-full"}`,children:l?a.jsxs("div",{className:"p-10 text-center animate-in zoom-in-95 duration-300",children:[a.jsx("div",{className:"w-16 h-16 bg-emerald-50 rounded-full flex items-center justify-center text-emerald-500 mx-auto mb-6",children:a.jsx(Cn,{className:"w-10 h-10"})}),a.jsx("h3",{className:"text-xl font-black text-slate-900 mb-2",children:"Submitted"}),a.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-widest",children:"Entry Stored Successfully"})]}):a.jsxs("div",{className:"flex flex-col h-full max-h-[80vh]",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 flex justify-between items-center bg-slate-50/50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-indigo-600 rounded-xl text-white",children:a.jsx(oo,{className:"w-4 h-4"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-black text-slate-900",children:"Feedback Hub"}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest leading-none mt-0.5",children:"Community Input"})]})]}),a.jsx("button",{onClick:()=>{s(!1),h.forEach(I=>{I.source==="file"&&I.type==="video"&&I.preview.startsWith("blob:")&&URL.revokeObjectURL(I.preview)}),m([]),w("")},className:"p-2 hover:bg-white rounded-full text-slate-400 transition-all",children:a.jsx(mr,{className:"w-4 h-4"})})]}),a.jsxs("form",{onSubmit:T,className:"p-6 space-y-6 overflow-y-auto custom-scrollbar",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Classification"}),a.jsx("div",{className:"flex gap-1 p-1 bg-slate-100 rounded-2xl border border-slate-200",children:[{id:"bug",icon:a.jsx(Av,{className:"w-3 h-3"}),label:"Bug"},{id:"feature",icon:a.jsx(xi,{className:"w-3 h-3"}),label:"Feature"},{id:"idea",icon:a.jsx(Nj,{className:"w-3 h-3"}),label:"Idea"}].map(I=>a.jsxs("button",{type:"button",onClick:()=>d({...u,type:I.id}),className:`flex-1 flex items-center justify-center gap-1.5 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-tighter transition-all ${u.type===I.id?"bg-white text-indigo-600 shadow-md border border-slate-100":"text-slate-400 hover:text-slate-600"}`,children:[I.icon," ",I.label]},I.id))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Title"}),a.jsx("input",{required:!0,type:"text",placeholder:"Summary...",value:u.title,onChange:I=>d({...u,title:I.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-bold outline-none focus:ring-4 focus:ring-indigo-50"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Context"}),a.jsx("textarea",{required:!0,rows:4,placeholder:"Provide details...",value:u.description,onChange:I=>d({...u,description:I.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-[20px] text-sm font-medium outline-none focus:ring-4 focus:ring-indigo-50 resize-none"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Attachments (Screenshots/Videos)"}),a.jsxs("div",{className:"flex gap-1 p-1 bg-slate-100 rounded-xl border border-slate-200",children:[a.jsxs("button",{type:"button",onClick:()=>g("upload"),className:`flex-1 flex items-center justify-center gap-1.5 py-2 rounded-lg text-[10px] font-black uppercase transition-all ${v==="upload"?"bg-white text-indigo-600 shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:[a.jsx(Ou,{className:"w-3 h-3"}),"Upload"]}),a.jsxs("button",{type:"button",onClick:()=>g("url"),className:`flex-1 flex items-center justify-center gap-1.5 py-2 rounded-lg text-[10px] font-black uppercase transition-all ${v==="url"?"bg-white text-indigo-600 shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:[a.jsx(If,{className:"w-3 h-3"}),"URL"]})]}),v==="upload"&&a.jsxs("label",{className:"flex items-center gap-3 p-3 bg-slate-50 border-2 border-dashed border-slate-200 rounded-xl cursor-pointer hover:border-indigo-300 hover:bg-indigo-50/30 transition-all",children:[a.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center text-indigo-600",children:p?a.jsx(Et,{className:"w-5 h-5 animate-spin"}):a.jsx(Ou,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-xs font-bold text-slate-900",children:"Add Screenshot or Video"}),a.jsx("p",{className:"text-[10px] text-slate-400",children:"PNG, JPG, MP4, MOV (Max 10MB)"})]}),a.jsx("input",{ref:k,type:"file",accept:"image/*,video/*",multiple:!0,onChange:O,disabled:p,className:"hidden"})]}),v==="url"&&a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"url",placeholder:"https://example.com/image.png or video.mp4",value:b,onChange:I=>w(I.target.value),onKeyDown:I=>{I.key==="Enter"&&!j&&b.trim()&&(I.preventDefault(),R())},disabled:j,className:"flex-1 px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-medium outline-none focus:ring-4 focus:ring-indigo-50 disabled:opacity-50"}),a.jsx("button",{type:"button",onClick:R,disabled:j||!b.trim(),className:"px-4 py-3 bg-indigo-600 text-white rounded-xl font-bold text-sm hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 min-w-[80px]",children:j?a.jsxs(a.Fragment,{children:[a.jsx(Et,{className:"w-4 h-4 animate-spin"}),a.jsx("span",{className:"hidden sm:inline",children:"Adding..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(If,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Add"})]})})]}),h.length>0&&a.jsx("div",{className:"space-y-2",children:h.map((I,B)=>a.jsx("div",{className:"relative group p-2 bg-slate-50 rounded-xl border border-slate-200",children:I.type==="image"?a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("img",{src:I.preview,alt:`Attachment ${B+1}`,className:"w-16 h-16 object-cover rounded-lg border border-slate-200",onError:X=>{X.target.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="64" height="64"%3E%3Crect fill="%23e0e7ff" width="64" height="64"/%3E%3Ctext x="50%25" y="50%25" text-anchor="middle" dy=".3em" fill="%234f46e5" font-size="24"%3E%3F%3C/text%3E%3C/svg%3E'}}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(tl,{className:"w-4 h-4 text-indigo-600"}),a.jsx("p",{className:"text-xs font-bold text-slate-900 truncate",children:I.source==="file"?I.file.name:"Image URL"}),I.source==="url"&&a.jsx("span",{className:"px-1.5 py-0.5 bg-indigo-100 text-indigo-600 text-[9px] font-bold rounded",children:"URL"})]}),a.jsx("p",{className:"text-[10px] text-slate-400 truncate",children:I.source==="file"?`${(I.file.size/1024).toFixed(1)} KB`:I.url})]}),a.jsx("button",{type:"button",onClick:()=>C(B),className:"p-1.5 text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:a.jsx($r,{className:"w-4 h-4"})})]}):a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-lg flex items-center justify-center",children:a.jsx($h,{className:"w-6 h-6 text-indigo-600"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx($h,{className:"w-4 h-4 text-indigo-600"}),a.jsx("p",{className:"text-xs font-bold text-slate-900 truncate",children:I.source==="file"?I.file.name:"Video URL"}),I.source==="url"&&a.jsx("span",{className:"px-1.5 py-0.5 bg-indigo-100 text-indigo-600 text-[9px] font-bold rounded",children:"URL"})]}),a.jsx("p",{className:"text-[10px] text-slate-400 truncate",children:I.source==="file"?`${(I.file.size/(1024*1024)).toFixed(2)} MB`:I.url})]}),a.jsx("button",{type:"button",onClick:()=>C(B),className:"p-1.5 text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:a.jsx($r,{className:"w-4 h-4"})})]})},B))})]}),a.jsxs("button",{type:"submit",disabled:i||p||j,className:"w-full py-4 bg-slate-900 text-white font-black uppercase text-xs tracking-widest rounded-2xl shadow-xl hover:bg-indigo-600 transition-all flex items-center justify-center gap-3 disabled:opacity-50 active:scale-95",children:[i?a.jsx(Et,{className:"w-4 h-4 animate-spin"}):a.jsx(Nu,{className:"w-4 h-4"}),"Send Feedback"]})]})]})})]})},Bve=({onBack:e})=>a.jsxs("div",{className:"min-h-screen bg-slate-950 flex flex-col p-4 md:p-8 relative overflow-hidden",children:[a.jsxs("div",{className:"absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none",children:[a.jsx("div",{className:"absolute top-10 left-10 w-64 h-64 bg-indigo-600 rounded-full blur-[120px]"}),a.jsx("div",{className:"absolute bottom-10 right-10 w-96 h-96 bg-blue-600 rounded-full blur-[150px]"})]}),a.jsxs("div",{className:"w-full max-w-3xl mx-auto z-10 flex flex-col gap-6 animate-in fade-in duration-300",children:[a.jsxs("a",{href:"/",onClick:t=>{t.preventDefault(),e()},className:"self-start flex items-center gap-2 text-slate-400 hover:text-white transition-colors text-sm font-medium",children:[a.jsx(wk,{className:"w-4 h-4"}),"Back to login"]}),a.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-3xl p-8 lg:p-10 shadow-2xl space-y-8",children:[a.jsxs("div",{className:"text-center border-b border-white/10 pb-8",children:[a.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-indigo-500/20 flex items-center justify-center",children:a.jsx(NB,{className:"w-6 h-6 text-indigo-400"})}),a.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"Help & Support"})]}),a.jsx("p",{className:"text-slate-400 text-sm",children:"ImpactFlow OS  Impact 24x7 Enterprise"})]}),a.jsxs("div",{className:"space-y-6 text-slate-300 text-sm",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-white font-semibold text-base mb-3",children:"How to get access"}),a.jsx("p",{className:"leading-relaxed mb-3",children:"ImpactFlow OS is restricted to authorized personnel. To gain access:"}),a.jsxs("ol",{className:"list-decimal list-inside space-y-2 ml-2",children:[a.jsx("li",{children:"Enter your professional email address in the login portal"}),a.jsx("li",{children:'Click "Request Access Code" to receive a one-time verification code'}),a.jsx("li",{children:"Enter the 6-digit code sent to your email"}),a.jsx("li",{children:"If your account has not been provisioned yet, contact your administrator or IT team"})]})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-white font-semibold text-base mb-3",children:"I didn't receive the code"}),a.jsx("p",{className:"leading-relaxed mb-3",children:"If you haven't received your verification code:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-2",children:[a.jsx("li",{children:"Check your spam or junk folder"}),a.jsx("li",{children:"Codes are valid for a limited time - request a new code if expired"}),a.jsx("li",{children:'Click "Request New Code" on the verification screen'}),a.jsx("li",{children:"Ensure your email is correctly provisioned in the system"}),a.jsx("li",{children:"Contact your administrator if the problem persists"})]})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-white font-semibold text-base mb-3",children:"Troubleshooting"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-white font-medium text-sm mb-2",children:"Account not found"}),a.jsx("p",{className:"leading-relaxed",children:`If you see an "Account not found" error, your account may not have been provisioned yet. Contact your organization's IT administrator to request access.`})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-white font-medium text-sm mb-2",children:"Code expired"}),a.jsx("p",{className:"leading-relaxed",children:'Verification codes expire after a set period for security. Simply request a new code using the "Request New Code" button.'})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-white font-medium text-sm mb-2",children:"Invalid code"}),a.jsx("p",{className:"leading-relaxed",children:"Make sure you're entering the most recent code sent to your email. Each new code request invalidates previous codes."})]})]})]}),a.jsxs("div",{className:"bg-indigo-500/10 border border-indigo-500/20 rounded-xl p-6",children:[a.jsxs("h2",{className:"text-white font-semibold text-base mb-3 flex items-center gap-2",children:[a.jsx(li,{className:"w-5 h-5 text-indigo-400"}),"Contact support"]}),a.jsx("p",{className:"leading-relaxed mb-3",children:"For access issues, technical support, or account questions:"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-indigo-400",children:""}),a.jsx("span",{children:"Contact your organization's IT administrator"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-indigo-400",children:""}),a.jsxs("span",{children:["Email: ",a.jsx("a",{href:"mailto:support@impact247.com",className:"text-indigo-400 hover:underline",children:"support@impact247.com"})]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-indigo-400",children:""}),a.jsx("span",{children:"Include your email address and a description of the issue"})]})]})]})]}),a.jsxs("div",{className:"pt-6 border-t border-white/10 text-center",children:[a.jsx("p",{className:"text-[10px] text-slate-500 mb-4",children:" Impact 24x7 Enterprise. Access restricted to authorized personnel."}),a.jsx("a",{href:"/",onClick:t=>{t.preventDefault(),e()},className:"inline-block px-6 py-2 bg-indigo-600 hover:bg-indigo-700 text-white text-sm font-bold rounded-xl transition-colors",children:"Back to login"})]})]})]})]}),Uve=({onBack:e})=>a.jsxs("div",{className:"min-h-screen bg-slate-950 flex flex-col p-4 md:p-8 relative overflow-hidden",children:[a.jsxs("div",{className:"absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none",children:[a.jsx("div",{className:"absolute top-10 left-10 w-64 h-64 bg-indigo-600 rounded-full blur-[120px]"}),a.jsx("div",{className:"absolute bottom-10 right-10 w-96 h-96 bg-blue-600 rounded-full blur-[150px]"})]}),a.jsxs("div",{className:"w-full max-w-3xl mx-auto z-10 flex flex-col gap-6 animate-in fade-in duration-300",children:[a.jsxs("a",{href:"/",onClick:t=>{t.preventDefault(),e()},className:"self-start flex items-center gap-2 text-slate-400 hover:text-white transition-colors text-sm font-medium",children:[a.jsx(wk,{className:"w-4 h-4"}),"Back to login"]}),a.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-3xl p-8 lg:p-10 shadow-2xl space-y-8",children:[a.jsxs("div",{className:"text-center border-b border-white/10 pb-8",children:[a.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-indigo-500/20 flex items-center justify-center",children:a.jsx(Ym,{className:"w-6 h-6 text-indigo-400"})}),a.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"Privacy Policy"})]}),a.jsx("p",{className:"text-slate-400 text-sm",children:"ImpactFlow OS  Impact 24x7 Enterprise"}),a.jsx("p",{className:"text-slate-500 text-xs mt-2",children:"Last updated: February 2026"})]}),a.jsxs("div",{className:"space-y-6 text-slate-300 text-sm",children:[a.jsx("div",{children:a.jsx("p",{className:"leading-relaxed",children:'This Privacy Policy describes how ImpactFlow OS and Impact 24x7 Enterprise ("we," "our," or "us") collect, use, disclose, and protect your information when you use our platform and services.'})}),a.jsxs("div",{children:[a.jsxs("h2",{className:"text-white font-semibold text-base mb-3 flex items-center gap-2",children:[a.jsx(Xa,{className:"w-5 h-5 text-indigo-400"}),"Information We Collect"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-white font-medium text-sm mb-2",children:"Account Information"}),a.jsx("p",{className:"leading-relaxed",children:"We collect information you provide when creating an account or signing in, including your professional email address, name, and any profile information you choose to provide."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-white font-medium text-sm mb-2",children:"Usage Data"}),a.jsx("p",{className:"leading-relaxed",children:"We automatically collect information about how you use ImpactFlow OS, including features accessed, actions taken, and time spent on the platform. This helps us improve our services."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-white font-medium text-sm mb-2",children:"Device Information"}),a.jsx("p",{className:"leading-relaxed",children:"We may collect information about your device, browser type, IP address, and operating system for security and compatibility purposes."})]}),a.jsx("p",{className:"leading-relaxed mt-3 text-indigo-400 font-medium",children:"We do not sell your personal information to third parties."})]})]}),a.jsxs("div",{children:[a.jsxs("h2",{className:"text-white font-semibold text-base mb-3 flex items-center gap-2",children:[a.jsx(DB,{className:"w-5 h-5 text-indigo-400"}),"How We Use Your Information"]}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-2",children:[a.jsx("li",{children:"To authenticate your access and maintain your account"}),a.jsx("li",{children:"To personalize your experience and provide relevant features"}),a.jsx("li",{children:"To provide customer support and respond to your inquiries"}),a.jsx("li",{children:"To improve our services, features, and user experience"}),a.jsx("li",{children:"To ensure security and prevent fraud or abuse"}),a.jsx("li",{children:"To comply with legal obligations and enforce our terms"}),a.jsx("li",{children:"Access is role-based and limited to what is necessary for your job function"})]})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-white font-semibold text-base mb-3",children:"Data Security"}),a.jsx("p",{className:"leading-relaxed mb-3",children:"We implement industry-standard security measures to protect your information:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-2",children:[a.jsx("li",{children:"Encryption in transit (TLS/SSL) and at rest"}),a.jsx("li",{children:"Secure authentication mechanisms including multi-factor authentication"}),a.jsx("li",{children:"Access controls and role-based permissions"}),a.jsx("li",{children:"Regular security audits and monitoring"}),a.jsx("li",{children:"Restricted access to authorized personnel only"})]}),a.jsx("p",{className:"leading-relaxed mt-3",children:"While we strive to protect your information, no method of transmission over the internet is 100% secure. We cannot guarantee absolute security but are committed to maintaining the highest standards."})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-white font-semibold text-base mb-3",children:"Your Rights"}),a.jsx("p",{className:"leading-relaxed mb-3",children:"Depending on your location, you may have certain rights regarding your personal information:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-2",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Access:"})," Request access to your personal data"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Correction:"})," Request correction of inaccurate or incomplete data"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Deletion:"})," Request deletion of your personal data where applicable by law"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Portability:"})," Request transfer of your data to another service"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Objection:"})," Object to certain processing activities"]})]}),a.jsxs("p",{className:"leading-relaxed mt-3",children:["To exercise these rights, contact your administrator or our data protection contact at"," ",a.jsx("a",{href:"mailto:privacy@impact247.com",className:"text-indigo-400 hover:underline",children:"privacy@impact247.com"}),". Enterprise accounts may have additional policies defined by your organization."]})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-white font-semibold text-base mb-3",children:"Cookies and Similar Technologies"}),a.jsx("p",{className:"leading-relaxed mb-3",children:"We use essential cookies and local storage for:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-2",children:[a.jsx("li",{children:"Authentication and session management"}),a.jsx("li",{children:"Remembering your preferences"}),a.jsx("li",{children:"Security and fraud prevention"})]}),a.jsx("p",{className:"leading-relaxed mt-3",children:"We do not use third-party advertising cookies or tracking cookies. You can manage cookie preferences in your browser settings, though disabling essential cookies may affect platform functionality."})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-white font-semibold text-base mb-3",children:"Data Sharing and Disclosure"}),a.jsx("p",{className:"leading-relaxed mb-3",children:"We may share your information only in the following circumstances:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-2",children:[a.jsx("li",{children:"With your organization's administrators as part of enterprise account management"}),a.jsx("li",{children:"With service providers who assist in operating our platform (under strict confidentiality agreements)"}),a.jsx("li",{children:"When required by law or to protect our rights and safety"}),a.jsx("li",{children:"In connection with a business transfer (merger, acquisition, etc.)"})]}),a.jsx("p",{className:"leading-relaxed mt-3 font-medium text-indigo-400",children:"We do not sell, rent, or trade your personal information to third parties for marketing purposes."})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-white font-semibold text-base mb-3",children:"Data Retention"}),a.jsx("p",{className:"leading-relaxed",children:"We retain your personal information for as long as necessary to provide our services, comply with legal obligations, resolve disputes, and enforce our agreements. When you request deletion, we will delete or anonymize your data in accordance with applicable laws, except where retention is required for legal or legitimate business purposes."})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-white font-semibold text-base mb-3",children:"International Data Transfers"}),a.jsx("p",{className:"leading-relaxed",children:"Your information may be transferred to and processed in countries other than your country of residence. We ensure appropriate safeguards are in place to protect your data in accordance with this Privacy Policy and applicable data protection laws."})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-white font-semibold text-base mb-3",children:"Children's Privacy"}),a.jsx("p",{className:"leading-relaxed",children:"ImpactFlow OS is intended for business use and is not directed to individuals under the age of 18. We do not knowingly collect personal information from children. If you believe we have collected information from a child, please contact us immediately."})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-white font-semibold text-base mb-3",children:"Changes to This Policy"}),a.jsx("p",{className:"leading-relaxed",children:'We may update this Privacy Policy from time to time to reflect changes in our practices, technology, legal requirements, or other factors. The "Last updated" date at the top indicates when the policy was last revised. We will notify you of material changes by posting the updated policy on this page and, where appropriate, through other communication channels. Continued use of ImpactFlow OS after changes constitutes acceptance of the updated policy.'})]}),a.jsxs("div",{className:"bg-indigo-500/10 border border-indigo-500/20 rounded-xl p-6",children:[a.jsxs("h2",{className:"text-white font-semibold text-base mb-3 flex items-center gap-2",children:[a.jsx(li,{className:"w-5 h-5 text-indigo-400"}),"Contact Us"]}),a.jsx("p",{className:"leading-relaxed mb-3",children:"If you have questions, concerns, or requests regarding this Privacy Policy or our data practices:"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-indigo-400",children:""}),a.jsxs("span",{children:["Email: ",a.jsx("a",{href:"mailto:privacy@impact247.com",className:"text-indigo-400 hover:underline",children:"privacy@impact247.com"})]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-indigo-400",children:""}),a.jsx("span",{children:"Contact your organization's data protection officer or IT administrator"})]})]})]})]}),a.jsxs("div",{className:"pt-6 border-t border-white/10 text-center",children:[a.jsx("p",{className:"text-[10px] text-slate-500 mb-4",children:" Impact 24x7 Enterprise. Access restricted to authorized personnel."}),a.jsx("a",{href:"/",onClick:t=>{t.preventDefault(),e()},className:"inline-block px-6 py-2 bg-indigo-600 hover:bg-indigo-700 text-white text-sm font-bold rounded-xl transition-colors",children:"Back to login"})]})]})]})]}),qve=new hse({defaultOptions:{queries:{staleTime:30*1e3,gcTime:300*1e3,refetchOnWindowFocus:!0,refetchOnReconnect:!0,refetchOnMount:!0,refetchInterval:60*1e3,retry:1,placeholderData:e=>e},mutations:{retry:1}}}),$ve=({children:e})=>a.jsx(pse,{client:qve,children:e}),zve=()=>{const[e,t]=z.useState(()=>localStorage.getItem("activeTab")||"dashboard"),[r,n]=z.useState(!1),[s,i]=z.useState(null),[o,l]=z.useState(!1),[c,u]=z.useState(""),[d,h]=z.useState(!1),[m,p]=z.useState({isOpen:!1,type:"deal"}),[y,v]=z.useState({isOpen:!1,event:null}),[g,b]=z.useState([]),[w,j]=z.useState(!1),[N,k]=z.useState(!1),P=g.filter(H=>!H.read).length,A=z.useRef(null),O=z.useCallback(async(H=!1)=>{try{const E=s||JSON.parse(localStorage.getItem("user_data")||"null");if(!E?.id)return;H&&k(!0);const q=await w7(E.id,20),V=q?.data||q||[],U=(Array.isArray(V)?V:[]).map(G=>{let ne="Just now";if(G.createdAt){const de=new Date(G.createdAt),he=new Date().getTime()-de.getTime(),Le=Math.floor(he/6e4),se=Math.floor(he/36e5),Fe=Math.floor(he/864e5);Le<1?ne="Just now":Le<60?ne=`${Le}m ago`:se<24?ne=`${se}h ago`:Fe<7?ne=`${Fe}d ago`:ne=de.toLocaleDateString()}return{id:G.id,userId:G.userId,type:G.type||"system",title:G.title,message:G.message,timestamp:ne,read:!!G.read,link:G.link||void 0}});b(U)}catch(E){console.error("[NOTIFICATIONS] Failed to load notifications",E)}finally{H&&k(!1)}},[s]);z.useEffect(()=>{const H=s||JSON.parse(localStorage.getItem("user_data")||"null");H?.id&&qv(async()=>{const{getNotificationWebSocket:E,disconnectNotificationWebSocket:q}=await import("./notificationWebSocket-mFjRd7uM.js");return{getNotificationWebSocket:E,disconnectNotificationWebSocket:q}},[]).then(({getNotificationWebSocket:E,disconnectNotificationWebSocket:q})=>{const V=E(H.id);"Notification"in window&&window.Notification.permission==="default"&&window.Notification.requestPermission().then(G=>{console.log("[NOTIFICATIONS] Browser notification permission:",G)});const U=G=>{if(b(ne=>ne.find(he=>he.id===G.id)?ne:[{id:G.id,userId:G.userId,type:G.type||"system",title:G.title,message:G.message,timestamp:"Just now",read:!1,link:G.link},...ne].slice(0,20)),"Notification"in window&&window.Notification.permission==="granted")try{const ne=new window.Notification(G.title,{body:G.message,icon:"/favicon.ico",tag:G.id,requireInteraction:!1});ne.onclick=()=>{window.focus(),G.link&&(window.location.href=G.link),ne.close()},setTimeout(()=>ne.close(),5e3)}catch(ne){console.error("[NOTIFICATIONS] Error showing browser notification:",ne)}};return V.on("notification",U),V.connect().catch(G=>{console.error("[NOTIFICATIONS] WebSocket connection failed:",G)}),()=>{V.off("notification",U),q()}})},[s]),z.useEffect(()=>{O();const H=setInterval(()=>{O(!1)},3e4),E=()=>{O(!0)};return window.addEventListener("refresh-notifications",E),()=>{clearInterval(H),window.removeEventListener("refresh-notifications",E)}},[O]),z.useEffect(()=>{w&&O(!0)},[w,O]),z.useEffect(()=>{const H=()=>{const E=window.innerWidth<1024;l(E),n(!E)};return H(),window.addEventListener("resize",H),()=>window.removeEventListener("resize",H)},[]),z.useEffect(()=>{const H=new URLSearchParams(window.location.search),E=H.get("tab");if(E&&["dashboard","schedule","crm","pipeline","projects","tasks","invoices","roadmap","users","settings","integrations"].includes(E)){t(E),localStorage.setItem("activeTab",E),H.delete("tab");const V=H.toString()?`${window.location.pathname}?${H.toString()}`:window.location.pathname;window.history.replaceState({},"",V)}},[]),z.useEffect(()=>{const H=E=>{A.current&&!A.current.contains(E.target)&&j(!1)};return document.addEventListener("mousedown",H),()=>document.removeEventListener("mousedown",H)},[]);const D=async()=>{await zre(),window.location.reload()},R=async H=>{const E=s?.id||JSON.parse(localStorage.getItem("user_data")||"null")?.id;if(E){b(q=>q.map(V=>V.id===H?{...V,read:!0}:V));try{await N7(H,E)}catch{}}},C=async()=>{const H=s?.id||JSON.parse(localStorage.getItem("user_data")||"null")?.id;if(H){b(E=>E.map(q=>({...q,read:!0})));try{await j7(H)}catch{}}},T=(H,E)=>{p({isOpen:!0,type:H,stage:E||void 0})},I=(H,E)=>{v({isOpen:!0,event:null,selectedDate:E})},B=()=>{v({isOpen:!1,event:null})},X=()=>{e==="schedule"&&window.dispatchEvent(new CustomEvent("refresh-schedule"))},re=typeof window<"u"?window.location.pathname:"",[Z,te]=z.useState(()=>re==="/privacy-policy"||re==="/privacy"?"privacy":re==="/help"?"help":null);if(z.useEffect(()=>{const H=window.location.pathname;te(H==="/privacy-policy"||H==="/privacy"?"privacy":H==="/help"?"help":null)},[]),z.useEffect(()=>{const H=()=>{const E=window.location.pathname;te(E==="/privacy-policy"||E==="/privacy"?"privacy":E==="/help"?"help":null)};return window.addEventListener("popstate",H),()=>window.removeEventListener("popstate",H)},[]),Z==="privacy")return a.jsx(Uve,{onBack:()=>{window.history.pushState({},"","/"),te(null),window.dispatchEvent(new PopStateEvent("popstate"))}});if(Z==="help")return a.jsx(Bve,{onBack:()=>{window.history.pushState({},"","/"),te(null),window.dispatchEvent(new PopStateEvent("popstate"))}});const Y=()=>{switch(e){case"dashboard":return a.jsx(KP,{onNavigate:t});case"schedule":return a.jsx(Vge,{currentUser:s,onNavigate:t,onNewEvent:()=>I()});case"crm":return a.jsx(Mse,{onNavigate:t,onAddCompany:()=>T("company"),onAddContact:()=>T("contact"),externalSearchQuery:c});case"pipeline":return a.jsx(Rse,{onNavigate:t,onNewDeal:H=>T("deal",H),currentUser:s});case"projects":return a.jsx(Bse,{onNavigate:t,onCreateProject:()=>T("project"),currentUser:s});case"tasks":return a.jsx(qxe,{onCreateTask:()=>T("task"),currentUser:s});case"invoices":return a.jsx(Bge,{onCreateInvoice:()=>T("invoice"),currentUser:s});case"expenses":return a.jsx(Sve,{currentUser:s});case"budget":return a.jsx(_ve,{currentUser:s});case"contracts":return a.jsx(Ave,{currentUser:s});case"inbox":return a.jsx(S9,{currentUser:s});case"roadmap":return a.jsx(kve,{currentUser:s,onNavigate:t});case"users":return a.jsx(Uge,{});case"settings":return a.jsx(Hge,{currentUser:s,onUserUpdate:i});case"data-hygiene":return a.jsx(Wge,{currentUser:s});case"integrations":return a.jsx(Gge,{});case"notifications":return a.jsx(Ove,{currentUser:s,onNavigate:t});default:return a.jsx(KP,{onNavigate:t})}},Q=H=>{t(H),localStorage.setItem("activeTab",H),u(""),o&&n(!1)};return a.jsx($ve,{children:a.jsx(qae,{children:a.jsx(Cve,{onUserLoaded:i,children:a.jsxs("div",{className:"flex h-screen bg-slate-50 overflow-hidden font-sans text-slate-900",children:[o&&r&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/40 backdrop-blur-sm z-40 transition-opacity",onClick:()=>n(!1)}),a.jsxs("aside",{className:`
          fixed lg:static inset-y-0 left-0 z-50
          bg-white border-r border-slate-200 transition-all duration-300 
          ${r?"w-64 translate-x-0":"w-0 -translate-x-full lg:w-20 lg:translate-x-0"} 
          flex flex-col overflow-hidden
        `,children:[a.jsxs("div",{className:"p-6 flex items-center justify-between gap-3 shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center text-white font-bold text-xl shadow-indigo-100 shadow-lg",children:"I"}),r&&a.jsx("span",{className:"font-bold text-lg tracking-tight",children:"ImpactFlow"})]}),o&&a.jsx("button",{onClick:()=>n(!1),className:"lg:hidden p-1 rounded-lg hover:bg-slate-100 transition-colors",children:a.jsx(mr,{className:"w-5 h-5 text-slate-500"})})]}),a.jsx("nav",{className:"flex-1 px-4 space-y-1 overflow-y-auto mt-2",children:KB.map(H=>a.jsxs("button",{onClick:()=>Q(H.id),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-xl transition-all duration-200 ${e===H.id?"bg-indigo-50 text-indigo-700 shadow-sm":"text-slate-500 hover:bg-slate-50 hover:text-slate-900"}`,children:[a.jsx("div",{className:"shrink-0",children:H.icon}),r&&a.jsx("span",{className:"font-medium whitespace-nowrap",children:H.label})]},H.id))}),a.jsxs("div",{className:"p-4 border-t border-slate-200 shrink-0",children:[a.jsxs("button",{onClick:()=>Q("settings"),className:`w-full flex items-center gap-3 px-3 py-2 rounded-xl transition-colors ${e==="settings"?"bg-indigo-50 text-indigo-700":"text-slate-500 hover:bg-slate-50"}`,children:[a.jsx(nD,{className:"w-5 h-5"}),r&&a.jsx("span",{className:"font-medium",children:"Settings"})]}),s?.role==="Admin"&&a.jsxs("button",{onClick:()=>Q("data-hygiene"),className:`w-full flex items-center gap-3 px-3 py-2 rounded-xl transition-colors ${e==="data-hygiene"?"bg-indigo-50 text-indigo-700":"text-slate-500 hover:bg-slate-50"}`,children:[a.jsx(dy,{className:"w-5 h-5"}),r&&a.jsx("span",{className:"font-medium",children:"Data Hygiene"})]}),a.jsxs("button",{onClick:()=>h(!0),className:"mt-4 w-full flex items-center gap-3 px-3 py-2 hover:bg-red-50 text-slate-500 hover:text-red-600 rounded-xl transition-all group text-left",children:[a.jsx(LB,{className:"w-5 h-5 shrink-0"}),r&&a.jsx("span",{className:"font-medium",children:"Logout"})]})]})]}),a.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden w-full relative",children:[a.jsxs("header",{className:"h-16 bg-white border-b border-slate-200 flex items-center justify-between px-4 lg:px-6 shrink-0 relative",children:[a.jsxs("div",{className:"flex items-center gap-2 lg:gap-4",children:[a.jsx("button",{onClick:()=>n(!r),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:a.jsx(FB,{className:"w-5 h-5 text-slate-600"})}),a.jsxs("div",{className:"relative group hidden sm:block",children:[a.jsx(tf,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 group-focus-within:text-indigo-500"}),a.jsx("input",{type:"text",placeholder:"Search Current View...",value:c,onChange:H=>u(H.target.value),className:"pl-10 pr-4 py-2 bg-slate-50 border-none rounded-lg text-sm w-40 lg:w-80 focus:ring-2 focus:ring-indigo-100 outline-none transition-all"})]})]}),a.jsxs("div",{className:"flex items-center gap-2 lg:gap-3",children:[a.jsxs("div",{className:"relative",ref:A,children:[a.jsxs("button",{onClick:()=>j(!w),className:`relative p-2 hover:bg-slate-100 rounded-lg transition-colors ${w?"bg-slate-100":""}`,children:[a.jsx(uy,{className:`w-5 h-5 transition-colors ${P>0?"text-indigo-600":"text-slate-600"} ${N?"animate-pulse":""}`}),P>0&&a.jsx("span",{className:"absolute top-1.5 right-1.5 flex h-4 w-4",children:a.jsx("span",{className:`relative inline-flex items-center justify-center rounded-full h-4 w-4 bg-red-500 text-white text-[10px] font-bold border-2 border-white ${N?"animate-pulse":""}`,children:P})})]}),w&&a.jsx(Tve,{notifications:g,onMarkAsRead:R,onMarkAllAsRead:C,onRefresh:()=>O(!0),isRefreshing:N,onClose:()=>j(!1),onViewAll:()=>{t("notifications"),localStorage.setItem("activeTab","notifications")}})]}),a.jsxs("button",{onClick:()=>T("deal"),className:"px-3 lg:px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white text-sm font-semibold rounded-lg flex items-center gap-2 transition-colors shadow-sm whitespace-nowrap",children:[a.jsx(_n,{className:"w-4 h-4 shrink-0"}),a.jsx("span",{className:"hidden sm:inline",children:"Quick Create"})]})]})]}),a.jsx("section",{className:`flex-1 min-h-0 flex flex-col p-4 lg:p-8 pb-20 lg:pb-8 ${e==="inbox"?"overflow-hidden":"overflow-y-auto"}`,children:a.jsx("div",{className:`h-full ${e==="inbox"?"min-h-0 flex flex-col max-w-7xl mx-auto w-full":"max-w-7xl mx-auto"}`,children:Y()})}),a.jsx(Rve,{currentUser:s})]}),m.isOpen&&a.jsx(Fve,{type:m.type,stage:m.stage,onClose:()=>p(H=>({...H,isOpen:!1})),onSuccess:()=>{(m.type==="contact"||m.type==="company")&&window.dispatchEvent(new Event("refresh-crm")),m.type==="deal"&&window.dispatchEvent(new Event("refresh-pipeline")),m.type==="project"&&window.dispatchEvent(new Event("refresh-projects")),m.type==="task"?window.dispatchEvent(new Event("refresh-tasks")):m.type==="invoice"&&window.dispatchEvent(new Event("refresh-invoices"))}}),y.isOpen&&a.jsx(Mve,{event:y.event,selectedDate:y.selectedDate,onClose:B,onSuccess:X}),d&&a.jsxs("div",{className:"fixed inset-0 z-[90] overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm pointer-events-auto animate-in fade-in duration-300",onClick:()=>h(!1)}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4 pointer-events-none",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl pointer-events-auto animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[a.jsx("div",{children:a.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Confirm Logout"})}),a.jsx("button",{onClick:()=>h(!1),className:"p-2 hover:bg-white rounded-full text-slate-400 transition-colors shadow-sm",children:a.jsx(mr,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Are you sure you want to logout from your ImpactFlow workspace?"}),a.jsxs("div",{className:"flex gap-3 pt-2",children:[a.jsx("button",{type:"button",onClick:()=>h(!1),className:"flex-1 py-3 text-sm font-bold text-slate-500 hover:bg-slate-50 rounded-xl transition-colors border border-transparent hover:border-slate-200",children:"Cancel"}),a.jsx("button",{onClick:D,className:"flex-[2] py-3 bg-red-600 text-white text-sm font-bold rounded-xl hover:bg-red-700 transition-all shadow-lg shadow-red-100 flex items-center justify-center gap-2",children:"Logout"})]})]})]})})]})]})})})})};"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker-app.js").then(e=>{console.log("[SW] Service Worker registered successfully:",e.scope),setInterval(()=>{e.update()},6e4)}).catch(e=>{console.warn("[SW] Service Worker registration failed:",e)})});const _9=document.getElementById("root");if(!_9)throw new Error("Could not find root element to mount to");const Hve=hB.createRoot(_9);Hve.render(a.jsx(it.StrictMode,{children:a.jsx(zve,{})}));export{Pa as _,Bg as c,Ia as g};
